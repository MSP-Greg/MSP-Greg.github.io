<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: LibXML::XML::Document &mdash; LibXML RubyÂ master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "LibXML::XML::Document",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>LibXML</a> &raquo; 
      <a href='../../_index.html#alpha_D'>Index (D)</a> &raquo; 
        <a href="../../LibXML.html" title="LibXML (module)">LibXML</a> &raquo; 
        <a href="../XML.html" title="LibXML::XML (module)">XML</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Document&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: LibXML::XML::Document</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L1085'>ext/libxml/ruby_xml_document.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L50'>ext/libxml/ruby_xml_document.c</a>,<br/> <a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L5'>lib/libxml/document.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>Document</code> class provides a tree based API for working with xml documents.  You may directly create a document and manipulate it, or create a document from a data source by using an <a href="Parser.html" title="LibXML::XML::Parser (class)"><code>Parser</code></a> object.</p>

<p>To read a document from a file:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'>Document</span>.<span class='id identifier rubyid_file'><a href="#file-class_method" title="LibXML::XML::Document.file (method)">file</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_file</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>To use a parser to read a document:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_parser'>parser</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span>.<span class='id identifier rubyid_file'><a href="Parser.html#file-class_method" title="LibXML::XML::Parser.file (method)">file</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_file</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_parse'>parse</span></code></pre>

<p>To create a document from scratch:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'>Document</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="LibXML::XML::Document.new (method)">new</a></span>()
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'><a href="#root-instance_method" title="LibXML::XML::Document#root (method)">root</a></span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>root_node</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'><a href="#root-instance_method" title="LibXML::XML::Document#root (method)">root</a></span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>elem1</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_save'><a href="#save-instance_method" title="LibXML::XML::Document#save (method)">save</a></span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_indent'>indent</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span> <span class='op'>=&gt;</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Encoding.html" title="LibXML::XML::Encoding (module)">Encoding</a></span><span class='op'>::</span><span class='const'><a href="Encoding.html#UTF_8-constant" title="LibXML::XML::Encoding::UTF_8 (constant)">UTF_8</a></span>)</code></pre>

<p>To write a document to a file:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'>Document</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="LibXML::XML::Document.new (method)">new</a></span>()
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'><a href="#root-instance_method" title="LibXML::XML::Document#root (method)">root</a></span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>root_node</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'><a href="#root-instance_method" title="LibXML::XML::Document#root (method)">root</a></span>

<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_elem1'>elem1</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>elem1</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_elem1'>elem1</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr1</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>val1</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_elem1'>elem1</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr2</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>val2</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_elem2'>elem2</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>elem2</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_elem2'>elem2</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr1</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>val1</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_elem2'>elem2</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr2</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>val2</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_elem3'>elem3</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>elem3</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_elem3'>elem3</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_elem4'>elem4</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>elem4</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_elem3'>elem3</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_elem5'>elem5</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>elem5</span><span class='tstring_end'>&#39;</span></span>)

<span class='id identifier rubyid_elem5'>elem5</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_elem6'>elem6</span> <span class='op'>=</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span>.<span class='id identifier rubyid_new'><a href="Node.html#new-class_method" title="LibXML::XML::Node.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>elem6</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_elem6'>elem6</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Content for element 6</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_elem3'>elem3</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_save'><a href="#save-instance_method" title="LibXML::XML::Document#save (method)">save</a></span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_indent'>indent</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span> <span class='op'>=&gt;</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Encoding.html" title="LibXML::XML::Encoding (module)">Encoding</a></span><span class='op'>::</span><span class='const'><a href="Encoding.html#UTF_8-constant" title="LibXML::XML::Encoding::UTF_8 (constant)">UTF_8</a></span>)</code></pre>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='XML_C14N_1_0-constant' class='summary_signature'>XML_C14N_1_0 =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Original C14N 1.0 spec</p>

  </div>
</div>
    <a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L1089'># File 'ext/libxml/ruby_xml_document.c', line 1089</a>    <pre class='code c'><span class='const'>INT2NUM</span>(<span class='const'><a href="#XML_C14N_1_0-constant" title="LibXML::XML::Document::XML_C14N_1_0 (constant)">XML_C14N_1_0</a></span>)</pre>
  </li>
  <li>
    <span id='XML_C14N_1_1-constant' class='summary_signature'>XML_C14N_1_1 =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>C14N 1.1 spec</p>

  </div>
</div>
    <a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L1093'># File 'ext/libxml/ruby_xml_document.c', line 1093</a>    <pre class='code c'><span class='const'>INT2NUM</span>(<span class='const'><a href="#XML_C14N_1_1-constant" title="LibXML::XML::Document::XML_C14N_1_1 (constant)">XML_C14N_1_1</a></span>)</pre>
  </li>
  <li>
    <span id='XML_C14N_EXCLUSIVE_1_0-constant' class='summary_signature'>XML_C14N_EXCLUSIVE_1_0 =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Exclusive C14N 1.0 spec</p>

  </div>
</div>
    <a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L1091'># File 'ext/libxml/ruby_xml_document.c', line 1091</a>    <pre class='code c'><span class='const'>INT2NUM</span>(<span class='const'><a href="#XML_C14N_EXCLUSIVE_1_0-constant" title="LibXML::XML::Document::XML_C14N_EXCLUSIVE_1_0 (constant)">XML_C14N_EXCLUSIVE_1_0</a></span>)</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#document-class_method" title="XML::Document.document (class method)"><strong>XML::Document.document</strong>(document)  &#x21d2; Document </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new document based on the specified document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#file-class_method" title="XML::Document.file (class method)"><strong>XML::Document.file</strong>(path)  &#x21d2; Document </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new document from the specified file or uri.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#io-class_method" title="XML::Document.io (class method)"><strong>XML::Document.io</strong>(io)  &#x21d2; Document </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new document from the specified io object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="XML::Document.initialize (class method)"><strong>XML::Document.initialize</strong>(xml_version = 1.0)  &#x21d2; Document </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes a new <code>Document</code>, optionally specifying the <a href="../XML.html" title="LibXML::XML (module)"><code>::LibXML::XML</code></a> version.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#string-class_method" title="XML::Document.string (class method)"><strong>XML::Document.string</strong>(string)  &#x21d2; Document </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new document from the specified string.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#child-instance_method" title="#child (instance method)">#<strong>child</strong>  &#x21d2; node </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get this documentâs child node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#child%3F-instance_method" title="#child? (instance method)">#<strong>child?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether this document has a child node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#compression-instance_method" title="#compression (instance method)">#<strong>compression</strong>  &#x21d2; Numeric </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain this documentâs compression mode identifier.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#compression=-instance_method" title="#compression= (instance method)">#<strong>compression=</strong>(num)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set this documentâs compression mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#compression%3F-instance_method" title="#compression? (instance method)">#<strong>compression?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether this document is compressed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#encoding-instance_method" title="#encoding (instance method)">#<strong>encoding</strong>  &#x21d2; XML::Encoding::UTF_8 </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="../../LibXML.html" title="LibXML (module)"><code>::LibXML</code></a> encoding constant specified by this document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#encoding=-instance_method" title="#encoding= (instance method)">#<strong>encoding=</strong>(XML::Encoding::UTF_8)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the encoding for this document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#last-instance_method" title="#last (instance method)">#<strong>last</strong>  &#x21d2; node </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain the last node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#last%3F-instance_method" title="#last? (instance method)">#<strong>last?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether there is a last node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#next-instance_method" title="#next (instance method)">#<strong>next</strong>  &#x21d2; node </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain the next node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#next%3F-instance_method" title="#next? (instance method)">#<strong>next?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether there is a next node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#parent-instance_method" title="#parent (instance method)">#<strong>parent</strong>  &#x21d2; node </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain the parent node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#parent%3F-instance_method" title="#parent? (instance method)">#<strong>parent?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether there is a parent node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#prev-instance_method" title="#prev (instance method)">#<strong>prev</strong>  &#x21d2; node </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain the previous node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#prev%3F-instance_method" title="#prev? (instance method)">#<strong>prev?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether there is a previous node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#root-instance_method" title="#root (instance method)">#<strong>root</strong>  &#x21d2; node </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain the root node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#root=-instance_method" title="#root= (instance method)">#<strong>root=</strong>(node)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the root node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#standalone%3F-instance_method" title="#standalone? (instance method)">#<strong>standalone?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether this is a standalone document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#xhtml%3F-instance_method" title="#xhtml? (instance method)">#<strong>xhtml?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine whether this is an XHTML document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#docbook_doc%3F-instance_method" title="#docbook_doc? (instance method)">#<strong>docbook_doc?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies if this is an docbook node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#document%3F-instance_method" title="#document? (instance method)">#<strong>document?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies if this is an document node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#html_doc%3F-instance_method" title="#html_doc? (instance method)">#<strong>html_doc?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies if this is an html node.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#canonicalize-instance_method" title="#canonicalize (instance method)">#<strong>canonicalize</strong>(*args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#context-instance_method" title="#context (instance method)">#<strong>context</strong>(namespaces = nil)  &#x21d2; XPath::Context </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <code>XML::XPathContext</code> for the document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#debug-instance_method" title="#debug (instance method)">#<strong>debug</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Print libxml debugging information to stdout.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find-instance_method" title="#find (instance method)">#<strong>find</strong>(xpath, nslist = nil)  &#x21d2; XML::XPath::Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the nodes matching the specified xpath expression,  optionally using the specified namespace.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find_first-instance_method" title="#find_first (instance method)">#<strong>find_first</strong>(xpath, nslist = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the first node matching the specified xpath expression.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#import-instance_method" title="#import (instance method)">#<strong>import</strong>(node)  &#x21d2; XML::Node </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a copy of the node that can be inserted into the current document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#node_type-instance_method" title="#type (instance method)">#<strong>type</strong>  &#x21d2; Numeric </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain this nodeâs type identifier.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#node_type_name-instance_method" title="#node_type_name (instance method)">#<strong>node_type_name</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns this nodeâs type name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#order_elements!-instance_method" title="#order_elements! (instance method)">#<strong>order_elements!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Call this routine to speed up <a href="XPath.html" title="LibXML::XML::XPath (module)"><code>XPath</code></a> computation on static documents.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rb_encoding-instance_method" title="#rb_encoding (instance method)">#<strong>rb_encoding</strong>  &#x21d2; Encoding </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the Ruby encoding specified by this document (available on Ruby 1.9.x and higher).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#save-instance_method" title="#save (instance method)">#<strong>save</strong>(filename)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Saves a document to a file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; &quot;string&quot; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts a document, and all of its children, to a string representation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#url-instance_method" title="#url (instance method)">#<strong>url</strong>  &#x21d2; &quot;url&quot; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain this documentâs source URL, if any.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#validate-instance_method" title="#validate (instance method)">#<strong>validate</strong>(dtd)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Validate this document against the specified <code>XML::DTD</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#validate_relaxng-instance_method" title="#validate_relaxng (instance method)">#<strong>validate_relaxng</strong>(relaxng)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Validate this document against the specified <a href="RelaxNG.html" title="LibXML::XML::RelaxNG (class)"><code>RelaxNG</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#validate_schema-instance_method" title="#validate_schema (instance method)">#<strong>validate_schema</strong>(schema)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Validate this document against the specified <a href="Schema.html" title="LibXML::XML::Schema (class)"><code>Schema</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#version-instance_method" title="#version (instance method)">#<strong>version</strong>  &#x21d2; &quot;version&quot; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Obtain the <a href="../XML.html" title="LibXML::XML (module)"><code>::LibXML::XML</code></a> version specified by this document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#xinclude-instance_method" title="#xinclude (instance method)">#<strong>xinclude</strong>  &#x21d2; Numeric </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Process xinclude directives in this document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#debug_dump-instance_method" title="#debug_dump (instance method)">#<strong>debug_dump</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#debug_dump_head-instance_method" title="#debug_dump_head (instance method)">#<strong>debug_dump_head</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#debug_format_dump-instance_method" title="#debug_format_dump (instance method)">#<strong>debug_format_dump</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#dump-instance_method" title="#dump (instance method)">#<strong>dump</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#format_dump-instance_method" title="#format_dump (instance method)">#<strong>format_dump</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#reader-instance_method" title="#reader (instance method)">#<strong>reader</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    <strong>XML::Document.initialize</strong>(xml_version = 1.0)  &#x21d2; <code>Document</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initializes a new <code>Document</code>, optionally specifying the <a href="../XML.html" title="LibXML::XML (module)"><code>::LibXML::XML</code></a> version.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L106-L131'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='106' data-end='131'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 106</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_initialize(int argc, VALUE *argv, VALUE self)
{
  xmlDocPtr xdoc;
  VALUE xmlver;

  switch (argc)
  {
  case 0:
    xmlver = rb_str_new2(&quot;1.0&quot;);
    break;
  case 1:
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;xmlver);
    break;
  default:
    rb_raise(rb_eArgError, &quot;wrong number of arguments (need 0 or 1)&quot;);
  }

  Check_Type(xmlver, T_STRING);
  xdoc = xmlNewDoc((xmlChar*) StringValuePtr(xmlver));

  // Link the ruby object to the document and the document to the ruby object
  RDATA(self)-&gt;data = xdoc;
  xdoc-&gt;_private = (void*)self;

  return self;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="document-class_method">
  <h3 class='signature  first'>
    <strong>XML::Document.document</strong>(document)  &#x21d2; <code>Document</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new document based on the specified document.</p>

<p>Parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_document'>document</span> <span class='op'>-</span> <span class='const'>A</span> <span class='id identifier rubyid_preparsed'>preparsed</span> <span class='id identifier rubyid_document'>document</span>.</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L14-L16'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='14' data-end='16'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 14</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_document'>document</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span>.<span class='id identifier rubyid_document'><a href="Parser.html#document-class_method" title="LibXML::XML::Parser.document (method)">document</a></span>(<span class='id identifier rubyid_value'>value</span>).<span class='id identifier rubyid_parse'><a href="Parser.html#parse-instance_method" title="LibXML::XML::Parser#parse (method)">parse</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="file-class_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'><strong>XML::Document.file</strong>(path)  &#x21d2; <code>Document</code> </span>
      <span class='overload'><strong>XML::Document.file</strong>(path, encoding: XML::Encoding::UTF_8)  </span>
      <span class='overload'>.<strong>options</strong>  &#x21d2; <code>Document</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new document from the specified file or uri.</p>

<p>Parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_path'>path</span> <span class='op'>-</span> <span class='const'>Path</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_file'>file</span>
<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span> <span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_document'><a href="#document-class_method" title="LibXML::XML::Document.document (method)">document</a></span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span><span class='comma'>,</span> <span class='id identifier rubyid_defaults'>defaults</span> <span class='id identifier rubyid_to'>to</span> <span class='kw'>nil</span>. <span class='const'>Valid</span> <span class='id identifier rubyid_values'>values</span>
           <span class='id identifier rubyid_are'>are</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span> <span class='id identifier rubyid_constants'>constants</span> <span class='id identifier rubyid_defined'>defined</span> <span class='id identifier rubyid_on'>on</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Encoding.html" title="LibXML::XML::Encoding (module)">Encoding</a></span>.
<span class='id identifier rubyid_options'>options</span> <span class='op'>-</span> <span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span> <span class='id identifier rubyid_options'>options</span>.  <span class='const'>Valid</span> <span class='id identifier rubyid_values'>values</span> <span class='id identifier rubyid_are'>are</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_constants'>constants</span> <span class='id identifier rubyid_defined'>defined</span> <span class='id identifier rubyid_on'>on</span>
          <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span><span class='op'>::</span><span class='const'><a href="Parser/Options.html" title="LibXML::XML::Parser::Options (module)">Options</a></span>.  <span class='const'>Mutliple</span> <span class='id identifier rubyid_options'>options</span> <span class='id identifier rubyid_can'>can</span> <span class='id identifier rubyid_be'>be</span> <span class='id identifier rubyid_combined'>combined</span>
          <span class='id identifier rubyid_by'>by</span> <span class='id identifier rubyid_using'>using</span> <span class='const'>Bitwise</span> <span class='const'>OR</span> (<span class='op'>|</span>).</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L33-L35'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='33' data-end='35'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 33</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_file'>file</span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>options:</span> <span class='kw'>nil</span>)
  <span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span>.<span class='id identifier rubyid_file'><a href="Parser.html#file-class_method" title="LibXML::XML::Parser.file (method)">file</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span><span class='comma'>,</span> <span class='label'>options:</span> <span class='id identifier rubyid_options'>options</span>).<span class='id identifier rubyid_parse'><a href="Parser.html#parse-instance_method" title="LibXML::XML::Parser#parse (method)">parse</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="io-class_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'><strong>XML::Document.io</strong>(io)  &#x21d2; <code>Document</code> </span>
      <span class='overload'><strong>XML::Document.io</strong>(io, :encoding)  &#x21d2; <a href="Encoding.html#UTF_8-constant" title="LibXML::XML::Encoding::UTF_8 (constant)">XML::Encoding::UTF_8</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new document from the specified io object.</p>

<p>Parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_io'>io</span> <span class='op'>-</span> <span class='id identifier rubyid_io'>io</span> <span class='id identifier rubyid_object'>object</span> <span class='id identifier rubyid_that'>that</span> <span class='id identifier rubyid_contains'>contains</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_xml'>xml</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_parser'>parser</span>
<span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_base'>base</span> <span class='id identifier rubyid_url'><a href="#url-instance_method" title="LibXML::XML::Document#url (method)">url</a></span> <span class='kw'>for</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_parsed'>parsed</span> <span class='id identifier rubyid_document'><a href="#document-class_method" title="LibXML::XML::Document.document (method)">document</a></span>.
<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span> <span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_document'><a href="#document-class_method" title="LibXML::XML::Document.document (method)">document</a></span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span><span class='comma'>,</span> <span class='id identifier rubyid_defaults'>defaults</span> <span class='id identifier rubyid_to'>to</span> <span class='kw'>nil</span>. <span class='const'>Valid</span> <span class='id identifier rubyid_values'>values</span>
           <span class='id identifier rubyid_are'>are</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span> <span class='id identifier rubyid_constants'>constants</span> <span class='id identifier rubyid_defined'>defined</span> <span class='id identifier rubyid_on'>on</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Encoding.html" title="LibXML::XML::Encoding (module)">Encoding</a></span>.
<span class='id identifier rubyid_options'>options</span> <span class='op'>-</span> <span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span> <span class='id identifier rubyid_options'>options</span>.  <span class='const'>Valid</span> <span class='id identifier rubyid_values'>values</span> <span class='id identifier rubyid_are'>are</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_constants'>constants</span> <span class='id identifier rubyid_defined'>defined</span> <span class='id identifier rubyid_on'>on</span>
          <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span><span class='op'>::</span><span class='const'><a href="Parser/Options.html" title="LibXML::XML::Parser::Options (module)">Options</a></span>.  <span class='const'>Mutliple</span> <span class='id identifier rubyid_options'>options</span> <span class='id identifier rubyid_can'>can</span> <span class='id identifier rubyid_be'>be</span> <span class='id identifier rubyid_combined'>combined</span>
          <span class='id identifier rubyid_by'>by</span> <span class='id identifier rubyid_using'>using</span> <span class='const'>Bitwise</span> <span class='const'>OR</span> (<span class='op'>|</span>).</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L54-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='54' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 54</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_io'>io</span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='label'>base_uri:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>options:</span> <span class='kw'>nil</span>)
  <span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span>.<span class='id identifier rubyid_io'><a href="Parser.html#io-class_method" title="LibXML::XML::Parser.io (method)">io</a></span>(<span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='label'>base_uri:</span> <span class='id identifier rubyid_base_uri'>base_uri</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span><span class='comma'>,</span> <span class='label'>options:</span> <span class='id identifier rubyid_options'>options</span>).<span class='id identifier rubyid_parse'><a href="Parser.html#parse-instance_method" title="LibXML::XML::Parser#parse (method)">parse</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="string-class_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'><strong>XML::Document.string</strong>(string)  &#x21d2; <code>Document</code> </span>
      <span class='overload'><strong>XML::Document.string</strong>(string, encoding: XML::Encoding::UTF_8)  </span>
      <span class='overload'>.<strong>options</strong>  </span>
      <span class='overload'>.<strong>base_uri</strong>  &#x21d2; <code>Document</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new document from the specified string.</p>

<p>Parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='op'>-</span> <span class='const'>String</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_parse'>parse</span>
<span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_base'>base</span> <span class='id identifier rubyid_url'><a href="#url-instance_method" title="LibXML::XML::Document#url (method)">url</a></span> <span class='kw'>for</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_parsed'>parsed</span> <span class='id identifier rubyid_document'><a href="#document-class_method" title="LibXML::XML::Document.document (method)">document</a></span>.
<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span> <span class='op'>-</span> <span class='const'>The</span> <span class='id identifier rubyid_document'><a href="#document-class_method" title="LibXML::XML::Document.document (method)">document</a></span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span><span class='comma'>,</span> <span class='id identifier rubyid_defaults'>defaults</span> <span class='id identifier rubyid_to'>to</span> <span class='kw'>nil</span>. <span class='const'>Valid</span> <span class='id identifier rubyid_values'>values</span>
           <span class='id identifier rubyid_are'>are</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span> <span class='id identifier rubyid_constants'>constants</span> <span class='id identifier rubyid_defined'>defined</span> <span class='id identifier rubyid_on'>on</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Encoding.html" title="LibXML::XML::Encoding (module)">Encoding</a></span>.
<span class='id identifier rubyid_options'>options</span>  <span class='op'>-</span> <span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span> <span class='id identifier rubyid_options'>options</span>.  <span class='const'>Valid</span> <span class='id identifier rubyid_values'>values</span> <span class='id identifier rubyid_are'>are</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_constants'>constants</span> <span class='id identifier rubyid_defined'>defined</span> <span class='id identifier rubyid_on'>on</span>
           <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span><span class='op'>::</span><span class='const'><a href="Parser/Options.html" title="LibXML::XML::Parser::Options (module)">Options</a></span>.  <span class='const'>Mutliple</span> <span class='id identifier rubyid_options'>options</span> <span class='id identifier rubyid_can'>can</span> <span class='id identifier rubyid_be'>be</span> <span class='id identifier rubyid_combined'>combined</span>
           <span class='id identifier rubyid_by'>by</span> <span class='id identifier rubyid_using'>using</span> <span class='const'>Bitwise</span> <span class='const'>OR</span> (<span class='op'>|</span>).</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L75-L77'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='75' data-end='77'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 75</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_string'>string</span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='label'>base_uri:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>options:</span> <span class='kw'>nil</span>)
  <span class='const'><a href="Parser.html" title="LibXML::XML::Parser (class)">Parser</a></span>.<span class='id identifier rubyid_string'><a href="Parser.html#string-class_method" title="LibXML::XML::Parser.string (method)">string</a></span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='label'>base_uri:</span> <span class='id identifier rubyid_base_uri'>base_uri</span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">encoding</a></span><span class='comma'>,</span> <span class='label'>options:</span> <span class='id identifier rubyid_options'>options</span>).<span class='id identifier rubyid_parse'><a href="Parser.html#parse-instance_method" title="LibXML::XML::Parser#parse (method)">parse</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="child-instance_method">
  <h3 class='signature ro first'>
    #<strong>child</strong>  &#x21d2; <code>node</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get this documentâs child node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L419-L428'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='419' data-end='428'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 419</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_child_get(VALUE self)
{
  xmlDocPtr xdoc;
  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;children == NULL)
    return (Qnil);

  return rxml_node_wrap(xdoc-&gt;children);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="child?-instance_method">
  <h3 class='signature ro'>
    #<strong>child?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether this document has a child node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L436-L445'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='436' data-end='445'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 436</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_child_q(VALUE self)
{
  xmlDocPtr xdoc;
  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;children == NULL)
    return (Qfalse);
  else
    return (Qtrue);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compression-instance_method">
  <h3 class='signature rw'>
    #<strong>compression</strong>  &#x21d2; <code>Numeric</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain this documentâs compression mode identifier.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L336-L353'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='336' data-end='353'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 336</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_compression_get(VALUE self)
{
#ifdef HAVE_ZLIB_H
  xmlDocPtr xdoc;

  int compmode;
  Data_Get_Struct(self, xmlDoc, xdoc);

  compmode = xmlGetDocCompressMode(xdoc);
  if (compmode == -1)
  return(Qnil);
  else
  return(INT2NUM(compmode));
#else
  rb_warn(&quot;libxml not compiled with zlib support&quot;);
  return (Qfalse);
#endif
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compression=-instance_method">
  <h3 class='signature rw'>
    #<strong>compression=</strong>(num)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set this documentâs compression mode.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L361-L388'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='361' data-end='388'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 361</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_compression_set(VALUE self, VALUE num)
{
#ifdef HAVE_ZLIB_H
  xmlDocPtr xdoc;

  int compmode;
  Check_Type(num, T_FIXNUM);
  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc == NULL)
  {
    return(Qnil);
  }
  else
  {
    xmlSetDocCompressMode(xdoc, NUM2INT(num));

    compmode = xmlGetDocCompressMode(xdoc);
    if (compmode == -1)
    return(Qnil);
    else
    return(INT2NUM(compmode));
  }
#else
  rb_warn(&quot;libxml compiled without zlib support&quot;);
  return (Qfalse);
#endif
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compression?-instance_method">
  <h3 class='signature rw'>
    #<strong>compression?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether this document is compressed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L396-L411'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='396' data-end='411'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 396</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_compression_q(VALUE self)
{
#ifdef HAVE_ZLIB_H
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;compression != -1)
  return(Qtrue);
  else
  return(Qfalse);
#else
  rb_warn(&quot;libxml compiled without zlib support&quot;);
  return (Qfalse);
#endif
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="docbook_doc?-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>docbook_doc?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies if this is an docbook node</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L154-L156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='154' data-end='156'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 154</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_docbook_doc?'>docbook_doc?</span>
  <span class='id identifier rubyid_node_type'><a href="#node_type-instance_method" title="LibXML::XML::Document#node_type (method)">node_type</a></span> <span class='op'>==</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node.html#DOCB_DOCUMENT_NODE-constant" title="LibXML::XML::Node::DOCB_DOCUMENT_NODE (constant)">DOCB_DOCUMENT_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="document?-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>document?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies if this is an document node</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L149-L151'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='149' data-end='151'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 149</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_document?'>document?</span>
  <span class='id identifier rubyid_node_type'><a href="#node_type-instance_method" title="LibXML::XML::Document#node_type (method)">node_type</a></span> <span class='op'>==</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node.html#DOCUMENT_NODE-constant" title="LibXML::XML::Node::DOCUMENT_NODE (constant)">DOCUMENT_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encoding-instance_method">
  <h3 class='signature rw'>
    #<strong>encoding</strong>  &#x21d2; <a href="Encoding.html#UTF_8-constant" title="LibXML::XML::Encoding::UTF_8 (constant)">XML::Encoding::UTF_8</a>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="../../LibXML.html" title="LibXML (module)"><code>::LibXML</code></a> encoding constant specified by this document.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L474-L482'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='474' data-end='482'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 474</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_encoding_get(VALUE self)
{
  xmlDocPtr xdoc;
  const char *xencoding;
  Data_Get_Struct(self, xmlDoc, xdoc);

  xencoding = (const char*)xdoc-&gt;encoding;
  return INT2NUM(xmlParseCharEncoding(xencoding));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encoding=-instance_method">
  <h3 class='signature rw'>
    #<strong>encoding=</strong>(XML::Encoding::UTF_8)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the encoding for this document.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L508-L520'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='508' data-end='520'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 508</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_encoding_set(VALUE self, VALUE encoding)
{
  xmlDocPtr xdoc;
  const char* xencoding = xmlGetCharEncodingName((xmlCharEncoding)NUM2INT(encoding));

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;encoding != NULL)
    xmlFree((xmlChar *) xdoc-&gt;encoding);

  xdoc-&gt;encoding = xmlStrdup((xmlChar *)xencoding);
  return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="html_doc?-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>html_doc?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies if this is an html node</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L159-L161'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='159' data-end='161'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 159</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_html_doc?'>html_doc?</span>
  <span class='id identifier rubyid_node_type'><a href="#node_type-instance_method" title="LibXML::XML::Document#node_type (method)">node_type</a></span> <span class='op'>==</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node.html#HTML_DOCUMENT_NODE-constant" title="LibXML::XML::Node::HTML_DOCUMENT_NODE (constant)">HTML_DOCUMENT_NODE</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="last-instance_method">
  <h3 class='signature ro'>
    #<strong>last</strong>  &#x21d2; <code>node</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain the last node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L556-L566'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='556' data-end='566'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 556</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_last_get(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;last == NULL)
    return (Qnil);

  return rxml_node_wrap(xdoc-&gt;last);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="last?-instance_method">
  <h3 class='signature ro'>
    #<strong>last?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether there is a last node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L574-L584'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='574' data-end='584'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 574</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_last_q(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;last == NULL)
    return (Qfalse);
  else
    return (Qtrue);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next-instance_method">
  <h3 class='signature ro'>
    #<strong>next</strong>  &#x21d2; <code>node</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain the next node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L592-L602'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='592' data-end='602'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 592</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_next_get(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;next == NULL)
    return (Qnil);

  return rxml_node_wrap(xdoc-&gt;next);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next?-instance_method">
  <h3 class='signature ro'>
    #<strong>next?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether there is a next node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L610-L620'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='610' data-end='620'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 610</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_next_q(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;next == NULL)
    return (Qfalse);
  else
    return (Qtrue);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parent-instance_method">
  <h3 class='signature ro'>
    #<strong>parent</strong>  &#x21d2; <code>node</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain the parent node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L641-L651'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='641' data-end='651'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 641</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_parent_get(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;parent == NULL)
    return (Qnil);

  return rxml_node_wrap(xdoc-&gt;parent);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parent?-instance_method">
  <h3 class='signature ro'>
    #<strong>parent?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether there is a parent node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L659-L669'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='659' data-end='669'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 659</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_parent_q(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;parent == NULL)
    return (Qfalse);
  else
    return (Qtrue);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prev-instance_method">
  <h3 class='signature ro'>
    #<strong>prev</strong>  &#x21d2; <code>node</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain the previous node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L677-L687'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='677' data-end='687'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 677</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_prev_get(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;prev == NULL)
    return (Qnil);

  return rxml_node_wrap(xdoc-&gt;prev);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prev?-instance_method">
  <h3 class='signature ro'>
    #<strong>prev?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether there is a previous node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L695-L705'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='695' data-end='705'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 695</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_prev_q(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);

  if (xdoc-&gt;prev == NULL)
    return (Qfalse);
  else
    return (Qtrue);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="root-instance_method">
  <h3 class='signature rw'>
    #<strong>root</strong>  &#x21d2; <code>node</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain the root node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L713-L725'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='713' data-end='725'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 713</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_root_get(VALUE self)
{
  xmlDocPtr xdoc;
  xmlNodePtr root;

  Data_Get_Struct(self, xmlDoc, xdoc);
  root = xmlDocGetRootElement(xdoc);

  if (root == NULL)
    return (Qnil);

  return rxml_node_wrap(root);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="root=-instance_method">
  <h3 class='signature rw'>
    #<strong>root=</strong>(node)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the root node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L733-L753'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='733' data-end='753'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 733</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_root_set(VALUE self, VALUE node)
{
  xmlDocPtr xdoc;
  xmlNodePtr xnode;

  if (rb_obj_is_kind_of(node, cXMLNode) == Qfalse)
    rb_raise(rb_eTypeError, &quot;must pass an XML::Node type object&quot;);

  Data_Get_Struct(self, xmlDoc, xdoc);
  Data_Get_Struct(node, xmlNode, xnode);

  if (xnode-&gt;doc != NULL &amp;&amp; xnode-&gt;doc != xdoc)
    rb_raise(eXMLError, &quot;Nodes belong to different documents.  You must first import the node by calling LibXML::XML::Document.import&quot;);

  xmlDocSetRootElement(xdoc, xnode);

  // Ruby no longer manages this nodes memory
  rxml_node_unmanage(xnode, node);

  return node;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="standalone?-instance_method">
  <h3 class='signature ro'>
    #<strong>standalone?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether this is a standalone document.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L822-L831'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='822' data-end='831'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 822</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_standalone_q(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);
  if (xdoc-&gt;standalone)
    return (Qtrue);
  else
    return (Qfalse);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="xhtml?-instance_method">
  <h3 class='signature ro'>
    #<strong>xhtml?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine whether this is an XHTML document.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L928-L938'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='928' data-end='938'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 928</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_xhtml_q(VALUE self)
{
  xmlDocPtr xdoc;
	xmlDtdPtr xdtd;
  Data_Get_Struct(self, xmlDoc, xdoc);
	xdtd = xmlGetIntSubset(xdoc);
  if (xdtd != NULL &amp;&amp; xmlIsXHTML(xdtd-&gt;SystemID, xdtd-&gt;ExternalID) &gt; 0)
    return (Qtrue);
  else
    return (Qfalse);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="canonicalize-instance_method">
  <h3 class='signature  first'>
    #<strong>canonicalize</strong>(*args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L183-L327'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='183' data-end='327'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 183</span></pre>
<pre class='code cpp'>

static VALUE
rxml_document_canonicalize(int argc, VALUE *argv, VALUE self)
{
  VALUE result = Qnil;
  xmlDocPtr xdoc;
  xmlChar *buffer = NULL;
  VALUE option_hash = Qnil;
  VALUE o_nodes = Qnil;

  // :comments option
  int comments = 0;
  // :mode option
  int c14n_mode = XML_C14N_1_0;
  // :inclusive_ns_prefixes option (ARRAY)

  xmlChar * inc_ns_prefixes_ptr[C14N_NS_LIMIT];

  // :nodes option (ARRAY)
  xmlNodePtr  node_ptr_array[C14N_NODESET_LIMIT];
  xmlNodeSet nodeset = {
    0, C14N_NODESET_LIMIT, NULL
  };

  /* At least one NULL value must be defined in the array or the extension will
   * segfault when using XML_C14N_EXCLUSIVE_1_0 mode.
   * API docs: &quot;list of inclusive namespace prefixes ended with a NULL&quot;
   */
  inc_ns_prefixes_ptr[0] = NULL;

  rb_scan_args(argc, argv, &quot;01&quot;, &amp;option_hash);
  // Do stuff if ruby hash passed as argument
  if (!NIL_P(option_hash)) 
  {
	VALUE o_comments = Qnil;
	VALUE o_mode = Qnil;
	VALUE o_i_ns_prefixes = Qnil;
		
    Check_Type(option_hash, T_HASH);

    o_comments = rb_hash_aref(option_hash, ID2SYM(rb_intern(&quot;comments&quot;)));
    comments = (RTEST(o_comments) ? 1 : 0);

    o_mode = rb_hash_aref(option_hash, ID2SYM(rb_intern(&quot;mode&quot;)));
    if (!NIL_P(o_mode)) 
	{
      Check_Type(o_mode, T_FIXNUM);
      c14n_mode = NUM2INT(o_mode);
      //TODO: clean this up
      //if (c14n_mode &gt; 2) { c14n_mode = 0; }
      //mode_int = (NUM2INT(o_mode) &gt; 2 ? 0 : NUM2INT(o_mode));
    }

    o_i_ns_prefixes = rb_hash_aref(option_hash, ID2SYM(rb_intern(&quot;inclusive_ns_prefixes&quot;)));
    if (!NIL_P(o_i_ns_prefixes)) 
	{
      int i;
      int p = 0; //pointer array index
      VALUE *list_in = NULL;
      long list_size = 0;

	  Check_Type(o_i_ns_prefixes, T_ARRAY);
      list_in = RARRAY_PTR(o_i_ns_prefixes);
      list_size = RARRAY_LEN(o_i_ns_prefixes);

      if (list_size &gt; 0) 
	  {
        for(i=0; i &lt; list_size; ++i) {
          if (p &gt;= C14N_NS_LIMIT) { break; }

          if (RTEST(list_in[i])) 
		  {
            if (TYPE(list_in[i]) == T_STRING) 
			{
              inc_ns_prefixes_ptr[p] = (xmlChar *)StringValueCStr(list_in[i]);
              p++;
            }
          }
        }
      }

      // ensure p is not out of bound
      p = (p &gt;= C14N_NS_LIMIT ? (C14N_NS_LIMIT-1) : p);

      // API docs: &quot;list of inclusive namespace prefixes ended with a NULL&quot;
      // Set last element to NULL
      inc_ns_prefixes_ptr[p] = NULL;
    }
    //o_ns_prefixes will free at end of block

    o_nodes = rb_hash_aref(option_hash, ID2SYM(rb_intern(&quot;nodes&quot;)));
    if (!NIL_P(o_nodes)) 
	{
      int i;
      int p = 0; // index of pointer array
      VALUE * list_in = NULL;
      long node_list_size = 0;

	  if (CLASS_OF(o_nodes) == cXMLXPathObject)
	  {
		  o_nodes = rb_funcall(o_nodes, rb_intern(&quot;to_a&quot;), 0);
	  }
	  else
	  {
		  Check_Type(o_nodes, T_ARRAY);
	  }
      list_in = RARRAY_PTR(o_nodes);
      node_list_size = RARRAY_LEN(o_nodes);

      for (i=0; i &lt; node_list_size; ++i)
	  {
        if (p &gt;= C14N_NODESET_LIMIT) { break; }

        if (RTEST(list_in[i])) 
		{
          xmlNodePtr node_ptr;
          Data_Get_Struct(list_in[i], xmlNode, node_ptr);
          node_ptr_array[p] = node_ptr;
          p++;
        }
      }

      // Need to set values in nodeset struct
      nodeset.nodeNr = (node_list_size &gt; C14N_NODESET_LIMIT ?
                        C14N_NODESET_LIMIT :
                        (int)node_list_size);
      nodeset.nodeTab = node_ptr_array;
    }
  }//option_hash

  Data_Get_Struct(self, xmlDoc, xdoc);
  xmlC14NDocDumpMemory(xdoc,
                       (nodeset.nodeNr == 0 ? NULL : &amp;nodeset),
                       c14n_mode,
                       inc_ns_prefixes_ptr,
                       comments,
                       &amp;buffer);

  if (buffer)
  {
    result = rxml_new_cstr( buffer, NULL);
    xmlFree(buffer);
  }

  return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="context-instance_method">
  <h3 class='signature '>
    #<strong>context</strong>(namespaces = nil)  &#x21d2; <a href="XPath/Context.html" title="LibXML::XML::XPath::Context (class)">XPath::Context</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new <code>XML::XPathContext</code> for the document.</p>

<p><a href="Namespaces.html" title="LibXML::XML::Namespaces (class)"><code>Namespaces</code></a> is an optional array of <code>XML::NS</code> objects</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L85-L91'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='85' data-end='91'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 85</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_context'>context</span>(<span class='id identifier rubyid_nslist'>nslist</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'><a href="XPath.html" title="LibXML::XML::XPath (module)">XPath</a></span><span class='op'>::</span><span class='const'><a href="XPath/Context.html" title="LibXML::XML::XPath::Context (class)">Context</a></span>.<span class='id identifier rubyid_new'><a href="XPath/Context.html#new-class_method" title="LibXML::XML::XPath::Context.new (method)">new</a></span>(<span class='kw'>self</span>)
  <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>
  <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_register_namespaces_from_node'>register_namespaces_from_node</span>(<span class='kw'>self</span>.<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>)
  <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_register_namespaces'>register_namespaces</span>(<span class='id identifier rubyid_nslist'>nslist</span>) <span class='kw'>if</span> <span class='id identifier rubyid_nslist'>nslist</span>
  <span class='id identifier rubyid_context'>context</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug-instance_method">
  <h3 class='signature '>
    #<strong>debug</strong>  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Print libxml debugging information to stdout. Requires that libxml was compiled with debugging enabled.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L455-L466'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='455' data-end='466'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 455</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_debug(VALUE self)
{
#ifdef LIBXML_DEBUG_ENABLED
  xmlDocPtr xdoc;
  Data_Get_Struct(self, xmlDoc, xdoc);
  xmlDebugDumpDocument(NULL, xdoc);
  return Qtrue;
#else
  rb_warn(&quot;libxml was compiled without debugging support.&quot;);
  return Qfalse;
#endif
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_dump-instance_method">
  <h3 class='signature nodoc'>
    #<strong>debug_dump</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L173-L176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='173' data-end='176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 173</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_dump'>debug_dump</span>
  <span class='id identifier rubyid_warn'>warn</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Document#debug_dump is deprecated.  Use Document#debug instead.</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_debug'><a href="#debug-instance_method" title="LibXML::XML::Document#debug (method)">debug</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_dump_head-instance_method">
  <h3 class='signature nodoc'>
    #<strong>debug_dump_head</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L178-L181'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='178' data-end='181'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 178</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_dump_head'>debug_dump_head</span>
  <span class='id identifier rubyid_warn'>warn</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Document#debug_dump_head is deprecated.  Use Document#debug instead.</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_debug'><a href="#debug-instance_method" title="LibXML::XML::Document#debug (method)">debug</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_format_dump-instance_method">
  <h3 class='signature nodoc'>
    #<strong>debug_format_dump</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L183-L186'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='183' data-end='186'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 183</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_format_dump'>debug_format_dump</span>
  <span class='id identifier rubyid_warn'>warn</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Document#debug_format_dump is deprecated.  Use Document#to_s instead.</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="LibXML::XML::Document#to_s (method)">to_s</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump-instance_method">
  <h3 class='signature nodoc'>
    #<strong>dump</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L163-L166'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='163' data-end='166'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 163</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dump'>dump</span>
  <span class='id identifier rubyid_warn'>warn</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Document#dump is deprecated.  Use Document#to_s instead.</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="LibXML::XML::Document#to_s (method)">to_s</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find-instance_method">
  <h3 class='signature '>
    #<strong>find</strong>(xpath, nslist = nil)  &#x21d2; <a href="XPath/Object.html" title="LibXML::XML::XPath::Object (class)">XML::XPath::Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the nodes matching the specified xpath expression, optionally using the specified namespace.  For more information about working with namespaces, please refer to the <a href="XPath.html" title="LibXML::XML::XPath (module)"><code>XPath</code></a> documentation.</p>

<p>Parameters:</p>
<ul><li>
<p>xpath - The xpath expression as a string</p>
</li><li>
<p>namespaces - An optional list of namespaces (see <a href="XPath.html" title="LibXML::XML::XPath (module)"><code>XPath</code></a> for information).</p>
</li></ul>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_document'><a href="#document-class_method" title="LibXML::XML::Document.document (method)">document</a></span>.<span class='id identifier rubyid_find'>find</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xlink:http://www.w3.org/1999/xlink</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>IMPORTANT - The returned <code>XML::Node::Set</code> must be freed before its associated document.  In a running Ruby program this will happen automatically via Rubyâs mark and sweep garbage collector. However, if the program exits, Ruby does not guarantee the order in which objects are freed (see <a href="http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-core/17700">blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-core/17700</a>). As a result, the associated document may be freed before the node list, which will cause a segmentation fault. To avoid this, use the following (non-ruby like) coding style:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_nodes'>nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_find'>find</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/header</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_nodes'>nodes</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span>
  <span class='comment'>#... do stuff ...
</span><span class='kw'>end</span></code></pre>

<h4 id="label-nodes+-3D+nil+-23++-7BGC.start-7D">nodes = nil #  <code>GC.start</code></h4>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L122-L124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='122' data-end='124'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 122</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find'>find</span>(<span class='id identifier rubyid_xpath'>xpath</span><span class='comma'>,</span> <span class='id identifier rubyid_nslist'>nslist</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_context'><a href="#context-instance_method" title="LibXML::XML::Document#context (method)">context</a></span>(<span class='id identifier rubyid_nslist'>nslist</span>).<span class='id identifier rubyid_find'>find</span>(<span class='id identifier rubyid_xpath'>xpath</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find_first-instance_method">
  <h3 class='signature '>
    #<strong>find_first</strong>(xpath, nslist = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the first node matching the specified xpath expression. For more information, please refer to the documentation for <a href="#find-instance_method" title="LibXML::XML::Document#find (method)">#find</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L129-L131'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='129' data-end='131'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 129</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find_first'>find_first</span>(<span class='id identifier rubyid_xpath'>xpath</span><span class='comma'>,</span> <span class='id identifier rubyid_nslist'>nslist</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_find'><a href="#find-instance_method" title="LibXML::XML::Document#find (method)">find</a></span>(<span class='id identifier rubyid_xpath'>xpath</span><span class='comma'>,</span> <span class='id identifier rubyid_nslist'>nslist</span>).<span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="format_dump-instance_method">
  <h3 class='signature nodoc'>
    #<strong>format_dump</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L168-L171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='168' data-end='171'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 168</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_format_dump'>format_dump</span>
  <span class='id identifier rubyid_warn'>warn</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Document#format_dump is deprecated.  Use Document#to_s instead.</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="LibXML::XML::Document#to_s (method)">to_s</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="import-instance_method">
  <h3 class='signature '>
    #<strong>import</strong>(node)  &#x21d2; <a href="Node.html" title="LibXML::XML::Node (class)">XML::Node</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a copy of the node that can be inserted into the current document.</p>

<p>IMPORTANT - The returned node MUST be inserted into the document. This is because the returned node refereces internal <a href="../../LibXML.html" title="LibXML (module)"><code>::LibXML</code></a> data structures owned by the document.  Therefore, if the document is is freed before the the node is freed a segmentation fault will occur.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L534-L548'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='534' data-end='548'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 534</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_import(VALUE self, VALUE node)
{
  xmlDocPtr xdoc;
  xmlNodePtr xnode, xresult;

  Data_Get_Struct(self, xmlDoc, xdoc);
  Data_Get_Struct(node, xmlNode, xnode);

  xresult = xmlDocCopyNode(xnode, xdoc, 1);

  if (xresult == NULL)
    rxml_raise(xmlGetLastError());

  return rxml_node_wrap(xresult);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="node_type-instance_method">
  <h3 class='signature '>
    #<strong>type</strong>  &#x21d2; <code>Numeric</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain this nodeâs type identifier.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L628-L633'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='628' data-end='633'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 628</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_node_type(VALUE self)
{
  xmlNodePtr xnode;
  Data_Get_Struct(self, xmlNode, xnode);
  return (INT2NUM(xnode-&gt;type));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="node_type_name-instance_method">
  <h3 class='signature '>
    #<strong>node_type_name</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns this nodeâs type name</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L134-L145'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='134' data-end='145'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 134</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_node_type_name'>node_type_name</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_node_type'><a href="#node_type-instance_method" title="LibXML::XML::Document#node_type (method)">node_type</a></span>
  <span class='kw'>when</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node.html#DOCUMENT_NODE-constant" title="LibXML::XML::Node::DOCUMENT_NODE (constant)">DOCUMENT_NODE</a></span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>document_xml</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node.html#DOCB_DOCUMENT_NODE-constant" title="LibXML::XML::Node::DOCB_DOCUMENT_NODE (constant)">DOCB_DOCUMENT_NODE</a></span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>document_docbook</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="LibXML::XML::Node (class)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node.html#HTML_DOCUMENT_NODE-constant" title="LibXML::XML::Node::HTML_DOCUMENT_NODE (constant)">HTML_DOCUMENT_NODE</a></span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>document_html</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span>(<span class='const'>UnknownType</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown node type: %n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_node_type'><a href="#node_type-instance_method" title="LibXML::XML::Document#node_type (method)">node_type</a></span>)<span class='semicolon'>;</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="order_elements!-instance_method">
  <h3 class='signature '>
    #<strong>order_elements!</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Call this routine to speed up <a href="XPath.html" title="LibXML::XML::XPath (module)"><code>XPath</code></a> computation on static documents. This stamps all the element nodes with the document order.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L978-L984'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='978' data-end='984'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 978</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_order_elements(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);
  return LONG2FIX(xmlXPathOrderDocElems(xdoc));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rb_encoding-instance_method">
  <h3 class='signature '>
    #<strong>rb_encoding</strong>  &#x21d2; <a href="Encoding.html" title="LibXML::XML::Encoding (module)">Encoding</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the Ruby encoding specified by this document (available on Ruby 1.9.x and higher).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L492-L500'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='492' data-end='500'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 492</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_rb_encoding_get(VALUE self)
{
  xmlDocPtr xdoc;
  rb_encoding* rbencoding;
  Data_Get_Struct(self, xmlDoc, xdoc);

  rbencoding = rxml_xml_encoding_to_rb_encoding(mXMLEncoding, xmlParseCharEncoding((const char*)xdoc-&gt;encoding));
  return rb_enc_from_encoding(rbencoding);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reader-instance_method">
  <h3 class='signature nodoc'>
    #<strong>reader</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/lib/libxml/document.rb#L188-L191'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='188' data-end='191'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/libxml/document.rb', line 188</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reader'>reader</span>
  <span class='id identifier rubyid_warn'>warn</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Document#reader is deprecated.  Use XML::Reader.document(self) instead.</span><span class='tstring_end'>&#39;</span></span>)
  <span class='const'><a href="../XML.html" title="LibXML::XML (module)">XML</a></span><span class='op'>::</span><span class='const'><a href="Reader.html" title="LibXML::XML::Reader (class)">Reader</a></span>.<span class='id identifier rubyid_document'><a href="Reader.html#document-class_method" title="LibXML::XML::Reader.document (method)">document</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>save</strong>(filename)  &#x21d2; <code>Integer</code> </span>
      <span class='overload'>#<strong>save</strong>(filename, :indent)  &#x21d2; <code>true</code>, <code>:encoding</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Saves a document to a file.  You may provide an optional hash table to control how the string is generated.  Valid options are:</p>

<p><code>:indent</code> - Specifies if the string should be indented.  The default value is true.  Note that indentation is only added if both <code>:indent</code> is true and <a href="../XML.html#indent_tree_output-class_method" title="LibXML::XML.indent_tree_output (method)">LibXML::XML.indent_tree_output</a> is true.  If <code>:indent</code> is set to false, then both indentation and line feeds are removed from the result.</p>

<p><code>:encoding</code> - Specifies the output encoding of the string.  It defaults to the original encoding of the document (see <a href="#encoding-instance_method" title="LibXML::XML::Document#encoding (method)">#encoding</a>.  To override the orginal encoding, use one of the <a href="Encoding.html" title="LibXML::XML::Encoding (module)"><code>Encoding</code></a> encoding constants.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L772-L814'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='772' data-end='814'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 772</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_save(int argc, VALUE *argv, VALUE self)
{
  VALUE options = Qnil;
  VALUE filename = Qnil;
  xmlDocPtr xdoc;
  int indent = 1;
  const char *xfilename;
  const xmlChar *xencoding;
  int length;

  rb_scan_args(argc, argv, &quot;11&quot;, &amp;filename, &amp;options);

  Check_Type(filename, T_STRING);
  xfilename = StringValuePtr(filename);

  Data_Get_Struct(self, xmlDoc, xdoc);
  xencoding = xdoc-&gt;encoding;

  if (!NIL_P(options))
  {
    VALUE rencoding, rindent;
    Check_Type(options, T_HASH);
    rencoding = rb_hash_aref(options, ID2SYM(rb_intern(&quot;encoding&quot;)));
    rindent = rb_hash_aref(options, ID2SYM(rb_intern(&quot;indent&quot;)));

    if (rindent == Qfalse)
      indent = 0;

    if (rencoding != Qnil)
    {
      xencoding = (const xmlChar*)xmlGetCharEncodingName((xmlCharEncoding)NUM2INT(rencoding));
      if (!xencoding)
        rb_raise(rb_eArgError, &quot;Unknown encoding value: %d&quot;, NUM2INT(rencoding));
    }
  }

  length = xmlSaveFormatFileEnc(xfilename, xdoc, (const char*)xencoding, indent);

  if (length == -1)
    rxml_raise(xmlGetLastError());

  return (INT2NUM(length));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; "<a href="#string-class_method" title="LibXML::XML::Document.string (method)">string</a>" </span>
      <span class='overload'>#<strong>to_s</strong>(:indent)  &#x21d2; <code>true</code>, <code>:encoding</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts a document, and all of its children, to a string representation. You may provide an optional hash table to control how the string is generated.  Valid options are:</p>

<p><code>:indent</code> - Specifies if the string should be indented.  The default value is true.  Note that indentation is only added if both <code>:indent</code> is true and <a href="../XML.html#indent_tree_output-class_method" title="LibXML::XML.indent_tree_output (method)">LibXML::XML.indent_tree_output</a> is true.  If <code>:indent</code> is set to false, then both indentation and line feeds are removed from the result.</p>

<p><code>:encoding</code> - Specifies the output encoding of the string.  It defaults to <code>XML::Encoding::UTF8</code>.  To change it, use one of the <a href="Encoding.html" title="LibXML::XML::Encoding (module)"><code>Encoding</code></a> encoding constants.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L850-L886'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='850' data-end='886'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 850</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_to_s(int argc, VALUE *argv, VALUE self)
{
  VALUE result;
  VALUE options = Qnil;
  xmlDocPtr xdoc;
  int indent = 1;
  const xmlChar *xencoding = (const xmlChar*) &quot;UTF-8&quot;;
  xmlChar *buffer;
  int length;

  rb_scan_args(argc, argv, &quot;01&quot;, &amp;options);

  if (!NIL_P(options))
  {
    VALUE rencoding, rindent;
    Check_Type(options, T_HASH);
    rencoding = rb_hash_aref(options, ID2SYM(rb_intern(&quot;encoding&quot;)));
    rindent = rb_hash_aref(options, ID2SYM(rb_intern(&quot;indent&quot;)));

    if (rindent == Qfalse)
      indent = 0;

    if (rencoding != Qnil)
    {
      xencoding = (const xmlChar*)xmlGetCharEncodingName((xmlCharEncoding)NUM2INT(rencoding));
      if (!xencoding)
        rb_raise(rb_eArgError, &quot;Unknown encoding value: %d&quot;, NUM2INT(rencoding));
    }
  }

  Data_Get_Struct(self, xmlDoc, xdoc);
  xmlDocDumpFormatMemoryEnc(xdoc, &amp;buffer, &amp;length, (const char*)xencoding, indent);

  result = rxml_new_cstr(buffer, xencoding);
  xmlFree(buffer);
  return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="url-instance_method">
  <h3 class='signature '>
    #<strong>url</strong>  &#x21d2; "url"   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain this documentâs source URL, if any.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L894-L903'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='894' data-end='903'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 894</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_url_get(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);
  if (xdoc-&gt;URL == NULL)
    return (Qnil);
  else
    return (rxml_new_cstr( xdoc-&gt;URL, NULL));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate-instance_method">
  <h3 class='signature '>
    #<strong>validate</strong>(dtd)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Validate this document against the specified <code>XML::DTD</code>. If the document is valid the method returns true.  Otherwise an exception is raised with validation information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L1060-L1081'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1060' data-end='1081'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 1060</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_validate_dtd(VALUE self, VALUE dtd)
{
  xmlValidCtxt ctxt;
  xmlDocPtr xdoc;
  xmlDtdPtr xdtd;

  Data_Get_Struct(self, xmlDoc, xdoc);
  Data_Get_Struct(dtd, xmlDtd, xdtd);

  /* Setup context */
  memset(&amp;ctxt, 0, sizeof(xmlValidCtxt));

  if (xmlValidateDtd(&amp;ctxt, xdoc, xdtd))
  {
    return Qtrue;
  }
  else
  {
    rxml_raise(xmlGetLastError());
    return Qfalse;
  }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate_relaxng-instance_method">
  <h3 class='signature '>
    #<strong>validate_relaxng</strong>(relaxng)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Validate this document against the specified <a href="RelaxNG.html" title="LibXML::XML::RelaxNG (class)"><code>RelaxNG</code></a>. If the document is valid the method returns true.  Otherwise an exception is raised with validation information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L1027-L1050'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1027' data-end='1050'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 1027</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_validate_relaxng(VALUE self, VALUE relaxng)
{
  xmlRelaxNGValidCtxtPtr vptr;
  xmlDocPtr xdoc;
  xmlRelaxNGPtr xrelaxng;
  int is_invalid;

  Data_Get_Struct(self, xmlDoc, xdoc);
  Data_Get_Struct(relaxng, xmlRelaxNG, xrelaxng);

  vptr = xmlRelaxNGNewValidCtxt(xrelaxng);

  is_invalid = xmlRelaxNGValidateDoc(vptr, xdoc);
  xmlRelaxNGFreeValidCtxt(vptr);
  if (is_invalid)
  {
    rxml_raise(xmlGetLastError());
    return Qfalse;
  }
  else
  {
    return Qtrue;
  }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate_schema-instance_method">
  <h3 class='signature '>
    #<strong>validate_schema</strong>(schema)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Validate this document against the specified <a href="Schema.html" title="LibXML::XML::Schema (class)"><code>Schema</code></a>. If the document is valid the method returns true.  Otherwise an exception is raised with validation information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L994-L1017'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='994' data-end='1017'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 994</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_validate_schema(VALUE self, VALUE schema)
{
  xmlSchemaValidCtxtPtr vptr;
  xmlDocPtr xdoc;
  xmlSchemaPtr xschema;
  int is_invalid;

  Data_Get_Struct(self, xmlDoc, xdoc);
  Data_Get_Struct(schema, xmlSchema, xschema);

  vptr = xmlSchemaNewValidCtxt(xschema);

  is_invalid = xmlSchemaValidateDoc(vptr, xdoc);
  xmlSchemaFreeValidCtxt(vptr);
  if (is_invalid)
  {
    rxml_raise(xmlGetLastError());
    return Qfalse;
  }
  else
  {
    return Qtrue;
  }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="version-instance_method">
  <h3 class='signature '>
    #<strong>version</strong>  &#x21d2; "version"   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Obtain the <a href="../XML.html" title="LibXML::XML (module)"><code>::LibXML::XML</code></a> version specified by this document.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L911-L920'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='911' data-end='920'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 911</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_version_get(VALUE self)
{
  xmlDocPtr xdoc;

  Data_Get_Struct(self, xmlDoc, xdoc);
  if (xdoc-&gt;version == NULL)
    return (Qnil);
  else
    return (rxml_new_cstr( xdoc-&gt;version, NULL));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="xinclude-instance_method">
  <h3 class='signature '>
    #<strong>xinclude</strong>  &#x21d2; <code>Numeric</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Process xinclude directives in this document.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_document.c#L946-L969'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='946' data-end='969'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_document.c', line 946</span></pre>
<pre class='code cpp'>

static VALUE rxml_document_xinclude(VALUE self)
{
#ifdef LIBXML_XINCLUDE_ENABLED
  xmlDocPtr xdoc;

  int ret;

  Data_Get_Struct(self, xmlDoc, xdoc);
  ret = xmlXIncludeProcess(xdoc);
  if (ret &gt;= 0)
  {
    return(INT2NUM(ret));
  }
  else
  {
    rxml_raise(xmlGetLastError());
    return Qnil;
  }
#else
  rb_warn(
      &quot;libxml was compiled without XInclude support.  Please recompile libxml and ruby-libxml&quot;);
  return (Qfalse);
#endif
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>