<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: LibXML::XML::HTMLParser::Context &mdash; LibXML RubyÂ master</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "LibXML::XML::HTMLParser::Context",
    relpath = '../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>LibXML</a> &raquo; 
      <a href='../../../_index.html#alpha_C'>Index (C)</a> &raquo; 
        <a href="../../../LibXML.html" title="LibXML (module)">LibXML</a> &raquo; 
        <a href="../../XML.html" title="LibXML::XML (module)">XML</a> &raquo; 
        <a href="../HTMLParser.html" title="LibXML::XML::HTMLParser (class)">HTMLParser</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Context&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: LibXML::XML::HTMLParser::Context</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Parser/Context.html" title="LibXML::XML::Parser::Context (class)"><code>::LibXML::XML::Parser::Context</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Parser/Context.html" title="LibXML::XML::Parser::Context (class)"><code>::LibXML::XML::Parser::Context</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Parser/Context.html" title="LibXML::XML::Parser::Context (class)">LibXML::XML::Parser::Context</a></span>
        <ul class='fullTree'>
          <li><a href="../../../Object.html" title="Object (class)"><code>::Object</code></a></li>
          <li class='next'><a href="../Parser/Context.html" title="LibXML::XML::Parser::Context (class)">LibXML::XML::Parser::Context</a></li>
          <li class='next'>LibXML::XML::HTMLParser::Context</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_html_parser_context.c#L343'>ext/libxml/ruby_xml_html_parser_context.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_html_parser_context.c#L14'>ext/libxml/ruby_xml_html_parser_context.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>Context</code> class provides in-depth control over how a document is parsed.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#file-class_method" title="XML::HTMLParser::Context.file (class method)"><strong>XML::HTMLParser::Context.file</strong>(file)  &#x21d2; Context </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new parser context based on the specified file or uri.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#io-class_method" title="XML::HTMLParser::Context.io (class method)"><strong>XML::HTMLParser::Context.io</strong>(io)  &#x21d2; Context </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new parser context based on the specified io object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#string-class_method" title="XML::HTMLParser::Context.string (class method)"><strong>XML::HTMLParser::Context.string</strong>(string)  &#x21d2; Context </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new parser context based on the specified string.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Parser/Context.html" title="LibXML::XML::Parser::Context (class)"><code>::LibXML::XML::Parser::Context</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#document-class_method" title="LibXML::XML::Parser::Context.document (method)">.document</a></td>
      <td><div class='inline'><p>Creates a new parser context based on the specified document.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#file-class_method" title="LibXML::XML::Parser::Context.file (method)">.file</a></td>
      <td><div class='inline'><p>Creates a new parser context based on the specified file or uri.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#io-class_method" title="LibXML::XML::Parser::Context.io (method)">.io</a></td>
      <td><div class='inline'><p>Creates a new parser context based on the specified io object.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#string-class_method" title="LibXML::XML::Parser::Context.string (method)">.string</a></td>
      <td><div class='inline'><p>Creates a new parser context based on the specified string.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature wo'>
      <a href="#disable_cdata=-instance_method" title="#disable_cdata= (instance method)">#<strong>disable_cdata=</strong>(true|false)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Control whether the CDATA nodes will be created in this context.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#options=-instance_method" title="#options= (instance method)">#<strong>options=</strong>(XML::Parser::Options::NOENT |)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Provides control over the execution of a parser.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Parser/Context.html" title="LibXML::XML::Parser::Context (class)"><code>::LibXML::XML::Parser::Context</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#base_uri-instance_method" title="LibXML::XML::Parser::Context#base_uri (method)">#base_uri</a></td>
      <td><div class='inline'><p>Obtain the base url for this parser context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#base_uri=-instance_method" title="LibXML::XML::Parser::Context#base_uri= (method)">#base_uri=</a></td>
      <td><div class='inline'><p>Sets the base url for this parser context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#disable_cdata=-instance_method" title="LibXML::XML::Parser::Context#disable_cdata= (method)">#disable_cdata=</a></td>
      <td><div class='inline'><p>Control whether CDATA nodes will be created in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#disable_cdata%3F-instance_method" title="LibXML::XML::Parser::Context#disable_cdata? (method)">#disable_cdata?</a></td>
      <td><div class='inline'><p>Determine whether CDATA nodes will be created in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#disable_sax%3F-instance_method" title="LibXML::XML::Parser::Context#disable_sax? (method)">#disable_sax?</a></td>
      <td><div class='inline'><p>Determine whether SAX-based processing is disabled in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#docbook%3F-instance_method" title="LibXML::XML::Parser::Context#docbook? (method)">#docbook?</a></td>
      <td><div class='inline'><p>Determine whether this is a docbook context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#encoding-instance_method" title="LibXML::XML::Parser::Context#encoding (method)">#encoding</a></td>
      <td><div class='inline'><p>Obtain the character encoding identifier used in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#encoding=-instance_method" title="LibXML::XML::Parser::Context#encoding= (method)">#encoding=</a></td>
      <td><div class='inline'><p>Sets the character encoding for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#html%3F-instance_method" title="LibXML::XML::Parser::Context#html? (method)">#html?</a></td>
      <td><div class='inline'><p>Determine whether this is an html context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#keep_blanks%3F-instance_method" title="LibXML::XML::Parser::Context#keep_blanks? (method)">#keep_blanks?</a></td>
      <td><div class='inline'><p>Determine whether parsers in this context retain whitespace.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#options-instance_method" title="LibXML::XML::Parser::Context#options (method)">#options</a></td>
      <td><div class='inline'><p>Returns the parser options for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#options=-instance_method" title="LibXML::XML::Parser::Context#options= (method)">#options=</a></td>
      <td><div class='inline'><p>Provides control over the execution of a parser.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#recovery=-instance_method" title="LibXML::XML::Parser::Context#recovery= (method)">#recovery=</a></td>
      <td><div class='inline'><p>Control whether recovery mode is enabled in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#recovery%3F-instance_method" title="LibXML::XML::Parser::Context#recovery? (method)">#recovery?</a></td>
      <td><div class='inline'><p>Determine whether recovery mode is enabled in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#replace_entities=-instance_method" title="LibXML::XML::Parser::Context#replace_entities= (method)">#replace_entities=</a></td>
      <td><div class='inline'><p>Control whether external entity replacement is enabled in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Parser/Context.html#replace_entities%3F-instance_method" title="LibXML::XML::Parser::Context#replace_entities? (method)">#replace_entities?</a></td>
      <td><div class='inline'><p>Determine whether external entity replacement is enabled in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#standalone%3F-instance_method" title="LibXML::XML::Parser::Context#standalone? (method)">#standalone?</a></td>
      <td><div class='inline'><p>Determine whether this is a standalone context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#stats%3F-instance_method" title="LibXML::XML::Parser::Context#stats? (method)">#stats?</a></td>
      <td><div class='inline'><p>Determine whether this context maintains statistics.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#subset_external%3F-instance_method" title="LibXML::XML::Parser::Context#subset_external? (method)">#subset_external?</a></td>
      <td><div class='inline'><p>Determine whether this context is a subset of an external context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#subset_internal%3F-instance_method" title="LibXML::XML::Parser::Context#subset_internal? (method)">#subset_internal?</a></td>
      <td><div class='inline'><p>Determine whether this context is a subset of an internal context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#validate%3F-instance_method" title="LibXML::XML::Parser::Context#validate? (method)">#validate?</a></td>
      <td><div class='inline'><p>Determine whether validation is enabled in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser/Context.html#well_formed%3F-instance_method" title="LibXML::XML::Parser::Context#well_formed? (method)">#well_formed?</a></td>
      <td><div class='inline'><p>Determine whether this context contains well-formed <a href="../../XML.html" title="LibXML::XML (module)"><code>::LibXML::XML</code></a>.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Closes the underlying input streams.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Parser/Context.html" title="LibXML::XML::Parser::Context (class)"><code>::LibXML::XML::Parser::Context</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#close-instance_method" title="LibXML::XML::Parser::Context#close (method)">#close</a></td>
      <td><div class='inline'><p>Closes the underlying input streams.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#data_directory-instance_method" title="LibXML::XML::Parser::Context#data_directory (method)">#data_directory</a></td>
      <td><div class='inline'><p>Obtain the data directory associated with this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#depth-instance_method" title="LibXML::XML::Parser::Context#depth (method)">#depth</a></td>
      <td><div class='inline'><p>Obtain the depth of this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#errno-instance_method" title="LibXML::XML::Parser::Context#errno (method)">#errno</a></td>
      <td><div class='inline'><p>Obtain the last-error number in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#io_max_num_streams-instance_method" title="LibXML::XML::Parser::Context#io_max_num_streams (method)">#io_max_num_streams</a></td>
      <td><div class='inline'><p>Obtain the limit on the number of IO streams opened in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#io_num_streams-instance_method" title="LibXML::XML::Parser::Context#io_num_streams (method)">#io_num_streams</a></td>
      <td><div class='inline'><p>Obtain the actual number of IO streams in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#name_depth-instance_method" title="LibXML::XML::Parser::Context#name_depth (method)">#name_depth</a></td>
      <td><div class='inline'><p>Obtain the name depth for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#name_depth_max-instance_method" title="LibXML::XML::Parser::Context#name_depth_max (method)">#name_depth_max</a></td>
      <td><div class='inline'><p>Obtain the maximum name depth for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#name_node-instance_method" title="LibXML::XML::Parser::Context#name_node (method)">#name_node</a></td>
      <td><div class='inline'><p>Obtain the name node for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#name_tab-instance_method" title="LibXML::XML::Parser::Context#name_tab (method)">#name_tab</a></td>
      <td><div class='inline'><p>Obtain the name table for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#node-instance_method" title="LibXML::XML::Parser::Context#node (method)">#node</a></td>
      <td><div class='inline'><p>Obtain the root node of this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#node_depth-instance_method" title="LibXML::XML::Parser::Context#node_depth (method)">#node_depth</a></td>
      <td><div class='inline'><p>Obtain the node depth for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#node_depth_max-instance_method" title="LibXML::XML::Parser::Context#node_depth_max (method)">#node_depth_max</a></td>
      <td><div class='inline'><p>Obtain the maximum node depth for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#num_chars-instance_method" title="LibXML::XML::Parser::Context#num_chars (method)">#num_chars</a></td>
      <td><div class='inline'><p>Obtain the number of characters in this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#space_depth-instance_method" title="LibXML::XML::Parser::Context#space_depth (method)">#space_depth</a></td>
      <td><div class='inline'><p>Obtain the space depth for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#space_depth_max-instance_method" title="LibXML::XML::Parser::Context#space_depth_max (method)">#space_depth_max</a></td>
      <td><div class='inline'><p>Obtain the maximum space depth for this context.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#subset_external_system_id-instance_method" title="LibXML::XML::Parser::Context#subset_external_system_id (method)">#subset_external_system_id</a></td>
      <td><div class='inline'><p>Obtain this contextâs external subset system identifier.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#subset_external_uri-instance_method" title="LibXML::XML::Parser::Context#subset_external_uri (method)">#subset_external_uri</a></td>
      <td><div class='inline'><p>Obtain this contextâs external subset URI.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#subset_internal_name-instance_method" title="LibXML::XML::Parser::Context#subset_internal_name (method)">#subset_internal_name</a></td>
      <td><div class='inline'><p>Obtain this contextâs subset name (valid only if either of subset_external? or subset_internal? is true).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#valid-instance_method" title="LibXML::XML::Parser::Context#valid (method)">#valid</a></td>
      <td><div class='inline'><p>Determine whether this context is valid.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser/Context.html#version-instance_method" title="LibXML::XML::Parser::Context#version (method)">#version</a></td>
      <td><div class='inline'><p>Obtain this contextâs version identifier.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="file-class_method">
  <h3 class='signature  first'>
    <strong>XML::HTMLParser::Context.file</strong>(file)  &#x21d2; <code>Context</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new parser context based on the specified file or uri.</p>

<p>Parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_file'>file</span> <span class='op'>-</span> <span class='const'>A</span> <span class='id identifier rubyid_filename'>filename</span> <span class='kw'>or</span> <span class='id identifier rubyid_uri'>uri</span>
<span class='id identifier rubyid_options'>options</span> <span class='op'>-</span> <span class='const'>A</span> <span class='kw'>or</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ed together list of LibXML::XML::HTMLParser::Options values</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_html_parser_context.c#L152-L168'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='152' data-end='168'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_html_parser_context.c', line 152</span></pre>
<pre class='code cpp'>

static VALUE rxml_html_parser_context_file(int argc, VALUE* argv, VALUE klass)
{
  VALUE file, options;
  rb_scan_args(argc, argv, &quot;11&quot;, &amp;file, &amp;options);

  htmlParserCtxtPtr ctxt = htmlCreateFileParserCtxt(StringValuePtr(file), NULL);
  if (!ctxt)
    rxml_raise(xmlGetLastError());

  /* This is annoying, but xmlInitParserCtxt (called indirectly above) and 
     xmlCtxtUseOptionsInternal (called below) initialize slightly different
     context options, in particular XML_PARSE_NODICT which xmlInitParserCtxt
     sets to 0 and xmlCtxtUseOptionsInternal sets to 1.  So we have to call both. */
  htmlCtxtUseOptions(ctxt, options == Qnil ? 0 : NUM2INT(options));

  return rxml_html_parser_context_wrap(ctxt);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="io-class_method">
  <h3 class='signature '>
    <strong>XML::HTMLParser::Context.io</strong>(io)  &#x21d2; <code>Context</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new parser context based on the specified io object.</p>

<p>Parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_io'>io</span> <span class='op'>-</span> <span class='const'>A</span> <span class='id identifier rubyid_ruby'>ruby</span> <span class='const'>IO</span> <span class='id identifier rubyid_object'>object</span>
<span class='id identifier rubyid_options'>options</span> <span class='op'>-</span> <span class='const'>A</span> <span class='kw'>or</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ed together list of LibXML::XML::HTMLParser::Options values</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_html_parser_context.c#L180-L224'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='180' data-end='224'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_html_parser_context.c', line 180</span></pre>
<pre class='code cpp'>

static VALUE rxml_html_parser_context_io(int argc, VALUE* argv, VALUE klass)
{
  VALUE io, options;
  rb_scan_args(argc, argv, &quot;11&quot;, &amp;io, &amp;options);

  VALUE result;
  htmlParserCtxtPtr ctxt;
  xmlParserInputBufferPtr input;
  xmlParserInputPtr stream;

  if (NIL_P(io))
    rb_raise(rb_eTypeError, &quot;Must pass in an IO object&quot;);

  input = xmlParserInputBufferCreateIO((xmlInputReadCallback) rxml_read_callback, NULL,
                                     (void*)io, XML_CHAR_ENCODING_NONE);

  ctxt = htmlNewParserCtxt();
  if (!ctxt)
  {
    xmlFreeParserInputBuffer(input);
    rxml_raise(xmlGetLastError());
  }

  /* This is annoying, but xmlInitParserCtxt (called indirectly above) and 
     xmlCtxtUseOptionsInternal (called below) initialize slightly different
     context options, in particular XML_PARSE_NODICT which xmlInitParserCtxt
     sets to 0 and xmlCtxtUseOptionsInternal sets to 1.  So we have to call both. */
  htmlCtxtUseOptions(ctxt, options == Qnil ? 0 : NUM2INT(options));

  stream = xmlNewIOInputStream(ctxt, input, XML_CHAR_ENCODING_NONE);

  if (!stream)
  {
    xmlFreeParserInputBuffer(input);
    xmlFreeParserCtxt(ctxt);
    rxml_raise(xmlGetLastError());
  }
  inputPush(ctxt, stream);
  result = rxml_html_parser_context_wrap(ctxt);

  /* Attach io object to parser so it won&#39;t get freed.*/
  rb_ivar_set(result, IO_ATTR, io);

  return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="string-class_method">
  <h3 class='signature '>
    <strong>XML::HTMLParser::Context.string</strong>(string)  &#x21d2; <code>Context</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new parser context based on the specified string.</p>

<p>Parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='op'>-</span> <span class='const'>A</span> <span class='id identifier rubyid_string'>string</span> <span class='id identifier rubyid_that'>that</span> <span class='id identifier rubyid_contains'>contains</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_data'>data</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_parse'><a href="../HTMLParser.html#parse-instance_method" title="LibXML::XML::HTMLParser#parse (method)">parse</a></span>
<span class='id identifier rubyid_options'>options</span> <span class='op'>-</span> <span class='const'>A</span> <span class='kw'>or</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ed together list of LibXML::XML::HTMLParser::Options values</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_html_parser_context.c#L236-L264'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='236' data-end='264'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_html_parser_context.c', line 236</span></pre>
<pre class='code cpp'>

static VALUE rxml_html_parser_context_string(int argc, VALUE* argv, VALUE klass)
{
  VALUE string, options;
  rb_scan_args(argc, argv, &quot;11&quot;, &amp;string, &amp;options);

  Check_Type(string, T_STRING);

  if (RSTRING_LEN(string) == 0)
    rb_raise(rb_eArgError, &quot;Must specify a string with one or more characters&quot;);

  htmlParserCtxtPtr ctxt = xmlCreateMemoryParserCtxt(StringValuePtr(string),
                                   (int)RSTRING_LEN(string));
  if (!ctxt)
    rxml_raise(xmlGetLastError());

  /* This is annoying, but xmlInitParserCtxt (called indirectly above) and 
     xmlCtxtUseOptionsInternal (called below) initialize slightly different
     context options, in particular XML_PARSE_NODICT which xmlInitParserCtxt
     sets to 0 and xmlCtxtUseOptionsInternal sets to 1.  So we have to call both. */
  htmlCtxtUseOptions(ctxt, options == Qnil ? 0 : NUM2INT(options));

  // Setup sax handler
  // TODO - there must be a better way? The sax handler is initialized for XML, but we want
  // to use HTML
  memset(ctxt-&gt;sax, 0, sizeof(xmlSAXHandler));
  xmlSAX2InitHtmlDefaultSAXHandler(ctxt-&gt;sax);
  
  return rxml_html_parser_context_wrap(ctxt);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="disable_cdata=-instance_method">
  <h3 class='signature wo first'>
    #<strong>disable_cdata=</strong>(true|false)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Control whether the CDATA nodes will be created in this context.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_html_parser_context.c#L293-L308'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='293' data-end='308'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_html_parser_context.c', line 293</span></pre>
<pre class='code cpp'>

static VALUE rxml_html_parser_context_disable_cdata_set(VALUE self, VALUE value)
{
  htmlParserCtxtPtr ctxt;
  Data_Get_Struct(self, htmlParserCtxt, ctxt);

  if (ctxt-&gt;sax == NULL)
    rb_raise(rb_eRuntimeError, &quot;Sax handler is not yet set&quot;);

  /* LibXML controls this internally with the default SAX handler. */ 
  if (value)
    ctxt-&gt;sax-&gt;cdataBlock = NULL;
  else
    ctxt-&gt;sax-&gt;cdataBlock = xmlSAX2CDataBlock;

  return value;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options=-instance_method">
  <h3 class='signature wo'>
    <div class='inline-block'>
      <span class='overload'>#<strong>options=</strong>(XML::Parser::Options::NOENT |)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span></span>
      <span class='overload'><strong>XML::Parser::Options::NOCDATA</strong>  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Provides control over the execution of a parser.  Valid values are the constants defined on <a href="../Parser/Options.html" title="LibXML::XML::Parser::Options (module)"><code>::LibXML::XML::Parser::Options</code></a>.  Multiple options can be combined by using Bitwise OR (|).</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_html_parser_context.c#L319-L338'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='319' data-end='338'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_html_parser_context.c', line 319</span></pre>
<pre class='code cpp'>

static VALUE rxml_html_parser_context_options_set(VALUE self, VALUE options)
{
  int xml_options = NUM2INT(options);
  htmlParserCtxtPtr ctxt;
  Check_Type(options, T_FIXNUM);

  Data_Get_Struct(self, htmlParserCtxt, ctxt);
  htmlCtxtUseOptions(ctxt, xml_options);

#if LIBXML_VERSION &gt;= 20707
  /* Big hack here, but htmlCtxtUseOptions doens&#39;t support HTML_PARSE_NOIMPLIED.
     So do it ourselves. There must be a better way??? */
  if (xml_options &amp; HTML_PARSE_NOIMPLIED) 
  {
	  ctxt-&gt;options |= HTML_PARSE_NOIMPLIED;
  }
#endif

  return self;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="close-instance_method">
  <h3 class='signature  first'>
    #<strong>close</strong>  &#x21d2; <code>nil</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Closes the underlying input streams.  This is useful when parsing a large amount of files and you want to close the files without relying on Rubyâs garbage collector to run.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/xml4r/libxml-ruby/blob/master/ext/libxml/ruby_xml_html_parser_context.c#L274-L285'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='274' data-end='285'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/libxml/ruby_xml_html_parser_context.c', line 274</span></pre>
<pre class='code cpp'>

static VALUE rxml_html_parser_context_close(VALUE self)
{
  htmlParserCtxtPtr ctxt;
  xmlParserInputPtr xinput;
  Data_Get_Struct(self, htmlParserCtxt, ctxt);

  while ((xinput = inputPop(ctxt)) != NULL)
  {
	 xmlFreeInputStream(xinput);
  }
  return Qnil;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>