<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: REXML::Functions &mdash; rexml  Ruby-3.0.6 pp216</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "REXML::Functions",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-3.0.6</a> &raquo; 
      <a href='../'>rexml</a> &raquo; 
      <a href='../_index.html#alpha_F'>Index (F)</a> &raquo; 
        <a href="../REXML.html" title="REXML (module)">REXML</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Functions&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: REXML::Functions</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="QuickPath.html" title="REXML::QuickPath (class)"><code>QuickPath</code></a>,
          <a href="XPath.html" title="REXML::XPath (class)"><code>XPath</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L10'>lib/rexml/functions.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>If you add a method, keep in mind two things: (1) the first argument will always be a list of nodes from which to filter.  In the case of context methods (such as position), the function should return an array with a value for each child in the array. (2) all method calls from XML will have “-” replaced with “_”. Therefore, in XML, “local-name()” is identical (and actually becomes) “local_name()”</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='INTERNAL_METHODS-constant' class='summary_signature'>INTERNAL_METHODS =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L16-L24'># File 'lib/rexml/functions.rb', line 16</a>    <pre class='code ruby'>[
  <span class='symbeg'>:</span><span class='id identifier rubyid_namespace_context'><a href="#namespace_context-class_method" title="REXML::Functions.namespace_context (method)">namespace_context</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_namespace_context='><a href="#namespace_context=-class_method" title="REXML::Functions.namespace_context= (method)">namespace_context=</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_variables'><a href="#variables-class_method" title="REXML::Functions.variables (method)">variables</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_variables='><a href="#variables=-class_method" title="REXML::Functions.variables= (method)">variables=</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_context='><a href="#context=-class_method" title="REXML::Functions.context= (method)">context=</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_get_namespace'><a href="#get_namespace-class_method" title="REXML::Functions.get_namespace (method)">get_namespace</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_send'><a href="#send-class_method" title="REXML::Functions.send (method)">send</a></span><span class='comma'>,</span>
]</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature wo'>
      <a href="#context=-class_method" title=".context= (class method)">.<strong>context=</strong>(value)  </a>
    </span>
    <span class='note title writeonly'>writeonly</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#namespace_context-class_method" title=".namespace_context (class method)">.<strong>namespace_context</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#namespace_context=-class_method" title=".namespace_context= (class method)">.<strong>namespace_context=</strong>(x)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#variables-class_method" title=".variables (class method)">.<strong>variables</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#variables=-class_method" title=".variables= (class method)">.<strong>variables=</strong>(x)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#boolean-class_method" title=".boolean (class method)">.<strong>boolean</strong>(object = )  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ceiling-class_method" title=".ceiling (class method)">.<strong>ceiling</strong>(number)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compare_language-class_method" title=".compare_language (class method)">.<strong>compare_language</strong>(lang1, lang2)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#concat-class_method" title=".concat (class method)">.<strong>concat</strong>(*objects)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#contains-class_method" title=".contains (class method)">.<strong>contains</strong>(string, test)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Fixed by Mike Stok.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#count-class_method" title=".count (class method)">.<strong>count</strong>(node_set)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the size of the given list of nodes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#false-class_method" title=".false (class method)">.<strong>false</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>UNTESTED.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#floor-class_method" title=".floor (class method)">.<strong>floor</strong>(number)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_namespace-class_method" title=".get_namespace (class method)">.<strong>get_namespace</strong>(node_set = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Helper method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#id-class_method" title=".id (class method)">.<strong>id</strong>(object)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Since REXML is non-validating, this method is not implemented as it requires a <a href="DTD.html" title="REXML::DTD (module)"><code>DTD</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lang-class_method" title=".lang (class method)">.<strong>lang</strong>(language)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>UNTESTED.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#last-class_method" title=".last (class method)">.<strong>last</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the last node of the given list of nodes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#local_name-class_method" title=".local_name (class method)">.<strong>local_name</strong>(node_set = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#name-class_method" title=".name (class method)">.<strong>name</strong>(node_set = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#namespace_uri-class_method" title=".namespace_uri (class method)">.<strong>namespace_uri</strong>(node_set = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#normalize_space-class_method" title=".normalize_space (class method)">.<strong>normalize_space</strong>(string = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>UNTESTED.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#not-class_method" title=".not (class method)">.<strong>not</strong>(object)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>UNTESTED.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#number-class_method" title=".number (class method)">.<strong>number</strong>(object = )  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>a string that consists of optional whitespace followed by an optional minus sign followed by a Number followed by whitespace is converted to the IEEE 754 number that is nearest (according to the IEEE 754 round-to-nearest rule) to the mathematical value represented by the string; any other string is converted to NaN.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#position-class_method" title=".position (class method)">.<strong>position</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#processing_instruction-class_method" title=".processing_instruction (class method)">.<strong>processing_instruction</strong>(node)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#round-class_method" title=".round (class method)">.<strong>round</strong>(number)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#send-class_method" title=".send (class method)">.<strong>send</strong>(name, *args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#singleton_method_added-class_method" title=".singleton_method_added (class method)">.<strong>singleton_method_added</strong>(name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#starts_with-class_method" title=".starts_with (class method)">.<strong>starts_with</strong>(string, test)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Fixed by Mike Stok.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#string-class_method" title=".string (class method)">.<strong>string</strong>(object = )  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>A node-set is converted to a string by returning the string-value of the node in the node-set that is first in document order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#string_length-class_method" title=".string_length (class method)">.<strong>string_length</strong>(string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>UNTESTED.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#string_value-class_method" title=".string_value (class method)">.<strong>string_value</strong>(o)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>A node-set is converted to a string by returning the concatenation of the string-value of each of the children of the node in the node-set that is first in document order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#substring-class_method" title=".substring (class method)">.<strong>substring</strong>(string, start, length = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Take equal portions of Mike Stok and Sean Russell; mix vigorously, and pour into a tall, chilled glass.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#substring_after-class_method" title=".substring_after (class method)">.<strong>substring_after</strong>(string, test)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Kouhei fixed this too.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#substring_before-class_method" title=".substring_before (class method)">.<strong>substring_before</strong>(string, test)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Kouhei fixed this.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sum-class_method" title=".sum (class method)">.<strong>sum</strong>(nodes)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#text-class_method" title=".text (class method)">.<strong>text</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#translate-class_method" title=".translate (class method)">.<strong>translate</strong>(string, tr1, tr2)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This is entirely Mike Stok’s beast.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#true-class_method" title=".true (class method)">.<strong>true</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>UNTESTED.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="context=-class_method">
  <h3 class='signature wo first'>
    .<strong>context=</strong>(value)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L38-L38'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='38' data-end='38'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 38</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_context='>context=</span>(<span class='id identifier rubyid_value'>value</span>)<span class='semicolon'>;</span> <span class='cvar'>@@context</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace_context-class_method">
  <h3 class='signature rw'>
    .<strong>namespace_context</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L35-L35'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='35' data-end='35'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 35</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_namespace_context'>namespace_context</span> <span class='semicolon'>;</span> <span class='cvar'>@@namespace_context</span> <span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace_context=-class_method">
  <h3 class='signature rw'>
    .<strong>namespace_context=</strong>(x)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L33-L33'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='33' data-end='33'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 33</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_namespace_context='>namespace_context=</span>(<span class='id identifier rubyid_x'>x</span>) <span class='semicolon'>;</span> <span class='cvar'>@@namespace_context</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span> <span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="variables-class_method">
  <h3 class='signature rw'>
    .<strong>variables</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L36-L36'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='36' data-end='36'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 36</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_variables'>variables</span> <span class='semicolon'>;</span> <span class='cvar'>@@variables</span> <span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="variables=-class_method">
  <h3 class='signature rw'>
    .<strong>variables=</strong>(x)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L34-L34'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='34' data-end='34'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 34</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_variables='>variables=</span>(<span class='id identifier rubyid_x'>x</span>) <span class='semicolon'>;</span> <span class='cvar'>@@variables</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span> <span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="boolean-class_method">
  <h3 class='signature  first'>
    .<strong>boolean</strong>(object = )  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L318-L335'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='318' data-end='335'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 318</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_boolean'>boolean</span>(<span class='id identifier rubyid_object'>object</span><span class='op'>=</span><span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>])
  <span class='kw'>case</span> <span class='id identifier rubyid_object'>object</span>
  <span class='kw'>when</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_object'>object</span>
  <span class='kw'>when</span> <span class='const'>Float</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_zero?'>zero?</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_nan?'>nan?</span>
    <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='const'>Numeric</span>
    <span class='kw'>not</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_zero?'>zero?</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='kw'>not</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='kw'>not</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_object'>object</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ceiling-class_method">
  <h3 class='signature '>
    .<strong>ceiling</strong>(number)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L418-L420'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='418' data-end='420'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 418</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_ceiling'>ceiling</span>( <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span> )
  <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>(<span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>).<span class='id identifier rubyid_ceil'>ceil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compare_language-class_method">
  <h3 class='signature '>
    .<strong>compare_language</strong>(lang1, lang2)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L371-L373'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='371' data-end='373'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 371</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_compare_language'>compare_language</span> <span class='id identifier rubyid_lang1'>lang1</span><span class='comma'>,</span> <span class='id identifier rubyid_lang2'>lang2</span>
  <span class='id identifier rubyid_lang2'>lang2</span>.<span class='id identifier rubyid_downcase'>downcase</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_lang1'>lang1</span>.<span class='id identifier rubyid_downcase'>downcase</span>) <span class='op'>==</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="concat-class_method">
  <h3 class='signature '>
    .<strong>concat</strong>(*objects)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L190-L196'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='190' data-end='196'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 190</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_concat'>concat</span>( <span class='op'>*</span><span class='id identifier rubyid_objects'>objects</span> )
  <span class='id identifier rubyid_concatenated'>concatenated</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_objects'>objects</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='op'>|</span>
    <span class='id identifier rubyid_concatenated'>concatenated</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_object'>object</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_concatenated'>concatenated</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="contains-class_method">
  <h3 class='signature '>
    .<strong>contains</strong>(string, test)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Fixed by Mike Stok</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L204-L206'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='206'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_contains'>contains</span>( <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span><span class='comma'>,</span> <span class='id identifier rubyid_test'>test</span> )
  <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>).<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_test'>test</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="count-class_method">
  <h3 class='signature '>
    .<strong>count</strong>(node_set)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the size of the given list of nodes.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L60-L62'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='62'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_count'>count</span>( <span class='id identifier rubyid_node_set'>node_set</span> )
  <span class='id identifier rubyid_node_set'>node_set</span>.<span class='id identifier rubyid_size'>size</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="false-class_method">
  <h3 class='signature '>
    .<strong>false</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>UNTESTED</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L348-L350'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='348' data-end='350'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 348</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='kw'>false</span>(  )
  <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="floor-class_method">
  <h3 class='signature '>
    .<strong>floor</strong>(number)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L414-L416'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='414' data-end='416'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 414</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_floor'>floor</span>( <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span> )
  <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>(<span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>).<span class='id identifier rubyid_floor'>floor</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_namespace-class_method">
  <h3 class='signature '>
    .<strong>get_namespace</strong>(node_set = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Helper method.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L87-L101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='87' data-end='101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 87</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_get_namespace'>get_namespace</span>( <span class='id identifier rubyid_node_set'>node_set</span> <span class='op'>=</span> <span class='kw'>nil</span> )
  <span class='kw'>if</span> <span class='id identifier rubyid_node_set'>node_set</span> <span class='op'>==</span> <span class='kw'>nil</span>
    <span class='kw'>yield</span> <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>] <span class='kw'>if</span> <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>].<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_namespace'>namespace</span>)
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_node_set'>node_set</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each'>each</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> []
      <span class='id identifier rubyid_node_set'>node_set</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>&lt;&lt;</span> <span class='kw'>yield</span>(<span class='id identifier rubyid_node'>node</span>) <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_namespace'>namespace</span>)
      <span class='kw'>end</span>
      <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_node_set'>node_set</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_node_set'>node_set</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="id-class_method">
  <h3 class='signature '>
    .<strong>id</strong>(object)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Since REXML is non-validating, this method is not implemented as it requires a <a href="DTD.html" title="REXML::DTD (module)"><code>DTD</code></a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L66-L67'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='66' data-end='67'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 66</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_id'>id</span>( <span class='id identifier rubyid_object'>object</span> )
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lang-class_method">
  <h3 class='signature '>
    .<strong>lang</strong>(language)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>UNTESTED</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L353-L369'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='353' data-end='369'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 353</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_lang'>lang</span>( <span class='id identifier rubyid_language'>language</span> )
  <span class='id identifier rubyid_lang'>lang</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>]
  <span class='id identifier rubyid_attr'>attr</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>until</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_node_type'>node_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_element'>element</span>
      <span class='id identifier rubyid_attr'>attr</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_attributes'>attributes</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xml:lang</span><span class='tstring_end'>&quot;</span></span>]
      <span class='kw'>unless</span> <span class='id identifier rubyid_attr'>attr</span>.<span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_lang'>lang</span> <span class='op'>=</span> <span class='id identifier rubyid_compare_language'><a href="#compare_language-class_method" title="REXML::Functions.compare_language (method)">compare_language</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_language'>language</span>)<span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span>)
        <span class='kw'>break</span>
      <span class='kw'>else</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_parent'>parent</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_lang'>lang</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="last-class_method">
  <h3 class='signature '>
    .<strong>last</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the last node of the given list of nodes.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L51-L53'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='51' data-end='53'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 51</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_last'>last</span>( )
  <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_size'>size</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="local_name-class_method">
  <h3 class='signature '>
    .<strong>local_name</strong>(node_set = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L69-L74'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='69' data-end='74'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 69</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_local_name'>local_name</span>(<span class='id identifier rubyid_node_set'>node_set</span><span class='op'>=</span><span class='kw'>nil</span>)
  <span class='id identifier rubyid_get_namespace'><a href="#get_namespace-class_method" title="REXML::Functions.get_namespace (method)">get_namespace</a></span>(<span class='id identifier rubyid_node_set'>node_set</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_local_name'>local_name</span>
  <span class='kw'>end</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-class_method">
  <h3 class='signature '>
    .<strong>name</strong>(node_set = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L80-L84'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='80' data-end='84'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 80</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_name'>name</span>( <span class='id identifier rubyid_node_set'>node_set</span><span class='op'>=</span><span class='kw'>nil</span> )
  <span class='id identifier rubyid_get_namespace'><a href="#get_namespace-class_method" title="REXML::Functions.get_namespace (method)">get_namespace</a></span>( <span class='id identifier rubyid_node_set'>node_set</span> ) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span>
    <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_expanded_name'>expanded_name</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace_uri-class_method">
  <h3 class='signature '>
    .<strong>namespace_uri</strong>(node_set = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L76-L78'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='76' data-end='78'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 76</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_namespace_uri'>namespace_uri</span>( <span class='id identifier rubyid_node_set'>node_set</span><span class='op'>=</span><span class='kw'>nil</span> )
  <span class='id identifier rubyid_get_namespace'><a href="#get_namespace-class_method" title="REXML::Functions.get_namespace (method)">get_namespace</a></span>( <span class='id identifier rubyid_node_set'>node_set</span> ) {<span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_namespace'>namespace</span>}
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="normalize_space-class_method">
  <h3 class='signature '>
    .<strong>normalize_space</strong>(string = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>UNTESTED</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L266-L273'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='266' data-end='273'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 266</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_normalize_space'>normalize_space</span>( <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span><span class='op'>=</span><span class='kw'>nil</span> )
  <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span> <span class='op'>=</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>]) <span class='kw'>if</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>.<span class='id identifier rubyid_collect'>collect</span>{<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_strip'>strip</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/um</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>}
  <span class='kw'>else</span>
    <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_strip'>strip</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/um</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="not-class_method">
  <h3 class='signature '>
    .<strong>not</strong>(object)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>UNTESTED</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L338-L340'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='338' data-end='340'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 338</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='kw'>not</span>( <span class='id identifier rubyid_object'>object</span> )
  <span class='kw'>not</span> <span class='id identifier rubyid_boolean'><a href="#boolean-class_method" title="REXML::Functions.boolean (method)">boolean</a></span>( <span class='id identifier rubyid_object'>object</span> )
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="number-class_method">
  <h3 class='signature '>
    .<strong>number</strong>(object = )  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>a string that consists of optional whitespace followed by an optional minus sign followed by a Number followed by whitespace is converted to the IEEE 754 number that is nearest (according to the IEEE 754 round-to-nearest rule) to the mathematical value represented by the string; any other string is converted to NaN</p>

<p>boolean true is converted to 1; boolean false is converted to 0</p>

<p>a node-set is first converted to a string as if by a call to the string function and then converted in the same way as a string argument</p>

<p>an object of a type other than the four basic types is converted to a number in a way that is dependent on that type</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L388-L407'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='388' data-end='407'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 388</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_number'>number</span>(<span class='id identifier rubyid_object'>object</span><span class='op'>=</span><span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>])
  <span class='kw'>case</span> <span class='id identifier rubyid_object'>object</span>
  <span class='kw'>when</span> <span class='kw'>true</span>
    <span class='const'>Float</span>(<span class='int'>1</span>)
  <span class='kw'>when</span> <span class='kw'>false</span>
    <span class='const'>Float</span>(<span class='int'>0</span>)
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_number'>number</span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_object'>object</span>))
  <span class='kw'>when</span> <span class='const'>Numeric</span>
    <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_to_f'>to_f</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_object'>object</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_strip'>strip</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*(-?(?:\d(?:\.\d*)?|\.\d))\s*\z</span><span class='regexp_end'>/</span></span>
      <span class='backref'>$1</span>.<span class='id identifier rubyid_to_f'>to_f</span>
    <span class='kw'>else</span>
      <span class='const'>Float</span><span class='op'>::</span><span class='const'>NAN</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="position-class_method">
  <h3 class='signature '>
    .<strong>position</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L55-L57'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='55' data-end='57'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 55</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_position'>position</span>( )
  <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_index'>index</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="processing_instruction-class_method">
  <h3 class='signature '>
    .<strong>processing_instruction</strong>(node)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L433-L435'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='433' data-end='435'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 433</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_processing_instruction'>processing_instruction</span>( <span class='id identifier rubyid_node'>node</span> )
  <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_node_type'>node_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_processing_instruction'>processing_instruction</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="round-class_method">
  <h3 class='signature '>
    .<strong>round</strong>(number)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L422-L431'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='422' data-end='431'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 422</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_round'>round</span>( <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span> )
  <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span> <span class='op'>=</span> <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>(<span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>)
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_neg'>neg</span> <span class='op'>=</span> <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>.<span class='id identifier rubyid_negative?'>negative?</span>
    <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span> <span class='op'>=</span> <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>.<span class='id identifier rubyid_abs'>abs</span>.<span class='id identifier rubyid_round'>round</span>
    <span class='id identifier rubyid_neg'>neg</span> <span class='op'>?</span> <span class='op'>-</span><span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span> <span class='op'>:</span> <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>
  <span class='kw'>rescue</span> <span class='const'>FloatDomainError</span>
    <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send-class_method">
  <h3 class='signature '>
    .<strong>send</strong>(name, *args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L437-L445'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='437' data-end='445'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 437</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_name'><a href="#name-class_method" title="REXML::Functions.name (method)">name</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='kw'>if</span> <span class='cvar'>@@available_functions</span>[<span class='id identifier rubyid_name'><a href="#name-class_method" title="REXML::Functions.name (method)">name</a></span>.<span class='id identifier rubyid_to_sym'>to_sym</span>]
    <span class='kw'>super</span>
  <span class='kw'>else</span>
    <span class='comment'># TODO: Maybe, this is not XPath spec behavior.
</span>    <span class='comment'># This behavior must be reconsidered.
</span>    <span class='const'><a href="XPath.html" title="REXML::XPath (class)">XPath</a></span>.<span class='id identifier rubyid_match'><a href="XPath.html#match-class_method" title="REXML::XPath.match (method)">match</a></span>(<span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>]<span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-class_method" title="REXML::Functions.name (method)">name</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="singleton_method_added-class_method">
  <h3 class='signature '>
    .<strong>singleton_method_added</strong>(name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L26-L30'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='26' data-end='30'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 26</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_singleton_method_added'>singleton_method_added</span>(<span class='id identifier rubyid_name'><a href="#name-class_method" title="REXML::Functions.name (method)">name</a></span>)
  <span class='kw'>unless</span> <span class='const'><a href="#INTERNAL_METHODS-constant" title="REXML::Functions::INTERNAL_METHODS (constant)">INTERNAL_METHODS</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_name'><a href="#name-class_method" title="REXML::Functions.name (method)">name</a></span>)
    <span class='cvar'>@@available_functions</span>[<span class='id identifier rubyid_name'><a href="#name-class_method" title="REXML::Functions.name (method)">name</a></span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="starts_with-class_method">
  <h3 class='signature '>
    .<strong>starts_with</strong>(string, test)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Fixed by Mike Stok</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L199-L201'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='199' data-end='201'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 199</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_starts_with'>starts_with</span>( <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span><span class='comma'>,</span> <span class='id identifier rubyid_test'>test</span> )
  <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>).<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_test'>test</span>)) <span class='op'>==</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="string-class_method">
  <h3 class='signature '>
    .<strong>string</strong>(object = )  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A node-set is converted to a string by returning the string-value of the node in the node-set that is first in document order. If the node-set is empty, an empty string is returned.</p>

<p>A number is converted to a string as follows</p>

<p>NaN is converted to the string NaN</p>

<p>positive zero is converted to the string 0</p>

<p>negative zero is converted to the string 0</p>

<p>positive infinity is converted to the string Infinity</p>

<p>negative infinity is converted to the string -Infinity</p>

<p>if the number is an integer, the number is represented in decimal form as a Number with no decimal point and no leading zeros, preceded by a minus sign (-) if the number is negative</p>

<p>otherwise, the number is represented in decimal form as a Number including a decimal point with at least one digit before the decimal point and at least one digit after the decimal point, preceded by a minus sign (-) if the number is negative; there must be no leading zeros before the decimal point apart possibly from the one required digit immediately before the decimal point; beyond the one required digit after the decimal point there must be as many, but only as many, more digits as are needed to uniquely distinguish the number from all other IEEE 754 numeric values.</p>

<p>The boolean false value is converted to the string false. The boolean true value is converted to the string true.</p>

<p>An object of a type other than the four basic types is converted to a string in a way that is dependent on that type.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L138-L171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='138' data-end='171'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 138</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_string'>string</span>( <span class='id identifier rubyid_object'>object</span><span class='op'>=</span><span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>] )
  <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_node_type'>node_type</span>)
    <span class='kw'>case</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_node_type'>node_type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_attribute'>attribute</span>
      <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_value'>value</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_element'>element</span>
      <span class='id identifier rubyid_string_value'><a href="#string_value-class_method" title="REXML::Functions.string_value (method)">string_value</a></span>(<span class='id identifier rubyid_object'>object</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_document'>document</span>
      <span class='id identifier rubyid_string_value'><a href="#string_value-class_method" title="REXML::Functions.string_value (method)">string_value</a></span>(<span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_root'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_processing_instruction'><a href="#processing_instruction-class_method" title="REXML::Functions.processing_instruction (method)">processing_instruction</a></span>
      <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_content'>content</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_object'>object</span>
    <span class='kw'>when</span> <span class='const'>Array</span>
      <span class='id identifier rubyid_string'>string</span>(<span class='id identifier rubyid_object'>object</span>[<span class='int'>0</span>])
    <span class='kw'>when</span> <span class='const'>Float</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_nan?'>nan?</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NaN</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_integer'>integer</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_to_i'>to_i</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span> <span class='op'>==</span> <span class='id identifier rubyid_integer'>integer</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%d</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_integer'>integer</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_to_s'>to_s</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="string_length-class_method">
  <h3 class='signature '>
    .<strong>string_length</strong>(string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>UNTESTED</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L261-L263'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='261' data-end='263'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 261</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_string_length'>string_length</span>( <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span> )
  <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>).<span class='id identifier rubyid_length'>length</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="string_value-class_method">
  <h3 class='signature '>
    .<strong>string_value</strong>(o)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A node-set is converted to a string by returning the concatenation of the string-value of each of the children of the node in the node-set that is first in document order. If the node-set is empty, an empty string is returned.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L178-L188'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='178' data-end='188'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 178</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_string_value'>string_value</span>( <span class='id identifier rubyid_o'>o</span> )
  <span class='id identifier rubyid_rv'>rv</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_children'>children</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_node_type'>node_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'><a href="#text-class_method" title="REXML::Functions.text (method)">text</a></span>
      <span class='id identifier rubyid_rv'>rv</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_node_type'>node_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_element'>element</span>
      <span class='id identifier rubyid_rv'>rv</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_string_value'>string_value</span>( <span class='id identifier rubyid_e'>e</span> )
    <span class='kw'>end</span>
  }
  <span class='id identifier rubyid_rv'>rv</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="substring-class_method">
  <h3 class='signature '>
    .<strong>substring</strong>(string, start, length = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Take equal portions of Mike Stok and Sean Russell; mix vigorously, and pour into a tall, chilled glass.  Serves 10,000.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L228-L258'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='228' data-end='258'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 228</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_substring'>substring</span>( <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span><span class='comma'>,</span> <span class='id identifier rubyid_length'>length</span><span class='op'>=</span><span class='kw'>nil</span> )
  <span class='id identifier rubyid_ruby_string'>ruby_string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>)
  <span class='id identifier rubyid_ruby_length'>ruby_length</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_length'>length</span>.<span class='id identifier rubyid_nil?'>nil?</span>
                  <span class='id identifier rubyid_ruby_string'>ruby_string</span>.<span class='id identifier rubyid_length'>length</span>.<span class='id identifier rubyid_to_f'>to_f</span>
                <span class='kw'>else</span>
                  <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>(<span class='id identifier rubyid_length'>length</span>)
                <span class='kw'>end</span>
  <span class='id identifier rubyid_ruby_start'>ruby_start</span> <span class='op'>=</span> <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>(<span class='id identifier rubyid_start'>start</span>)

  <span class='comment'># Handle the special cases
</span>  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> (
    <span class='id identifier rubyid_ruby_length'>ruby_length</span>.<span class='id identifier rubyid_nan?'>nan?</span> <span class='kw'>or</span>
    <span class='id identifier rubyid_ruby_start'>ruby_start</span>.<span class='id identifier rubyid_nan?'>nan?</span> <span class='kw'>or</span>
    <span class='id identifier rubyid_ruby_start'>ruby_start</span>.<span class='id identifier rubyid_infinite?'>infinite?</span>
  )

  <span class='id identifier rubyid_infinite_length'>infinite_length</span> <span class='op'>=</span> <span class='id identifier rubyid_ruby_length'>ruby_length</span>.<span class='id identifier rubyid_infinite?'>infinite?</span> <span class='op'>==</span> <span class='int'>1</span>
  <span class='id identifier rubyid_ruby_length'>ruby_length</span> <span class='op'>=</span> <span class='id identifier rubyid_ruby_string'>ruby_string</span>.<span class='id identifier rubyid_length'>length</span> <span class='kw'>if</span> <span class='id identifier rubyid_infinite_length'>infinite_length</span>

  <span class='comment'># Now, get the bounds.  The XPath bounds are 1..length; the ruby bounds
</span>  <span class='comment'># are 0..length.  Therefore, we have to offset the bounds by one.
</span>  <span class='id identifier rubyid_ruby_start'>ruby_start</span> <span class='op'>=</span> <span class='id identifier rubyid_round'><a href="#round-class_method" title="REXML::Functions.round (method)">round</a></span>(<span class='id identifier rubyid_ruby_start'>ruby_start</span>) <span class='op'>-</span> <span class='int'>1</span>
  <span class='id identifier rubyid_ruby_length'>ruby_length</span> <span class='op'>=</span> <span class='id identifier rubyid_round'><a href="#round-class_method" title="REXML::Functions.round (method)">round</a></span>(<span class='id identifier rubyid_ruby_length'>ruby_length</span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_ruby_start'>ruby_start</span> <span class='op'>&lt;</span> <span class='int'>0</span>
   <span class='id identifier rubyid_ruby_length'>ruby_length</span> <span class='op'>+=</span> <span class='id identifier rubyid_ruby_start'>ruby_start</span> <span class='kw'>unless</span> <span class='id identifier rubyid_infinite_length'>infinite_length</span>
   <span class='id identifier rubyid_ruby_start'>ruby_start</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_ruby_length'>ruby_length</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_ruby_string'>ruby_string</span>[<span class='id identifier rubyid_ruby_start'>ruby_start</span><span class='comma'>,</span><span class='id identifier rubyid_ruby_length'>ruby_length</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="substring_after-class_method">
  <h3 class='signature '>
    .<strong>substring_after</strong>(string, test)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Kouhei fixed this too</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L220-L224'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='220' data-end='224'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 220</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_substring_after'>substring_after</span>( <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span><span class='comma'>,</span> <span class='id identifier rubyid_test'>test</span> )
  <span class='id identifier rubyid_ruby_string'>ruby_string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>)
  <span class='kw'>return</span> <span class='backref'>$1</span> <span class='kw'>if</span> <span class='id identifier rubyid_ruby_string'>ruby_string</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_test'>test</span><span class='embexpr_end'>}</span><span class='tstring_content'>(.*)</span><span class='regexp_end'>/</span></span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="substring_before-class_method">
  <h3 class='signature '>
    .<strong>substring_before</strong>(string, test)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Kouhei fixed this</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L209-L217'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='209' data-end='217'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 209</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_substring_before'>substring_before</span>( <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span><span class='comma'>,</span> <span class='id identifier rubyid_test'>test</span> )
  <span class='id identifier rubyid_ruby_string'>ruby_string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>)
  <span class='id identifier rubyid_ruby_index'>ruby_index</span> <span class='op'>=</span> <span class='id identifier rubyid_ruby_string'>ruby_string</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_test'>test</span>))
  <span class='kw'>if</span> <span class='id identifier rubyid_ruby_index'>ruby_index</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ruby_string'>ruby_string</span>[ <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_ruby_index'>ruby_index</span> ]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sum-class_method">
  <h3 class='signature '>
    .<strong>sum</strong>(nodes)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L409-L412'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='409' data-end='412'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 409</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_sum'>sum</span>( <span class='id identifier rubyid_nodes'>nodes</span> )
  <span class='id identifier rubyid_nodes'>nodes</span> <span class='op'>=</span> [<span class='id identifier rubyid_nodes'>nodes</span>] <span class='kw'>unless</span> <span class='id identifier rubyid_nodes'>nodes</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>Array</span>
  <span class='id identifier rubyid_nodes'>nodes</span>.<span class='id identifier rubyid_inject'>inject</span>(<span class='int'>0</span>) { <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='comma'>,</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>+</span> <span class='id identifier rubyid_number'><a href="#number-class_method" title="REXML::Functions.number (method)">number</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_n'>n</span>)) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="text-class_method">
  <h3 class='signature '>
    .<strong>text</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L40-L48'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='40' data-end='48'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 40</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_text'>text</span>( )
  <span class='kw'>if</span> <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>].<span class='id identifier rubyid_node_type'>node_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_element'>element</span>
    <span class='kw'>return</span> <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>].<span class='id identifier rubyid_find_all'>find_all</span>{<span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_node_type'>node_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>}.<span class='id identifier rubyid_collect'>collect</span>{<span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_value'>value</span>}
  <span class='kw'>elsif</span> <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>].<span class='id identifier rubyid_node_type'>node_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>
    <span class='kw'>return</span> <span class='cvar'>@@context</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_node'>node</span>].<span class='id identifier rubyid_value'>value</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="translate-class_method">
  <h3 class='signature '>
    .<strong>translate</strong>(string, tr1, tr2)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is entirely Mike Stok’s beast</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L276-L316'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='276' data-end='316'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 276</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='id identifier rubyid_translate'>translate</span>( <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span><span class='comma'>,</span> <span class='id identifier rubyid_tr1'>tr1</span><span class='comma'>,</span> <span class='id identifier rubyid_tr2'>tr2</span> )
  <span class='id identifier rubyid_from'>from</span> <span class='op'>=</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_tr1'>tr1</span>)
  <span class='id identifier rubyid_to'>to</span> <span class='op'>=</span> <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_tr2'>tr2</span>)

  <span class='comment'># the map is our translation table.
</span>  <span class='comment'>#
</span>  <span class='comment'># if a character occurs more than once in the
</span>  <span class='comment'># from string then we ignore the second &amp;
</span>  <span class='comment'># subsequent mappings
</span>  <span class='comment'>#
</span>  <span class='comment'># if a character maps to nil then we delete it
</span>  <span class='comment'># in the output.  This happens if the from
</span>  <span class='comment'># string is longer than the to string
</span>  <span class='comment'>#
</span>  <span class='comment'># there&#39;s nothing about - or ^ being special in
</span>  <span class='comment'># http://www.w3.org/TR/xpath#function-translate
</span>  <span class='comment'># so we don&#39;t build ranges or negated classes
</span>
  <span class='id identifier rubyid_map'>map</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='int'>0</span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='id identifier rubyid_from'>from</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>) { <span class='op'>|</span><span class='id identifier rubyid_pos'>pos</span><span class='op'>|</span>
    <span class='id identifier rubyid_from_char'>from_char</span> <span class='op'>=</span> <span class='id identifier rubyid_from'>from</span>[<span class='id identifier rubyid_pos'>pos</span>]
    <span class='kw'>unless</span> <span class='id identifier rubyid_map'>map</span>.<span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_from_char'>from_char</span>
      <span class='id identifier rubyid_map'>map</span>[<span class='id identifier rubyid_from_char'>from_char</span>] <span class='op'>=</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pos'>pos</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_to'>to</span>.<span class='id identifier rubyid_length'>length</span>
        <span class='id identifier rubyid_to'>to</span>[<span class='id identifier rubyid_pos'>pos</span>]
      <span class='kw'>else</span>
        <span class='kw'>nil</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  }

  <span class='kw'>if</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_chars'>chars</span>
    <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>).<span class='id identifier rubyid_chars'>chars</span>.<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_map'>map</span>.<span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_c'>c</span> <span class='kw'>then</span> <span class='id identifier rubyid_map'>map</span>[<span class='id identifier rubyid_c'>c</span>] <span class='kw'>else</span> <span class='id identifier rubyid_c'>c</span> <span class='kw'>end</span>
    }.<span class='id identifier rubyid_compact'>compact</span>.<span class='id identifier rubyid_join'>join</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>(<span class='id identifier rubyid_string'><a href="#string-class_method" title="REXML::Functions.string (method)">string</a></span>).<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>U*</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_map'>map</span>.<span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_c'>c</span> <span class='kw'>then</span> <span class='id identifier rubyid_map'>map</span>[<span class='id identifier rubyid_c'>c</span>] <span class='kw'>else</span> <span class='id identifier rubyid_c'>c</span> <span class='kw'>end</span>
    }.<span class='id identifier rubyid_compact'>compact</span>.<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>U*</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="true-class_method">
  <h3 class='signature '>
    .<strong>true</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>UNTESTED</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rexml/blob/v3.2.5/lib/rexml/functions.rb#L343-L345'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='343' data-end='345'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rexml/functions.rb', line 343</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>Functions</span><span class='op'>::</span><span class='kw'>true</span>( )
  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>