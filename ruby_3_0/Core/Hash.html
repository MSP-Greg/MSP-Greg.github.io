<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Hash &mdash; Core Ruby-3.0.6 pp216</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Hash",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.0.6</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_H'>Index (H)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Hash&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Hash</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L6865'>hash.c</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A Hash maps each of its unique keys to a specific value.</p>

<p>A Hash has certain similarities to an Array, but:</p>
<ul><li>
<p>An Array index is always an Integer.</p>
</li><li>
<p>A Hash key can be (almost) any object.</p>
</li></ul>

<h3 id="label-Hash+Data+Syntax">Hash Data Syntax</h3>

<p>The older syntax for Hash data uses the “hash rocket,” <code>=&gt;</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span> <span class='op'>=&gt;</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Alternatively, but only for a Hash key that’s a Symbol, you can use a newer JSON-style syntax, where each bareword becomes a Symbol:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>You can also use a String in place of a bareword:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='label_end'>&#39;:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='label_end'>&#39;:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='label_end'>&#39;:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>And you can mix the styles:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='label_end'>&#39;:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>But it’s an error to try the JSON-style syntax for a key that’s not a bareword or a <a href="String.html" title="String (class)"><code>::String</code></a>:</p>

<pre class="code ruby"><code class="ruby"># Raises SyntaxError (syntax error, unexpected &#39;:&#39;, expecting =&gt;):
h = {0: &#39;zero&#39;}</code></pre>

<h3 id="label-Common+Uses">Common Uses</h3>

<p>You can use a Hash to give names to objects:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_person'>person</span> <span class='op'>=</span> {<span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Matz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&#39;</span></span>}
<span class='id identifier rubyid_person'>person</span> <span class='comment'># =&gt; {:name=&gt;&quot;Matz&quot;, :language=&gt;&quot;Ruby&quot;}</span></code></pre>

<p>You can use a Hash to give names to method arguments:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>(<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>)
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_some_method'>some_method</span>({<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}) <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Note: when the last argument in a method call is a Hash, the curly braces may be omitted:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_some_method'>some_method</span>(<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>) <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>You can use a Hash to initialize an object:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Dev</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_language'>language</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>)
    <span class='kw'>self</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>]
    <span class='kw'>self</span>.<span class='id identifier rubyid_language'>language</span> <span class='op'>=</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_language'>language</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_matz'>matz</span> <span class='op'>=</span> <span class='const'>Dev</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>(<span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Matz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>language:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_matz'>matz</span> <span class='comment'># =&gt; #&lt;Dev: @name=&quot;Matz&quot;, @language=&quot;Ruby&quot;&gt;</span></code></pre>

<h3 id="label-Creating+a+Hash">Creating a Hash</h3>

<p>Here are three ways to create a Hash:</p>
<ul><li>
<p>Method <a href="#new-class_method" title="Hash.new (method)">.new</a></p>
</li><li>
<p>Method <code>Hash[]</code></p>
</li><li>
<p>Literal form: <code>{}</code>.</p>
</li></ul>
<hr>

<p>You can create a Hash by calling method <a href="#new-class_method" title="Hash.new (method)">.new</a>.</p>

<p>Create an empty <code>Hash</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Hash</span></code></pre>
<hr>

<p>You can create a Hash by calling method <a href="#[]-class_method" title="Hash.[] (method)">.[]</a>.</p>

<p>Create an empty <code>Hash</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>[]
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {}</span></code></pre>

<p>Create a Hash with initial entries:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>[<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>]
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>
<hr>

<p>You can create a Hash by using its literal form (curly braces).</p>

<p>Create an empty Hash:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {}</span></code></pre>

<p>Create a Hash with initial entries:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<h3 id="label-Hash+Value+Basics">Hash Value Basics</h3>

<p>The simplest way to retrieve a Hash value (instance method <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='comment'># =&gt; 0</span></code></pre>

<p>The simplest way to create or update a Hash value (instance method <a href="#[]=-instance_method" title="Hash#[]= (method)">#[]=</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span>] <span class='op'>=</span> <span class='int'>3</span> <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2, :bat=&gt;3}
</span><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='int'>4</span> <span class='comment'># =&gt; 4
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;4, :bar=&gt;1, :baz=&gt;2, :bat=&gt;3}</span></code></pre>

<p>The simplest way to delete a Hash entry (instance method <a href="#delete-instance_method" title="Hash#delete (method)">#delete</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Hash#delete (method)">delete</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :baz=&gt;2}</span></code></pre>

<h3 id="label-Entry+Order">Entry Order</h3>

<p>A Hash object presents its entries in the order of their creation. This is seen in:</p>
<ul><li>
<p>Iterative methods such as <a href="#each-instance_method" title="Hash#each (method)">#each</a>, <a href="#each_key-instance_method" title="Hash#each_key (method)">#each_key</a>, <a href="#each_pair-instance_method" title="Hash#each_pair (method)">#each_pair</a>, <a href="#each_value-instance_method" title="Hash#each_value (method)">#each_value</a>.</p>
</li><li>
<p>Other order-sensitive methods such as <a href="#shift-instance_method" title="Hash#shift (method)">#shift</a>, <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>, <a href="#values-instance_method" title="Hash#values (method)">#values</a>.</p>
</li><li>
<p>The String returned by method <a href="#inspect-instance_method" title="Hash#inspect (method)">#inspect</a>.</p>
</li></ul>

<p>A new Hash has its initial ordering per the given entries:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>[<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>]
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1}</span></code></pre>

<p>New entries are added at the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>] <span class='op'>=</span> <span class='int'>2</span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Updating a value does not affect the order:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>] <span class='op'>=</span> <span class='int'>3</span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;3}</span></code></pre>

<p>But re-creating a deleted entry can affect the order:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Hash#delete (method)">delete</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='int'>5</span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:bar=&gt;1, :baz=&gt;3, :foo=&gt;5}</span></code></pre>

<h3 id="label-Hash+Keys">Hash Keys</h3>

<h4 id="label-Hash+Key+Equivalence">Hash Key Equivalence</h4>

<p>Two objects are treated as the same hash key when their <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> value is identical and the two objects are <a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a> to each other.</p>

<h4 id="label-Modifying+an+Active+Hash+Key">Modifying an Active Hash Key</h4>

<p>Modifying a Hash key while it is in use damages the hash’s index.</p>

<p>This Hash has keys that are Arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a0'>a0</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> ]
<span class='id identifier rubyid_a1'>a1</span> <span class='op'>=</span> [ <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span> ]
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='id identifier rubyid_a0'>a0</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_a1'>a1</span> <span class='op'>=&gt;</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='id identifier rubyid_a0'>a0</span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_a0'>a0</span>] <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_a0'>a0</span>.<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span> <span class='comment'># =&gt; 110002110</span></code></pre>

<p>Modifying array element <code>a0[0]</code> changes its hash value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a0'>a0</span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bam'>bam</span>
<span class='id identifier rubyid_a0'>a0</span>.<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span> <span class='comment'># =&gt; 1069447059</span></code></pre>

<p>And damages the Hash index:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='id identifier rubyid_a0'>a0</span>) <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_a0'>a0</span>] <span class='comment'># =&gt; nil</span></code></pre>

<p>You can repair the hash index using method <a href="#rehash-instance_method" title="Hash#rehash (method)">#rehash</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_rehash'><a href="#rehash-instance_method" title="Hash#rehash (method)">rehash</a></span> <span class='comment'># =&gt; {[:bam, :bar]=&gt;0, [:baz, :bat]=&gt;1}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='id identifier rubyid_a0'>a0</span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_a0'>a0</span>] <span class='comment'># =&gt; 0</span></code></pre>

<p>A String key is always safe. That’s because an unfrozen String passed as a key will be replaced by a duplicated and frozen String:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_frozen?'>frozen?</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='id identifier rubyid_s'>s</span> <span class='op'>=&gt;</span> <span class='int'>0</span>}
<span class='id identifier rubyid_first_key'>first_key</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Hash#keys (method)">keys</a></span>.<span class='id identifier rubyid_first'>first</span>
<span class='id identifier rubyid_first_key'>first_key</span>.<span class='id identifier rubyid_frozen?'>frozen?</span> <span class='comment'># =&gt; true</span></code></pre>

<h4 id="label-User-Defined+Hash+Keys">User-Defined Hash Keys</h4>

<p>To be useable as a Hash key, objects must implement the methods <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a>. Note: this requirement does not apply if the Hash uses <code>#compare_by_id</code> since comparison will then rely on the keys’ object id instead of <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a>.</p>

<p>Object defines basic implementation for <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> and <code>eq?</code> that makes each object a distinct key. Typically, user-defined classes will want to override these methods to provide meaningful behavior, or for example inherit Struct that has useful definitions for these.</p>

<p>A typical implementation of <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is based on the object’s data while <a href="#eql%3F-instance_method" title="Hash#eql? (method)">#eql?</a> is usually aliased to the overridden <a href="#==-instance_method" title="Hash#== (method)">#==</a> method:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Book</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_author'>author</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_title'>title</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_author'>author</span><span class='comma'>,</span> <span class='id identifier rubyid_title'>title</span>)
    <span class='ivar'>@author</span> <span class='op'>=</span> <span class='id identifier rubyid_author'>author</span>
    <span class='ivar'>@title</span> <span class='op'>=</span> <span class='id identifier rubyid_title'>title</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
    <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>===</span> <span class='id identifier rubyid_other'>other</span> <span class='op'>&amp;&amp;</span>
      <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_author'>author</span> <span class='op'>==</span> <span class='ivar'>@author</span> <span class='op'>&amp;&amp;</span>
      <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_title'>title</span> <span class='op'>==</span> <span class='ivar'>@title</span>
  <span class='kw'>end</span>

  <span class='kw'>alias</span> <span class='id identifier rubyid_eql?'><a href="#eql%3F-instance_method" title="Hash#eql? (method)">eql?</a></span> <span class='op'>==</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>
    <span class='ivar'>@author</span>.<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span> <span class='op'>^</span> <span class='ivar'>@title</span>.<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span> <span class='comment'># XOR
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_book1'>book1</span> <span class='op'>=</span> <span class='const'>Book</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>matz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ruby in a Nutshell</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_book2'>book2</span> <span class='op'>=</span> <span class='const'>Book</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>matz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ruby in a Nutshell</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_reviews'>reviews</span> <span class='op'>=</span> {}

<span class='id identifier rubyid_reviews'>reviews</span>[<span class='id identifier rubyid_book1'>book1</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Great reference!</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_reviews'>reviews</span>[<span class='id identifier rubyid_book2'>book2</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Nice and compact!</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_reviews'>reviews</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Hash#length (method)">length</a></span> <span class='comment'>#=&gt; 1</span></code></pre>

<h3 id="label-Default+Values">Default Values</h3>

<p>The methods <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a>, <a href="#values_at-instance_method" title="Hash#values_at (method)">#values_at</a> and <a href="#dig-instance_method" title="Hash#dig (method)">#dig</a> need to return the value associated to a certain key. When that key is not found, that value will be determined by its default proc (if any) or else its default (initially <code>nil</code>).</p>

<p>You can retrieve the default value with method <a href="#default-instance_method" title="Hash#default (method)">#default</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; nil</span></code></pre>

<p>You can set the default value by passing an argument to method <a href="#new-class_method" title="Hash.new (method)">.new</a> or with method <a href="#default=-instance_method" title="Hash#default= (method)">#default=</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>(<span class='op'>-</span><span class='int'>1</span>)
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; -1
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='op'>=</span> <span class='int'>0</span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; 0</span></code></pre>

<p>This default value is returned for <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a>, <a href="#values_at-instance_method" title="Hash#values_at (method)">#values_at</a> and <a href="#dig-instance_method" title="Hash#dig (method)">#dig</a> when a key is not found:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_counts'>counts</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>42</span>}
<span class='id identifier rubyid_counts'>counts</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; nil (default)
</span><span class='id identifier rubyid_counts'>counts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='int'>42</span>
<span class='id identifier rubyid_counts'>counts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>] <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_counts'>counts</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='op'>=</span> <span class='int'>0</span>
<span class='id identifier rubyid_counts'>counts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>] <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_counts'>counts</span>.<span class='id identifier rubyid_values_at'><a href="#values_at-instance_method" title="Hash#values_at (method)">values_at</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>) <span class='comment'># =&gt; [42, 0, 0]
</span><span class='id identifier rubyid_counts'>counts</span>.<span class='id identifier rubyid_dig'><a href="#dig-instance_method" title="Hash#dig (method)">dig</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; 0</span></code></pre>

<p>Note that the default value is used without being duplicated. It is not advised to set the default value to a mutable object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_synonyms'>synonyms</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>([])
<span class='id identifier rubyid_synonyms'>synonyms</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span>] <span class='comment'># =&gt; []
</span><span class='id identifier rubyid_synonyms'>synonyms</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span>] <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hi'>hi</span> <span class='comment'># =&gt; [:hi], but this mutates the default!
</span><span class='id identifier rubyid_synonyms'>synonyms</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; [:hi]
</span><span class='id identifier rubyid_synonyms'>synonyms</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_world'>world</span>] <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_universe'>universe</span>
<span class='id identifier rubyid_synonyms'>synonyms</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_world'>world</span>] <span class='comment'># =&gt; [:hi, :universe], oops
</span><span class='id identifier rubyid_synonyms'>synonyms</span>.<span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Hash#keys (method)">keys</a></span> <span class='comment'># =&gt; [], oops</span></code></pre>

<p>To use a mutable object as default, it is recommended to use a default proc</p>

<h4 id="label-Default+Proc">Default Proc</h4>

<p>When the default proc for a Hash is set (i.e., not <code>nil</code>), the default value returned by method <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a> is determined by the default proc alone.</p>

<p>You can retrieve the default proc with method <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='comment'># =&gt; nil</span></code></pre>

<p>You can set the default proc by calling <a href="#new-class_method" title="Hash.new (method)">.new</a> with a block or calling the method <a href="#default_proc=-instance_method" title="Hash#default_proc= (method)">#default_proc=</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> { <span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> { <span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="Hash#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc</span></code></pre>

<p>When the default proc is set (i.e., not <code>nil</code>) and method <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a> is called with with a non-existent key, <a href="#[]-instance_method" title="Hash#[] (method)">#[]</a> calls the default proc with both the Hash object itself and the missing key, then returns the proc’s return value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> { <span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>] <span class='comment'># =&gt; &quot;Default value for nosuch&quot;</span></code></pre>

<p>Note that in the example above no entry for key <code>:nosuch</code> is created:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) <span class='comment'># =&gt; false</span></code></pre>

<p>However, the proc itself can add a new entry:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_synonyms'>synonyms</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> { <span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>[<span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>] <span class='op'>=</span> [] }
<span class='id identifier rubyid_synonyms'>synonyms</span>.<span class='id identifier rubyid_include?'><a href="#include%3F-instance_method" title="Hash#include? (method)">include?</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span>) <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_synonyms'>synonyms</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span>] <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hi'>hi</span> <span class='comment'># =&gt; [:hi]
</span><span class='id identifier rubyid_synonyms'>synonyms</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_world'>world</span>] <span class='op'>&lt;&lt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_universe'>universe</span> <span class='comment'># =&gt; [:universe]
</span><span class='id identifier rubyid_synonyms'>synonyms</span>.<span class='id identifier rubyid_keys'><a href="#keys-instance_method" title="Hash#keys (method)">keys</a></span> <span class='comment'># =&gt; [:hello, :world]</span></code></pre>

<p>Note that setting the default proc will clear the default value and vice versa.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#[]-class_method" title="[] (class method)">.<strong>[]</strong>  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Hash object populated with the given objects, if any.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(default_value = nil)  &#x21d2; Hash </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new empty Hash object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ruby2_keywords_hash-class_method" title="ruby2_keywords_hash (class method)">.<strong>ruby2_keywords_hash</strong>(hash)  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Duplicates a given hash and adds a ruby2_keywords flag.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ruby2_keywords_hash%3F-class_method" title="ruby2_keywords_hash? (class method)">.<strong>ruby2_keywords_hash?</strong>(hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks if a given hash is flagged by <a href="Module.html#ruby2_keywords-instance_method" title="Module#ruby2_keywords (method)">Module#ruby2_keywords</a> (or <a href="Proc.html#ruby2_keywords-instance_method" title="Proc#ruby2_keywords (method)">Proc#ruby2_keywords</a>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#try_convert-class_method" title="try_convert (class method)">.<strong>try_convert</strong>(obj)  &#x21d2; Object, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <code>obj</code> is a Hash object, returns <code>obj</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#compare_by_identity-instance_method" title="#compare_by_identity (instance method)">#<strong>compare_by_identity</strong>  &#x21d2; self </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets <code>self</code> to consider only identity in comparing keys; two keys are considered the same only if they are the same object; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#compare_by_identity%3F-instance_method" title="#compare_by_identity? (instance method)">#<strong>compare_by_identity?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <a href="#compare_by_identity-instance_method" title="Hash#compare_by_identity (method)">#compare_by_identity</a> has been called, <code>false</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_proc-instance_method" title="#default_proc (instance method)">#<strong>default_proc</strong>  &#x21d2; Proc<sup>?</sup> </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the default proc for <code>self</code> (see <a href='#label-Default+Values'>Default Values</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_proc=-instance_method" title="#default_proc= (instance method)">#<strong>default_proc=</strong>(proc)  &#x21d2; Proc </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the default proc for <code>self</code> to <code>proc</code>: (see <a href='#label-Default+Values'>Default Values</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if there are no hash entries, <code>false</code> otherwise:</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<-instance_method" title="#&lt; (instance method)">#<strong>&lt;</strong>(other_hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is a proper subset of <code>other_hash</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<=-instance_method" title="#&lt;= (instance method)">#<strong>&lt;=</strong>(other_hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is a subset of <code>other_hash</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if all of the following are true: * <code>object</code> is a Hash object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#>-instance_method" title="#&gt; (instance method)">#<strong>&gt;</strong>(other_hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is a proper superset of <code>other_hash</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#>=-instance_method" title="#&gt;= (instance method)">#<strong>&gt;=</strong>(other_hash)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is a superset of <code>other_hash</code>, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(key)  &#x21d2; value </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the value associated with the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>, if found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(key, value)  &#x21d2; value </a>
      (also: #store)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><a href="#store-instance_method" title="Hash#store (method)">#store</a> is an alias for <code>[]=</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#any%3F-instance_method" title="#any? (instance method)">#<strong>any?</strong>  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if any element satisfies a given criterion; <code>false</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#assoc-instance_method" title="#assoc (instance method)">#<strong>assoc</strong>(key)  &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> is found, returns a 2-element Array containing that key and its value:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes all hash entries; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compact-instance_method" title="#compact (instance method)">#<strong>compact</strong>  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>self</code> with all <code>nil</code>-valued entries removed:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compact!-instance_method" title="#compact! (instance method)">#<strong>compact!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code> with all its <code>nil</code>-valued entries removed (in place):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#deconstruct_keys-instance_method" title="#deconstruct_keys (instance method)">#<strong>deconstruct_keys</strong>(keys)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default-instance_method" title="#default (instance method)">#<strong>default</strong>  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the default value for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default=-instance_method" title="#default= (instance method)">#<strong>default=</strong>(value)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the default value to <code>value</code>; returns <code>value</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(key)  &#x21d2; value<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes the entry for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> and returns its associated value.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong> {|key, value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If a block given, calls the block with each key-value pair; deletes each entry for which the block returns a truthy value; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(key, *identifiers)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Finds and returns the object in nested objects that is specified by <a href="#key-instance_method" title="Hash#key (method)">#key</a> and <code>identifiers</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong> {|key, value| ... } &#x21d2; self </a>
      (also: #each_pair)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>each</code> is an alias for <a href="#each_pair-instance_method" title="Hash#each_pair (method)">#each_pair</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_key-instance_method" title="#each_key (instance method)">#<strong>each_key</strong> {|key| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the given block with each key; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_pair-instance_method" title="#each_pair (instance method)">#<strong>each_pair</strong> {|key, value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#each-instance_method" title="Hash#each (method)">#each</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_value-instance_method" title="#each_value (instance method)">#<strong>each_value</strong> {|value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the given block with each value; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if all of the following are true: * <code>object</code> is a Hash object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#except-instance_method" title="#except (instance method)">#<strong>except</strong>(*keys)  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Hash excluding entries for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fetch-instance_method" title="#fetch (instance method)">#<strong>fetch</strong>(key)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the value for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>, if found.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fetch_values-instance_method" title="#fetch_values (instance method)">#<strong>fetch_values</strong>(*keys)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Array containing the values associated with the given keys *keys:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter-instance_method" title="#select (instance method)">#<strong>select</strong> {|key, value| ... } &#x21d2; Hash </a>
      (also: #select)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>filter</code> is an alias for <a href="#select-instance_method" title="Hash#select (method)">#select</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter!-instance_method" title="#select! (instance method)">#<strong>select!</strong> {|key, value| ... } &#x21d2; self<sup>?</sup> </a>
      (also: #select!)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>filter!</code> is an alias for <a href="#select!-instance_method" title="Hash#select! (method)">#select!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#flatten-instance_method" title="#flatten (instance method)">#<strong>flatten</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Array object that is a 1-dimensional flattening of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#has_key%3F-instance_method" title="#has_key? (instance method)">#<strong>has_key?</strong>(key)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#has_value%3F-instance_method" title="#has_value? (instance method)">#<strong>has_value?</strong>(value)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#value%3F-instance_method" title="Hash#value? (method)">#value?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the Integer hash-code for the hash.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(key)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(other_hash)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#replace-instance_method" title="Hash#replace (method)">#replace</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_s-instance_method" title="Hash#to_s (method)">#to_s</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#invert-instance_method" title="#invert (instance method)">#<strong>invert</strong>  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Hash object with the each key-value pair inverted:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#keep_if-instance_method" title="#keep_if (instance method)">#<strong>keep_if</strong> {|key, value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the block for each key-value pair; retains the entry if the block returns a truthy value; otherwise deletes the entry; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#key-instance_method" title="#key (instance method)">#<strong>key</strong>(value)  &#x21d2; key<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the key for the first-found entry with the given <code>value</code> (see <a href='#label-Entry+Order'>Entry Order</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#key%3F-instance_method" title="#key? (instance method)">#<strong>key?</strong>(key)  &#x21d2; Boolean </a>
      (also: #include?, #member?, #has_key?)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Methods <a href="#has_key%3F-instance_method" title="Hash#has_key? (method)">#has_key?</a>, <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>, and <a href="#member%3F-instance_method" title="Hash#member? (method)">#member?</a> are aliases for #include?.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#keys-instance_method" title="#keys (instance method)">#<strong>keys</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Array containing all keys in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
      (also: #size)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the count of entries in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#member%3F-instance_method" title="#member? (instance method)">#<strong>member?</strong>(key)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#merge-instance_method" title="#merge (instance method)">#<strong>merge</strong>  &#x21d2; copy_of_self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the new Hash formed by merging each of <code>other_hashes</code> into a copy of <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#merge!-instance_method" title="#merge! (instance method)">#<strong>merge!</strong>  &#x21d2; self </a>
      (also: #update)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Merges each of <code>other_hashes</code> into <code>self</code>; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rassoc-instance_method" title="#rassoc (instance method)">#<strong>rassoc</strong>(value)  &#x21d2; Array<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new 2-element Array consisting of the key and value of the first-found entry whose value is <a href="#==-instance_method" title="Hash#== (method)">#==</a> to value (see <a href='#label-Entry+Order'>Entry Order</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rehash-instance_method" title="#rehash (instance method)">#<strong>rehash</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Rebuilds the hash table by recomputing the hash index for each key; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong> {|key, value| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Hash object whose entries are all those from <code>self</code> for which the block returns <code>false</code> or <code>nil</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject!-instance_method" title="#reject! (instance method)">#<strong>reject!</strong> {|key, value| ... } &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>, whose remaining entries are those for which the block returns <code>false</code> or <code>nil</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_hash)  &#x21d2; self </a>
      (also: #initialize_copy)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replaces the entire contents of <code>self</code> with the contents of <code>other_hash</code>; returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong> {|key, value| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#filter-instance_method" title="Hash#filter (method)">#filter</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select!-instance_method" title="#select! (instance method)">#<strong>select!</strong> {|key, value| ... } &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#filter!-instance_method" title="Hash#filter! (method)">#filter!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shift-instance_method" title="#shift (instance method)">#<strong>shift</strong>  &#x21d2; Array, value </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes the first hash entry (see <a href='#label-Entry+Order'>Entry Order</a>); returns a 2-element Array containing the removed key and value:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#length-instance_method" title="Hash#length (method)">#length</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(*keys)  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Hash object containing the entries for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#store-instance_method" title="#store (instance method)">#<strong>store</strong>(key, value)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]=-instance_method" title="Hash#[]= (method)">#[]=</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Array of 2-element Array objects; each nested Array contains a key-value pair from <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>  &#x21d2; self, Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>For an instance of Hash, returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">#<strong>to_hash</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_proc-instance_method" title="#to_proc (instance method)">#<strong>to_proc</strong>  &#x21d2; Proc </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a Proc object that maps a key to its value:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
      (also: #inspect)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new String containing the hash entries:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transform_keys-instance_method" title="#transform_keys (instance method)">#<strong>transform_keys</strong> {|key| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Hash object; each entry has: * A key provided by the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transform_keys!-instance_method" title="#transform_keys! (instance method)">#<strong>transform_keys!</strong> {|key| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Same as <a href="#transform_keys-instance_method" title="Hash#transform_keys (method)">#transform_keys</a> but modifies the receiver in place instead of returning a new hash.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transform_values-instance_method" title="#transform_values (instance method)">#<strong>transform_values</strong> {|value| ... } &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Hash object; each entry has: * A key from <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#transform_values!-instance_method" title="#transform_values! (instance method)">#<strong>transform_values!</strong> {|value| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>, whose keys are unchanged, and whose values are determined by the given block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#update-instance_method" title="#merge! (instance method)">#<strong>merge!</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#merge!-instance_method" title="Hash#merge! (method)">#merge!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#value%3F-instance_method" title="#value? (instance method)">#<strong>value?</strong>(value)  &#x21d2; Boolean </a>
      (also: #has_value?)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>value</code> is a value in <code>self</code>, otherwise <code>false</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values-instance_method" title="#values (instance method)">#<strong>values</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Array containing all values in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>(*keys)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Array containing values for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a></td>
      <td><div class='inline'><p>Passes each element of the collection to the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a></td>
      <td><div class='inline'><p>Passes each element of the collection to the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chain-instance_method" title="Enumerable#chain (method)">#chain</a></td>
      <td><div class='inline'><p>Returns an enumerator object generated from this enumerator and given enumerables.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a></td>
      <td><div class='inline'><p>Enumerates over the items, chunking them together based on the return value of the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">#collect</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">Enumerable#map</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#collect_concat-instance_method" title="Enumerable#collect_concat (method)">#collect_concat</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">Enumerable#flat_map</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a></td>
      <td><div class='inline'><p>Returns the number of items in <code>enum</code> through enumeration.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a></td>
      <td><div class='inline'><p>Calls <em>block</em> for each element of <em>enum</em> repeatedly <em>n</em> times or forever if none or <code>nil</code> is given.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#detect-instance_method" title="Enumerable#detect (method)">#detect</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">Enumerable#find</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a></td>
      <td><div class='inline'><p>Drops first n elements from <em>enum</em>, and returns rest elements in an array.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a></td>
      <td><div class='inline'><p>Drops elements up to, but not including, the first element for which the block returns <code>nil</code> or <code>false</code> and returns an array containing the remaining elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a></td>
      <td><div class='inline'><p>Iterates the given block for each array of consecutive &lt;n&gt; elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a></td>
      <td><div class='inline'><p>Calls <em>block</em> once for each element in <code>self</code>, passing that element as a parameter, converting multiple values from yield to an array.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a></td>
      <td><div class='inline'><p>Iterates the given block for each slice of &lt;n&gt; elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a></td>
      <td><div class='inline'><p>Calls <em>block</em> with two arguments, the item and its index, for each item in <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a></td>
      <td><div class='inline'><p>Iterates the given block for each element with an arbitrary object given, and returns the initially given object.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#entries-instance_method" title="Enumerable#entries (method)">#entries</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">Enumerable#to_a</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">#filter</a></td>
      <td><div class='inline'><p>Returns an array containing all elements of <code>enum</code> for which the given <code>block</code> returns a true value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#filter_map-instance_method" title="Enumerable#filter_map (method)">#filter_map</a></td>
      <td><div class='inline'><p>Returns a new array containing the truthy results (everything except <code>false</code> or <code>nil</code>) of running the <code>block</code> for every element in <code>enum</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a></td>
      <td><div class='inline'><p>Passes each entry in <em>enum</em> to <em>block</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">Enumerable#filter</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a></td>
      <td><div class='inline'><p>Compares each entry in <em>enum</em> with <em>value</em> or passes to <em>block</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a></td>
      <td><div class='inline'><p>Returns the first element, or the first <code>n</code> elements, of the enumerable.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a></td>
      <td><div class='inline'><p>Returns a new array with the concatenated results of running <em>block</em> once for every element in <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a></td>
      <td><div class='inline'><p>Returns an array of every element in <em>enum</em> for which <code>Pattern === element</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a></td>
      <td><div class='inline'><p>Inverted version of <a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">Enumerable#grep</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a></td>
      <td><div class='inline'><p>Groups the collection by result of the block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#include%3F-instance_method" title="Enumerable#include? (method)">#include?</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">Enumerable#member?</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a></td>
      <td><div class='inline'><p>Combines all elements of <em>enum</em> by applying a binary operation, specified by a block or a symbol that names a method or operator.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a></td>
      <td><div class='inline'><p>Returns an <a href="Enumerator/Lazy.html" title="Enumerator::Lazy (class)"><code>::Enumerator::Lazy</code></a>, which redefines most <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a> methods to postpone enumeration and enumerate values only on an as-needed basis.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">#map</a></td>
      <td><div class='inline'><p>Returns a new array with the results of running <em>block</em> once for every element in <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a></td>
      <td><div class='inline'><p>Returns the object in <em>enum</em> with the maximum value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a></td>
      <td><div class='inline'><p>Returns the object in <em>enum</em> that gives the maximum value from the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a></td>
      <td><div class='inline'><p>Returns <code>true</code> if any member of <em>enum</em> equals <em>obj</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a></td>
      <td><div class='inline'><p>Returns the object in <em>enum</em> with the minimum value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a></td>
      <td><div class='inline'><p>Returns the object in <em>enum</em> that gives the minimum value from the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a></td>
      <td><div class='inline'><p>Returns a two element array which contains the minimum and the maximum value in the enumerable.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a></td>
      <td><div class='inline'><p>Returns a two element array containing the objects in <em>enum</em> that correspond to the minimum and maximum values respectively from the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a></td>
      <td><div class='inline'><p>Passes each element of the collection to the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a></td>
      <td><div class='inline'><p>Passes each element of the collection to the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a></td>
      <td><div class='inline'><p>Returns two arrays, the first containing the elements of <em>enum</em> for which the block evaluates to true, the second containing the rest.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reduce-instance_method" title="Enumerable#reduce (method)">#reduce</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">Enumerable#inject</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a></td>
      <td><div class='inline'><p>Returns an array for all elements of <code>enum</code> for which the given <code>block</code> returns <code>false</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a></td>
      <td><div class='inline'><p>Builds a temporary array and traverses that array in reverse order.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">#select</a></td>
      <td><div class='inline'><p>Alias for <a href="Enumerable.html#filter-instance_method" title="Enumerable#filter (method)">Enumerable#filter</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_after-instance_method" title="Enumerable#slice_after (method)">#slice_after</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a></td>
      <td><div class='inline'><p>Creates an enumerator for each chunked elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a></td>
      <td><div class='inline'><p>Returns an array containing the items in <em>enum</em> sorted.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a></td>
      <td><div class='inline'><p>Sorts <em>enum</em> using a set of keys generated by mapping the values in <em>enum</em> through the given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#sum-instance_method" title="Enumerable#sum (method)">#sum</a></td>
      <td><div class='inline'><p>Returns the sum of elements in an <a href="Enumerable.html" title="Enumerable (module)"><code>::Enumerable</code></a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a></td>
      <td><div class='inline'><p>Returns first n elements from <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a></td>
      <td><div class='inline'><p>Passes elements to the block until the block returns <code>nil</code> or <code>false</code>, then stops iterating and returns an array of all prior elements.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#tally-instance_method" title="Enumerable#tally (method)">#tally</a></td>
      <td><div class='inline'><p>Tallies the collection, i.e., counts the occurrences of each element.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a></td>
      <td><div class='inline'><p>Returns an array containing the items in <em>enum</em>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#to_h-instance_method" title="Enumerable#to_h (method)">#to_h</a></td>
      <td><div class='inline'><p>Returns the result of interpreting <em>enum</em> as a list of <code>[key, value]</code> pairs.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#uniq-instance_method" title="Enumerable#uniq (method)">#uniq</a></td>
      <td><div class='inline'><p>Returns a new array by removing duplicate values in <code>self</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></td>
      <td><div class='inline'><p>Takes one element from <em>enum</em> and merges corresponding elements from each <em>args</em>.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>new</strong>(default_value = nil)  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>.<strong>new</strong> {|hash, key| ... } &#x21d2; <code>Hash</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new empty Hash object.</p>

<p>The initial default value and initial default proc for the new hash depend on which form above was used. See <a href='#label-Default+Values'>Default Values</a>.</p>

<p>If neither an argument nor a block given, initializes both the default value and the default proc to <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='comment'># =&gt; nil</span></code></pre>

<p>If argument <code>default_value</code> given but no block given, initializes the default value to the given <code>default_value</code> and the default proc to <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span>(<span class='kw'>false</span>)
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='comment'># =&gt; nil</span></code></pre>

<p>If a block given but no argument, stores the block as the default proc and sets the default value to <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span> {<span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc
</span><span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>] <span class='comment'># =&gt; &quot;Default value for nosuch&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L1771-L1789'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1771' data-end='1789'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1771</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_initialize(int argc, VALUE *argv, VALUE hash)
{
    VALUE ifnone;

    rb_hash_modify(hash);
    if (rb_block_given_p()) {
	rb_check_arity(argc, 0, 0);
	ifnone = rb_block_proc();
	SET_PROC_DEFAULT(hash, ifnone);
    }
    else {
	rb_check_arity(argc, 0, 1);
	ifnone = argc == 0 ? Qnil : argv[0];
	RHASH_SET_IFNONE(hash, ifnone);
    }

    return hash;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="[]-class_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>[]</strong>  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>.<strong>[]</strong>(hash)  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>.<strong>[]</strong>([*2_element_arrays] )  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>.<strong>[]</strong>(*objects)  &#x21d2; <code>Hash</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Hash object populated with the given objects, if any. See <a href="#new-class_method" title="Hash.new (method)">.new</a>.</p>

<p>With no argument, returns a new empty Hash.</p>

<p>When the single given argument is a Hash, returns a new Hash populated with the entries from the given Hash.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='const'>Hash</span>[<span class='id identifier rubyid_h'>h</span>] <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>When the single given argument is an Array of 2-element Arrays, returns a new Hash object wherein each 2-element array forms a key-value entry:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Hash</span>[ [ [<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='int'>0</span>]<span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>1</span>] ] ] <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1}</span></code></pre>

<p>When the argument count is an even number; returns a new Hash object wherein each successive pair of arguments has become a key-value entry:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Hash</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>1</span>] <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1}</span></code></pre>

<p>Raises an exception if the argument list does not conform to any of the above.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L1820-L1869'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1820' data-end='1869'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1820</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_s_create(int argc, VALUE *argv, VALUE klass)
{
    VALUE hash, tmp;

    if (argc == 1) {
        tmp = rb_hash_s_try_convert(Qnil, argv[0]);
	if (!NIL_P(tmp)) {
	    hash = hash_alloc(klass);
            hash_copy(hash, tmp);
	    return hash;
	}

	tmp = rb_check_array_type(argv[0]);
	if (!NIL_P(tmp)) {
	    long i;

	    hash = hash_alloc(klass);
	    for (i = 0; i &lt; RARRAY_LEN(tmp); ++i) {
		VALUE e = RARRAY_AREF(tmp, i);
		VALUE v = rb_check_array_type(e);
		VALUE key, val = Qnil;

		if (NIL_P(v)) {
		    rb_raise(rb_eArgError, &quot;wrong element type %s at %ld (expected array)&quot;,
			     rb_builtin_class_name(e), i);
		}
		switch (RARRAY_LEN(v)) {
		  default:
		    rb_raise(rb_eArgError, &quot;invalid number of elements (%ld for 1..2)&quot;,
			     RARRAY_LEN(v));
		  case 2:
		    val = RARRAY_AREF(v, 1);
		  case 1:
		    key = RARRAY_AREF(v, 0);
		    rb_hash_aset(hash, key, val);
		}
	    }
	    return hash;
	}
    }
    if (argc % 2 != 0) {
	rb_raise(rb_eArgError, &quot;odd number of arguments for Hash&quot;);
    }

    hash = hash_alloc(klass);
    rb_hash_bulk_insert(argc, argv, hash);
    hash_verify(hash);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ruby2_keywords_hash-class_method">
  <h3 class='signature '>
    .<strong>ruby2_keywords_hash</strong>(hash)  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Duplicates a given hash and adds a ruby2_keywords flag. This method is not for casual use; debugging, researching, and some truly necessary cases like deserialization of arguments.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>k:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_ruby2_keywords_hash'>ruby2_keywords_hash</span>(<span class='id identifier rubyid_h'>h</span>)
<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='label'>k:</span> <span class='int'>42</span>)
  <span class='id identifier rubyid_k'>k</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span>[<span class='id identifier rubyid_h'>h</span>]) <span class='comment'>#=&gt; 1 with neither a warning or an error</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L1940-L1947'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1940' data-end='1947'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1940</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_s_ruby2_keywords_hash(VALUE dummy, VALUE hash)
{
    Check_Type(hash, T_HASH);
    hash = rb_hash_dup(hash);
    RHASH(hash)-&gt;basic.flags |= RHASH_PASS_AS_KEYWORDS;
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ruby2_keywords_hash?-class_method">
  <h3 class='signature '>
    .<strong>ruby2_keywords_hash?</strong>(hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks if a given hash is flagged by <a href="Module.html#ruby2_keywords-instance_method" title="Module#ruby2_keywords (method)">Module#ruby2_keywords</a> (or <a href="Proc.html#ruby2_keywords-instance_method" title="Proc#ruby2_keywords (method)">Proc#ruby2_keywords</a>). This method is not for casual use; debugging, researching, and some truly necessary cases like serialization of arguments.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ruby2_keywords'>ruby2_keywords</span> <span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='const'>Hash</span>.<span class='id identifier rubyid_ruby2_keywords_hash?'>ruby2_keywords_hash?</span>(<span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_last'>last</span>)
<span class='kw'>end</span>
<span class='id identifier rubyid_foo'>foo</span>(<span class='label'>k:</span> <span class='int'>1</span>)   <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_foo'>foo</span>({<span class='label'>k:</span> <span class='int'>1</span>}) <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L1918-L1923'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1918' data-end='1923'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1918</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_s_ruby2_keywords_hash_p(VALUE dummy, VALUE hash)
{
    Check_Type(hash, T_HASH);
    return (RHASH(hash)-&gt;basic.flags &amp; RHASH_PASS_AS_KEYWORDS) ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="try_convert-class_method">
  <h3 class='signature '>
    .<strong>try_convert</strong>(obj)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <code>obj</code> is a Hash object, returns <code>obj</code>.</p>

<p>Otherwise if <code>obj</code> responds to <code>:to_hash</code>, calls <code>obj.to_hash</code> and returns the result.</p>

<p>Returns <code>nil</code> if <code>obj</code> does not respond to <code>:to_hash</code></p>

<p>Raises an exception unless <code>obj.to_hash</code> returns a Hash object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L1897-L1901'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1897' data-end='1901'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1897</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_s_try_convert(VALUE dummy, VALUE hash)
{
    return rb_check_hash_type(hash);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="compare_by_identity-instance_method">
  <h3 class='signature ro first'>
    #<strong>compare_by_identity</strong>  &#x21d2; <code>self</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets <code>self</code> to consider only identity in comparing keys; two keys are considered the same only if they are the same object; returns <code>self</code>.</p>

<p>By default, these two object are considered to be the same key, so <code>s1</code> will overwrite <code>s0</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s0'>s0</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s1'>s1</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compare_by_identity?'><a href="#compare_by_identity%3F-instance_method" title="Hash#compare_by_identity? (method)">compare_by_identity?</a></span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_s0'>s0</span>] <span class='op'>=</span> <span class='int'>0</span>
<span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_s1'>s1</span>] <span class='op'>=</span> <span class='int'>1</span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {&quot;x&quot;=&gt;1}</span></code></pre>

<p>After calling #compare_by_identity, the keys are considered to be different, and therefore do not overwrite each other:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compare_by_identity'>compare_by_identity</span> <span class='comment'># =&gt; {}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compare_by_identity?'><a href="#compare_by_identity%3F-instance_method" title="Hash#compare_by_identity? (method)">compare_by_identity?</a></span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_s0'>s0</span>] <span class='op'>=</span> <span class='int'>0</span>
<span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_s1'>s1</span>] <span class='op'>=</span> <span class='int'>1</span>
<span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {&quot;x&quot;=&gt;0, &quot;x&quot;=&gt;1}</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4419-L4441'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4419' data-end='4441'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4419</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_compare_by_id(VALUE hash)
{
    VALUE tmp;
    st_table *identtable;

    if (rb_hash_compare_by_id_p(hash)) return hash;

    rb_hash_modify_check(hash);
    ar_force_convert_table(hash, __FILE__, __LINE__);
    HASH_ASSERT(RHASH_ST_TABLE_P(hash));

    tmp = hash_alloc(0);
    identtable = rb_init_identtable_with_size(RHASH_SIZE(hash));
    RHASH_ST_TABLE_SET(tmp, identtable);
    rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);
    st_free_table(RHASH_ST_TABLE(hash));
    RHASH_ST_TABLE_SET(hash, identtable);
    RHASH_ST_CLEAR(tmp);
    rb_gc_force_recycle(tmp);

    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compare_by_identity?-instance_method">
  <h3 class='signature ro'>
    #<strong>compare_by_identity?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <a href="#compare_by_identity-instance_method" title="Hash#compare_by_identity (method)">#compare_by_identity</a> has been called, <code>false</code> otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4450-L4459'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4450' data-end='4459'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4450</span></pre>
<pre class='code cpp'>

MJIT_FUNC_EXPORTED VALUE
rb_hash_compare_by_id_p(VALUE hash)
{
    if (RHASH_ST_TABLE_P(hash) &amp;&amp; RHASH_ST_TABLE(hash)-&gt;type == &amp;identhash) {
	return Qtrue;
    }
    else {
        return Qfalse;
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_proc-instance_method">
  <h3 class='signature rw'>
    #<strong>default_proc</strong>  &#x21d2; <a href="Proc.html" title="Proc (class)">Proc</a><sup>?</sup>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the default proc for <code>self</code> (see <a href='#label-Default+Values'>Default Values</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'>default_proc</span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'>default_proc</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> {<span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'>default_proc</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2229-L2236'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2229' data-end='2236'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2229</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_default_proc(VALUE hash)
{
    if (FL_TEST(hash, RHASH_PROC_DEFAULT)) {
	return RHASH_IFNONE(hash);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_proc=-instance_method">
  <h3 class='signature rw'>
    #<strong>default_proc=</strong>(proc)  &#x21d2; <a href="Proc.html" title="Proc (class)">Proc</a>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the default proc for <code>self</code> to <code>proc</code>: (see <a href='#label-Default+Values'>Default Values</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> { <span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default value for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2252-L2271'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2252' data-end='2271'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2252</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_set_default_proc(VALUE hash, VALUE proc)
{
    VALUE b;

    rb_hash_modify_check(hash);
    if (NIL_P(proc)) {
	SET_DEFAULT(hash, proc);
	return proc;
    }
    b = rb_check_convert_type_with_id(proc, T_DATA, &quot;Proc&quot;, idTo_proc);
    if (NIL_P(b) || !rb_obj_is_proc(b)) {
	rb_raise(rb_eTypeError,
		 &quot;wrong default_proc type %s (expected Proc)&quot;,
		 rb_obj_classname(proc));
    }
    proc = b;
    SET_PROC_DEFAULT(hash, proc);
    return proc;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="empty?-instance_method">
  <h3 class='signature ro'>
    #<strong>empty?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if there are no hash entries, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby">{}.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; true
</span>{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3020-L3024'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3020' data-end='3024'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3020</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_empty_p(VALUE hash)
{
    return RHASH_EMPTY_P(hash) ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;</strong>(other_hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is a proper subset of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_h2'>h2</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h2'>h2</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4661-L4667'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4661' data-end='4667'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4661</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_lt(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &gt;= RHASH_SIZE(other)) return Qfalse;
    return hash_le(hash, other);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=</strong>(other_hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is a subset of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_h2'>h2</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h2'>h2</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4642-L4648'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4642' data-end='4648'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4642</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_le(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &gt; RHASH_SIZE(other)) return Qfalse;
    return hash_le(hash, other);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    #<strong>==</strong>(object)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if all of the following are true:</p>
<ul><li>
<p><code>object</code> is a Hash object.</p>
</li><li>
<p><a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> and <code>object</code> have the same keys (regardless of order).</p>
</li><li>
<p>For each key <a href="#key-instance_method" title="Hash#key (method)">#key</a>, <code>hash[key] == object[key]</code>.</p>
</li></ul>

<p>Otherwise, returns <code>false</code>.</p>

<p>Equal:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>==</span> <span class='id identifier rubyid_h2'>h2</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h3'>h3</span> <span class='op'>=</span> {<span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>==</span> <span class='id identifier rubyid_h3'>h3</span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3797-L3801'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3797' data-end='3801'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3797</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_equal(VALUE hash1, VALUE hash2)
{
    return hash_equal(hash1, hash2, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id=">-instance_method">
  <h3 class='signature '>
    #<strong>&gt;</strong>(other_hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is a proper superset of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_h2'>h2</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h2'>h2</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4699-L4705'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4699' data-end='4705'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4699</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_gt(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &lt;= RHASH_SIZE(other)) return Qfalse;
    return hash_le(other, hash);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id=">=-instance_method">
  <h3 class='signature '>
    #<strong>&gt;=</strong>(other_hash)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> is a superset of <code>other_hash</code>, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_h2'>h2</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h2'>h2</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4680-L4686'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4680' data-end='4686'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4680</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_ge(VALUE hash, VALUE other)
{
    other = to_hash(other);
    if (RHASH_SIZE(hash) &lt; RHASH_SIZE(other)) return Qfalse;
    return hash_le(other, hash);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    #<strong>[]</strong>(key)  &#x21d2; <code>value</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the value associated with the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>, if found:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='comment'># =&gt; 0</span></code></pre>

<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not found, returns a default value (see <a href='#label-Default+Values'>Default Values</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>] <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2064-L2075'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2064' data-end='2075'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2064</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_aref(VALUE hash, VALUE key)
{
    st_data_t val;

    if (hash_stlike_lookup(hash, key, &amp;val)) {
        return (VALUE)val;
    }
    else {
        return rb_hash_default_value(hash, key);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]=</strong>(key, value)  &#x21d2; <code>value</code> </span>
      <span class='overload'>#<strong>store</strong>(key, value)  </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#store</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><a href="#store-instance_method" title="Hash#store (method)">#store</a> is an alias for <code>[]=</code>.</p>

<p>Associates the given <code>value</code> with the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>; returns <code>value</code>.</p>

<p>If the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> exists, replaces its value with the given <code>value</code>; the ordering is not affected (see <a href='#label-Entry+Order'>Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='int'>2</span> <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_store'><a href="#store-instance_method" title="Hash#store (method)">store</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;2, :bar=&gt;3}</span></code></pre>

<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> does not exist, adds the <a href="#key-instance_method" title="Hash#key (method)">#key</a> and <code>value</code>; the new entry is last in the order (see <a href='#label-Entry+Order'>Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>] <span class='op'>=</span> <span class='int'>2</span> <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_store'><a href="#store-instance_method" title="Hash#store (method)">store</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2, :bat=&gt;3}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2919-L2938'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2919' data-end='2938'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2919</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_aset(VALUE hash, VALUE key, VALUE val)
{
    int iter_lev = RHASH_ITER_LEV(hash);

    rb_hash_modify(hash);

    if (RHASH_TABLE_NULL_P(hash)) {
	if (iter_lev &gt; 0) no_new_key();
        ar_alloc_table(hash);
    }

    if (RHASH_TYPE(hash) == &amp;identhash || rb_obj_class(key) != rb_cString) {
	RHASH_UPDATE_ITER(hash, iter_lev, key, hash_aset, val);
    }
    else {
	RHASH_UPDATE_ITER(hash, iter_lev, key, hash_aset_str, val);
    }
    return val;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="any?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>any?</strong>  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>any?</strong>(object)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>any?</strong> {|key, value| ... } &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if any element satisfies a given criterion; <code>false</code> otherwise.</p>

<p>With no argument and no block, returns <code>true</code> if <code>self</code> is non-empty; <code>false</code> if empty.</p>

<p>With argument <code>object</code> and no block, returns <code>true</code> if for any key <a href="#key-instance_method" title="Hash#key (method)">#key</a> <code>h.assoc(key) == object</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>1</span>]) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>0</span>]) <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='int'>1</span>]) <span class='comment'># =&gt; false</span></code></pre>

<p>With no argument and a block, calls the block with each key-value pair; returns <code>true</code> if the block returns any truthy value, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>3</span> } <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_any?'>any?</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='int'>3</span> } <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4543-L4570'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4543' data-end='4570'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4543</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_any_p(int argc, VALUE *argv, VALUE hash)
{
    VALUE args[2];
    args[0] = Qfalse;

    rb_check_arity(argc, 0, 1);
    if (RHASH_EMPTY_P(hash)) return Qfalse;
    if (argc) {
        if (rb_block_given_p()) {
            rb_warn(&quot;given block not used&quot;);
        }
	args[1] = argv[0];

	rb_hash_foreach(hash, any_p_i_pattern, (VALUE)args);
    }
    else {
	if (!rb_block_given_p()) {
	    /* yields pairs, never false */
	    return Qtrue;
	}
        if (rb_block_pair_yield_optimizable())
	    rb_hash_foreach(hash, any_p_i_fast, (VALUE)args);
	else
	    rb_hash_foreach(hash, any_p_i, (VALUE)args);
    }
    return args[0];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="assoc-instance_method">
  <h3 class='signature '>
    #<strong>assoc</strong>(key)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> is found, returns a 2-element Array containing that key and its value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_assoc'>assoc</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; [:bar, 1]</span></code></pre>

<p>Returns <code>nil</code> if key <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not found.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4178-L4212'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4178' data-end='4212'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4178</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_assoc(VALUE hash, VALUE key)
{
    st_table *table;
    const struct st_hash_type *orighash;
    VALUE args[2];

    if (RHASH_EMPTY_P(hash)) return Qnil;

    ar_force_convert_table(hash, __FILE__, __LINE__);
    HASH_ASSERT(RHASH_ST_TABLE_P(hash));
    table = RHASH_ST_TABLE(hash);
    orighash = table-&gt;type;

    if (orighash != &amp;identhash) {
	VALUE value;
	struct reset_hash_type_arg ensure_arg;
	struct st_hash_type assochash;

	assochash.compare = assoc_cmp;
	assochash.hash = orighash-&gt;hash;
        table-&gt;type = &amp;assochash;
	args[0] = hash;
	args[1] = key;
	ensure_arg.hash = hash;
	ensure_arg.orighash = orighash;
	value = rb_ensure(lookup2_call, (VALUE)&amp;args, reset_hash_type, (VALUE)&amp;ensure_arg);
	if (value != Qundef) return rb_assoc_new(key, value);
    }

    args[0] = key;
    args[1] = Qnil;
    rb_hash_foreach(hash, assoc_i, (VALUE)args);
    return args[1];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes all hash entries; returns <code>self</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2837-L2853'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2837' data-end='2853'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2837</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_clear(VALUE hash)
{
    rb_hash_modify_check(hash);

    if (RHASH_ITER_LEV(hash) &gt; 0) {
        rb_hash_foreach(hash, clear_i, 0);
    }
    else if (RHASH_AR_TABLE_P(hash)) {
        ar_clear(hash);
    }
    else {
        st_clear(RHASH_ST_TABLE(hash));
    }

    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compact-instance_method">
  <h3 class='signature '>
    #<strong>compact</strong>  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>self</code> with all <code>nil</code>-valued entries removed:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='kw'>nil</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compact'>compact</span>
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :baz=&gt;2}</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4354-L4362'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4354' data-end='4362'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4354</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_compact(VALUE hash)
{
    VALUE result = rb_hash_new();
    if (!RHASH_EMPTY_P(hash)) {
	rb_hash_foreach(hash, set_if_not_nil, result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compact!-instance_method">
  <h3 class='signature '>
    #<strong>compact!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code> with all its <code>nil</code>-valued entries removed (in place):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bat:</span> <span class='kw'>nil</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_compact!'>compact!</span> <span class='comment'># =&gt; {:foo=&gt;0, :baz=&gt;2}</span></code></pre>

<p>Returns <code>nil</code> if no entries were removed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4375-L4387'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4375' data-end='4387'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4375</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_compact_bang(VALUE hash)
{
    st_index_t n;
    rb_hash_modify_check(hash);
    n = RHASH_SIZE(hash);
    if (n) {
	rb_hash_foreach(hash, delete_if_nil, hash);
        if (n != RHASH_SIZE(hash))
	    return hash;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deconstruct_keys-instance_method">
  <h3 class='signature '>
    #<strong>deconstruct_keys</strong>(keys)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4732-L4736'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4732' data-end='4736'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4732</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_deconstruct_keys(VALUE hash, VALUE keys)
{
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>default</strong>  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>default</strong>(key)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the default value for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>. The returned value will be determined either by the default proc or by the default value. See <a href='#label-Default+Values'>Default Values</a>.</p>

<p>With no argument, returns the current default value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'>default</span> <span class='comment'># =&gt; nil</span></code></pre>

<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is given, returns the default value for <a href="#key-instance_method" title="Hash#key (method)">#key</a>, regardless of whether that key exists:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Hash.new (method)">new</a></span> { <span class='op'>|</span><span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span>[<span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No key </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'>default</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; &quot;No key foo&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2182-L2194'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2182' data-end='2194'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2182</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_default(int argc, VALUE *argv, VALUE hash)
{
    VALUE ifnone;

    rb_check_arity(argc, 0, 1);
    ifnone = RHASH_IFNONE(hash);
    if (FL_TEST(hash, RHASH_PROC_DEFAULT)) {
	if (argc == 0) return Qnil;
	return call_default_proc(ifnone, hash, argv[0]);
    }
    return ifnone;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default=-instance_method">
  <h3 class='signature '>
    #<strong>default=</strong>(value)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the default value to <code>value</code>; returns <code>value</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='op'>=</span> <span class='kw'>false</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span> <span class='comment'># =&gt; false</span></code></pre>

<p>See <a href='#label-Default+Values'>Default Values</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2209-L2215'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2209' data-end='2215'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2209</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_set_default(VALUE hash, VALUE ifnone)
{
    rb_hash_modify_check(hash);
    SET_DEFAULT(hash, ifnone);
    return ifnone;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>delete</strong>(key)  &#x21d2; <code>value</code><sup>?</sup> </span>
      <span class='overload'>#<strong>delete</strong>(key) {|key| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes the entry for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a> and returns its associated value.</p>

<p>If no block is given and <a href="#key-instance_method" title="Hash#key (method)">#key</a> is found, deletes the entry and returns the associated value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :baz=&gt;2}</span></code></pre>

<p>If no block given and <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not found, returns <code>nil</code>.</p>

<p>If a block is given and <a href="#key-instance_method" title="Hash#key (method)">#key</a> is found, ignores the block, deletes the entry, and returns the associated value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>) { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Will never happen</span><span class='tstring_end'>&#39;</span></span>} <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1}</span></code></pre>

<p>If a block is given and <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not found, calls the block and returns the block’s return value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> not found</span><span class='tstring_end'>&quot;</span></span> } <span class='comment'># =&gt; &quot;Key nosuch not found&quot;
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2385-L2404'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2385' data-end='2404'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2385</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_delete_m(VALUE hash, VALUE key)
{
    VALUE val;

    rb_hash_modify_check(hash);
    val = rb_hash_delete_entry(hash, key);

    if (val != Qundef) {
	return val;
    }
    else {
	if (rb_block_given_p()) {
	    return rb_yield(key);
	}
	else {
	    return Qnil;
	}
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_if-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>delete_if</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>delete_if</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If a block given, calls the block with each key-value pair; deletes each entry for which the block returns a truthy value; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete_if'>delete_if</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='int'>0</span> } <span class='comment'># =&gt; {:foo=&gt;0}</span></code></pre>

<p>If no block given, returns a new Enumerator:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_delete_if'>delete_if</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:delete_if&gt;
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='int'>0</span> } <span class='comment'># =&gt; {:foo=&gt;0}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2508-L2517'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2508' data-end='2517'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2508</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_delete_if(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        rb_hash_foreach(hash, delete_if_i, hash);
    }
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dig-instance_method">
  <h3 class='signature '>
    #<strong>dig</strong>(key, *identifiers)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Finds and returns the object in nested objects that is specified by <a href="#key-instance_method" title="Hash#key (method)">#key</a> and <code>identifiers</code>. The nested objects may be instances of various classes. See <code>Dig Methods</code>.</p>

<p>Nested Hashes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> {<span class='label'>bar:</span> {<span class='label'>baz:</span> <span class='int'>2</span>}}}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; {:bar=&gt;{:baz=&gt;2}}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; {:bar=&gt;{:baz=&gt;2}}
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>) <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>BAZ</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Nested Hashes and Arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> {<span class='label'>bar:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span>]}}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; :c</span></code></pre>

<p>This method will use the <a href='#label-Default+Values'>default values</a> for keys that are not present:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> {<span class='label'>bar:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span>]}}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span>) <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_default_proc'><a href="#default_proc-instance_method" title="Hash#default_proc (method)">default_proc</a></span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span> (<span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span><span class='comma'>,</span> <span class='id identifier rubyid__key'>_key</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_hash'><a href="#hash-instance_method" title="Hash#hash (method)">hash</a></span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_world'>world</span>) <span class='comment'># =&gt; h
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_world'>world</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; :c</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4601-L4609'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4601' data-end='4609'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4601</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_dig(int argc, VALUE *argv, VALUE self)
{
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    self = rb_hash_aref(self, *argv);
    if (!--argc) return self;
    ++argv;
    return rb_obj_dig(argc, argv, self, Qnil);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_pair</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>each_pair</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#each_pair</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>each</code> is an alias for <a href="#each_pair-instance_method" title="Hash#each_pair (method)">#each_pair</a>.</p>

<p>Calls the given block with each key-value pair; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_pair'><a href="#each_pair-instance_method" title="Hash#each_pair (method)">each_pair</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>} <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">foo: 0
bar: 1
baz: 2</code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_pair'><a href="#each_pair-instance_method" title="Hash#each_pair (method)">each_pair</a></span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:each_pair&gt;
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">foo: 0
bar: 1
baz: 2</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3148-L3157'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3148' data-end='3157'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3148</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_each_pair(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    if (rb_block_pair_yield_optimizable())
	rb_hash_foreach(hash, each_pair_i_fast, 0);
    else
	rb_hash_foreach(hash, each_pair_i, 0);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_key-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_key</strong> {|key| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_key</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block with each key; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_key'>each_key</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span> }  <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_baz'>baz</span></code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_key'>each_key</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:each_key&gt;
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span> }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_baz'>baz</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3095-L3101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3095' data-end='3101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3095</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_each_key(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_foreach(hash, each_key_i, 0);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_pair-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_pair</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
      <span class='overload'>#<strong>each_pair</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#each-instance_method" title="Hash#each (method)">#each</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="each_value-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_value</strong> {|value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>each_value</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the given block with each value; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_value'>each_value</span> {<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_value'>value</span> } <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>0</span>
<span class='int'>1</span>
<span class='int'>2</span></code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_each_value'>each_value</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:each_value&gt;
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_value'>value</span> }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>0</span>
<span class='int'>1</span>
<span class='int'>2</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3057-L3063'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3057' data-end='3063'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3057</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_each_value(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_foreach(hash, each_value_i, 0);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="eql?-instance_method">
  <h3 class='signature '>
    #<strong>eql?</strong>(object)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if all of the following are true:</p>
<ul><li>
<p><code>object</code> is a Hash object.</p>
</li><li>
<p><a href="#hash-instance_method" title="Hash#hash (method)">#hash</a> and <code>object</code> have the same keys (regardless of order).</p>
</li><li>
<p>For each key <a href="#key-instance_method" title="Hash#key (method)">#key</a>, <code>h[key] eql? object[key]</code>.</p>
</li></ul>

<p>Otherwise, returns <code>false</code>.</p>

<p>Equal:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span>.<span class='id identifier rubyid_eql?'>eql?</span> <span class='id identifier rubyid_h2'>h2</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h3'>h3</span> <span class='op'>=</span> {<span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>}
<span class='id identifier rubyid_h1'>h1</span>.<span class='id identifier rubyid_eql?'>eql?</span> <span class='id identifier rubyid_h3'>h3</span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3822-L3826'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3822' data-end='3826'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3822</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_eql(VALUE hash1, VALUE hash2)
{
    return hash_equal(hash1, hash2, TRUE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="except-instance_method">
  <h3 class='signature '>
    #<strong>except</strong>(*keys)  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Hash excluding entries for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> { <span class='label'>a:</span> <span class='int'>100</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>200</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>300</span> }
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_except'>except</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span>)          <span class='comment'>#=&gt; {:b=&gt;200, :c=&gt;300}</span></code></pre>

<p>Any given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a> that are not found are ignored.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2640-L2655'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2640' data-end='2655'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2640</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_except(int argc, VALUE *argv, VALUE hash)
{
    int i;
    VALUE key, result;

    result = hash_alloc(rb_cHash);
    hash_copy(result, hash);

    for (i = 0; i &lt; argc; i++) {
        key = argv[i];
        rb_hash_delete(result, key);
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fetch-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>fetch</strong>(key)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>fetch</strong>(key, default_value)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
      <span class='overload'>#<strong>fetch</strong>(key) {|key| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the value for the given <a href="#key-instance_method" title="Hash#key (method)">#key</a>, if found.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; 1</span></code></pre>

<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not found and no block was given, returns <code>default_value</code>:</p>

<pre class="code ruby"><code class="ruby">{}.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default'><a href="#default-instance_method" title="Hash#default (method)">default</a></span>) <span class='comment'># =&gt; :default
</span>{}.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>If <a href="#key-instance_method" title="Hash#key (method)">#key</a> is not found and a block was given, yields <a href="#key-instance_method" title="Hash#key (method)">#key</a> to the block and returns the block’s return value:</p>

<pre class="code ruby"><code class="ruby">{}.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No key </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>} <span class='comment'># =&gt; &quot;No key nosuch&quot;</span></code></pre>

<p>Raises KeyError if neither <code>default_value</code> nor a block was given.</p>

<p>Note that this method does not use the values of either <a href="#default-instance_method" title="Hash#default (method)">#default</a> or <a href="#default_proc-instance_method" title="Hash#default_proc (method)">#default_proc</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2120-L2154'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2120' data-end='2154'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2120</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_fetch_m(int argc, VALUE *argv, VALUE hash)
{
    VALUE key;
    st_data_t val;
    long block_given;

    rb_check_arity(argc, 1, 2);
    key = argv[0];

    block_given = rb_block_given_p();
    if (block_given &amp;&amp; argc == 2) {
	rb_warn(&quot;block supersedes default value argument&quot;);
    }

    if (hash_stlike_lookup(hash, key, &amp;val)) {
        return (VALUE)val;
    }
    else {
        if (block_given) {
            return rb_yield(key);
        }
        else if (argc == 1) {
            VALUE desc = rb_protect(rb_inspect, key, 0);
            if (NIL_P(desc)) {
                desc = rb_any_to_s(key);
            }
            desc = rb_str_ellipsize(desc, 65);
            rb_key_err_raise(rb_sprintf(&quot;key not found: %&quot;PRIsVALUE, desc), hash, key);
        }
        else {
            return argv[1];
        }
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fetch_values-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>fetch_values</strong>(*keys)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>fetch_values</strong>(*keys) {|key| ... } &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Array containing the values associated with the given keys *keys:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_fetch_values'>fetch_values</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; [2, 0]</span></code></pre>

<p>Returns a new empty Array if no arguments given.</p>

<p>When a block is given, calls the block with each missing key, treating the block’s return value as the value for that key:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_values'><a href="#values-instance_method" title="Hash#values (method)">values</a></span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_fetch_values'>fetch_values</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bad'>bad</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bam'>bam</span>) {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span>}
<span class='id identifier rubyid_values'><a href="#values-instance_method" title="Hash#values (method)">values</a></span> <span class='comment'># =&gt; [1, 0, &quot;bad&quot;, &quot;bam&quot;]</span></code></pre>

<p>When no block is given, raises an exception if any given key is not found.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2702-L2712'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2702' data-end='2712'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2702</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_fetch_values(int argc, VALUE *argv, VALUE hash)
{
    VALUE result = rb_ary_new2(argc);
    long i;

    for (i=0; i&lt;argc; i++) {
	rb_ary_push(result, rb_hash_fetch(hash, argv[i]));
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|key, value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#select</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>filter</code> is an alias for <a href="#select-instance_method" title="Hash#select (method)">#select</a>.</p>

<p>Returns a new Hash object whose entries are those for which the block returns a truthy value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Hash#select (method)">select</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1}</span></code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Hash#select (method)">select</a></span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:select&gt;
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2740-L2751'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2740' data-end='2751'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2740</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_select(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    result = rb_hash_new();
    if (!RHASH_EMPTY_P(hash)) {
	rb_hash_foreach(hash, select_i, result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select!</strong> {|key, value| ... } &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>select!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#select!</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>filter!</code> is an alias for <a href="#select!-instance_method" title="Hash#select! (method)">#select!</a>.</p>

<p>Returns <code>self</code>, whose entries are those for which the block returns a truthy value:</p>

<pre class="code ruby"><code class="ruby">h = {foo: 0, bar: 1, baz: 2}
h.select! {|key, value| value &lt; 2 }  =&gt; {:foo=&gt;0, :bar=&gt;1}</code></pre>

<p>Returns <code>nil</code> if no entries were removed.</p>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_select!'><a href="#select!-instance_method" title="Hash#select! (method)">select!</a></span>  <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:select!&gt;
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2782-L2794'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2782' data-end='2794'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2782</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_select_bang(VALUE hash)
{
    st_index_t n;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    n = RHASH_SIZE(hash);
    if (!n) return Qnil;
    rb_hash_foreach(hash, keep_if_i, hash);
    if (n == RHASH_SIZE(hash)) return Qnil;
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="flatten-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>flatten</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>flatten</strong>(level)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Array object that is a 1-dimensional flattening of <code>self</code>.</p>
<hr>

<p>By default, nested Arrays are not flattened:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span><span class='comma'>,</span> <span class='int'>3</span>]<span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span> <span class='comment'># =&gt; [:foo, 0, :bar, [:bat, 3], :baz, 2]</span></code></pre>

<p>Takes the depth of recursive flattening from Integer argument <code>level</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span><span class='comma'>,</span> ]]]}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>1</span>) <span class='comment'># =&gt; [:foo, 0, :bar, [:bat, [:baz, [:bat]]]]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>2</span>) <span class='comment'># =&gt; [:foo, 0, :bar, :bat, [:baz, [:bat]]]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>3</span>) <span class='comment'># =&gt; [:foo, 0, :bar, :bat, :baz, [:bat]]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>4</span>) <span class='comment'># =&gt; [:foo, 0, :bar, :bat, :baz, :bat]</span></code></pre>

<p>When <code>level</code> is negative, flattens all nested Arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span><span class='comma'>,</span> ]]]}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; [:foo, 0, :bar, :bat, :baz, :bat]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='op'>-</span><span class='int'>2</span>) <span class='comment'># =&gt; [:foo, 0, :bar, :bat, :baz, :bat]</span></code></pre>

<p>When <code>level</code> is zero, returns the equivalent of <a href="#to_a-instance_method" title="Hash#to_a (method)">#to_a</a> :</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span><span class='comma'>,</span> <span class='int'>3</span>]<span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>0</span>) <span class='comment'># =&gt; [[:foo, 0], [:bar, [:bat, 3]], [:baz, 2]]
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_flatten'>flatten</span>(<span class='int'>0</span>) <span class='op'>==</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="Hash#to_a (method)">to_a</a></span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4293-L4324'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4293' data-end='4324'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4293</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_flatten(int argc, VALUE *argv, VALUE hash)
{
    VALUE ary;

    rb_check_arity(argc, 0, 1);

    if (argc) {
	int level = NUM2INT(argv[0]);

	if (level == 0) return rb_hash_to_a(hash);

	ary = rb_ary_new_capa(RHASH_SIZE(hash) * 2);
	rb_hash_foreach(hash, flatten_i, ary);
	level--;

	if (level &gt; 0) {
	    VALUE ary_flatten_level = INT2FIX(level);
	    rb_funcallv(ary, id_flatten_bang, 1, &amp;ary_flatten_level);
	}
	else if (level &lt; 0) {
	    /* flatten recursively */
	    rb_funcallv(ary, id_flatten_bang, 0, 0);
	}
    }
    else {
	ary = rb_ary_new_capa(RHASH_SIZE(hash) * 2);
	rb_hash_foreach(hash, flatten_i, ary);
    }

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="has_key?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>include?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>has_key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>member?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="has_value?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>value?</strong>(value)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>has_value?</strong>(value)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#value%3F-instance_method" title="Hash#value? (method)">#value?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="hash-instance_method">
  <h3 class='signature '>
    #<strong>hash</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the Integer hash-code for the hash.</p>

<p>Two Hash objects have the same hash-code if their content is the same (regardless or order):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>baz:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>foo:</span> <span class='int'>0</span>}
<span class='id identifier rubyid_h2'>h2</span>.<span class='id identifier rubyid_hash'>hash</span> <span class='op'>==</span> <span class='id identifier rubyid_h1'>h1</span>.<span class='id identifier rubyid_hash'>hash</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_h2'>h2</span>.<span class='id identifier rubyid_eql?'><a href="#eql%3F-instance_method" title="Hash#eql? (method)">eql?</a></span> <span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3854-L3865'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3854' data-end='3865'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3854</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_hash(VALUE hash)
{
    st_index_t size = RHASH_SIZE(hash);
    st_index_t hval = rb_hash_start(size);
    hval = rb_hash_uint(hval, (st_index_t)rb_hash_hash);
    if (size) {
	rb_hash_foreach(hash, hash_i, (VALUE)&amp;hval);
    }
    hval = rb_hash_end(hval);
    return ST2FIX(hval);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>include?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>has_key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>member?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="initialize_copy-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>replace</strong>(other_hash)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>initialize_copy</strong>(other_hash)  &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#replace-instance_method" title="Hash#replace (method)">#replace</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
      <span class='overload'>#<strong>inspect</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_s-instance_method" title="Hash#to_s (method)">#to_s</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="invert-instance_method">
  <h3 class='signature '>
    #<strong>invert</strong>  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Hash object with the each key-value pair inverted:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_invert'>invert</span>
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {0=&gt;:foo, 1=&gt;:bar, 2=&gt;:baz}</span></code></pre>

<p>Overwrites any repeated new keys: (see <a href='#label-Entry+Order'>Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>0</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_invert'>invert</span> <span class='comment'># =&gt; {0=&gt;:baz}</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3889-L3896'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3889' data-end='3896'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3889</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_invert(VALUE hash)
{
    VALUE h = rb_hash_new_with_size(RHASH_SIZE(hash));

    rb_hash_foreach(hash, rb_hash_invert_i, h);
    return h;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keep_if-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>keep_if</strong> {|key, value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>keep_if</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the block for each key-value pair; retains the entry if the block returns a truthy value; otherwise deletes the entry; returns <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_keep_if'>keep_if</span> { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) } <span class='comment'># =&gt; {:bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_keep_if'>keep_if</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:keep_if&gt;
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) } <span class='comment'># =&gt; {:bar=&gt;1, :baz=&gt;2}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2813-L2822'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2813' data-end='2822'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2813</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_keep_if(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        rb_hash_foreach(hash, keep_if_i, hash);
    }
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="key-instance_method">
  <h3 class='signature '>
    #<strong>key</strong>(value)  &#x21d2; key<sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the key for the first-found entry with the given <code>value</code> (see <a href='#label-Entry+Order'>Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_key'>key</span>(<span class='int'>0</span>) <span class='comment'># =&gt; :foo
</span><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_key'>key</span>(<span class='int'>2</span>) <span class='comment'># =&gt; :bar</span></code></pre>

<p>Returns <code>nil</code> if so such value is found.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2298-L2309'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2298' data-end='2309'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2298</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_key(VALUE hash, VALUE value)
{
    VALUE args[2];

    args[0] = value;
    args[1] = Qnil;

    rb_hash_foreach(hash, key_i, (VALUE)args);

    return args[1];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="key?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>include?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>has_key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>member?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#include?, #member?, #has_key?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Methods <a href="#has_key%3F-instance_method" title="Hash#has_key? (method)">#has_key?</a>, <code>#key?</code>, and <a href="#member%3F-instance_method" title="Hash#member? (method)">#member?</a> are aliases for #include?.</p>

<p>Returns <code>true</code> if <a href="#key-instance_method" title="Hash#key (method)">#key</a> is a key in <code>self</code>, otherwise <code>false</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3656-L3665'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3656' data-end='3665'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3656</span></pre>
<pre class='code cpp'>

MJIT_FUNC_EXPORTED VALUE
rb_hash_has_key(VALUE hash, VALUE key)
{
    if (hash_stlike_lookup(hash, key, NULL)) {
        return Qtrue;
    }
    else {
        return Qfalse;
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="keys-instance_method">
  <h3 class='signature '>
    #<strong>keys</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Array containing all keys in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_keys'>keys</span> <span class='comment'># =&gt; [:foo, :bar, :baz]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3567-L3593'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3567' data-end='3593'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3567</span></pre>
<pre class='code cpp'>

MJIT_FUNC_EXPORTED VALUE
rb_hash_keys(VALUE hash)
{
    st_index_t size = RHASH_SIZE(hash);
    VALUE keys =  rb_ary_new_capa(size);

    if (size == 0) return keys;

    if (ST_DATA_COMPATIBLE_P(VALUE)) {
        RARRAY_PTR_USE_TRANSIENT(keys, ptr, {
            if (RHASH_AR_TABLE_P(hash)) {
                size = ar_keys(hash, ptr, size);
            }
            else {
                st_table *table = RHASH_ST_TABLE(hash);
                size = st_keys(table, ptr, size);
            }
        });
        rb_gc_writebarrier_remember(keys);
	rb_ary_set_len(keys, size);
    }
    else {
	rb_hash_foreach(hash, keys_i, keys);
    }

    return keys;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="length-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>size</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#size</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the count of entries in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby">{<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_length'>length</span> <span class='comment'># =&gt; 3</span></code></pre>

<p><code>length</code> is an alias for <a href="#size-instance_method" title="Hash#size (method)">#size</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2999-L3003'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2999' data-end='3003'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2999</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_size(VALUE hash)
{
    return INT2FIX(RHASH_SIZE(hash));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="member?-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>include?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>has_key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>key?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>member?</strong>(key)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#key%3F-instance_method" title="Hash#key? (method)">#key?</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="merge-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>merge</strong>  &#x21d2; <code>copy_of_self</code> </span>
      <span class='overload'>#<strong>merge</strong>(*other_hashes)  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>merge</strong>(*other_hashes) {|key, old_value, new_value| ... } &#x21d2; <code>Hash</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the new Hash formed by merging each of <code>other_hashes</code> into a copy of <code>self</code>.</p>

<p>Each argument in <code>other_hashes</code> must be a Hash.</p>
<hr>

<p>With arguments and no block:</p>
<ul><li>
<p>Returns the new Hash object formed by merging each successive Hash in <code>other_hashes</code> into <code>self</code>.</p>
</li><li>
<p>Each new-key entry is added at the end.</p>
</li><li>
<p>Each duplicate-key entry’s value overwrites the previous value.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>4</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>bam:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>bat:</span><span class='int'>6</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_h1'>h1</span><span class='comma'>,</span> <span class='id identifier rubyid_h2'>h2</span>) <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;4, :baz=&gt;2, :bat=&gt;6, :bam=&gt;5}</span></code></pre>

<p>With arguments and a block:</p>
<ul><li>
<p>Returns a new Hash object that is the merge of <code>self</code> and each given hash.</p>
</li><li>
<p>The given hashes are merged left to right.</p>
</li><li>
<p>Each new-key entry is added at the end.</p>
</li><li>
<p>For each duplicate key:</p>
<ul><li>
<p>Calls the block with the key and the old and new values.</p>
</li><li>
<p>The block’s return value becomes the new value for the entry.</p>
</li></ul>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>4</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>bam:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>bat:</span><span class='int'>6</span>}
<span class='id identifier rubyid_h3'>h3</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_h1'>h1</span><span class='comma'>,</span> <span class='id identifier rubyid_h2'>h2</span>) { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_old_value'>old_value</span><span class='comma'>,</span> <span class='id identifier rubyid_new_value'>new_value</span><span class='op'>|</span> <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>+</span> <span class='id identifier rubyid_new_value'>new_value</span> }
<span class='id identifier rubyid_h3'>h3</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;5, :baz=&gt;2, :bat=&gt;9, :bam=&gt;5}</span></code></pre>

<p>With no arguments:</p>
<ul><li>
<p>Returns a copy of <code>self</code>.</p>
</li><li>
<p>The block, if given, is ignored.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge'>merge</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge'>merge</span> { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_old_value'>old_value</span><span class='comma'>,</span> <span class='id identifier rubyid_new_value'>new_value</span><span class='op'>|</span> <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Cannot happen</span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4122-L4126'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4122' data-end='4126'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4122</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_merge(int argc, VALUE *argv, VALUE self)
{
    return rb_hash_update(argc, argv, rb_hash_dup(self));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="merge!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>merge!</strong>  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>merge!</strong>(*other_hashes)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>merge!</strong>(*other_hashes) {|key, old_value, new_value| ... } &#x21d2; <code>self</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#update</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Merges each of <code>other_hashes</code> into <code>self</code>; returns <code>self</code>.</p>

<p>Each argument in <code>other_hashes</code> must be a Hash.</p>

<p>Method <a href="#update-instance_method" title="Hash#update (method)">#update</a> is an alias for #merge!.</p>

<p>With arguments and no block:</p>
<ul><li>
<p>Returns <code>self</code>, after the given hashes are merged into it.</p>
</li><li>
<p>The given hashes are merged left to right.</p>
</li><li>
<p>Each new entry is added at the end.</p>
</li><li>
<p>Each duplicate-key entry’s value overwrites the previous value.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>4</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>bam:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>bat:</span><span class='int'>6</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid_h1'>h1</span><span class='comma'>,</span> <span class='id identifier rubyid_h2'>h2</span>) <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;4, :baz=&gt;2, :bat=&gt;6, :bam=&gt;5}</span></code></pre>

<p>With arguments and a block:</p>
<ul><li>
<p>Returns <code>self</code>, after the given hashes are merged.</p>
</li><li>
<p>The given hashes are merged left to right.</p>
</li><li>
<p>Each new-key entry is added at the end.</p>
</li><li>
<p>For each duplicate key:</p>
<ul><li>
<p>Calls the block with the key and the old and new values.</p>
</li><li>
<p>The block’s return value becomes the new value for the entry.</p>
</li></ul>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> {<span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>4</span>}
<span class='id identifier rubyid_h2'>h2</span> <span class='op'>=</span> {<span class='label'>bam:</span> <span class='int'>5</span><span class='comma'>,</span> <span class='label'>bat:</span><span class='int'>6</span>}
<span class='id identifier rubyid_h3'>h3</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid_h1'>h1</span><span class='comma'>,</span> <span class='id identifier rubyid_h2'>h2</span>) { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_old_value'>old_value</span><span class='comma'>,</span> <span class='id identifier rubyid_new_value'>new_value</span><span class='op'>|</span> <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>+</span> <span class='id identifier rubyid_new_value'>new_value</span> }
<span class='id identifier rubyid_h3'>h3</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;5, :baz=&gt;2, :bat=&gt;9, :bam=&gt;5}</span></code></pre>

<p>With no arguments:</p>
<ul><li>
<p>Returns <code>self</code>, unmodified.</p>
</li><li>
<p>The block, if given, is ignored.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge'><a href="#merge-instance_method" title="Hash#merge (method)">merge</a></span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_merge!'>merge!</span> { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_old_value'>old_value</span><span class='comma'>,</span> <span class='id identifier rubyid_new_value'>new_value</span><span class='op'>|</span> <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Cannot happen</span><span class='tstring_end'>&#39;</span></span> }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3998-L4015'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3998' data-end='4015'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3998</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_update(int argc, VALUE *argv, VALUE self)
{
    int i;
    bool block_given = rb_block_given_p();

    rb_hash_modify(self);
    for (i = 0; i &lt; argc; i++){
       VALUE hash = to_hash(argv[i]);
       if (block_given) {
           rb_hash_foreach(hash, rb_hash_update_block_i, self);
       }
       else {
           rb_hash_foreach(hash, rb_hash_update_i, self);
       }
    }
    return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rassoc-instance_method">
  <h3 class='signature '>
    #<strong>rassoc</strong>(value)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new 2-element Array consisting of the key and value of the first-found entry whose value is <a href="#==-instance_method" title="Hash#== (method)">#==</a> to value (see <a href='#label-Entry+Order'>Entry Order</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>1</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_rassoc'>rassoc</span>(<span class='int'>1</span>) <span class='comment'># =&gt; [:bar, 1]</span></code></pre>

<p>Returns <code>nil</code> if no such value found.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4239-L4248'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4239' data-end='4248'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4239</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_rassoc(VALUE hash, VALUE obj)
{
    VALUE args[2];

    args[0] = obj;
    args[1] = Qnil;
    rb_hash_foreach(hash, rassoc_i, (VALUE)args);
    return args[1];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rehash-instance_method">
  <h3 class='signature '>
    #<strong>rehash</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Rebuilds the hash table by recomputing the hash index for each key; returns <code>self</code>.</p>

<p>The hash table becomes invalid if the hash value of a key has changed after the entry was created. See <a href='#label-Modifying+an+Active+Hash+Key'>Modifying an Active Hash Key</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L1978-L2008'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1978' data-end='2008'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 1978</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_rehash(VALUE hash)
{
    VALUE tmp;
    st_table *tbl;

    if (RHASH_ITER_LEV(hash) &gt; 0) {
	rb_raise(rb_eRuntimeError, &quot;rehash during iteration&quot;);
    }
    rb_hash_modify_check(hash);
    if (RHASH_AR_TABLE_P(hash)) {
        tmp = hash_alloc(0);
        ar_alloc_table(tmp);
        rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);
        ar_free_and_clear_table(hash);
        ar_copy(hash, tmp);
        ar_free_and_clear_table(tmp);
    }
    else if (RHASH_ST_TABLE_P(hash)) {
        st_table *old_tab = RHASH_ST_TABLE(hash);
        tmp = hash_alloc(0);
        tbl = st_init_table_with_size(old_tab-&gt;type, old_tab-&gt;num_entries);
        RHASH_ST_TABLE_SET(tmp, tbl);
        rb_hash_foreach(hash, rb_hash_rehash_i, (VALUE)tmp);
        st_free_table(old_tab);
        RHASH_ST_TABLE_SET(hash, tbl);
        RHASH_ST_CLEAR(tmp);
    }
    hash_verify(hash);
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reject-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reject</strong> {|key, value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>reject</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Hash object whose entries are all those from <code>self</code> for which the block returns <code>false</code> or <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_reject'>reject</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0}</span></code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_reject'>reject</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:reject&gt;
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2578-L2595'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2578' data-end='2595'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2578</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_reject(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    if (RTEST(ruby_verbose)) {
	VALUE klass;
	if (HAS_EXTRA_STATES(hash, klass)) {
	    rb_warn(&quot;extra states are no longer copied: %+&quot;PRIsVALUE, hash);
	}
    }
    result = rb_hash_new();
    if (!RHASH_EMPTY_P(hash)) {
	rb_hash_foreach(hash, reject_i, result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reject!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>reject!</strong> {|key, value| ... } &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>reject!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>, whose remaining entries are those for which the block returns <code>false</code> or <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_reject!'>reject!</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span> } <span class='comment'># =&gt; {:baz=&gt;2}</span></code></pre>

<p>Returns <code>nil</code> if no entries are removed.</p>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_reject!'>reject!</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:reject!&gt;
</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) } <span class='comment'># =&gt; {:foo=&gt;0}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2537-L2549'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2537' data-end='2549'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2537</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_reject_bang(VALUE hash)
{
    st_index_t n;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify(hash);
    n = RHASH_SIZE(hash);
    if (!n) return Qnil;
    rb_hash_foreach(hash, delete_if_i, hash);
    if (n == RHASH_SIZE(hash)) return Qnil;
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replace-instance_method">
  <h3 class='signature '>
    #<strong>replace</strong>(other_hash)  &#x21d2; <code>self</code>     <span class='aliases'>Also known as: <span class='names'>#initialize_copy</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replaces the entire contents of <code>self</code> with the contents of <code>other_hash</code>; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_replace'>replace</span>({<span class='label'>bat:</span> <span class='int'>3</span><span class='comma'>,</span> <span class='label'>bam:</span> <span class='int'>4</span>}) <span class='comment'># =&gt; {:bat=&gt;3, :bam=&gt;4}</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2950-L2986'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2950' data-end='2986'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2950</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_replace(VALUE hash, VALUE hash2)
{
    rb_hash_modify_check(hash);
    if (hash == hash2) return hash;
    if (RHASH_ITER_LEV(hash) &gt; 0) {
        rb_raise(rb_eRuntimeError, &quot;can&#39;t replace hash during iteration&quot;);
    }
    hash2 = to_hash(hash2);

    COPY_DEFAULT(hash, hash2);

    if (RHASH_AR_TABLE_P(hash)) {
        if (RHASH_AR_TABLE_P(hash2)) {
            ar_clear(hash);
        }
        else {
            ar_free_and_clear_table(hash);
            RHASH_ST_TABLE_SET(hash, st_init_table_with_size(RHASH_TYPE(hash2), RHASH_SIZE(hash2)));
        }
    }
    else {
        if (RHASH_AR_TABLE_P(hash2)) {
            st_free_table(RHASH_ST_TABLE(hash));
            RHASH_ST_CLEAR(hash);
        }
        else {
            st_clear(RHASH_ST_TABLE(hash));
            RHASH_TBL_RAW(hash)-&gt;type = RHASH_ST_TABLE(hash2)-&gt;type;
        }
    }
    rb_hash_foreach(hash2, rb_hash_rehash_i, (VALUE)hash);

    rb_gc_writebarrier_remember(hash);

    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="select-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select</strong> {|key, value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>select</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#filter-instance_method" title="Hash#filter (method)">#filter</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="select!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>select!</strong> {|key, value| ... } &#x21d2; <code>self</code><sup>?</sup> </span>
      <span class='overload'>#<strong>select!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#filter!-instance_method" title="Hash#filter! (method)">#filter!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="shift-instance_method">
  <h3 class='signature '>
    #<strong>shift</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, <code>value</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes the first hash entry (see <a href='#label-Entry+Order'>Entry Order</a>); returns a 2-element Array containing the removed key and value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_shift'>shift</span> <span class='comment'># =&gt; [:foo, 0]
</span><span class='id identifier rubyid_h'>h</span> <span class='comment'># =&gt; {:bar=&gt;1, :baz=&gt;2}</span></code></pre>

<p>Returns the default value if the hash is empty (see <a href='#label-Default+Values'>Default Values</a>).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2436-L2473'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2436' data-end='2473'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2436</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_shift(VALUE hash)
{
    struct shift_var var;

    rb_hash_modify_check(hash);
    if (RHASH_AR_TABLE_P(hash)) {
	var.key = Qundef;
	if (RHASH_ITER_LEV(hash) == 0) {
            if (ar_shift(hash, &amp;var.key, &amp;var.val)) {
		return rb_assoc_new(var.key, var.val);
	    }
	}
	else {
            rb_hash_foreach(hash, shift_i_safe, (VALUE)&amp;var);
            if (var.key != Qundef) {
                rb_hash_delete_entry(hash, var.key);
                return rb_assoc_new(var.key, var.val);
            }
        }
    }
    if (RHASH_ST_TABLE_P(hash)) {
        var.key = Qundef;
        if (RHASH_ITER_LEV(hash) == 0) {
            if (st_shift(RHASH_ST_TABLE(hash), &amp;var.key, &amp;var.val)) {
                return rb_assoc_new(var.key, var.val);
            }
        }
        else {
	    rb_hash_foreach(hash, shift_i_safe, (VALUE)&amp;var);
	    if (var.key != Qundef) {
		rb_hash_delete_entry(hash, var.key);
		return rb_assoc_new(var.key, var.val);
	    }
	}
    }
    return rb_hash_default_value(hash, Qnil);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="size-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>size</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#length-instance_method" title="Hash#length (method)">#length</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="slice-instance_method">
  <h3 class='signature '>
    #<strong>slice</strong>(*keys)  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Hash object containing the entries for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_slice'>slice</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; {:baz=&gt;2, :foo=&gt;0}</span></code></pre>

<p>Any given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a> that are not found are ignored.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2608-L2627'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2608' data-end='2627'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2608</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_slice(int argc, VALUE *argv, VALUE hash)
{
    int i;
    VALUE key, value, result;

    if (argc == 0 || RHASH_EMPTY_P(hash)) {
	return rb_hash_new();
    }
    result = rb_hash_new_with_size(argc);

    for (i = 0; i &lt; argc; i++) {
	key = argv[i];
	value = rb_hash_lookup2(hash, key, Qundef);
	if (value != Qundef)
	    rb_hash_aset(result, key, value);
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="store-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]=</strong>(key, value)  &#x21d2; <code>value</code> </span>
      <span class='overload'>#<strong>store</strong>(key, value)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]=-instance_method" title="Hash#[]= (method)">#[]=</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="to_a-instance_method">
  <h3 class='signature '>
    #<strong>to_a</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Array of 2-element Array objects; each nested Array contains a key-value pair from <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'># =&gt; [[:foo, 0], [:bar, 1], [:baz, 2]]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3411-L3420'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3411' data-end='3420'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3411</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_to_a(VALUE hash)
{
    VALUE ary;

    ary = rb_ary_new_capa(RHASH_SIZE(hash));
    rb_hash_foreach(hash, to_a_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_h-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_h</strong>  &#x21d2; <code>self</code>, <code>Hash</code> </span>
      <span class='overload'>#<strong>to_h</strong> {|key, value| ... } &#x21d2; <code>Hash</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>For an instance of Hash, returns <code>self</code>.</p>

<p>For a subclass of Hash, returns a new Hash containing the content of <code>self</code>.</p>

<p>When a block is given, returns a new Hash object whose content is based on the block; the block should return a 2-element Array object specifying the key-value pair to be included in the returned Array:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_to_h'>to_h</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> [<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>] }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {0=&gt;:foo, 1=&gt;:bar, 2=&gt;:baz}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3538-L3549'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3538' data-end='3549'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3538</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_to_h(VALUE hash)
{
    if (rb_block_given_p()) {
        return rb_hash_to_h_block(hash);
    }
    if (rb_obj_class(hash) != rb_cHash) {
	const VALUE flags = RBASIC(hash)-&gt;flags;
        hash = hash_dup(hash, rb_cHash, flags &amp; RHASH_PROC_DEFAULT);
    }
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_hash-instance_method">
  <h3 class='signature '>
    #<strong>to_hash</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3480-L3484'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3480' data-end='3484'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3480</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_to_hash(VALUE hash)
{
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_proc-instance_method">
  <h3 class='signature '>
    #<strong>to_proc</strong>  &#x21d2; <a href="Proc.html" title="Proc (class)">Proc</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a Proc object that maps a key to its value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_proc'>proc</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_to_proc'>to_proc</span>
<span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Proc
</span><span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>) <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_proc'>proc</span>.<span class='id identifier rubyid_call'>call</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nosuch'>nosuch</span>) <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L4726-L4730'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4726' data-end='4730'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 4726</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_to_proc(VALUE hash)
{
    return rb_func_lambda_new(hash_proc_call, hash, 1, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a>     <span class='aliases'>Also known as: <span class='names'>#inspect</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new String containing the hash entries:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="Hash#inspect (method)">inspect</a></span> <span class='comment'># =&gt; &quot;{:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}&quot;</span></code></pre>

<p><code>to_s</code> is an alias for <a href="#inspect-instance_method" title="Hash#inspect (method)">#inspect</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3466-L3472'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3466' data-end='3472'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3466</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_inspect(VALUE hash)
{
    if (RHASH_EMPTY_P(hash))
	return rb_usascii_str_new2(&quot;{}&quot;);
    return rb_exec_recursive(inspect_hash, hash, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transform_keys-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>transform_keys</strong> {|key| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>transform_keys</strong>(hash2)  &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>transform_keys</strong>(hash2) {|other_key| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>transform_keys</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Hash object; each entry has:</p>
<ul><li>
<p>A key provided by the block.</p>
</li><li>
<p>The value from <code>self</code>.</p>
</li></ul>

<p>An optional hash argument can be provided to map keys to new keys. Any key not given will be mapped using the provided block, or remain the same if no block is given.</p>

<p>Transform keys:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span> }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {&quot;foo&quot;=&gt;0, &quot;bar&quot;=&gt;1, &quot;baz&quot;=&gt;2}
</span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>foo:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)
<span class='comment'>#=&gt; {bar: 0, foo: 1, baz: 2}
</span>
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span>(<span class='label'>foo:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span>)
<span class='comment'>#=&gt; {:hello=&gt;0, &quot;bar&quot;=&gt;1, &quot;baz&quot;=&gt;2}</span></code></pre>

<p>Overwrites values for duplicate keys:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span> {<span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span> }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:bat=&gt;2}</span></code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_keys'>transform_keys</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:transform_keys&gt;
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span><span class='op'>|</span> <span class='id identifier rubyid_key'><a href="#key-instance_method" title="Hash#key (method)">key</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Hash#to_s (method)">to_s</a></span> }
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {&quot;foo&quot;=&gt;0, &quot;bar&quot;=&gt;1, &quot;baz&quot;=&gt;2}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3226-L3252'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3226' data-end='3252'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3226</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_transform_keys(int argc, VALUE *argv, VALUE hash)
{
    VALUE result;
    struct transform_keys_args transarg = {0};

    argc = rb_check_arity(argc, 0, 1);
    if (argc &gt; 0) {
        transarg.trans = to_hash(argv[0]);
        transarg.block_given = rb_block_given_p();
    }
    else {
        RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    }
    result = rb_hash_new();
    if (!RHASH_EMPTY_P(hash)) {
        if (transarg.trans) {
            transarg.result = result;
            rb_hash_foreach(hash, transform_keys_hash_i, (VALUE)&amp;transarg);
        }
        else {
            rb_hash_foreach(hash, transform_keys_i, result);
        }
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transform_keys!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>transform_keys!</strong> {|key| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>transform_keys!</strong>(hash2)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>transform_keys!</strong>(hash2) {|other_key| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>transform_keys!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Same as <a href="#transform_keys-instance_method" title="Hash#transform_keys (method)">#transform_keys</a> but modifies the receiver in place instead of returning a new hash.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3266-L3312'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3266' data-end='3312'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3266</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_transform_keys_bang(int argc, VALUE *argv, VALUE hash)
{
    VALUE trans = 0;
    int block_given = 0;

    argc = rb_check_arity(argc, 0, 1);
    if (argc &gt; 0) {
        trans = to_hash(argv[0]);
        block_given = rb_block_given_p();
    }
    else {
        RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    }
    rb_hash_modify_check(hash);
    if (!RHASH_TABLE_EMPTY_P(hash)) {
        long i;
        VALUE new_keys = hash_alloc(0);
        VALUE pairs = rb_ary_tmp_new(RHASH_SIZE(hash) * 2);
        rb_hash_foreach(hash, flatten_i, pairs);
        for (i = 0; i &lt; RARRAY_LEN(pairs); i += 2) {
            VALUE key = RARRAY_AREF(pairs, i), new_key, val;

            if (!trans) {
                new_key = rb_yield(key);
            }
            else if ((new_key = rb_hash_lookup2(trans, key, Qundef)) != Qundef) {
                /* use the transformed key */
            }
            else if (block_given) {
                new_key = rb_yield(key);
            }
            else {
                new_key = key;
            }
            val = RARRAY_AREF(pairs, i+1);
            if (!hash_stlike_lookup(new_keys, key, NULL)) {
                rb_hash_stlike_delete(hash, &amp;key, NULL);
            }
            rb_hash_aset(hash, new_key, val);
            rb_hash_aset(new_keys, new_key, Qnil);
        }
        rb_ary_clear(pairs);
        rb_hash_clear(new_keys);
    }
    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transform_values-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>transform_values</strong> {|value| ... } &#x21d2; <code>Hash</code> </span>
      <span class='overload'>#<strong>transform_values</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Hash object; each entry has:</p>
<ul><li>
<p>A key from <code>self</code>.</p>
</li><li>
<p>A value provided by the block.</p>
</li></ul>

<p>Transform values:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_values'>transform_values</span> {<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>*</span> <span class='int'>100</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}</span></code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_values'>transform_values</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;1, :baz=&gt;2}:transform_values&gt;
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>*</span> <span class='int'>100</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3350-L3364'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3350' data-end='3364'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3350</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_transform_values(VALUE hash)
{
    VALUE result;

    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    result = hash_copy(hash_alloc(rb_cHash), hash);
    SET_DEFAULT(result, Qnil);

    if (!RHASH_EMPTY_P(hash)) {
        rb_hash_stlike_foreach_with_replace(result, transform_values_foreach_func, transform_values_foreach_replace, result);
    }

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="transform_values!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>transform_values!</strong> {|value| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>transform_values!</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>, whose keys are unchanged, and whose values are determined by the given block.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_values!'>transform_values!</span> {<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>*</span> <span class='int'>100</span>} <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}</span></code></pre>

<p>Returns a new Enumerator if no block given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_transform_values!'>transform_values!</span> <span class='comment'># =&gt; #&lt;Enumerator: {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}:transform_values!&gt;
</span><span class='id identifier rubyid_h1'>h1</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Hash#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>*</span> <span class='int'>100</span>}
<span class='id identifier rubyid_h1'>h1</span> <span class='comment'># =&gt; {:foo=&gt;0, :bar=&gt;100, :baz=&gt;200}</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3381-L3392'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3381' data-end='3392'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3381</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_transform_values_bang(VALUE hash)
{
    RETURN_SIZED_ENUMERATOR(hash, 0, 0, hash_enum_size);
    rb_hash_modify_check(hash);

    if (!RHASH_TABLE_EMPTY_P(hash)) {
        rb_hash_stlike_foreach_with_replace(hash, transform_values_foreach_func, transform_values_foreach_replace, hash);
    }

    return hash;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="update-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>merge!</strong>  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>merge!</strong>(*other_hashes)  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>merge!</strong>(*other_hashes) {|key, old_value, new_value| ... } &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#merge!-instance_method" title="Hash#merge! (method)">#merge!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="value?-instance_method">
  <h3 class='signature '>
    #<strong>value?</strong>(value)  &#x21d2; <code>Boolean</code>     <span class='aliases'>Also known as: <span class='names'>#has_value?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>value</code> is a value in <code>self</code>, otherwise <code>false</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3686-L3695'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3686' data-end='3695'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3686</span></pre>
<pre class='code cpp'>

static VALUE
rb_hash_has_value(VALUE hash, VALUE val)
{
    VALUE data[2];

    data[0] = Qfalse;
    data[1] = val;
    rb_hash_foreach(hash, rb_hash_search_value, (VALUE)data);
    return data[0];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="values-instance_method">
  <h3 class='signature '>
    #<strong>values</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Array containing all values in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [0, 1, 2]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L3611-L3642'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3611' data-end='3642'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 3611</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_values(VALUE hash)
{
    VALUE values;
    st_index_t size = RHASH_SIZE(hash);

    values = rb_ary_new_capa(size);
    if (size == 0) return values;

    if (ST_DATA_COMPATIBLE_P(VALUE)) {
        if (RHASH_AR_TABLE_P(hash)) {
            rb_gc_writebarrier_remember(values);
            RARRAY_PTR_USE_TRANSIENT(values, ptr, {
                size = ar_values(hash, ptr, size);
            });
        }
        else if (RHASH_ST_TABLE_P(hash)) {
            st_table *table = RHASH_ST_TABLE(hash);
            rb_gc_writebarrier_remember(values);
            RARRAY_PTR_USE_TRANSIENT(values, ptr, {
                size = st_values(table, ptr, size);
            });
        }
	rb_ary_set_len(values, size);
    }

    else {
	rb_hash_foreach(hash, values_i, values);
    }

    return values;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="values_at-instance_method">
  <h3 class='signature '>
    #<strong>values_at</strong>(*keys)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Array containing values for the given <a href="#keys-instance_method" title="Hash#keys (method)">#keys</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {<span class='label'>foo:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>2</span>}
<span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; [2, 0]</span></code></pre>

<p>The <a href='#label-Default+Values'>default values</a> are returned for any keys that are not found:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) <span class='comment'># =&gt; [nil, 0]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_6/hash.c#L2670-L2680'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2670' data-end='2680'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'hash.c', line 2670</span></pre>
<pre class='code cpp'>

VALUE
rb_hash_values_at(int argc, VALUE *argv, VALUE hash)
{
    VALUE result = rb_ary_new2(argc);
    long i;

    for (i=0; i&lt;argc; i++) {
	rb_ary_push(result, rb_hash_aref(hash, argv[i]));
    }
    return result;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>