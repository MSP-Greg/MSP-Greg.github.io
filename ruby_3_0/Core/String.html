<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: String &mdash; Core Ruby-3.0.7 p220</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "String",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.0.7</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_S'>Index (S)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>String&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: String</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a class='nodoc' href="Warning/buffer.html" title="Warning::buffer (class)">Warning::buffer</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Comparable.html" title="Comparable (module)"><code>::Comparable</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L11594'>string.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/complex.c#L2038'>complex.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/encoding.c#L1201'>encoding.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/pack.rb#L138'>pack.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/rational.c#L2534'>rational.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/symbol.c#L839'>symbol.c</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/transcode.c#L2883'>transcode.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A String object holds and manipulates an arbitrary sequence of bytes, typically representing characters. <code>String</code> objects may be created using <a href="#new-class_method" title="String.new (method)">.new</a> or as literals.</p>

<p>Because of aliasing issues, users of strings should be aware of the methods that modify the contents of a <code>String</code> object.  Typically, methods with names ending in “!” modify their receiver, while those without a “!” return a new <code>String</code>.  However, there are exceptions, such as <a href="#[]=-instance_method" title="String#[]= (method)">#[]=</a>.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(string = &#39;&#39;)  &#x21d2; String </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new String that is a copy of <code>string</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#try_convert-class_method" title="try_convert (class method)">.<strong>try_convert</strong>(object)  &#x21d2; Object, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <code>object</code> is a String object, returns <code>object</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#ascii_only%3F-instance_method" title="#ascii_only? (instance method)">#<strong>ascii_only?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true for a string which has only ASCII characters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the length of <code>self</code> is zero, <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#valid_encoding%3F-instance_method" title="#valid_encoding? (instance method)">#<strong>valid_encoding?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true for a string which is encoded correctly.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#%25-instance_method" title="#% (instance method)">#<strong>%</strong>(object)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of formatting <code>object</code> into the format specification <code>self</code> (see <a href="Kernel.html#sprintf-class_method" title="Kernel.sprintf (method)">Kernel.sprintf</a> for formatting details):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#*-instance_method" title="#* (instance method)">#<strong>*</strong>(integer)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new String containing <code>integer</code> copies of <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>(other_string)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new String containing <code>other_string</code> concatenated to <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#%2B@-instance_method" title="#+ (instance method)">#<strong>+</strong>  &#x21d2; String, self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code> if <code>self</code> is not frozen.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#-@-instance_method" title="#- (instance method)">#<strong>-</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a frozen, possibly pre-existing copy of the string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(object)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Concatenates <code>object</code> to <code>self</code> and returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other_string)  &#x21d2; 1, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compares <code>self</code> and <code>other_string</code>, returning: - -1 if <code>other_string</code> is larger.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(object)  &#x21d2; Boolean </a>
      (also: #===)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>object</code> has the same length and content; as <code>self</code>; <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#===-instance_method" title="#=== (instance method)">#<strong>===</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#==-instance_method" title="String#== (method)">#==</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#=~-instance_method" title="#=~ (instance method)">#<strong>=~</strong>(regexp)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the Integer index of the first substring that matches the given <code>regexp</code>, or <code>nil</code> if no match found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(index)  &#x21d2; String<sup>?</sup> </a>
      (also: #slice)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the substring of <code>self</code> specified by the arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(integer, new_str)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Element Assignment—Replaces some or all of the content of <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#b-instance_method" title="#b (instance method)">#<strong>b</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copied string whose encoding is ASCII-8BIT.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bytes-instance_method" title="#bytes (instance method)">#<strong>bytes</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of bytes in <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bytesize-instance_method" title="#bytesize (instance method)">#<strong>bytesize</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the count  of bytes in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#byteslice-instance_method" title="#byteslice (instance method)">#<strong>byteslice</strong>(integer)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Byte Reference—If passed a single <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, returns a substring of one byte at that position.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capitalize-instance_method" title="#capitalize (instance method)">#<strong>capitalize</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with the first character converted to uppercase and the remainder to lowercase.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capitalize!-instance_method" title="#capitalize! (instance method)">#<strong>capitalize!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Modifies <em>str</em> by converting the first character to uppercase and the remainder to lowercase.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#casecmp-instance_method" title="#casecmp (instance method)">#<strong>casecmp</strong>(other_str)  &#x21d2; 1, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compares <code>self</code> and <code>other_string</code>, ignoring case, and returning: - -1 if <code>other_string</code> is larger.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#casecmp%3F-instance_method" title="#casecmp? (instance method)">#<strong>casecmp?</strong>(other_string)  &#x21d2; true, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>self</code> and <code>other_string</code> are equal after Unicode case folding, otherwise <code>false</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#center-instance_method" title="#center (instance method)">#<strong>center</strong>(width, padstr = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Centers <code>str</code> in <code>width</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chars-instance_method" title="#chars (instance method)">#<strong>chars</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of characters in <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chomp-instance_method" title="#chomp (instance method)">#<strong>chomp</strong>(separator = $/)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <code>String</code> with the given record separator removed from the end of <em>str</em> (if present).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chomp!-instance_method" title="#chomp! (instance method)">#<strong>chomp!</strong>(separator = $/)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Modifies <em>str</em> in place as described for <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a>, returning <em>str</em>, or <code>nil</code> if no modifications were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chop-instance_method" title="#chop (instance method)">#<strong>chop</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new <code>String</code> with the last character removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chop!-instance_method" title="#chop! (instance method)">#<strong>chop!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Processes <em>str</em> as for <a href="#chop-instance_method" title="String#chop (method)">#chop</a>, returning <em>str</em>, or <code>nil</code> if <em>str</em> is the empty string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#chr-instance_method" title="#chr (instance method)">#<strong>chr</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a one-character string at the beginning of the string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Makes string empty.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#codepoints-instance_method" title="#codepoints (instance method)">#<strong>codepoints</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> ordinals of the characters in <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(*objects)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Concatenates each object in <code>objects</code> to <code>self</code> and returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>([other_str]+)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Each <code>other_str</code> parameter defines a set of characters to count.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#crypt-instance_method" title="#crypt (instance method)">#<strong>crypt</strong>(salt_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the string generated by calling <code>crypt(3)</code> standard library function with <code>str</code> and <code>salt_str</code>, in this order, as its arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>([other_str]+)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with all characters in the intersection of its arguments deleted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete!-instance_method" title="#delete! (instance method)">#<strong>delete!</strong>([other_str]+)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs a <a href="#delete-instance_method" title="String#delete (method)">#delete</a> operation in place, returning <em>str</em>, or <code>nil</code> if <em>str</em> was not modified.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_prefix-instance_method" title="#delete_prefix (instance method)">#<strong>delete_prefix</strong>(prefix)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with leading <code>prefix</code> deleted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_prefix!-instance_method" title="#delete_prefix! (instance method)">#<strong>delete_prefix!</strong>(prefix)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes leading <code>prefix</code> from <em>str</em>, returning <code>nil</code> if no change was made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_suffix-instance_method" title="#delete_suffix (instance method)">#<strong>delete_suffix</strong>(suffix)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with trailing <code>suffix</code> deleted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_suffix!-instance_method" title="#delete_suffix! (instance method)">#<strong>delete_suffix!</strong>(suffix)  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes trailing <code>suffix</code> from <em>str</em>, returning <code>nil</code> if no change was made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#downcase-instance_method" title="#downcase (instance method)">#<strong>downcase</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with all uppercase letters replaced with their lowercase counterparts.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#downcase!-instance_method" title="#downcase! (instance method)">#<strong>downcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Downcases the contents of <em>str</em>, returning <code>nil</code> if no changes were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dump-instance_method" title="#dump (instance method)">#<strong>dump</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a quoted version of the string with all non-printing characters replaced by <code>\xHH</code> notation and all special characters escaped.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_byte-instance_method" title="#each_byte (instance method)">#<strong>each_byte</strong> {|integer| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes each byte in <em>str</em> to the given block, or returns an enumerator if no block is given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_char-instance_method" title="#each_char (instance method)">#<strong>each_char</strong> {|cstr| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes each character in <em>str</em> to the given block, or returns an enumerator if no block is given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_codepoint-instance_method" title="#each_codepoint (instance method)">#<strong>each_codepoint</strong> {|integer| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> ordinal of each character in <em>str</em>, also known as a <em>codepoint</em> when applied to Unicode strings to the given block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_grapheme_cluster-instance_method" title="#each_grapheme_cluster (instance method)">#<strong>each_grapheme_cluster</strong> {|cstr| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes each grapheme cluster in <em>str</em> to the given block, or returns an enumerator if no block is given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_line-instance_method" title="#each_line (instance method)">#<strong>each_line</strong>(separator = $/, chomp: false) {|substr| ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Splits <em>str</em> using the supplied parameter as the record separator (<code>$/</code> by default), passing each substring in turn to the supplied block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encode-instance_method" title="#encode (instance method)">#<strong>encode</strong>(encoding, **options)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The first form returns a copy of <code>str</code> transcoded to encoding <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encode!-instance_method" title="#encode! (instance method)">#<strong>encode!</strong>(encoding, **options)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The first form transcodes the contents of <em>str</em> from str.encoding to <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encoding-instance_method" title="#encoding (instance method)">#<strong>encoding</strong>  &#x21d2; Encoding </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="Regexp.html#encoding-instance_method" title="Regexp#encoding (method)">Regexp#encoding</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#end_with%3F-instance_method" title="#end_with? (instance method)">#<strong>end_with?</strong>([suffixes]+)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if <code>str</code> ends with one of the <code>suffixes</code> given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <code>object</code> has the same length and content; as <code>self</code>; <code>false</code> otherwise:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#force_encoding-instance_method" title="#force_encoding (instance method)">#<strong>force_encoding</strong>(encoding)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Changes the encoding to <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> and returns self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#freeze-instance_method" title="#freeze (instance method)">#<strong>freeze</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getbyte-instance_method" title="#getbyte (instance method)">#<strong>getbyte</strong>(index)  &#x21d2; 0 .. 255 </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>returns the <em>index</em>th byte as an integer.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#grapheme_clusters-instance_method" title="#grapheme_clusters (instance method)">#<strong>grapheme_clusters</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of grapheme clusters in <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gsub-instance_method" title="#gsub (instance method)">#<strong>gsub</strong>(pattern, replacement)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with <em>all</em> occurrences of <em>pattern</em> substituted for the second argument.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#gsub!-instance_method" title="#gsub! (instance method)">#<strong>gsub!</strong>(pattern, replacement)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs the substitutions of <a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a> in place, returning <em>str</em>, or <code>nil</code> if no substitutions were performed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the integer hash value for <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#hex-instance_method" title="#hex (instance method)">#<strong>hex</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Treats leading characters from <em>str</em> as a string of hexadecimal digits (with an optional sign and an optional <code>0x</code>) and returns the corresponding number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(other_str)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if <em>str</em> contains the given string or character.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(substring, offset = 0)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the Integer index of the first occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(other_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#replace-instance_method" title="String#replace (method)">#replace</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(index, other_string)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Inserts the given <code>other_string</code> into <code>self</code>; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a printable version of <em>str</em>, surrounded by quote marks, with special characters escaped.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#intern-instance_method" title="#intern (instance method)">#<strong>intern</strong>  &#x21d2; Symbol </a>
      (also: #to_sym)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> corresponding to <em>str</em>, creating the symbol if it did not previously exist.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
      (also: #size)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the count of characters (not bytes) in <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lines-instance_method" title="#lines (instance method)">#<strong>lines</strong>(separator = $/, chomp: false)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of lines in <em>str</em> split using the supplied record separator (<code>$/</code> by default).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ljust-instance_method" title="#ljust (instance method)">#<strong>ljust</strong>(integer, padstr = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <em>integer</em> is greater than the length of <em>str</em>, returns a new <code>String</code> of length <em>integer</em> with <em>str</em> left justified and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lstrip-instance_method" title="#lstrip (instance method)">#<strong>lstrip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of the receiver with leading whitespace removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lstrip!-instance_method" title="#lstrip! (instance method)">#<strong>lstrip!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes leading whitespace from the receiver.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#match-instance_method" title="#match (instance method)">#<strong>match</strong>(pattern, offset = 0)  &#x21d2; MatchData<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a Matchdata object (or <code>nil</code>) based on <code>self</code> and the given <code>pattern</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#match%3F-instance_method" title="#match? (instance method)">#<strong>match?</strong>(pattern, offset = 0)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> or <code>false</code> based on whether a match is found for <code>self</code> and <code>pattern</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#next-instance_method" title="#next (instance method)">#<strong>next</strong>  &#x21d2; String </a>
      (also: #succ)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the successor to <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#next!-instance_method" title="#next! (instance method)">#<strong>next!</strong>  &#x21d2; self </a>
      (also: #succ!)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Equivalent to <a href="#succ-instance_method" title="String#succ (method)">#succ</a>, but modifies <code>self</code> in place; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#oct-instance_method" title="#oct (instance method)">#<strong>oct</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Treats leading characters of <em>str</em> as a string of octal digits (with an optional sign) and returns the corresponding number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ord-instance_method" title="#ord (instance method)">#<strong>ord</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> ordinal of a one-character string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#partition-instance_method" title="#partition (instance method)">#<strong>partition</strong>(sep)  &#x21d2; Array, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string and returns the part before it, the match, and the part after it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepend-instance_method" title="#prepend (instance method)">#<strong>prepend</strong>(*other_strings)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prepends each string in <code>other_strings</code> to <code>self</code> and returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_str)  &#x21d2; String </a>
      (also: #initialize_copy)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Replaces the contents of <em>str</em> with the corresponding values in <em>other_str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse-instance_method" title="#reverse (instance method)">#<strong>reverse</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new string with the characters from <em>str</em> in reverse order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reverse!-instance_method" title="#reverse! (instance method)">#<strong>reverse!</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Reverses <em>str</em> in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rindex-instance_method" title="#rindex (instance method)">#<strong>rindex</strong>(substring, offset = self.length)  &#x21d2; Integer<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the Integer index of the <em>last</em> occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rjust-instance_method" title="#rjust (instance method)">#<strong>rjust</strong>(integer, padstr = &#39; &#39;)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <em>integer</em> is greater than the length of <em>str</em>, returns a new <code>String</code> of length <em>integer</em> with <em>str</em> right justified and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rpartition-instance_method" title="#rpartition (instance method)">#<strong>rpartition</strong>(sep)  &#x21d2; Array, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string from the end of the string, and returns the part before it, the match, and the part after it.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rstrip-instance_method" title="#rstrip (instance method)">#<strong>rstrip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of the receiver with trailing whitespace removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rstrip!-instance_method" title="#rstrip! (instance method)">#<strong>rstrip!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes trailing whitespace from the receiver.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>(pattern)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Both forms iterate through <em>str</em>, matching the pattern (which may be a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> or a <code>String</code>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scrub-instance_method" title="#scrub (instance method)">#<strong>scrub</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the string is invalid byte sequence then replace invalid bytes with given replacement character, else returns self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scrub!-instance_method" title="#scrub! (instance method)">#<strong>scrub!</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the string is invalid byte sequence then replace invalid bytes with given replacement character, else returns self.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setbyte-instance_method" title="#setbyte (instance method)">#<strong>setbyte</strong>(index, integer)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>modifies the <em>index</em>th byte as <em>integer</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#length-instance_method" title="String#length (method)">#length</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice-instance_method" title="#[] (instance method)">#<strong>[]</strong>(index)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#[]-instance_method" title="String#[] (method)">#[]</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#slice!-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>(integer)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes the specified portion from <em>str</em>, and returns the portion deleted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#split-instance_method" title="#split (instance method)">#<strong>split</strong>(pattern = nil, [limit])  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Divides <em>str</em> into substrings based on a delimiter, returning an array of these substrings.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#squeeze-instance_method" title="#squeeze (instance method)">#<strong>squeeze</strong>([other_str]*)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Builds a set of characters from the <em>other_str</em> parameter(s) using the procedure described for <a href="#count-instance_method" title="String#count (method)">#count</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#squeeze!-instance_method" title="#squeeze! (instance method)">#<strong>squeeze!</strong>([other_str]*)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Squeezes <em>str</em> in place, returning either <em>str</em>, or <code>nil</code> if no changes were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start_with%3F-instance_method" title="#start_with? (instance method)">#<strong>start_with?</strong>([prefixes]+)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if <code>str</code> starts with one of the <code>prefixes</code> given.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strip-instance_method" title="#strip (instance method)">#<strong>strip</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of the receiver with leading and trailing whitespace removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#strip!-instance_method" title="#strip! (instance method)">#<strong>strip!</strong>  &#x21d2; self<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes leading and trailing whitespace from the receiver.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sub-instance_method" title="#sub (instance method)">#<strong>sub</strong>(pattern, replacement)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>str</code> with the <em>first</em> occurrence of <code>pattern</code> replaced by the second argument.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sub!-instance_method" title="#sub! (instance method)">#<strong>sub!</strong>(pattern, replacement)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs the same substitution as <a href="#sub-instance_method" title="String#sub (method)">#sub</a> in-place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#succ-instance_method" title="#succ (instance method)">#<strong>succ</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#next-instance_method" title="String#next (method)">#next</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#succ!-instance_method" title="#succ! (instance method)">#<strong>succ!</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#next!-instance_method" title="String#next! (method)">#next!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sum-instance_method" title="#sum (instance method)">#<strong>sum</strong>(n = 16)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a basic <em>n</em>-bit checksum of the characters in <em>str</em>, where <em>n</em> is the optional <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> parameter, defaulting to 16.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#swapcase-instance_method" title="#swapcase (instance method)">#<strong>swapcase</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with uppercase alphabetic characters converted to lowercase and lowercase characters converted to uppercase.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#swapcase!-instance_method" title="#swapcase! (instance method)">#<strong>swapcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Equivalent to <a href="#swapcase-instance_method" title="String#swapcase (method)">#swapcase</a>, but modifies the receiver in place, returning <em>str</em>, or <code>nil</code> if no changes were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_c-instance_method" title="#to_c (instance method)">#<strong>to_c</strong>  &#x21d2; Complex </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a complex which denotes the string form.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_f-instance_method" title="#to_f (instance method)">#<strong>to_f</strong>  &#x21d2; Float </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting leading characters in <em>str</em> as a floating point number.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_i-instance_method" title="#to_i (instance method)">#<strong>to_i</strong>(base = 10)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting leading characters in <em>str</em> as an integer base <em>base</em> (between 2 and 36).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_r-instance_method" title="#to_r (instance method)">#<strong>to_r</strong>  &#x21d2; Rational </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the result of interpreting leading characters in <code>str</code> as a rational.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
      (also: #to_str)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_str-instance_method" title="#to_str (instance method)">#<strong>to_str</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_s-instance_method" title="String#to_s (method)">#to_s</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_sym-instance_method" title="#to_sym (instance method)">#<strong>to_sym</strong>  &#x21d2; Symbol </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#intern-instance_method" title="String#intern (method)">#intern</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr-instance_method" title="#tr (instance method)">#<strong>tr</strong>(from_str, to_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <code>str</code> with the characters in <code>from_str</code> replaced by the corresponding characters in <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr!-instance_method" title="#tr! (instance method)">#<strong>tr!</strong>(from_str, to_str)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Translates <em>str</em> in place, using the same rules as <a href="#tr-instance_method" title="String#tr (method)">#tr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr_s-instance_method" title="#tr_s (instance method)">#<strong>tr_s</strong>(from_str, to_str)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Processes a copy of <em>str</em> as described under <a href="#tr-instance_method" title="String#tr (method)">#tr</a>, then removes duplicate characters in regions that were affected by the translation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tr_s!-instance_method" title="#tr_s! (instance method)">#<strong>tr_s!</strong>(from_str, to_str)  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs <a href="#tr_s-instance_method" title="String#tr_s (method)">#tr_s</a> processing on <em>str</em> in place, returning <em>str</em>, or <code>nil</code> if no changes were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#undump-instance_method" title="#undump (instance method)">#<strong>undump</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an unescaped version of the string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unicode_normalize-instance_method" title="#unicode_normalize (instance method)">#<strong>unicode_normalize</strong>(form = :nfc)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Unicode Normalization—Returns a normalized form of <code>str</code>, using Unicode normalizations NFC, NFD, NFKC, or NFKD.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unicode_normalize!-instance_method" title="#unicode_normalize! (instance method)">#<strong>unicode_normalize!</strong>(form = :nfc)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Destructive version of <a href="#unicode_normalize-instance_method" title="String#unicode_normalize (method)">#unicode_normalize</a>, doing Unicode normalization in place.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unicode_normalized%3F-instance_method" title="#unicode_normalized? (instance method)">#<strong>unicode_normalized?</strong>(form = :nfc)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks whether <code>str</code> is in Unicode normalization form <code>form</code>, which can be any of the four values <code>:nfc</code>, <code>:nfd</code>, <code>:nfkc</code>, or <code>:nfkd</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unpack-instance_method" title="#unpack (instance method)">#<strong>unpack</strong>(format)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Decodes <em>str</em> (which may contain binary data) according to the format string, returning an array of each value extracted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unpack1-instance_method" title="#unpack1 (instance method)">#<strong>unpack1</strong>(format)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Decodes <em>str</em> (which may contain binary data) according to the format string, returning the first value extracted.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upcase-instance_method" title="#upcase (instance method)">#<strong>upcase</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a copy of <em>str</em> with all lowercase letters replaced with their uppercase counterparts.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upcase!-instance_method" title="#upcase! (instance method)">#<strong>upcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Upcases the contents of <em>str</em>, returning <code>nil</code> if no changes were made.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#upto-instance_method" title="#upto (instance method)">#<strong>upto</strong>(other_string, exclusive = false) {|string| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>With a block given, calls the block with each String value returned by successive calls to <code>String#succ;</code> the first value is <code>self</code>, the next is <code>self.succ</code>, and so on; the sequence terminates when value <code>other_string</code> is reached; returns <code>self</code>:</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Comparable.html" title="Comparable (module)"><code>::Comparable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#<-instance_method" title="Comparable#&lt; (method)">#<</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns a value less than 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#<=-instance_method" title="Comparable#&lt;= (method)">#<=</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns a value less than or equal to 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#==-instance_method" title="Comparable#== (method)">#==</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#>-instance_method" title="Comparable#&gt; (method)">#></a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns a value greater than 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#>=-instance_method" title="Comparable#&gt;= (method)">#>=</a></td>
      <td><div class='inline'><p>Compares two objects based on the receiver’s <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> method, returning true if it returns a value greater than or equal to 0.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#between%3F-instance_method" title="Comparable#between? (method)">#between?</a></td>
      <td><div class='inline'><p>Returns <code>false</code> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>min</em> is less than zero or if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>max</em> is greater than zero, <code>true</code> otherwise.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Comparable.html#clamp-instance_method" title="Comparable#clamp (method)">#clamp</a></td>
      <td><div class='inline'><p>In <code>(min, max)</code> form, returns <em>min</em> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>min</em> is less than zero, <em>max</em> if <em>obj</em> <a href="#<=>-instance_method" title="String#&lt;=&gt; (method)">#&lt;=&gt;</a> <em>max</em> is greater than zero, and <em>obj</em> otherwise.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>.<strong>new</strong>(string = &#39;&#39;)  &#x21d2; <code>String</code> </span>
      <span class='overload'>.<strong>new</strong>(string = &#39;&#39;, encoding: encoding)  &#x21d2; <code>String</code> </span>
      <span class='overload'>.<strong>new</strong>(string = &#39;&#39;, capacity: size)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new String that is a copy of <code>string</code>.</p>

<p>With no arguments, returns the empty string with the <a href="Encoding.html" title="Encoding (class)"><code>::Encoding</code></a> <code>ASCII-8BIT</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_s'>s</span> <span class='comment'># =&gt; &quot;&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='comment'># =&gt; #&lt;Encoding:ASCII-8BIT&gt;</span></code></pre>

<p>With the single String argument <code>string</code>, returns a copy of <code>string</code> with the same encoding as <code>string</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Que veut dire \u{e7}a?</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_s'>s</span> <span class='comment'># =&gt; &quot;Que veut dire \u{e7}a?&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='comment'># =&gt; #&lt;Encoding:UTF-8&gt;</span></code></pre>

<p>Literal strings like <code>&quot;&quot;</code> or here-documents always use [script encoding](Encoding.html#class-Encoding-label-Script+encoding), unlike <code>new</code>.</p>

<p>With keyword <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>, returns a copy of <code>str</code> with the specified encoding:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_new'>new</span>(<span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASCII</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='comment'># =&gt; #&lt;Encoding:US-ASCII&gt;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASCII</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='comment'># =&gt; #&lt;Encoding:US-ASCII&gt;</span></code></pre>

<p>Note that these are equivalent:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s0'>s0</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASCII</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_s1'>s1</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASCII</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_s0'>s0</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='op'>==</span> <span class='id identifier rubyid_s1'>s1</span>.<span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> <span class='comment'># =&gt; true</span></code></pre>

<p>With keyword <code>capacity</code>, returns a copy of <code>str</code>; the given <code>capacity</code> may set the size of the internal buffer, which may affect performance:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>String</span>.<span class='id identifier rubyid_new'>new</span>(<span class='label'>capacity:</span> <span class='int'>1</span>) <span class='comment'># =&gt; &quot;&quot;
</span><span class='const'>String</span>.<span class='id identifier rubyid_new'>new</span>(<span class='label'>capacity:</span> <span class='int'>4096</span>) <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

<p>The <code>string</code>, <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>, and <code>capacity</code> arguments may all be used together:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>String</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>capacity:</span> <span class='int'>25</span>)</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L1694-L1772'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1694' data-end='1772'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1694</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_init(int argc, VALUE *argv, VALUE str)
{
    static ID keyword_ids[2];
    VALUE orig, opt, venc, vcapa;
    VALUE kwargs[2];
    rb_encoding *enc = 0;
    int n;

    if (!keyword_ids[0]) {
	keyword_ids[0] = rb_id_encoding();
	CONST_ID(keyword_ids[1], &quot;capacity&quot;);
    }

    n = rb_scan_args(argc, argv, &quot;01:&quot;, &amp;orig, &amp;opt);
    if (!NIL_P(opt)) {
	rb_get_kwargs(opt, keyword_ids, 0, 2, kwargs);
	venc = kwargs[0];
	vcapa = kwargs[1];
	if (venc != Qundef &amp;&amp; !NIL_P(venc)) {
	    enc = rb_to_encoding(venc);
	}
	if (vcapa != Qundef &amp;&amp; !NIL_P(vcapa)) {
	    long capa = NUM2LONG(vcapa);
	    long len = 0;
	    int termlen = enc ? rb_enc_mbminlen(enc) : 1;

	    if (capa &lt; STR_BUF_MIN_SIZE) {
		capa = STR_BUF_MIN_SIZE;
	    }
	    if (n == 1) {
		StringValue(orig);
		len = RSTRING_LEN(orig);
		if (capa &lt; len) {
		    capa = len;
		}
		if (orig == str) n = 0;
	    }
	    str_modifiable(str);
	    if (STR_EMBED_P(str)) { /* make noembed always */
                char *new_ptr = ALLOC_N(char, (size_t)capa + termlen);
                memcpy(new_ptr, RSTRING(str)-&gt;as.ary, RSTRING_EMBED_LEN_MAX + 1);
                RSTRING(str)-&gt;as.heap.ptr = new_ptr;
            }
            else if (FL_TEST(str, STR_SHARED|STR_NOFREE)) {
                const size_t size = (size_t)capa + termlen;
                const char *const old_ptr = RSTRING_PTR(str);
                const size_t osize = RSTRING(str)-&gt;as.heap.len + TERM_LEN(str);
                char *new_ptr = ALLOC_N(char, (size_t)capa + termlen);
                memcpy(new_ptr, old_ptr, osize &lt; size ? osize : size);
                FL_UNSET_RAW(str, STR_SHARED|STR_NOFREE);
                RSTRING(str)-&gt;as.heap.ptr = new_ptr;
	    }
	    else if (STR_HEAP_SIZE(str) != (size_t)capa + termlen) {
		SIZED_REALLOC_N(RSTRING(str)-&gt;as.heap.ptr, char,
			(size_t)capa + termlen, STR_HEAP_SIZE(str));
	    }
	    RSTRING(str)-&gt;as.heap.len = len;
	    TERM_FILL(&amp;RSTRING(str)-&gt;as.heap.ptr[len], termlen);
	    if (n == 1) {
		memcpy(RSTRING(str)-&gt;as.heap.ptr, RSTRING_PTR(orig), len);
		rb_enc_cr_str_exact_copy(str, orig);
	    }
	    FL_SET(str, STR_NOEMBED);
	    RSTRING(str)-&gt;as.heap.aux.capa = capa;
	}
	else if (n == 1) {
	    rb_str_replace(str, orig);
	}
	if (enc) {
	    rb_enc_associate(str, enc);
	    ENC_CODERANGE_CLEAR(str);
	}
    }
    else if (n == 1) {
	rb_str_replace(str, orig);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="try_convert-class_method">
  <h3 class='signature  first'>
    .<strong>try_convert</strong>(object)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <code>object</code> is a String object, returns <code>object</code>.</p>

<p>Otherwise if <code>object</code> responds to <code>:to_str</code>, calls <code>object.to_str</code> and returns the result.</p>

<p>Returns <code>nil</code> if <code>object</code> does not respond to <code>:to_str</code></p>

<p>Raises an exception unless <code>object.to_str</code> returns a String object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2481-L2485'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2481' data-end='2485'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2481</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_s_try_convert(VALUE dummy, VALUE str)
{
    return rb_check_string_type(str);
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="ascii_only?-instance_method">
  <h3 class='signature ro first'>
    #<strong>ascii_only?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true for a string which has only ASCII characters.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_ascii_only?'>ascii_only?</span>          <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u{6666}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_ascii_only?'>ascii_only?</span>  <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10494-L10500'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10494' data-end='10500'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10494</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_is_ascii_only_p(VALUE str)
{
    int cr = rb_enc_str_coderange(str);

    return cr == ENC_CODERANGE_7BIT ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="empty?-instance_method">
  <h3 class='signature ro'>
    #<strong>empty?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the length of <code>self</code> is zero, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2027-L2033'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2027' data-end='2033'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2027</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_empty(VALUE str)
{
    if (RSTRING_LEN(str) == 0)
	return Qtrue;
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="valid_encoding?-instance_method">
  <h3 class='signature ro'>
    #<strong>valid_encoding?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true for a string which is encoded correctly.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xc2\xa1</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span>  <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xc2</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span>      <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_valid_encoding?'>valid_encoding?</span>      <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10476-L10482'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10476' data-end='10482'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10476</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_valid_encoding_p(VALUE str)
{
    int cr = rb_enc_str_coderange(str);

    return cr == ENC_CODERANGE_BROKEN ? Qfalse : Qtrue;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="%-instance_method">
  <h3 class='signature  first'>
    #<strong>%</strong>(object)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of formatting <code>object</code> into the format specification <code>self</code> (see <a href="Kernel.html#sprintf-class_method" title="Kernel.sprintf (method)">Kernel.sprintf</a> for formatting details):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%05d</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='int'>123</span> <span class='comment'># =&gt; &quot;00123&quot;</span></code></pre>

<p>If <code>self</code> contains multiple substitutions, <code>object</code> must be an Array or Hash containing the values to be substituted:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-5s: %016x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>self</span>.<span class='id identifier rubyid_object_id'>object_id</span> ] <span class='comment'># =&gt; &quot;ID   : 00002b054ec93168&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo = %{foo}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> {<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>} <span class='comment'># =&gt; &quot;foo = bar&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo = %{foo}, baz = %{baz}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> {<span class='label'>foo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>} <span class='comment'># =&gt; &quot;foo = bar, baz = bat&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2183-L2192'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2183' data-end='2192'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2183</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_format_m(VALUE str, VALUE arg)
{
    VALUE tmp = rb_check_array_type(arg);

    if (!NIL_P(tmp)) {
        return rb_str_format(RARRAY_LENINT(tmp), RARRAY_CONST_PTR(tmp), str);
    }
    return rb_str_format(1, &amp;arg, str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="*-instance_method">
  <h3 class='signature '>
    #<strong>*</strong>(integer)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new String containing <code>integer</code> copies of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ho! </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>3</span> <span class='comment'># =&gt; &quot;Ho! Ho! Ho! &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ho! </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>0</span> <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2113-L2166'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2113' data-end='2166'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2113</span></pre>
<pre class='code cpp'>

VALUE
rb_str_times(VALUE str, VALUE times)
{
    VALUE str2;
    long n, len;
    char *ptr2;
    int termlen;

    if (times == INT2FIX(1)) {
        return str_duplicate(rb_cString, str);
    }
    if (times == INT2FIX(0)) {
        str2 = str_alloc(rb_cString);
	rb_enc_copy(str2, str);
	return str2;
    }
    len = NUM2LONG(times);
    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;negative argument&quot;);
    }
    if (RSTRING_LEN(str) == 1 &amp;&amp; RSTRING_PTR(str)[0] == 0) {
       str2 = str_alloc(rb_cString);
       if (!STR_EMBEDDABLE_P(len, 1)) {
           RSTRING(str2)-&gt;as.heap.aux.capa = len;
           RSTRING(str2)-&gt;as.heap.ptr = ZALLOC_N(char, (size_t)len + 1);
           STR_SET_NOEMBED(str2);
       }
       STR_SET_LEN(str2, len);
       rb_enc_copy(str2, str);
       return str2;
    }
    if (len &amp;&amp; LONG_MAX/len &lt;  RSTRING_LEN(str)) {
	rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }

    len *= RSTRING_LEN(str);
    termlen = TERM_LEN(str);
    str2 = str_new0(rb_cString, 0, len, termlen);
    ptr2 = RSTRING_PTR(str2);
    if (len) {
        n = RSTRING_LEN(str);
        memcpy(ptr2, RSTRING_PTR(str), n);
        while (n &lt;= len/2) {
            memcpy(ptr2 + n, ptr2, n);
            n *= 2;
        }
        memcpy(ptr2 + n, ptr2, len-n);
    }
    STR_SET_LEN(str2, len);
    TERM_FILL(&amp;ptr2[len], termlen);
    rb_enc_cr_str_copy_for_substr(str2, str);

    return str2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>(other_string)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new String containing <code>other_string</code> concatenated to <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello from </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='kw'>self</span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="String#to_s (method)">to_s</a></span> <span class='comment'># =&gt; &quot;Hello from main&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2043-L2071'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2043' data-end='2071'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2043</span></pre>
<pre class='code cpp'>

VALUE
rb_str_plus(VALUE str1, VALUE str2)
{
    VALUE str3;
    rb_encoding *enc;
    char *ptr1, *ptr2, *ptr3;
    long len1, len2;
    int termlen;

    StringValue(str2);
    enc = rb_enc_check_str(str1, str2);
    RSTRING_GETMEM(str1, ptr1, len1);
    RSTRING_GETMEM(str2, ptr2, len2);
    termlen = rb_enc_mbminlen(enc);
    if (len1 &gt; LONG_MAX - len2) {
	rb_raise(rb_eArgError, &quot;string size too big&quot;);
    }
    str3 = str_new0(rb_cString, 0, len1+len2, termlen);
    ptr3 = RSTRING_PTR(str3);
    memcpy(ptr3, ptr1, len1);
    memcpy(ptr3+len1, ptr2, len2);
    TERM_FILL(&amp;ptr3[len1+len2], termlen);

    ENCODING_CODERANGE_SET(str3, rb_enc_to_index(enc),
			   ENC_CODERANGE_AND(ENC_CODERANGE(str1), ENC_CODERANGE(str2)));
    RB_GC_GUARD(str1);
    RB_GC_GUARD(str2);
    return str3;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="+@-instance_method">
  <h3 class='signature '>
    #<strong>+</strong>  &#x21d2; <code>String</code>, <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code> if <code>self</code> is not frozen.</p>

<p>Otherwise. returns <code>self.dup</code>, which is not frozen.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2782-L2791'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2782' data-end='2791'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2782</span></pre>
<pre class='code cpp'>

static VALUE
str_uplus(VALUE str)
{
    if (OBJ_FROZEN(str)) {
	return rb_str_dup(str);
    }
    else {
	return str;
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="-@-instance_method">
  <h3 class='signature '>
    #<strong>-</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a frozen, possibly pre-existing copy of the string.</p>

<p>The returned String will be deduplicated as long as it does not have any instance variables set on it.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2802-L2809'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2802' data-end='2809'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2802</span></pre>
<pre class='code cpp'>

static VALUE
str_uminus(VALUE str)
{
    if (!BARE_STRING_P(str) &amp;&amp; !rb_obj_frozen_p(str)) {
        str = rb_str_dup(str);
    }
    return rb_fstring(str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<<-instance_method">
  <h3 class='signature '>
    #<strong>&lt;&lt;</strong>(object)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Concatenates <code>object</code> to <code>self</code> and returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; &quot;foobar&quot;
</span><span class='id identifier rubyid_s'>s</span>          <span class='comment'># =&gt; &quot;foobar&quot;</span></code></pre>

<p>If <code>object</code> is an Integer, the value is considered a codepoint and converted to a character before concatenation:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='int'>33</span> <span class='comment'># =&gt; &quot;foo!&quot;</span></code></pre>

<p>Related: <a href="#concat-instance_method" title="String#concat (method)">#concat</a>, which takes multiple arguments.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3216-L3278'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3216' data-end='3278'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3216</span></pre>
<pre class='code cpp'>

VALUE
rb_str_concat(VALUE str1, VALUE str2)
{
    unsigned int code;
    rb_encoding *enc = STR_ENC_GET(str1);
    int encidx;

    if (RB_INTEGER_TYPE_P(str2)) {
	if (rb_num_to_uint(str2, &amp;code) == 0) {
	}
	else if (FIXNUM_P(str2)) {
	    rb_raise(rb_eRangeError, &quot;%ld out of char range&quot;, FIX2LONG(str2));
	}
	else {
	    rb_raise(rb_eRangeError, &quot;bignum out of char range&quot;);
	}
    }
    else {
	return rb_str_append(str1, str2);
    }

    encidx = rb_enc_to_index(enc);
    if (encidx == ENCINDEX_ASCII || encidx == ENCINDEX_US_ASCII) {
	/* US-ASCII automatically extended to ASCII-8BIT */
	char buf[1];
	buf[0] = (char)code;
	if (code &gt; 0xFF) {
	    rb_raise(rb_eRangeError, &quot;%u out of char range&quot;, code);
	}
	rb_str_cat(str1, buf, 1);
	if (encidx == ENCINDEX_US_ASCII &amp;&amp; code &gt; 127) {
	    rb_enc_associate_index(str1, ENCINDEX_ASCII);
	    ENC_CODERANGE_SET(str1, ENC_CODERANGE_VALID);
	}
    }
    else {
	long pos = RSTRING_LEN(str1);
	int cr = ENC_CODERANGE(str1);
	int len;
	char *buf;

	switch (len = rb_enc_codelen(code, enc)) {
	  case ONIGERR_INVALID_CODE_POINT_VALUE:
	    rb_raise(rb_eRangeError, &quot;invalid codepoint 0x%X in %s&quot;, code, rb_enc_name(enc));
	    break;
	  case ONIGERR_TOO_BIG_WIDE_CHAR_VALUE:
	  case 0:
	    rb_raise(rb_eRangeError, &quot;%u out of char range&quot;, code);
	    break;
	}
	buf = ALLOCA_N(char, len + 1);
	rb_enc_mbcput(code, buf, enc);
	if (rb_enc_precise_mbclen(buf, buf + len + 1, enc) != len) {
	    rb_raise(rb_eRangeError, &quot;invalid codepoint 0x%X in %s&quot;, code, rb_enc_name(enc));
	}
	rb_str_resize(str1, pos+len);
	memcpy(RSTRING_PTR(str1) + pos, buf, len);
	if (cr == ENC_CODERANGE_7BIT &amp;&amp; code &gt; 127)
	    cr = ENC_CODERANGE_VALID;
	ENC_CODERANGE_SET(str1, cr);
    }
    return str1;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="<=>-instance_method">
  <h3 class='signature '>
    #<strong>&lt;=&gt;</strong>(other_string)  &#x21d2; <code>1</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compares <code>self</code> and <code>other_string</code>, returning:</p>
<ul><li>
<p>-1 if <code>other_string</code> is larger.</p>
</li><li>
<p>0 if the two are equal.</p>
</li><li>
<p>1 if <code>other_string</code> is smaller.</p>
</li><li>
<p><code>nil</code> if the two are incomparable.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; -1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; -1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;=&gt;</span> <span class='int'>1</span> <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3477-L3487'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3477' data-end='3487'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3477</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_cmp_m(VALUE str1, VALUE str2)
{
    int result;
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
	return rb_invcmp(str1, str2);
    }
    result = rb_str_cmp(str1, s);
    return INT2FIX(result);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>==</strong>(object)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>===</strong>(object)  &#x21d2; <code>Boolean</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#===</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>object</code> has the same length and content; as <code>self</code>; <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; false</span></code></pre>

<p>Returns <code>false</code> if the two strings’ encodings are not compatible:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{e4 f6 fc}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encode'><a href="#encode-instance_method" title="String#encode (method)">encode</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>==</span> (<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{c4 d6 dc}</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; false</span></code></pre>

<p>If <code>object</code> is not an instance of String but responds to <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>, then the two strings are compared using <code>object.==</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3422-L3433'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3422' data-end='3433'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3422</span></pre>
<pre class='code cpp'>

VALUE
rb_str_equal(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) {
	if (!rb_respond_to(str2, idTo_str)) {
	    return Qfalse;
	}
	return rb_equal(str2, str1);
    }
    return rb_str_eql_internal(str1, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="===-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>==</strong>(object)  &#x21d2; <code>Boolean</code> </span>
      <span class='overload'>#<strong>===</strong>(object)  &#x21d2; <code>Boolean</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#==-instance_method" title="String#== (method)">#==</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="=~-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>=~</strong>(regexp)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>=~</strong>(object)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the Integer index of the first substring that matches the given <code>regexp</code>, or <code>nil</code> if no match found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span> <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span> <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span> <span class='comment'># =&gt; nil</span></code></pre>

<p>Note: also updates [Regexp-related global variables](Regexp.html#class-Regexp-label-Special+global+variables).</p>

<p>If the given <code>object</code> is not a Regexp, returns the value returned by <code>object =~ self</code>.</p>

<p>Note that <code>string =~ regexp</code> is different from <code>regexp =~ string</code> (see <a href="https://ruby-doc.org/core-2.7.1/Regexp.html#method-i-3D-7E" target="_parent" title="{Regexp#=~">{Regexp#=~</a>}):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_number'>number</span><span class='op'>=</span> <span class='kw'>nil</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no. 9</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;number&gt;\d+)</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_number'>number</span> <span class='comment'># =&gt; nil (not assigned)
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;number&gt;\d+)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no. 9</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_number'>number</span> <span class='comment'>#=&gt; &quot;9&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3978-L3991'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3978' data-end='3991'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3978</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match(VALUE x, VALUE y)
{
    switch (OBJ_BUILTIN_TYPE(y)) {
      case T_STRING:
	rb_raise(rb_eTypeError, &quot;type mismatch: String given&quot;);

      case T_REGEXP:
	return rb_reg_match(y, x);

      default:
	return rb_funcall(y, idEqTilde, 1, x);
    }
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(substring)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#slice</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the substring of <code>self</code> specified by the arguments.</p>

<p>When the single Integer argument <a href="#index-instance_method" title="String#index (method)">#index</a> is given, returns the 1-character substring found in <code>self</code> at offset <a href="#index-instance_method" title="String#index (method)">#index</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>2</span>] <span class='comment'># =&gt; &quot;r&quot;</span></code></pre>

<p>Counts backward from the end of <code>self</code> if <a href="#index-instance_method" title="String#index (method)">#index</a> is negative:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>3</span>] <span class='comment'># =&gt; &quot;f&quot;</span></code></pre>

<p>Returns <code>nil</code> if <a href="#index-instance_method" title="String#index (method)">#index</a> is out of range:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>3</span>] <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>4</span>] <span class='comment'># =&gt; nil</span></code></pre>

<p>When the two Integer arguments  <code>start</code> and <a href="#length-instance_method" title="String#length (method)">#length</a> are given, returns the substring of the given <a href="#length-instance_method" title="String#length (method)">#length</a> found in <code>self</code> at offset <code>start</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span>] <span class='comment'># =&gt; &quot;fo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>] <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

<p>Counts backward from the end of <code>self</code> if <code>start</code> is negative:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span>] <span class='comment'># =&gt; &quot;oo&quot;</span></code></pre>

<p>Special case: returns a new empty String if <code>start</code> is equal to the length of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span>] <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

<p>Returns <code>nil</code> if <code>start</code> is out of range:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span>] <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='op'>-</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span>] <span class='comment'># =&gt; nil</span></code></pre>

<p>Returns the trailing substring of <code>self</code> if <a href="#length-instance_method" title="String#length (method)">#length</a> is large:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>50</span>] <span class='comment'># =&gt; &quot;oo&quot;</span></code></pre>

<p>Returns <code>nil</code> if <a href="#length-instance_method" title="String#length (method)">#length</a> is negative:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='int'>0</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>] <span class='comment'># =&gt; nil</span></code></pre>

<p>When the single Range argument <code>range</code> is given, derives <code>start</code> and <a href="#length-instance_method" title="String#length (method)">#length</a> values from the given <code>range</code>, and returns values as above:</p>
<ul><li>
<p><code>&#39;foo&#39;[0..1]</code> is equivalent to <code>&#39;foo&#39;[0, 2]</code>.</p>
</li><li>
<p><code>&#39;foo&#39;[0...1]</code> is equivalent to <code>&#39;foo&#39;[0, 1]</code>.</p>
</li></ul>

<p>When the Regexp argument <code>regexp</code> is given, and the <code>capture</code> argument is <code>0</code>, returns the first matching substring found in <code>self</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>] <span class='comment'># =&gt; &quot;o&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span>] <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello there</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span>] <span class='comment'># =&gt; &quot;ell&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>0</span>] <span class='comment'># =&gt; &quot;ell&quot;</span></code></pre>

<p>If argument <code>capture</code> is given and not <code>0</code>, it should be either an Integer capture group index or a String or Symbol capture group name; the method call returns only the specified capture (see [Regexp Capturing](Regexp.html#class-Regexp-label-Capturing)):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello there</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou](.)\1</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span>] <span class='comment'># =&gt; &quot;l&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>non_vowel</span><span class='tstring_end'>&quot;</span></span>] <span class='comment'># =&gt; &quot;l&quot;
</span><span class='id identifier rubyid_s'>s</span>[<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;vowel&gt;[aeiou])(?&lt;non_vowel&gt;[^aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_vowel'>vowel</span>] <span class='comment'># =&gt; &quot;e&quot;</span></code></pre>

<p>If an invalid capture group index is given, <code>nil</code> is returned.  If an invalid capture group name is given, <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> is raised.</p>

<p>When the single String argument <code>substring</code> is given, returns the substring from <code>self</code> if found, otherwise <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oo</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; &quot;oo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xx</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; nil</span></code></pre>

<p><a href="#slice-instance_method" title="String#slice (method)">#slice</a> is an alias for <code>[]</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L4777-L4792'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4777' data-end='4792'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4777</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_aref_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
	if (RB_TYPE_P(argv[0], T_REGEXP)) {
	    return rb_str_subpat(str, argv[0], argv[1]);
	}
	else {
	    long beg = NUM2LONG(argv[0]);
	    long len = NUM2LONG(argv[1]);
	    return rb_str_substr(str, beg, len);
	}
    }
    rb_check_arity(argc, 1, 2);
    return rb_str_aref(str, argv[0]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]=</strong>(integer, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(integer, integer, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(range, aString)  </span>
      <span class='overload'>#<strong>[]=</strong>(regexp, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(regexp, integer, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(regexp, name, new_str)  </span>
      <span class='overload'>#<strong>[]=</strong>(other_str, new_str)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Element Assignment—Replaces some or all of the content of <em>str</em>. The portion of the string affected is determined using the same criteria as <a href="#[]-instance_method" title="String#[] (method)">#[]</a>. If the replacement string is not the same length as the text it is replacing, the string will be adjusted accordingly. If the regular expression or string is used as the index doesn’t match a position in the string, <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> is raised. If the regular expression form is used, the optional second <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> allows you to specify which portion of the match to replace (effectively using the <a href="MatchData.html" title="MatchData (class)"><code>::MatchData</code></a> indexing rules. The forms that take an <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> will raise an <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> if the value is out of range; the <a href="Range.html" title="Range (class)"><code>::Range</code></a> form will raise a <a href="RangeError.html" title="RangeError (class)"><code>::RangeError</code></a>, and the <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> and <code>String</code> will raise an <a href="IndexError.html" title="IndexError (class)"><code>::IndexError</code></a> on negative match.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5002-L5016'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5002' data-end='5016'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5002</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_aset_m(int argc, VALUE *argv, VALUE str)
{
    if (argc == 3) {
	if (RB_TYPE_P(argv[0], T_REGEXP)) {
	    rb_str_subpat_set(str, argv[0], argv[1], argv[2]);
	}
	else {
	    rb_str_splice(str, NUM2LONG(argv[0]), NUM2LONG(argv[1]), argv[2]);
	}
	return argv[2];
    }
    rb_check_arity(argc, 2, 3);
    return rb_str_aset(str, argv[0], argv[1]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="b-instance_method">
  <h3 class='signature '>
    #<strong>b</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copied string whose encoding is ASCII-8BIT.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10456-L10463'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10456' data-end='10463'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10456</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_b(VALUE str)
{
    VALUE str2 = str_alloc(rb_cString);
    str_replace_shared_without_enc(str2, str);
    ENC_CODERANGE_CLEAR(str2);
    return str2;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bytes-instance_method">
  <h3 class='signature '>
    #<strong>bytes</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of bytes in <em>str</em>.  This is a shorthand for <code>str.each_byte.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as <a href="#each_byte-instance_method" title="String#each_byte (method)">#each_byte</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8734-L8739'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8734' data-end='8739'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8734</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_bytes(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;bytes&quot;, RSTRING_LEN(str));
    return rb_str_enumerate_bytes(str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bytesize-instance_method">
  <h3 class='signature '>
    #<strong>bytesize</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the count  of bytes in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80\u3042</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_bytesize'>bytesize</span> <span class='comment'># =&gt; 4
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_bytesize'>bytesize</span> <span class='comment'># =&gt; 5</span></code></pre>

<p>Related: <a href="#length-instance_method" title="String#length (method)">#length</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2011-L2015'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2011' data-end='2015'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2011</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_bytesize(VALUE str)
{
    return LONG2NUM(RSTRING_LEN(str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="byteslice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>byteslice</strong>(integer)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>byteslice</strong>(integer, integer)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>byteslice</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Byte Reference—If passed a single <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a>, returns a substring of one byte at that position. If passed two <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> objects, returns a substring starting at the offset given by the first, and a length given by the second. If given a <a href="Range.html" title="Range (class)"><code>::Range</code></a>, a substring containing bytes at offsets given by the range is returned. In all three cases, if an offset is negative, it is counted from the end of <em>str</em>. Returns <code>nil</code> if the initial offset falls outside the string, the length is negative, or the beginning of the range is greater than the end. The encoding of the resulted string keeps original encoding.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>1</span>)     <span class='comment'>#=&gt; &quot;e&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='op'>-</span><span class='int'>1</span>)    <span class='comment'>#=&gt; &quot;o&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>)  <span class='comment'>#=&gt; &quot;el&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80\u3042</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'>#=&gt; &quot;\u3042&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x03\u3042\xff</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_byteslice'>byteslice</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>3</span>) <span class='comment'>#=&gt; &quot;\u3042&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5865-L5875'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5865' data-end='5875'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5865</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_byteslice(int argc, VALUE *argv, VALUE str)
{
    if (argc == 2) {
	long beg = NUM2LONG(argv[0]);
	long end = NUM2LONG(argv[1]);
	return str_byte_substr(str, beg, end, TRUE);
    }
    rb_check_arity(argc, 1, 2);
    return str_byte_aref(str, argv[0]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capitalize-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>capitalize</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>capitalize</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with the first character converted to uppercase and the remainder to lowercase.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_capitalize'>capitalize</span>    <span class='comment'>#=&gt; &quot;Hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HELLO</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_capitalize'>capitalize</span>    <span class='comment'>#=&gt; &quot;Hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123ABC</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_capitalize'>capitalize</span>   <span class='comment'>#=&gt; &quot;123abc&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7169-L7187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7169' data-end='7187'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7169</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_capitalize(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_TITLECASE;
    VALUE ret;

    flags = check_case_options(argc, argv, flags);
    enc = str_true_enc(str);
    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return str;
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY) {
        ret = rb_str_new(0, RSTRING_LEN(str));
        rb_str_ascii_casemap(str, ret, &amp;flags, enc);
    }
    else {
        ret = rb_str_casemap(str, &amp;flags, enc);
    }
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capitalize!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>capitalize!</strong>  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>capitalize!</strong>([options])  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Modifies <em>str</em> by converting the first character to uppercase and the remainder to lowercase. Returns <code>nil</code> if no changes are made. There is an exception for modern Georgian (mkhedruli/MTAVRULI), where the result is the same as for <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a>, to avoid mixed case.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_capitalize!'>capitalize!</span>   <span class='comment'>#=&gt; &quot;Hello&quot;
</span><span class='id identifier rubyid_a'>a</span>               <span class='comment'>#=&gt; &quot;Hello&quot;
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_capitalize!'>capitalize!</span>   <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7134-L7151'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7134' data-end='7151'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7134</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_capitalize_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_TITLECASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = str_true_enc(str);
    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return Qnil;
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, str, &amp;flags, enc);
    else
	str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="casecmp-instance_method">
  <h3 class='signature '>
    #<strong>casecmp</strong>(other_str)  &#x21d2; <code>1</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compares <code>self</code> and <code>other_string</code>, ignoring case, and returning:</p>
<ul><li>
<p>-1 if <code>other_string</code> is larger.</p>
</li><li>
<p>0 if the two are equal.</p>
</li><li>
<p>1 if <code>other_string</code> is smaller.</p>
</li><li>
<p><code>nil</code> if the two are incomparable.</p>
</li></ul>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; -1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp'>casecmp</span>(<span class='int'>1</span>) <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3511-L3519'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3511' data-end='3519'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3511</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_casecmp(VALUE str1, VALUE str2)
{
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
	return Qnil;
    }
    return str_casecmp(str1, s);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="casecmp?-instance_method">
  <h3 class='signature '>
    #<strong>casecmp?</strong>(other_string)  &#x21d2; <code>true</code>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>self</code> and <code>other_string</code> are equal after Unicode case folding, otherwise <code>false</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true</span></code></pre>

<p>Returns <code>nil</code> if the two values are incomparable:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_casecmp?'>casecmp?</span>(<span class='int'>1</span>) <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3594-L3602'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3594' data-end='3602'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3594</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_casecmp_p(VALUE str1, VALUE str2)
{
    VALUE s = rb_check_string_type(str2);
    if (NIL_P(s)) {
	return Qnil;
    }
    return str_casecmp_p(str1, s);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="center-instance_method">
  <h3 class='signature '>
    #<strong>center</strong>(width, padstr = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Centers <code>str</code> in <code>width</code>.  If <code>width</code> is greater than the length of <code>str</code>, returns a new <code>String</code> of length <code>width</code> with <code>str</code> centered and padded with <code>padstr</code>; otherwise, returns <code>str</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>4</span>)         <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>20</span>)        <span class='comment'>#=&gt; &quot;       hello        &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>20</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>123</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'>#=&gt; &quot;1231231hello12312312&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10062-L10066'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10062' data-end='10066'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10062</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_center(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;c&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chars-instance_method">
  <h3 class='signature '>
    #<strong>chars</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of characters in <em>str</em>.  This is a shorthand for <code>str.each_char.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as <a href="#each_char-instance_method" title="String#each_char (method)">#each_char</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8812-L8817'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8812' data-end='8817'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8812</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chars(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;chars&quot;, rb_str_strlen(str));
    return rb_str_enumerate_chars(str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chomp-instance_method">
  <h3 class='signature '>
    #<strong>chomp</strong>(separator = $/)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new <code>String</code> with the given record separator removed from the end of <em>str</em> (if present). If <code>$/</code> has not been changed from the default Ruby record separator, then <code>chomp</code> also removes carriage return characters (that is it will remove <code>\n</code>, <code>\r</code>, and <code>\r\n</code>). If <code>$/</code> is an empty string, it will remove all trailing newlines from the string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>                <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>              <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>            <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n\r</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>            <span class='comment'>#=&gt; &quot;hello\n&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>              <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello \n there</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>       <span class='comment'>#=&gt; &quot;hello \n there&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>llo</span><span class='tstring_end'>&quot;</span></span>)         <span class='comment'>#=&gt; &quot;he&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\n\r\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'>#=&gt; &quot;hello\r\n\r&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9293-L9299'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9293' data-end='9299'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9293</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chomp(int argc, VALUE *argv, VALUE str)
{
    VALUE rs = chomp_rs(argc, argv);
    if (NIL_P(rs)) return str_duplicate(rb_cString, str);
    return rb_str_subseq(str, 0, chompped_length(str, rs));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chomp!-instance_method">
  <h3 class='signature '>
    #<strong>chomp!</strong>(separator = $/)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Modifies <em>str</em> in place as described for <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a>, returning <em>str</em>, or <code>nil</code> if no modifications were made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9259-L9268'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9259' data-end='9268'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9259</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chomp_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE rs;
    str_modifiable(str);
    if (RSTRING_LEN(str) == 0) return Qnil;
    rs = chomp_rs(argc, argv);
    if (NIL_P(rs)) return Qnil;
    return rb_str_chomp_string(str, rs);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chop-instance_method">
  <h3 class='signature '>
    #<strong>chop</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new <code>String</code> with the last character removed.  If the string ends with <code>\r\n</code>, both characters are removed. Applying <code>chop</code> to an empty string returns an empty string. <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a> is often a safer alternative, as it leaves the string unchanged if it doesn’t end in a record separator.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chop'>chop</span>   <span class='comment'>#=&gt; &quot;string&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string\n\r</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chop'>chop</span>   <span class='comment'>#=&gt; &quot;string\n&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chop'>chop</span>     <span class='comment'>#=&gt; &quot;string&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chop'>chop</span>       <span class='comment'>#=&gt; &quot;strin&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_chop'>chop</span>.<span class='id identifier rubyid_chop'>chop</span>       <span class='comment'>#=&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9106-L9110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9106' data-end='9110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9106</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chop(VALUE str)
{
    return rb_str_subseq(str, 0, chopped_length(str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chop!-instance_method">
  <h3 class='signature '>
    #<strong>chop!</strong>  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Processes <em>str</em> as for <a href="#chop-instance_method" title="String#chop (method)">#chop</a>, returning <em>str</em>, or <code>nil</code> if <em>str</em> is the empty string.  See also <a href="#chomp!-instance_method" title="String#chomp! (method)">#chomp!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9070-L9085'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9070' data-end='9085'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9070</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chop_bang(VALUE str)
{
    str_modify_keep_cr(str);
    if (RSTRING_LEN(str) &gt; 0) {
	long len;
	len = chopped_length(str);
	STR_SET_LEN(str, len);
	TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
	if (ENC_CODERANGE(str) != ENC_CODERANGE_7BIT) {
	    ENC_CODERANGE_CLEAR(str);
	}
	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="chr-instance_method">
  <h3 class='signature '>
    #<strong>chr</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a one-character string at the beginning of the string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_chr'>chr</span>    <span class='comment'>#=&gt; &quot;a&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5676-L5680'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5676' data-end='5680'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5676</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_chr(VALUE str)
{
    return rb_str_substr(str, 0, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Makes string empty.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcde</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_clear'>clear</span>    <span class='comment'>#=&gt; &quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5652-L5664'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5652' data-end='5664'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5652</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_clear(VALUE str)
{
    str_discard(str);
    STR_SET_EMBED(str);
    STR_SET_EMBED_LEN(str, 0);
    RSTRING_PTR(str)[0] = 0;
    if (rb_enc_asciicompat(STR_ENC_GET(str)))
	ENC_CODERANGE_SET(str, ENC_CODERANGE_7BIT);
    else
	ENC_CODERANGE_SET(str, ENC_CODERANGE_VALID);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="codepoints-instance_method">
  <h3 class='signature '>
    #<strong>codepoints</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> ordinals of the characters in <em>str</em>.  This is a shorthand for <code>str.each_codepoint.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as <a href="#each_codepoint-instance_method" title="String#each_codepoint (method)">#each_codepoint</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8887-L8892'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8887' data-end='8892'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8887</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_codepoints(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;codepoints&quot;, rb_str_strlen(str));
    return rb_str_enumerate_codepoints(str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="concat-instance_method">
  <h3 class='signature '>
    #<strong>concat</strong>(*objects)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Concatenates each object in <code>objects</code> to <code>self</code> and returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;foobarbaz&quot;
</span><span class='id identifier rubyid_s'>s</span>                      <span class='comment'># =&gt; &quot;foobarbaz&quot;</span></code></pre>

<p>For each given object <code>object</code> that is an Integer, the value is considered a codepoint and converted to a character before concatenation:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='int'>32</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>32</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;foo bar baz&quot;</span></code></pre>

<p>Related: <a href="#<<-instance_method" title="String#&lt;&lt; (method)">#&lt;&lt;</a>, which takes a single argument.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3178-L3197'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3178' data-end='3197'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3178</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_concat_multi(int argc, VALUE *argv, VALUE str)
{
    str_modifiable(str);

    if (argc == 1) {
	return rb_str_concat(str, argv[0]);
    }
    else if (argc &gt; 1) {
	int i;
	VALUE arg_str = rb_str_tmp_new(0);
	rb_enc_copy(arg_str, str);
	for (i = 0; i &lt; argc; i++) {
	    rb_str_concat(arg_str, argv[i]);
	}
	rb_str_buf_append(str, arg_str);
    }

    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="count-instance_method">
  <h3 class='signature '>
    #<strong>count</strong>([other_str]+)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Each <code>other_str</code> parameter defines a set of characters to count.  The intersection of these sets defines the characters to count in <code>str</code>.  Any <code>other_str</code> that starts with a caret <code>^</code> is negated.  The sequence <code>c1-c2</code> means all characters between c1 and c2.  The backslash character <code>\</code> can be used to escape <code>^</code> or <code>-</code> and is otherwise ignored unless it appears at the end of a sequence or the end of a <code>other_str</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello world</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>                   <span class='comment'>#=&gt; 5
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>o</span><span class='tstring_end'>&quot;</span></span>              <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>^l</span><span class='tstring_end'>&quot;</span></span>          <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ej-m</span><span class='tstring_end'>&quot;</span></span>                 <span class='comment'>#=&gt; 4
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello^world</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\^aeiou</span><span class='tstring_end'>&quot;</span></span> <span class='comment'>#=&gt; 4
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello-world</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\\-eo</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; 4
</span>
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello world\\r\\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span>                   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\A</span><span class='tstring_end'>&quot;</span></span>                  <span class='comment'>#=&gt; 0
</span><span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_count'>count</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-\\w</span><span class='tstring_end'>&quot;</span></span>                <span class='comment'>#=&gt; 3</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7978-L8046'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7978' data-end='8046'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7978</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_count(int argc, VALUE *argv, VALUE str)
{
    char table[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    VALUE del = 0, nodel = 0, tstr;
    char *s, *send;
    int i;
    int ascompat;

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);

    tstr = argv[0];
    StringValue(tstr);
    enc = rb_enc_check(str, tstr);
    if (argc == 1) {
	const char *ptstr;
	if (RSTRING_LEN(tstr) == 1 &amp;&amp; rb_enc_asciicompat(enc) &amp;&amp;
	    (ptstr = RSTRING_PTR(tstr),
	     ONIGENC_IS_ALLOWED_REVERSE_MATCH(enc, (const unsigned char *)ptstr, (const unsigned char *)ptstr+1)) &amp;&amp;
	    !is_broken_string(str)) {
	    int n = 0;
	    int clen;
	    unsigned char c = rb_enc_codepoint_len(ptstr, ptstr+1, &amp;clen, enc);

	    s = RSTRING_PTR(str);
	    if (!s || RSTRING_LEN(str) == 0) return INT2FIX(0);
	    send = RSTRING_END(str);
	    while (s &lt; send) {
		if (*(unsigned char*)s++ == c) n++;
	    }
	    return INT2NUM(n);
	}
    }

    tr_setup_table(tstr, table, TRUE, &amp;del, &amp;nodel, enc);
    for (i=1; i&lt;argc; i++) {
	tstr = argv[i];
	StringValue(tstr);
	enc = rb_enc_check(str, tstr);
	tr_setup_table(tstr, table, FALSE, &amp;del, &amp;nodel, enc);
    }

    s = RSTRING_PTR(str);
    if (!s || RSTRING_LEN(str) == 0) return INT2FIX(0);
    send = RSTRING_END(str);
    ascompat = rb_enc_asciicompat(enc);
    i = 0;
    while (s &lt; send) {
	unsigned int c;

	if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
	    if (table[c]) {
		i++;
	    }
	    s++;
	}
	else {
	    int clen;
	    c = rb_enc_codepoint_len(s, send, &amp;clen, enc);
	    if (tr_find(c, table, del, nodel)) {
		i++;
	    }
	    s += clen;
	}
    }

    return INT2NUM(i);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="crypt-instance_method">
  <h3 class='signature '>
    #<strong>crypt</strong>(salt_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the string generated by calling <code>crypt(3)</code> standard library function with <code>str</code> and <code>salt_str</code>, in this order, as its arguments.  Please do not use this method any longer.  It is legacy; provided only for backward compatibility with ruby scripts in earlier days.  It is bad to use in contemporary programs for several reasons:</p>
<ul><li>
<p>Behaviour of C’s <code>crypt(3)</code> depends on the OS it is run.  The generated string lacks data portability.</p>
</li><li>
<p>On some OSes such as Mac OS, <code>crypt(3)</code> never fails (i.e. silently ends up in unexpected results).</p>
</li><li>
<p>On some OSes such as Mac OS, <code>crypt(3)</code> is not thread safe.</p>
</li><li>
<p>So-called “traditional” usage of <code>crypt(3)</code> is very very very weak.  According to its manpage, Linux’s traditional <code>crypt(3)</code> output has only 2**56 variations; too easy to brute force today.  And this is the default behaviour.</p>
</li><li>
<p>In order to make things robust some OSes implement so-called “modular” usage. To go through, you have to do a complex build-up of the <code>salt_str</code> parameter, by hand. Failure in generation of a proper salt string tends not to yield any errors; typos in parameters are normally not detectable.</p>
<ul><li>
<p>For instance, in the following example, the second invocation of String#crypt is wrong; it has a typo in “round=” (lacks “s”).  However the call does not fail and something unexpected is generated.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_crypt'>crypt</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$5$rounds=1000$salt$</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># OK, proper usage
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_crypt'>crypt</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$5$round=1000$salt$</span><span class='tstring_end'>&quot;</span></span>)  <span class='comment'># Typo not detected</span></code></pre>
</li></ul>
</li><li>
<p>Even in the “modular” mode, some hash functions are considered archaic and no longer recommended at all; for instance module <code>$1$</code> is officially abandoned by its author: see</p>
</li></ul>

<p><a href="http://phk.freebsd.dk/sagas/md5crypt_eol.html">phk.freebsd.dk/sagas/md5crypt_eol.html</a> .  For another</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_instance'>instance</span> <span class='kw'>module</span> <span class='op'>&lt;</span><span class='id identifier rubyid_code'>code</span><span class='op'>&gt;</span><span class='backref'>$3</span><span class='gvar'>$&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>code&gt; is considered completely
broken: see the manpage of FreeBSD.</span></code></pre>
<ul><li>
<p>On some OS such as Mac OS, there is no modular mode. Yet, as written above, <code>crypt(3)</code> on Mac OS never fails. This means even if you build up a proper salt string it generates a traditional DES hash anyways, and there is no way for you to be aware of.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_crypt'>crypt</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$5$rounds=1000$salt$</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; &quot;$5fNPQMxC5j6.&quot;</span></code></pre>
</li></ul>

<p>If for some reason you cannot migrate to other secure contemporary password hashing algorithms, install the string-crypt gem and <code>require &#39;string/crypt&#39;</code> to continue using it.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9775-L9832'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9775' data-end='9832'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9775</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_crypt(VALUE str, VALUE salt)
{
#ifdef HAVE_CRYPT_R
    VALUE databuf;
    struct crypt_data *data;
#   define CRYPT_END() ALLOCV_END(databuf)
#else
    extern char *crypt(const char *, const char *);
#   define CRYPT_END() (void)0
#endif
    VALUE result;
    const char *s, *saltp;
    char *res;
#ifdef BROKEN_CRYPT
    char salt_8bit_clean[3];
#endif

    StringValue(salt);
    mustnot_wchar(str);
    mustnot_wchar(salt);
    if (RSTRING_LEN(salt) &lt; 2) {
        goto short_salt;
    }

    s = StringValueCStr(str);
    saltp = RSTRING_PTR(salt);
    if (!saltp[0] || !saltp[1]) goto short_salt;
#ifdef BROKEN_CRYPT
    if (!ISASCII((unsigned char)saltp[0]) || !ISASCII((unsigned char)saltp[1])) {
	salt_8bit_clean[0] = saltp[0] &amp; 0x7f;
	salt_8bit_clean[1] = saltp[1] &amp; 0x7f;
	salt_8bit_clean[2] = &#39;\0&#39;;
	saltp = salt_8bit_clean;
    }
#endif
#ifdef HAVE_CRYPT_R
    data = ALLOCV(databuf, sizeof(struct crypt_data));
# ifdef HAVE_STRUCT_CRYPT_DATA_INITIALIZED
    data-&gt;initialized = 0;
# endif
    res = crypt_r(s, saltp, data);
#else
    res = crypt(s, saltp);
#endif
    if (!res) {
	int err = errno;
	CRYPT_END();
	rb_syserr_fail(err, &quot;crypt&quot;);
    }
    result = rb_str_new_cstr(res);
    CRYPT_END();
    return result;

  short_salt:
    rb_raise(rb_eArgError, &quot;salt too short (need &gt;=2 bytes)&quot;);
    UNREACHABLE_RETURN(Qundef);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    #<strong>delete</strong>([other_str]+)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with all characters in the intersection of its arguments deleted. Uses the same rules for building the set of characters as <a href="#count-instance_method" title="String#count (method)">#count</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>l</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>        <span class='comment'>#=&gt; &quot;heo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>            <span class='comment'>#=&gt; &quot;he&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>^e</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; &quot;hell&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ej-m</span><span class='tstring_end'>&quot;</span></span>          <span class='comment'>#=&gt; &quot;ho&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7797-L7803'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7797' data-end='7803'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7797</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete(int argc, VALUE *argv, VALUE str)
{
    str = str_duplicate(rb_cString, str);
    rb_str_delete_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete!-instance_method">
  <h3 class='signature '>
    #<strong>delete!</strong>([other_str]+)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs a <a href="#delete-instance_method" title="String#delete (method)">#delete</a> operation in place, returning <em>str</em>, or <code>nil</code> if <em>str</em> was not modified.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7721-L7780'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7721' data-end='7780'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7721</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_bang(int argc, VALUE *argv, VALUE str)
{
    char squeez[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    char *s, *send, *t;
    VALUE del = 0, nodel = 0;
    int modify = 0;
    int i, ascompat, cr;

    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return Qnil;
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    for (i=0; i&lt;argc; i++) {
	VALUE s = argv[i];

	StringValue(s);
	enc = rb_enc_check(str, s);
	tr_setup_table(s, squeez, i==0, &amp;del, &amp;nodel, enc);
    }

    str_modify_keep_cr(str);
    ascompat = rb_enc_asciicompat(enc);
    s = t = RSTRING_PTR(str);
    send = RSTRING_END(str);
    cr = ascompat ? ENC_CODERANGE_7BIT : ENC_CODERANGE_VALID;
    while (s &lt; send) {
	unsigned int c;
	int clen;

	if (ascompat &amp;&amp; (c = *(unsigned char*)s) &lt; 0x80) {
	    if (squeez[c]) {
		modify = 1;
	    }
	    else {
		if (t != s) *t = c;
		t++;
	    }
	    s++;
	}
	else {
	    c = rb_enc_codepoint_len(s, send, &amp;clen, enc);

	    if (tr_find(c, squeez, del, nodel)) {
		modify = 1;
	    }
	    else {
		if (t != s) rb_enc_mbcput(c, t, enc);
		t += clen;
		if (cr == ENC_CODERANGE_7BIT) cr = ENC_CODERANGE_VALID;
	    }
	    s += clen;
	}
    }
    TERM_FILL(t, TERM_LEN(str));
    STR_SET_LEN(str, t - RSTRING_PTR(str));
    ENC_CODERANGE_SET(str, cr);

    if (modify) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_prefix-instance_method">
  <h3 class='signature '>
    #<strong>delete_prefix</strong>(prefix)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with leading <code>prefix</code> deleted.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete_prefix'>delete_prefix</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hel</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;lo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete_prefix'>delete_prefix</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>llo</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10311-L10320'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10311' data-end='10320'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10311</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_prefix(VALUE str, VALUE prefix)
{
    long prefixlen;

    prefixlen = deleted_prefix_length(str, prefix);
    if (prefixlen &lt;= 0) return str_duplicate(rb_cString, str);

    return rb_str_subseq(str, prefixlen, RSTRING_LEN(str) - prefixlen);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_prefix!-instance_method">
  <h3 class='signature '>
    #<strong>delete_prefix!</strong>(prefix)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes leading <code>prefix</code> from <em>str</em>, returning <code>nil</code> if no change was made.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete_prefix!'>delete_prefix!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hel</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;lo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete_prefix!'>delete_prefix!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>llo</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10289-L10299'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10289' data-end='10299'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10289</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_prefix_bang(VALUE str, VALUE prefix)
{
    long prefixlen;
    str_modify_keep_cr(str);

    prefixlen = deleted_prefix_length(str, prefix);
    if (prefixlen &lt;= 0) return Qnil;

    return rb_str_drop_bytes(str, prefixlen);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_suffix-instance_method">
  <h3 class='signature '>
    #<strong>delete_suffix</strong>(suffix)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with trailing <code>suffix</code> deleted.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete_suffix'>delete_suffix</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>llo</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;he&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete_suffix'>delete_suffix</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hel</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10397-L10406'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10397' data-end='10406'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10397</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_suffix(VALUE str, VALUE suffix)
{
    long suffixlen;

    suffixlen = deleted_suffix_length(str, suffix);
    if (suffixlen &lt;= 0) return str_duplicate(rb_cString, str);

    return rb_str_subseq(str, 0, RSTRING_LEN(str) - suffixlen);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_suffix!-instance_method">
  <h3 class='signature '>
    #<strong>delete_suffix!</strong>(suffix)  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes trailing <code>suffix</code> from <em>str</em>, returning <code>nil</code> if no change was made.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete_suffix!'>delete_suffix!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>llo</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;he&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_delete_suffix!'>delete_suffix!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hel</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10367-L10385'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10367' data-end='10385'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10367</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_delete_suffix_bang(VALUE str, VALUE suffix)
{
    long olen, suffixlen, len;
    str_modifiable(str);

    suffixlen = deleted_suffix_length(str, suffix);
    if (suffixlen &lt;= 0) return Qnil;

    olen = RSTRING_LEN(str);
    str_modify_keep_cr(str);
    len = olen - suffixlen;
    STR_SET_LEN(str, len);
    TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
    if (ENC_CODERANGE(str) != ENC_CODERANGE_7BIT) {
	ENC_CODERANGE_CLEAR(str);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="downcase-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>downcase</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>downcase</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with all uppercase letters replaced with their lowercase counterparts. Which letters exactly are replaced, and by which other letters, depends on the presence or absence of options, and on the <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> of the string.</p>

<p>The meaning of the <code>options</code> is as follows:</p>
<dl class="rdoc-list note-list"><dt>No option 
<dd>
<p>Full Unicode case mapping, suitable for most languages (see :turkic and :lithuanian options below for exceptions). Context-dependent case mapping as described in Table 3-14 of the Unicode standard is currently not supported.</p>
</dd><dt><code>:ascii</code> 
<dd>
<p>Only the ASCII region, i.e. the characters “A” to “Z” and “a” to “z”, are affected. This option cannot be combined with any other option.</p>
</dd><dt><code>:turkic</code> 
<dd>
<p>Full Unicode case mapping, adapted for Turkic languages (Turkish, Azerbaijani, …). This means that upper case I is mapped to lower case dotless i, and so on.</p>
</dd><dt><code>:lithuanian</code> 
<dd>
<p>Currently, just full Unicode case mapping. In the future, full Unicode case mapping adapted for Lithuanian (keeping the dot on the lower case i even if there is an accent on top).</p>
</dd><dt><code>:fold</code> 
<dd>
<p>Only available on <code>downcase</code> and <code>downcase!</code>. Unicode case <strong>folding</strong>, which is more far-reaching than Unicode case mapping. This option currently cannot be combined with any other option (i.e. there is currently no variant for turkic languages).</p>
</dd></dl>

<p>Please note that several assumptions that are valid for ASCII-only case conversions do not hold for more general case conversions. For example, the length of the result may not be the same as the length of the input (neither in characters nor in bytes), some roundtrip assumptions (e.g. str.downcase == str.upcase.downcase) may not apply, and Unicode normalization (i.e. <a href="#unicode_normalize-instance_method" title="String#unicode_normalize (method)">#unicode_normalize</a>) is not necessarily maintained by case mapping operations.</p>

<p>Non-ASCII case mapping/folding is currently supported for UTF-8, UTF-16BE/LE, UTF-32BE/LE, and ISO-8859-1~16 Strings/Symbols. This support will be extended to other encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hEllO</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_downcase'>downcase</span>   <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7090-L7113'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7090' data-end='7113'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7090</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_downcase(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_DOWNCASE;
    VALUE ret;

    flags = check_case_options(argc, argv, flags);
    enc = str_true_enc(str);
    if (case_option_single_p(flags, enc, str)) {
        ret = rb_str_new(RSTRING_PTR(str), RSTRING_LEN(str));
        str_enc_copy(ret, str);
        downcase_single(ret);
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY) {
        ret = rb_str_new(0, RSTRING_LEN(str));
        rb_str_ascii_casemap(str, ret, &amp;flags, enc);
    }
    else {
        ret = rb_str_casemap(str, &amp;flags, enc);
    }

    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="downcase!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>downcase!</strong>  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>downcase!</strong>([options])  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Downcases the contents of <em>str</em>, returning <code>nil</code> if no changes were made.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different encodings.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7017-L7037'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7017' data-end='7037'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7017</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_downcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_DOWNCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = str_true_enc(str);
    if (case_option_single_p(flags, enc, str)) {
        if (downcase_single(str))
            flags |= ONIGENC_CASE_MODIFIED;
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, str, &amp;flags, enc);
    else
	str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump-instance_method">
  <h3 class='signature '>
    #<strong>dump</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a quoted version of the string with all non-printing characters replaced by <code>\xHH</code> notation and all special characters escaped.</p>

<p>This method can be used for round-trip: if the resulting <code>new_str</code> is eval’ed, it will produce the original string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello \n &#39;&#39;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_dump'>dump</span>     <span class='comment'>#=&gt; &quot;\&quot;hello \\n &#39;&#39;\&quot;&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\f\x00\xff\\\&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_dump'>dump</span>  <span class='comment'>#=&gt; &quot;\&quot;\\f\\x00\\xFF\\\\\\\&quot;\&quot;&quot;</span></code></pre>

<p>See also <a href="#undump-instance_method" title="String#undump (method)">#undump</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L6310-L6455'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6310' data-end='6455'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6310</span></pre>
<pre class='code cpp'>

VALUE
rb_str_dump(VALUE str)
{
    int encidx = rb_enc_get_index(str);
    rb_encoding *enc = rb_enc_from_index(encidx);
    long len;
    const char *p, *pend;
    char *q, *qend;
    VALUE result;
    int u8 = (encidx == rb_utf8_encindex());
    static const char nonascii_suffix[] = &quot;.dup.force_encoding(\&quot;%s\&quot;)&quot;;

    len = 2;			/* &quot;&quot; */
    if (!rb_enc_asciicompat(enc)) {
	len += strlen(nonascii_suffix) - rb_strlen_lit(&quot;%s&quot;);
	len += strlen(enc-&gt;name);
    }

    p = RSTRING_PTR(str); pend = p + RSTRING_LEN(str);
    while (p &lt; pend) {
	int clen;
	unsigned char c = *p++;

	switch (c) {
	  case &#39;&quot;&#39;:  case &#39;\\&#39;:
	  case &#39;\n&#39;: case &#39;\r&#39;:
	  case &#39;\t&#39;: case &#39;\f&#39;:
	  case &#39;\013&#39;: case &#39;\010&#39;: case &#39;\007&#39;: case &#39;\033&#39;:
	    clen = 2;
	    break;

	  case &#39;#&#39;:
	    clen = IS_EVSTR(p, pend) ? 2 : 1;
	    break;

	  default:
	    if (ISPRINT(c)) {
		clen = 1;
	    }
	    else {
		if (u8 &amp;&amp; c &gt; 0x7F) {	/* \u notation */
		    int n = rb_enc_precise_mbclen(p-1, pend, enc);
		    if (MBCLEN_CHARFOUND_P(n)) {
			unsigned int cc = rb_enc_mbc_to_codepoint(p-1, pend, enc);
			if (cc &lt;= 0xFFFF)
			    clen = 6;  /* \uXXXX */
			else if (cc &lt;= 0xFFFFF)
			    clen = 9;  /* \u{XXXXX} */
			else
			    clen = 10; /* \u{XXXXXX} */
			p += MBCLEN_CHARFOUND_LEN(n)-1;
			break;
		    }
		}
		clen = 4;	/* \xNN */
	    }
	    break;
	}

	if (clen &gt; LONG_MAX - len) {
	    rb_raise(rb_eRuntimeError, &quot;string size too big&quot;);
	}
	len += clen;
    }

    result = rb_str_new(0, len);
    p = RSTRING_PTR(str); pend = p + RSTRING_LEN(str);
    q = RSTRING_PTR(result); qend = q + len + 1;

    *q++ = &#39;&quot;&#39;;
    while (p &lt; pend) {
	unsigned char c = *p++;

	if (c == &#39;&quot;&#39; || c == &#39;\\&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = c;
	}
	else if (c == &#39;#&#39;) {
	    if (IS_EVSTR(p, pend)) *q++ = &#39;\\&#39;;
	    *q++ = &#39;#&#39;;
	}
	else if (c == &#39;\n&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;n&#39;;
	}
	else if (c == &#39;\r&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;r&#39;;
	}
	else if (c == &#39;\t&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;t&#39;;
	}
	else if (c == &#39;\f&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;f&#39;;
	}
	else if (c == &#39;\013&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;v&#39;;
	}
	else if (c == &#39;\010&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;b&#39;;
	}
	else if (c == &#39;\007&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;a&#39;;
	}
	else if (c == &#39;\033&#39;) {
	    *q++ = &#39;\\&#39;;
	    *q++ = &#39;e&#39;;
	}
	else if (ISPRINT(c)) {
	    *q++ = c;
	}
	else {
	    *q++ = &#39;\\&#39;;
	    if (u8) {
		int n = rb_enc_precise_mbclen(p-1, pend, enc) - 1;
		if (MBCLEN_CHARFOUND_P(n)) {
		    int cc = rb_enc_mbc_to_codepoint(p-1, pend, enc);
		    p += n;
		    if (cc &lt;= 0xFFFF)
			snprintf(q, qend-q, &quot;u%04X&quot;, cc);    /* \uXXXX */
		    else
			snprintf(q, qend-q, &quot;u{%X}&quot;, cc);  /* \u{XXXXX} or \u{XXXXXX} */
		    q += strlen(q);
		    continue;
		}
	    }
	    snprintf(q, qend-q, &quot;x%02X&quot;, c);
	    q += 3;
	}
    }
    *q++ = &#39;&quot;&#39;;
    *q = &#39;\0&#39;;
    if (!rb_enc_asciicompat(enc)) {
	snprintf(q, qend-q, nonascii_suffix, enc-&gt;name);
	encidx = rb_ascii8bit_encindex();
    }
    /* result from dump is ASCII */
    rb_enc_associate_index(result, encidx);
    ENC_CODERANGE_SET(result, ENC_CODERANGE_7BIT);
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_byte-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_byte</strong> {|integer| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_byte</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes each byte in <em>str</em> to the given block, or returns an enumerator if no block is given.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_byte'>each_byte</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='int'>104</span> <span class='int'>101</span> <span class='int'>108</span> <span class='int'>108</span> <span class='int'>111</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8716-L8721'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8716' data-end='8721'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8716</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_byte(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_byte_size);
    return rb_str_enumerate_bytes(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_char-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_char</strong> {|cstr| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_char</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes each character in <em>str</em> to the given block, or returns an enumerator if no block is given.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_char'>each_char</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_h'>h</span> <span class='id identifier rubyid_e'>e</span> <span class='id identifier rubyid_l'>l</span> <span class='id identifier rubyid_l'>l</span> <span class='id identifier rubyid_o'>o</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8794-L8799'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8794' data-end='8799'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8794</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_char(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_char_size);
    return rb_str_enumerate_chars(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_codepoint-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_codepoint</strong> {|integer| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_codepoint</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> ordinal of each character in <em>str</em>, also known as a <em>codepoint</em> when applied to Unicode strings to the given block.  For encodings other than UTF-8/UTF-16(BE|LE)/UTF-32(BE|LE), values are directly derived from the binary representation of each character.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\u0639</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_codepoint'>each_codepoint</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='int'>104</span> <span class='int'>101</span> <span class='int'>108</span> <span class='int'>108</span> <span class='int'>111</span> <span class='int'>1593</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8868-L8873'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8868' data-end='8873'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8868</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_codepoint(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_char_size);
    return rb_str_enumerate_codepoints(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_grapheme_cluster-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_grapheme_cluster</strong> {|cstr| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_grapheme_cluster</strong>  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes each grapheme cluster in <em>str</em> to the given block, or returns an enumerator if no block is given. Unlike <a href="#each_char-instance_method" title="String#each_char (method)">#each_char</a>, this enumerates by grapheme clusters defined by Unicode Standard Annex #29 <a href="http://unicode.org/reports/tr29">unicode.org/reports/tr29</a>/</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_char'><a href="#each_char-instance_method" title="String#each_char (method)">each_char</a></span>.<span class='id identifier rubyid_to_a'>to_a</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="String#size (method)">size</a></span> <span class='comment'>#=&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_grapheme_cluster'>each_grapheme_cluster</span>.<span class='id identifier rubyid_to_a'>to_a</span>.<span class='id identifier rubyid_size'><a href="#size-instance_method" title="String#size (method)">size</a></span> <span class='comment'>#=&gt; 1</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9018-L9023'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9018' data-end='9023'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9018</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_grapheme_cluster(VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, 0, 0, rb_str_each_grapheme_cluster_size);
    return rb_str_enumerate_grapheme_clusters(str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_line-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>each_line</strong>(separator = $/, chomp: false) {|substr| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>each_line</strong>(separator = $/, chomp: false)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Splits <em>str</em> using the supplied parameter as the record separator (<code>$/</code> by default), passing each substring in turn to the supplied block.  If a zero-length record separator is supplied, the string is split into paragraphs delimited by multiple successive newlines.</p>

<p>If <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a> is <code>true</code>, <code>separator</code> will be removed from the end of each line.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\nworld</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_line'>each_line</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span>}
<span class='comment'># prints:
</span><span class='comment'>#   &quot;hello\n&quot;
</span><span class='comment'>#   &quot;world&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\nworld</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_line'>each_line</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span>}
<span class='comment'># prints:
</span><span class='comment'>#   &quot;hel&quot;
</span><span class='comment'>#   &quot;l&quot;
</span><span class='comment'>#   &quot;o\nworl&quot;
</span><span class='comment'>#   &quot;d&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n\n\nworld</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_line'>each_line</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span>}
<span class='comment'># prints
</span><span class='comment'>#   &quot;hello\n\n&quot;
</span><span class='comment'>#   &quot;world&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\nworld</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_line'>each_line</span>(<span class='label'>chomp:</span> <span class='kw'>true</span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span>}
<span class='comment'># prints:
</span><span class='comment'>#   &quot;hello&quot;
</span><span class='comment'>#   &quot;world&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\nworld</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_each_line'>each_line</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>chomp:</span> <span class='kw'>true</span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span>}
<span class='comment'># prints:
</span><span class='comment'>#   &quot;he&quot;
</span><span class='comment'>#   &quot;&quot;
</span><span class='comment'>#   &quot;o\nwor&quot;
</span><span class='comment'>#   &quot;d&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8648-L8653'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8648' data-end='8653'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8648</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_each_line(int argc, VALUE *argv, VALUE str)
{
    RETURN_SIZED_ENUMERATOR(str, argc, argv, 0);
    return rb_str_enumerate_lines(argc, argv, str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>encode</strong>(encoding, **options)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>encode</strong>(dst_encoding, src_encoding, **options)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>encode</strong>(**options)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The first form returns a copy of <code>str</code> transcoded to encoding <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>. The second form returns a copy of <code>str</code> transcoded from src_encoding to dst_encoding. The last form returns a copy of <code>str</code> transcoded to <a href="Encoding.html#default_internal-class_method" title="Encoding.default_internal (method)">Encoding.default_internal</a>.</p>

<p>By default, the first and second form raise <a href="Encoding/UndefinedConversionError.html" title="Encoding::UndefinedConversionError (class)"><code>::Encoding::UndefinedConversionError</code></a> for characters that are undefined in the destination encoding, and <a href="Encoding/InvalidByteSequenceError.html" title="Encoding::InvalidByteSequenceError (class)"><code>::Encoding::InvalidByteSequenceError</code></a> for invalid byte sequences in the source encoding. The last form by default does not raise exceptions but uses replacement strings.</p>

<p>The <code>options</code> keyword arguments give details for conversion. The arguments are:</p>
<dl class="rdoc-list note-list"><dt><code>:invalid</code> 
<dd>
<p>If the value is <code>:replace</code>, #encode replaces invalid byte sequences in <code>str</code> with the replacement character.  The default is to raise the Encoding::InvalidByteSequenceError exception</p>
</dd><dt><code>:undef</code> 
<dd>
<p>If the value is <code>:replace</code>, #encode replaces characters which are undefined in the destination encoding with the replacement character. The default is to raise the Encoding::UndefinedConversionError.</p>
</dd><dt><code>:replace</code> 
<dd>
<p>Sets the replacement string to the given value. The default replacement string is “uFFFD” for Unicode encoding forms, and “?” otherwise.</p>
</dd><dt><code>:fallback</code> 
<dd>
<p>Sets the replacement string by the given object for undefined character.  The object should be a Hash, a Proc, a Method, or an object which has [] method. Its key is an undefined character encoded in the source encoding of current transcoder. Its value can be any encoding until it can be converted into the destination encoding of the transcoder.</p>
</dd><dt><code>:xml</code> 
<dd>
<p>The value must be <code>:text</code> or <code>:attr</code>. If the value is <code>:text</code> #encode replaces undefined characters with their (upper-case hexadecimal) numeric character references. ‘&amp;’, ‘&lt;’, and ‘&gt;’ are converted to “&amp;amp;”, “&amp;lt;”, and “&amp;gt;”, respectively. If the value is <code>:attr</code>, #encode also quotes the replacement result (using ‘“’), and replaces ‘”’ with “&amp;quot;”.</p>
</dd><dt><code>:cr_newline</code> 
<dd>
<p>Replaces LF (“n”) with CR (“r”) if value is true.</p>
</dd><dt><code>:crlf_newline</code> 
<dd>
<p>Replaces LF (“n”) with CRLF (“rn”) if value is true.</p>
</dd><dt><code>:universal_newline</code> 
<dd>
<p>Replaces CRLF (“rn”) and CR (“r”) with LF (“n”) if value is true.</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/transcode.c#L2883-L2889'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2883' data-end='2889'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'transcode.c', line 2883</span></pre>
<pre class='code cpp'>

static VALUE
str_encode(int argc, VALUE *argv, VALUE str)
{
    VALUE newstr = str;
    int encidx = str_transcode(argc, argv, &amp;newstr);
    return encoded_dup(newstr, str, encidx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>encode!</strong>(encoding, **options)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>encode!</strong>(dst_encoding, src_encoding, **options)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The first form transcodes the contents of <em>str</em> from str.encoding to <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a>. The second form transcodes the contents of <em>str</em> from src_encoding to dst_encoding. The <code>options</code> keyword arguments give details for conversion. See <a href="#encode-instance_method" title="String#encode (method)">#encode</a> for details. Returns the string even if no changes were made.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/transcode.c#L2805-L2823'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2805' data-end='2823'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'transcode.c', line 2805</span></pre>
<pre class='code cpp'>

static VALUE
str_encode_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE newstr;
    int encidx;

    rb_check_frozen(str);

    newstr = str;
    encidx = str_transcode(argc, argv, &amp;newstr);

    if (encidx &lt; 0) return str;
    if (newstr == str) {
	rb_enc_associate_index(str, encidx);
	return str;
    }
    rb_str_shared_replace(str, newstr);
    return str_encode_associate(str, encidx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encoding-instance_method">
  <h3 class='signature '>
    #<strong>encoding</strong>  &#x21d2; <a href="Encoding.html" title="Encoding (class)">Encoding</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="Regexp.html#encoding-instance_method" title="Regexp#encoding (method)">Regexp#encoding</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="end_with?-instance_method">
  <h3 class='signature '>
    #<strong>end_with?</strong>([suffixes]+)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if <code>str</code> ends with one of the <code>suffixes</code> given.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ello</span><span class='tstring_end'>&quot;</span></span>)               <span class='comment'>#=&gt; true
</span>
<span class='comment'># returns true if one of the suffixes matches.
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ello</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_end_with?'>end_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paradise</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10224-L10245'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10224' data-end='10245'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10224</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_end_with(int argc, VALUE *argv, VALUE str)
{
    int i;
    char *p, *s, *e;
    rb_encoding *enc;

    for (i=0; i&lt;argc; i++) {
	VALUE tmp = argv[i];
	StringValue(tmp);
	enc = rb_enc_check(str, tmp);
	if (RSTRING_LEN(str) &lt; RSTRING_LEN(tmp)) continue;
	p = RSTRING_PTR(str);
        e = p + RSTRING_LEN(str);
	s = e - RSTRING_LEN(tmp);
	if (rb_enc_left_char_head(p, s, e, enc) != s)
	    continue;
	if (memcmp(s, RSTRING_PTR(tmp), RSTRING_LEN(tmp)) == 0)
	    return Qtrue;
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="eql?-instance_method">
  <h3 class='signature '>
    #<strong>eql?</strong>(object)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <code>object</code> has the same length and content; as <code>self</code>; <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>food</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; false</span></code></pre>

<p>Returns <code>false</code> if the two strings’ encodings are not compatible:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{e4 f6 fc}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encode'><a href="#encode-instance_method" title="String#encode (method)">encode</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_eql?'>eql?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{c4 d6 dc}</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3450-L3456'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3450' data-end='3456'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3450</span></pre>
<pre class='code cpp'>

MJIT_FUNC_EXPORTED VALUE
rb_str_eql(VALUE str1, VALUE str2)
{
    if (str1 == str2) return Qtrue;
    if (!RB_TYPE_P(str2, T_STRING)) return Qfalse;
    return rb_str_eql_internal(str1, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="force_encoding-instance_method">
  <h3 class='signature '>
    #<strong>force_encoding</strong>(encoding)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Changes the encoding to <a href="#encoding-instance_method" title="String#encoding (method)">#encoding</a> and returns self.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10440-L10447'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10440' data-end='10447'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10440</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_force_encoding(VALUE str, VALUE enc)
{
    str_modifiable(str);
    rb_enc_associate(str, rb_to_encoding(enc));
    ENC_CODERANGE_CLEAR(str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="freeze-instance_method">
  <h3 class='signature '>
    #<strong>freeze</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L2765-L2771'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2765' data-end='2771'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 2765</span></pre>
<pre class='code cpp'>

VALUE
rb_str_freeze(VALUE str)
{
    if (OBJ_FROZEN(str)) return str;
    rb_str_resize(str, RSTRING_LEN(str));
    return rb_obj_freeze(str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getbyte-instance_method">
  <h3 class='signature '>
    #<strong>getbyte</strong>(index)  &#x21d2; <code>0</code> .. <code>255</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>returns the <em>index</em>th byte as an integer.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5688-L5699'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5688' data-end='5699'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5688</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_getbyte(VALUE str, VALUE index)
{
    long pos = NUM2LONG(index);

    if (pos &lt; 0)
        pos += RSTRING_LEN(str);
    if (pos &lt; 0 ||  RSTRING_LEN(str) &lt;= pos)
        return Qnil;

    return INT2FIX((unsigned char)RSTRING_PTR(str)[pos]);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="grapheme_clusters-instance_method">
  <h3 class='signature '>
    #<strong>grapheme_clusters</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of grapheme clusters in <em>str</em>.  This is a shorthand for <code>str.each_grapheme_cluster.to_a</code>.</p>

<p>If a block is given, which is a deprecated form, works the same as <a href="#each_grapheme_cluster-instance_method" title="String#each_grapheme_cluster (method)">#each_grapheme_cluster</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9036-L9041'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9036' data-end='9041'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9036</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_grapheme_clusters(VALUE str)
{
    VALUE ary = WANTARRAY(&quot;grapheme_clusters&quot;, rb_str_strlen(str));
    return rb_str_enumerate_grapheme_clusters(str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gsub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>gsub</strong>(pattern, replacement)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>gsub</strong>(pattern, hash)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>gsub</strong>(pattern) {|match| ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>gsub</strong>(pattern)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with <em>all</em> occurrences of <em>pattern</em> substituted for the second argument. The <em>pattern</em> is typically a Regexp; if given as a <code>String</code>, any regular expression metacharacters it contains will be interpreted literally, e.g. <code>\d</code> will match a backslash followed by ‘d’, instead of a digit.</p>

<p>If <code>replacement</code> is a <code>String</code> it will be substituted for the matched text. It may contain back-references to the pattern’s capture groups of the form <code>\d</code>, where <em>d</em> is a group number, or <code>\k&lt;n&gt;</code>, where <em>n</em> is a group name. Similarly, <code>\&amp;</code>, <code>\&#39;</code>, <code>\`</code>, and <code>+</code> correspond to special variables, <code>$&amp;</code>, <code>$&#39;</code>, <code>$`</code>, and <code>$+</code>, respectively. (See regexp.rdoc for details.) <code>\0</code> is the same as <code>\&amp;</code>. <code>\\</code> is interpreted as an escape, i.e., a single backslash. Note that, within <code>replacement</code> the special match variables, such as <code>$&amp;</code>, will not refer to the current match.</p>

<p>If the second argument is a <a href="Hash.html" title="Hash (class)"><code>::Hash</code></a>, and the matched text is one of its keys, the corresponding value is the replacement string.</p>

<p>In the block form, the current match string is passed in as a parameter, and variables such as <code>$1</code>, <code>$2</code>, <code>$`</code>, <code>$&amp;</code>, and <code>$&#39;</code> will be set appropriately. (See regexp.rdoc for details.) The value returned by the block will be substituted for the match on each call.</p>

<p>When neither a block nor a second argument is supplied, an <a href="Enumerator.html" title="Enumerator (class)"><code>::Enumerator</code></a> is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>)                  <span class='comment'>#=&gt; &quot;h*ll*&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;\1&gt;</span><span class='tstring_end'>&#39;</span></span>)             <span class='comment'>#=&gt; &quot;h&lt;e&gt;ll&lt;o&gt;&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_ord'><a href="#ord-instance_method" title="String#ord (method)">ord</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="String#to_s (method)">to_s</a></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>}      <span class='comment'>#=&gt; &quot;104 101 108 108 111 &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;foo&gt;[aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>{\k&lt;foo&gt;}</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'>#=&gt; &quot;h{e}ll{o}&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[eo]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'>#=&gt; &quot;h3ll*&quot;</span></code></pre>

<p>Note that a string literal consumes backslashes. (See syntax/literals.rdoc for details on string literals.) Back-references are typically preceded by an additional backslash. For example, if you want to write a back-reference <code>\&amp;</code> in <code>replacement</code> with a double-quoted string literal, you need to write: <code>&quot;..\\&amp;..&quot;</code>. If you want to write a non-back-reference string <code>\&amp;</code> in <code>replacement</code>, you need first to escape the backslash to prevent this method from interpreting it as a back-reference, and then you need to escape the backslashes again to prevent a string literal from consuming them: <code>&quot;..\\\\&amp;..&quot;</code>. You may want to use the block form to avoid a lot of backslashes.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5613-L5617'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5613' data-end='5617'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5613</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_gsub(int argc, VALUE *argv, VALUE str)
{
    return str_gsub(argc, argv, str, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="gsub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>gsub!</strong>(pattern, replacement)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>gsub!</strong>(pattern, hash)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>gsub!</strong>(pattern) {|match| ... } &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>gsub!</strong>(pattern)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs the substitutions of <a href="#gsub-instance_method" title="String#gsub (method)">#gsub</a> in place, returning <em>str</em>, or <code>nil</code> if no substitutions were performed.  If no block and no <em>replacement</em> is given, an enumerator is returned instead.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5545-L5550'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5545' data-end='5550'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5545</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_gsub_bang(int argc, VALUE *argv, VALUE str)
{
    str_modify_keep_cr(str);
    return str_gsub(argc, argv, str, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hash-instance_method">
  <h3 class='signature '>
    #<strong>hash</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the integer hash value for <code>self</code>. The value is based on the length, content and encoding of <code>self</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3343-L3348'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3343' data-end='3348'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3343</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_hash_m(VALUE str)
{
    st_index_t hval = rb_str_hash(str);
    return ST2FIX(hval);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hex-instance_method">
  <h3 class='signature '>
    #<strong>hex</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Treats leading characters from <em>str</em> as a string of hexadecimal digits (with an optional sign and an optional <code>0x</code>) and returns the corresponding number. Zero is returned on error.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0x0a</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_hex'>hex</span>     <span class='comment'>#=&gt; 10
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-1234</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_hex'>hex</span>    <span class='comment'>#=&gt; -4660
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_hex'>hex</span>        <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wombat</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_hex'>hex</span>   <span class='comment'>#=&gt; 0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9684-L9688'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9684' data-end='9688'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9684</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_hex(VALUE str)
{
    return rb_str_to_inum(str, 16, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    #<strong>include?</strong>(other_str)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if <em>str</em> contains the given string or character.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lo</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ol</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='CHAR'>?h</span>     <span class='comment'>#=&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5983-L5993'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5983' data-end='5993'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5983</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_include(VALUE str, VALUE arg)
{
    long i;

    StringValue(arg);
    i = rb_str_index(str, arg, 0);

    if (i == -1) return Qfalse;
    return Qtrue;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="index-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>index</strong>(substring, offset = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>index</strong>(regexp, offset = 0)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the Integer index of the first occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ooo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Returns the Integer index of the first match for the given Regexp <code>regexp</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>oo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ooo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Integer argument <code>offset</code>, if given, specifies the position in the string to begin the search:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>If <code>offset</code> is negative, counts backward from the end of <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>3</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'>index</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>4</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Related: <a href="#rindex-instance_method" title="String#rindex (method)">#rindex</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3717-L3763'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3717' data-end='3763'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3717</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_index_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE initpos;
    long pos;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;initpos) == 2) {
	pos = NUM2LONG(initpos);
    }
    else {
	pos = 0;
    }
    if (pos &lt; 0) {
	pos += str_strlen(str, NULL);
	if (pos &lt; 0) {
	    if (RB_TYPE_P(sub, T_REGEXP)) {
		rb_backref_set(Qnil);
	    }
	    return Qnil;
	}
    }

    if (RB_TYPE_P(sub, T_REGEXP)) {
	if (pos &gt; str_strlen(str, NULL))
	    return Qnil;
	pos = str_offset(RSTRING_PTR(str), RSTRING_END(str), pos,
			 rb_enc_check(str, sub), single_byte_optimizable(str));

	if (rb_reg_search(sub, str, pos, 0) &lt; 0) {
            return Qnil;
        } else {
            VALUE match = rb_backref_get();
            struct re_registers *regs = RMATCH_REGS(match);
            pos = rb_str_sublen(str, BEG(0));
            return LONG2NUM(pos);
        }
    }
    else {
        StringValue(sub);
	pos = rb_str_index(str, sub, pos);
	pos = rb_str_sublen(str, pos);
    }

    if (pos == -1) return Qnil;
    return LONG2NUM(pos);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize_copy-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>replace</strong>(other_str)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>initialize_copy</strong>(other_str)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#replace-instance_method" title="String#replace (method)">#replace</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="insert-instance_method">
  <h3 class='signature '>
    #<strong>insert</strong>(index, other_string)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Inserts the given <code>other_string</code> into <code>self</code>; returns <code>self</code>.</p>

<p>If the Integer <a href="#index-instance_method" title="String#index (method)">#index</a> is positive, inserts <code>other_string</code> at offset <a href="#index-instance_method" title="String#index (method)">#index</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;fbaroo&quot;</span></code></pre>

<p>If the Integer <a href="#index-instance_method" title="String#index (method)">#index</a> is negative, counts backward from the end of <code>self</code> and inserts <code>other_string</code> at offset <a href="#index-instance_method" title="String#index (method)">#index</a>1&lt;/tt&gt; (that is, <em>after</em> <code>self[index]</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;fobaro&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5033-L5046'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5033' data-end='5046'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5033</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_insert(VALUE str, VALUE idx, VALUE str2)
{
    long pos = NUM2LONG(idx);

    if (pos == -1) {
	return rb_str_append(str, str2);
    }
    else if (pos &lt; 0) {
	pos++;
    }
    rb_str_splice(str, pos, 0, str2);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a printable version of <em>str</em>, surrounded by quote marks, with special characters escaped.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_str'>str</span>[<span class='int'>3</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\b</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_inspect'>inspect</span>       <span class='comment'>#=&gt; &quot;\&quot;hel\\bo\&quot;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L6198-L6290'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6198' data-end='6290'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6198</span></pre>
<pre class='code cpp'>

VALUE
rb_str_inspect(VALUE str)
{
    int encidx = ENCODING_GET(str);
    rb_encoding *enc = rb_enc_from_index(encidx), *actenc;
    const char *p, *pend, *prev;
    char buf[CHAR_ESC_LEN + 1];
    VALUE result = rb_str_buf_new(0);
    rb_encoding *resenc = rb_default_internal_encoding();
    int unicode_p = rb_enc_unicode_p(enc);
    int asciicompat = rb_enc_asciicompat(enc);

    if (resenc == NULL) resenc = rb_default_external_encoding();
    if (!rb_enc_asciicompat(resenc)) resenc = rb_usascii_encoding();
    rb_enc_associate(result, resenc);
    str_buf_cat2(result, &quot;\&quot;&quot;);

    p = RSTRING_PTR(str); pend = RSTRING_END(str);
    prev = p;
    actenc = get_actual_encoding(encidx, str);
    if (actenc != enc) {
	enc = actenc;
	if (unicode_p) unicode_p = rb_enc_unicode_p(enc);
    }
    while (p &lt; pend) {
	unsigned int c, cc;
	int n;

        n = rb_enc_precise_mbclen(p, pend, enc);
        if (!MBCLEN_CHARFOUND_P(n)) {
	    if (p &gt; prev) str_buf_cat(result, prev, p - prev);
            n = rb_enc_mbminlen(enc);
            if (pend &lt; p + n)
                n = (int)(pend - p);
            while (n--) {
                snprintf(buf, CHAR_ESC_LEN, &quot;\\x%02X&quot;, *p &amp; 0377);
                str_buf_cat(result, buf, strlen(buf));
                prev = ++p;
            }
	    continue;
	}
        n = MBCLEN_CHARFOUND_LEN(n);
	c = rb_enc_mbc_to_codepoint(p, pend, enc);
	p += n;
	if ((asciicompat || unicode_p) &amp;&amp;
	  (c == &#39;&quot;&#39;|| c == &#39;\\&#39; ||
	    (c == &#39;#&#39; &amp;&amp;
             p &lt; pend &amp;&amp;
             MBCLEN_CHARFOUND_P(rb_enc_precise_mbclen(p,pend,enc)) &amp;&amp;
             (cc = rb_enc_codepoint(p,pend,enc),
              (cc == &#39;$&#39; || cc == &#39;@&#39; || cc == &#39;{&#39;))))) {
	    if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
	    str_buf_cat2(result, &quot;\\&quot;);
	    if (asciicompat || enc == resenc) {
		prev = p - n;
		continue;
	    }
	}
	switch (c) {
	  case &#39;\n&#39;: cc = &#39;n&#39;; break;
	  case &#39;\r&#39;: cc = &#39;r&#39;; break;
	  case &#39;\t&#39;: cc = &#39;t&#39;; break;
	  case &#39;\f&#39;: cc = &#39;f&#39;; break;
	  case &#39;\013&#39;: cc = &#39;v&#39;; break;
	  case &#39;\010&#39;: cc = &#39;b&#39;; break;
	  case &#39;\007&#39;: cc = &#39;a&#39;; break;
	  case 033: cc = &#39;e&#39;; break;
	  default: cc = 0; break;
	}
	if (cc) {
	    if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
	    buf[0] = &#39;\\&#39;;
	    buf[1] = (char)cc;
	    str_buf_cat(result, buf, 2);
	    prev = p;
	    continue;
	}
	if ((enc == resenc &amp;&amp; rb_enc_isprint(c, enc)) ||
	    (asciicompat &amp;&amp; rb_enc_isascii(c, enc) &amp;&amp; ISPRINT(c))) {
	    continue;
	}
	else {
	    if (p - n &gt; prev) str_buf_cat(result, prev, p - n - prev);
	    rb_str_buf_cat_escaped_char(result, c, unicode_p);
	    prev = p;
	    continue;
	}
    }
    if (p &gt; prev) str_buf_cat(result, prev, p - prev);
    str_buf_cat2(result, &quot;\&quot;&quot;);

    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="intern-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>intern</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
      <span class='overload'>#<strong>to_sym</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#to_sym</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Symbol.html" title="Symbol (class)"><code>::Symbol</code></a> corresponding to <em>str</em>, creating the symbol if it did not previously exist. See <a href="Symbol.html#id2name-instance_method" title="Symbol#id2name (method)">Symbol#id2name</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Koala</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_intern'>intern</span>         <span class='comment'>#=&gt; :Koala
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_sym'><a href="#to_sym-instance_method" title="String#to_sym (method)">to_sym</a></span>       <span class='comment'>#=&gt; :cat
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cat'>cat</span>              <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>@cat</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_sym'><a href="#to_sym-instance_method" title="String#to_sym (method)">to_sym</a></span>      <span class='comment'>#=&gt; :@cat
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='ivar'>@cat</span>             <span class='comment'>#=&gt; true</span></code></pre>

<p>This can also be used to create symbols that cannot be represented using the <code>:xxx</code> notation.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat and dog</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_sym'><a href="#to_sym-instance_method" title="String#to_sym (method)">to_sym</a></span>   <span class='comment'>#=&gt; :&quot;cat and dog&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/symbol.c#L839-L882'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='839' data-end='882'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'symbol.c', line 839</span></pre>
<pre class='code cpp'>

VALUE
rb_str_intern(VALUE str)
{
    VALUE sym;
#if USE_SYMBOL_GC
    rb_encoding *enc, *ascii;
    int type;
#else
    ID id;
#endif
    GLOBAL_SYMBOLS_ENTER(symbols);
    {
        sym = lookup_str_sym_with_lock(symbols, str);

        if (sym) {
            // ok
        }
        else {
#if USE_SYMBOL_GC
            enc = rb_enc_get(str);
            ascii = rb_usascii_encoding();
            if (enc != ascii &amp;&amp; sym_check_asciionly(str)) {
                str = rb_str_dup(str);
                rb_enc_associate(str, ascii);
                OBJ_FREEZE(str);
                enc = ascii;
            }
            else {
                str = rb_str_dup(str);
                OBJ_FREEZE(str);
            }
            str = rb_fstring(str);
            type = rb_str_symname_type(str, IDSET_ATTRSET_FOR_INTERN);
            if (type &lt; 0) type = ID_JUNK;
            sym = dsymbol_alloc(symbols, rb_cSymbol, str, enc, type);
#else
            id = intern_str(str, 0);
            sym = ID2SYM(id);
#endif
        }
    }
    GLOBAL_SYMBOLS_LEAVE();
    return sym;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="length-instance_method">
  <h3 class='signature '>
    #<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>     <span class='aliases'>Also known as: <span class='names'>#size</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the count of characters (not bytes) in <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x80\u3042</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_length'>length</span> <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_length'>length</span> <span class='comment'># =&gt; 5</span></code></pre>

<p><a href="#size-instance_method" title="String#size (method)">#size</a> is an alias for <code>length</code>.</p>

<p>Related: <a href="#bytesize-instance_method" title="String#bytesize (method)">#bytesize</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L1994-L1998'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1994' data-end='1998'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 1994</span></pre>
<pre class='code cpp'>

VALUE
rb_str_length(VALUE str)
{
    return LONG2NUM(str_strlen(str, NULL));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lines-instance_method">
  <h3 class='signature '>
    #<strong>lines</strong>(separator = $/, chomp: false)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of lines in <em>str</em> split using the supplied record separator (<code>$/</code> by default).  This is a shorthand for <code>str.each_line(separator, getline_args).to_a</code>.</p>

<p>If <a href="#chomp-instance_method" title="String#chomp (method)">#chomp</a> is <code>true</code>, <code>separator</code> will be removed from the end of each line.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\nworld\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_lines'>lines</span>              <span class='comment'>#=&gt; [&quot;hello\n&quot;, &quot;world\n&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello  world</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_lines'>lines</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)           <span class='comment'>#=&gt; [&quot;hello &quot;, &quot; &quot;, &quot;world&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\nworld\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_lines'>lines</span>(<span class='label'>chomp:</span> <span class='kw'>true</span>) <span class='comment'>#=&gt; [&quot;hello&quot;, &quot;world&quot;]</span></code></pre>

<p>If a block is given, which is a deprecated form, works the same as <a href="#each_line-instance_method" title="String#each_line (method)">#each_line</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8674-L8679'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8674' data-end='8679'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8674</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lines(int argc, VALUE *argv, VALUE str)
{
    VALUE ary = WANTARRAY(&quot;lines&quot;, 0);
    return rb_str_enumerate_lines(argc, argv, str, ary);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ljust-instance_method">
  <h3 class='signature '>
    #<strong>ljust</strong>(integer, padstr = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <em>integer</em> is greater than the length of <em>str</em>, returns a new <code>String</code> of length <em>integer</em> with <em>str</em> left justified and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>4</span>)            <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>20</span>)           <span class='comment'>#=&gt; &quot;hello               &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>20</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1234</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'>#=&gt; &quot;hello123412341234123&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10022-L10026'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10022' data-end='10026'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10022</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_ljust(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;l&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lstrip-instance_method">
  <h3 class='signature '>
    #<strong>lstrip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of the receiver with leading whitespace removed. See also <a href="#rstrip-instance_method" title="String#rstrip (method)">#rstrip</a> and <a href="#strip-instance_method" title="String#strip (method)">#strip</a>.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_lstrip'>lstrip</span>   <span class='comment'>#=&gt; &quot;hello  &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_lstrip'>lstrip</span>       <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9377-L9386'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9377' data-end='9386'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9377</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lstrip(VALUE str)
{
    char *start;
    long len, loffset;
    RSTRING_GETMEM(str, start, len);
    loffset = lstrip_offset(str, start, start+len, STR_ENC_GET(str));
    if (loffset &lt;= 0) return str_duplicate(rb_cString, str);
    return rb_str_subseq(str, loffset, len - loffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lstrip!-instance_method">
  <h3 class='signature '>
    #<strong>lstrip!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes leading whitespace from the receiver. Returns the altered receiver, or <code>nil</code> if no change was made. See also <a href="#rstrip!-instance_method" title="String#rstrip! (method)">#rstrip!</a> and <a href="#strip!-instance_method" title="String#strip! (method)">#strip!</a>.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_lstrip!'>lstrip!</span>  <span class='comment'>#=&gt; &quot;hello  &quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello  </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_lstrip!'>lstrip!</span>    <span class='comment'>#=&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_lstrip!'>lstrip!</span>      <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9339-L9361'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9339' data-end='9361'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9339</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_lstrip_bang(VALUE str)
{
    rb_encoding *enc;
    char *start, *s;
    long olen, loffset;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    if (loffset &gt; 0) {
	long len = olen-loffset;
	s = start + loffset;
	memmove(start, s, len);
	STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
	TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="match-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>match</strong>(pattern, offset = 0)  &#x21d2; <a href="MatchData.html" title="MatchData (class)">MatchData</a><sup>?</sup> </span>
      <span class='overload'>#<strong>match</strong>(pattern, offset = 0) {|matchdata| ... } &#x21d2; <a href="Object.html" title="Object (class)">Object</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a Matchdata object (or <code>nil</code>) based on <code>self</code> and the given <code>pattern</code>.</p>

<p>Note: also updates [Regexp-related global variables](Regexp.html#class-Regexp-label-Special+global+variables).</p>
<ul><li>
<p>Computes <code>regexp</code> by converting <code>pattern</code> (if not already a Regexp).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='const'><a href="Regexp.html" title="Regexp (class)">Regexp</a></span>.<span class='id identifier rubyid_new'><a href="Regexp.html#new-class_method" title="Regexp.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'>pattern</span>)</code></pre>
</li><li>
<p>Computes <code>matchdata</code>, which will be either a MatchData object or <code>nil</code> (see Regexp#match):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_matchdata'>matchdata</span> <span class='op'>=</span> <span class='op'>&lt;</span><span class='id identifier rubyid_tt'>tt</span><span class='op'>&gt;</span><span class='id identifier rubyid_regexp'>regexp</span>.<span class='id identifier rubyid_match'>match</span>(<span class='kw'>self</span>)</code></pre>
</li></ul>

<p>With no block given, returns the computed <code>matchdata</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; #&lt;MatchData &quot;f&quot;&gt;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; #&lt;MatchData &quot;o&quot;&gt;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>If Integer argument <code>offset</code> is given, the search begins at index <code>offset</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; #&lt;MatchData &quot;o&quot;&gt;</span></code></pre>

<p>With a block given, calls the block with the computed <code>matchdata</code> and returns the block’s return value:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_matchdata'>matchdata</span><span class='op'>|</span> <span class='id identifier rubyid_matchdata'>matchdata</span> } <span class='comment'># =&gt; #&lt;MatchData &quot;o&quot;&gt;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_matchdata'>matchdata</span><span class='op'>|</span> <span class='id identifier rubyid_matchdata'>matchdata</span> } <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span>) {<span class='op'>|</span><span class='id identifier rubyid_matchdata'>matchdata</span><span class='op'>|</span> <span class='id identifier rubyid_matchdata'>matchdata</span> } <span class='comment'># =&gt; nil</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L4029-L4042'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4029' data-end='4042'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4029</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match_m(int argc, VALUE *argv, VALUE str)
{
    VALUE re, result;
    if (argc &lt; 1)
	rb_check_arity(argc, 1, 2);
    re = argv[0];
    argv[0] = str;
    result = rb_funcallv(get_pat(re), rb_intern(&quot;match&quot;), argc, argv);
    if (!NIL_P(result) &amp;&amp; rb_block_given_p()) {
	return rb_yield(result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="match?-instance_method">
  <h3 class='signature '>
    #<strong>match?</strong>(pattern, offset = 0)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> or <code>false</code> based on whether a match is found for <code>self</code> and <code>pattern</code>.</p>

<p>Note: does not update [Regexp-related global variables](Regexp.html#class-Regexp-label-Special+global+variables).</p>

<p>Computes <code>regexp</code> by converting <code>pattern</code> (if not already a Regexp).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='const'><a href="Regexp.html" title="Regexp (class)">Regexp</a></span>.<span class='id identifier rubyid_new'><a href="Regexp.html#new-class_method" title="Regexp.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'>pattern</span>)</code></pre>

<p>Returns <code>true</code> if <code>self</code>.match(regexp)&lt;/tt&gt; returns a Matchdata object, <code>false</code> otherwise:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; false</span></code></pre>

<p>If Integer argument <code>offset</code> is given, the search begins at index <code>offset</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; false
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L4067-L4074'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4067' data-end='4074'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4067</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_match_m_p(int argc, VALUE *argv, VALUE str)
{
    VALUE re;
    rb_check_arity(argc, 1, 2);
    re = get_pat(argv[0]);
    return rb_reg_match_p(re, str, argc &gt; 1 ? NUM2LONG(argv[1]) : 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next-instance_method">
  <h3 class='signature '>
    #<strong>next</strong>  &#x21d2; <code>String</code>     <span class='aliases'>Also known as: <span class='names'>#succ</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the successor to <code>self</code>. The successor is calculated by incrementing characters.</p>

<p>The first character to be incremented is the rightmost alphanumeric: or, if no alphanumerics, the rightmost character:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>THX1138</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;THX1139&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;&lt;koala&gt;&gt;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;&lt;&lt;koalb&gt;&gt;&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>***</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &#39;**+&#39;</span></code></pre>

<p>The successor to a digit is another digit, “carrying” to the next-left character for a “rollover” from 9 to 0, and prepending another digit if necessary:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>00</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;01&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>09</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;10&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>99</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;100&quot;</span></code></pre>

<p>The successor to a letter is another letter of the same case, carrying to the next-left character for a rollover, and prepending another same-case letter if necessary:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;ab&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>az</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;ba&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zz</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;aaa&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AA</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;AB&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AZ</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;BA&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ZZ</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;AAA&quot;</span></code></pre>

<p>The successor to a non-alphanumeric character is the next character in the underlying character set’s collating sequence, carrying to the next-left character for a rollover, and prepending another character if necessary:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='int'>0</span>.<span class='id identifier rubyid_chr'><a href="#chr-instance_method" title="String#chr (method)">chr</a></span> <span class='op'>*</span> <span class='int'>3</span>
<span class='id identifier rubyid_s'>s</span> <span class='comment'># =&gt; &quot;\x00\x00\x00&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;\x00\x00\x01&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='int'>255</span>.<span class='id identifier rubyid_chr'><a href="#chr-instance_method" title="String#chr (method)">chr</a></span> <span class='op'>*</span> <span class='int'>3</span>
<span class='id identifier rubyid_s'>s</span> <span class='comment'># =&gt; &quot;\xFF\xFF\xFF&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;\x01\x00\x00\x00&quot;</span></code></pre>

<p>Carrying can occur between and among mixtures of alphanumeric characters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zz99zz99</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;aaa00aa00&quot;
</span><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>99zz99zz</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;100aa00aa&quot;</span></code></pre>

<p>The successor to an empty String is a new empty String:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_succ'><a href="#succ-instance_method" title="String#succ (method)">succ</a></span> <span class='comment'># =&gt; &quot;&quot;</span></code></pre>

<p><code>next</code> is an alias for <a href="#succ-instance_method" title="String#succ (method)">#succ</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L4314-L4321'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4314' data-end='4321'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4314</span></pre>
<pre class='code cpp'>

VALUE
rb_str_succ(VALUE orig)
{
    VALUE str;
    str = rb_str_new(RSTRING_PTR(orig), RSTRING_LEN(orig));
    rb_enc_cr_str_copy_for_substr(str, orig);
    return str_succ(str);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="next!-instance_method">
  <h3 class='signature '>
    #<strong>next!</strong>  &#x21d2; <code>self</code>     <span class='aliases'>Also known as: <span class='names'>#succ!</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Equivalent to <a href="#succ-instance_method" title="String#succ (method)">#succ</a>, but modifies <code>self</code> in place; returns <code>self</code>.</p>

<p><code>next!</code> is an alias for <a href="#succ!-instance_method" title="String#succ! (method)">#succ!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L4420-L4426'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4420' data-end='4426'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4420</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_succ_bang(VALUE str)
{
    rb_str_modify(str);
    str_succ(str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="oct-instance_method">
  <h3 class='signature '>
    #<strong>oct</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Treats leading characters of <em>str</em> as a string of octal digits (with an optional sign) and returns the corresponding number.  Returns 0 if the conversion fails.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_oct'>oct</span>       <span class='comment'>#=&gt; 83
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-377</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_oct'>oct</span>      <span class='comment'>#=&gt; -255
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_oct'>oct</span>       <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0377bad</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_oct'>oct</span>   <span class='comment'>#=&gt; 255</span></code></pre>

<p>If <code>str</code> starts with <code>0</code>, radix indicators are honored. See <a href="Kernel.html#Integer-class_method" title="Kernel.Integer (method)">Kernel.Integer</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9708-L9712'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9708' data-end='9712'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9708</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_oct(VALUE str)
{
    return rb_str_to_inum(str, -8, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ord-instance_method">
  <h3 class='signature '>
    #<strong>ord</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> ordinal of a one-character string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_ord'>ord</span>         <span class='comment'>#=&gt; 97</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9844-L9851'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9844' data-end='9851'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9844</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_ord(VALUE s)
{
    unsigned int c;

    c = rb_enc_codepoint(RSTRING_PTR(s), RSTRING_END(s), STR_ENC_GET(s));
    return UINT2NUM(c);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="partition-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>partition</strong>(sep)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ... </span>
      <span class='overload'>#<strong>partition</strong>(regexp)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ... </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string and returns the part before it, the match, and the part after it. If it is not found, returns two empty strings and <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>l</span><span class='tstring_end'>&quot;</span></span>)         <span class='comment'>#=&gt; [&quot;he&quot;, &quot;l&quot;, &quot;lo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span>)         <span class='comment'>#=&gt; [&quot;hello&quot;, &quot;&quot;, &quot;&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.l</span><span class='regexp_end'>/</span></span>)        <span class='comment'>#=&gt; [&quot;h&quot;, &quot;el&quot;, &quot;lo&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10083-L10110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10083' data-end='10110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10083</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_partition(VALUE str, VALUE sep)
{
    long pos;

    sep = get_pat_quoted(sep, 0);
    if (RB_TYPE_P(sep, T_REGEXP)) {
	if (rb_reg_search(sep, str, 0, 0) &lt; 0) {
            goto failed;
	}
	VALUE match = rb_backref_get();
	struct re_registers *regs = RMATCH_REGS(match);

        pos = BEG(0);
	sep = rb_str_subseq(str, pos, END(0) - pos);
    }
    else {
	pos = rb_str_index(str, sep, 0);
	if (pos &lt; 0) goto failed;
    }
    return rb_ary_new3(3, rb_str_subseq(str, 0, pos),
		          sep,
		          rb_str_subseq(str, pos+RSTRING_LEN(sep),
					     RSTRING_LEN(str)-pos-RSTRING_LEN(sep)));

  failed:
    return rb_ary_new3(3, str_duplicate(rb_cString, str), str_new_empty_String(str), str_new_empty_String(str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepend-instance_method">
  <h3 class='signature '>
    #<strong>prepend</strong>(*other_strings)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prepends each string in <code>other_strings</code> to <code>self</code> and returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_prepend'>prepend</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;barbazfoo&quot;
</span><span class='id identifier rubyid_s'>s</span>                       <span class='comment'># =&gt; &quot;barbazfoo&quot;</span></code></pre>

<p>Related: <a href="#concat-instance_method" title="String#concat (method)">#concat</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3292-L3311'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3292' data-end='3311'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3292</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_prepend_multi(int argc, VALUE *argv, VALUE str)
{
    str_modifiable(str);

    if (argc == 1) {
	rb_str_update(str, 0L, 0L, argv[0]);
    }
    else if (argc &gt; 1) {
	int i;
	VALUE arg_str = rb_str_tmp_new(0);
	rb_enc_copy(arg_str, str);
	for (i = 0; i &lt; argc; i++) {
	    rb_str_append(arg_str, argv[i]);
	}
	rb_str_update(str, 0L, 0L, arg_str);
    }

    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replace-instance_method">
  <h3 class='signature '>
    #<strong>replace</strong>(other_str)  &#x21d2; <code>String</code>     <span class='aliases'>Also known as: <span class='names'>#initialize_copy</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Replaces the contents of <em>str</em> with the corresponding values in <em>other_str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>         <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_replace'>replace</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; &quot;world&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5631-L5640'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5631' data-end='5640'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5631</span></pre>
<pre class='code cpp'>

VALUE
rb_str_replace(VALUE str, VALUE str2)
{
    str_modifiable(str);
    if (str == str2) return str;

    StringValue(str2);
    str_discard(str);
    return str_replace(str, str2);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse-instance_method">
  <h3 class='signature '>
    #<strong>reverse</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new string with the characters from <em>str</em> in reverse order.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stressed</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_reverse'>reverse</span>   <span class='comment'>#=&gt; &quot;desserts&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5886-L5934'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5886' data-end='5934'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5886</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_reverse(VALUE str)
{
    rb_encoding *enc;
    VALUE rev;
    char *s, *e, *p;
    int cr;

    if (RSTRING_LEN(str) &lt;= 1) return str_duplicate(rb_cString, str);
    enc = STR_ENC_GET(str);
    rev = rb_str_new(0, RSTRING_LEN(str));
    s = RSTRING_PTR(str); e = RSTRING_END(str);
    p = RSTRING_END(rev);
    cr = ENC_CODERANGE(str);

    if (RSTRING_LEN(str) &gt; 1) {
	if (single_byte_optimizable(str)) {
	    while (s &lt; e) {
		*--p = *s++;
	    }
	}
	else if (cr == ENC_CODERANGE_VALID) {
	    while (s &lt; e) {
		int clen = rb_enc_fast_mbclen(s, e, enc);

		p -= clen;
		memcpy(p, s, clen);
		s += clen;
	    }
	}
	else {
	    cr = rb_enc_asciicompat(enc) ?
		ENC_CODERANGE_7BIT : ENC_CODERANGE_VALID;
	    while (s &lt; e) {
		int clen = rb_enc_mbclen(s, e, enc);

		if (clen &gt; 1 || (*s &amp; 0x80)) cr = ENC_CODERANGE_UNKNOWN;
		p -= clen;
		memcpy(p, s, clen);
		s += clen;
	    }
	}
    }
    STR_SET_LEN(rev, RSTRING_LEN(str));
    str_enc_copy(rev, str);
    ENC_CODERANGE_SET(rev, cr);

    return rev;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reverse!-instance_method">
  <h3 class='signature '>
    #<strong>reverse!</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Reverses <em>str</em> in place.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5944-L5968'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5944' data-end='5968'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5944</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_reverse_bang(VALUE str)
{
    if (RSTRING_LEN(str) &gt; 1) {
	if (single_byte_optimizable(str)) {
	    char *s, *e, c;

	    str_modify_keep_cr(str);
	    s = RSTRING_PTR(str);
	    e = RSTRING_END(str) - 1;
	    while (s &lt; e) {
		c = *s;
		*s++ = *e;
		*e-- = c;
	    }
	}
	else {
	    str_shared_replace(str, rb_str_reverse(str));
	}
    }
    else {
	str_modify_keep_cr(str);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rindex-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>rindex</strong>(substring, offset = self.length)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
      <span class='overload'>#<strong>rindex</strong>(regexp, offset = self.length)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the Integer index of the <em>last</em> occurrence of the given <code>substring</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>oo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ooo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Returns the Integer index of the <em>last</em> match for the given Regexp <code>regexp</code>, or <code>nil</code> if none found:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>oo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ooo</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>The <em>last</em> match means starting at the possible last position, not the last of longest matches.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o+</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 2
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;o&quot;&gt;</span></code></pre>

<p>To get the last longest match, needs to combine with negative lookbehind.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;!o)o+</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;oo&quot;&gt;</span></code></pre>

<p>Or <a href="#index-instance_method" title="String#index (method)">#index</a> with negative lookforward.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_index'><a href="#index-instance_method" title="String#index (method)">index</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>o+(?!.*o)</span><span class='regexp_end'>/</span></span>) <span class='comment'># =&gt; 1
</span><span class='gvar'>$~</span> <span class='comment'>#=&gt; #&lt;MatchData &quot;oo&quot;&gt;</span></code></pre>

<p>Integer argument <code>offset</code>, if given and non-negative, specifies the maximum starting position in the</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid__end_'>_end_</span> <span class='id identifier rubyid_the'>the</span> <span class='label'>search:</span>
 <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span>) <span class='comment'># =&gt; nil
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) <span class='comment'># =&gt; 1
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>) <span class='comment'># =&gt; 2
</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>) <span class='comment'># =&gt; 2</span></code></pre>

<p>If <code>offset</code> is a negative Integer, the maximum starting position in the string to <em>end</em> the search is the sum of the string’s length and <code>offset</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>) <span class='comment'># =&gt; 2
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span>) <span class='comment'># =&gt; 1
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>3</span>) <span class='comment'># =&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rindex'>rindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>o</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>4</span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Related: <a href="#index-instance_method" title="String#index (method)">#index</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L3907-L3950'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='3907' data-end='3950'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 3907</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rindex_m(int argc, VALUE *argv, VALUE str)
{
    VALUE sub;
    VALUE vpos;
    rb_encoding *enc = STR_ENC_GET(str);
    long pos, len = str_strlen(str, enc); /* str&#39;s enc */

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;sub, &amp;vpos) == 2) {
	pos = NUM2LONG(vpos);
	if (pos &lt; 0) {
	    pos += len;
	    if (pos &lt; 0) {
		if (RB_TYPE_P(sub, T_REGEXP)) {
		    rb_backref_set(Qnil);
		}
		return Qnil;
	    }
	}
	if (pos &gt; len) pos = len;
    }
    else {
	pos = len;
    }

    if (RB_TYPE_P(sub, T_REGEXP)) {
	/* enc = rb_get_check(str, sub); */
	pos = str_offset(RSTRING_PTR(str), RSTRING_END(str), pos,
			 enc, single_byte_optimizable(str));

	if (rb_reg_search(sub, str, pos, 1) &gt;= 0) {
            VALUE match = rb_backref_get();
            struct re_registers *regs = RMATCH_REGS(match);
            pos = rb_str_sublen(str, BEG(0));
            return LONG2NUM(pos);
        }
    }
    else {
        StringValue(sub);
	pos = rb_str_rindex(str, sub, pos);
	if (pos &gt;= 0) return LONG2NUM(pos);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rjust-instance_method">
  <h3 class='signature '>
    #<strong>rjust</strong>(integer, padstr = &#39; &#39;)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <em>integer</em> is greater than the length of <em>str</em>, returns a new <code>String</code> of length <em>integer</em> with <em>str</em> right justified and padded with <em>padstr</em>; otherwise, returns <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>4</span>)            <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>20</span>)           <span class='comment'>#=&gt; &quot;               hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rjust'>rjust</span>(<span class='int'>20</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1234</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'>#=&gt; &quot;123412341234123hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10042-L10046'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10042' data-end='10046'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10042</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rjust(int argc, VALUE *argv, VALUE str)
{
    return rb_str_justify(argc, argv, str, &#39;r&#39;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rpartition-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>rpartition</strong>(sep)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ... </span>
      <span class='overload'>#<strong>rpartition</strong>(regexp)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ... </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches <em>sep</em> or pattern (<em>regexp</em>) in the string from the end of the string, and returns the part before it, the match, and the part after it. If it is not found, returns two empty strings and <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>l</span><span class='tstring_end'>&quot;</span></span>)         <span class='comment'>#=&gt; [&quot;hel&quot;, &quot;l&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span>)         <span class='comment'>#=&gt; [&quot;&quot;, &quot;&quot;, &quot;hello&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.l</span><span class='regexp_end'>/</span></span>)        <span class='comment'>#=&gt; [&quot;he&quot;, &quot;ll&quot;, &quot;o&quot;]</span></code></pre>

<p>The match from the end means starting at the possible last position, not the last of longest matches.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>l+</span><span class='regexp_end'>/</span></span>)        <span class='comment'>#=&gt; [&quot;hel&quot;, &quot;l&quot;, &quot;o&quot;]</span></code></pre>

<p>To partition at the last longest match, needs to combine with negative lookbehind.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;!l)l+</span><span class='regexp_end'>/</span></span>)  <span class='comment'>#=&gt; [&quot;he&quot;, &quot;ll&quot;, &quot;o&quot;]</span></code></pre>

<p>Or <a href="#partition-instance_method" title="String#partition (method)">#partition</a> with negative lookforward.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_partition'><a href="#partition-instance_method" title="String#partition (method)">partition</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>l+(?!.*l)</span><span class='regexp_end'>/</span></span>)  <span class='comment'>#=&gt; [&quot;he&quot;, &quot;ll&quot;, &quot;o&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10141-L10172'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10141' data-end='10172'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10141</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rpartition(VALUE str, VALUE sep)
{
    long pos = RSTRING_LEN(str);

    sep = get_pat_quoted(sep, 0);
    if (RB_TYPE_P(sep, T_REGEXP)) {
        if (rb_reg_search(sep, str, pos, 1) &lt; 0) {
            goto failed;
        }
        VALUE match = rb_backref_get();
	struct re_registers *regs = RMATCH_REGS(match);

        pos = BEG(0);
        sep = rb_str_subseq(str, pos, END(0) - pos);
    }
    else {
	pos = rb_str_sublen(str, pos);
	pos = rb_str_rindex(str, sep, pos);
        if(pos &lt; 0) {
            goto failed;
        }
        pos = rb_str_offset(str, pos);
    }

    return rb_ary_new3(3, rb_str_subseq(str, 0, pos),
		          sep,
		          rb_str_subseq(str, pos+RSTRING_LEN(sep),
					RSTRING_LEN(str)-pos-RSTRING_LEN(sep)));
  failed:
    return rb_ary_new3(3, str_new_empty_String(str), str_new_empty_String(str), str_duplicate(rb_cString, str));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rstrip-instance_method">
  <h3 class='signature '>
    #<strong>rstrip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of the receiver with trailing whitespace removed. See also <a href="#lstrip-instance_method" title="String#lstrip (method)">#lstrip</a> and <a href="#strip-instance_method" title="String#strip (method)">#strip</a>.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rstrip'>rstrip</span>   <span class='comment'>#=&gt; &quot;  hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rstrip'>rstrip</span>       <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9466-L9479'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9466' data-end='9479'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9466</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rstrip(VALUE str)
{
    rb_encoding *enc;
    char *start;
    long olen, roffset;

    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    roffset = rstrip_offset(str, start, start+olen, enc);

    if (roffset &lt;= 0) return str_duplicate(rb_cString, str);
    return rb_str_subseq(str, 0, olen-roffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rstrip!-instance_method">
  <h3 class='signature '>
    #<strong>rstrip!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes trailing whitespace from the receiver. Returns the altered receiver, or <code>nil</code> if no change was made. See also <a href="#lstrip!-instance_method" title="String#lstrip! (method)">#lstrip!</a> and <a href="#strip!-instance_method" title="String#strip! (method)">#strip!</a>.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rstrip!'>rstrip!</span>  <span class='comment'>#=&gt; &quot;  hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rstrip!'>rstrip!</span>    <span class='comment'>#=&gt; nil
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_rstrip!'>rstrip!</span>      <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9429-L9450'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9429' data-end='9450'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9429</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_rstrip_bang(VALUE str)
{
    rb_encoding *enc;
    char *start;
    long olen, roffset;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    roffset = rstrip_offset(str, start, start+olen, enc);
    if (roffset &gt; 0) {
	long len = olen - roffset;

	STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
	TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scan</strong>(pattern)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>scan</strong>(pattern) {|match, ...| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Both forms iterate through <em>str</em>, matching the pattern (which may be a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a> or a <code>String</code>). For each match, a result is generated and either added to the result array or passed to the block. If the pattern contains no groups, each individual result consists of the matched string, <code>$&amp;</code>.  If the pattern contains groups, each individual result is itself an array containing one entry per group.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cruel world</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span>)        <span class='comment'>#=&gt; [&quot;cruel&quot;, &quot;world&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>...</span><span class='regexp_end'>/</span></span>)        <span class='comment'>#=&gt; [&quot;cru&quot;, &quot;el &quot;, &quot;wor&quot;]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(...)</span><span class='regexp_end'>/</span></span>)      <span class='comment'>#=&gt; [[&quot;cru&quot;], [&quot;el &quot;], [&quot;wor&quot;]]
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(..)(..)</span><span class='regexp_end'>/</span></span>)   <span class='comment'>#=&gt; [[&quot;cr&quot;, &quot;ue&quot;], [&quot;l &quot;, &quot;wo&quot;]]</span></code></pre>

<p>And the block form:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_w'>w</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(.)</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='heredoc_beg'>&lt;&lt;cruel</span><span class='op'>&gt;&gt;</span> <span class='heredoc_beg'>&lt;&lt;world</span><span class='op'>&gt;&gt;</span>
<span class='tstring_content'>rceu lowlr</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9636-L9667'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9636' data-end='9667'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9636</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_scan(VALUE str, VALUE pat)
{
    VALUE result;
    long start = 0;
    long last = -1, prev = 0;
    char *p = RSTRING_PTR(str); long len = RSTRING_LEN(str);

    pat = get_pat_quoted(pat, 1);
    mustnot_broken(str);
    if (!rb_block_given_p()) {
	VALUE ary = rb_ary_new();

	while (!NIL_P(result = scan_once(str, pat, &amp;start, 0))) {
	    last = prev;
	    prev = start;
	    rb_ary_push(ary, result);
	}
	if (last &gt;= 0) rb_pat_search(pat, str, last, 1);
	else rb_backref_set(Qnil);
	return ary;
    }

    while (!NIL_P(result = scan_once(str, pat, &amp;start, 1))) {
	last = prev;
	prev = start;
	rb_yield(result);
	str_mod_check(str, p, len);
    }
    if (last &gt;= 0) rb_pat_search(pat, str, last, 1);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scrub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scrub</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub</strong>(repl)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub</strong> {|bytes| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the string is invalid byte sequence then replace invalid bytes with given replacement character, else returns self. If block is given, replace invalid bytes with returned value of the block.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u3042\x81</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_scrub'>scrub</span> <span class='comment'>#=&gt; &quot;abc\u3042\uFFFD&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u3042\x81</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_scrub'>scrub</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;abc\u3042*&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u3042\xE3\x80</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_scrub'>scrub</span>{<span class='op'>|</span><span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>&#39;</span></span><span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span>.<span class='id identifier rubyid_unpack'><a href="#unpack-instance_method" title="String#unpack (method)">unpack</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H*</span><span class='tstring_end'>&#39;</span></span>)[<span class='int'>0</span>]<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&#39;</span></span> } <span class='comment'>#=&gt; &quot;abc\u3042&lt;e380&gt;&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10854-L10860'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10854' data-end='10860'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10854</span></pre>
<pre class='code cpp'>

static VALUE
str_scrub(int argc, VALUE *argv, VALUE str)
{
    VALUE repl = argc ? (rb_check_arity(argc, 0, 1), argv[0]) : Qnil;
    VALUE new = rb_str_scrub(str, repl);
    return NIL_P(new) ? str_duplicate(rb_cString, str): new;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scrub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>scrub!</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub!</strong>(repl)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>scrub!</strong> {|bytes| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the string is invalid byte sequence then replace invalid bytes with given replacement character, else returns self. If block is given, replace invalid bytes with returned value of the block.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u3042\x81</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_scrub!'>scrub!</span> <span class='comment'>#=&gt; &quot;abc\u3042\uFFFD&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u3042\x81</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_scrub!'>scrub!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;abc\u3042*&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc\u3042\xE3\x80</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_scrub!'>scrub!</span>{<span class='op'>|</span><span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>&#39;</span></span><span class='id identifier rubyid_bytes'><a href="#bytes-instance_method" title="String#bytes (method)">bytes</a></span>.<span class='id identifier rubyid_unpack'><a href="#unpack-instance_method" title="String#unpack (method)">unpack</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H*</span><span class='tstring_end'>&#39;</span></span>)[<span class='int'>0</span>]<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&#39;</span></span> } <span class='comment'>#=&gt; &quot;abc\u3042&lt;e380&gt;&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10876-L10883'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10876' data-end='10883'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10876</span></pre>
<pre class='code cpp'>

static VALUE
str_scrub_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE repl = argc ? (rb_check_arity(argc, 0, 1), argv[0]) : Qnil;
    VALUE new = rb_str_scrub(str, repl);
    if (!NIL_P(new)) rb_str_replace(str, new);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setbyte-instance_method">
  <h3 class='signature '>
    #<strong>setbyte</strong>(index, integer)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>modifies the <em>index</em>th byte as <em>integer</em>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5707-L5761'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5707' data-end='5761'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5707</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_setbyte(VALUE str, VALUE index, VALUE value)
{
    long pos = NUM2LONG(index);
    long len = RSTRING_LEN(str);
    char *head, *left = 0;
    unsigned char *ptr;
    rb_encoding *enc;
    int cr = ENC_CODERANGE_UNKNOWN, width, nlen;

    if (pos &lt; -len || len &lt;= pos)
        rb_raise(rb_eIndexError, &quot;index %ld out of string&quot;, pos);
    if (pos &lt; 0)
        pos += len;

    VALUE v = rb_to_int(value);
    VALUE w = rb_int_and(v, INT2FIX(0xff));
    unsigned char byte = NUM2INT(w) &amp; 0xFF;

    if (!str_independent(str))
	str_make_independent(str);
    enc = STR_ENC_GET(str);
    head = RSTRING_PTR(str);
    ptr = (unsigned char *)&amp;head[pos];
    if (!STR_EMBED_P(str)) {
	cr = ENC_CODERANGE(str);
	switch (cr) {
	  case ENC_CODERANGE_7BIT:
            left = (char *)ptr;
	    *ptr = byte;
	    if (ISASCII(byte)) goto end;
	    nlen = rb_enc_precise_mbclen(left, head+len, enc);
	    if (!MBCLEN_CHARFOUND_P(nlen))
		ENC_CODERANGE_SET(str, ENC_CODERANGE_BROKEN);
	    else
		ENC_CODERANGE_SET(str, ENC_CODERANGE_VALID);
	    goto end;
	  case ENC_CODERANGE_VALID:
	    left = rb_enc_left_char_head(head, ptr, head+len, enc);
	    width = rb_enc_precise_mbclen(left, head+len, enc);
	    *ptr = byte;
	    nlen = rb_enc_precise_mbclen(left, head+len, enc);
	    if (!MBCLEN_CHARFOUND_P(nlen))
		ENC_CODERANGE_SET(str, ENC_CODERANGE_BROKEN);
	    else if (MBCLEN_CHARFOUND_LEN(nlen) != width || ISASCII(byte))
		ENC_CODERANGE_CLEAR(str);
	    goto end;
	}
    }
    ENC_CODERANGE_CLEAR(str);
    *ptr = byte;

  end:
    return value;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="size-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>length</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
      <span class='overload'>#<strong>size</strong>  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#length-instance_method" title="String#length (method)">#length</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="slice-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>[]</strong>(substring)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#[]-instance_method" title="String#[] (method)">#[]</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="slice!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>slice!</strong>(integer)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(integer, integer)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(range)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(regexp)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>slice!</strong>(other_str)  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Deletes the specified portion from <em>str</em>, and returns the portion deleted.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>this is a string</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='int'>2</span>)        <span class='comment'>#=&gt; &quot;i&quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='int'>3</span><span class='op'>..</span><span class='int'>6</span>)     <span class='comment'>#=&gt; &quot; is &quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>s.*t</span><span class='regexp_end'>/</span></span>)   <span class='comment'>#=&gt; &quot;sa st&quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span>)      <span class='comment'>#=&gt; &quot;r&quot;
</span><span class='id identifier rubyid_string'>string</span>                  <span class='comment'>#=&gt; &quot;thing&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5068-L5153'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5068' data-end='5153'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5068</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_slice_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE result = Qnil;
    VALUE indx;
    long beg, len = 1;
    char *p;

    rb_check_arity(argc, 1, 2);
    str_modify_keep_cr(str);
    indx = argv[0];
    if (RB_TYPE_P(indx, T_REGEXP)) {
	if (rb_reg_search(indx, str, 0, 0) &lt; 0) return Qnil;
	VALUE match = rb_backref_get();
	struct re_registers *regs = RMATCH_REGS(match);
	int nth = 0;
	if (argc &gt; 1 &amp;&amp; (nth = rb_reg_backref_number(match, argv[1])) &lt; 0) {
	    if ((nth += regs-&gt;num_regs) &lt;= 0) return Qnil;
	}
	else if (nth &gt;= regs-&gt;num_regs) return Qnil;
	beg = BEG(nth);
	len = END(nth) - beg;
        goto subseq;
    }
    else if (argc == 2) {
	beg = NUM2LONG(indx);
	len = NUM2LONG(argv[1]);
        goto num_index;
    }
    else if (FIXNUM_P(indx)) {
	beg = FIX2LONG(indx);
	if (!(p = rb_str_subpos(str, beg, &amp;len))) return Qnil;
	if (!len) return Qnil;
	beg = p - RSTRING_PTR(str);
	goto subseq;
    }
    else if (RB_TYPE_P(indx, T_STRING)) {
	beg = rb_str_index(str, indx, 0);
	if (beg == -1) return Qnil;
	len = RSTRING_LEN(indx);
        result = str_duplicate(rb_cString, indx);
        goto squash;
    }
    else {
	switch (rb_range_beg_len(indx, &amp;beg, &amp;len, str_strlen(str, NULL), 0)) {
	  case Qnil:
	    return Qnil;
	  case Qfalse:
	    beg = NUM2LONG(indx);
	    if (!(p = rb_str_subpos(str, beg, &amp;len))) return Qnil;
	    if (!len) return Qnil;
	    beg = p - RSTRING_PTR(str);
	    goto subseq;
	  default:
	    goto num_index;
	}
    }

  num_index:
    if (!(p = rb_str_subpos(str, beg, &amp;len))) return Qnil;
    beg = p - RSTRING_PTR(str);

  subseq:
    result = rb_str_new(RSTRING_PTR(str)+beg, len);
    rb_enc_cr_str_copy_for_substr(result, str);

  squash:
    if (len &gt; 0) {
	if (beg == 0) {
	    rb_str_drop_bytes(str, len);
	}
	else {
	    char *sptr = RSTRING_PTR(str);
	    long slen = RSTRING_LEN(str);
	    if (beg + len &gt; slen) /* pathological check */
		len = slen - beg;
	    memmove(sptr + beg,
		    sptr + beg + len,
		    slen - (beg + len));
	    slen -= len;
	    STR_SET_LEN(str, slen);
	    TERM_FILL(&amp;sptr[slen], TERM_LEN(str));
	}
    }
    return result;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>split</strong>(pattern = nil, [limit])  &#x21d2; <a href="Array.html" title="Array (class)">Array</a> </span>
      <span class='overload'>#<strong>split</strong>(pattern = nil, [limit]) {|sub| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Divides <em>str</em> into substrings based on a delimiter, returning an array of these substrings.</p>

<p>If <em>pattern</em> is a <code>String</code>, then its contents are used as the delimiter when splitting <em>str</em>. If <em>pattern</em> is a single space, <em>str</em> is split on whitespace, with leading and trailing whitespace and runs of contiguous whitespace characters ignored.</p>

<p>If <em>pattern</em> is a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>, <em>str</em> is divided where the pattern matches. Whenever the pattern matches a zero-length string, <em>str</em> is split into individual characters. If <em>pattern</em> contains groups, the respective matches will be returned in the array as well.</p>

<p>If <em>pattern</em> is <code>nil</code>, the value of <code>$;</code> is used. If <code>$;</code> is <code>nil</code> (which is the default), <em>str</em> is split on whitespace as if ‘ ’ were specified.</p>

<p>If the <em>limit</em> parameter is omitted, trailing null fields are suppressed. If <em>limit</em> is a positive number, at most that number of split substrings will be returned (captured groups will be returned as well, but are not counted towards the limit). If <em>limit</em> is <code>1</code>, the entire string is returned as the only entry in an array. If negative, there is no limit to the number of fields returned, and trailing null fields are not suppressed.</p>

<p>When the input <code>str</code> is empty an empty <a href="Array.html" title="Array (class)"><code>::Array</code></a> is returned as the string is considered to have no fields to split.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> now&#39;s  the time </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>       <span class='comment'>#=&gt; [&quot;now&#39;s&quot;, &quot;the&quot;, &quot;time&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> now&#39;s  the time </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'>#=&gt; [&quot;now&#39;s&quot;, &quot;the&quot;, &quot;time&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> now&#39;s  the time</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> </span><span class='regexp_end'>/</span></span>)   <span class='comment'>#=&gt; [&quot;&quot;, &quot;now&#39;s&quot;, &quot;&quot;, &quot;the&quot;, &quot;time&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1, 2.34,56, 7</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>,\s*</span><span class='regexp_end'>}</span></span>) <span class='comment'>#=&gt; [&quot;1&quot;, &quot;2.34&quot;, &quot;56&quot;, &quot;7&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span>)               <span class='comment'>#=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>3</span>)            <span class='comment'>#=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;llo&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hi mom</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>\s*</span><span class='regexp_end'>}</span></span>)         <span class='comment'>#=&gt; [&quot;h&quot;, &quot;i&quot;, &quot;m&quot;, &quot;o&quot;, &quot;m&quot;]
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mellow yellow</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ello</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; [&quot;m&quot;, &quot;w y&quot;, &quot;w&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1,2,,3,4,,</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span>)         <span class='comment'>#=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3&quot;, &quot;4&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1,2,,3,4,,</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span>)      <span class='comment'>#=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3,4,,&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1,2,,3,4,,</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>4</span>)     <span class='comment'>#=&gt; [&quot;1&quot;, &quot;2&quot;, &quot;&quot;, &quot;3&quot;, &quot;4&quot;, &quot;&quot;, &quot;&quot;]
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1:2:3</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(:)()()</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span>)     <span class='comment'>#=&gt; [&quot;1&quot;, &quot;:&quot;, &quot;&quot;, &quot;&quot;, &quot;2:3&quot;]
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>)               <span class='comment'>#=&gt; []</span></code></pre>

<p>If a block is given, invoke the block with each split substring.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L8192-L8409'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='8192' data-end='8409'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 8192</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_split_m(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    VALUE spat;
    VALUE limit;
    split_type_t split_type;
    long beg, end, i = 0, empty_count = -1;
    int lim = 0;
    VALUE result, tmp;

    result = rb_block_given_p() ? Qfalse : Qnil;
    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;spat, &amp;limit) == 2) {
	lim = NUM2INT(limit);
	if (lim &lt;= 0) limit = Qnil;
	else if (lim == 1) {
	    if (RSTRING_LEN(str) == 0)
                return result ? rb_ary_new2(0) : str;
            tmp = str_duplicate(rb_cString, str);
	    if (!result) {
		rb_yield(tmp);
                return str;
	    }
	    return rb_ary_new3(1, tmp);
	}
	i = 1;
    }
    if (NIL_P(limit) &amp;&amp; !lim) empty_count = 0;

    enc = STR_ENC_GET(str);
    split_type = SPLIT_TYPE_REGEXP;
    if (!NIL_P(spat)) {
	spat = get_pat_quoted(spat, 0);
    }
    else if (NIL_P(spat = rb_fs)) {
	split_type = SPLIT_TYPE_AWK;
    }
    else if (!(spat = rb_fs_check(spat))) {
	rb_raise(rb_eTypeError, &quot;value of $; must be String or Regexp&quot;);
    }
    else {
        rb_category_warn(RB_WARN_CATEGORY_DEPRECATED, &quot;$; is set to non-nil value&quot;);
    }
    if (split_type != SPLIT_TYPE_AWK) {
        switch (BUILTIN_TYPE(spat)) {
          case T_REGEXP:
            rb_reg_options(spat); /* check if uninitialized */
            tmp = RREGEXP_SRC(spat);
            split_type = literal_split_pattern(tmp, SPLIT_TYPE_REGEXP);
            if (split_type == SPLIT_TYPE_AWK) {
                spat = tmp;
                split_type = SPLIT_TYPE_STRING;
            }
            break;

          case T_STRING:
	    mustnot_broken(spat);
            split_type = literal_split_pattern(spat, SPLIT_TYPE_STRING);
            break;

          default:
            UNREACHABLE_RETURN(Qnil);
	}
    }

#define SPLIT_STR(beg, len) (empty_count = split_string(result, str, beg, len, empty_count))

    if (result) result = rb_ary_new();
    beg = 0;
    char *ptr = RSTRING_PTR(str);
    char *eptr = RSTRING_END(str);
    if (split_type == SPLIT_TYPE_AWK) {
	char *bptr = ptr;
	int skip = 1;
	unsigned int c;

	end = beg;
	if (is_ascii_string(str)) {
	    while (ptr &lt; eptr) {
		c = (unsigned char)*ptr++;
		if (skip) {
		    if (ascii_isspace(c)) {
			beg = ptr - bptr;
		    }
		    else {
			end = ptr - bptr;
			skip = 0;
			if (!NIL_P(limit) &amp;&amp; lim &lt;= i) break;
		    }
		}
		else if (ascii_isspace(c)) {
		    SPLIT_STR(beg, end-beg);
		    skip = 1;
		    beg = ptr - bptr;
		    if (!NIL_P(limit)) ++i;
		}
		else {
		    end = ptr - bptr;
		}
	    }
	}
	else {
	    while (ptr &lt; eptr) {
		int n;

		c = rb_enc_codepoint_len(ptr, eptr, &amp;n, enc);
		ptr += n;
		if (skip) {
		    if (rb_isspace(c)) {
			beg = ptr - bptr;
		    }
		    else {
			end = ptr - bptr;
			skip = 0;
			if (!NIL_P(limit) &amp;&amp; lim &lt;= i) break;
		    }
		}
		else if (rb_isspace(c)) {
		    SPLIT_STR(beg, end-beg);
		    skip = 1;
		    beg = ptr - bptr;
		    if (!NIL_P(limit)) ++i;
		}
		else {
		    end = ptr - bptr;
		}
	    }
	}
    }
    else if (split_type == SPLIT_TYPE_STRING) {
	char *str_start = ptr;
	char *substr_start = ptr;
	char *sptr = RSTRING_PTR(spat);
	long slen = RSTRING_LEN(spat);

	mustnot_broken(str);
	enc = rb_enc_check(str, spat);
	while (ptr &lt; eptr &amp;&amp;
	       (end = rb_memsearch(sptr, slen, ptr, eptr - ptr, enc)) &gt;= 0) {
	    /* Check we are at the start of a char */
	    char *t = rb_enc_right_char_head(ptr, ptr + end, eptr, enc);
	    if (t != ptr + end) {
		ptr = t;
		continue;
	    }
	    SPLIT_STR(substr_start - str_start, (ptr+end) - substr_start);
	    ptr += end + slen;
	    substr_start = ptr;
	    if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
	}
	beg = ptr - str_start;
    }
    else if (split_type == SPLIT_TYPE_CHARS) {
        char *str_start = ptr;
        int n;

        mustnot_broken(str);
        enc = rb_enc_get(str);
        while (ptr &lt; eptr &amp;&amp;
               (n = rb_enc_precise_mbclen(ptr, eptr, enc)) &gt; 0) {
            SPLIT_STR(ptr - str_start, n);
            ptr += n;
            if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
        }
        beg = ptr - str_start;
    }
    else {
	long len = RSTRING_LEN(str);
	long start = beg;
	long idx;
	int last_null = 0;
	struct re_registers *regs;
        VALUE match = 0;

        for (; rb_reg_search(spat, str, start, 0) &gt;= 0;
             (match ? (rb_match_unbusy(match), rb_backref_set(match)) : (void)0)) {
            match = rb_backref_get();
            if (!result) rb_match_busy(match);
            regs = RMATCH_REGS(match);
            end = BEG(0);
	    if (start == end &amp;&amp; BEG(0) == END(0)) {
		if (!ptr) {
		    SPLIT_STR(0, 0);
		    break;
		}
		else if (last_null == 1) {
                    SPLIT_STR(beg, rb_enc_fast_mbclen(ptr+beg, eptr, enc));
		    beg = start;
		}
		else {
                    if (start == len)
                        start++;
                    else
                        start += rb_enc_fast_mbclen(ptr+start,eptr,enc);
		    last_null = 1;
		    continue;
		}
	    }
	    else {
		SPLIT_STR(beg, end-beg);
		beg = start = END(0);
	    }
	    last_null = 0;

	    for (idx=1; idx &lt; regs-&gt;num_regs; idx++) {
		if (BEG(idx) == -1) continue;
		SPLIT_STR(BEG(idx), END(idx)-BEG(idx));
	    }
	    if (!NIL_P(limit) &amp;&amp; lim &lt;= ++i) break;
	}
        if (match) rb_match_unbusy(match);
    }
    if (RSTRING_LEN(str) &gt; 0 &amp;&amp; (!NIL_P(limit) || RSTRING_LEN(str) &gt; beg || lim &lt; 0)) {
	SPLIT_STR(beg, RSTRING_LEN(str)-beg);
    }

    return result ? result : str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="squeeze-instance_method">
  <h3 class='signature '>
    #<strong>squeeze</strong>([other_str]*)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Builds a set of characters from the <em>other_str</em> parameter(s) using the procedure described for <a href="#count-instance_method" title="String#count (method)">#count</a>. Returns a new string where runs of the same character that occur in this set are replaced by a single character. If no arguments are given, all runs of identical characters are replaced by a single character.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yellow moon</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_squeeze'>squeeze</span>                  <span class='comment'>#=&gt; &quot;yelow mon&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  now   is  the</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_squeeze'>squeeze</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)         <span class='comment'>#=&gt; &quot; now is the&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>putters shoot balls</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_squeeze'>squeeze</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m-z</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;puters shot balls&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7905-L7911'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7905' data-end='7911'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7905</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_squeeze(int argc, VALUE *argv, VALUE str)
{
    str = str_duplicate(rb_cString, str);
    rb_str_squeeze_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="squeeze!-instance_method">
  <h3 class='signature '>
    #<strong>squeeze!</strong>([other_str]*)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Squeezes <em>str</em> in place, returning either <em>str</em>, or <code>nil</code> if no changes were made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7814-L7887'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7814' data-end='7887'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7814</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_squeeze_bang(int argc, VALUE *argv, VALUE str)
{
    char squeez[TR_TABLE_SIZE];
    rb_encoding *enc = 0;
    VALUE del = 0, nodel = 0;
    unsigned char *s, *send, *t;
    int i, modify = 0;
    int ascompat, singlebyte = single_byte_optimizable(str);
    unsigned int save;

    if (argc == 0) {
	enc = STR_ENC_GET(str);
    }
    else {
	for (i=0; i&lt;argc; i++) {
	    VALUE s = argv[i];

	    StringValue(s);
	    enc = rb_enc_check(str, s);
	    if (singlebyte &amp;&amp; !single_byte_optimizable(s))
		singlebyte = 0;
	    tr_setup_table(s, squeez, i==0, &amp;del, &amp;nodel, enc);
	}
    }

    str_modify_keep_cr(str);
    s = t = (unsigned char *)RSTRING_PTR(str);
    if (!s || RSTRING_LEN(str) == 0) return Qnil;
    send = (unsigned char *)RSTRING_END(str);
    save = -1;
    ascompat = rb_enc_asciicompat(enc);

    if (singlebyte) {
        while (s &lt; send) {
            unsigned int c = *s++;
	    if (c != save || (argc &gt; 0 &amp;&amp; !squeez[c])) {
	        *t++ = save = c;
	    }
	}
    }
    else {
	while (s &lt; send) {
	    unsigned int c;
	    int clen;

            if (ascompat &amp;&amp; (c = *s) &lt; 0x80) {
		if (c != save || (argc &gt; 0 &amp;&amp; !squeez[c])) {
		    *t++ = save = c;
		}
		s++;
	    }
	    else {
                c = rb_enc_codepoint_len((char *)s, (char *)send, &amp;clen, enc);

		if (c != save || (argc &gt; 0 &amp;&amp; !tr_find(c, squeez, del, nodel))) {
		    if (t != s) rb_enc_mbcput(c, t, enc);
		    save = c;
		    t += clen;
		}
		s += clen;
	    }
	}
    }

    TERM_FILL((char *)t, TERM_LEN(str));
    if ((char *)t - RSTRING_PTR(str) != RSTRING_LEN(str)) {
        STR_SET_LEN(str, (char *)t - RSTRING_PTR(str));
	modify = 1;
    }

    if (modify) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start_with?-instance_method">
  <h3 class='signature '>
    #<strong>start_with?</strong>([prefixes]+)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if <code>str</code> starts with one of the <code>prefixes</code> given. Each of the <code>prefixes</code> should be a <code>String</code> or a <a href="Regexp.html" title="Regexp (class)"><code>::Regexp</code></a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hell</span><span class='tstring_end'>&quot;</span></span>)               <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>H</span><span class='regexp_end'>/i</span></span>)                 <span class='comment'>#=&gt; true
</span>
<span class='comment'># returns true if one of the prefixes matches.
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hell</span><span class='tstring_end'>&quot;</span></span>)     <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>heaven</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>paradise</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10189-L10209'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10189' data-end='10209'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10189</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_start_with(int argc, VALUE *argv, VALUE str)
{
    int i;

    for (i=0; i&lt;argc; i++) {
	VALUE tmp = argv[i];
	if (RB_TYPE_P(tmp, T_REGEXP)) {
	    if (rb_reg_start_with_p(tmp, str))
		return Qtrue;
	}
	else {
	    StringValue(tmp);
	    rb_enc_check(str, tmp);
	    if (RSTRING_LEN(str) &lt; RSTRING_LEN(tmp)) continue;
	    if (memcmp(RSTRING_PTR(str), RSTRING_PTR(tmp), RSTRING_LEN(tmp)) == 0)
		return Qtrue;
	}
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strip-instance_method">
  <h3 class='signature '>
    #<strong>strip</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of the receiver with leading and trailing whitespace removed.</p>

<p>Whitespace is defined as any of the following characters: null, horizontal tab, line feed, vertical tab, form feed, carriage return, space.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    hello    </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_strip'>strip</span>   <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\tgoodbye\r\n</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_strip'>strip</span>   <span class='comment'>#=&gt; &quot;goodbye&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\x00\t\n\v\f\r </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_strip'>strip</span> <span class='comment'>#=&gt; &quot;&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_strip'>strip</span>           <span class='comment'>#=&gt; &quot;hello&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9539-L9552'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9539' data-end='9552'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9539</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_strip(VALUE str)
{
    char *start;
    long olen, loffset, roffset;
    rb_encoding *enc = STR_ENC_GET(str);

    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    roffset = rstrip_offset(str, start+loffset, start+olen, enc);

    if (loffset &lt;= 0 &amp;&amp; roffset &lt;= 0) return str_duplicate(rb_cString, str);
    return rb_str_subseq(str, loffset, olen-loffset-roffset);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="strip!-instance_method">
  <h3 class='signature '>
    #<strong>strip!</strong>  &#x21d2; <code>self</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes leading and trailing whitespace from the receiver. Returns the altered receiver, or <code>nil</code> if there was no change.</p>

<p>Refer to <a href="#strip-instance_method" title="String#strip (method)">#strip</a> for the definition of whitespace.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  hello  </span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_strip!'>strip!</span>  <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_strip!'>strip!</span>      <span class='comment'>#=&gt; nil</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9495-L9521'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9495' data-end='9521'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9495</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_strip_bang(VALUE str)
{
    char *start;
    long olen, loffset, roffset;
    rb_encoding *enc;

    str_modify_keep_cr(str);
    enc = STR_ENC_GET(str);
    RSTRING_GETMEM(str, start, olen);
    loffset = lstrip_offset(str, start, start+olen, enc);
    roffset = rstrip_offset(str, start+loffset, start+olen, enc);

    if (loffset &gt; 0 || roffset &gt; 0) {
	long len = olen-roffset;
	if (loffset &gt; 0) {
	    len -= loffset;
	    memmove(start, start + loffset, len);
	}
	STR_SET_LEN(str, len);
#if !SHARABLE_MIDDLE_SUBSTRING
	TERM_FILL(start+len, rb_enc_mbminlen(enc));
#endif
	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sub</strong>(pattern, replacement)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>sub</strong>(pattern, hash)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>sub</strong>(pattern) {|match| ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>str</code> with the <em>first</em> occurrence of <code>pattern</code> replaced by the second argument. The <code>pattern</code> is typically a Regexp; if given as a <code>String</code>, any regular expression metacharacters it contains will be interpreted literally, e.g. <code>\d</code> will match a backslash followed by ‘d’, instead of a digit.</p>

<p>If <code>replacement</code> is a <code>String</code> it will be substituted for the matched text. It may contain back-references to the pattern’s capture groups of the form <code>\d</code>, where <em>d</em> is a group number, or <code>\k&lt;n&gt;</code>, where <em>n</em> is a group name. Similarly, <code>\&amp;</code>, <code>\&#39;</code>, <code>\`</code>, and <code>+</code> correspond to special variables, <code>$&amp;</code>, <code>$&#39;</code>, <code>$`</code>, and <code>$+</code>, respectively. (See regexp.rdoc for details.) <code>\0</code> is the same as <code>\&amp;</code>. <code>\\</code> is interpreted as an escape, i.e., a single backslash. Note that, within <code>replacement</code> the special match variables, such as <code>$&amp;</code>, will not refer to the current match.</p>

<p>If the second argument is a <a href="Hash.html" title="Hash (class)"><code>::Hash</code></a>, and the matched text is one of its keys, the corresponding value is the replacement string.</p>

<p>In the block form, the current match string is passed in as a parameter, and variables such as <code>$1</code>, <code>$2</code>, <code>$`</code>, <code>$&amp;</code>, and <code>$&#39;</code> will be set appropriately. (See regexp.rdoc for details.) The value returned by the block will be substituted for the match on each call.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>)                  <span class='comment'>#=&gt; &quot;h*llo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;\1&gt;</span><span class='tstring_end'>&#39;</span></span>)             <span class='comment'>#=&gt; &quot;h&lt;e&gt;llo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.</span><span class='regexp_end'>/</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_ord'><a href="#ord-instance_method" title="String#ord (method)">ord</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="String#to_s (method)">to_s</a></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> }     <span class='comment'>#=&gt; &quot;104 ello&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;foo&gt;[aeiou])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*\k&lt;foo&gt;*</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'>#=&gt; &quot;h*e*llo&quot;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Is SHELL your preferred shell?</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[[:upper:]]{2,}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'><a href="ENV.html" title="ENV (class)">ENV</a></span>)
 <span class='comment'>#=&gt; &quot;Is /bin/bash your preferred shell?&quot;</span></code></pre>

<p>Note that a string literal consumes backslashes. (See syntax/literals.rdoc for details about string literals.) Back-references are typically preceded by an additional backslash. For example, if you want to write a back-reference <code>\&amp;</code> in <code>replacement</code> with a double-quoted string literal, you need to write: <code>&quot;..\\&amp;..&quot;</code>. If you want to write a non-back-reference string <code>\&amp;</code> in <code>replacement</code>, you need first to escape the backslash to prevent this method from interpreting it as a back-reference, and then you need to escape the backslashes again to prevent a string literal from consuming them: <code>&quot;..\\\\&amp;..&quot;</code>. You may want to use the block form to avoid a lot of backslashes.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5401-L5407'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5401' data-end='5407'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5401</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sub(int argc, VALUE *argv, VALUE str)
{
    str = str_duplicate(rb_cString, str);
    rb_str_sub_bang(argc, argv, str);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sub!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>sub!</strong>(pattern, replacement)  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>sub!</strong>(pattern) {|match| ... } &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs the same substitution as <a href="#sub-instance_method" title="String#sub (method)">#sub</a> in-place.</p>

<p>Returns <code>str</code> if a substitution was performed or <code>nil</code> if no substitution was performed.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L5236-L5342'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5236' data-end='5342'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 5236</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sub_bang(int argc, VALUE *argv, VALUE str)
{
    VALUE pat, repl, hash = Qnil;
    int iter = 0;
    long plen;
    int min_arity = rb_block_given_p() ? 1 : 2;
    long beg;

    rb_check_arity(argc, min_arity, 2);
    if (argc == 1) {
	iter = 1;
    }
    else {
	repl = argv[1];
	hash = rb_check_hash_type(argv[1]);
	if (NIL_P(hash)) {
	    StringValue(repl);
	}
    }

    pat = get_pat_quoted(argv[0], 1);

    str_modifiable(str);
    beg = rb_pat_search(pat, str, 0, 1);
    if (beg &gt;= 0) {
	rb_encoding *enc;
	int cr = ENC_CODERANGE(str);
	long beg0, end0;
	VALUE match, match0 = Qnil;
	struct re_registers *regs;
	char *p, *rp;
	long len, rlen;

	match = rb_backref_get();
	regs = RMATCH_REGS(match);
	if (RB_TYPE_P(pat, T_STRING)) {
	    beg0 = beg;
	    end0 = beg0 + RSTRING_LEN(pat);
	    match0 = pat;
	}
	else {
	    beg0 = BEG(0);
	    end0 = END(0);
	    if (iter) match0 = rb_reg_nth_match(0, match);
	}

	if (iter || !NIL_P(hash)) {
	    p = RSTRING_PTR(str); len = RSTRING_LEN(str);

            if (iter) {
                repl = rb_obj_as_string(rb_yield(match0));
            }
            else {
                repl = rb_hash_aref(hash, rb_str_subseq(str, beg0, end0 - beg0));
                repl = rb_obj_as_string(repl);
            }
	    str_mod_check(str, p, len);
	    rb_check_frozen(str);
	}
	else {
	    repl = rb_reg_regsub(repl, str, regs, RB_TYPE_P(pat, T_STRING) ? Qnil : pat);
	}

        enc = rb_enc_compatible(str, repl);
        if (!enc) {
            rb_encoding *str_enc = STR_ENC_GET(str);
	    p = RSTRING_PTR(str); len = RSTRING_LEN(str);
	    if (coderange_scan(p, beg0, str_enc) != ENC_CODERANGE_7BIT ||
		coderange_scan(p+end0, len-end0, str_enc) != ENC_CODERANGE_7BIT) {
                rb_raise(rb_eEncCompatError, &quot;incompatible character encodings: %s and %s&quot;,
			 rb_enc_name(str_enc),
			 rb_enc_name(STR_ENC_GET(repl)));
            }
            enc = STR_ENC_GET(repl);
        }
	rb_str_modify(str);
	rb_enc_associate(str, enc);
	if (ENC_CODERANGE_UNKNOWN &lt; cr &amp;&amp; cr &lt; ENC_CODERANGE_BROKEN) {
	    int cr2 = ENC_CODERANGE(repl);
            if (cr2 == ENC_CODERANGE_BROKEN ||
                (cr == ENC_CODERANGE_VALID &amp;&amp; cr2 == ENC_CODERANGE_7BIT))
                cr = ENC_CODERANGE_UNKNOWN;
            else
                cr = cr2;
	}
	plen = end0 - beg0;
        rlen = RSTRING_LEN(repl);
	len = RSTRING_LEN(str);
	if (rlen &gt; plen) {
	    RESIZE_CAPA(str, len + rlen - plen);
	}
	p = RSTRING_PTR(str);
	if (rlen != plen) {
	    memmove(p + beg0 + rlen, p + beg0 + plen, len - beg0 - plen);
	}
        rp = RSTRING_PTR(repl);
        memmove(p + beg0, rp, rlen);
	len += rlen - plen;
	STR_SET_LEN(str, len);
	TERM_FILL(&amp;RSTRING_PTR(str)[len], TERM_LEN(str));
	ENC_CODERANGE_SET(str, cr);

	return str;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="succ-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>next</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>succ</strong>  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#next-instance_method" title="String#next (method)">#next</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="succ!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>next!</strong>  &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>succ!</strong>  &#x21d2; <code>self</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#next!-instance_method" title="String#next! (method)">#next!</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="sum-instance_method">
  <h3 class='signature '>
    #<strong>sum</strong>(n = 16)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a basic <em>n</em>-bit checksum of the characters in <em>str</em>, where <em>n</em> is the optional <a href="Integer.html" title="Integer (class)"><code>::Integer</code></a> parameter, defaulting to 16. The result is simply the sum of the binary value of each byte in <em>str</em> modulo <code>2**n - 1</code>. This is not a particularly good checksum.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L9863-L9914'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9863' data-end='9914'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 9863</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_sum(int argc, VALUE *argv, VALUE str)
{
    int bits = 16;
    char *ptr, *p, *pend;
    long len;
    VALUE sum = INT2FIX(0);
    unsigned long sum0 = 0;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; (bits = NUM2INT(argv[0])) &lt; 0) {
        bits = 0;
    }
    ptr = p = RSTRING_PTR(str);
    len = RSTRING_LEN(str);
    pend = p + len;

    while (p &lt; pend) {
        if (FIXNUM_MAX - UCHAR_MAX &lt; sum0) {
            sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
            str_mod_check(str, ptr, len);
            sum0 = 0;
        }
        sum0 += (unsigned char)*p;
        p++;
    }

    if (bits == 0) {
        if (sum0) {
            sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
        }
    }
    else {
        if (sum == INT2FIX(0)) {
            if (bits &lt; (int)sizeof(long)*CHAR_BIT) {
                sum0 &amp;= (((unsigned long)1)&lt;&lt;bits)-1;
            }
            sum = LONG2FIX(sum0);
        }
        else {
            VALUE mod;

            if (sum0) {
                sum = rb_funcall(sum, &#39;+&#39;, 1, LONG2FIX(sum0));
            }

            mod = rb_funcall(INT2FIX(1), idLTLT, 1, INT2FIX(bits));
            mod = rb_funcall(mod, &#39;-&#39;, 1, INT2FIX(1));
            sum = rb_funcall(sum, &#39;&amp;&#39;, 1, mod);
        }
    }
    return sum;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="swapcase-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>swapcase</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>swapcase</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with uppercase alphabetic characters converted to lowercase and lowercase characters converted to uppercase.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_swapcase'>swapcase</span>          <span class='comment'>#=&gt; &quot;hELLO&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cYbEr_PuNk11</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_swapcase'>swapcase</span>   <span class='comment'>#=&gt; &quot;CyBeR_pUnK11&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7235-L7253'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7235' data-end='7253'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7235</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_swapcase(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_DOWNCASE;
    VALUE ret;

    flags = check_case_options(argc, argv, flags);
    enc = str_true_enc(str);
    if (RSTRING_LEN(str) == 0 || !RSTRING_PTR(str)) return str_duplicate(rb_cString, str);
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY) {
        ret = rb_str_new(0, RSTRING_LEN(str));
        rb_str_ascii_casemap(str, ret, &amp;flags, enc);
    }
    else {
        ret = rb_str_casemap(str, &amp;flags, enc);
    }
    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="swapcase!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>swapcase!</strong>  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>swapcase!</strong>([options])  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Equivalent to <a href="#swapcase-instance_method" title="String#swapcase (method)">#swapcase</a>, but modifies the receiver in place, returning <em>str</em>, or <code>nil</code> if no changes were made.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different encodings.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7202-L7218'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7202' data-end='7218'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7202</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_swapcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE | ONIGENC_CASE_DOWNCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = str_true_enc(str);
    if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, str, &amp;flags, enc);
    else
	str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_c-instance_method">
  <h3 class='signature '>
    #<strong>to_c</strong>  &#x21d2; <a href="Complex.html" title="Complex (class)">Complex</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a complex which denotes the string form.  The parser ignores leading whitespaces and trailing garbage.  Any digit sequences can be separated by an underscore.  Returns zero for null or garbage string.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>9</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>           <span class='comment'>#=&gt; (9+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.5</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>         <span class='comment'>#=&gt; (2.5+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.5/1</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>       <span class='comment'>#=&gt; ((5/2)+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-3/2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>        <span class='comment'>#=&gt; ((-3/2)+0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>          <span class='comment'>#=&gt; (0-1i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>45i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>         <span class='comment'>#=&gt; (0+45i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3-4i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>        <span class='comment'>#=&gt; (3-4i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-4e2-4e-2i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>  <span class='comment'>#=&gt; (-400.0-0.04i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-0.0-0.0i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>   <span class='comment'>#=&gt; (-0.0-0.0i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1/2+3/4i</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>    <span class='comment'>#=&gt; ((1/2)+(3/4)*i)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_c'>to_c</span>        <span class='comment'>#=&gt; (0+0i)</span></code></pre>

<p>See <a href="Kernel.html#Complex-class_method" title="Kernel.Complex (method)">Kernel.Complex</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/complex.c#L2038-L2060'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2038' data-end='2060'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'complex.c', line 2038</span></pre>
<pre class='code cpp'>

static VALUE
string_to_c(VALUE self)
{
    char *s;
    VALUE num;

    rb_must_asciicompat(self);

    s = RSTRING_PTR(self);

    if (s &amp;&amp; s[RSTRING_LEN(self)]) {
	rb_str_modify(self);
	s = RSTRING_PTR(self);
	s[RSTRING_LEN(self)] = &#39;\0&#39;;
    }

    if (!s)
	s = (char *)&quot;&quot;;

    (void)parse_comp(s, 0, &amp;num);

    return num;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_f-instance_method">
  <h3 class='signature '>
    #<strong>to_f</strong>  &#x21d2; <a href="Float.html" title="Float (class)">Float</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting leading characters in <em>str</em> as a floating point number. Extraneous characters past the end of a valid number are ignored. If there is not a valid number at the start of <em>str</em>, <code>0.0</code> is returned. This method never raises an exception.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123.45e1</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_f'>to_f</span>        <span class='comment'>#=&gt; 1234.5
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>45.67 degrees</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_f'>to_f</span>   <span class='comment'>#=&gt; 45.67
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>thx1138</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_f'>to_f</span>         <span class='comment'>#=&gt; 0.0</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L6043-L6047'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6043' data-end='6047'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6043</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_f(VALUE str)
{
    return DBL2NUM(rb_str_to_dbl(str, FALSE));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_i-instance_method">
  <h3 class='signature '>
    #<strong>to_i</strong>(base = 10)  &#x21d2; <a href="Integer.html" title="Integer (class)">Integer</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting leading characters in <em>str</em> as an integer base <em>base</em> (between 2 and 36). Extraneous characters past the end of a valid number are ignored. If there is not a valid number at the start of <em>str</em>, <code>0</code> is returned. This method never raises an exception when <em>base</em> is valid.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>12345</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>             <span class='comment'>#=&gt; 12345
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>99 red balloons</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>   <span class='comment'>#=&gt; 99
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0a</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>                <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0a</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>16</span>)            <span class='comment'>#=&gt; 10
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>             <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1100101</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>2</span>)        <span class='comment'>#=&gt; 101
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1100101</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>8</span>)        <span class='comment'>#=&gt; 294977
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1100101</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>10</span>)       <span class='comment'>#=&gt; 1100101
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1100101</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_i'>to_i</span>(<span class='int'>16</span>)       <span class='comment'>#=&gt; 17826049</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L6017-L6026'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6017' data-end='6026'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6017</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_i(int argc, VALUE *argv, VALUE str)
{
    int base = 10;

    if (rb_check_arity(argc, 0, 1) &amp;&amp; (base = NUM2INT(argv[0])) &lt; 0) {
	rb_raise(rb_eArgError, &quot;invalid radix %d&quot;, base);
    }
    return rb_str_to_inum(str, base, FALSE);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_r-instance_method">
  <h3 class='signature '>
    #<strong>to_r</strong>  &#x21d2; <a href="Rational.html" title="Rational (class)">Rational</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the result of interpreting leading characters in <code>str</code> as a rational.  Leading whitespace and extraneous characters past the end of a valid number are ignored. Digit sequences can be separated by an underscore. If there is not a valid number at the start of <code>str</code>, zero is returned.  This method never raises an exception.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  2  </span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>       <span class='comment'>#=&gt; (2/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>300/2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>       <span class='comment'>#=&gt; (150/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>        <span class='comment'>#=&gt; (-46/5)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-9.2e2</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>      <span class='comment'>#=&gt; (-920/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1_234_567</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>   <span class='comment'>#=&gt; (1234567/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>21 June 09</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>  <span class='comment'>#=&gt; (21/1)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>21/06/09</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>    <span class='comment'>#=&gt; (7/2)
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BWV 1079</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span>    <span class='comment'>#=&gt; (0/1)</span></code></pre>

<p>NOTE: “0.3”.to_r isn’t the same as 0.3.to_r.  The former is equivalent to “3/10”.to_r, but the latter isn’t so.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.3</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_r'>to_r</span> <span class='op'>==</span> <span class='int'>3</span><span class='op'>/</span><span class='rational'>10r</span>  <span class='comment'>#=&gt; true
</span><span class='float'>0.3</span>.<span class='id identifier rubyid_to_r'>to_r</span>   <span class='op'>==</span> <span class='int'>3</span><span class='op'>/</span><span class='rational'>10r</span>  <span class='comment'>#=&gt; false</span></code></pre>

<p>See also <a href="Kernel.html#Rational-class_method" title="Kernel.Rational (method)">Kernel.Rational</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/rational.c#L2534-L2546'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2534' data-end='2546'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rational.c', line 2534</span></pre>
<pre class='code cpp'>

static VALUE
string_to_r(VALUE self)
{
    VALUE num;

    rb_must_asciicompat(self);

    num = parse_rat(RSTRING_PTR(self), RSTRING_END(self), 0, TRUE);

    if (RB_FLOAT_TYPE_P(num) &amp;&amp; !FLOAT_ZERO_P(num))
	rb_raise(rb_eFloatDomainError, &quot;Infinity&quot;);
    return num;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>to_str</strong>  &#x21d2; <code>String</code> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#to_str</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>self</code>.</p>

<p>If called on a subclass of <code>String</code>, converts the receiver to a <code>String</code> object.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L6060-L6067'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6060' data-end='6067'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6060</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_to_s(VALUE str)
{
    if (rb_obj_class(str) != rb_cString) {
	return str_duplicate(rb_cString, str);
    }
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_str-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>to_str</strong>  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_s-instance_method" title="String#to_s (method)">#to_s</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="to_sym-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>intern</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
      <span class='overload'>#<strong>to_sym</strong>  &#x21d2; <a href="Symbol.html" title="Symbol (class)">Symbol</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#intern-instance_method" title="String#intern (method)">#intern</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="tr-instance_method">
  <h3 class='signature '>
    #<strong>tr</strong>(from_str, to_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <code>str</code> with the characters in <code>from_str</code> replaced by the corresponding characters in <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>.  If <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a> is shorter than <code>from_str</code>, it is padded with its last character in order to maintain the correspondence.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ip</span><span class='tstring_end'>&#39;</span></span>)      <span class='comment'>#=&gt; &quot;hippo&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'>#=&gt; &quot;h*ll*&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AA*</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'>#=&gt; &quot;hAll*&quot;</span></code></pre>

<p>Both strings may use the <code>c1-c2</code> notation to denote ranges of characters, and <code>from_str</code> may start with a <code>^</code>, which denotes all characters except those listed.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a-y</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b-z</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'>#=&gt; &quot;ifmmp&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>^aeiou</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'>#=&gt; &quot;*e**o&quot;</span></code></pre>

<p>The backslash character <code>\</code> can be used to escape <code>^</code> or <code>-</code> and is otherwise ignored unless it appears at the end of a range or the end of the <code>from_str</code> or <a href="#to_str-instance_method" title="String#to_str (method)">#to_str</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello^world</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\^aeiou</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;h*ll**w*rld&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello-world</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\\-eo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;h*ll**w*rld&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\nworld</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;hello\nworld&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\nworld</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)  <span class='comment'>#=&gt; &quot;hello\r\nwold&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\r\nworld</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\\r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;hello\nworld&quot;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X[&#39;\\b&#39;]</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X\\</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)   <span class='comment'>#=&gt; &quot;[&#39;b&#39;]&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X[&#39;\\b&#39;]</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-\\]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'>#=&gt; &quot;&#39;b&#39;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7617-L7623'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7617' data-end='7623'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7617</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr(VALUE str, VALUE src, VALUE repl)
{
    str = str_duplicate(rb_cString, str);
    tr_trans(str, src, repl, 0);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr!-instance_method">
  <h3 class='signature '>
    #<strong>tr!</strong>(from_str, to_str)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Translates <em>str</em> in place, using the same rules as <a href="#tr-instance_method" title="String#tr (method)">#tr</a>. Returns <em>str</em>, or <code>nil</code> if no changes were made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7575-L7579'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7575' data-end='7579'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7575</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_bang(VALUE str, VALUE src, VALUE repl)
{
    return tr_trans(str, src, repl, 0);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr_s-instance_method">
  <h3 class='signature '>
    #<strong>tr_s</strong>(from_str, to_str)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Processes a copy of <em>str</em> as described under <a href="#tr-instance_method" title="String#tr (method)">#tr</a>, then removes duplicate characters in regions that were affected by the translation.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr_s'>tr_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>l</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'>#=&gt; &quot;hero&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr_s'>tr_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'>#=&gt; &quot;h*o&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_tr_s'>tr_s</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>el</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hx</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'>#=&gt; &quot;hhxo&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7942-L7948'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7942' data-end='7948'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7942</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_s(VALUE str, VALUE src, VALUE repl)
{
    str = str_duplicate(rb_cString, str);
    tr_trans(str, src, repl, 1);
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tr_s!-instance_method">
  <h3 class='signature '>
    #<strong>tr_s!</strong>(from_str, to_str)  &#x21d2; <code>String</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs <a href="#tr_s-instance_method" title="String#tr_s (method)">#tr_s</a> processing on <em>str</em> in place, returning <em>str</em>, or <code>nil</code> if no changes were made.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L7922-L7926'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7922' data-end='7926'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 7922</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_tr_s_bang(VALUE str, VALUE src, VALUE repl)
{
    return tr_trans(str, src, repl, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="undump-instance_method">
  <h3 class='signature '>
    #<strong>undump</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an unescaped version of the string. This does the inverse of <a href="#dump-instance_method" title="String#dump (method)">#dump</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;hello \\n &#39;&#39;\&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_undump'>undump</span> <span class='comment'>#=&gt; &quot;hello \n &#39;&#39;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L6600-L6687'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6600' data-end='6687'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6600</span></pre>
<pre class='code cpp'>

static VALUE
str_undump(VALUE str)
{
    const char *s = RSTRING_PTR(str);
    const char *s_end = RSTRING_END(str);
    rb_encoding *enc = rb_enc_get(str);
    VALUE undumped = rb_enc_str_new(s, 0L, enc);
    bool utf8 = false;
    bool binary = false;
    int w;

    rb_must_asciicompat(str);
    if (rb_str_is_ascii_only_p(str) == Qfalse) {
	rb_raise(rb_eRuntimeError, &quot;non-ASCII character detected&quot;);
    }
    if (!str_null_check(str, &amp;w)) {
	rb_raise(rb_eRuntimeError, &quot;string contains null byte&quot;);
    }
    if (RSTRING_LEN(str) &lt; 2) goto invalid_format;
    if (*s != &#39;&quot;&#39;) goto invalid_format;

    /* strip &#39;&quot;&#39; at the start */
    s++;

    for (;;) {
	if (s &gt;= s_end) {
	    rb_raise(rb_eRuntimeError, &quot;unterminated dumped string&quot;);
	}

	if (*s == &#39;&quot;&#39;) {
	    /* epilogue */
	    s++;
	    if (s == s_end) {
		/* ascii compatible dumped string */
		break;
	    }
	    else {
		static const char force_encoding_suffix[] = &quot;.force_encoding(\&quot;&quot;; /* &quot;\&quot;)&quot; */
		static const char dup_suffix[] = &quot;.dup&quot;;
		const char *encname;
		int encidx;
		ptrdiff_t size;

		/* check separately for strings dumped by older versions */
		size = sizeof(dup_suffix) - 1;
		if (s_end - s &gt; size &amp;&amp; memcmp(s, dup_suffix, size) == 0) s += size;

		size = sizeof(force_encoding_suffix) - 1;
		if (s_end - s &lt;= size) goto invalid_format;
		if (memcmp(s, force_encoding_suffix, size) != 0) goto invalid_format;
		s += size;

		if (utf8) {
		    rb_raise(rb_eRuntimeError, &quot;dumped string contained Unicode escape but used force_encoding&quot;);
		}

		encname = s;
		s = memchr(s, &#39;&quot;&#39;, s_end-s);
		size = s - encname;
		if (!s) goto invalid_format;
		if (s_end - s != 2) goto invalid_format;
		if (s[0] != &#39;&quot;&#39; || s[1] != &#39;)&#39;) goto invalid_format;

		encidx = rb_enc_find_index2(encname, (long)size);
		if (encidx &lt; 0) {
		    rb_raise(rb_eRuntimeError, &quot;dumped string has unknown encoding name&quot;);
		}
		rb_enc_associate_index(undumped, encidx);
	    }
	    break;
	}

	if (*s == &#39;\\&#39;) {
	    s++;
	    if (s &gt;= s_end) {
		rb_raise(rb_eRuntimeError, &quot;invalid escape&quot;);
	    }
	    undump_after_backslash(undumped, &amp;s, s_end, &amp;enc, &amp;utf8, &amp;binary);
	}
	else {
	    rb_str_cat(undumped, s++, 1);
	}
    }

    return undumped;
invalid_format:
    rb_raise(rb_eRuntimeError, &quot;invalid dumped string; not wrapped with &#39;\&quot;&#39; nor &#39;\&quot;...\&quot;.force_encoding(\&quot;...\&quot;)&#39; form&quot;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unicode_normalize-instance_method">
  <h3 class='signature '>
    #<strong>unicode_normalize</strong>(form = :nfc)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Unicode Normalization—Returns a normalized form of <code>str</code>, using Unicode normalizations NFC, NFD, NFKC, or NFKD. The normalization form used is determined by <code>form</code>, which can be any of the four values <code>:nfc</code>, <code>:nfd</code>, <code>:nfkc</code>, or <code>:nfkd</code>. The default is <code>:nfc</code>.</p>

<p>If the string is not in a Unicode Encoding, then an <a href="Exception.html" title="Exception (class)"><code>::Exception</code></a> is raised. In this context, ‘Unicode Encoding’ means any of UTF-8, UTF-16BE/LE, and UTF-32BE/LE, as well as GB18030, UCS_2BE, and UCS_4BE. Anything other than UTF-8 is implemented by converting to UTF-8, which makes it slower than UTF-8.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalize'>unicode_normalize</span>        <span class='comment'>#=&gt; &quot;\u00E0&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalize'>unicode_normalize</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nfc'>nfc</span>)  <span class='comment'>#=&gt; &quot;\u00E0&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u00E0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalize'>unicode_normalize</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nfd'>nfd</span>)   <span class='comment'>#=&gt; &quot;a\u0300&quot;
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xE0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_unicode_normalize'>unicode_normalize</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nfd'>nfd</span>)
                                   <span class='comment'>#=&gt; Encoding::CompatibilityError raised</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10926-L10930'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10926' data-end='10930'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10926</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_unicode_normalize(int argc, VALUE *argv, VALUE str)
{
    return unicode_normalize_common(argc, argv, str, id_normalize);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unicode_normalize!-instance_method">
  <h3 class='signature '>
    #<strong>unicode_normalize!</strong>(form = :nfc)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Destructive version of <a href="#unicode_normalize-instance_method" title="String#unicode_normalize (method)">#unicode_normalize</a>, doing Unicode normalization in place.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10939-L10943'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10939' data-end='10943'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10939</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_unicode_normalize_bang(int argc, VALUE *argv, VALUE str)
{
    return rb_str_replace(str, unicode_normalize_common(argc, argv, str, id_normalize));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unicode_normalized?-instance_method">
  <h3 class='signature '>
    #<strong>unicode_normalized?</strong>(form = :nfc)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks whether <code>str</code> is in Unicode normalization form <code>form</code>, which can be any of the four values <code>:nfc</code>, <code>:nfd</code>, <code>:nfkc</code>, or <code>:nfkd</code>. The default is <code>:nfc</code>.</p>

<p>If the string is not in a Unicode Encoding, then an <a href="Exception.html" title="Exception (class)"><code>::Exception</code></a> is raised. For details, see <a href="#unicode_normalize-instance_method" title="String#unicode_normalize (method)">#unicode_normalize</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>        <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\u0300</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nfd'>nfd</span>)  <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u00E0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>         <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u00E0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_nfd'>nfd</span>)   <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xE0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'><a href="#force_encoding-instance_method" title="String#force_encoding (method)">force_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_unicode_normalized?'>unicode_normalized?</span>
                                     <span class='comment'>#=&gt; Encoding::CompatibilityError raised</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L10962-L10966'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10962' data-end='10966'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 10962</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_unicode_normalized_p(int argc, VALUE *argv, VALUE str)
{
    return unicode_normalize_common(argc, argv, str, id_normalized_p);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unpack-instance_method">
  <h3 class='signature '>
    #<strong>unpack</strong>(format)  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Decodes <em>str</em> (which may contain binary data) according to the format string, returning an array of each value extracted. The format string consists of a sequence of single-character directives, summarized in the table at the end of this entry. Each directive may be followed by a number, indicating the number of times to repeat with this directive. An asterisk (“<code>*</code>”) will use up all remaining elements. The directives <code>sSiIlL</code> may each be followed by an underscore (“<code>_</code>”) or exclamation mark (“<code>!</code>”) to use the underlying platform’s native size for the specified type; otherwise, it uses a platform-independent consistent size. Spaces are ignored in the format string. See also <a href="#unpack1-instance_method" title="String#unpack1 (method)">#unpack1</a>,  <a href="Array.html#pack-instance_method" title="Array#pack (method)">Array#pack</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \0\0abc \0\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A6Z6</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'>#=&gt; [&quot;abc&quot;, &quot;abc &quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \0\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a3a3</span><span class='tstring_end'>&#39;</span></span>)           <span class='comment'>#=&gt; [&quot;abc&quot;, &quot; \000\000&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \0abc \0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z*Z*</span><span class='tstring_end'>&#39;</span></span>)       <span class='comment'>#=&gt; [&quot;abc &quot;, &quot;abc &quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aa</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b8B8</span><span class='tstring_end'>&#39;</span></span>)                 <span class='comment'>#=&gt; [&quot;10000110&quot;, &quot;01100001&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>aaa</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h2H2c</span><span class='tstring_end'>&#39;</span></span>)               <span class='comment'>#=&gt; [&quot;16&quot;, &quot;61&quot;, 97]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xfe\xff\xfe\xff</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sS</span><span class='tstring_end'>&#39;</span></span>)     <span class='comment'>#=&gt; [-2, 65534]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>now=20is</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M*</span><span class='tstring_end'>&#39;</span></span>)             <span class='comment'>#=&gt; [&quot;now is&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>whole</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xax2aX2aX1aX2a</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'>#=&gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]</span></code></pre>

<p>This table summarizes the various formats and the Ruby classes returned by each.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span>       <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>Directive</span>     <span class='op'>|</span> <span class='const'>Returns</span> <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='const'>C</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>8</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span> (<span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_char'>char</span>)
<span class='const'>S</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>16</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_uint16_t'>uint16_t</span>)
<span class='const'>L</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>32</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_uint32_t'>uint32_t</span>)
<span class='const'>Q</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>64</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_uint64_t'>uint64_t</span>)
<span class='const'>J</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_pointer'>pointer</span> <span class='id identifier rubyid_width'>width</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_uintptr_t'>uintptr_t</span>)
              <span class='op'>|</span>         <span class='op'>|</span>
<span class='id identifier rubyid_c'>c</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>8</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_signed'>signed</span> (<span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_char'>char</span>)
<span class='id identifier rubyid_s'>s</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>16</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_signed'>signed</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_int16_t'>int16_t</span>)
<span class='id identifier rubyid_l'>l</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>32</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_signed'>signed</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_int32_t'>int32_t</span>)
<span class='id identifier rubyid_q'>q</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>64</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_signed'>signed</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_int64_t'>int64_t</span>)
<span class='id identifier rubyid_j'>j</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_pointer'>pointer</span> <span class='id identifier rubyid_width'>width</span> <span class='id identifier rubyid_signed'>signed</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_intptr_t'>intptr_t</span>)
              <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>S_</span> <span class='id identifier rubyid_S!'>S!</span>         <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='const'>I</span> <span class='const'>I_</span> <span class='id identifier rubyid_I!'>I!</span>       <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_int'>int</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='const'>L_</span> <span class='id identifier rubyid_L!'>L!</span>         <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='const'>Q_</span> <span class='id identifier rubyid_Q!'>Q!</span>         <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_unsigned'>unsigned</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='const'><a href="ArgumentError.html" title="ArgumentError (class)">ArgumentError</a></span>
              <span class='op'>|</span>         <span class='op'>|</span> <span class='kw'>if</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_platform'>platform</span> <span class='id identifier rubyid_has'>has</span> <span class='id identifier rubyid_no'>no</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_type'>type</span>.)
<span class='id identifier rubyid_J!'>J!</span>            <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_uintptr_t'>uintptr_t</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_with'>with</span> <span class='const'>J</span>)
              <span class='op'>|</span>         <span class='op'>|</span>
<span class='id identifier rubyid_s_'>s_</span> <span class='id identifier rubyid_s!'>s!</span>         <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='id identifier rubyid_i'>i</span> <span class='id identifier rubyid_i_'>i_</span> <span class='id identifier rubyid_i!'>i!</span>       <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_int'>int</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='id identifier rubyid_l_'>l_</span> <span class='id identifier rubyid_l!'>l!</span>         <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='id identifier rubyid_q_'>q_</span> <span class='id identifier rubyid_q!'>q!</span>         <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_signed'>signed</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='const'><a href="ArgumentError.html" title="ArgumentError (class)">ArgumentError</a></span>
              <span class='op'>|</span>         <span class='op'>|</span> <span class='kw'>if</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_platform'>platform</span> <span class='id identifier rubyid_has'>has</span> <span class='id identifier rubyid_no'>no</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_long'>long</span> <span class='id identifier rubyid_type'>type</span>.)
<span class='id identifier rubyid_j!'>j!</span>            <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_intptr_t'>intptr_t</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_endian'>endian</span> (<span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_with'>with</span> <span class='id identifier rubyid_j'>j</span>)
              <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>S</span><span class='op'>&gt;</span> <span class='id identifier rubyid_s'>s</span><span class='op'>&gt;</span> <span class='id identifier rubyid_S!'>S!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_s!'>s!</span><span class='op'>&gt;</span> <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_directives'>directives</span> <span class='id identifier rubyid_without'>without</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='id identifier rubyid_except'>except</span>
<span class='const'>L</span><span class='op'>&gt;</span> <span class='id identifier rubyid_l'>l</span><span class='op'>&gt;</span> <span class='id identifier rubyid_L!'>L!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_l!'>l!</span><span class='op'>&gt;</span> <span class='op'>|</span>         <span class='op'>|</span> <span class='id identifier rubyid_big'>big</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='id identifier rubyid_I!'>I!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_i!'>i!</span><span class='op'>&gt;</span>       <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>Q</span><span class='op'>&gt;</span> <span class='id identifier rubyid_q'>q</span><span class='op'>&gt;</span> <span class='id identifier rubyid_Q!'>Q!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_q!'>q!</span><span class='op'>&gt;</span> <span class='op'>|</span>         <span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>S&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>n</span><span class='tstring_end'>&quot;</span></span>
<span class='const'>J</span><span class='op'>&gt;</span> <span class='id identifier rubyid_j'>j</span><span class='op'>&gt;</span> <span class='id identifier rubyid_J!'>J!</span><span class='op'>&gt;</span> <span class='id identifier rubyid_j!'>j!</span><span class='op'>&gt;</span> <span class='op'>|</span>         <span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>N</span><span class='tstring_end'>&quot;</span></span>
              <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>S</span><span class='op'>&lt;</span> <span class='id identifier rubyid_s'>s</span><span class='op'>&lt;</span> <span class='id identifier rubyid_S!'>S!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_s!'>s!</span><span class='op'>&lt;</span> <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_directives'>directives</span> <span class='id identifier rubyid_without'>without</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>&quot;</span></span> <span class='id identifier rubyid_except'>except</span>
<span class='const'>L</span><span class='op'>&lt;</span> <span class='id identifier rubyid_l'>l</span><span class='op'>&lt;</span> <span class='id identifier rubyid_L!'>L!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_l!'>l!</span><span class='op'>&lt;</span> <span class='op'>|</span>         <span class='op'>|</span> <span class='id identifier rubyid_little'>little</span> <span class='id identifier rubyid_endian'>endian</span>
<span class='id identifier rubyid_I!'>I!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_i!'>i!</span><span class='op'>&lt;</span>       <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>Q</span><span class='op'>&lt;</span> <span class='id identifier rubyid_q'>q</span><span class='op'>&lt;</span> <span class='id identifier rubyid_Q!'>Q!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_q!'>q!</span><span class='op'>&lt;</span> <span class='op'>|</span>         <span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>S&lt;</span><span class='tstring_end'>&quot;</span></span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>v</span><span class='tstring_end'>&quot;</span></span>
<span class='const'>J</span><span class='op'>&lt;</span> <span class='id identifier rubyid_j'>j</span><span class='op'>&lt;</span> <span class='id identifier rubyid_J!'>J!</span><span class='op'>&lt;</span> <span class='id identifier rubyid_j!'>j!</span><span class='op'>&lt;</span> <span class='op'>|</span>         <span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L&lt;</span><span class='tstring_end'>&quot;</span></span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_same'>same</span> <span class='id identifier rubyid_as'>as</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>V</span><span class='tstring_end'>&quot;</span></span>
              <span class='op'>|</span>         <span class='op'>|</span>
<span class='id identifier rubyid_n'>n</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>16</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_network'>network</span> (<span class='id identifier rubyid_big'>big</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='const'>N</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>32</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='id identifier rubyid_network'>network</span> (<span class='id identifier rubyid_big'>big</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='id identifier rubyid_v'>v</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>16</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='const'>VAX</span> (<span class='id identifier rubyid_little'>little</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='const'>V</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='int'>32</span><span class='op'>-</span><span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_unsigned'>unsigned</span><span class='comma'>,</span> <span class='const'>VAX</span> (<span class='id identifier rubyid_little'>little</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
              <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>U</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='const'>UTF</span><span class='op'>-</span><span class='int'>8</span> <span class='id identifier rubyid_character'>character</span>
<span class='id identifier rubyid_w'>w</span>             <span class='op'>|</span> <span class='const'><a href="Integer.html" title="Integer (class)">Integer</a></span> <span class='op'>|</span> <span class='const'>BER</span><span class='op'>-</span><span class='id identifier rubyid_compressed'>compressed</span> <span class='id identifier rubyid_integer'>integer</span> (<span class='id identifier rubyid_see'>see</span> <span class='const'><a href="Array.html" title="Array (class)">Array</a></span><span class='comment'>#pack)
</span>
<span class='const'><a href="Float.html" title="Float (class)">Float</a></span>        <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>Directive</span>    <span class='op'>|</span> <span class='const'>Returns</span> <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='const'>D</span> <span class='id identifier rubyid_d'>d</span>          <span class='op'>|</span> <span class='const'><a href="Float.html" title="Float (class)">Float</a></span>   <span class='op'>|</span> <span class='id identifier rubyid_double'>double</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_format'>format</span>
<span class='const'>F</span> <span class='id identifier rubyid_f'>f</span>          <span class='op'>|</span> <span class='const'><a href="Float.html" title="Float (class)">Float</a></span>   <span class='op'>|</span> <span class='id identifier rubyid_single'>single</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_native'>native</span> <span class='id identifier rubyid_format'>format</span>
<span class='const'>E</span>            <span class='op'>|</span> <span class='const'><a href="Float.html" title="Float (class)">Float</a></span>   <span class='op'>|</span> <span class='id identifier rubyid_double'>double</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_little'>little</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span> <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='id identifier rubyid_e'>e</span>            <span class='op'>|</span> <span class='const'><a href="Float.html" title="Float (class)">Float</a></span>   <span class='op'>|</span> <span class='id identifier rubyid_single'>single</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_little'>little</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span> <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='const'>G</span>            <span class='op'>|</span> <span class='const'><a href="Float.html" title="Float (class)">Float</a></span>   <span class='op'>|</span> <span class='id identifier rubyid_double'>double</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_network'>network</span> (<span class='id identifier rubyid_big'>big</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>
<span class='id identifier rubyid_g'>g</span>            <span class='op'>|</span> <span class='const'><a href="Float.html" title="Float (class)">Float</a></span>   <span class='op'>|</span> <span class='id identifier rubyid_single'>single</span><span class='op'>-</span><span class='id identifier rubyid_precision'>precision</span><span class='comma'>,</span> <span class='id identifier rubyid_network'>network</span> (<span class='id identifier rubyid_big'>big</span><span class='op'>-</span><span class='id identifier rubyid_endian'>endian</span>) <span class='id identifier rubyid_byte'>byte</span> <span class='id identifier rubyid_order'>order</span>

<span class='const'>String</span>       <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>Directive</span>    <span class='op'>|</span> <span class='const'>Returns</span> <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='const'>A</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_arbitrary'>arbitrary</span> <span class='id identifier rubyid_binary'>binary</span> <span class='id identifier rubyid_string'>string</span> (<span class='id identifier rubyid_remove'>remove</span> <span class='id identifier rubyid_trailing'>trailing</span> <span class='id identifier rubyid_nulls'>nulls</span> <span class='kw'>and</span> <span class='const'>ASCII</span> <span class='id identifier rubyid_spaces'>spaces</span>)
<span class='id identifier rubyid_a'>a</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_arbitrary'>arbitrary</span> <span class='id identifier rubyid_binary'>binary</span> <span class='id identifier rubyid_string'>string</span>
<span class='const'>Z</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_null'>null</span><span class='op'>-</span><span class='id identifier rubyid_terminated'>terminated</span> <span class='id identifier rubyid_string'>string</span>
<span class='const'>B</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_string'>string</span> (<span class='const'>MSB</span> <span class='id identifier rubyid_first'>first</span>)
<span class='id identifier rubyid_b'><a href="#b-instance_method" title="String#b (method)">b</a></span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_bit'>bit</span> <span class='id identifier rubyid_string'>string</span> (<span class='const'>LSB</span> <span class='id identifier rubyid_first'>first</span>)
<span class='const'>H</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_hex'><a href="#hex-instance_method" title="String#hex (method)">hex</a></span> <span class='id identifier rubyid_string'>string</span> (<span class='id identifier rubyid_high'>high</span> <span class='id identifier rubyid_nibble'>nibble</span> <span class='id identifier rubyid_first'>first</span>)
<span class='id identifier rubyid_h'>h</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_hex'><a href="#hex-instance_method" title="String#hex (method)">hex</a></span> <span class='id identifier rubyid_string'>string</span> (<span class='id identifier rubyid_low'>low</span> <span class='id identifier rubyid_nibble'>nibble</span> <span class='id identifier rubyid_first'>first</span>)
<span class='id identifier rubyid_u'>u</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='const'>UU</span><span class='op'>-</span><span class='id identifier rubyid_encoded'>encoded</span> <span class='id identifier rubyid_string'>string</span>
<span class='const'>M</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_quoted'>quoted</span><span class='op'>-</span><span class='id identifier rubyid_printable'>printable</span><span class='comma'>,</span> <span class='const'>MIME</span> <span class='id identifier rubyid_encoding'><a href="#encoding-instance_method" title="String#encoding (method)">encoding</a></span> (<span class='id identifier rubyid_see'>see</span> <span class='const'>RFC2045</span>)
<span class='id identifier rubyid_m'>m</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_base64'>base64</span> <span class='id identifier rubyid_encoded'>encoded</span> <span class='id identifier rubyid_string'>string</span> (<span class='const'>RFC</span> <span class='int'>2045</span>) (<span class='id identifier rubyid_default'>default</span>)
             <span class='op'>|</span>         <span class='op'>|</span> <span class='id identifier rubyid_base64'>base64</span> <span class='id identifier rubyid_encoded'>encoded</span> <span class='id identifier rubyid_string'>string</span> (<span class='const'>RFC</span> <span class='int'>4648</span>) <span class='kw'>if</span> <span class='id identifier rubyid_followed'>followed</span> <span class='id identifier rubyid_by'>by</span> <span class='int'>0</span>
<span class='const'>P</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_pointer'>pointer</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_a'>a</span> <span class='id identifier rubyid_structure'>structure</span> (<span class='id identifier rubyid_fixed'>fixed</span><span class='op'>-</span><span class='id identifier rubyid_length'><a href="#length-instance_method" title="String#length (method)">length</a></span> <span class='id identifier rubyid_string'>string</span>)
<span class='id identifier rubyid_p'>p</span>            <span class='op'>|</span> <span class='const'>String</span>  <span class='op'>|</span> <span class='id identifier rubyid_pointer'>pointer</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_a'>a</span> <span class='id identifier rubyid_null'>null</span><span class='op'>-</span><span class='id identifier rubyid_terminated'>terminated</span> <span class='id identifier rubyid_string'>string</span>

<span class='const'>Misc</span>.        <span class='op'>|</span>         <span class='op'>|</span>
<span class='const'>Directive</span>    <span class='op'>|</span> <span class='const'>Returns</span> <span class='op'>|</span> <span class='const'>Meaning</span>
<span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>
<span class='ivar'>@</span>            <span class='op'>|</span> <span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>     <span class='op'>|</span> <span class='id identifier rubyid_skip'>skip</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_offset'>offset</span> <span class='id identifier rubyid_given'>given</span> <span class='id identifier rubyid_by'>by</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_length'><a href="#length-instance_method" title="String#length (method)">length</a></span> <span class='id identifier rubyid_argument'>argument</span>
<span class='const'>X</span>            <span class='op'>|</span> <span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>     <span class='op'>|</span> <span class='id identifier rubyid_skip'>skip</span> <span class='id identifier rubyid_backward'>backward</span> <span class='id identifier rubyid_one'>one</span> <span class='id identifier rubyid_byte'>byte</span>
<span class='id identifier rubyid_x'>x</span>            <span class='op'>|</span> <span class='op'>-</span><span class='op'>-</span><span class='op'>-</span>     <span class='op'>|</span> <span class='id identifier rubyid_skip'>skip</span> <span class='id identifier rubyid_forward'>forward</span> <span class='id identifier rubyid_one'>one</span> <span class='id identifier rubyid_byte'>byte</span></code></pre>

<p>HISTORY</p>
<ul><li>
<p>J, J! j, and j! are available since Ruby 2.3.</p>
</li><li>
<p>Q_, Q!, q_, and q! are available since Ruby 2.1.</p>
</li><li>
<p>I!&lt;, i!&lt;, I!&gt;, and i!&gt; are available since Ruby 1.9.3.</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/pack.rb#L256-L258'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='256' data-end='258'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'pack.rb', line 256</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unpack'>unpack</span>(<span class='id identifier rubyid_fmt'>fmt</span>)
  <span class='const'>Primitive</span>.<span class='id identifier rubyid_pack_unpack'>pack_unpack</span>(<span class='id identifier rubyid_fmt'>fmt</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unpack1-instance_method">
  <h3 class='signature '>
    #<strong>unpack1</strong>(format)  &#x21d2; <a href="Object.html" title="Object (class)">Object</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Decodes <em>str</em> (which may contain binary data) according to the format string, returning the first value extracted. See also <a href="#unpack-instance_method" title="String#unpack (method)">#unpack</a>, <a href="Array.html#pack-instance_method" title="Array#pack (method)">Array#pack</a>.</p>

<p>Contrast with <a href="#unpack-instance_method" title="String#unpack (method)">#unpack</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \0\0abc \0\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack'><a href="#unpack-instance_method" title="String#unpack (method)">unpack</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A6Z6</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'>#=&gt; [&quot;abc&quot;, &quot;abc &quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc \0\0abc \0\0</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_unpack1'>unpack1</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A6Z6</span><span class='tstring_end'>&#39;</span></span>)  <span class='comment'>#=&gt; &quot;abc&quot;</span></code></pre>

<p>In that case data would be lost but often it’s the case that the array only holds one value, especially when unpacking binary data. For instance:</p>

<p>“xffx00x00x00”.unpack(“l”)         #=&gt;  [255] “xffx00x00x00”.unpack1(“l”)        #=&gt;  255</p>

<p>Thus unpack1 is convenient, makes clear the intention and signals the expected return value to those reading the code.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/pack.rb#L280-L282'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='280' data-end='282'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'pack.rb', line 280</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unpack1'>unpack1</span>(<span class='id identifier rubyid_fmt'>fmt</span>)
  <span class='const'>Primitive</span>.<span class='id identifier rubyid_pack_unpack1'>pack_unpack1</span>(<span class='id identifier rubyid_fmt'>fmt</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upcase-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>upcase</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>upcase</strong>([options])  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a copy of <em>str</em> with all lowercase letters replaced with their uppercase counterparts.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hEllO</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_upcase'>upcase</span>   <span class='comment'>#=&gt; &quot;HELLO&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L6962-L6985'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6962' data-end='6985'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6962</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upcase(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE;
    VALUE ret;

    flags = check_case_options(argc, argv, flags);
    enc = str_true_enc(str);
    if (case_option_single_p(flags, enc, str)) {
        ret = rb_str_new(RSTRING_PTR(str), RSTRING_LEN(str));
        str_enc_copy(ret, str);
        upcase_single(ret);
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY) {
        ret = rb_str_new(0, RSTRING_LEN(str));
        rb_str_ascii_casemap(str, ret, &amp;flags, enc);
    }
    else {
        ret = rb_str_casemap(str, &amp;flags, enc);
    }

    return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upcase!-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>upcase!</strong>  &#x21d2; <code>String</code><sup>?</sup> </span>
      <span class='overload'>#<strong>upcase!</strong>([options])  &#x21d2; <code>String</code><sup>?</sup> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Upcases the contents of <em>str</em>, returning <code>nil</code> if no changes were made.</p>

<p>See <a href="#downcase-instance_method" title="String#downcase (method)">#downcase</a> for meaning of <code>options</code> and use with different encodings.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L6926-L6946'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6926' data-end='6946'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 6926</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upcase_bang(int argc, VALUE *argv, VALUE str)
{
    rb_encoding *enc;
    OnigCaseFoldType flags = ONIGENC_CASE_UPCASE;

    flags = check_case_options(argc, argv, flags);
    str_modify_keep_cr(str);
    enc = str_true_enc(str);
    if (case_option_single_p(flags, enc, str)) {
        if (upcase_single(str))
            flags |= ONIGENC_CASE_MODIFIED;
    }
    else if (flags&amp;ONIGENC_CASE_ASCII_ONLY)
        rb_str_ascii_casemap(str, str, &amp;flags, enc);
    else
	str_shared_replace(str, rb_str_casemap(str, &amp;flags, enc));

    if (ONIGENC_CASE_MODIFIED&amp;flags) return str;
    return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="upto-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>upto</strong>(other_string, exclusive = false) {|string| ... } &#x21d2; <code>self</code> </span>
      <span class='overload'>#<strong>upto</strong>(other_string, exclusive = false)  &#x21d2; <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>With a block given, calls the block with each String value returned by successive calls to <code>String#succ;</code> the first value is <code>self</code>, the next is <code>self.succ</code>, and so on; the sequence terminates when value <code>other_string</code> is reached; returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a8</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> } <span class='comment'># =&gt; &quot;a8&quot;</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a8'>a8</span> <span class='id identifier rubyid_a9'>a9</span> <span class='id identifier rubyid_b0'>b0</span> <span class='id identifier rubyid_b1'>b1</span> <span class='id identifier rubyid_b2'>b2</span> <span class='id identifier rubyid_b3'>b3</span> <span class='id identifier rubyid_b4'>b4</span> <span class='id identifier rubyid_b5'>b5</span> <span class='id identifier rubyid_b6'>b6</span></code></pre>

<p>If argument <code>exclusive</code> is given as a truthy object, the last value is omitted:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a8</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>true</span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> } <span class='comment'># =&gt; &quot;a8&quot;</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a8'>a8</span> <span class='id identifier rubyid_a9'>a9</span> <span class='id identifier rubyid_b0'>b0</span> <span class='id identifier rubyid_b1'>b1</span> <span class='id identifier rubyid_b2'>b2</span> <span class='id identifier rubyid_b3'>b3</span> <span class='id identifier rubyid_b4'>b4</span> <span class='id identifier rubyid_b5'>b5</span></code></pre>

<p>If <code>other_string</code> would not be reached, does not call the block:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>25</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>5</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_fail'>fail</span> <span class='id identifier rubyid_s'>s</span> }
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>aa</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_fail'>fail</span> <span class='id identifier rubyid_s'>s</span> }</code></pre>

<p>With no block given, returns a new Enumerator:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a8</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_upto'>upto</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b6</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; #&lt;Enumerator: &quot;a8&quot;:upto(&quot;b6&quot;)&gt;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/string.c#L4472-L4480'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4472' data-end='4480'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'string.c', line 4472</span></pre>
<pre class='code cpp'>

static VALUE
rb_str_upto(int argc, VALUE *argv, VALUE beg)
{
    VALUE end, exclusive;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;end, &amp;exclusive);
    RETURN_ENUMERATOR(beg, argc, argv);
    return rb_str_upto_each(beg, end, RTEST(exclusive), str_upto_i, Qnil);
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>