<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: CSV::Table &mdash; csv  Ruby-3.0.7 p220</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "CSV::Table",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-3.0.7</a> &raquo; 
      <a href='../'>csv</a> &raquo; 
      <a href='../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../CSV.html" title="CSV (class)">CSV</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Table&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: CSV::Table</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Forwardable
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Enumerable
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L14'>lib/csv/table.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A <code>Table</code> is a two-dimensional data structure for representing <a href="../CSV.html" title="CSV (class)"><code>::CSV</code></a> documents. Tables allow you to work with the data by row or column, manipulate the data, and even convert the results back to <a href="../CSV.html" title="CSV (class)"><code>::CSV</code></a>, if needed.</p>

<p>All tables returned by <a href="../CSV.html" title="CSV (class)"><code>::CSV</code></a> will be constructed from this class, if header row processing is activated.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(array_of_rows, headers: nil)  &#x21d2; Table </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Constructs a new <code>Table</code> from <code>array_of_rows</code>, which are expected to be <a href="Row.html" title="CSV::Row (class)"><code>Row</code></a> objects.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#mode-instance_method" title="#mode (instance method)">#<strong>mode</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The current access mode for indexing and iteration.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro prot'>
      <a href="#table-instance_method" title="#table (instance method)">#<strong>table</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title protected'>protected</span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal data format used to compare equality.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(row_or_array)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <code>row_or_array</code> is a CSV::Row object, it is appended to the table:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if all each row of <code>self</code> <code>==</code> the corresponding row of <code>other_table</code>, otherwise, <code>false</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(n)  &#x21d2; row </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns data from the table;  does not modify the table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(index_or_header, value)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>In the default mixed mode, this method assigns rows for index access and columns for header access.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_col-instance_method" title="#by_col (instance method)">#<strong>by_col</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a duplicate table object, in column mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_col!-instance_method" title="#by_col! (instance method)">#<strong>by_col!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Switches the mode of this table to column mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_col_or_row-instance_method" title="#by_col_or_row (instance method)">#<strong>by_col_or_row</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a duplicate table object, in mixed mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_col_or_row!-instance_method" title="#by_col_or_row! (instance method)">#<strong>by_col_or_row!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Switches the mode of this table to mixed mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_row-instance_method" title="#by_row (instance method)">#<strong>by_row</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a duplicate table object, in row mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_row!-instance_method" title="#by_row! (instance method)">#<strong>by_row!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Switches the mode of this table to row mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(*indexes)  &#x21d2; deleted_values </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns deleted rows.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes rows or columns for which the block returns a truthy value; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(index_or_header, *index_or_headers)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts the nested value specified by the sequence of <code>index</code> or <code>header</code> objects by calling dig at each step, returning nil if any intermediate step is nil.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the block with each row or column; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#headers-instance_method" title="#headers (instance method)">#<strong>headers</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the headers for the first row of this table (assumed to match all other rows).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Shows the mode and size of this table in a US-ASCII <a href="../String.html" title="String (class)"><code>::String</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>(*rows_or_arrays)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>A shortcut for appending multiple rows.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the table as an <a href="../Array.html" title="Array (class)"><code>::Array</code></a> of Arrays.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_csv-instance_method" title="#to_csv (instance method)">#<strong>to_csv</strong>(write_headers: true, **options)  </a>
      (also: #to_s)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the table as a complete <a href="../CSV.html" title="CSV (class)"><code>::CSV</code></a> String.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>(write_headers: true, **options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_csv-instance_method" title="CSV::Table#to_csv (method)">#to_csv</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>(*indexes)  &#x21d2; array_of_rows </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns rows.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(array_of_rows, headers: nil)  &#x21d2; <code>Table</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Constructs a new <code>Table</code> from <code>array_of_rows</code>, which are expected to be <a href="Row.html" title="CSV::Row (class)"><code>Row</code></a> objects. All rows are assumed to have the same headers.</p>

<p>The optional <a href="#headers-instance_method" title="CSV::Table#headers (method)">#headers</a> parameter can be set to <a href="../Array.html" title="Array (class)"><code>::Array</code></a> of headers. If headers aren’t set, headers are fetched from <a href="Row.html" title="CSV::Row (class)"><code>Row</code></a> objects. Otherwise, headers() method will return headers being set in headers argument.</p>

<p>A <code>Table</code> object supports the following <a href="../Array.html" title="Array (class)"><code>::Array</code></a> methods through delegation:</p>
<ul><li>
<p>empty?()</p>
</li><li>
<p>length()</p>
</li><li>
<p>size()</p>
</li></ul>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L31-L43'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='31' data-end='43'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 31</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_array_of_rows'>array_of_rows</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>nil</span>)
  <span class='ivar'>@table</span> <span class='op'>=</span> <span class='id identifier rubyid_array_of_rows'>array_of_rows</span>
  <span class='ivar'>@headers</span> <span class='op'>=</span> <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>
  <span class='kw'>unless</span> <span class='ivar'>@headers</span>
    <span class='kw'>if</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='ivar'>@headers</span> <span class='op'>=</span> []
    <span class='kw'>else</span>
      <span class='ivar'>@headers</span> <span class='op'>=</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@mode</span>  <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="mode-instance_method">
  <h3 class='signature ro first'>
    #<strong>mode</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current access mode for indexing and iteration.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L46-L46'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='46' data-end='46'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 46</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="table-instance_method">
  <h3 class='signature ro prot'>
    #<strong>table</strong>   <span class="extras">(<span class='readonly'>readonly</span>, <span class='prot'>protected</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal data format used to compare equality.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L49-L49'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='49' data-end='49'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 49</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_table'>table</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;&lt;</strong>(row_or_array)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <code>row_or_array</code> is a CSV::Row object, it is appended to the table:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>3</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bat&quot; &quot;Value&quot;:3&gt;</span></code></pre>

<p>If <code>row_or_array</code> is an Array, it is used to create a new CSV::Row object which is then appended to the table:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>&lt;&lt;</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:4&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L370-L378'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='370' data-end='378'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 370</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;&lt;</span>(<span class='id identifier rubyid_row_or_array'>row_or_array</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_row_or_array'>row_or_array</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><a href="../Array.html" title="Array (class)">Array</a></span>  <span class='comment'># append Array
</span>    <span class='ivar'>@table</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>(<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span><span class='comma'>,</span> <span class='id identifier rubyid_row_or_array'>row_or_array</span>)
  <span class='kw'>else</span>                         <span class='comment'># append Row
</span>    <span class='ivar'>@table</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_row_or_array'>row_or_array</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span> <span class='comment'># for chaining
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    #<strong>==</strong>(other)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if all each row of <code>self</code> <code>==</code> the corresponding row of <code>other_table</code>, otherwise, <code>false</code>.</p>

<p>The access mode does no affect the result.</p>

<p>Equal tables:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_other_table'>other_table</span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other_table'>other_table</span> <span class='comment'># =&gt; true</span></code></pre>

<p>Different row count:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_other_table'>other_table</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="CSV::Table#delete (method)">delete</a></span>(<span class='int'>2</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other_table'>other_table</span> <span class='comment'># =&gt; false</span></code></pre>

<p>Different last row:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_other_table'>other_table</span> <span class='op'>&lt;&lt;</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other_table'>other_table</span> <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L563-L566'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='563' data-end='566'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 563</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>return</span> <span class='ivar'>@table</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>
  <span class='ivar'>@table</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(n)  &#x21d2; <code>row</code> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>array_of_rows</code> </span>
      <span class='overload'>#<strong>[]</strong>(header)  &#x21d2; <code>array_of_fields</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns data from the table;  does not modify the table.</p>
<hr>

<p>The expression <code>table[n]</code>, where <code>n</code> is a non-negative Integer, returns the <tt>n</tt>th row of the table, if that row exists, and if the access mode is <code>:row</code> or <code>:col_or_row</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;</span></code></pre>

<p>Counts backward from the last row if <code>n</code> is negative:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;</span></code></pre>

<p>Returns <code>nil</code> if <code>n</code> is too large or too small:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span>] <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>4</span>] <span class='op'>=&gt;</span> <span class='kw'>nil</span></code></pre>

<p>Raises an exception if the access mode is <code>:row</code> and <code>n</code> is not an <a href="https://docs.ruby-lang.org/en/master/implicit_conversion_rdoc.html#label-Integer-Convertible+Objects" target="_parent" title="Integer-convertible object">Integer-convertible object</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='comment'># Raises TypeError (no implicit conversion of String into Integer):
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>]</code></pre>
<hr>

<p>The expression <code>table[range]</code>, where <code>range</code> is a Range object, returns rows from the table, beginning at row <code>range.first</code>, if those rows exist, and if the access mode is <code>:row</code> or <code>:col_or_row</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>If there are too few rows, returns all from <code>range.first</code> to the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>50</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>Special case:  if <code>range.start == table.size</code>, returns an empty Array:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_size'>size</span><span class='op'>..</span><span class='int'>50</span>] <span class='comment'># =&gt; []</span></code></pre>

<p>If <code>range.end</code> is negative, calculates the ending index from the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
<span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>If <code>range.start</code> is negative, calculates the starting index from the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>]
<span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>If <code>range.start</code> is larger than <code>table.size</code>, returns <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span><span class='op'>..</span><span class='int'>4</span>] <span class='comment'># =&gt; nil</span></code></pre>
<hr>

<p>The expression <code>table[header]</code>, where <code>header</code> is a String, returns column values (Array of Strings) if the column exists and if the access mode is <code>:col</code> or <code>:col_or_row</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;
</span><span class='id identifier rubyid_col'>col</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_col'>col</span> <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span></code></pre>

<p>Modifying the returned column values does not modify the table:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_col'>col</span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_col'>col</span> <span class='comment'># =&gt; [&quot;bat&quot;, &quot;bar&quot;, &quot;baz&quot;]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span></code></pre>

<p>Returns an Array of <code>nil</code> values if there is no such column:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Nosuch</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [nil, nil, nil]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L232-L239'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='232' data-end='239'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 232</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>)
  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span>  <span class='comment'># by index
</span>     (<span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='kw'>and</span> (<span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>) <span class='kw'>or</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Range</span>)))
    <span class='ivar'>@table</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>]
  <span class='kw'>else</span>                 <span class='comment'># by header
</span>    <span class='ivar'>@table</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    #<strong>[]=</strong>(index_or_header, value)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>In the default mixed mode, this method assigns rows for index access and columns for header access. You can force the index association by first calling by_col!() or by_row!().</p>

<p>Rows may be set to an <a href="../Array.html" title="Array (class)"><code>::Array</code></a> of values (which will inherit the table’s headers()) or a <a href="Row.html" title="CSV::Row (class)"><code>Row</code></a>.</p>

<p>Columns may be set to a single value, which is copied to each row of the column, or an <a href="../Array.html" title="Array (class)"><code>::Array</code></a> of values. Arrays of values are assigned to rows top to bottom in row major order. Excess values are ignored and if the <a href="../Array.html" title="Array (class)"><code>::Array</code></a> does not have a value for each row the extra rows will receive a <code>nil</code>.</p>

<p>Assigning to an existing column or row clobbers the data. Assigning to new columns creates them at the right end of the table.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L257-L288'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='257' data-end='288'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 257</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]=</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span>  <span class='comment'># by index
</span>     (<span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='kw'>and</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><a href="../Array.html" title="Array (class)">Array</a></span>
      <span class='ivar'>@table</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>(<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
    <span class='kw'>else</span>
      <span class='ivar'>@table</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>                 <span class='comment'># set column
</span>    <span class='kw'>unless</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='ivar'>@headers</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>) <span class='op'>||</span> <span class='ivar'>@headers</span>.<span class='id identifier rubyid_size'>size</span>
      <span class='ivar'>@headers</span>[<span class='id identifier rubyid_index'>index</span>] <span class='op'>=</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><a href="../Array.html" title="Array (class)">Array</a></span>  <span class='comment'># multiple values
</span>      <span class='ivar'>@table</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_header_row?'><a href="../CSV.html#header_row%3F-instance_method" title="CSV#header_row? (method)">header_row?</a></span>
          <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>[<span class='id identifier rubyid_i'>i</span>]
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>                  <span class='comment'># repeated value
</span>      <span class='ivar'>@table</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_header_row?'><a href="../CSV.html#header_row%3F-instance_method" title="CSV#header_row? (method)">header_row?</a></span>
          <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_col-instance_method">
  <h3 class='signature '>
    #<strong>by_col</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a duplicate table object, in column mode. This is handy for chaining in a single call without changing the table mode, but be aware that this method can consume a fair amount of memory for bigger data sets.</p>

<p>This method returns the duplicate table for chaining. Don’t chain destructive methods (like []=()) this way though, since you are working with a duplicate.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L66-L68'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='66' data-end='68'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 66</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_col'>by_col</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="CSV::Table.new (method)">new</a></span>(<span class='ivar'>@table</span>.<span class='id identifier rubyid_dup'>dup</span>).<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_col!-instance_method">
  <h3 class='signature '>
    #<strong>by_col!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Switches the mode of this table to column mode. All calls to indexing and iteration methods will work with columns until the mode is changed again.</p>

<p>This method returns the table and is safe to chain.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L76-L80'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='76' data-end='80'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 76</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_col!'>by_col!</span>
  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col'>col</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_col_or_row-instance_method">
  <h3 class='signature '>
    #<strong>by_col_or_row</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a duplicate table object, in mixed mode. This is handy for chaining in a single call without changing the table mode, but be aware that this method can consume a fair amount of memory for bigger data sets.</p>

<p>This method returns the duplicate table for chaining.  Don’t chain destructive methods (like []=()) this way though, since you are working with a duplicate.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L91-L93'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='91' data-end='93'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 91</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_col_or_row'>by_col_or_row</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="CSV::Table.new (method)">new</a></span>(<span class='ivar'>@table</span>.<span class='id identifier rubyid_dup'>dup</span>).<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_col_or_row!-instance_method">
  <h3 class='signature '>
    #<strong>by_col_or_row!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Switches the mode of this table to mixed mode. All calls to indexing and iteration methods will use the default intelligent indexing system until the mode is changed again. In mixed mode an index is assumed to be a row reference while anything else is assumed to be column access by headers.</p>

<p>This method returns the table and is safe to chain.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L103-L107'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='103' data-end='107'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 103</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_col_or_row!'>by_col_or_row!</span>
  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_row-instance_method">
  <h3 class='signature '>
    #<strong>by_row</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a duplicate table object, in row mode.  This is handy for chaining in a single call without changing the table mode, but be aware that this method can consume a fair amount of memory for bigger data sets.</p>

<p>This method returns the duplicate table for chaining.  Don’t chain destructive methods (like []=()) this way though, since you are working with a duplicate.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L118-L120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='118' data-end='120'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 118</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_row'>by_row</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="CSV::Table.new (method)">new</a></span>(<span class='ivar'>@table</span>.<span class='id identifier rubyid_dup'>dup</span>).<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_row!-instance_method">
  <h3 class='signature '>
    #<strong>by_row!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Switches the mode of this table to row mode. All calls to indexing and iteration methods will work with rows until the mode is changed again.</p>

<p>This method returns the table and is safe to chain.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L128-L132'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='128' data-end='132'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 128</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_row!'>by_row!</span>
  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>delete</strong>(*indexes)  &#x21d2; <code>deleted_values</code> </span>
      <span class='overload'>#<strong>delete</strong>(*headers)  &#x21d2; <code>deleted_values</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns deleted rows. Otherwise, returns deleted columns data.</p>

<p>In either case, the returned values are in the order specified by the arguments.  Arguments may be repeated.</p>
<hr>

<p>Returns rows as an Array of CSV::Row objects.</p>

<p>One index:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='int'>0</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span></code></pre>

<p>Two indexes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span></code></pre>
<hr>

<p>Returns columns data as column Arrays.</p>

<p>One header:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span></code></pre>

<p>Two headers:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='comment'># =&gt; [[&quot;0&quot;, &quot;1&quot;, &quot;2&quot;], [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L442-L464'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='442' data-end='464'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 442</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span>(<span class='op'>*</span><span class='id identifier rubyid_indexes_or_headers'>indexes_or_headers</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_indexes_or_headers'>indexes_or_headers</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrong number of arguments (given 0, expected 1+)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_indexes_or_headers'>indexes_or_headers</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index_or_header'>index_or_header</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span>  <span class='comment'># by index
</span>        (<span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='kw'>and</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>)
      <span class='ivar'>@table</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>)
    <span class='kw'>else</span>                 <span class='comment'># by header
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>
        <span class='ivar'>@headers</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>)
      <span class='kw'>else</span>
        <span class='ivar'>@headers</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>)
      <span class='kw'>end</span>
      <span class='ivar'>@table</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>).<span class='id identifier rubyid_last'>last</span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_indexes_or_headers'>indexes_or_headers</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='id identifier rubyid_deleted_values'>deleted_values</span>[<span class='int'>0</span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_deleted_values'>deleted_values</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_if-instance_method">
  <h3 class='signature '>
    #<strong>delete_if</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes rows or columns for which the block returns a truthy value; returns <code>self</code>.</p>

<p>Removes rows when the access mode is <code>:row</code> or <code>:col_or_row</code>; calls the block with each CSV::Row object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete_if'>delete_if</span> {<span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) }
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 1</span></code></pre>

<p>Removes columns when the access mode is <code>:col</code>; calls the block with each column as a 2-element array containing the header and an Array of column fields:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete_if'>delete_if</span> {<span class='op'>|</span><span class='id identifier rubyid_column_data'>column_data</span><span class='op'>|</span> <span class='id identifier rubyid_column_data'>column_data</span>[<span class='int'>1</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span>) }
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 1</span></code></pre>

<p>Returns a new Enumerator if no block is given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete_if'>delete_if</span> <span class='comment'># =&gt; #&lt;Enumerator: #&lt;CSV::Table mode:col_or_row row_count:4&gt;:delete_if&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L492-L505'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='492' data-end='505'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 492</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_if'>delete_if</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span>(<span class='id identifier rubyid___method__'>__method__</span>) { <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='op'>?</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>:</span> <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span> } <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span>  <span class='comment'># by index
</span>    <span class='ivar'>@table</span>.<span class='id identifier rubyid_delete_if'>delete_if</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>else</span>                                      <span class='comment'># by header
</span>    <span class='id identifier rubyid_deleted'>deleted</span> <span class='op'>=</span> []
    <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_header'>header</span><span class='op'>|</span>
      <span class='id identifier rubyid_deleted'>deleted</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="CSV::Table#delete (method)">delete</a></span>(<span class='id identifier rubyid_header'>header</span>) <span class='kw'>if</span> <span class='kw'>yield</span>([<span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='kw'>self</span>[<span class='id identifier rubyid_header'>header</span>]])
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span> <span class='comment'># for chaining
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dig-instance_method">
  <h3 class='signature '>
    #<strong>dig</strong>(index_or_header, *index_or_headers)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts the nested value specified by the sequence of <code>index</code> or <code>header</code> objects by calling dig at each step, returning nil if any intermediate step is nil.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L602-L614'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='602' data-end='614'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 602</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dig'>dig</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_index_or_headers'>index_or_headers</span>)
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>self</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>]
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>nil</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_index_or_headers'>index_or_headers</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>else</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_dig'>dig</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have \#dig method</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='op'>*</span><span class='id identifier rubyid_index_or_headers'>index_or_headers</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    #<strong>each</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the block with each row or column; returns <code>self</code>.</p>

<p>When the access mode is <code>:row</code> or <code>:col_or_row</code>, calls the block with each CSV::Row object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_row'>row</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;
</span><span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;</span></code></pre>

<p>When the access mode is <code>:col</code>, calls the block with each column as a 2-element array containing the header and an Array of column fields:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_column_data'>column_data</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_column_data'>column_data</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&quot;</span></span>]]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2</span><span class='tstring_end'>&quot;</span></span>]]</code></pre>

<p>Returns a new Enumerator if no block is given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='comment'># =&gt; #&lt;Enumerator: #&lt;CSV::Table mode:col row_count:4&gt;:each&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L533-L543'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='533' data-end='543'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 533</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span>(<span class='id identifier rubyid___method__'>__method__</span>) { <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col'>col</span> <span class='op'>?</span> <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>:</span> <span class='id identifier rubyid_size'>size</span> } <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col'>col</span>
    <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_header'>header</span><span class='op'>|</span> <span class='kw'>yield</span>([<span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='kw'>self</span>[<span class='id identifier rubyid_header'>header</span>]]) }
  <span class='kw'>else</span>
    <span class='ivar'>@table</span>.<span class='id identifier rubyid_each'>each</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>

  <span class='kw'>self</span> <span class='comment'># for chaining
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="headers-instance_method">
  <h3 class='signature '>
    #<strong>headers</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the headers for the first row of this table (assumed to match all other rows). The headers <a href="../Array.html" title="Array (class)"><code>::Array</code></a> passed to <a href="#new-class_method" title="CSV::Table.new (method)">.new</a> is returned for empty tables.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L139-L145'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='139' data-end='145'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 139</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_headers'>headers</span>
  <span class='kw'>if</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='ivar'>@headers</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>else</span>
    <span class='ivar'>@table</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_headers'>headers</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shows the mode and size of this table in a US-ASCII <a href="../String.html" title="String (class)"><code>::String</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L617-L619'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='617' data-end='619'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 617</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> mode:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@mode</span><span class='embexpr_end'>}</span><span class='tstring_content'> row_count:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="CSV::Table#to_a (method)">to_a</a></span>.<span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>US-ASCII</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="push-instance_method">
  <h3 class='signature '>
    #<strong>push</strong>(*rows_or_arrays)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A shortcut for appending multiple rows. Equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='kw'>self</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_row'>row</span> }</code></pre>

<p>Each argument may be either a CSV::Row object or an Array:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> [
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>])<span class='comma'>,</span>
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span>]
]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_push'>push</span>(<span class='op'>*</span><span class='id identifier rubyid_rows'>rows</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>3</span><span class='op'>..</span><span class='int'>4</span>] <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bat&quot; &quot;Value&quot;:3&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:4&gt;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L396-L400'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='396' data-end='400'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 396</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_push'>push</span>(<span class='op'>*</span><span class='id identifier rubyid_rows'>rows</span>)
  <span class='id identifier rubyid_rows'>rows</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='kw'>self</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_row'>row</span> }

  <span class='kw'>self</span> <span class='comment'># for chaining
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_a-instance_method">
  <h3 class='signature '>
    #<strong>to_a</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the table as an <a href="../Array.html" title="Array (class)"><code>::Array</code></a> of Arrays. Headers will be the first row, then all of the field rows will follow.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L572-L579'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='572' data-end='579'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 572</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_a'>to_a</span>
  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> [<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>]
  <span class='ivar'>@table</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
    <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="CSV::Table#push (method)">push</a></span>(<span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_fields'>fields</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_header_row?'><a href="../CSV.html#header_row%3F-instance_method" title="CSV#header_row? (method)">header_row?</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_array'>array</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_csv-instance_method">
  <h3 class='signature '>
    #<strong>to_csv</strong>(write_headers: true, **options)  
    <span class='aliases'>Also known as: <span class='names'>#to_s</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the table as a complete <a href="../CSV.html" title="CSV (class)"><code>::CSV</code></a> String. Headers will be listed first, then all of the field rows.</p>

<p>This method assumes you want the <a href="#headers-instance_method" title="CSV::Table#headers (method)">#headers</a>(), unless you explicitly pass <code>:write_headers =&gt; false</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L588-L595'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='588' data-end='595'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 588</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_csv'>to_csv</span>(<span class='label'>write_headers:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> <span class='id identifier rubyid_write_headers'>write_headers</span> <span class='op'>?</span> [<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_to_csv'>to_csv</span>(<span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)] <span class='op'>:</span> []
  <span class='ivar'>@table</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
    <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="CSV::Table#push (method)">push</a></span>(<span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_fields'>fields</span>.<span class='id identifier rubyid_to_csv'>to_csv</span>(<span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)) <span class='kw'>unless</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_header_row?'><a href="../CSV.html#header_row%3F-instance_method" title="CSV#header_row? (method)">header_row?</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>(write_headers: true, **options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_csv-instance_method" title="CSV::Table#to_csv (method)">#to_csv</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L596-L596'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='596' data-end='596'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 596</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_csv'><a href="#to_csv-instance_method" title="CSV::Table#to_csv (method)">to_csv</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="values_at-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>values_at</strong>(*indexes)  &#x21d2; <code>array_of_rows</code> </span>
      <span class='overload'>#<strong>values_at</strong>(*headers)  &#x21d2; <code>array_of_columns_data</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns rows. Otherwise, returns columns data.</p>

<p>In either case, the returned values are in the order specified by the arguments.  Arguments may be repeated.</p>
<hr>

<p>Returns rows as an Array of CSV::Row objects.</p>

<p>No argument:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span> <span class='comment'># =&gt; []</span></code></pre>

<p>One index:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>0</span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span></code></pre>

<p>Two indexes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span></code></pre>

<p>One Range:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>Ranges and indexes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='op'>..</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span>)
<span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_values'>values</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;,
</span> <span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;,
</span> <span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;,
</span> <span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;,
</span> <span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;,
</span> <span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>
<hr>

<p>Returns columns data as row Arrays, each consisting of the specified columns data for that row:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [[&quot;foo&quot;], [&quot;bar&quot;], [&quot;baz&quot;]]
</span><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [[&quot;0&quot;, &quot;foo&quot;], [&quot;1&quot;, &quot;bar&quot;], [&quot;2&quot;, &quot;baz&quot;]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_0_7/lib/csv/table.rb#L342-L354'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='342' data-end='354'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 342</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_values_at'>values_at</span>(<span class='op'>*</span><span class='id identifier rubyid_indices_or_headers'>indices_or_headers</span>)
  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span>  <span class='comment'># by indices
</span>     ( <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='kw'>and</span> <span class='id identifier rubyid_indices_or_headers'>indices_or_headers</span>.<span class='id identifier rubyid_all?'>all?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
                                  <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>)         <span class='kw'>or</span>
                                  ( <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Range</span>)         <span class='kw'>and</span>
                                    <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>) <span class='kw'>and</span>
                                    <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>) )
                                <span class='kw'>end</span> )
    <span class='ivar'>@table</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='op'>*</span><span class='id identifier rubyid_indices_or_headers'>indices_or_headers</span>)
  <span class='kw'>else</span>                 <span class='comment'># by headers
</span>    <span class='ivar'>@table</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='op'>*</span><span class='id identifier rubyid_indices_or_headers'>indices_or_headers</span>) }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>