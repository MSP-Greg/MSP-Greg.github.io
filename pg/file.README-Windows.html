<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: README-Windows &mdash; PG master</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "README-Windows",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>PG master</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: README-Windows&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>

<h1 id="label-Compiling+-27pg-27+on+MS+Windows">Compiling ‘pg’ on MS Windows</h1>

<p>In order to build this extension on MS Windows you will need a couple things.</p>

<p>First, a compiler. For the one click installer this means you should use the DevKit or the compiler that comes with cygwin if you’re building on that platform.</p>

<p>If you’ve built Ruby yourself, you should use the same compiler to build this library that you used to build Ruby.</p>

<p>Second, PostgreSQL. Be sure you installed it with the development header files if you installed it using the standard PostgreSQL installer for Windows. If you didn’t, you can run the installer again, select “modify”, and then select the ‘development headers’ option to install them.</p>

<p>I recommend making sure that ‘pg_config.exe’ is in your PATH. The PostgreSQL installer for Windows does not necessarily update your PATH when it installs itself, so you may need to do this manually. This isn’t strictly necessary, however.</p>

<p>In order to build ruby-pg, just run ‘rake’. If the pg_config.exe executable is not in your PATH, you’ll need to explicitly point ruby-pg to where your PostgreSQL headers and libraries are with something like this:</p>

<p>	rake –with-pg-dir=c:/progra~1/postgr~1/8.3</p>

<p>Adjust your path accordingly. BE SURE TO USE THE SHORT PATH NAMES! If you try to use a path with spaces in it, the nmake.exe program will choke.</p>

<h2 id="label-Building+binary+-27pg-27+gems+for+MS+Windows">Building binary ‘pg’ gems for MS Windows</h2>

<p>Binary gems for windows can be built on Linux, OS-X and even on Windows with the help of docker. This is how regular windows gems are built for rubygems.org .</p>

<p>To do this, install boot2docker <a href="https://github.com/boot2docker/windows-installer/releases" target="_parent" title="on Windows">on Windows</a> or <a href="https://github.com/boot2docker/osx-installer/releases" target="_parent" title="on OS X">on OS X</a> and make sure it is started. A native Docker installation is best on Linux.</p>

<p>Then run:</p>

<p>	rake gem:native</p>

<p>This will download a docker image suited for building windows gems, and it will download and build OpenSSL and PostgreSQL. Finally the gem is built containing binaries for all supported ruby versions.</p>

<h2 id="label-Reporting+Problems">Reporting Problems</h2>

<p>If you have any problems you can submit them via <a href="https://github.com/ged/ruby-pg/issues" target="_parent" title="the project’s issue-tracker">the project’s issue-tracker</a>. And submit questions, problems, or solutions, so that it can be improved.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>