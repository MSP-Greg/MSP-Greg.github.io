<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: PG::CompositeCoder &mdash; PG master</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "PG::CompositeCoder",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>PG master</a> &raquo; 
      <a href='../_index.html#alpha_C'>Index (C)</a> &raquo; 
        <a href="../PG.html" title="PG (module)">PG</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>CompositeCoder&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: PG::CompositeCoder</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="CompositeDecoder.html" title="PG::CompositeDecoder (class)">CompositeDecoder</a>, <a href="CompositeEncoder.html" title="PG::CompositeEncoder (class)">CompositeEncoder</a>, <a href="BinaryDecoder/Array.html" title="PG::BinaryDecoder::Array (class)">BinaryDecoder::Array</a>, <a href="BinaryDecoder/ToBase64.html" title="PG::BinaryDecoder::ToBase64 (class)">BinaryDecoder::ToBase64</a>, <a href="BinaryEncoder/Array.html" title="PG::BinaryEncoder::Array (class)">BinaryEncoder::Array</a>, <a href="BinaryEncoder/FromBase64.html" title="PG::BinaryEncoder::FromBase64 (class)">BinaryEncoder::FromBase64</a>, <a href="TextDecoder/Array.html" title="PG::TextDecoder::Array (class)">TextDecoder::Array</a>, <a href="TextDecoder/FromBase64.html" title="PG::TextDecoder::FromBase64 (class)">TextDecoder::FromBase64</a>, <a href="TextEncoder/Array.html" title="PG::TextEncoder::Array (class)">TextEncoder::Array</a>, <a href="TextEncoder/QuotedLiteral.html" title="PG::TextEncoder::QuotedLiteral (class)">TextEncoder::QuotedLiteral</a>, <a href="TextEncoder/ToBase64.html" title="PG::TextEncoder::ToBase64 (class)">TextEncoder::ToBase64</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="Coder.html" title="PG::Coder (class)"><code>Coder</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Coder.html" title="PG::Coder (class)"><code>Coder</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Coder.html" title="PG::Coder (class)">PG::Coder</a></span>
        <ul class='fullTree'>
          <li><a href="../Object.html" title="Object (class)"><code>::Object</code></a></li>
          <li class='next'><a href="Coder.html" title="PG::Coder (class)">PG::Coder</a></li>
          <li class='next'>PG::CompositeCoder</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L655'>ext/pg_coder.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L480'>ext/pg_coder.c</a>,<br/> <a class='repo' href='https://github.com/ged/ruby-pg/blob/master/lib/pg/coder.rb#L73'>lib/pg/coder.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is the base class for all type cast classes of PostgreSQL types, that are made up of some sub type.</p>

<p>See <a href="TextEncoder/Array.html" title="PG::TextEncoder::Array (class)"><code>TextEncoder::Array</code></a>, <a href="TextDecoder/Array.html" title="PG::TextDecoder::Array (class)"><code>TextDecoder::Array</code></a>, <a href="BinaryEncoder/Array.html" title="PG::BinaryEncoder::Array (class)"><code>BinaryEncoder::Array</code></a>, <a href="BinaryDecoder/Array.html" title="PG::BinaryDecoder::Array (class)"><code>BinaryDecoder::Array</code></a>, etc.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
  <h3 class='inherited'><a href="Coder.html" title="PG::Coder (class)"><code>Coder</code></a> - Inherited</h3>
  <p  class='inherited'>
    <a href="Coder.html#FORMAT_ERROR_MASK-constant" title="PG::Coder::FORMAT_ERROR_MASK (constant)">FORMAT_ERROR_MASK</a>, 
    <a href="Coder.html#FORMAT_ERROR_TO_PARTIAL-constant" title="PG::Coder::FORMAT_ERROR_TO_PARTIAL (constant)">FORMAT_ERROR_TO_PARTIAL</a>, 
    <a href="Coder.html#FORMAT_ERROR_TO_RAISE-constant" title="PG::Coder::FORMAT_ERROR_TO_RAISE (constant)">FORMAT_ERROR_TO_RAISE</a>, 
    <a href="Coder.html#FORMAT_ERROR_TO_STRING-constant" title="PG::Coder::FORMAT_ERROR_TO_STRING (constant)">FORMAT_ERROR_TO_STRING</a>, 
    <a href="Coder.html#TIMESTAMP_APP_LOCAL-constant" title="PG::Coder::TIMESTAMP_APP_LOCAL (constant)">TIMESTAMP_APP_LOCAL</a>, 
    <a href="Coder.html#TIMESTAMP_APP_UTC-constant" title="PG::Coder::TIMESTAMP_APP_UTC (constant)">TIMESTAMP_APP_UTC</a>, 
    <a href="Coder.html#TIMESTAMP_DB_LOCAL-constant" title="PG::Coder::TIMESTAMP_DB_LOCAL (constant)">TIMESTAMP_DB_LOCAL</a>, 
    <a href="Coder.html#TIMESTAMP_DB_UTC-constant" title="PG::Coder::TIMESTAMP_DB_UTC (constant)">TIMESTAMP_DB_UTC</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="Coder.html" title="PG::Coder (class)"><code>Coder</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Coder.html#new-class_method" title="PG::Coder.new (method)">.new</a></td>
      <td><div class='inline'><p>Create a new coder object based on the attribute Hash.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#delimiter-instance_method" title="#delimiter (instance method)">#<strong>delimiter</strong>  &#x21d2; String </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The character that separates values within the composite type.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#delimiter=-instance_method" title="#delimiter= (instance method)">#<strong>delimiter=</strong>(String)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies the character that separates values within the composite type.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#dimensions-instance_method" title="#dimensions (instance method)">#<strong>dimensions</strong>  &#x21d2; Integer | nil </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get number of enforced array dimensions or <code>nil</code> if not set.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#dimensions=-instance_method" title="#dimensions= (instance method)">#<strong>dimensions=</strong>(Integer)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set number of array dimensions to be encoded.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#elements_type-instance_method" title="#elements_type (instance method)">#<strong>elements_type</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#needs_quotation=-instance_method" title="#needs_quotation= (instance method)">#<strong>needs_quotation=</strong>(Boolean)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies whether the assigned <a href="#elements_type-instance_method" title="PG::CompositeCoder#elements_type (method)">#elements_type</a> requires quotation marks to be transferred safely.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#needs_quotation%3F-instance_method" title="#needs_quotation (instance method)">#<strong>needs_quotation</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies whether the assigned <a href="#elements_type-instance_method" title="PG::CompositeCoder#elements_type (method)">#elements_type</a> requires quotation marks to be transferred safely.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Coder.html" title="PG::Coder (class)"><code>Coder</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="Coder.html#flags-instance_method" title="PG::Coder#flags (method)">#flags</a></td>
      <td><div class='inline'><p>Get current bitwise OR-ed coder flags.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="Coder.html#flags=-instance_method" title="PG::Coder#flags= (method)">#flags=</a></td>
      <td><div class='inline'><p>Set coder specific bitwise OR-ed flags.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="Coder.html#format-instance_method" title="PG::Coder#format (method)">#format</a></td>
      <td><div class='inline'><p>The format code that is sent alongside with an encoded query parameter value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="Coder.html#format=-instance_method" title="PG::Coder#format= (method)">#format=</a></td>
      <td><div class='inline'><p>Specifies the format code that is sent alongside with an encoded query parameter value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="Coder.html#name-instance_method" title="PG::Coder#name (method)">#name</a></td>
      <td><div class='inline'><p>Name of the coder or the corresponding data type.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="Coder.html#oid-instance_method" title="PG::Coder#oid (method)">#oid</a></td>
      <td><div class='inline'><p>The type OID that is sent alongside with an encoded query parameter value.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="Coder.html#oid=-instance_method" title="PG::Coder#oid= (method)">#oid=</a></td>
      <td><div class='inline'><p>Specifies the type OID that is sent alongside with an encoded query parameter value.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#elements_type=-instance_method" title="#elements_type= (instance method)">#<strong>elements_type=</strong>(coder)  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Specifies the <a href="Coder.html" title="PG::Coder (class)"><code>Coder</code></a> object that is used to encode or decode the single elementes of this composite type.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>  </a>
    </span>
  </li>
</ul>

<h3 class='inherited'><a href="Coder.html" title="PG::Coder (class)"><code>Coder</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="Coder.html#==-instance_method" title="PG::Coder#== (method)">#==</a>,
        <a class='i_m ' href="Coder.html#dup-instance_method" title="PG::Coder#dup (method)">#dup</a>,
        <a class='i_m ' href="Coder.html#inspect-instance_method" title="PG::Coder#inspect (method)">#inspect</a>,
        <a class='i_m ' href="Coder.html#inspect_short-instance_method" title="PG::Coder#inspect_short (method)">#inspect_short</a>,
        <a class='i_m ' href="Coder.html#marshal_dump-instance_method" title="PG::Coder#marshal_dump (method)">#marshal_dump</a>,
        <a class='i_m ' href="Coder.html#marshal_load-instance_method" title="PG::Coder#marshal_load (method)">#marshal_load</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Coder.html#to_h-instance_method" title="PG::Coder#to_h (method)">#to_h</a></td>
      <td><div class='inline'><p>Returns coder attributes as Hash.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <p class='notice'>This class inherits a constructor from <a href="Coder.html#new-class_method" title="PG::Coder.new (method)">PG::Coder</a></p>
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="delimiter-instance_method">
  <h3 class='signature rw first'>
    #<strong>delimiter</strong>  &#x21d2; <code>String</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The character that separates values within the composite type.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L421-L426'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='421' data-end='426'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_coder.c', line 421</span></pre>
<pre class='code cpp'>

static VALUE
pg_coder_delimiter_get(VALUE self)
{
	t_pg_composite_coder *this = RTYPEDDATA_DATA(self);
	return rb_str_new(&amp;this-&gt;delimiter, 1);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delimiter=-instance_method">
  <h3 class='signature rw'>
    #<strong>delimiter=</strong>(String)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies the character that separates values within the composite type. The default is a comma. This must be a single one-byte character. It is only used by text coders and ignored by binary coders.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L403-L413'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='403' data-end='413'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_coder.c', line 403</span></pre>
<pre class='code cpp'>

static VALUE
pg_coder_delimiter_set(VALUE self, VALUE delimiter)
{
	t_pg_composite_coder *this = RTYPEDDATA_DATA(self);
	rb_check_frozen(self);
	StringValue(delimiter);
	if(RSTRING_LEN(delimiter) != 1)
		rb_raise( rb_eArgError, &quot;delimiter size must be one byte&quot;);
	this-&gt;delimiter = *RSTRING_PTR(delimiter);
	return delimiter;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dimensions-instance_method">
  <h3 class='signature rw'>
    #<strong>dimensions</strong>  &#x21d2; <code>Integer</code> | <code>nil</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get number of enforced array dimensions or <code>nil</code> if not set.</p>

<p>See <a href="#dimensions=-instance_method" title="PG::CompositeCoder#dimensions= (method)">#dimensions=</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L464-L469'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='464' data-end='469'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_coder.c', line 464</span></pre>
<pre class='code cpp'>

static VALUE
pg_coder_dimensions_get(VALUE self)
{
	t_pg_composite_coder *this = RTYPEDDATA_DATA(self);
	return this-&gt;dimensions &lt; 0 ? Qnil : INT2NUM(this-&gt;dimensions);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dimensions=-instance_method">
  <h3 class='signature rw'>
    <div class='inline-block'>
      <span class='overload'>#<strong>dimensions=</strong>(Integer)   <span class="extras">(<span class='rw'>rw</span>)</span></span>
      <span class='overload'>#<strong>dimensions=</strong>(nil)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set number of array dimensions to be encoded.</p>

<p>This property ensures, that this number of dimensions is always encoded. If less dimensions than this number are in the given value, an ArgumentError is raised. If more dimensions than this number are in the value, the Array value is passed to the next encoder.</p>

<p>Setting dimensions is especially useful, when a Record shall be encoded into an Array, since the Array encoder can not distinguish if the array shall be encoded as a higher dimension or as a record otherwise.</p>

<p>The default is <code>nil</code>.</p>

<p>See <a href="#dimensions-instance_method" title="PG::CompositeCoder#dimensions (method)">#dimensions</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L445-L454'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='445' data-end='454'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_coder.c', line 445</span></pre>
<pre class='code cpp'>

static VALUE
pg_coder_dimensions_set(VALUE self, VALUE dimensions)
{
	t_pg_composite_coder *this = RTYPEDDATA_DATA(self);
	rb_check_frozen(self);
	if(!NIL_P(dimensions) &amp;&amp; NUM2INT(dimensions) &lt; 0)
		rb_raise( rb_eArgError, &quot;dimensions must be nil or &gt;= 0&quot;);
	this-&gt;dimensions = NIL_P(dimensions) ? -1 : NUM2INT(dimensions);
	return dimensions;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="elements_type-instance_method">
  <h3 class='signature ro'>
    #<strong>elements_type</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[ <a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L657'>GitHub</a> ]</span>

</section>

<section class='method_details' id="needs_quotation=-instance_method">
  <h3 class='signature rw'>
    #<strong>needs_quotation=</strong>(Boolean)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies whether the assigned <a href="#elements_type-instance_method" title="PG::CompositeCoder#elements_type (method)">#elements_type</a> requires quotation marks to be transferred safely. Encoding with <code>#needs_quotation=false</code> is somewhat faster. It is only used by text coders and ignored by binary coders.</p>

<p>The default is <code>true</code>. This option is ignored for decoding of values.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L371-L378'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='371' data-end='378'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_coder.c', line 371</span></pre>
<pre class='code cpp'>

static VALUE
pg_coder_needs_quotation_set(VALUE self, VALUE needs_quotation)
{
	t_pg_composite_coder *this = RTYPEDDATA_DATA(self);
	rb_check_frozen(self);
	this-&gt;needs_quotation = RTEST(needs_quotation);
	return needs_quotation;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="needs_quotation?-instance_method">
  <h3 class='signature rw'>
    #<strong>needs_quotation</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies whether the assigned <a href="#elements_type-instance_method" title="PG::CompositeCoder#elements_type (method)">#elements_type</a> requires quotation marks to be transferred safely.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L387-L392'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='387' data-end='392'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_coder.c', line 387</span></pre>
<pre class='code cpp'>

static VALUE
pg_coder_needs_quotation_get(VALUE self)
{
	t_pg_composite_coder *this = RTYPEDDATA_DATA(self);
	return this-&gt;needs_quotation ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="elements_type=-instance_method">
  <h3 class='signature ro first'>
    #<strong>elements_type=</strong>(coder)   <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specifies the <a href="Coder.html" title="PG::Coder (class)"><code>Coder</code></a> object that is used to encode or decode the single elementes of this composite type.</p>

<p>If set to <code>nil</code> all values are encoded and decoded as String objects.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_coder.c#L480-L497'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='480' data-end='497'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_coder.c', line 480</span></pre>
<pre class='code cpp'>

static VALUE
pg_coder_elements_type_set(VALUE self, VALUE elem_type)
{
	t_pg_composite_coder *this = RTYPEDDATA_DATA( self );

	rb_check_frozen(self);
	if ( NIL_P(elem_type) ){
		this-&gt;elem = NULL;
	} else if ( rb_obj_is_kind_of(elem_type, rb_cPG_Coder) ){
		this-&gt;elem = RTYPEDDATA_DATA( elem_type );
	} else {
		rb_raise( rb_eTypeError, &quot;wrong elements type %s (expected some kind of PG::Coder)&quot;,
				rb_obj_classname( elem_type ) );
	}

	rb_iv_set( self, &quot;@elements_type&quot;, elem_type );
	return elem_type;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/lib/pg/coder.rb#L84-L88'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='84' data-end='88'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/pg/coder.rb', line 84</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
	<span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='kw'>super</span>
	<span class='id identifier rubyid_str'>str</span>[<span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>0</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> elements_type=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_elements_type'><a href="#elements_type-instance_method" title="PG::CompositeCoder#elements_type (method)">elements_type</a></span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_needs_quotation?'><a href="#needs_quotation%3F-instance_method" title="PG::CompositeCoder#needs_quotation? (method)">needs_quotation?</a></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>needs</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'> quotation</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dimensions'><a href="#dimensions-instance_method" title="PG::CompositeCoder#dimensions (method)">dimensions</a></span> <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dimensions'><a href="#dimensions-instance_method" title="PG::CompositeCoder#dimensions (method)">dimensions</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> dimensions</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_h-instance_method">
  <h3 class='signature '>
    #<strong>to_h</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/lib/pg/coder.rb#L74-L82'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='74' data-end='82'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/pg/coder.rb', line 74</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_h'>to_h</span>
	<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> { <span class='op'>**</span><span class='kw'>super</span><span class='comma'>,</span>
		<span class='label'>elements_type:</span> <span class='id identifier rubyid_elements_type'><a href="#elements_type-instance_method" title="PG::CompositeCoder#elements_type (method)">elements_type</a></span><span class='comma'>,</span>
		<span class='label'>needs_quotation:</span> <span class='id identifier rubyid_needs_quotation?'><a href="#needs_quotation%3F-instance_method" title="PG::CompositeCoder#needs_quotation? (method)">needs_quotation?</a></span><span class='comma'>,</span>
		<span class='label'>delimiter:</span> <span class='id identifier rubyid_delimiter'><a href="#delimiter-instance_method" title="PG::CompositeCoder#delimiter (method)">delimiter</a></span><span class='comma'>,</span>
	}
	<span class='id identifier rubyid_h'>h</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_dimensions'><a href="#dimensions-instance_method" title="PG::CompositeCoder#dimensions (method)">dimensions</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_dimensions'><a href="#dimensions-instance_method" title="PG::CompositeCoder#dimensions (method)">dimensions</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_dimensions'><a href="#dimensions-instance_method" title="PG::CompositeCoder#dimensions (method)">dimensions</a></span> <span class='comment'># Write only when set, for Marshal compat with pg&lt;1.6
</span>	<span class='id identifier rubyid_h'>h</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>