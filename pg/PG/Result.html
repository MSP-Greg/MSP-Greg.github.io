<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: PG::Result &mdash; PG master</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "PG::Result",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>PG master</a> &raquo; 
      <a href='../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../PG.html" title="PG (module)">PG</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Result&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: PG::Result</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Enumerable,
          <a href="Constants.html" title="PG::Constants (module)"><code>Constants</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L511'>ext/pg_result.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1699'>ext/pg_result.c</a>,<br/> <a class='repo' href='https://github.com/ged/ruby-pg/blob/master/lib/pg/result.rb#L7'>lib/pg/result.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>The class to represent the query result tuples (rows). An instance of this class is created as the result of every query. All result rows and columns are stored in a memory block attached to the <code>Result</code> object. Whenever a value is accessed it is casted to a Ruby object by the assigned <a href="#type_map-instance_method" title="PG::Result#type_map (method)">#type_map</a> .</p>

<p>Since pg-1.1 the amount of memory in use by a <code>Result</code> object is estimated and passed to ruby’s garbage collector. You can invoke the <a href="#clear-instance_method" title="PG::Result#clear (method)">#clear</a> method to force deallocation of memory of the instance when finished with the result for better memory performance.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pg</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_conn'>conn</span> <span class='op'>=</span> <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span>.<span class='id identifier rubyid_connect'><a href="../PG.html#connect-class_method" title="PG.connect (method)">connect</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_dbname'>dbname</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_res'>res</span>  <span class='op'>=</span> <span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_exec'>exec</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SELECT 1 AS a, 2 AS b, NULL AS c</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_getvalue'><a href="#getvalue-instance_method" title="PG::Result#getvalue (method)">getvalue</a></span>(<span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span>) <span class='comment'># &#39;1&#39;
</span><span class='id identifier rubyid_res'>res</span>[<span class='int'>0</span>][<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>]       <span class='comment'># &#39;2&#39;
</span><span class='id identifier rubyid_res'>res</span>[<span class='int'>0</span>][<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>]       <span class='comment'># nil</span></code></pre>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
  <h3 class='inherited'><a href="Constants.html" title="PG::Constants (module)"><code>Constants</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="Constants.html#CONNECTION_AUTH_OK-constant" title="PG::Constants::CONNECTION_AUTH_OK (constant)">CONNECTION_AUTH_OK</a>, 
    <a href="Constants.html#CONNECTION_AWAITING_RESPONSE-constant" title="PG::Constants::CONNECTION_AWAITING_RESPONSE (constant)">CONNECTION_AWAITING_RESPONSE</a>, 
    <a href="Constants.html#CONNECTION_BAD-constant" title="PG::Constants::CONNECTION_BAD (constant)">CONNECTION_BAD</a>, 
    <a href="Constants.html#CONNECTION_CHECK_STANDBY-constant" title="PG::Constants::CONNECTION_CHECK_STANDBY (constant)">CONNECTION_CHECK_STANDBY</a>, 
    <a href="Constants.html#CONNECTION_CHECK_TARGET-constant" title="PG::Constants::CONNECTION_CHECK_TARGET (constant)">CONNECTION_CHECK_TARGET</a>, 
    <a href="Constants.html#CONNECTION_CHECK_WRITABLE-constant" title="PG::Constants::CONNECTION_CHECK_WRITABLE (constant)">CONNECTION_CHECK_WRITABLE</a>, 
    <a href="Constants.html#CONNECTION_CONSUME-constant" title="PG::Constants::CONNECTION_CONSUME (constant)">CONNECTION_CONSUME</a>, 
    <a href="Constants.html#CONNECTION_GSS_STARTUP-constant" title="PG::Constants::CONNECTION_GSS_STARTUP (constant)">CONNECTION_GSS_STARTUP</a>, 
    <a href="Constants.html#CONNECTION_MADE-constant" title="PG::Constants::CONNECTION_MADE (constant)">CONNECTION_MADE</a>, 
    <a href="Constants.html#CONNECTION_NEEDED-constant" title="PG::Constants::CONNECTION_NEEDED (constant)">CONNECTION_NEEDED</a>, 
    <a href="Constants.html#CONNECTION_OK-constant" title="PG::Constants::CONNECTION_OK (constant)">CONNECTION_OK</a>, 
    <a href="Constants.html#CONNECTION_SETENV-constant" title="PG::Constants::CONNECTION_SETENV (constant)">CONNECTION_SETENV</a>, 
    <a href="Constants.html#CONNECTION_SSL_STARTUP-constant" title="PG::Constants::CONNECTION_SSL_STARTUP (constant)">CONNECTION_SSL_STARTUP</a>, 
    <a href="Constants.html#CONNECTION_STARTED-constant" title="PG::Constants::CONNECTION_STARTED (constant)">CONNECTION_STARTED</a>, 
    <a href="Constants.html#DEF_PGPORT-constant" title="PG::Constants::DEF_PGPORT (constant)">DEF_PGPORT</a>, 
    <a href="Constants.html#INVALID_OID-constant" title="PG::Constants::INVALID_OID (constant)">INVALID_OID</a>, 
    <a href="Constants.html#INV_READ-constant" title="PG::Constants::INV_READ (constant)">INV_READ</a>, 
    <a href="Constants.html#INV_WRITE-constant" title="PG::Constants::INV_WRITE (constant)">INV_WRITE</a>, 
    <a href="Constants.html#InvalidOid-constant" title="PG::Constants::InvalidOid (constant)">InvalidOid</a>, 
    <a href="Constants.html#PGRES_BAD_RESPONSE-constant" title="PG::Constants::PGRES_BAD_RESPONSE (constant)">PGRES_BAD_RESPONSE</a>, 
    <a href="Constants.html#PGRES_COMMAND_OK-constant" title="PG::Constants::PGRES_COMMAND_OK (constant)">PGRES_COMMAND_OK</a>, 
    <a href="Constants.html#PGRES_COPY_BOTH-constant" title="PG::Constants::PGRES_COPY_BOTH (constant)">PGRES_COPY_BOTH</a>, 
    <a href="Constants.html#PGRES_COPY_IN-constant" title="PG::Constants::PGRES_COPY_IN (constant)">PGRES_COPY_IN</a>, 
    <a href="Constants.html#PGRES_COPY_OUT-constant" title="PG::Constants::PGRES_COPY_OUT (constant)">PGRES_COPY_OUT</a>, 
    <a href="Constants.html#PGRES_EMPTY_QUERY-constant" title="PG::Constants::PGRES_EMPTY_QUERY (constant)">PGRES_EMPTY_QUERY</a>, 
    <a href="Constants.html#PGRES_FATAL_ERROR-constant" title="PG::Constants::PGRES_FATAL_ERROR (constant)">PGRES_FATAL_ERROR</a>, 
    <a href="Constants.html#PGRES_NONFATAL_ERROR-constant" title="PG::Constants::PGRES_NONFATAL_ERROR (constant)">PGRES_NONFATAL_ERROR</a>, 
    <a href="Constants.html#PGRES_PIPELINE_ABORTED-constant" title="PG::Constants::PGRES_PIPELINE_ABORTED (constant)">PGRES_PIPELINE_ABORTED</a>, 
    <a href="Constants.html#PGRES_PIPELINE_SYNC-constant" title="PG::Constants::PGRES_PIPELINE_SYNC (constant)">PGRES_PIPELINE_SYNC</a>, 
    <a href="Constants.html#PGRES_POLLING_FAILED-constant" title="PG::Constants::PGRES_POLLING_FAILED (constant)">PGRES_POLLING_FAILED</a>, 
    <a href="Constants.html#PGRES_POLLING_OK-constant" title="PG::Constants::PGRES_POLLING_OK (constant)">PGRES_POLLING_OK</a>, 
    <a href="Constants.html#PGRES_POLLING_READING-constant" title="PG::Constants::PGRES_POLLING_READING (constant)">PGRES_POLLING_READING</a>, 
    <a href="Constants.html#PGRES_POLLING_WRITING-constant" title="PG::Constants::PGRES_POLLING_WRITING (constant)">PGRES_POLLING_WRITING</a>, 
    <a href="Constants.html#PGRES_SINGLE_TUPLE-constant" title="PG::Constants::PGRES_SINGLE_TUPLE (constant)">PGRES_SINGLE_TUPLE</a>, 
    <a href="Constants.html#PGRES_TUPLES_OK-constant" title="PG::Constants::PGRES_TUPLES_OK (constant)">PGRES_TUPLES_OK</a>, 
    <a href="Constants.html#PG_DIAG_COLUMN_NAME-constant" title="PG::Constants::PG_DIAG_COLUMN_NAME (constant)">PG_DIAG_COLUMN_NAME</a>, 
    <a href="Constants.html#PG_DIAG_CONSTRAINT_NAME-constant" title="PG::Constants::PG_DIAG_CONSTRAINT_NAME (constant)">PG_DIAG_CONSTRAINT_NAME</a>, 
    <a href="Constants.html#PG_DIAG_CONTEXT-constant" title="PG::Constants::PG_DIAG_CONTEXT (constant)">PG_DIAG_CONTEXT</a>, 
    <a href="Constants.html#PG_DIAG_DATATYPE_NAME-constant" title="PG::Constants::PG_DIAG_DATATYPE_NAME (constant)">PG_DIAG_DATATYPE_NAME</a>, 
    <a href="Constants.html#PG_DIAG_INTERNAL_POSITION-constant" title="PG::Constants::PG_DIAG_INTERNAL_POSITION (constant)">PG_DIAG_INTERNAL_POSITION</a>, 
    <a href="Constants.html#PG_DIAG_INTERNAL_QUERY-constant" title="PG::Constants::PG_DIAG_INTERNAL_QUERY (constant)">PG_DIAG_INTERNAL_QUERY</a>, 
    <a href="Constants.html#PG_DIAG_MESSAGE_DETAIL-constant" title="PG::Constants::PG_DIAG_MESSAGE_DETAIL (constant)">PG_DIAG_MESSAGE_DETAIL</a>, 
    <a href="Constants.html#PG_DIAG_MESSAGE_HINT-constant" title="PG::Constants::PG_DIAG_MESSAGE_HINT (constant)">PG_DIAG_MESSAGE_HINT</a>, 
    <a href="Constants.html#PG_DIAG_MESSAGE_PRIMARY-constant" title="PG::Constants::PG_DIAG_MESSAGE_PRIMARY (constant)">PG_DIAG_MESSAGE_PRIMARY</a>, 
    <a href="Constants.html#PG_DIAG_SCHEMA_NAME-constant" title="PG::Constants::PG_DIAG_SCHEMA_NAME (constant)">PG_DIAG_SCHEMA_NAME</a>, 
    <a href="Constants.html#PG_DIAG_SEVERITY-constant" title="PG::Constants::PG_DIAG_SEVERITY (constant)">PG_DIAG_SEVERITY</a>, 
    <a href="Constants.html#PG_DIAG_SEVERITY_NONLOCALIZED-constant" title="PG::Constants::PG_DIAG_SEVERITY_NONLOCALIZED (constant)">PG_DIAG_SEVERITY_NONLOCALIZED</a>, 
    <a href="Constants.html#PG_DIAG_SOURCE_FILE-constant" title="PG::Constants::PG_DIAG_SOURCE_FILE (constant)">PG_DIAG_SOURCE_FILE</a>, 
    <a href="Constants.html#PG_DIAG_SOURCE_FUNCTION-constant" title="PG::Constants::PG_DIAG_SOURCE_FUNCTION (constant)">PG_DIAG_SOURCE_FUNCTION</a>, 
    <a href="Constants.html#PG_DIAG_SOURCE_LINE-constant" title="PG::Constants::PG_DIAG_SOURCE_LINE (constant)">PG_DIAG_SOURCE_LINE</a>, 
    <a href="Constants.html#PG_DIAG_SQLSTATE-constant" title="PG::Constants::PG_DIAG_SQLSTATE (constant)">PG_DIAG_SQLSTATE</a>, 
    <a href="Constants.html#PG_DIAG_STATEMENT_POSITION-constant" title="PG::Constants::PG_DIAG_STATEMENT_POSITION (constant)">PG_DIAG_STATEMENT_POSITION</a>, 
    <a href="Constants.html#PG_DIAG_TABLE_NAME-constant" title="PG::Constants::PG_DIAG_TABLE_NAME (constant)">PG_DIAG_TABLE_NAME</a>, 
    <a href="Constants.html#PQERRORS_DEFAULT-constant" title="PG::Constants::PQERRORS_DEFAULT (constant)">PQERRORS_DEFAULT</a>, 
    <a href="Constants.html#PQERRORS_SQLSTATE-constant" title="PG::Constants::PQERRORS_SQLSTATE (constant)">PQERRORS_SQLSTATE</a>, 
    <a href="Constants.html#PQERRORS_TERSE-constant" title="PG::Constants::PQERRORS_TERSE (constant)">PQERRORS_TERSE</a>, 
    <a href="Constants.html#PQERRORS_VERBOSE-constant" title="PG::Constants::PQERRORS_VERBOSE (constant)">PQERRORS_VERBOSE</a>, 
    <a href="Constants.html#PQPING_NO_ATTEMPT-constant" title="PG::Constants::PQPING_NO_ATTEMPT (constant)">PQPING_NO_ATTEMPT</a>, 
    <a href="Constants.html#PQPING_NO_RESPONSE-constant" title="PG::Constants::PQPING_NO_RESPONSE (constant)">PQPING_NO_RESPONSE</a>, 
    <a href="Constants.html#PQPING_OK-constant" title="PG::Constants::PQPING_OK (constant)">PQPING_OK</a>, 
    <a href="Constants.html#PQPING_REJECT-constant" title="PG::Constants::PQPING_REJECT (constant)">PQPING_REJECT</a>, 
    <a href="Constants.html#PQSHOW_CONTEXT_ALWAYS-constant" title="PG::Constants::PQSHOW_CONTEXT_ALWAYS (constant)">PQSHOW_CONTEXT_ALWAYS</a>, 
    <a href="Constants.html#PQSHOW_CONTEXT_ERRORS-constant" title="PG::Constants::PQSHOW_CONTEXT_ERRORS (constant)">PQSHOW_CONTEXT_ERRORS</a>, 
    <a href="Constants.html#PQSHOW_CONTEXT_NEVER-constant" title="PG::Constants::PQSHOW_CONTEXT_NEVER (constant)">PQSHOW_CONTEXT_NEVER</a>, 
    <a href="Constants.html#PQTRANS_ACTIVE-constant" title="PG::Constants::PQTRANS_ACTIVE (constant)">PQTRANS_ACTIVE</a>, 
    <a href="Constants.html#PQTRANS_IDLE-constant" title="PG::Constants::PQTRANS_IDLE (constant)">PQTRANS_IDLE</a>, 
    <a href="Constants.html#PQTRANS_INERROR-constant" title="PG::Constants::PQTRANS_INERROR (constant)">PQTRANS_INERROR</a>, 
    <a href="Constants.html#PQTRANS_INTRANS-constant" title="PG::Constants::PQTRANS_INTRANS (constant)">PQTRANS_INTRANS</a>, 
    <a href="Constants.html#PQTRANS_UNKNOWN-constant" title="PG::Constants::PQTRANS_UNKNOWN (constant)">PQTRANS_UNKNOWN</a>, 
    <a href="Constants.html#PQ_PIPELINE_ABORTED-constant" title="PG::Constants::PQ_PIPELINE_ABORTED (constant)">PQ_PIPELINE_ABORTED</a>, 
    <a href="Constants.html#PQ_PIPELINE_OFF-constant" title="PG::Constants::PQ_PIPELINE_OFF (constant)">PQ_PIPELINE_OFF</a>, 
    <a href="Constants.html#PQ_PIPELINE_ON-constant" title="PG::Constants::PQ_PIPELINE_ON (constant)">PQ_PIPELINE_ON</a>, 
    <a href="Constants.html#SEEK_CUR-constant" title="PG::Constants::SEEK_CUR (constant)">SEEK_CUR</a>, 
    <a href="Constants.html#SEEK_END-constant" title="PG::Constants::SEEK_END (constant)">SEEK_END</a>, 
    <a href="Constants.html#SEEK_SET-constant" title="PG::Constants::SEEK_SET (constant)">SEEK_SET</a>
  </p>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#res_status-class_method" title="res_status (class method)">.<strong>res_status</strong>(status)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the string representation of <code>status</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#autoclear%3F-instance_method" title="#autoclear? (instance method)">#<strong>autoclear?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the underlying C struct will be cleared at the end of a callback.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#cleared%3F-instance_method" title="#cleared? (instance method)">#<strong>cleared?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the backend result memory has been freed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#field_name_type-instance_method" title="#field_name_type (instance method)">#<strong>field_name_type</strong>  &#x21d2; Symbol </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Get type of field names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#field_name_type=-instance_method" title="#field_name_type= (instance method)">#<strong>field_name_type=</strong>(Symbol)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set type of field names specific to this result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#type_map-instance_method" title="#type_map (instance method)">#<strong>type_map</strong>  &#x21d2; value </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="TypeMap.html" title="PG::TypeMap (class)"><code>TypeMap</code></a> that is currently set for type casts of result values to ruby objects.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#type_map=-instance_method" title="#type_map= (instance method)">#<strong>type_map=</strong>(typemap)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the <a href="TypeMap.html" title="PG::TypeMap (class)"><code>TypeMap</code></a> that is used for type casts of result values to ruby objects.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(n )  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns tuple <em>n</em> as a hash.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#binary_tuples-instance_method" title="#binary_tuples (instance method)">#<strong>binary_tuples</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns 1 if the PGresult contains binary data and 0 if it contains text data.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#check_result-instance_method" title="#check (instance method)">#<strong>check</strong>  &#x21d2; nil </a>
      (also: #check_result)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Raises appropriate exception if <code>Result</code> is in a bad state, which is: * <code>PGRES_BAD_RESPONSE</code> * <code>PGRES_FATAL_ERROR</code> * <code>PGRES_NONFATAL_ERROR</code> * <code>PGRES_PIPELINE_ABORTED</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#check_result-instance_method" title="#check_result (instance method)">#<strong>check_result</strong>  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#check-instance_method" title="PG::Result#check (method)">#check</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Clears the <code>Result</code> object as the result of a query.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmd_status-instance_method" title="#cmd_status (instance method)">#<strong>cmd_status</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the status string of the last query command.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmd_tuples-instance_method" title="#cmd_tuples (instance method)">#<strong>cmd_tuples</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#cmdtuples-instance_method" title="PG::Result#cmdtuples (method)">#cmdtuples</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cmdtuples-instance_method" title="#cmdtuples (instance method)">#<strong>cmdtuples</strong>  &#x21d2; Integer </a>
      (also: #cmd_tuples)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of tuples (rows) affected by the SQL command.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#column_values-instance_method" title="#column_values (instance method)">#<strong>column_values</strong>(n)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an Array of the values from the nth column of each tuple in the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong> {|tuple| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Invokes block for each tuple in the result set.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_row-instance_method" title="#each_row (instance method)">#<strong>each_row</strong> {|row| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Yields each row of the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#result_error_field-instance_method" title="#error_field (instance method)">#<strong>error_field</strong>(fieldcode)  &#x21d2; String </a>
      (also: #result_error_field)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the individual field of an error.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#result_error_message-instance_method" title="#error_message (instance method)">#<strong>error_message</strong>  &#x21d2; String </a>
      (also: #result_error_message)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the error message of the command as a string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fformat-instance_method" title="#fformat (instance method)">#<strong>fformat</strong>(column_number)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the format (0 for text, 1 for binary) of column <em>column_number</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#field_names_as-instance_method" title="#field_names_as (instance method)">#<strong>field_names_as</strong>(type)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the data type for all field name returning methods.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#field_values-instance_method" title="#field_values (instance method)">#<strong>field_values</strong>(field)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an Array of the values from the given <em>field</em> of each tuple in the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fields-instance_method" title="#fields (instance method)">#<strong>fields</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Depending on <a href="#field_name_type=-instance_method" title="PG::Result#field_name_type= (method)">#field_name_type=</a> returns an array of strings or symbols representing the names of the fields in the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fmod-instance_method" title="#fmod (instance method)">#<strong>fmod</strong>(column_number)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the type modifier associated with column <em>column_number</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fname-instance_method" title="#fname (instance method)">#<strong>fname</strong>(index)  &#x21d2; String, Symbol </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the name of the column corresponding to <em>index</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fnumber-instance_method" title="#fnumber (instance method)">#<strong>fnumber</strong>(name)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the index of the field specified by the string <code>name</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#freeze-instance_method" title="#freeze (instance method)">#<strong>freeze</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Freeze the <code>Result</code> object and unlink the result from the related <a href="Connection.html" title="PG::Connection (class)"><code>Connection</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fsize-instance_method" title="#fsize (instance method)">#<strong>fsize</strong>(index)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the size of the field type in bytes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ftable-instance_method" title="#ftable (instance method)">#<strong>ftable</strong>(column_number)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the Oid of the table from which the column <em>column_number</em> was fetched.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ftablecol-instance_method" title="#ftablecol (instance method)">#<strong>ftablecol</strong>(column_number)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the column number (within its table) of the table from which the column <em>column_number</em> is made up.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ftype-instance_method" title="#ftype (instance method)">#<strong>ftype</strong>(column_number)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the data type associated with <em>column_number</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getisnull-instance_method" title="#getisnull (instance method)">#<strong>getisnull</strong>(tuple_position, field_position)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if the specified value is <code>nil</code>; <code>false</code> otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getlength-instance_method" title="#getlength (instance method)">#<strong>getlength</strong>(tup_num, field_num)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the (String) length of the field in bytes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getvalue-instance_method" title="#getvalue (instance method)">#<strong>getvalue</strong>(tup_num, field_num)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the value in tuple number <em>tup_num</em>, field <em>field_num</em>, or <code>nil</code> if the field is <code>NULL</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return a String representation of the object suitable for debugging.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#map_types!-instance_method" title="#map_types! (instance method)">#<strong>map_types!</strong>(type_map)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Apply a type map for all value retrieving methods.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#num_fields-instance_method" title="#nfields (instance method)">#<strong>nfields</strong>  &#x21d2; Integer </a>
      (also: #num_fields)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of columns in the query result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#nparams-instance_method" title="#nparams (instance method)">#<strong>nparams</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of parameters of a prepared statement.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#num_tuples-instance_method" title="#ntuples (instance method)">#<strong>ntuples</strong>  &#x21d2; Integer </a>
      (also: #num_tuples)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the number of tuples in the query result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#num_fields-instance_method" title="#num_fields (instance method)">#<strong>num_fields</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#nfields-instance_method" title="PG::Result#nfields (method)">#nfields</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#num_tuples-instance_method" title="#num_tuples (instance method)">#<strong>num_tuples</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#ntuples-instance_method" title="PG::Result#ntuples (method)">#ntuples</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#oid_value-instance_method" title="#oid_value (instance method)">#<strong>oid_value</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <code>oid</code> of the inserted row if applicable, otherwise <code>nil</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#paramtype-instance_method" title="#paramtype (instance method)">#<strong>paramtype</strong>(param_number)  &#x21d2; Oid </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the Oid of the data type of parameter <em>param_number</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#res_status-instance_method" title="#res_status (instance method)">#<strong>res_status</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the string representation of the status of the result or of the provided <code>status</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#result_error_field-instance_method" title="#result_error_field (instance method)">#<strong>result_error_field</strong>(fieldcode)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#error_field-instance_method" title="PG::Result#error_field (method)">#error_field</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#result_error_message-instance_method" title="#result_error_message (instance method)">#<strong>result_error_message</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#error_message-instance_method" title="PG::Result#error_message (method)">#error_message</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#result_status-instance_method" title="#result_status (instance method)">#<strong>result_status</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the status of the query.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#result_verbose_error_message-instance_method" title="#result_verbose_error_message (instance method)">#<strong>result_verbose_error_message</strong>(verbosity, show_context)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#verbose_error_message-instance_method" title="PG::Result#verbose_error_message (method)">#verbose_error_message</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stream_each-instance_method" title="#stream_each (instance method)">#<strong>stream_each</strong> {|tuple| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Invokes block for each tuple in the result set in single row mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stream_each_row-instance_method" title="#stream_each_row (instance method)">#<strong>stream_each_row</strong> {|row| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Yields each row of the result set in single row mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stream_each_tuple-instance_method" title="#stream_each_tuple (instance method)">#<strong>stream_each_tuple</strong> {|tuple| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Yields each row of the result set in single row mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tuple-instance_method" title="#tuple (instance method)">#<strong>tuple</strong>(n)  &#x21d2; PG::Tuple </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="Tuple.html" title="PG::Tuple (class)"><code>Tuple</code></a> from the nth row of the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tuple_values-instance_method" title="#tuple_values (instance method)">#<strong>tuple_values</strong>(n)  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an Array of the field values from the nth row of the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values-instance_method" title="#values (instance method)">#<strong>values</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns all tuples as an array of arrays.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#result_verbose_error_message-instance_method" title="#verbose_error_message (instance method)">#<strong>verbose_error_message</strong>(verbosity, show_context)  &#x21d2; String </a>
      (also: #result_verbose_error_message)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a reformatted version of the error message associated with a PGresult object.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="res_status-class_method">
  <h3 class='signature  first'>
    .<strong>res_status</strong>(status)  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the string representation of <code>status</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L570-L574'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='570' data-end='574'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 570</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_s_res_status(VALUE self, VALUE status)
{
	return rb_utf8_str_new_cstr(PQresStatus(NUM2INT(status)));
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="autoclear?-instance_method">
  <h3 class='signature ro first'>
    #<strong>autoclear?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the underlying C struct will be cleared at the end of a callback. This applies only to <code>Result</code> objects received by the block to <a href="Connection.html#set_notice_receiver-instance_method" title="PG::Connection#set_notice_receiver (method)">Connection#set_notice_receiver</a> .</p>

<p>All other <code>Result</code> objects are automatically cleared by the GC when the object is no longer in use or manually by <a href="#clear-instance_method" title="PG::Result#clear (method)">#clear</a> .</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L427-L432'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='427' data-end='432'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 427</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_autoclear_p( VALUE self )
{
	t_pg_result *this = pgresult_get_this(self);
	return this-&gt;autoclear ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cleared?-instance_method">
  <h3 class='signature ro'>
    #<strong>cleared?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the backend result memory has been freed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L410-L415'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='410' data-end='415'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 410</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_cleared_p( VALUE self )
{
	t_pg_result *this = pgresult_get_this(self);
	return this-&gt;pgresult ? Qfalse : Qtrue;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="field_name_type-instance_method">
  <h3 class='signature rw'>
    #<strong>field_name_type</strong>  &#x21d2; <code>Symbol</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get type of field names.</p>

<p>See description at <a href="#field_name_type=-instance_method" title="PG::Result#field_name_type= (method)">#field_name_type=</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1679-L1690'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1679' data-end='1690'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1679</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_field_name_type_get(VALUE self)
{
	t_pg_result *this = pgresult_get_this(self);
	if( this-&gt;flags &amp; PG_RESULT_FIELD_NAMES_SYMBOL ){
		return sym_symbol;
	} else if( this-&gt;flags &amp; PG_RESULT_FIELD_NAMES_STATIC_SYMBOL ){
		return sym_static_symbol;
	} else {
		return sym_string;
	}
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="field_name_type=-instance_method">
  <h3 class='signature rw'>
    #<strong>field_name_type=</strong>(Symbol)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set type of field names specific to this result. It can be set to one of:</p>
<ul><li>
<p><code>:string</code> to use String based field names</p>
</li><li>
<p><code>:symbol</code> to use Symbol based field names</p>
</li><li>
<p><code>:static_symbol</code> to use pinned Symbol (can not be garbage collected) - Don’t use this, it will probably be removed in future.</p>
</li></ul>

<p>The default is retrieved from <a href="Connection.html#field_name_type-instance_method" title="PG::Connection#field_name_type (method)">Connection#field_name_type</a> , which defaults to <code>:string</code> .</p>

<p>This setting affects several result methods:</p>
<ul><li>
<p>keys of Hash returned by <a href="#[]-instance_method" title="PG::Result#[] (method)">#[]</a> , <a href="#each-instance_method" title="PG::Result#each (method)">#each</a> and <a href="#stream_each-instance_method" title="PG::Result#stream_each (method)">#stream_each</a></p>
</li><li>
<p><a href="#fields-instance_method" title="PG::Result#fields (method)">#fields</a></p>
</li><li>
<p><a href="#fname-instance_method" title="PG::Result#fname (method)">#fname</a></p>
</li><li>
<p>field names used by <a href="#tuple-instance_method" title="PG::Result#tuple (method)">#tuple</a> and <a href="#stream_each_tuple-instance_method" title="PG::Result#stream_each_tuple (method)">#stream_each_tuple</a></p>
</li></ul>

<p>The type of field names can only be changed before any of the affected methods have been called.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1654-L1669'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1654' data-end='1669'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1654</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_field_name_type_set(VALUE self, VALUE sym)
{
	t_pg_result *this = pgresult_get_this(self);

	rb_check_frozen(self);
	if( this-&gt;nfields != -1 ) rb_raise(rb_eArgError, &quot;field names are already materialized&quot;);

	this-&gt;flags &amp;= ~PG_RESULT_FIELD_NAMES_MASK;
	if( sym == sym_symbol ) this-&gt;flags |= PG_RESULT_FIELD_NAMES_SYMBOL;
	else if ( sym == sym_static_symbol ) this-&gt;flags |= PG_RESULT_FIELD_NAMES_STATIC_SYMBOL;
	else if ( sym == sym_string );
	else rb_raise(rb_eArgError, &quot;invalid argument %+&quot;PRIsVALUE, sym);

	return sym;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="type_map-instance_method">
  <h3 class='signature rw'>
    #<strong>type_map</strong>  &#x21d2; <code>value</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="TypeMap.html" title="PG::TypeMap (class)"><code>TypeMap</code></a> that is currently set for type casts of result values to ruby objects.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1441-L1447'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1441' data-end='1447'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1441</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_type_map_get(VALUE self)
{
	t_pg_result *this = pgresult_get_this(self);

	return this-&gt;typemap;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="type_map=-instance_method">
  <h3 class='signature rw'>
    #<strong>type_map=</strong>(typemap)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the <a href="TypeMap.html" title="PG::TypeMap (class)"><code>TypeMap</code></a> that is used for type casts of result values to ruby objects.</p>

<p>All value retrieval methods will respect the type map and will do the type casts from PostgreSQL’s wire format to Ruby objects on the fly, according to the rules and decoders defined in the given typemap.</p>

<p><code>typemap</code> must be a kind of <a href="TypeMap.html" title="PG::TypeMap (class)"><code>TypeMap</code></a> .</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1417-L1432'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1417' data-end='1432'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1417</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_type_map_set(VALUE self, VALUE typemap)
{
	t_pg_result *this = pgresult_get_this(self);
	t_typemap *p_typemap;

	rb_check_frozen(self);
	/* Check type of method param */
	TypedData_Get_Struct(typemap, t_typemap, &amp;pg_typemap_type, p_typemap);

	typemap = p_typemap-&gt;funcs.fit_to_result( typemap, self );
	RB_OBJ_WRITE(self, &amp;this-&gt;typemap, typemap);
	this-&gt;p_typemap = RTYPEDDATA_DATA( typemap );

	return typemap;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="[]-instance_method">
  <h3 class='signature  first'>
    #<strong>[]</strong>(n )  &#x21d2; <code>Hash</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns tuple <em>n</em> as a hash.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1129-L1156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1129' data-end='1156'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1129</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_aref(VALUE self, VALUE index)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	int tuple_num = NUM2INT(index);
	int field_num;
	int num_tuples = PQntuples(this-&gt;pgresult);
	VALUE tuple;

	if( this-&gt;nfields == -1 )
		pgresult_init_fnames( self );

	if ( tuple_num &lt; 0 || tuple_num &gt;= num_tuples )
		rb_raise( rb_eIndexError, &quot;Index %d is out of range&quot;, tuple_num );

	/* We reuse the Hash of the previous output for larger row counts.
	 * This is somewhat faster than populating an empty Hash object. */
	tuple = NIL_P(this-&gt;tuple_hash) ? rb_hash_new() : this-&gt;tuple_hash;
	for ( field_num = 0; field_num &lt; this-&gt;nfields; field_num++ ) {
		VALUE val = this-&gt;p_typemap-&gt;funcs.typecast_result_value(this-&gt;p_typemap, self, tuple_num, field_num);
		rb_hash_aset( tuple, this-&gt;fnames[field_num], val );
	}
	/* Store a copy of the filled hash for use at the next row. */
	if( num_tuples &gt; 10 )
		RB_OBJ_WRITE(self, &amp;this-&gt;tuple_hash, rb_hash_dup(tuple));

	return tuple;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="binary_tuples-instance_method">
  <h3 class='signature '>
    #<strong>binary_tuples</strong>  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns 1 if the PGresult contains binary data and 0 if it contains text data.</p>

<p>This function is deprecated (except for its use in connection with COPY), because it is possible for a single PGresult to contain text data in some columns and binary data in others. <a href="#fformat-instance_method" title="PG::Result#fformat (method)">#fformat</a> is preferred. binary_tuples returns 1 only if all columns of the result are binary (format 1).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L745-L749'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='745' data-end='749'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 745</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_binary_tuples(VALUE self)
{
	return INT2NUM(PQbinaryTuples(pgresult_get(self)));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check-instance_method">
  <h3 class='signature '>
    #<strong>check</strong>  &#x21d2; <code>nil</code>     <span class='aliases'>Also known as: <span class='names'>#check_result</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Raises appropriate exception if <code>Result</code> is in a bad state, which is:</p>
<ul><li>
<p><code>PGRES_BAD_RESPONSE</code></p>
</li><li>
<p><code>PGRES_FATAL_ERROR</code></p>
</li><li>
<p><code>PGRES_NONFATAL_ERROR</code></p>
</li><li>
<p><code>PGRES_PIPELINE_ABORTED</code></p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L301-L352'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='301' data-end='352'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 301</span></pre>
<pre class='code cpp'>

VALUE
pg_result_check( VALUE self )
{
	t_pg_result *this = pgresult_get_this(self);
	VALUE error, exception, klass;
	char * sqlstate;

	if(this-&gt;pgresult == NULL)
	{
		PGconn *conn = pg_get_pgconn(this-&gt;connection);
		error = rb_str_new2( PQerrorMessage(conn) );
	}
	else
	{
		switch (PQresultStatus(this-&gt;pgresult))
		{
		case PGRES_TUPLES_OK:
		case PGRES_COPY_OUT:
		case PGRES_COPY_IN:
		case PGRES_COPY_BOTH:
		case PGRES_SINGLE_TUPLE:
		case PGRES_EMPTY_QUERY:
		case PGRES_COMMAND_OK:
#ifdef HAVE_PQENTERPIPELINEMODE
		case PGRES_PIPELINE_SYNC:
#endif
			return self;
		case PGRES_BAD_RESPONSE:
		case PGRES_FATAL_ERROR:
		case PGRES_NONFATAL_ERROR:
#ifdef HAVE_PQENTERPIPELINEMODE
		case PGRES_PIPELINE_ABORTED:
#endif
			error = rb_str_new2( PQresultErrorMessage(this-&gt;pgresult) );
			break;
		default:
			error = rb_str_new2( &quot;internal error : unknown result status.&quot; );
		}
	}

	PG_ENCODING_SET_NOCHECK( error, this-&gt;enc_idx );

	sqlstate = PQresultErrorField( this-&gt;pgresult, PG_DIAG_SQLSTATE );
	klass = lookup_error_class( sqlstate );
	exception = rb_exc_new3( klass, error );
	rb_iv_set( exception, &quot;@connection&quot;, this-&gt;connection );
	rb_iv_set( exception, &quot;@result&quot;, this-&gt;pgresult ? self : Qnil );
	rb_exc_raise( exception );

	/* Not reached */
	return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_result-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>check</strong>  &#x21d2; <code>nil</code> </span>
      <span class='overload'>#<strong>check_result</strong>  &#x21d2; <code>nil</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#check-instance_method" title="PG::Result#check (method)">#check</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <code>nil</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Clears the <code>Result</code> object as the result of a query. This frees all underlying memory consumed by the result object. Afterwards access to result methods raises <a href="Error.html" title="PG::Error (class)"><code>Error</code></a> “result has been cleared”.</p>

<p>Explicit calling <code>#clear</code> can lead to better memory performance, but is not generally necessary. Special care must be taken when <a href="Tuple.html" title="PG::Tuple (class)"><code>Tuple</code></a> objects are used. In this case <code>#clear</code> must not be called unless all <a href="Tuple.html" title="PG::Tuple (class)"><code>Tuple</code></a> objects of this result are fully materialized.</p>

<p>If <a href="#autoclear%3F-instance_method" title="PG::Result#autoclear? (method)">#autoclear?</a> is <code>true</code> then the result is only marked as cleared but clearing the underlying C struct will happen when the callback returns.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L376-L383'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='376' data-end='383'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 376</span></pre>
<pre class='code cpp'>

VALUE
pg_result_clear(VALUE self)
{
	t_pg_result *this = pgresult_get_this(self);
	rb_check_frozen(self);
	pgresult_clear( this );
	return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmd_status-instance_method">
  <h3 class='signature '>
    #<strong>cmd_status</strong>  &#x21d2; <code>String</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the status string of the last query command.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1067-L1074'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1067' data-end='1074'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1067</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_cmd_status(VALUE self)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	VALUE ret = rb_str_new2(PQcmdStatus(this-&gt;pgresult));
	PG_ENCODING_SET_NOCHECK(ret, this-&gt;enc_idx);
	return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cmd_tuples-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>cmdtuples</strong>  &#x21d2; <code>Integer</code> </span>
      <span class='overload'>#<strong>cmd_tuples</strong>  &#x21d2; <code>Integer</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#cmdtuples-instance_method" title="PG::Result#cmdtuples (method)">#cmdtuples</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="cmdtuples-instance_method">
  <h3 class='signature '>
    #<strong>cmdtuples</strong>  &#x21d2; <code>Integer</code>     <span class='aliases'>Also known as: <span class='names'>#cmd_tuples</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of tuples (rows) affected by the SQL command.</p>

<p>If the SQL command that generated the <code>Result</code> was not one of:</p>
<ul><li>
<p><code>SELECT</code></p>
</li><li>
<p><code>CREATE TABLE AS</code></p>
</li><li>
<p><code>INSERT</code></p>
</li><li>
<p><code>UPDATE</code></p>
</li><li>
<p><code>DELETE</code></p>
</li><li>
<p><code>MOVE</code></p>
</li><li>
<p><code>FETCH</code></p>
</li><li>
<p><code>COPY</code></p>
</li><li>
<p>an <code>EXECUTE</code> of a prepared query that contains an <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code> statement</p>
</li></ul>

<p>or if no tuples were affected, <code>0</code> is returned.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1096-L1102'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1096' data-end='1102'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1096</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_cmd_tuples(VALUE self)
{
	long n;
	n = strtol(PQcmdTuples(pgresult_get(self)),NULL, 10);
	return LONG2NUM(n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="column_values-instance_method">
  <h3 class='signature '>
    #<strong>column_values</strong>(n)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an Array of the values from the nth column of each tuple in the result.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1253-L1258'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1253' data-end='1258'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1253</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_column_values(VALUE self, VALUE index)
{
	int col = NUM2INT( index );
	return make_column_result_array( self, col );
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    #<strong>each</strong> {|tuple| ... }   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invokes block for each tuple in the result set.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1371-L1385'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1371' data-end='1385'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1371</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_each(VALUE self)
{
	PGresult *result;
	int tuple_num;

	RETURN_SIZED_ENUMERATOR(self, 0, NULL, pgresult_ntuples_for_enum);

	result = pgresult_get(self);

	for(tuple_num = 0; tuple_num &lt; PQntuples(result); tuple_num++) {
		rb_yield(pgresult_aref(self, INT2NUM(tuple_num)));
	}
	return self;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_row-instance_method">
  <h3 class='signature '>
    #<strong>each_row</strong> {|row| ... }   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Yields each row of the result. The row is a list of column values.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1164-L1190'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1164' data-end='1190'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1164</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_each_row(VALUE self)
{
	t_pg_result *this;
	int row;
	int field;
	int num_rows;
	int num_fields;

	RETURN_SIZED_ENUMERATOR(self, 0, NULL, pgresult_ntuples_for_enum);

	this = pgresult_get_this_safe(self);
	num_rows = PQntuples(this-&gt;pgresult);
	num_fields = PQnfields(this-&gt;pgresult);

	for ( row = 0; row &lt; num_rows; row++ ) {
		PG_VARIABLE_LENGTH_ARRAY(VALUE, row_values, num_fields, PG_MAX_COLUMNS)

		/* populate the row */
		for ( field = 0; field &lt; num_fields; field++ ) {
			row_values[field] = this-&gt;p_typemap-&gt;funcs.typecast_result_value(this-&gt;p_typemap, self, row, field);
		}
		rb_yield( rb_ary_new4( num_fields, row_values ));
	}

	return Qnil;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="error_field-instance_method">
  <h3 class='signature '>
    #<strong>error_field</strong>(fieldcode)  &#x21d2; <code>String</code>     <span class='aliases'>Also known as: <span class='names'>#result_error_field</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the individual field of an error.</p>

<p><code>fieldcode</code> is one of:</p>
<ul><li>
<p><code>PG_DIAG_SEVERITY</code></p>
</li><li>
<p><code>PG_DIAG_SQLSTATE</code></p>
</li><li>
<p><code>PG_DIAG_MESSAGE_PRIMARY</code></p>
</li><li>
<p><code>PG_DIAG_MESSAGE_DETAIL</code></p>
</li><li>
<p><code>PG_DIAG_MESSAGE_HINT</code></p>
</li><li>
<p><code>PG_DIAG_STATEMENT_POSITION</code></p>
</li><li>
<p><code>PG_DIAG_INTERNAL_POSITION</code></p>
</li><li>
<p><code>PG_DIAG_INTERNAL_QUERY</code></p>
</li><li>
<p><code>PG_DIAG_CONTEXT</code></p>
</li><li>
<p><code>PG_DIAG_SOURCE_FILE</code></p>
</li><li>
<p><code>PG_DIAG_SOURCE_LINE</code></p>
</li><li>
<p><code>PG_DIAG_SOURCE_FUNCTION</code></p>
</li></ul>

<p>An example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>begin</span>
    <span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_exec'>exec</span>( <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT * FROM nonexistant_table</span><span class='tstring_end'>&quot;</span></span> )
<span class='kw'>rescue</span> <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'><a href="Error.html" title="PG::Error (class)">Error</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
    <span class='id identifier rubyid_p'>p</span> [
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_SEVERITY-constant" title="PG::Constants::PG_DIAG_SEVERITY (constant)">PG_DIAG_SEVERITY</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_SQLSTATE-constant" title="PG::Constants::PG_DIAG_SQLSTATE (constant)">PG_DIAG_SQLSTATE</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_MESSAGE_PRIMARY-constant" title="PG::Constants::PG_DIAG_MESSAGE_PRIMARY (constant)">PG_DIAG_MESSAGE_PRIMARY</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_MESSAGE_DETAIL-constant" title="PG::Constants::PG_DIAG_MESSAGE_DETAIL (constant)">PG_DIAG_MESSAGE_DETAIL</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_MESSAGE_HINT-constant" title="PG::Constants::PG_DIAG_MESSAGE_HINT (constant)">PG_DIAG_MESSAGE_HINT</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_STATEMENT_POSITION-constant" title="PG::Constants::PG_DIAG_STATEMENT_POSITION (constant)">PG_DIAG_STATEMENT_POSITION</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_INTERNAL_POSITION-constant" title="PG::Constants::PG_DIAG_INTERNAL_POSITION (constant)">PG_DIAG_INTERNAL_POSITION</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_INTERNAL_QUERY-constant" title="PG::Constants::PG_DIAG_INTERNAL_QUERY (constant)">PG_DIAG_INTERNAL_QUERY</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_CONTEXT-constant" title="PG::Constants::PG_DIAG_CONTEXT (constant)">PG_DIAG_CONTEXT</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_SOURCE_FILE-constant" title="PG::Constants::PG_DIAG_SOURCE_FILE (constant)">PG_DIAG_SOURCE_FILE</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_SOURCE_LINE-constant" title="PG::Constants::PG_DIAG_SOURCE_LINE (constant)">PG_DIAG_SOURCE_LINE</a></span> )<span class='comma'>,</span>
        <span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_error_field'>error_field</span>( <span class='const'><a href="../PG.html" title="PG (module)">PG</a></span><span class='op'>::</span><span class='const'>Result</span><span class='op'>::</span><span class='const'><a href="Constants.html#PG_DIAG_SOURCE_FUNCTION-constant" title="PG::Constants::PG_DIAG_SOURCE_FUNCTION (constant)">PG_DIAG_SOURCE_FUNCTION</a></span> )<span class='comma'>,</span>
    ]
<span class='kw'>end</span></code></pre>

<p>Outputs:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ERROR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>42P01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>relation \&quot;nonexistant_table\&quot; does not exist</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span>
 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>15</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/parse_relation.c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>857</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>parserOpenTable</span><span class='tstring_end'>&quot;</span></span>]</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L690-L704'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='690' data-end='704'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 690</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_error_field(VALUE self, VALUE field)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	int fieldcode = NUM2INT( field );
	char * fieldstr = PQresultErrorField( this-&gt;pgresult, fieldcode );
	VALUE ret = Qnil;

	if ( fieldstr ) {
		ret = rb_str_new2( fieldstr );
		PG_ENCODING_SET_NOCHECK( ret, this-&gt;enc_idx );
	}

	return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="error_message-instance_method">
  <h3 class='signature '>
    #<strong>error_message</strong>  &#x21d2; <code>String</code>     <span class='aliases'>Also known as: <span class='names'>#result_error_message</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the error message of the command as a string.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L607-L614'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='607' data-end='614'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 607</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_error_message(VALUE self)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	VALUE ret = rb_str_new2(PQresultErrorMessage(this-&gt;pgresult));
	PG_ENCODING_SET_NOCHECK(ret, this-&gt;enc_idx);
	return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fformat-instance_method">
  <h3 class='signature '>
    #<strong>fformat</strong>(column_number)  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the format (0 for text, 1 for binary) of column <em>column_number</em>.</p>

<p>Raises ArgumentError if <em>column_number</em> is out of range.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L869-L879'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='869' data-end='879'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 869</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_fformat(VALUE self, VALUE column_number)
{
	PGresult *result = pgresult_get(self);
	int fnumber = NUM2INT(column_number);
	if (fnumber &lt; 0 || fnumber &gt;= PQnfields(result)) {
		rb_raise(rb_eArgError, &quot;Column number is out of range: %d&quot;,
			fnumber);
	}
	return INT2FIX(PQfformat(result, fnumber));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="field_names_as-instance_method">
  <h3 class='signature '>
    #<strong>field_names_as</strong>(type)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the data type for all field name returning methods.</p>

<p><code>type</code>: a Symbol defining the field name type.</p>

<p>This method is equal to <a href="#field_name_type=-instance_method" title="PG::Result#field_name_type= (method)">#field_name_type=</a> , but returns self, so that calls can be chained.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/lib/pg/result.rb#L26-L29'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='26' data-end='29'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/pg/result.rb', line 26</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_field_names_as'>field_names_as</span>(<span class='id identifier rubyid_type'>type</span>)
	<span class='kw'>self</span>.<span class='id identifier rubyid_field_name_type'><a href="#field_name_type-instance_method" title="PG::Result#field_name_type (method)">field_name_type</a></span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>
	<span class='kw'>return</span> <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="field_values-instance_method">
  <h3 class='signature '>
    #<strong>field_values</strong>(field)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an Array of the values from the given <em>field</em> of each tuple in the result.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1268-L1283'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1268' data-end='1283'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1268</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_field_values( VALUE self, VALUE field )
{
	PGresult *result = pgresult_get( self );
	const char *fieldname;
	int fnum;

	if( RB_TYPE_P(field, T_SYMBOL) ) field = rb_sym_to_s( field );
	fieldname = StringValueCStr( field );
	fnum = PQfnumber( result, fieldname );

	if ( fnum &lt; 0 )
		rb_raise( rb_eIndexError, &quot;no such field &#39;%s&#39; in result&quot;, fieldname );

	return make_column_result_array( self, fnum );
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fields-instance_method">
  <h3 class='signature '>
    #<strong>fields</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Depending on <a href="#field_name_type=-instance_method" title="PG::Result#field_name_type= (method)">#field_name_type=</a> returns an array of strings or symbols representing the names of the fields in the result.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1393-L1402'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1393' data-end='1402'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1393</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_fields(VALUE self)
{
	t_pg_result *this = pgresult_get_this_safe(self);

	if( this-&gt;nfields == -1 )
		pgresult_init_fnames( self );

	return rb_ary_new4( this-&gt;nfields, this-&gt;fnames );
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fmod-instance_method">
  <h3 class='signature '>
    #<strong>fmod</strong>(column_number)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the type modifier associated with column <em>column_number</em>. See the <a href="#ftype-instance_method" title="PG::Result#ftype (method)">#ftype</a> method for an example of how to use this.</p>

<p>Raises an ArgumentError if <em>column_number</em> is out of range.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L919-L932'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='919' data-end='932'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 919</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_fmod(VALUE self, VALUE column_number)
{
	PGresult *result = pgresult_get(self);
	int fnumber = NUM2INT(column_number);
	int modifier;
	if (fnumber &lt; 0 || fnumber &gt;= PQnfields(result)) {
		rb_raise(rb_eArgError, &quot;Column number is out of range: %d&quot;,
			fnumber);
	}
	modifier = PQfmod(result,fnumber);

	return INT2NUM(modifier);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fname-instance_method">
  <h3 class='signature '>
    #<strong>fname</strong>(index)  &#x21d2; <code>String</code>, <code>Symbol</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the name of the column corresponding to <em>index</em>. Depending on <a href="#field_name_type=-instance_method" title="PG::Result#field_name_type= (method)">#field_name_type=</a> it’s a String or Symbol.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L759-L772'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='759' data-end='772'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 759</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_fname(VALUE self, VALUE index)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	int i = NUM2INT(index);
	char *cfname;

	if (i &lt; 0 || i &gt;= PQnfields(this-&gt;pgresult)) {
		rb_raise(rb_eArgError,&quot;invalid field number %d&quot;, i);
	}

	cfname = PQfname(this-&gt;pgresult, i);
	return pg_cstr_to_sym(cfname, this-&gt;flags, this-&gt;enc_idx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fnumber-instance_method">
  <h3 class='signature '>
    #<strong>fnumber</strong>(name)  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the index of the field specified by the string <code>name</code>. The given <code>name</code> is treated like an identifier in an SQL command, that is, it is downcased unless double-quoted. For example, given a query result generated from the SQL command:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_exec'>exec</span>( <span class='tstring'><span class='tstring_beg'>%{</span><span class='tstring_content'>SELECT 1 AS FOO, 2 AS &quot;BAR&quot;</span><span class='tstring_end'>}</span></span> )</code></pre>

<p>we would have the results:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_fname'><a href="#fname-instance_method" title="PG::Result#fname (method)">fname</a></span>( <span class='int'>0</span> )            <span class='comment'># =&gt; &quot;foo&quot;
</span><span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_fname'><a href="#fname-instance_method" title="PG::Result#fname (method)">fname</a></span>( <span class='int'>1</span> )            <span class='comment'># =&gt; &quot;BAR&quot;
</span><span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_fnumber'>fnumber</span>( <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&quot;</span></span> )      <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_fnumber'>fnumber</span>( <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span> )      <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_fnumber'>fnumber</span>( <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BAR</span><span class='tstring_end'>&quot;</span></span> )      <span class='comment'># =&gt; ArgumentError
</span><span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_fnumber'>fnumber</span>( <span class='tstring'><span class='tstring_beg'>%{</span><span class='tstring_content'>&quot;BAR&quot;</span><span class='tstring_end'>}</span></span> )   <span class='comment'># =&gt; 1</span></code></pre>

<p>Raises an ArgumentError if the specified <code>name</code> isn’t one of the field names; raises a TypeError if <code>name</code> is not a String.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L797-L809'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='797' data-end='809'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 797</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_fnumber(VALUE self, VALUE name)
{
	int n;

	Check_Type(name, T_STRING);

	n = PQfnumber(pgresult_get(self), StringValueCStr(name));
	if (n == -1) {
		rb_raise(rb_eArgError,&quot;Unknown field: %s&quot;, StringValueCStr(name));
	}
	return INT2FIX(n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="freeze-instance_method">
  <h3 class='signature '>
    #<strong>freeze</strong>    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Freeze the <code>Result</code> object and unlink the result from the related <a href="Connection.html" title="PG::Connection (class)"><code>Connection</code></a>.</p>

<p>A frozen <code>Result</code> object doesn’t allow any streaming and it can’t be cleared. It also denies setting a type_map or field_name_type.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L395-L402'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='395' data-end='402'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 395</span></pre>
<pre class='code cpp'>

static VALUE
pg_result_freeze(VALUE self)
{
	t_pg_result *this = pgresult_get_this(self);

	RB_OBJ_WRITE(self, &amp;this-&gt;connection, Qnil);
	return rb_call_super(0, NULL);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fsize-instance_method">
  <h3 class='signature '>
    #<strong>fsize</strong>(index)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the size of the field type in bytes.  Returns <code>-1</code> if the field is variable sized.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_exec'>exec</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT myInt, myVarChar50 FROM foo</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_size'>size</span>(<span class='int'>0</span>) <span class='op'>=&gt;</span> <span class='int'>4</span>
<span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_size'>size</span>(<span class='int'>1</span>) <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>1</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L944-L955'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='944' data-end='955'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 944</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_fsize(VALUE self, VALUE index)
{
	PGresult *result;
	int i = NUM2INT(index);

	result = pgresult_get(self);
	if (i &lt; 0 || i &gt;= PQnfields(result)) {
		rb_raise(rb_eArgError,&quot;invalid field number %d&quot;, i);
	}
	return INT2NUM(PQfsize(result, i));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ftable-instance_method">
  <h3 class='signature '>
    #<strong>ftable</strong>(column_number)  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the Oid of the table from which the column <em>column_number</em> was fetched.</p>

<p>Raises ArgumentError if <em>column_number</em> is out of range or if the Oid is undefined for that column.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L821-L833'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='821' data-end='833'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 821</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_ftable(VALUE self, VALUE column_number)
{
	Oid n ;
	int col_number = NUM2INT(column_number);
	PGresult *pgresult = pgresult_get(self);

	if( col_number &lt; 0 || col_number &gt;= PQnfields(pgresult))
		rb_raise(rb_eArgError,&quot;Invalid column index: %d&quot;, col_number);

	n = PQftable(pgresult, col_number);
	return UINT2NUM(n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ftablecol-instance_method">
  <h3 class='signature '>
    #<strong>ftablecol</strong>(column_number)  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the column number (within its table) of the table from which the column <em>column_number</em> is made up.</p>

<p>Raises ArgumentError if <em>column_number</em> is out of range or if the column number from its table is undefined for that column.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L845-L858'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='845' data-end='858'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 845</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_ftablecol(VALUE self, VALUE column_number)
{
	int col_number = NUM2INT(column_number);
	PGresult *pgresult = pgresult_get(self);

	int n;

	if( col_number &lt; 0 || col_number &gt;= PQnfields(pgresult))
		rb_raise(rb_eArgError,&quot;Invalid column index: %d&quot;, col_number);

	n = PQftablecol(pgresult, col_number);
	return INT2FIX(n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ftype-instance_method">
  <h3 class='signature '>
    #<strong>ftype</strong>(column_number)  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the data type associated with <em>column_number</em>.</p>

<p>The integer returned is the internal <code>OID</code> number (in PostgreSQL) of the type. To get a human-readable value for the type, use the returned OID and the field’s <a href="#fmod-instance_method" title="PG::Result#fmod (method)">#fmod</a> value with the format_type() SQL function:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get the type of the second column of the result &#39;res&#39;
</span><span class='id identifier rubyid_typename'>typename</span> <span class='op'>=</span> <span class='id identifier rubyid_conn'>conn</span>.
  <span class='id identifier rubyid_exec'>exec</span>( <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT format_type($1,$2)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_ftype'>ftype</span>(<span class='int'>1</span>)<span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_fmod'><a href="#fmod-instance_method" title="PG::Result#fmod (method)">fmod</a></span>(<span class='int'>1</span>)] ).
  <span class='id identifier rubyid_getvalue'><a href="#getvalue-instance_method" title="PG::Result#getvalue (method)">getvalue</a></span>( <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span> )</code></pre>

<p>Raises an ArgumentError if <em>column_number</em> is out of range.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L899-L908'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='899' data-end='908'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 899</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_ftype(VALUE self, VALUE index)
{
	PGresult* result = pgresult_get(self);
	int i = NUM2INT(index);
	if (i &lt; 0 || i &gt;= PQnfields(result)) {
		rb_raise(rb_eArgError, &quot;invalid field number %d&quot;, i);
	}
	return UINT2NUM(PQftype(result, i));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getisnull-instance_method">
  <h3 class='signature '>
    #<strong>getisnull</strong>(tuple_position, field_position)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if the specified value is <code>nil</code>; <code>false</code> otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L987-L1002'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='987' data-end='1002'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 987</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_getisnull(VALUE self, VALUE tup_num, VALUE field_num)
{
	PGresult *result;
	int i = NUM2INT(tup_num);
	int j = NUM2INT(field_num);

	result = pgresult_get(self);
	if (i &lt; 0 || i &gt;= PQntuples(result)) {
		rb_raise(rb_eArgError,&quot;invalid tuple number %d&quot;, i);
	}
	if (j &lt; 0 || j &gt;= PQnfields(result)) {
		rb_raise(rb_eArgError,&quot;invalid field number %d&quot;, j);
	}
	return PQgetisnull(result, i, j) ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getlength-instance_method">
  <h3 class='signature '>
    #<strong>getlength</strong>(tup_num, field_num)  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the (String) length of the field in bytes.</p>

<p>Equivalent to <code>res.value(<em>tup_num</em>,<em>field_num</em>).length</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1012-L1027'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1012' data-end='1027'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1012</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_getlength(VALUE self, VALUE tup_num, VALUE field_num)
{
	PGresult *result;
	int i = NUM2INT(tup_num);
	int j = NUM2INT(field_num);

	result = pgresult_get(self);
	if (i &lt; 0 || i &gt;= PQntuples(result)) {
		rb_raise(rb_eArgError,&quot;invalid tuple number %d&quot;, i);
	}
	if (j &lt; 0 || j &gt;= PQnfields(result)) {
		rb_raise(rb_eArgError,&quot;invalid field number %d&quot;, j);
	}
	return INT2FIX(PQgetlength(result, i, j));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getvalue-instance_method">
  <h3 class='signature '>
    #<strong>getvalue</strong>(tup_num, field_num)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the value in tuple number <em>tup_num</em>, field <em>field_num</em>, or <code>nil</code> if the field is <code>NULL</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L965-L979'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='965' data-end='979'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 965</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_getvalue(VALUE self, VALUE tup_num, VALUE field_num)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	int i = NUM2INT(tup_num);
	int j = NUM2INT(field_num);

	if(i &lt; 0 || i &gt;= PQntuples(this-&gt;pgresult)) {
		rb_raise(rb_eArgError,&quot;invalid tuple number %d&quot;, i);
	}
	if(j &lt; 0 || j &gt;= PQnfields(this-&gt;pgresult)) {
		rb_raise(rb_eArgError,&quot;invalid field number %d&quot;, j);
	}
	return this-&gt;p_typemap-&gt;funcs.typecast_result_value(this-&gt;p_typemap, self, i, j);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return a String representation of the object suitable for debugging.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/lib/pg/result.rb#L32-L40'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='32' data-end='40'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/pg/result.rb', line 32</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
	<span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_to_s'>to_s</span>
	<span class='id identifier rubyid_str'>str</span>[<span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>0</span>] <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_cleared?'><a href="#cleared%3F-instance_method" title="PG::Result#cleared? (method)">cleared?</a></span>
		<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> cleared</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>else</span>
		<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> status=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_res_status'><a href="#res_status-class_method" title="PG::Result.res_status (method)">res_status</a></span>(<span class='id identifier rubyid_result_status'><a href="#result_status-instance_method" title="PG::Result#result_status (method)">result_status</a></span>)<span class='embexpr_end'>}</span><span class='tstring_content'> ntuples=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ntuples'><a href="#ntuples-instance_method" title="PG::Result#ntuples (method)">ntuples</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> nfields=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_nfields'><a href="#nfields-instance_method" title="PG::Result#nfields (method)">nfields</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> cmd_tuples=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd_tuples'><a href="#cmd_tuples-instance_method" title="PG::Result#cmd_tuples (method)">cmd_tuples</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="map_types!-instance_method">
  <h3 class='signature '>
    #<strong>map_types!</strong>(type_map)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Apply a type map for all value retrieving methods.</p>

<p><a href="#type_map-instance_method" title="PG::Result#type_map (method)">#type_map</a>: a <a href="TypeMap.html" title="PG::TypeMap (class)"><code>TypeMap</code></a> instance.</p>

<p>This method is equal to <a href="#type_map=-instance_method" title="PG::Result#type_map= (method)">#type_map=</a> , but returns self, so that calls can be chained.</p>

<p>See also <a href="BasicTypeMapForResults.html" title="PG::BasicTypeMapForResults (class)"><code>BasicTypeMapForResults</code></a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/lib/pg/result.rb#L16-L19'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='16' data-end='19'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/pg/result.rb', line 16</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_map_types!'>map_types!</span>(<span class='id identifier rubyid_type_map'><a href="#type_map-instance_method" title="PG::Result#type_map (method)">type_map</a></span>)
	<span class='kw'>self</span>.<span class='id identifier rubyid_type_map'><a href="#type_map-instance_method" title="PG::Result#type_map (method)">type_map</a></span> <span class='op'>=</span> <span class='id identifier rubyid_type_map'><a href="#type_map-instance_method" title="PG::Result#type_map (method)">type_map</a></span>
	<span class='kw'>return</span> <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nfields-instance_method">
  <h3 class='signature '>
    #<strong>nfields</strong>  &#x21d2; <code>Integer</code>     <span class='aliases'>Also known as: <span class='names'>#num_fields</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of columns in the query result.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L730-L734'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='730' data-end='734'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 730</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_nfields(VALUE self)
{
	return INT2NUM(PQnfields(pgresult_get(self)));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nparams-instance_method">
  <h3 class='signature '>
    #<strong>nparams</strong>  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of parameters of a prepared statement. Only useful for the result returned by conn.describePrepared</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1036-L1043'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1036' data-end='1043'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1036</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_nparams(VALUE self)
{
	PGresult *result;

	result = pgresult_get(self);
	return INT2FIX(PQnparams(result));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ntuples-instance_method">
  <h3 class='signature '>
    #<strong>ntuples</strong>  &#x21d2; <code>Integer</code>     <span class='aliases'>Also known as: <span class='names'>#num_tuples</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the number of tuples in the query result.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L712-L716'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='712' data-end='716'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 712</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_ntuples(VALUE self)
{
	return INT2FIX(PQntuples(pgresult_get(self)));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="num_fields-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>nfields</strong>  &#x21d2; <code>Integer</code> </span>
      <span class='overload'>#<strong>num_fields</strong>  &#x21d2; <code>Integer</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#nfields-instance_method" title="PG::Result#nfields (method)">#nfields</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="num_tuples-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>ntuples</strong>  &#x21d2; <code>Integer</code> </span>
      <span class='overload'>#<strong>num_tuples</strong>  &#x21d2; <code>Integer</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#ntuples-instance_method" title="PG::Result#ntuples (method)">#ntuples</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="oid_value-instance_method">
  <h3 class='signature '>
    #<strong>oid_value</strong>  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <code>oid</code> of the inserted row if applicable, otherwise <code>nil</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1111-L1119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1111' data-end='1119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1111</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_oid_value(VALUE self)
{
	Oid n = PQoidValue(pgresult_get(self));
	if (n == InvalidOid)
		return Qnil;
	else
		return UINT2NUM(n);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="paramtype-instance_method">
  <h3 class='signature '>
    #<strong>paramtype</strong>(param_number)  &#x21d2; <code>Oid</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the Oid of the data type of parameter <em>param_number</em>. Only useful for the result returned by conn.describePrepared</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1052-L1059'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1052' data-end='1059'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1052</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_paramtype(VALUE self, VALUE param_number)
{
	PGresult *result;

	result = pgresult_get(self);
	return UINT2NUM(PQparamtype(result,NUM2INT(param_number)));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="res_status-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>res_status</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>res_status</strong>(status)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the string representation of the status of the result or of the provided <code>status</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L584-L599'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='584' data-end='599'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 584</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_res_status(int argc, VALUE *argv, VALUE self)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	VALUE ret;

	if( argc == 0 ){
		ret = rb_str_new2(PQresStatus(PQresultStatus(this-&gt;pgresult)));
	}else if( argc == 1 ){
		ret = rb_str_new2(PQresStatus(NUM2INT(argv[0])));
	}else{
		rb_raise(rb_eArgError, &quot;only 0 or 1 arguments expected&quot;);
	}
	PG_ENCODING_SET_NOCHECK(ret, this-&gt;enc_idx);
	return ret;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="result_error_field-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>error_field</strong>(fieldcode)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>result_error_field</strong>(fieldcode)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#error_field-instance_method" title="PG::Result#error_field (method)">#error_field</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="result_error_message-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>error_message</strong>  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>result_error_message</strong>  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#error_message-instance_method" title="PG::Result#error_message (method)">#error_message</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="result_status-instance_method">
  <h3 class='signature '>
    #<strong>result_status</strong>  &#x21d2; <code>Integer</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the status of the query. The status value is one of:</p>
<ul><li>
<p><code>PGRES_EMPTY_QUERY</code></p>
</li><li>
<p><code>PGRES_COMMAND_OK</code></p>
</li><li>
<p><code>PGRES_TUPLES_OK</code></p>
</li><li>
<p><code>PGRES_COPY_OUT</code></p>
</li><li>
<p><code>PGRES_COPY_IN</code></p>
</li><li>
<p><code>PGRES_BAD_RESPONSE</code></p>
</li><li>
<p><code>PGRES_NONFATAL_ERROR</code></p>
</li><li>
<p><code>PGRES_FATAL_ERROR</code></p>
</li><li>
<p><code>PGRES_COPY_BOTH</code></p>
</li><li>
<p><code>PGRES_SINGLE_TUPLE</code></p>
</li><li>
<p><code>PGRES_PIPELINE_SYNC</code></p>
</li><li>
<p><code>PGRES_PIPELINE_ABORTED</code></p>
</li></ul>

<p>Use <code>res.res_status</code> to retrieve the string representation.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L557-L561'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='557' data-end='561'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 557</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_result_status(VALUE self)
{
	return INT2FIX(PQresultStatus(pgresult_get(self)));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="result_verbose_error_message-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>verbose_error_message</strong>(verbosity, show_context)  &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>result_verbose_error_message</strong>(verbosity, show_context)  &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#verbose_error_message-instance_method" title="PG::Result#verbose_error_message (method)">#verbose_error_message</a>.</p>

  </div>
</div>

</section>

<section class='method_details' id="stream_each-instance_method">
  <h3 class='signature '>
    #<strong>stream_each</strong> {|tuple| ... }   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Invokes block for each tuple in the result set in single row mode.</p>

<p>This is a convenience method for retrieving all result tuples as they are transferred. It is an alternative to repeated calls of <a href="Connection.html#get_result-instance_method" title="PG::Connection#get_result (method)">Connection#get_result</a> , but given that it avoids the overhead of wrapping each row into a dedicated result object, it delivers data in nearly the same speed as with ordinary results.</p>

<p>The base result must be in status PGRES_SINGLE_TUPLE. It iterates over all tuples until the status changes to PGRES_TUPLES_OK. A <a href="Error.html" title="PG::Error (class)"><code>Error</code></a> is raised for any errors from the server.</p>

<p>Row description data does not change while the iteration. All value retrieval methods refer to only the current row. <a href="#ntuples-instance_method" title="PG::Result#ntuples (method)">#ntuples</a> returns <code>1</code> while the iteration and <code>0</code> after all tuples were yielded.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_send_query'>send_query</span>( <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>first SQL query; second SQL query</span><span class='tstring_end'>&quot;</span></span> )
<span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_set_single_row_mode'>set_single_row_mode</span>
<span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_get_result'>get_result</span>.<span class='id identifier rubyid_stream_each'>stream_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
  <span class='comment'># do something with each received row of the first query
</span><span class='kw'>end</span>
<span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_get_result'>get_result</span>.<span class='id identifier rubyid_stream_each'>stream_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
  <span class='comment'># do something with each received row of the second query
</span><span class='kw'>end</span>
<span class='id identifier rubyid_conn'>conn</span>.<span class='id identifier rubyid_get_result'>get_result</span>  <span class='comment'># =&gt; nil   (no more results)</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1594-L1598'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1594' data-end='1598'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1594</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_stream_each(VALUE self)
{
	return pgresult_stream_any(self, yield_hash, NULL);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stream_each_row-instance_method">
  <h3 class='signature '>
    #<strong>stream_each_row</strong> {|row| ... }   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Yields each row of the result set in single row mode. The row is a list of column values.</p>

<p>This method works equally to <a href="#stream_each-instance_method" title="PG::Result#stream_each (method)">#stream_each</a> , but yields an Array of values.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1610-L1614'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1610' data-end='1614'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1610</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_stream_each_row(VALUE self)
{
	return pgresult_stream_any(self, yield_array, NULL);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stream_each_tuple-instance_method">
  <h3 class='signature '>
    #<strong>stream_each_tuple</strong> {|tuple| ... }   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Yields each row of the result set in single row mode.</p>

<p>This method works equally to <a href="#stream_each-instance_method" title="PG::Result#stream_each (method)">#stream_each</a> , but yields a <a href="Tuple.html" title="PG::Tuple (class)"><code>Tuple</code></a> object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1624-L1631'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1624' data-end='1631'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1624</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_stream_each_tuple(VALUE self)
{
	/* allocate VALUEs that are shared between all streamed tuples */
	ensure_init_for_tuple(self);

	return pgresult_stream_any(self, yield_tuple, NULL);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tuple-instance_method">
  <h3 class='signature '>
    #<strong>tuple</strong>(n)  &#x21d2; <a href="Tuple.html" title="PG::Tuple (class)">PG::Tuple</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <a href="Tuple.html" title="PG::Tuple (class)"><code>Tuple</code></a> from the nth row of the result.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1346-L1362'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1346' data-end='1362'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1346</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_tuple(VALUE self, VALUE index)
{
	int tuple_num = NUM2INT( index );
	t_pg_result *this;
	int num_tuples;

	this = pgresult_get_this_safe(self);
	num_tuples = PQntuples(this-&gt;pgresult);

	if ( tuple_num &lt; 0 || tuple_num &gt;= num_tuples )
		rb_raise( rb_eIndexError, &quot;Index %d is out of range&quot;, tuple_num );

	ensure_init_for_tuple(self);

  return pg_tuple_new(self, tuple_num);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tuple_values-instance_method">
  <h3 class='signature '>
    #<strong>tuple_values</strong>(n)  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an Array of the field values from the nth row of the result.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1293-L1318'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1293' data-end='1318'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1293</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_tuple_values(VALUE self, VALUE index)
{
	int tuple_num = NUM2INT( index );
	t_pg_result *this;
	int field;
	int num_tuples;
	int num_fields;

	this = pgresult_get_this_safe(self);
	num_tuples = PQntuples(this-&gt;pgresult);
	num_fields = PQnfields(this-&gt;pgresult);

	if ( tuple_num &lt; 0 || tuple_num &gt;= num_tuples )
		rb_raise( rb_eIndexError, &quot;Index %d is out of range&quot;, tuple_num );

	{
		PG_VARIABLE_LENGTH_ARRAY(VALUE, row_values, num_fields, PG_MAX_COLUMNS)

		/* populate the row */
		for ( field = 0; field &lt; num_fields; field++ ) {
			row_values[field] = this-&gt;p_typemap-&gt;funcs.typecast_result_value(this-&gt;p_typemap, self, tuple_num, field);
		}
		return rb_ary_new4( num_fields, row_values );
	}
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="values-instance_method">
  <h3 class='signature '>
    #<strong>values</strong>  &#x21d2; <code>Array</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns all tuples as an array of arrays.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L1198-L1219'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1198' data-end='1219'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 1198</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_values(VALUE self)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	int row;
	int field;
	int num_rows = PQntuples(this-&gt;pgresult);
	int num_fields = PQnfields(this-&gt;pgresult);
	VALUE results = rb_ary_new2( num_rows );

	for ( row = 0; row &lt; num_rows; row++ ) {
		PG_VARIABLE_LENGTH_ARRAY(VALUE, row_values, num_fields, PG_MAX_COLUMNS)

		/* populate the row */
		for ( field = 0; field &lt; num_fields; field++ ) {
			row_values[field] = this-&gt;p_typemap-&gt;funcs.typecast_result_value(this-&gt;p_typemap, self, row, field);
		}
		rb_ary_store( results, row, rb_ary_new4( num_fields, row_values ) );
	}

	return results;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="verbose_error_message-instance_method">
  <h3 class='signature '>
    #<strong>verbose_error_message</strong>(verbosity, show_context)  &#x21d2; <code>String</code>     <span class='aliases'>Also known as: <span class='names'>#result_verbose_error_message</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a reformatted version of the error message associated with a PGresult object.</p>

<p>Available since PostgreSQL-9.6</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ged/ruby-pg/blob/master/ext/pg_result.c#L625-L641'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='625' data-end='641'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/pg_result.c', line 625</span></pre>
<pre class='code cpp'>

static VALUE
pgresult_verbose_error_message(VALUE self, VALUE verbosity, VALUE show_context)
{
	t_pg_result *this = pgresult_get_this_safe(self);
	VALUE ret;
	char *c_str;

	c_str = PQresultVerboseErrorMessage(this-&gt;pgresult, NUM2INT(verbosity), NUM2INT(show_context));
	if(!c_str)
		rb_raise(rb_eNoMemError, &quot;insufficient memory to format error message&quot;);

	ret = rb_str_new2(c_str);
	PQfreemem(c_str);
	PG_ENCODING_SET_NOCHECK(ret, this-&gt;enc_idx);

	return ret;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>