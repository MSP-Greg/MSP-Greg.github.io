<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: IRB &mdash; irb  Ruby-2.7.8 pp225</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "IRB",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-2.7.8</a> &raquo; 
      <a href='.'>irb</a> &raquo; 
      <a href='_index.html#alpha_I'>Index (I)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>IRB&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: IRB</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="IRB/Color.html" title="IRB::Color (module)"><code>Color</code></a>,
        <a href="IRB/ContextExtender.html" title="IRB::ContextExtender (module)"><code>ContextExtender</code></a>,
        <a href="IRB/ExtendCommand.html" title="IRB::ExtendCommand (module)"><code>ExtendCommand</code></a>,
        <a href="IRB/ExtendCommandBundle.html" title="IRB::ExtendCommandBundle (module)"><code>ExtendCommandBundle</code></a>,
        <a class='nodoc' href="IRB/HistorySavingAbility.html" title="IRB::HistorySavingAbility (module)"><code>HistorySavingAbility</code></a>,
        <a class='nodoc' href="IRB/InputCompletor.html" title="IRB::InputCompletor (module)"><code>InputCompletor</code></a>,
        <a href="IRB/IrbLoader.html" title="IRB::IrbLoader (module)"><code>IrbLoader</code></a>,
        <a href="IRB/MethodExtender.html" title="IRB::MethodExtender (module)"><code>MethodExtender</code></a>,
        <a href="IRB/Notifier.html" title="IRB::Notifier (module)"><code>Notifier</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="IRB/Canvas.html" title="IRB::Canvas (class)"><code>Canvas</code></a>,
        <a href="IRB/Context.html" title="IRB::Context (class)"><code>Context</code></a>,
        <a href="IRB/DefaultEncodings.html" title="IRB::DefaultEncodings (class)"><code>DefaultEncodings</code></a>,
        <a href="IRB/FileInputMethod.html" title="IRB::FileInputMethod (class)"><code>FileInputMethod</code></a>,
        <a href="IRB/Frame.html" title="IRB::Frame (class)"><code>Frame</code></a>,
        <a href="IRB/History.html" title="IRB::History (class)"><code>History</code></a>,
        <a href="IRB/InputMethod.html" title="IRB::InputMethod (class)"><code>InputMethod</code></a>,
        <a href="IRB/Inspector.html" title="IRB::Inspector (class)"><code>Inspector</code></a>,
        <a href="IRB/Irb.html" title="IRB::Irb (class)"><code>Irb</code></a>,
        <a href="IRB/JobManager.html" title="IRB::JobManager (class)"><code>JobManager</code></a>,
        <a class='nodoc' href="IRB/Locale.html" title="IRB::Locale (class)"><code>Locale</code></a>,
        <a href="IRB/OutputMethod.html" title="IRB::OutputMethod (class)"><code>OutputMethod</code></a>,
        <a href="IRB/ReidlineInputMethod.html" title="IRB::ReidlineInputMethod (class)"><code>ReidlineInputMethod</code></a>,
        <a href="IRB/RubyModel.html" title="IRB::RubyModel (class)"><code>RubyModel</code></a>,
        <a href="IRB/StdioInputMethod.html" title="IRB::StdioInputMethod (class)"><code>StdioInputMethod</code></a>,
        <a href="IRB/StdioOutputMethod.html" title="IRB::StdioOutputMethod (class)"><code>StdioOutputMethod</code></a>,
        <a href="IRB/Vec.html" title="IRB::Vec (class)"><code>Vec</code></a>,
        <a href="IRB/WorkSpace.html" title="IRB::WorkSpace (class)"><code>WorkSpace</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="IRB/Abort.html" title="IRB::Abort (class)"><code>Abort</code></a>,
        <a class='nodoc' href="IRB/CantChangeBinding.html" title="IRB::CantChangeBinding (class)"><code>CantChangeBinding</code></a>,
        <a class='nodoc' href="IRB/CantReturnToNormalMode.html" title="IRB::CantReturnToNormalMode (class)"><code>CantReturnToNormalMode</code></a>,
        <a class='nodoc' href="IRB/CantShiftToMultiIrbMode.html" title="IRB::CantShiftToMultiIrbMode (class)"><code>CantShiftToMultiIrbMode</code></a>,
        <a class='nodoc' href="IRB/IllegalParameter.html" title="IRB::IllegalParameter (class)"><code>IllegalParameter</code></a>,
        <a class='nodoc' href="IRB/IllegalRCGenerator.html" title="IRB::IllegalRCGenerator (class)"><code>IllegalRCGenerator</code></a>,
        <a class='nodoc' href="IRB/IrbAlreadyDead.html" title="IRB::IrbAlreadyDead (class)"><code>IrbAlreadyDead</code></a>,
        <a class='nodoc' href="IRB/IrbSwitchedToCurrentThread.html" title="IRB::IrbSwitchedToCurrentThread (class)"><code>IrbSwitchedToCurrentThread</code></a>,
        <a href="IRB/LoadAbort.html" title="IRB::LoadAbort (class)"><code>LoadAbort</code></a>,
        <a class='nodoc' href="IRB/NoSuchJob.html" title="IRB::NoSuchJob (class)"><code>NoSuchJob</code></a>,
        <a class='nodoc' href="IRB/NotImplementedError.html" title="IRB::NotImplementedError (class)"><code>NotImplementedError</code></a>,
        <a class='nodoc' href="IRB/UndefinedPromptMode.html" title="IRB::UndefinedPromptMode (class)"><code>UndefinedPromptMode</code></a>,
        <a class='nodoc' href="IRB/UnrecognizedSwitch.html" title="IRB::UnrecognizedSwitch (class)"><code>UnrecognizedSwitch</code></a>      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb.rb#L354'>lib/irb.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/color.rb#L6'>lib/irb/color.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/completion.rb#L12'>lib/irb/completion.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/context.rb#L17'>lib/irb/context.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/easter-egg.rb#L3'>lib/irb/easter-egg.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/extend-command.rb#L12'>lib/irb/extend-command.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/frame.rb#L13'>lib/irb/frame.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/help.rb#L15'>lib/irb/help.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L13'>lib/irb/init.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/input-method.rb#L18'>lib/irb/input-method.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/inspector.rb#L14'>lib/irb/inspector.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/locale.rb#L12'>lib/irb/locale.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/magic-file.rb#L2'>lib/irb/magic-file.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/notifier.rb#L15'>lib/irb/notifier.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/output-method.rb#L13'>lib/irb/output-method.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/src_encoding.rb#L3'>lib/irb/src_encoding.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/version.rb#L13'>lib/irb/version.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/workspace.rb#L15'>lib/irb/workspace.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/cmd/chws.rb#L17'>lib/irb/cmd/chws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/cmd/fork.rb#L15'>lib/irb/cmd/fork.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/cmd/help.rb#L15'>lib/irb/cmd/help.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/cmd/info.rb#L6'>lib/irb/cmd/info.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/cmd/load.rb#L17'>lib/irb/cmd/load.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/cmd/nop.rb#L13'>lib/irb/cmd/nop.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/cmd/pushws.rb#L17'>lib/irb/cmd/pushws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/cmd/subirb.rb#L16'>lib/irb/cmd/subirb.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/change-ws.rb#L13'>lib/irb/ext/change-ws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/history.rb#L13'>lib/irb/ext/history.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/loader.rb#L14'>lib/irb/ext/loader.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/multi-irb.rb#L14'>lib/irb/ext/multi-irb.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/save-history.rb#L12'>lib/irb/ext/save-history.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/tracer.rb#L27'>lib/irb/ext/tracer.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/use-loader.rb#L21'>lib/irb/ext/use-loader.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/workspaces.rb#L13'>lib/irb/ext/workspaces.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/lc/error.rb#L14'>lib/irb/lc/error.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/lc/ja/encoding_aliases.rb#L3'>lib/irb/lc/ja/encoding_aliases.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/lc/ja/error.rb#L14'>lib/irb/lc/ja/error.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>IRB</code> stands for “interactive Ruby” and is a tool to interactively execute Ruby expressions read from the standard input.</p>

<p>The <a href="#irb-class_method" title="IRB.irb (method)">.irb</a> command from your shell will start the interpreter.</p>

<h3 id="label-Usage">Usage</h3>

<p>Use of irb is easy if you know Ruby.</p>

<p>When executing irb, prompts are displayed as follows. Then, enter the Ruby expression. An input is executed when it is syntactically complete.</p>

<pre class="code ruby"><code class="ruby">$ irb
irb(main):001:0&gt; 1+2
#=&gt; 3
irb(main):002:0&gt; class Foo
irb(main):003:1&gt;  def foo
irb(main):004:2&gt;    print 1
irb(main):005:2&gt;  end
irb(main):006:1&gt; end
#=&gt; nil</code></pre>

<p>The singleline editor module or multiline editor module can be used with irb. Use of multiline editor is default if it’s installed.</p>

<h3 id="label-Command+line+options">Command line options</h3>

<pre class="code ruby"><code class="ruby">Usage:  irb.rb [options] [programfile] [arguments]
  -f                Suppress read of ~/.irbrc
  -d                Set $DEBUG to true (same as `ruby -d&#39;)
  -r load-module    Same as `ruby -r&#39;
  -I path           Specify $LOAD_PATH directory
  -U                Same as `ruby -U`
  -E enc            Same as `ruby -E`
  -w                Same as `ruby -w`
  -W[level=2]       Same as `ruby -W`
  --inspect         Use `inspect&#39; for output (default except for bc mode)
  --noinspect       Don&#39;t use inspect for output
  --multiline       Use multiline editor module
  --nomultiline     Don&#39;t use multiline editor module
  --singleline      Use singleline editor module
  --nosingleline    Don&#39;t use singleline editor module
  --colorize        Use colorization
  --nocolorize      Don&#39;t use colorization
  --prompt prompt-mode
  --prompt-mode prompt-mode
                    Switch prompt mode. Pre-defined prompt modes are
                    `default&#39;, `simple&#39;, `xmp&#39; and `inf-ruby&#39;
  --inf-ruby-mode   Use prompt appropriate for inf-ruby-mode on emacs.
                    Suppresses --multiline and --singleline.
  --simple-prompt   Simple prompt mode
  --noprompt        No prompt mode
  --tracer          Display trace for each execution of commands.
  --back-trace-limit n
                    Display backtrace top n and tail n. The default
                    value is 16.
  -v, --version     Print the version of irb</code></pre>

<h3 id="label-Configuration">Configuration</h3>

<p><code>IRB</code> reads from <code>~/.irbrc</code> when it’s invoked.</p>

<p>If <code>~/.irbrc</code> doesn’t exist, <a href="#irb-class_method" title="IRB.irb (method)">.irb</a> will try to read in the following order:</p>
<ul><li>
<p><code>.irbrc</code></p>
</li><li>
<p><code>irb.rc</code></p>
</li><li>
<p><code>_irbrc</code></p>
</li><li>
<p><code>$irbrc</code></p>
</li></ul>

<p>The following are alternatives to the command line options. To use them type as follows in an <a href="#irb-class_method" title="IRB.irb (method)">.irb</a> session:</p>

<pre class="code ruby"><code class="ruby">IRB.conf[:IRB_NAME]=&quot;irb&quot;
IRB.conf[:INSPECT_MODE]=nil
IRB.conf[:IRB_RC] = nil
IRB.conf[:BACK_TRACE_LIMIT]=16
IRB.conf[:USE_LOADER] = false
IRB.conf[:USE_MULTILINE] = nil
IRB.conf[:USE_SINGLELINE] = nil
IRB.conf[:USE_COLORIZE] = true
IRB.conf[:USE_TRACER] = false
IRB.conf[:IGNORE_SIGINT] = true
IRB.conf[:IGNORE_EOF] = false
IRB.conf[:PROMPT_MODE] = :DEFAULT
IRB.conf[:PROMPT] = {...}</code></pre>

<h4 id="label-Auto+indentation">Auto indentation</h4>

<p>To disable auto-indent mode in irb, add the following to your <code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span>] <span class='op'>=</span> <span class='kw'>false</span></code></pre>

<h4 id="label-Autocompletion">Autocompletion</h4>

<p>To enable autocompletion for irb, add the following to your <code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>irb/completion</span><span class='tstring_end'>&#39;</span></span></code></pre>

<h4 id="label-History">History</h4>

<p>By default, irb will store the last 1000 commands you used in <code>IRB.conf[:HISTORY_FILE]</code> (<code>~/.irb_history</code> by default).</p>

<p>If you want to disable history, add the following to your <code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>SAVE_HISTORY</span>] <span class='op'>=</span> <span class='kw'>nil</span></code></pre>

<p>See <a href="IRB/Context.html#save_history=-instance_method" title="IRB::Context#save_history= (method)">Context#save_history=</a> for more information.</p>

<p>The history of <em>results</em> of commands evaluated is not stored by default, but can be turned on to be stored with this <code>.irbrc</code> setting:</p>

<pre class="code ruby"><code class="ruby">IRB.conf[:EVAL_HISTORY] = &lt;number&gt;</code></pre>

<p>See <a href="IRB/Context.html#eval_history=-instance_method" title="IRB::Context#eval_history= (method)">Context#eval_history=</a> and <a href="IRB/History.html" title="IRB::History (class)"><code>History</code></a> class. The history of command results is not permanently saved in any file.</p>

<h3 id="label-Customizing+the+IRB+Prompt">Customizing the IRB Prompt</h3>

<p>In order to customize the prompt, you can change the following Hash:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>]</code></pre>

<p>This example can be used in your <code>.irbrc</code></p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>][<span class='symbeg'>:</span><span class='const'>MY_PROMPT</span>] <span class='op'>=</span> { <span class='comment'># name of prompt mode
</span>  <span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>          <span class='comment'># disables auto-indent mode
</span>  <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>		<span class='comment'># simple prompt
</span>  <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>		<span class='comment'># prompt for continuated strings
</span>  <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>		<span class='comment'># prompt for continuated statement
</span>  <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    ==&gt;%s\n</span><span class='tstring_end'>&quot;</span></span>	<span class='comment'># format to return value
</span>}

<span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>MY_PROMPT</span></code></pre>

<p>Or, invoke irb with the above prompt mode by:</p>

<pre class="code ruby"><code class="ruby">irb --prompt my-prompt</code></pre>

<p>Constants <code>PROMPT_I</code>, <code>PROMPT_S</code> and <code>PROMPT_C</code> specify the format. In the prompt specification, some special strings are available:</p>

<pre class="code ruby"><code class="ruby">%N    # command name which is running
%m    # to_s of main object (self)
%M    # inspect of main object (self)
%l    # type of string(&quot;, &#39;, /, ]), `]&#39; is inner %w[...]
%NNi  # indent level. NN is digits and means as same as printf(&quot;%NNd&quot;).
      # It can be omitted
%NNn  # line number.
%%    # %</code></pre>

<p>For instance, the default prompt mode is defined as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>][<span class='symbeg'>:</span><span class='const'>DEFAULT</span>] <span class='op'>=</span> {
  <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>PROMPT_N</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># used to printf
</span>}</code></pre>

<p>irb comes with a number of available modes:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># :NULL:
</span><span class='comment'>#   :PROMPT_I:
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'># :DEFAULT:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_S: ! &#39;%N(%m):%03n:%i%l &#39;
</span><span class='comment'>#   :PROMPT_C: ! &#39;%N(%m):%03n:%i* &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     =&gt; %s
</span><span class='comment'># :CLASSIC:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_S: ! &#39;%N(%m):%03n:%i%l &#39;
</span><span class='comment'>#   :PROMPT_C: ! &#39;%N(%m):%03n:%i* &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'># :SIMPLE:
</span><span class='comment'>#   :PROMPT_I: ! &#39;&gt;&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;&gt;&gt; &#39;
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C: ! &#39;?&gt; &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     =&gt; %s
</span><span class='comment'># :INF_RUBY:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'>#   :AUTO_INDENT: true
</span><span class='comment'># :XMP:
</span><span class='comment'>#   :PROMPT_I:
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |2
</span><span class='comment'>#         ==&gt;%s</span></code></pre>

<h3 id="label-Restrictions">Restrictions</h3>

<p>Because irb evaluates input immediately after it is syntactically complete, the results may be slightly different than directly using Ruby.</p>

<h3 id="label-IRB+Sessions">IRB Sessions</h3>

<p><code>IRB</code> has a special feature, that allows you to manage many sessions at once.</p>

<p>You can create new sessions with <code>Irb.irb</code>, and get a list of current sessions with the <code>jobs</code> command in the prompt.</p>

<h4 id="label-Commands">Commands</h4>

<p><a href="IRB/JobManager.html" title="IRB::JobManager (class)"><code>JobManager</code></a> provides commands to handle the current sessions:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_jobs'>jobs</span>    <span class='comment'># List of current sessions
</span><span class='id identifier rubyid_fg'>fg</span>      <span class='comment'># Switches to the session of the given number
</span><span class='id identifier rubyid_kill'>kill</span>    <span class='comment'># Kills the session with the given number</span></code></pre>

<p>The <code>exit</code> command, or <a href="#irb_exit-class_method" title="IRB.irb_exit (method)">.irb_exit</a>, will quit the current session and call any exit hooks with <a href="#irb_at_exit-class_method" title="IRB.irb_at_exit (method)">.irb_at_exit</a>.</p>

<p>A few commands for loading files within the session are also available:</p>
<dl class="rdoc-list note-list"><dt><code>source</code>
<dd>
<p>Loads a given file in the current session and displays the source lines, see IrbLoader#source_file</p>
</dd><dt><code>irb_load</code>
<dd>
<p>Loads the given file similarly to Kernel#load, see IrbLoader#irb_load</p>
</dd><dt><code>irb_require</code>
<dd>
<p>Loads the given file similarly to Kernel#require</p>
</dd></dl>

<h4 id="label-Configuration">Configuration</h4>

<p>The command line options, or <a href="#conf-class_method" title="IRB.conf (method)">.conf</a>, specify the default behavior of <code>Irb.irb</code>.</p>

<p>On the other hand, each conf in IRB@Command+line+options is used to individually configure <a href="#irb-class_method" title="IRB.irb (method)">.irb</a>.</p>

<p>If a proc is set for <code>IRB.conf[:IRB_RC]</code>, its will be invoked after execution of that proc with the context of the current session as its argument. Each session can be configured using this mechanism.</p>

<h4 id="label-Session+variables">Session variables</h4>

<p>There are a few variables in every <a href="IRB/Irb.html" title="IRB::Irb (class)"><code>Irb</code></a> session that can come in handy:</p>
<dl class="rdoc-list note-list"><dt><code>_</code>
<dd>
<p>The value command executed, as a local variable</p>
</dd><dt><code>__</code>
<dd>
<p>The history of evaluated commands. Available only if <code>IRB.conf[:EVAL_HISTORY]</code> is not <code>nil</code> (which is the default). See also IRB::Context#eval_history= and IRB::History.</p>
</dd><dt><code>__[line_no]</code>
<dd>
<p>Returns the evaluation value at the given line number, <code>line_no</code>. If <code>line_no</code> is a negative, the return value <code>line_no</code> many lines before the most recent return value.</p>
</dd></dl>

<h4 id="label-Example+using+IRB+Sessions">Example using IRB Sessions</h4>

<pre class="code ruby"><code class="ruby"># invoke a new session
irb(main):001:0&gt; irb
# list open sessions
irb.1(main):001:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : stop)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : running)

# change the active session
irb.1(main):002:0&gt; fg 0
# define class Foo in top-level session
irb(main):002:0&gt; class Foo;end
# invoke a new session with the context of Foo
irb(main):003:0&gt; irb Foo
# define Foo#foo
irb.2(Foo):001:0&gt; def foo
irb.2(Foo):002:1&gt;   print 1
irb.2(Foo):003:1&gt; end

# change the active session
irb.2(Foo):004:0&gt; fg 0
# list open sessions
irb(main):004:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : running)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : stop)
  #2-&gt;irb#2 on Foo (#&lt;Thread:0x4011d54c&gt; : stop)
# check if Foo#foo is available
irb(main):005:0&gt; Foo.instance_methods #=&gt; [:foo, ...]

# change the active session
irb(main):006:0&gt; fg 2
# define Foo#bar in the context of Foo
irb.2(Foo):005:0&gt; def bar
irb.2(Foo):006:1&gt;  print &quot;bar&quot;
irb.2(Foo):007:1&gt; end
irb.2(Foo):010:0&gt;  Foo.instance_methods #=&gt; [:bar, :foo, ...]

# change the active session
irb.2(Foo):011:0&gt; fg 0
irb(main):007:0&gt; f = Foo.new  #=&gt; #&lt;Foo:0x4010af3c&gt;
# invoke a new session with the context of f (instance of Foo)
irb(main):008:0&gt; irb f
# list open sessions
irb.3(&lt;Foo:0x4010af3c&gt;):001:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : stop)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : stop)
  #2-&gt;irb#2 on Foo (#&lt;Thread:0x4011d54c&gt; : stop)
  #3-&gt;irb#3 on #&lt;Foo:0x4010af3c&gt; (#&lt;Thread:0x4010a1e0&gt; : running)
# evaluate f.foo
irb.3(&lt;Foo:0x4010af3c&gt;):002:0&gt; foo #=&gt; 1 =&gt; nil
# evaluate f.bar
irb.3(&lt;Foo:0x4010af3c&gt;):003:0&gt; bar #=&gt; bar =&gt; nil
# kill jobs 1, 2, and 3
irb.3(&lt;Foo:0x4010af3c&gt;):004:0&gt; kill 1, 2, 3
# list open sessions, should only include main session
irb(main):009:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : running)
# quit irb
irb(main):010:0&gt; exit</code></pre>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='IRBRC_EXT-constant' class='summary_signature nodoc'>IRBRC_EXT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L255-L255'># File 'lib/irb/init.rb', line 255</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rc</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='STDIN_FILE_NAME-constant' class='summary_signature nodoc'>STDIN_FILE_NAME =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/input-method.rb#L19-L19'># File 'lib/irb/input-method.rb', line 19</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(line)</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature nodoc'>VERSION =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/version.rb#L14-L14'># File 'lib/irb/version.rb', line 14</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.2.6</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#conf-class_method" title=".conf (class method)">.<strong>conf</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Displays current configuration.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#CurrentContext-class_method" title=".CurrentContext (class method)"><strong>CurrentContext</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The current <a href="IRB/Context.html" title="IRB::Context (class)"><code>Context</code></a> of the session, see <a href="#conf-class_method" title="IRB.conf (method)">.conf</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_src_encoding-class_method" title=".default_src_encoding (class method)">.<strong>default_src_encoding</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#easter_egg-class_method" title=".easter_egg (class method)">.<strong>easter_egg</strong>(type = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize_tracer-class_method" title=".initialize_tracer (class method)">.<strong>initialize_tracer</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>initialize tracing function.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-class_method" title=".inspect (class method)">.<strong>inspect</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#irb-class_method" title=".irb (class method)">.<strong>irb</strong>(file = nil, *main)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>IRB</code> session, see <a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">Irb.new</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#irb_abort-class_method" title=".irb_abort (class method)">.<strong>irb_abort</strong>(irb, exception = Abort)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Aborts then interrupts irb.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#irb_at_exit-class_method" title=".irb_at_exit (class method)">.<strong>irb_at_exit</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls each event hook of <code>IRB.conf[:TA_EXIT]</code> when the current session quits.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#irb_exit-class_method" title=".irb_exit (class method)">.<strong>irb_exit</strong>(irb, ret)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Quits irb.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#JobManager-class_method" title=".JobManager (class method)"><strong>JobManager</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The current <a href="IRB/JobManager.html" title="IRB::JobManager (class)"><code>JobManager</code></a> in the session.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#print_usage-class_method" title=".print_usage (class method)">.<strong>print_usage</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Outputs the irb help message, see IRB@Command+line+options.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start-class_method" title=".start (class method)">.<strong>start</strong>(ap_path = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes IRB and creates a new <code>Irb.irb</code> object at the <code>TOPLEVEL_BINDING</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#version-class_method" title=".version (class method)">.<strong>version</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the current version of <code>IRB</code>, including release version and last updated date.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#delete_caller-class_method" title=".delete_caller (class method)">.<strong>delete_caller</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#init_config-class_method" title=".init_config (class method)">.<strong>init_config</strong>(ap_path)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#init_error-class_method" title=".init_error (class method)">.<strong>init_error</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#Inspector-class_method" title=".Inspector (class method)"><strong>Inspector</strong>(inspect, init = nil)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Convenience method to create a new <a href="IRB/Inspector.html" title="IRB::Inspector (class)"><code>Inspector</code></a>, using the given <a href="#inspect-class_method" title="IRB.inspect (method)">.inspect</a> proc, and optional <code>init</code> proc and passes them to <a href="IRB/Inspector.html#new-class_method" title="IRB::Inspector.new (method)">Inspector.new</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#load_modules-class_method" title=".load_modules (class method)">.<strong>load_modules</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>loading modules.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_opts-class_method" title=".parse_opts (class method)">.<strong>parse_opts</strong>(argv: ::ARGV)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>option analyzing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#rc_file-class_method" title=".rc_file (class method)">.<strong>rc_file</strong>(ext = IRBRC_EXT)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#rc_file_generators-class_method" title=".rc_file_generators (class method)">.<strong>rc_file_generators</strong> {|proc{|rc| current_dir+&quot;/.config/irb/irb#{rc}&quot;}| ... } </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>enumerate possible rc-file base name generators.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#run_config-class_method" title=".run_config (class method)">.<strong>run_config</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>running config.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#setup-class_method" title=".setup (class method)">.<strong>setup</strong>(ap_path, argv: ::ARGV)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>initialize config.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#set_encoding-class_method" title=".set_encoding (class method)">.<strong>set_encoding</strong>(extern, intern = nil, override: true)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="conf-class_method">
  <h3 class='signature  first'>
    .<strong>conf</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Displays current configuration.</p>

<p>Modifying the configuration is achieved by sending a message to <code>conf</code>.</p>

<p>See IRB@Configuration for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb.rb#L367-L369'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='367' data-end='369'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 367</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'>conf</span>
  <span class='ivar'>@CONF</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="CurrentContext-class_method">
  <h3 class='signature '>
    <strong>CurrentContext</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current <a href="IRB/Context.html" title="IRB::Context (class)"><code>::IRB::Context</code></a> of the session, see <a href="#conf-class_method" title="IRB.conf (method)">.conf</a></p>

<pre class="code ruby"><code class="ruby">irb
irb(main):001:0&gt; IRB.CurrentContext.irb_name = &quot;foo&quot;
foo(main):002:0&gt; IRB.conf[:MAIN_CONTEXT].irb_name #=&gt; &quot;foo&quot;</code></pre>

<p>See additional method definition at file lib/irb.rb line 384.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/multi-irb.rb#L181-L183'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='181' data-end='183'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 181</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='const'>CurrentContext</span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MAIN_CONTEXT</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_src_encoding-class_method">
  <h3 class='signature '>
    .<strong>default_src_encoding</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/src_encoding.rb#L4-L6'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='4' data-end='6'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/src_encoding.rb', line 4</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_default_src_encoding'>default_src_encoding</span>
  <span class='kw'>return</span> <span class='kw'>__ENCODING__</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_caller-class_method">
  <h3 class='signature nodoc'>
    .<strong>delete_caller</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/workspace.rb#L178-L179'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='178' data-end='179'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/workspace.rb', line 178</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_delete_caller'>delete_caller</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="easter_egg-class_method">
  <h3 class='signature '>
    .<strong>easter_egg</strong>(type = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/easter-egg.rb#L101-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='101' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/easter-egg.rb', line 101</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_easter_egg'>easter_egg</span>(<span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_type'>type</span> <span class='op'>||=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_logo'>logo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_dancing'>dancing</span>].<span class='id identifier rubyid_sample'>sample</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_logo'>logo</span>
    <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid___dir__'>__dir__</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_logo.aa</span><span class='tstring_end'>&#39;</span></span>)) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rdoc</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>RI</span><span class='op'>::</span><span class='const'>Driver</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_page'>page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
        <span class='const'>IO</span>.<span class='id identifier rubyid_copy_stream'>copy_stream</span>(<span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_io'>io</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_dancing'>dancing</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_canvas'>canvas</span> <span class='op'>=</span> <span class='const'><a href="IRB/Canvas.html" title="IRB::Canvas (class)">Canvas</a></span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'>Reline</span>.<span class='id identifier rubyid_get_screen_size'>get_screen_size</span>)
      <span class='const'>Reline</span><span class='op'>::</span><span class='const'>IOGate</span>.<span class='id identifier rubyid_set_winch_handler'>set_winch_handler</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_canvas'>canvas</span> <span class='op'>=</span> <span class='const'><a href="IRB/Canvas.html" title="IRB::Canvas (class)">Canvas</a></span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'>Reline</span>.<span class='id identifier rubyid_get_screen_size'>get_screen_size</span>)
      <span class='kw'>end</span>
      <span class='id identifier rubyid_ruby_model'>ruby_model</span> <span class='op'>=</span> <span class='const'><a href="IRB/RubyModel.html" title="IRB::RubyModel (class)">RubyModel</a></span>.<span class='id identifier rubyid_new'>new</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[?1049h</span><span class='tstring_end'>&quot;</span></span>
      <span class='int'>0</span>.<span class='id identifier rubyid_step'>step</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='comment'># TODO (0..).each needs Ruby 2.6 or later
</span>        <span class='id identifier rubyid_buff'>buff</span> <span class='op'>=</span> <span class='id identifier rubyid_canvas'>canvas</span>.<span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_ruby_model'>ruby_model</span>.<span class='id identifier rubyid_render_frame'>render_frame</span>(<span class='id identifier rubyid_i'>i</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p1'>p1</span><span class='comma'>,</span> <span class='id identifier rubyid_p2'>p2</span><span class='op'>|</span>
            <span class='id identifier rubyid_canvas'>canvas</span>.<span class='id identifier rubyid_line'>line</span>(<span class='id identifier rubyid_p1'>p1</span><span class='comma'>,</span> <span class='id identifier rubyid_p2'>p2</span>)
          <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_buff'>buff</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>20</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[0mPress Ctrl+C to stop\e[31m\e[1m</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[H</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_buff'>buff</span>
        <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.05</span>
      <span class='kw'>end</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[0m\e[?1049l</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="init_config-class_method">
  <h3 class='signature nodoc'>
    .<strong>init_config</strong>(ap_path)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L29-L118'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='118'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_init_config'>init_config</span>(<span class='id identifier rubyid_ap_path'>ap_path</span>)
  <span class='comment'># class instance variables
</span>  <span class='ivar'>@TRACER_INITIALIZED</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='comment'># default configurations
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_ap_path'>ap_path</span> <span class='kw'>and</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AP_NAME</span>]
    <span class='id identifier rubyid_ap_path'>ap_path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='kw'>__FILE__</span>))<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb.rb</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AP_NAME</span>] <span class='op'>=</span> <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span>)

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_NAME</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_LIB_PATH</span>] <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='kw'>__FILE__</span>)

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LOAD_MODULES</span>] <span class='op'>=</span> []
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>] <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_SINGLELINE</span>] <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='const'>ReadlineInputMethod</span>)
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_COLORIZE</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>INSPECT_MODE</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_TRACER</span>] <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_LOADER</span>] <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IGNORE_SIGINT</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IGNORE_EOF</span>] <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO</span>] <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>OMIT_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>VERBOSE</span>] <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>EVAL_HISTORY</span>] <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SAVE_HISTORY</span>] <span class='op'>=</span> <span class='int'>1000</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>BACK_TRACE_LIMIT</span>] <span class='op'>=</span> <span class='int'>16</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>] <span class='op'>=</span> {
    <span class='symbeg'>:</span><span class='const'>NULL</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_N</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'>DEFAULT</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_N</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; %s\n</span><span class='tstring_end'>&quot;</span></span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'>CLASSIC</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_N</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'>SIMPLE</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_N</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%l&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; %s\n</span><span class='tstring_end'>&quot;</span></span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'>INF_RUBY</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_N</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'><a href="XMP.html" title="XMP (class)">XMP</a></span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_N</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    ==&gt;%s\n</span><span class='tstring_end'>&quot;</span></span>
    }
  }

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> (<span class='const'>STDIN</span>.<span class='id identifier rubyid_tty?'>tty?</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='const'>DEFAULT</span> <span class='op'>:</span> <span class='symbeg'>:</span><span class='const'>NULL</span>)
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span>] <span class='op'>=</span> <span class='kw'>true</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>CONTEXT_MODE</span>] <span class='op'>=</span> <span class='int'>3</span> <span class='comment'># use binding in function on TOPLEVEL_BINDING
</span>  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SINGLE_IRB</span>] <span class='op'>=</span> <span class='kw'>false</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>] <span class='op'>=</span> <span class='const'><a href="IRB/Locale.html" title="IRB::Locale (class)">Locale</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Locale.html#new-class_method" title="IRB::Locale.new (method)">new</a></span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AT_EXIT</span>] <span class='op'>=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="init_error-class_method">
  <h3 class='signature nodoc'>
    .<strong>init_error</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L120-L122'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='120' data-end='122'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 120</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_init_error'>init_error</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>].<span class='id identifier rubyid_load'>load</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/error.rb</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize_tracer-class_method">
  <h3 class='signature '>
    .<strong>initialize_tracer</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>initialize tracing function</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/tracer.rb#L30-L37'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='30' data-end='37'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/tracer.rb', line 30</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_initialize_tracer'>initialize_tracer</span>
  <span class='const'>Tracer</span>.<span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'>Tracer</span>.<span class='id identifier rubyid_add_filter'>add_filter</span> {
    <span class='op'>|</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_binding'>binding</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_rests'>rests</span><span class='op'>|</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span>.<span class='id identifier rubyid_quote'>quote</span>(<span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_LIB_PATH</span>])<span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_file'>file</span> <span class='kw'>and</span>
      <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_file'>file</span>) <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb.rb</span><span class='tstring_end'>&quot;</span></span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-class_method">
  <h3 class='signature '>
    .<strong>inspect</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb.rb#L820-L840'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='820' data-end='840'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 820</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='ivar'>@CONF</span>.<span class='id identifier rubyid_inspect'>inspect</span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_version'><a href="#version-class_method" title="IRB.version (method)">version</a></span> <span class='kw'>unless</span> <span class='kw'>self</span>[<span class='symbeg'>:</span><span class='const'><a href="#VERSION-constant" title="IRB::VERSION (constant)">VERSION</a></span>]

  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> []
  <span class='kw'>for</span> <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>in</span> <span class='id identifier rubyid_sort'>sort</span>{<span class='op'>|</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='id identifier rubyid_a2'>a2</span><span class='op'>|</span> <span class='id identifier rubyid_a1'>a1</span>[<span class='int'>0</span>].<span class='id identifier rubyid_id2name'>id2name</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a2'>a2</span>[<span class='int'>0</span>].<span class='id identifier rubyid_id2name'>id2name</span>}
    <span class='kw'>case</span> <span class='id identifier rubyid_k'>k</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='const'>MAIN_CONTEXT</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid___TMP__EHV__'>__TMP__EHV__</span>
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]=...myself...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='const'>PROMPT</span>
      <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_collect'>collect</span>{
        <span class='op'>|</span><span class='id identifier rubyid_kk'>kk</span><span class='comma'>,</span> <span class='id identifier rubyid_vv'>vv</span><span class='op'>|</span>
        <span class='id identifier rubyid_ss'>ss</span> <span class='op'>=</span> <span class='id identifier rubyid_vv'>vv</span>.<span class='id identifier rubyid_collect'>collect</span>{<span class='op'>|</span><span class='id identifier rubyid_kkk'>kkk</span><span class='comma'>,</span> <span class='id identifier rubyid_vvv'>vvv</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_kkk'>kkk</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_vvv'>vvv</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
        <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:%s=&gt;{%s}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_kk'>kk</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_ss'>ss</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>))
      }
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]={%s}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>))
    <span class='kw'>else</span>
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]=%s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_inspect'>inspect</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="Inspector-class_method">
  <h3 class='signature nodoc'>
    <strong>Inspector</strong>(inspect, init = nil)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Convenience method to create a new <a href="IRB/Inspector.html" title="IRB::Inspector (class)"><code>::IRB::Inspector</code></a>, using the given <a href="#inspect-class_method" title="IRB.inspect (method)">.inspect</a> proc, and optional <code>init</code> proc and passes them to <a href="IRB/Inspector.html#new-class_method" title="IRB::Inspector.new (method)">Inspector.new</a></p>

<pre class="code ruby"><code class="ruby">irb(main):001:0&gt; ins = IRB::Inspector(proc{ |v| &quot;omg! #{v}&quot; })
irb(main):001:0&gt; IRB.CurrentContext.inspect_mode = ins # =&gt; omg! #&lt;IRB::Inspector:0x007f46f7ba7d28&gt;
irb(main):001:0&gt; &quot;what?&quot; #=&gt; omg! what?</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/inspector.rb#L24-L26'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='26'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/inspector.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='op'>::</span><span class='const'><a href="IRB/Inspector.html" title="IRB::Inspector (class)">Inspector</a></span>(<span class='id identifier rubyid_inspect'><a href="#inspect-class_method" title="IRB.inspect (method)">inspect</a></span><span class='comma'>,</span> <span class='id identifier rubyid_init'>init</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='const'><a href="IRB/Inspector.html" title="IRB::Inspector (class)">Inspector</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Inspector.html#new-class_method" title="IRB::Inspector.new (method)">new</a></span>(<span class='id identifier rubyid_inspect'><a href="#inspect-class_method" title="IRB.inspect (method)">inspect</a></span><span class='comma'>,</span> <span class='id identifier rubyid_init'>init</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb-class_method">
  <h3 class='signature '>
    .<strong>irb</strong>(file = nil, *main)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>IRB</code> session, see <a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">Irb.new</a>.</p>

<p>The optional <code>file</code> argument is given to <a href="IRB/Context.html#new-class_method" title="IRB::Context.new (method)">Context.new</a>, along with the workspace created with the remaining arguments, see <a href="IRB/WorkSpace.html#new-class_method" title="IRB::WorkSpace.new (method)">WorkSpace.new</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/multi-irb.rb#L189-L231'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='189' data-end='231'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 189</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_main'>main</span>)
  <span class='id identifier rubyid_workspace'>workspace</span> <span class='op'>=</span> <span class='const'><a href="IRB/WorkSpace.html" title="IRB::WorkSpace (class)">WorkSpace</a></span>.<span class='id identifier rubyid_new'><a href="IRB/WorkSpace.html#new-class_method" title="IRB::WorkSpace.new (method)">new</a></span>(<span class='op'>*</span><span class='id identifier rubyid_main'>main</span>)
  <span class='id identifier rubyid_parent_thread'>parent_thread</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="IRB.start (method)">start</a></span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_irb'>irb</span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>(<span class='id identifier rubyid_workspace'>workspace</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span>)
    <span class='kw'>rescue</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Subirb can&#39;t start with context(self): </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_workspace'>workspace</span>.<span class='id identifier rubyid_main'>main</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-class_method" title="IRB.inspect (method)">inspect</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>return to main irb\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_pass'>pass</span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_main'>main</span>.<span class='id identifier rubyid_wakeup'>wakeup</span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_exit'>exit</span>
    <span class='kw'>end</span>
    <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>].<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_irb'>irb</span>.<span class='id identifier rubyid_context'>context</span>) <span class='kw'>if</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>]
    <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='id identifier rubyid_irb'>irb</span>)
    <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='id identifier rubyid_irb'>irb</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_system_exit'>system_exit</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_catch'>catch</span>(<span class='symbeg'>:</span><span class='const'>IRB_EXIT</span>) <span class='kw'>do</span>
        <span class='id identifier rubyid_irb'>irb</span>.<span class='id identifier rubyid_eval_input'>eval_input</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>SystemExit</span>
      <span class='id identifier rubyid_system_exit'>system_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_raise'>raise</span>
      <span class='comment'>#fail
</span>    <span class='kw'>ensure</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_system_exit'>system_exit</span>
        <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_irb'>irb</span>)
        <span class='kw'>if</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>==</span> <span class='id identifier rubyid_irb'>irb</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_parent_thread'>parent_thread</span>.<span class='id identifier rubyid_alive?'>alive?</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='id identifier rubyid_parent_thread'>parent_thread</span>)
            <span class='id identifier rubyid_parent_thread'>parent_thread</span>.<span class='id identifier rubyid_run'>run</span>
          <span class='kw'>else</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_main_irb'>main_irb</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_main_thread'>main_thread</span>.<span class='id identifier rubyid_run'>run</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_stop'>stop</span>
  <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb_abort-class_method">
  <h3 class='signature '>
    .<strong>irb_abort</strong>(irb, exception = Abort)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Aborts then interrupts irb.</p>

<p>Will raise an <a href="IRB/Abort.html" title="IRB::Abort (class)"><code>::IRB::Abort</code></a> exception, or the given <code>exception</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb.rb#L416-L422'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='416' data-end='422'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 416</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb_abort'>irb_abort</span>(<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span><span class='comma'>,</span> <span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='const'><a href="IRB/Abort.html" title="IRB::Abort (class)">Abort</a></span>)
  <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='const'>Thread</span>
    <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>.<span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_thread'>thread</span>.<span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abort then interrupt!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abort then interrupt!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb_at_exit-class_method">
  <h3 class='signature '>
    .<strong>irb_at_exit</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls each event hook of <code>IRB.conf[:TA_EXIT]</code> when the current session quits.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb.rb#L404-L406'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='404' data-end='406'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 404</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb_at_exit'>irb_at_exit</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AT_EXIT</span>].<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_hook'>hook</span><span class='op'>|</span> <span class='id identifier rubyid_hook'>hook</span>.<span class='id identifier rubyid_call'>call</span>}
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb_exit-class_method">
  <h3 class='signature '>
    .<strong>irb_exit</strong>(irb, ret)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quits irb</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb.rb#L409-L411'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='409' data-end='411'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 409</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb_exit'>irb_exit</span>(<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span><span class='comma'>,</span> <span class='id identifier rubyid_ret'>ret</span>)
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbeg'>:</span><span class='const'>IRB_EXIT</span><span class='comma'>,</span> <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="JobManager-class_method">
  <h3 class='signature '>
    <strong>JobManager</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current <a href="IRB/JobManager.html" title="IRB::JobManager (class)"><code>::IRB::JobManager</code></a> in the session</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/ext/multi-irb.rb#L176-L178'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='176' data-end='178'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 176</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='const'>JobManager</span>
  <span class='ivar'>@JobManager</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_modules-class_method">
  <h3 class='signature nodoc'>
    .<strong>load_modules</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>loading modules</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L299-L307'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='299' data-end='307'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 299</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_load_modules'>load_modules</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_m'>m</span> <span class='kw'>in</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LOAD_MODULES</span>]
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_require'>require</span> <span class='id identifier rubyid_m'>m</span>
    <span class='kw'>rescue</span> <span class='const'>LoadError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_err'>err</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>uplevel:</span> <span class='int'>0</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_opts-class_method">
  <h3 class='signature nodoc'>
    .<strong>parse_opts</strong>(argv: ::ARGV)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>option analyzing</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L125-L237'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='125' data-end='237'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 125</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_parse_opts'>parse_opts</span>(<span class='label'>argv:</span> <span class='op'>::</span><span class='const'>ARGV</span>)
  <span class='id identifier rubyid_load_path'>load_path</span> <span class='op'>=</span> []
  <span class='kw'>while</span> <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-f</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-d</span><span class='tstring_end'>&quot;</span></span>
      <span class='gvar'>$DEBUG</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-w</span><span class='tstring_end'>&quot;</span></span>
      <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-W(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_opt'>opt</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
        <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
        <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>else</span>
        <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-r(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LOAD_MODULES</span>].<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_opt'>opt</span> <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-I(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_load_path'>load_path</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_split'>split</span>(<span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span>)) <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-U</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_set_encoding'><a href="#set_encoding-class_method" title="IRB.set_encoding (method)">set_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-E(.+)?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--encoding(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_set_encoding'><a href="#set_encoding-class_method" title="IRB.set_encoding (method)">set_encoding</a></span>(<span class='op'>*</span><span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>))
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inspect</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_first'>first</span>
        <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>INSPECT_MODE</span>] <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='kw'>else</span>
        <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>INSPECT_MODE</span>] <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noinspect</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>INSPECT_MODE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--singleline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--readline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--legacy</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_SINGLELINE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--nosingleline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noreadline</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_SINGLELINE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--multiline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--reidline</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_MULTILINE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--nomultiline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noreidline</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_MULTILINE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--echo</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noecho</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--echo-on-assignment</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noecho-on-assignment</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--omit-on-assignment</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>OMIT_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noomit-on-assignment</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>OMIT_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>VERBOSE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noverbose</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>VERBOSE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--colorize</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_COLORIZE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--nocolorize</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_COLORIZE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--prompt-mode(?:=(.+))?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--prompt(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_prompt_mode'>prompt_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_upcase'>upcase</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_intern'>intern</span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='id identifier rubyid_prompt_mode'>prompt_mode</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noprompt</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>NULL</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inf-ruby-mode</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>INF_RUBY</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--sample-book-mode</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--simple-prompt</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>SIMPLE</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tracer</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_TRACER</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--back-trace-limit(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>BACK_TRACE_LIMIT</span>] <span class='op'>=</span> (<span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>).<span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--context-mode(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>CONTEXT_MODE</span>] <span class='op'>=</span> (<span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>).<span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--single-irb</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SINGLE_IRB</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-v</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_print'>print</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_version'><a href="#version-class_method" title="IRB.version (method)">version</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>help</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>IRB</span>.<span class='id identifier rubyid_print_usage'><a href="#print_usage-class_method" title="IRB.print_usage (method)">print_usage</a></span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
        <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>] <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
        <span class='gvar'>$0</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
      <span class='kw'>end</span>
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_fail'>fail</span> <span class='const'><a href="IRB/UnrecognizedSwitch.html" title="IRB::UnrecognizedSwitch (class)">UnrecognizedSwitch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>else</span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>] <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
      <span class='gvar'>$0</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_load_path'>load_path</span>.<span class='id identifier rubyid_collect!'>collect!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\.\/</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>?</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>:</span> <span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='kw'>end</span>
  <span class='gvar'>$LOAD_PATH</span>.<span class='id identifier rubyid_unshift'>unshift</span>(<span class='op'>*</span><span class='id identifier rubyid_load_path'>load_path</span>)

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="print_usage-class_method">
  <h3 class='signature '>
    .<strong>print_usage</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Outputs the irb help message, see IRB@Command+line+options.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/help.rb#L17-L35'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='17' data-end='35'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/help.rb', line 17</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_print_usage'>print_usage</span>
  <span class='id identifier rubyid_lc'>lc</span> <span class='op'>=</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>]
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_find'>find</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/help-message</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'>IRB</span><span class='op'>::</span><span class='const'>MagicFile</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_path'>path</span>){<span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_each_line'>each_line</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l'>l</span>
        <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_l'>l</span> <span class='kw'>unless</span> <span class='id identifier rubyid_space_line'>space_line</span>
        <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>false</span>

      <span class='id identifier rubyid_l'>l</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>#.*$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l'>l</span>
      <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_l'>l</span>
    <span class='kw'>end</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rc_file-class_method">
  <h3 class='signature nodoc'>
    .<strong>rc_file</strong>(ext = IRBRC_EXT)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L256-L272'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='256' data-end='272'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 256</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_rc_file'>rc_file</span>(<span class='id identifier rubyid_ext'>ext</span> <span class='op'>=</span> <span class='const'><a href="#IRBRC_EXT-constant" title="IRB::IRBRC_EXT (constant)">IRBRC_EXT</a></span>)
  <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC_NAME_GENERATOR</span>]
    <span class='id identifier rubyid_rc_file_generators'><a href="#rc_file_generators-class_method" title="IRB.rc_file_generators (method)">rc_file_generators</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rcgen'>rcgen</span><span class='op'>|</span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC_NAME_GENERATOR</span>] <span class='op'>||=</span> <span class='id identifier rubyid_rcgen'>rcgen</span>
      <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_rcgen'>rcgen</span>.<span class='id identifier rubyid_call'>call</span>(<span class='const'><a href="#IRBRC_EXT-constant" title="IRB::IRBRC_EXT (constant)">IRBRC_EXT</a></span>))
        <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC_NAME_GENERATOR</span>] <span class='op'>=</span> <span class='id identifier rubyid_rcgen'>rcgen</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_rc_file'>rc_file</span> <span class='op'>=</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC_NAME_GENERATOR</span>].<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_ext'>ext</span>)
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rc_file'>rc_file</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_fail'>fail</span> <span class='const'>IllegalRCNameGenerator</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rc_file_generators-class_method">
  <h3 class='signature nodoc'>
    .<strong>rc_file_generators</strong> {|proc{|rc| current_dir+&quot;/.config/irb/irb#{rc}&quot;}| ... } 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>enumerate possible rc-file base name generators</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>proc</code>{|<code>rc</code>| <code>current_dir</code>+"/.<code>config</code>/<a href="#irb-class_method" title="IRB.irb (method)">irb</a>/<a href="#irb-class_method" title="IRB.irb (method)">irb</a>#{<code>rc</code>}"})</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L275-L296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='275' data-end='296'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 275</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_rc_file_generators'>rc_file_generators</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_irbrc'>irbrc</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>IRBRC</span><span class='tstring_end'>&quot;</span></span>]
    <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_rc'>rc</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rc</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_irbrc'>irbrc</span> <span class='op'>:</span> <span class='id identifier rubyid_irbrc'>irbrc</span><span class='op'>+</span><span class='id identifier rubyid_rc'>rc</span>}
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_xdg_config_home'>xdg_config_home</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XDG_CONFIG_HOME</span><span class='tstring_end'>&quot;</span></span>]
    <span class='id identifier rubyid_irb_home'>irb_home</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_xdg_config_home'>xdg_config_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>unless</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_irb_home'>irb_home</span>
      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fileutils</span><span class='tstring_end'>&#39;</span></span>
      <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_irb_home'>irb_home</span>
    <span class='kw'>end</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_irb_home'>irb_home</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_home'>home</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&quot;</span></span>]
    <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_home'>home</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/.irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
  <span class='kw'>end</span>
  <span class='id identifier rubyid_current_dir'>current_dir</span> <span class='op'>=</span> <span class='const'>Dir</span>.<span class='id identifier rubyid_pwd'>pwd</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_current_dir'>current_dir</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/.config/irb/irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_current_dir'>current_dir</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/.irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_current_dir'>current_dir</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A_?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_current_dir'>current_dir</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/_irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_current_dir'>current_dir</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/$irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run_config-class_method">
  <h3 class='signature nodoc'>
    .<strong>run_config</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>running config</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L240-L253'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='240' data-end='253'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 240</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_run_config'>run_config</span>
  <span class='kw'>if</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC</span>]
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_rc_file'><a href="#rc_file-class_method" title="IRB.rc_file (method)">rc_file</a></span>
    <span class='kw'>rescue</span> <span class='const'>LoadError</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span>
    <span class='kw'>rescue</span> <span class='comment'># StandardError, ScriptError
</span>      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>load error: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc_file'><a href="#rc_file-class_method" title="IRB.rc_file (method)">rc_file</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_print'>print</span> <span class='gvar'>$!</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='gvar'>$!</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>for</span> <span class='id identifier rubyid_err'>err</span> <span class='kw'>in</span> <span class='gvar'>$@</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='gvar'>$@</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>2</span>]
        <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_encoding-class_method">
  <h3 class='signature priv  nodoc'>
    .<strong>set_encoding</strong>(extern, intern = nil, override: true)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L313-L327'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='313' data-end='327'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 313</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_encoding'>set_encoding</span>(<span class='id identifier rubyid_extern'>extern</span><span class='comma'>,</span> <span class='id identifier rubyid_intern'>intern</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>override:</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_verbose'>verbose</span><span class='comma'>,</span> <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='gvar'>$VERBOSE</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='const'>Encoding</span>.<span class='id identifier rubyid_default_external'>default_external</span> <span class='op'>=</span> <span class='id identifier rubyid_extern'>extern</span> <span class='kw'>unless</span> <span class='id identifier rubyid_extern'>extern</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_extern'>extern</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='const'>Encoding</span>.<span class='id identifier rubyid_default_internal'>default_internal</span> <span class='op'>=</span> <span class='id identifier rubyid_intern'>intern</span> <span class='kw'>unless</span> <span class='id identifier rubyid_intern'>intern</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_intern'>intern</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  [<span class='gvar'>$stdin</span><span class='comma'>,</span> <span class='gvar'>$stdout</span><span class='comma'>,</span> <span class='gvar'>$stderr</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_set_encoding'>set_encoding</span>(<span class='id identifier rubyid_extern'>extern</span><span class='comma'>,</span> <span class='id identifier rubyid_intern'>intern</span>)
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_override'>override</span>
    <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>].<span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span>(<span class='symbeg'>:</span><span class='ivar'>@override_encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_extern'>extern</span>)
  <span class='kw'>else</span>
    <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>].<span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span>(<span class='symbeg'>:</span><span class='ivar'>@encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_extern'>extern</span>)
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='id identifier rubyid_verbose'>verbose</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setup-class_method">
  <h3 class='signature nodoc'>
    .<strong>setup</strong>(ap_path, argv: ::ARGV)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>initialize config</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb/init.rb#L16-L26'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='16' data-end='26'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 16</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_setup'>setup</span>(<span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='label'>argv:</span> <span class='op'>::</span><span class='const'>ARGV</span>)
  <span class='const'>IRB</span>.<span class='id identifier rubyid_init_config'><a href="#init_config-class_method" title="IRB.init_config (method)">init_config</a></span>(<span class='id identifier rubyid_ap_path'>ap_path</span>)
  <span class='const'>IRB</span>.<span class='id identifier rubyid_init_error'><a href="#init_error-class_method" title="IRB.init_error (method)">init_error</a></span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_parse_opts'><a href="#parse_opts-class_method" title="IRB.parse_opts (method)">parse_opts</a></span>(<span class='label'>argv:</span> <span class='id identifier rubyid_argv'>argv</span>)
  <span class='const'>IRB</span>.<span class='id identifier rubyid_run_config'><a href="#run_config-class_method" title="IRB.run_config (method)">run_config</a></span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_load_modules'><a href="#load_modules-class_method" title="IRB.load_modules (method)">load_modules</a></span>

  <span class='kw'>unless</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>][<span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>]]
    <span class='id identifier rubyid_fail'>fail</span> <span class='const'><a href="IRB/UndefinedPromptMode.html" title="IRB::UndefinedPromptMode (class)">UndefinedPromptMode</a></span><span class='comma'>,</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start-class_method">
  <h3 class='signature '>
    .<strong>start</strong>(ap_path = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initializes IRB and creates a new <code>Irb.irb</code> object at the <code>TOPLEVEL_BINDING</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb.rb#L389-L401'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='389' data-end='401'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_ap_path'>ap_path</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='const'>STDOUT</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='gvar'>$0</span> <span class='op'>=</span> <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_ap_path'>ap_path</span>

  <span class='const'>IRB</span>.<span class='id identifier rubyid_setup'><a href="#setup-class_method" title="IRB.setup (method)">setup</a></span>(<span class='id identifier rubyid_ap_path'>ap_path</span>)

  <span class='kw'>if</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>]
    <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>])
  <span class='kw'>else</span>
    <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>.<span class='id identifier rubyid_run'>run</span>(<span class='ivar'>@CONF</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="version-class_method">
  <h3 class='signature '>
    .<strong>version</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the current version of <code>IRB</code>, including release version and last updated date.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/irb.rb#L373-L377'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='373' data-end='377'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 373</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_version'>version</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'><a href="#VERSION-constant" title="IRB::VERSION (constant)">VERSION</a></span>] <span class='kw'>then</span> <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>end</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'><a href="#VERSION-constant" title="IRB::VERSION (constant)">VERSION</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb %s (%s)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@RELEASE_VERSION</span><span class='comma'>,</span> <span class='ivar'>@LAST_UPDATE_DATE</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>