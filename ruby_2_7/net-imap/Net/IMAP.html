<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Net::IMAP &mdash; net/imap  Ruby-2.7.8 pp225</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Net::IMAP",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-2.7.8</a> &raquo; 
      <a href='../'>net/imap</a> &raquo; 
      <a href='../_index.html#alpha_I'>Index (I)</a> &raquo; 
        <a href="../Net.html" title="Net (module)">Net</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>IMAP&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Net::IMAP</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="IMAP/NumValidator.html" title="Net::IMAP::NumValidator (module)"><code>NumValidator</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="IMAP/Address.html" title="Net::IMAP::Address (class)"><code>Address</code></a>,
        <a class='nodoc' href="IMAP/Atom.html" title="Net::IMAP::Atom (class)"><code>Atom</code></a>,
        <a href="IMAP/BodyTypeAttachment.html" title="Net::IMAP::BodyTypeAttachment (class)"><code>BodyTypeAttachment</code></a>,
        <a href="IMAP/BodyTypeBasic.html" title="Net::IMAP::BodyTypeBasic (class)"><code>BodyTypeBasic</code></a>,
        <a href="IMAP/BodyTypeExtension.html" title="Net::IMAP::BodyTypeExtension (class)"><code>BodyTypeExtension</code></a>,
        <a href="IMAP/BodyTypeMessage.html" title="Net::IMAP::BodyTypeMessage (class)"><code>BodyTypeMessage</code></a>,
        <a href="IMAP/BodyTypeMultipart.html" title="Net::IMAP::BodyTypeMultipart (class)"><code>BodyTypeMultipart</code></a>,
        <a href="IMAP/BodyTypeText.html" title="Net::IMAP::BodyTypeText (class)"><code>BodyTypeText</code></a>,
        <a href="IMAP/ContentDisposition.html" title="Net::IMAP::ContentDisposition (class)"><code>ContentDisposition</code></a>,
        <a href="IMAP/ContinuationRequest.html" title="Net::IMAP::ContinuationRequest (class)"><code>ContinuationRequest</code></a>,
        <a href="IMAP/CramMD5Authenticator.html" title="Net::IMAP::CramMD5Authenticator (class)"><code>CramMD5Authenticator</code></a>,
        <a href="IMAP/DigestMD5Authenticator.html" title="Net::IMAP::DigestMD5Authenticator (class)"><code>DigestMD5Authenticator</code></a>,
        <a href="IMAP/Envelope.html" title="Net::IMAP::Envelope (class)"><code>Envelope</code></a>,
        <a href="IMAP/FetchData.html" title="Net::IMAP::FetchData (class)"><code>FetchData</code></a>,
        <a class='nodoc' href="IMAP/Literal.html" title="Net::IMAP::Literal (class)"><code>Literal</code></a>,
        <a href="IMAP/LoginAuthenticator.html" title="Net::IMAP::LoginAuthenticator (class)"><code>LoginAuthenticator</code></a>,
        <a href="IMAP/MailboxACLItem.html" title="Net::IMAP::MailboxACLItem (class)"><code>MailboxACLItem</code></a>,
        <a href="IMAP/MailboxList.html" title="Net::IMAP::MailboxList (class)"><code>MailboxList</code></a>,
        <a href="IMAP/MailboxQuota.html" title="Net::IMAP::MailboxQuota (class)"><code>MailboxQuota</code></a>,
        <a href="IMAP/MailboxQuotaRoot.html" title="Net::IMAP::MailboxQuotaRoot (class)"><code>MailboxQuotaRoot</code></a>,
        <a class='nodoc' href="IMAP/MessageSet.html" title="Net::IMAP::MessageSet (class)"><code>MessageSet</code></a>,
        <a href="IMAP/PlainAuthenticator.html" title="Net::IMAP::PlainAuthenticator (class)"><code>PlainAuthenticator</code></a>,
        <a class='nodoc' href="IMAP/QuotedString.html" title="Net::IMAP::QuotedString (class)"><code>QuotedString</code></a>,
        <a class='nodoc' href="IMAP/RawData.html" title="Net::IMAP::RawData (class)"><code>RawData</code></a>,
        <a href="IMAP/ResponseCode.html" title="Net::IMAP::ResponseCode (class)"><code>ResponseCode</code></a>,
        <a class='nodoc' href="IMAP/ResponseParser.html" title="Net::IMAP::ResponseParser (class)"><code>ResponseParser</code></a>,
        <a href="IMAP/ResponseText.html" title="Net::IMAP::ResponseText (class)"><code>ResponseText</code></a>,
        <a href="IMAP/StatusData.html" title="Net::IMAP::StatusData (class)"><code>StatusData</code></a>,
        <a href="IMAP/TaggedResponse.html" title="Net::IMAP::TaggedResponse (class)"><code>TaggedResponse</code></a>,
        <a href="IMAP/ThreadMember.html" title="Net::IMAP::ThreadMember (class)"><code>ThreadMember</code></a>,
        <a href="IMAP/UntaggedResponse.html" title="Net::IMAP::UntaggedResponse (class)"><code>UntaggedResponse</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="IMAP/BadResponseError.html" title="Net::IMAP::BadResponseError (class)"><code>BadResponseError</code></a>,
        <a href="IMAP/ByeResponseError.html" title="Net::IMAP::ByeResponseError (class)"><code>ByeResponseError</code></a>,
        <a href="IMAP/DataFormatError.html" title="Net::IMAP::DataFormatError (class)"><code>DataFormatError</code></a>,
        <a href="IMAP/Error.html" title="Net::IMAP::Error (class)"><code>Error</code></a>,
        <a href="IMAP/FlagCountError.html" title="Net::IMAP::FlagCountError (class)"><code>FlagCountError</code></a>,
        <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>NoResponseError</code></a>,
        <a href="IMAP/ResponseError.html" title="Net::IMAP::ResponseError (class)"><code>ResponseError</code></a>,
        <a href="IMAP/ResponseParseError.html" title="Net::IMAP::ResponseParseError (class)"><code>ResponseParseError</code></a>,
        <a href="IMAP/UnknownResponseError.html" title="Net::IMAP::UnknownResponseError (class)"><code>UnknownResponseError</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Protocol
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          SSL,
          OpenSSL,
          MonitorMixin,
          Protocol
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Protocol</span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'>Protocol</li>
          <li class='next'>Net::IMAP</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L203'>lib/net/imap.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>IMAP</code> implements Internet Message Access Protocol (IMAP) client functionality.  The protocol is described in [IMAP].</p>

<h3 id="label-IMAP+Overview">IMAP Overview</h3>

<p>An IMAP client connects to a server, and then authenticates itself using either #authenticate() or #login().  Having authenticated itself, there is a range of commands available to it.  Most work with mailboxes, which may be arranged in an hierarchical namespace, and each of which contains zero or more messages.  How this is implemented on the server is implementation-dependent; on a UNIX server, it will frequently be implemented as files in mailbox format within a hierarchy of directories.</p>

<p>To work on the messages within a mailbox, the client must first select that mailbox, using either #select() or (for read-only access) #examine().  Once the client has successfully selected a mailbox, they enter <em>selected</em> state, and that mailbox becomes the <em>current</em> mailbox, on which mail-item related commands implicitly operate.</p>

<p>Messages have two sorts of identifiers: message sequence numbers and UIDs.</p>

<p>Message sequence numbers number messages within a mailbox from 1 up to the number of items in the mailbox.  If a new message arrives during a session, it receives a sequence number equal to the new size of the mailbox.  If messages are expunged from the mailbox, remaining messages have their sequence numbers “shuffled down” to fill the gaps.</p>

<p>UIDs, on the other hand, are permanently guaranteed not to identify another message within the same mailbox, even if the existing message is deleted.  UIDs are required to be assigned in ascending (but not necessarily sequential) order within a mailbox; this means that if a non-IMAP client rearranges the order of mailitems within a mailbox, the UIDs have to be reassigned.  An IMAP client thus cannot rearrange message orders.</p>

<h3 id="label-Examples+of+Usage">Examples of Usage</h3>

<h4 id="label-List+sender+and+subject+of+all+recent+messages+in+the+default+mailbox">List sender and subject of all recent messages in the default mailbox</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>IMAP</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>mail.example.com</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_authenticate'><a href="#authenticate-instance_method" title="Net::IMAP#authenticate (method)">authenticate</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LOGIN</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>joe_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>joes_password</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_examine'><a href="#examine-instance_method" title="Net::IMAP#examine (method)">examine</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>INBOX</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_search'><a href="#search-instance_method" title="Net::IMAP#search (method)">search</a></span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RECENT</span><span class='tstring_end'>&quot;</span></span>]).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_message_id'>message_id</span><span class='op'>|</span>
  <span class='id identifier rubyid_envelope'>envelope</span> <span class='op'>=</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_fetch'><a href="#fetch-instance_method" title="Net::IMAP#fetch (method)">fetch</a></span>(<span class='id identifier rubyid_message_id'>message_id</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ENVELOPE</span><span class='tstring_end'>&quot;</span></span>)[<span class='int'>0</span>].<span class='id identifier rubyid_attr'>attr</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ENVELOPE</span><span class='tstring_end'>&quot;</span></span>]
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_envelope'>envelope</span>.<span class='id identifier rubyid_from'>from</span>[<span class='int'>0</span>].<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: \t</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_envelope'>envelope</span>.<span class='id identifier rubyid_subject'>subject</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<h4 id="label-Move+all+messages+from+April+2003+from+-22Mail-2Fsent-mail-22+to+-22Mail-2Fsent-apr03-22">Move all messages from April 2003 from “Mail/sent-mail” to “Mail/sent-apr03”</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>IMAP</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>mail.example.com</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_authenticate'><a href="#authenticate-instance_method" title="Net::IMAP#authenticate (method)">authenticate</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LOGIN</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>joe_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>joes_password</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Net::IMAP#select (method)">select</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mail/sent-mail</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_list'><a href="#list-instance_method" title="Net::IMAP#list (method)">list</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mail/</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sent-apr03</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_create'><a href="#create-instance_method" title="Net::IMAP#create (method)">create</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mail/sent-apr03</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_search'><a href="#search-instance_method" title="Net::IMAP#search (method)">search</a></span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BEFORE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>30-Apr-2003</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SINCE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1-Apr-2003</span><span class='tstring_end'>&quot;</span></span>]).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_message_id'>message_id</span><span class='op'>|</span>
  <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_copy'><a href="#copy-instance_method" title="Net::IMAP#copy (method)">copy</a></span>(<span class='id identifier rubyid_message_id'>message_id</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mail/sent-apr03</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_store'><a href="#store-instance_method" title="Net::IMAP#store (method)">store</a></span>(<span class='id identifier rubyid_message_id'>message_id</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+FLAGS</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='const'>Deleted</span>])
<span class='kw'>end</span>
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_expunge'><a href="#expunge-instance_method" title="Net::IMAP#expunge (method)">expunge</a></span></code></pre>

<h3 id="label-Thread+Safety">Thread Safety</h3>

<p><code>IMAP</code> supports concurrent threads. For example,</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>IMAP</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>imap.foo.net</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>imap2</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_authenticate'><a href="#authenticate-instance_method" title="Net::IMAP#authenticate (method)">authenticate</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cram-md5</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>password</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Net::IMAP#select (method)">select</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_fetch_thread'>fetch_thread</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_start'>start</span> { <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_fetch'><a href="#fetch-instance_method" title="Net::IMAP#fetch (method)">fetch</a></span>(<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID</span><span class='tstring_end'>&quot;</span></span>) }
<span class='id identifier rubyid_search_result'>search_result</span> <span class='op'>=</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_search'><a href="#search-instance_method" title="Net::IMAP#search (method)">search</a></span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BODY</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>])
<span class='id identifier rubyid_fetch_result'>fetch_result</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_thread'>fetch_thread</span>.<span class='id identifier rubyid_value'>value</span>
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_disconnect'><a href="#disconnect-instance_method" title="Net::IMAP#disconnect (method)">disconnect</a></span></code></pre>

<p>This script invokes the FETCH command and the SEARCH command concurrently.</p>

<h3 id="label-Errors">Errors</h3>

<p>An IMAP server can send three different types of responses to indicate failure:</p>
<dl class="rdoc-list note-list"><dt>NO
<dd>
<p>the attempted command could not be successfully completed.  For instance, the username/password used for logging in are incorrect; the selected mailbox does not exist; etc.</p>
</dd><dt>BAD
<dd>
<p>the request from the client does not follow the server’s understanding of the IMAP protocol.  This includes attempting commands from the wrong client state; for instance, attempting to perform a SEARCH command without having SELECTed a current mailbox.  It can also signal an internal server failure (such as a disk crash) has occurred.</p>
</dd><dt>BYE
<dd>
<p>the server is saying goodbye.  This can be part of a normal logout sequence, and can be used as part of a login sequence to indicate that the server is (for some reason) unwilling to accept your connection.  As a response to any other command, it indicates either that the server is shutting down, or that the server is timing out the client connection due to inactivity.</p>
</dd></dl>

<p>These three error response are represented by the errors <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>NoResponseError</code></a>, <a href="IMAP/BadResponseError.html" title="Net::IMAP::BadResponseError (class)"><code>BadResponseError</code></a>, and <a href="IMAP/ByeResponseError.html" title="Net::IMAP::ByeResponseError (class)"><code>ByeResponseError</code></a>, all of which are subclasses of <a href="IMAP/ResponseError.html" title="Net::IMAP::ResponseError (class)"><code>ResponseError</code></a>.  Essentially, all methods that involve sending a request to the server can generate one of these errors. Only the most pertinent instances have been documented below.</p>

<p>Because the <code>IMAP</code> class uses Sockets for communication, its methods are also susceptible to the various errors that can occur when working with sockets.  These are generally represented as Errno errors.  For instance, any method that involves sending a request to the server and/or receiving a response from it could raise an <code>Errno::EPIPE</code> error if the network connection unexpectedly goes down.  See the socket(7), ip(7), tcp(7), socket(2), connect(2), and associated man pages.</p>

<p>Finally, a <a href="IMAP/DataFormatError.html" title="Net::IMAP::DataFormatError (class)"><code>DataFormatError</code></a> is thrown if low-level data is found to be in an incorrect format (for instance, when converting between UTF-8 and UTF-16), and <a href="IMAP/ResponseParseError.html" title="Net::IMAP::ResponseParseError (class)"><code>ResponseParseError</code></a> is thrown if a server response is non-parseable.</p>

<h3 id="label-References">References</h3>
<dl class="rdoc-list label-list"><dt>[IMAP]
<dd><ol style="list-style-type: upper-alpha"><li>
<p>Crispin, “INTERNET MESSAGE ACCESS PROTOCOL - VERSION 4rev1”,</p>
</li></ol>

<p>RFC 2060, December 1996.  (Note: since obsoleted by RFC 3501)</p>
</dd><dt>[LANGUAGE-TAGS]
<dd>
<p>Alvestrand, H., “Tags for the Identification of Languages”, RFC 1766, March 1995.</p>
</dd><dt>[MD5]
<dd>
<p>Myers, J., and M. Rose, “The Content-MD5 Header Field”, RFC 1864, October 1995.</p>
</dd><dt>[MIME-IMB]
<dd>
<p>Freed, N., and N. Borenstein, “MIME (Multipurpose Internet Mail Extensions) Part One: Format of Internet Message Bodies”, RFC 2045, November 1996.</p>
</dd><dt>[RFC-822]
<dd>
<p>Crocker, D., “Standard for the Format of ARPA Internet Text Messages”, STD 11, RFC 822, University of Delaware, August 1982.</p>
</dd><dt>[RFC-2087]
<dd>
<p>Myers, J., “IMAP4 QUOTA extension”, RFC 2087, January 1997.</p>
</dd><dt>[RFC-2086]
<dd>
<p>Myers, J., “IMAP4 ACL extension”, RFC 2086, January 1997.</p>
</dd><dt>[RFC-2195]
<dd>
<p>Klensin, J., Catoe, R., and Krumviede, P., “IMAP/POP AUTHorize Extension for Simple Challenge/Response”, RFC 2195, September 1997.</p>
</dd><dt>[SORT-THREAD-EXT]
<dd>
<p>Crispin, M., “INTERNET MESSAGE ACCESS PROTOCOL - SORT and THREAD Extensions”, draft-ietf-imapext-sort, May 2003.</p>
</dd><dt>[OSSL]
<dd>
<p><a href="http://www.openssl.org">www.openssl.org</a></p>
<dl class="rdoc-list label-list"><dt>[RSSL]
<dd>
<p><a href="http://savannah.gnu.org/projects/rubypki">savannah.gnu.org/projects/rubypki</a></p>
<dl class="rdoc-list label-list"><dt>[UTF7]
<dd>
<p>Goldsmith, D. and Davis, M., “UTF-7: A Mail-Safe Transformation Format of Unicode”, RFC 2152, May 1997.</p>
</dd></dl>
</dd></dl>
</dd></dl>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='ANSWERED-constant' class='summary_signature'>ANSWERED =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating a message has been answered.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L237-L237'># File 'lib/net/imap.rb', line 237</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Answered</span></pre>
  </li>
  <li>
    <span id='CRLF-constant' class='summary_signature nodoc'>CRLF =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1034-L1034'># File 'lib/net/imap.rb', line 1034</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='DATE_MONTH-constant' class='summary_signature'>DATE_MONTH =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1399-L1399'># File 'lib/net/imap.rb', line 1399</a>    <pre class='code ruby'><span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>Jan</span><span class='words_sep'> </span><span class='tstring_content'>Feb</span><span class='words_sep'> </span><span class='tstring_content'>Mar</span><span class='words_sep'> </span><span class='tstring_content'>Apr</span><span class='words_sep'> </span><span class='tstring_content'>May</span><span class='words_sep'> </span><span class='tstring_content'>Jun</span><span class='words_sep'> </span><span class='tstring_content'>Jul</span><span class='words_sep'> </span><span class='tstring_content'>Aug</span><span class='words_sep'> </span><span class='tstring_content'>Sep</span><span class='words_sep'> </span><span class='tstring_content'>Oct</span><span class='words_sep'> </span><span class='tstring_content'>Nov</span><span class='words_sep'> </span><span class='tstring_content'>Dec</span><span class='tstring_end'>)</span></span></pre>
  </li>
  <li>
    <span id='DELETED-constant' class='summary_signature'>DELETED =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating a message has been marked for deletion.  This will occur when the mailbox is closed or expunged.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L245-L245'># File 'lib/net/imap.rb', line 245</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Deleted</span></pre>
  </li>
  <li>
    <span id='DRAFT-constant' class='summary_signature'>DRAFT =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating a message is only a draft or work-in-progress version.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L248-L248'># File 'lib/net/imap.rb', line 248</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Draft</span></pre>
  </li>
  <li>
    <span id='FLAGGED-constant' class='summary_signature'>FLAGGED =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating a message has been flagged for special or urgent attention.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L241-L241'># File 'lib/net/imap.rb', line 241</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Flagged</span></pre>
  </li>
  <li>
    <span id='MARKED-constant' class='summary_signature'>MARKED =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating that a mailbox has been marked “interesting” by the server; this commonly indicates that the mailbox contains new messages.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L265-L265'># File 'lib/net/imap.rb', line 265</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Marked</span></pre>
  </li>
  <li>
    <span id='NOINFERIORS-constant' class='summary_signature'>NOINFERIORS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating that a mailbox context name cannot contain children.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L257-L257'># File 'lib/net/imap.rb', line 257</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Noinferiors</span></pre>
  </li>
  <li>
    <span id='NOSELECT-constant' class='summary_signature'>NOSELECT =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating that a mailbox is not selected.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L260-L260'># File 'lib/net/imap.rb', line 260</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Noselect</span></pre>
  </li>
  <li>
    <span id='PORT-constant' class='summary_signature nodoc'>PORT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1035-L1035'># File 'lib/net/imap.rb', line 1035</a>    <pre class='code ruby'><span class='int'>143</span></pre>
  </li>
  <li>
    <span id='RECENT-constant' class='summary_signature'>RECENT =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating that the message is “recent,” meaning that this session is the first session in which the client has been notified of this message.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L253-L253'># File 'lib/net/imap.rb', line 253</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Recent</span></pre>
  </li>
  <li>
    <span id='RESPONSE_ERRORS-constant' class='summary_signature'>RESPONSE_ERRORS =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L3726-L3726'># File 'lib/net/imap.rb', line 3726</a>    <pre class='code ruby'><span class='const'>Hash</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='const'><a href="IMAP/ResponseError.html" title="Net::IMAP::ResponseError (class)">ResponseError</a></span>)</pre>
  </li>
  <li>
    <span id='SEEN-constant' class='summary_signature'>SEEN =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating a message has been seen.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L234-L234'># File 'lib/net/imap.rb', line 234</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Seen</span></pre>
  </li>
  <li>
    <span id='SSL_PORT-constant' class='summary_signature nodoc'>SSL_PORT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1036-L1036'># File 'lib/net/imap.rb', line 1036</a>    <pre class='code ruby'><span class='int'>993</span></pre>
  </li>
  <li>
    <span id='UNMARKED-constant' class='summary_signature'>UNMARKED =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Flag indicating that the mailbox does not contains new messages.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L268-L268'># File 'lib/net/imap.rb', line 268</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='const'>Unmarked</span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#debug-class_method" title=".debug (class method)">.<strong>debug</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the debug mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#debug=-class_method" title=".debug= (class method)">.<strong>debug=</strong>(val)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the debug mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#max_flag_count-class_method" title=".max_flag_count (class method)">.<strong>max_flag_count</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the max number of flags interned to symbols.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#max_flag_count=-class_method" title=".max_flag_count= (class method)">.<strong>max_flag_count=</strong>(count)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the max number of flags interned to symbols.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#add_authenticator-class_method" title=".add_authenticator (class method)">.<strong>add_authenticator</strong>(auth_type, authenticator)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds an authenticator for <a href="#authenticate-instance_method" title="Net::IMAP#authenticate (method)">#authenticate</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#decode_utf7-class_method" title=".decode_utf7 (class method)">.<strong>decode_utf7</strong>(s)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Decode a string from modified UTF-7 format to UTF-8.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_imap_port-class_method" title=".default_imap_port (class method)">.<strong>default_imap_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#default_port-class_method" title="Net::IMAP.default_port (method)">.default_port</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_imaps_port-class_method" title=".default_imaps_port (class method)">.<strong>default_imaps_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#default_tls_port-class_method" title="Net::IMAP.default_tls_port (method)">.default_tls_port</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_port-class_method" title=".default_port (class method)">.<strong>default_port</strong>  </a>
      (also: .default_imap_port)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The default port for <code>IMAP</code> connections, port 143.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_ssl_port-class_method" title=".default_ssl_port (class method)">.<strong>default_ssl_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#default_tls_port-class_method" title="Net::IMAP.default_tls_port (method)">.default_tls_port</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_tls_port-class_method" title=".default_tls_port (class method)">.<strong>default_tls_port</strong>  </a>
      (also: .default_imaps_port, .default_ssl_port)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The default port for IMAPS connections, port 993.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#encode_utf7-class_method" title=".encode_utf7 (class method)">.<strong>encode_utf7</strong>(s)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Encode a string from UTF-8 format to modified UTF-7.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#format_date-class_method" title=".format_date (class method)">.<strong>format_date</strong>(time)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Formats <code>time</code> as an IMAP-style date.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#format_datetime-class_method" title=".format_datetime (class method)">.<strong>format_datetime</strong>(time)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Formats <code>time</code> as an IMAP-style date-time.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(host, options = {})  &#x21d2; IMAP </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>IMAP</code> object and connects it to the specified <code>host</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#client_thread-instance_method" title="#client_thread (instance method)">#<strong>client_thread</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The thread to receive exceptions.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#disconnected%3F-instance_method" title="#disconnected? (instance method)">#<strong>disconnected?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true if disconnected from the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#greeting-instance_method" title="#greeting (instance method)">#<strong>greeting</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an initial greeting response from the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#open_timeout-instance_method" title="#open_timeout (instance method)">#<strong>open_timeout</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Seconds to wait until a connection is opened.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#response_handlers-instance_method" title="#response_handlers (instance method)">#<strong>response_handlers</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns all response handlers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#responses-instance_method" title="#responses (instance method)">#<strong>responses</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns recorded untagged responses.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#add_response_handler-instance_method" title="#add_response_handler (instance method)">#<strong>add_response_handler</strong>(handler = nil, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds a response handler.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#append-instance_method" title="#append (instance method)">#<strong>append</strong>(mailbox, message, flags = nil, date_time = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a APPEND command to append the <code>message</code> to the end of the <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#authenticate-instance_method" title="#authenticate (instance method)">#<strong>authenticate</strong>(auth_type, *args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends an AUTHENTICATE command to authenticate the client.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capability-instance_method" title="#capability (instance method)">#<strong>capability</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a CAPABILITY command, and returns an array of capabilities that the server supports.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#check-instance_method" title="#check (instance method)">#<strong>check</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a CHECK command to request a checkpoint of the currently selected mailbox.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a CLOSE command to close the currently selected mailbox.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#copy-instance_method" title="#copy (instance method)">#<strong>copy</strong>(set, mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a COPY command to copy the specified message(s) to the end of the specified destination <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a CREATE command to create a new <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a DELETE command to remove the <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#disconnect-instance_method" title="#disconnect (instance method)">#<strong>disconnect</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Disconnects from the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#examine-instance_method" title="#examine (instance method)">#<strong>examine</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a EXAMINE command to select a <code>mailbox</code> so that messages in the <code>mailbox</code> can be accessed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#expunge-instance_method" title="#expunge (instance method)">#<strong>expunge</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a EXPUNGE command to permanently remove from the currently selected mailbox all messages that have the Deleted flag set.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#fetch-instance_method" title="#fetch (instance method)">#<strong>fetch</strong>(set, attr, mod = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a FETCH command to retrieve data associated with a message in the mailbox.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getacl-instance_method" title="#getacl (instance method)">#<strong>getacl</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Send the GETACL command along with a specified <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getquota-instance_method" title="#getquota (instance method)">#<strong>getquota</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends the GETQUOTA command along with specified <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getquotaroot-instance_method" title="#getquotaroot (instance method)">#<strong>getquotaroot</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends the GETQUOTAROOT command along with the specified <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#idle-instance_method" title="#idle (instance method)">#<strong>idle</strong>(timeout = nil, &amp;response_handler)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends an IDLE command that waits for notifications of new or expunged messages.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#idle_done-instance_method" title="#idle_done (instance method)">#<strong>idle_done</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Leaves IDLE.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#list-instance_method" title="#list (instance method)">#<strong>list</strong>(refname, mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a LIST command, and returns a subset of names from the complete set of all names available to the client.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#login-instance_method" title="#login (instance method)">#<strong>login</strong>(user, password)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a LOGIN command to identify the client and carries the plaintext <code>password</code> authenticating this <code>user</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#logout-instance_method" title="#logout (instance method)">#<strong>logout</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a LOGOUT command to inform the server that the client is done with the connection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lsub-instance_method" title="#lsub (instance method)">#<strong>lsub</strong>(refname, mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a LSUB command, and returns a subset of names from the set of names that the user has declared as being “active” or “subscribed.”  <code>refname</code> and <code>mailbox</code> are interpreted as for #list().</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#move-instance_method" title="#move (instance method)">#<strong>move</strong>(set, mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a MOVE command to move the specified message(s) to the end of the specified destination <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#noop-instance_method" title="#noop (instance method)">#<strong>noop</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a NOOP command to the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remove_response_handler-instance_method" title="#remove_response_handler (instance method)">#<strong>remove_response_handler</strong>(handler)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes the response handler.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rename-instance_method" title="#rename (instance method)">#<strong>rename</strong>(mailbox, newname)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a RENAME command to change the name of the <code>mailbox</code> to <code>newname</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#search-instance_method" title="#search (instance method)">#<strong>search</strong>(keys, charset = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a SEARCH command to search the mailbox for messages that match the given searching criteria, and returns message sequence numbers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a SELECT command to select a <code>mailbox</code> so that messages in the <code>mailbox</code> can be accessed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setacl-instance_method" title="#setacl (instance method)">#<strong>setacl</strong>(mailbox, user, rights)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends the SETACL command along with <code>mailbox</code>, <code>user</code> and the <code>rights</code> that user is to have on that mailbox.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setquota-instance_method" title="#setquota (instance method)">#<strong>setquota</strong>(mailbox, quota)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a SETQUOTA command along with the specified <code>mailbox</code> and <code>quota</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sort-instance_method" title="#sort (instance method)">#<strong>sort</strong>(sort_keys, search_keys, charset)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a SORT command to sort messages in the mailbox.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#starttls-instance_method" title="#starttls (instance method)">#<strong>starttls</strong>(options = {}, verify = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a STARTTLS command to start TLS session.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#status-instance_method" title="#status (instance method)">#<strong>status</strong>(mailbox, attr)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a STATUS command, and returns the status of the indicated <code>mailbox</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#store-instance_method" title="#store (instance method)">#<strong>store</strong>(set, attr, flags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a STORE command to alter data associated with messages in the mailbox, in particular their flags.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#subscribe-instance_method" title="#subscribe (instance method)">#<strong>subscribe</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a SUBSCRIBE command to add the specified <code>mailbox</code> name to the server’s set of “active” or “subscribed” mailboxes as returned by #lsub().</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#thread-instance_method" title="#thread (instance method)">#<strong>thread</strong>(algorithm, search_keys, charset)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Similar to #search(), but returns message sequence numbers in threaded format, as a <a href="IMAP/ThreadMember.html" title="Net::IMAP::ThreadMember (class)"><code>ThreadMember</code></a> tree.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uid_copy-instance_method" title="#uid_copy (instance method)">#<strong>uid_copy</strong>(set, mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Similar to #copy(), but <code>set</code> contains unique identifiers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uid_fetch-instance_method" title="#uid_fetch (instance method)">#<strong>uid_fetch</strong>(set, attr, mod = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Similar to #fetch(), but <code>set</code> contains unique identifiers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uid_move-instance_method" title="#uid_move (instance method)">#<strong>uid_move</strong>(set, mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Similar to #move(), but <code>set</code> contains unique identifiers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uid_search-instance_method" title="#uid_search (instance method)">#<strong>uid_search</strong>(keys, charset = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Similar to #search(), but returns unique identifiers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uid_sort-instance_method" title="#uid_sort (instance method)">#<strong>uid_sort</strong>(sort_keys, search_keys, charset)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Similar to #sort(), but returns an array of unique identifiers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uid_store-instance_method" title="#uid_store (instance method)">#<strong>uid_store</strong>(set, attr, flags)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Similar to #store(), but <code>set</code> contains unique identifiers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uid_thread-instance_method" title="#uid_thread (instance method)">#<strong>uid_thread</strong>(algorithm, search_keys, charset)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Similar to #thread(), but returns unique identifiers instead of message sequence numbers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unsubscribe-instance_method" title="#unsubscribe (instance method)">#<strong>unsubscribe</strong>(mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a UNSUBSCRIBE command to remove the specified <code>mailbox</code> name from the server’s set of “active” or “subscribed” mailboxes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#xlist-instance_method" title="#xlist (instance method)">#<strong>xlist</strong>(refname, mailbox)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends a XLIST command, and returns a subset of names from the complete set of all names available to the client.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#copy_internal-instance_method" title="#copy_internal (instance method)">#<strong>copy_internal</strong>(cmd, set, mailbox)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#create_ssl_params-instance_method" title="#create_ssl_params (instance method)">#<strong>create_ssl_params</strong>(certs = nil, verify = true)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#fetch_internal-instance_method" title="#fetch_internal (instance method)">#<strong>fetch_internal</strong>(cmd, set, attr, mod = nil)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#generate_tag-instance_method" title="#generate_tag (instance method)">#<strong>generate_tag</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#get_response-instance_method" title="#get_response (instance method)">#<strong>get_response</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#get_tagged_response-instance_method" title="#get_tagged_response (instance method)">#<strong>get_tagged_response</strong>(tag, cmd)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#normalize_searching_criteria-instance_method" title="#normalize_searching_criteria (instance method)">#<strong>normalize_searching_criteria</strong>(keys)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#put_string-instance_method" title="#put_string (instance method)">#<strong>put_string</strong>(str)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#receive_responses-instance_method" title="#receive_responses (instance method)">#<strong>receive_responses</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#record_response-instance_method" title="#record_response (instance method)">#<strong>record_response</strong>(name, data)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#search_internal-instance_method" title="#search_internal (instance method)">#<strong>search_internal</strong>(cmd, keys, charset)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_command-instance_method" title="#send_command (instance method)">#<strong>send_command</strong>(cmd, *args, &amp;block)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_data-instance_method" title="#send_data (instance method)">#<strong>send_data</strong>(data, tag = nil)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_list_data-instance_method" title="#send_list_data (instance method)">#<strong>send_list_data</strong>(list, tag = nil)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_literal-instance_method" title="#send_literal (instance method)">#<strong>send_literal</strong>(str, tag = nil)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_number_data-instance_method" title="#send_number_data (instance method)">#<strong>send_number_data</strong>(num)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_quoted_string-instance_method" title="#send_quoted_string (instance method)">#<strong>send_quoted_string</strong>(str)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_string_data-instance_method" title="#send_string_data (instance method)">#<strong>send_string_data</strong>(str, tag = nil)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_symbol_data-instance_method" title="#send_symbol_data (instance method)">#<strong>send_symbol_data</strong>(symbol)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#send_time_data-instance_method" title="#send_time_data (instance method)">#<strong>send_time_data</strong>(time)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#sort_internal-instance_method" title="#sort_internal (instance method)">#<strong>sort_internal</strong>(cmd, sort_keys, search_keys, charset)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#start_tls_session-instance_method" title="#start_tls_session (instance method)">#<strong>start_tls_session</strong>(params = {})  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#store_internal-instance_method" title="#store_internal (instance method)">#<strong>store_internal</strong>(cmd, set, attr, flags)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#tcp_socket-instance_method" title="#tcp_socket (instance method)">#<strong>tcp_socket</strong>(host, port)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#thread_internal-instance_method" title="#thread_internal (instance method)">#<strong>thread_internal</strong>(cmd, algorithm, search_keys, charset)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#validate_data-instance_method" title="#validate_data (instance method)">#<strong>validate_data</strong>(data)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature priv first'>
    .<strong>new</strong>(host, options = {})  &#x21d2; <code>IMAP</code>  <span class="extras">(<span class='priv'>private</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>IMAP</code> object and connects it to the specified <code>host</code>.</p>

<p><code>options</code> is an option hash, each key of which is a symbol.</p>

<p>The available options are:</p>
<dl class="rdoc-list note-list"><dt>port
<dd>
<p>Port number (default value is 143 for imap, or 993 for imaps)</p>
</dd><dt>ssl
<dd>
<p>If <a href=":ssl">options</a> is true, then an attempt will be made to use SSL (now TLS) to connect to the server.  For this to work OpenSSL [OSSL] and the Ruby OpenSSL [RSSL] extensions need to be installed. If <a href=":ssl">options</a> is a hash, it’s passed to OpenSSL::SSL::SSLContext#set_params as parameters.</p>
</dd><dt>open_timeout
<dd>
<p>Seconds to wait until a connection is opened</p>
</dd></dl>

<p>The most common errors are:</p>
<dl class="rdoc-list note-list"><dt>Errno::ECONNREFUSED
<dd>
<p>Connection refused by <code>host</code> or an intervening firewall.</p>
</dd><dt>Errno::ETIMEDOUT
<dd>
<p>Connection timed out (possibly due to packets being dropped by an intervening firewall).</p>
</dd><dt>Errno::ENETUNREACH
<dd>
<p>There is no route to that network.</p>
</dd><dt>SocketError
<dd>
<p>Hostname not known or other socket error.</p>
</dd><dt>Net::IMAP::ByeResponseError
<dd>
<p>The connected to the host was successful, but it immediately said goodbye.</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1071-L1130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1071' data-end='1130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1071</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port_or_options'>port_or_options</span> <span class='op'>=</span> {}<span class='comma'>,</span>
               <span class='id identifier rubyid_usessl'>usessl</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_certs'>certs</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_verify'>verify</span> <span class='op'>=</span> <span class='kw'>true</span>)
  <span class='kw'>super</span>()
  <span class='ivar'>@host</span> <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_port_or_options'>port_or_options</span>.<span class='id identifier rubyid_to_hash'>to_hash</span>
  <span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
    <span class='comment'># for backward compatibility
</span>    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_port'>port</span>] <span class='op'>=</span> <span class='id identifier rubyid_port_or_options'>port_or_options</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_usessl'>usessl</span>
      <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>] <span class='op'>=</span> <span class='id identifier rubyid_create_ssl_params'><a href="#create_ssl_params-instance_method" title="Net::IMAP#create_ssl_params (method)">create_ssl_params</a></span>(<span class='id identifier rubyid_certs'>certs</span><span class='comma'>,</span> <span class='id identifier rubyid_verify'>verify</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@port</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_port'>port</span>] <span class='op'>||</span> (<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>] <span class='op'>?</span> <span class='const'><a href="#SSL_PORT-constant" title="Net::IMAP::SSL_PORT (constant)">SSL_PORT</a></span> <span class='op'>:</span> <span class='const'><a href="#PORT-constant" title="Net::IMAP::PORT (constant)">PORT</a></span>)
  <span class='ivar'>@tag_prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RUBY</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@tagno</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@open_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_open_timeout'><a href="#open_timeout-instance_method" title="Net::IMAP#open_timeout (method)">open_timeout</a></span>] <span class='op'>||</span> <span class='int'>30</span>
  <span class='ivar'>@parser</span> <span class='op'>=</span> <span class='const'><a href="IMAP/ResponseParser.html" title="Net::IMAP::ResponseParser (class)">ResponseParser</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/ResponseParser.html#new-class_method" title="Net::IMAP::ResponseParser.new (method)">new</a></span>
  <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='id identifier rubyid_tcp_socket'><a href="#tcp_socket-instance_method" title="Net::IMAP#tcp_socket (method)">tcp_socket</a></span>(<span class='ivar'>@host</span><span class='comma'>,</span> <span class='ivar'>@port</span>)
  <span class='kw'>begin</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>]
      <span class='id identifier rubyid_start_tls_session'><a href="#start_tls_session-instance_method" title="Net::IMAP#start_tls_session (method)">start_tls_session</a></span>(<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>])
      <span class='ivar'>@usessl</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='ivar'>@usessl</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
    <span class='ivar'>@responses</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span>([].<span class='id identifier rubyid_freeze'>freeze</span>)
    <span class='ivar'>@tagged_responses</span> <span class='op'>=</span> {}
    <span class='ivar'>@response_handlers</span> <span class='op'>=</span> []
    <span class='ivar'>@tagged_response_arrival</span> <span class='op'>=</span> <span class='id identifier rubyid_new_cond'>new_cond</span>
    <span class='ivar'>@continued_command_tag</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@continuation_request_arrival</span> <span class='op'>=</span> <span class='id identifier rubyid_new_cond'>new_cond</span>
    <span class='ivar'>@continuation_request_exception</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@idle_done_cond</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@logout_command_tag</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@debug_output_bol</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@exception</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='ivar'>@greeting</span> <span class='op'>=</span> <span class='id identifier rubyid_get_response'><a href="#get_response-instance_method" title="Net::IMAP#get_response (method)">get_response</a></span>
    <span class='kw'>if</span> <span class='ivar'>@greeting</span>.<span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="IMAP/Error.html" title="Net::IMAP::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>connection closed</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='ivar'>@greeting</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BYE</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="IMAP/ByeResponseError.html" title="Net::IMAP::ByeResponseError (class)">ByeResponseError</a></span><span class='comma'>,</span> <span class='ivar'>@greeting</span>
    <span class='kw'>end</span>

    <span class='ivar'>@client_thread</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>
    <span class='ivar'>@receiver_thread</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_start'>start</span> {
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_receive_responses'><a href="#receive_responses-instance_method" title="Net::IMAP#receive_responses (method)">receive_responses</a></span>
      <span class='kw'>rescue</span> <span class='const'>Exception</span>
      <span class='kw'>end</span>
    }
    <span class='ivar'>@receiver_thread_terminating</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span>
    <span class='ivar'>@sock</span>.<span class='id identifier rubyid_close'><a href="#close-instance_method" title="Net::IMAP#close (method)">close</a></span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="debug-class_method">
  <h3 class='signature rw first'>
    .<strong>debug</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the debug mode.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L271-L273'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='271' data-end='273'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 271</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_debug'>debug</span>
  <span class='kw'>return</span> <span class='cvar'>@@debug</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug=-class_method">
  <h3 class='signature rw'>
    .<strong>debug=</strong>(val)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the debug mode.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L276-L278'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='276' data-end='278'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 276</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_debug='>debug=</span>(<span class='id identifier rubyid_val'>val</span>)
  <span class='kw'>return</span> <span class='cvar'>@@debug</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max_flag_count-class_method">
  <h3 class='signature rw'>
    .<strong>max_flag_count</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the max number of flags interned to symbols.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L281-L283'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='281' data-end='283'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 281</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_max_flag_count'>max_flag_count</span>
  <span class='kw'>return</span> <span class='cvar'>@@max_flag_count</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="max_flag_count=-class_method">
  <h3 class='signature rw'>
    .<strong>max_flag_count=</strong>(count)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the max number of flags interned to symbols.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L286-L288'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='286' data-end='288'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 286</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_max_flag_count='>max_flag_count=</span>(<span class='id identifier rubyid_count'>count</span>)
  <span class='cvar'>@@max_flag_count</span> <span class='op'>=</span> <span class='id identifier rubyid_count'>count</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="add_authenticator-class_method">
  <h3 class='signature  first'>
    .<strong>add_authenticator</strong>(auth_type, authenticator)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds an authenticator for <a href="#authenticate-instance_method" title="Net::IMAP#authenticate (method)">#authenticate</a>.  <code>auth_type</code> is the type of authentication this authenticator supports (for instance, “LOGIN”).  The <code>authenticator</code> is an object which defines a process() method to handle authentication with the server.  See <a href="IMAP/LoginAuthenticator.html" title="Net::IMAP::LoginAuthenticator (class)"><code>IMAP::LoginAuthenticator</code></a>, <a href="IMAP/CramMD5Authenticator.html" title="Net::IMAP::CramMD5Authenticator (class)"><code>IMAP::CramMD5Authenticator</code></a>, and <a href="IMAP/DigestMD5Authenticator.html" title="Net::IMAP::DigestMD5Authenticator (class)"><code>IMAP::DigestMD5Authenticator</code></a> for examples.</p>

<p>If <code>auth_type</code> refers to an existing authenticator, it will be replaced by the new one.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L301-L303'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='301' data-end='303'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 301</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_add_authenticator'>add_authenticator</span>(<span class='id identifier rubyid_auth_type'>auth_type</span><span class='comma'>,</span> <span class='id identifier rubyid_authenticator'>authenticator</span>)
  <span class='cvar'>@@authenticators</span>[<span class='id identifier rubyid_auth_type'>auth_type</span>] <span class='op'>=</span> <span class='id identifier rubyid_authenticator'>authenticator</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="decode_utf7-class_method">
  <h3 class='signature '>
    .<strong>decode_utf7</strong>(s)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Decode a string from modified UTF-7 format to UTF-8.</p>

<p>UTF-7 is a 7-bit encoding of Unicode [UTF7].  <code>IMAP</code> uses a slightly modified version of this to encode mailbox names containing non-ASCII characters; see [IMAP] section 5.1.3.</p>

<p><code>IMAP</code> does <em>not</em> automatically encode and decode mailbox names to and from UTF-7.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1000-L1008'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1000' data-end='1008'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1000</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_decode_utf7'>decode_utf7</span>(<span class='id identifier rubyid_s'>s</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&amp;([^-]+)?-</span><span class='regexp_end'>/n</span></span>) {
    <span class='kw'>if</span> <span class='backref'>$1</span>
      (<span class='backref'>$1</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>===</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_unpack1'>unpack1</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_encode'>encode</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='comma'>,</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_16BE</span>)
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_imap_port-class_method">
  <h3 class='signature '>
    .<strong>default_imap_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#default_port-class_method" title="Net::IMAP.default_port (method)">.default_port</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L316-L316'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='316' data-end='316'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 316</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_default_imap_port'>default_imap_port</span> <span class='id identifier rubyid_default_port'><a href="#default_port-class_method" title="Net::IMAP.default_port (method)">default_port</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_imaps_port-class_method">
  <h3 class='signature '>
    .<strong>default_imaps_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#default_tls_port-class_method" title="Net::IMAP.default_tls_port (method)">.default_tls_port</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L317-L317'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='317' data-end='317'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 317</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_default_imaps_port'>default_imaps_port</span> <span class='id identifier rubyid_default_tls_port'><a href="#default_tls_port-class_method" title="Net::IMAP.default_tls_port (method)">default_tls_port</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_port-class_method">
  <h3 class='signature '>
    .<strong>default_port</strong>  
    <span class='aliases'>Also known as: <span class='names'>.default_imap_port</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The default port for <code>IMAP</code> connections, port 143</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L306-L308'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='306' data-end='308'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 306</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_default_port'>default_port</span>
  <span class='kw'>return</span> <span class='const'><a href="#PORT-constant" title="Net::IMAP::PORT (constant)">PORT</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_ssl_port-class_method">
  <h3 class='signature '>
    .<strong>default_ssl_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#default_tls_port-class_method" title="Net::IMAP.default_tls_port (method)">.default_tls_port</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L318-L318'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='318' data-end='318'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 318</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_default_ssl_port'>default_ssl_port</span> <span class='id identifier rubyid_default_tls_port'><a href="#default_tls_port-class_method" title="Net::IMAP.default_tls_port (method)">default_tls_port</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_tls_port-class_method">
  <h3 class='signature '>
    .<strong>default_tls_port</strong>  
    <span class='aliases'>Also known as: <span class='names'>.default_imaps_port, .default_ssl_port</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The default port for IMAPS connections, port 993</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L311-L313'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='311' data-end='313'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 311</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_default_tls_port'>default_tls_port</span>
  <span class='kw'>return</span> <span class='const'><a href="#SSL_PORT-constant" title="Net::IMAP::SSL_PORT (constant)">SSL_PORT</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="encode_utf7-class_method">
  <h3 class='signature '>
    .<strong>encode_utf7</strong>(s)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Encode a string from UTF-8 format to modified UTF-7.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1011-L1020'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1011' data-end='1020'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1011</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_encode_utf7'>encode_utf7</span>(<span class='id identifier rubyid_s'>s</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(&amp;)|[^\x20-\x7e]+</span><span class='regexp_end'>/</span></span>) {
    <span class='kw'>if</span> <span class='backref'>$1</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;-</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_base64'>base64</span> <span class='op'>=</span> [<span class='backref'>$&amp;</span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_16BE</span>)].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&quot;</span></span>)
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_base64'>base64</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  }.<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ASCII-8BIT</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="format_date-class_method">
  <h3 class='signature '>
    .<strong>format_date</strong>(time)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Formats <code>time</code> as an IMAP-style date.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1023-L1025'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1023' data-end='1025'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1023</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_format_date'>format_date</span>(<span class='id identifier rubyid_time'>time</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_strftime'>strftime</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%d-%b-%Y</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="format_datetime-class_method">
  <h3 class='signature '>
    .<strong>format_datetime</strong>(time)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Formats <code>time</code> as an IMAP-style date-time.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1028-L1030'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1028' data-end='1030'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1028</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_format_datetime'>format_datetime</span>(<span class='id identifier rubyid_time'>time</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_strftime'>strftime</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%d-%b-%Y %H:%M %z</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="client_thread-instance_method">
  <h3 class='signature rw first'>
    #<strong>client_thread</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The thread to receive exceptions.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L231-L231'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='231' data-end='231'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 231</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_client_thread'>client_thread</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="disconnected?-instance_method">
  <h3 class='signature ro'>
    #<strong>disconnected?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true if disconnected from the server.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L345-L347'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='345' data-end='347'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 345</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_disconnected?'>disconnected?</span>
  <span class='kw'>return</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_closed?'>closed?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="greeting-instance_method">
  <h3 class='signature ro'>
    #<strong>greeting</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an initial greeting response from the server.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L211-L211'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='211' data-end='211'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 211</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_greeting'>greeting</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="open_timeout-instance_method">
  <h3 class='signature ro'>
    #<strong>open_timeout</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Seconds to wait until a connection is opened. If the <code>IMAP</code> object cannot open a connection within this time, it raises a <code>Net::OpenTimeout</code> exception. The default value is 30 seconds.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L228-L228'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='228' data-end='228'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 228</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_open_timeout'>open_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="response_handlers-instance_method">
  <h3 class='signature ro'>
    #<strong>response_handlers</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns all response handlers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L223-L223'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='223' data-end='223'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 223</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_response_handlers'>response_handlers</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="responses-instance_method">
  <h3 class='signature ro'>
    #<strong>responses</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns recorded untagged responses.  For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_select'><a href="#select-instance_method" title="Net::IMAP#select (method)">select</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_responses'>responses</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EXISTS</span><span class='tstring_end'>&quot;</span></span>][<span class='op'>-</span><span class='int'>1</span>]
<span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_responses'>responses</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UIDVALIDITY</span><span class='tstring_end'>&quot;</span></span>][<span class='op'>-</span><span class='int'>1</span>]
<span class='comment'>#=&gt; 968263756</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L220-L220'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='220' data-end='220'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 220</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_responses'>responses</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="add_response_handler-instance_method">
  <h3 class='signature  first'>
    #<strong>add_response_handler</strong>(handler = nil, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds a response handler. For example, to detect when the server sends a new EXISTS response (which normally indicates new messages being added to the mailbox), add the following handler after selecting the mailbox:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_add_response_handler'>add_response_handler</span> { <span class='op'>|</span><span class='id identifier rubyid_resp'>resp</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>IMAP</span><span class='op'>::</span><span class='const'><a href="IMAP/UntaggedResponse.html" title="Net::IMAP::UntaggedResponse (class)">UntaggedResponse</a></span>) <span class='kw'>and</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EXISTS</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mailbox now has </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_data'>data</span><span class='embexpr_end'>}</span><span class='tstring_content'> messages</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
}</code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L906-L909'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='906' data-end='909'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 906</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_add_response_handler'>add_response_handler</span>(<span class='id identifier rubyid_handler'>handler</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two Procs are passed</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_handler'>handler</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_block'>block</span>
  <span class='ivar'>@response_handlers</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_block'>block</span> <span class='op'>||</span> <span class='id identifier rubyid_handler'>handler</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="append-instance_method">
  <h3 class='signature '>
    #<strong>append</strong>(mailbox, message, flags = nil, date_time = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a APPEND command to append the <code>message</code> to the end of the <code>mailbox</code>. The optional <code>flags</code> argument is an array of flags initially passed to the new message.  The optional <code>date_time</code> argument specifies the creation time to assign to the new message; it defaults to the current time. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_append'>append</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='heredoc_beg'>&lt;&lt;EOF</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>)<span class='comma'>,</span> [<span class='symbeg'>:</span><span class='const'>Seen</span>]<span class='comma'>,</span> <span class='const'>Time</span>.<span class='id identifier rubyid_now'>now</span>)
<span class='tstring_content'>Subject: hello
From: shugo@ruby-lang.org
To: shugo@ruby-lang.org

hello world
</span><span class='heredoc_end'>EOF</span></code></pre>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if the mailbox does not exist (it is not created automatically), or if the flags, date_time, or message arguments contain errors.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L699-L707'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='699' data-end='707'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 699</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_append'>append</span>(<span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_date_time'>date_time</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> []
  <span class='kw'>if</span> <span class='id identifier rubyid_flags'>flags</span>
    <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_flags'>flags</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_date_time'>date_time</span>) <span class='kw'>if</span> <span class='id identifier rubyid_date_time'>date_time</span>
  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_push'>push</span>(<span class='const'><a href="IMAP/Literal.html" title="Net::IMAP::Literal (class)">Literal</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/Literal.html#new-class_method" title="Net::IMAP::Literal.new (method)">new</a></span>(<span class='id identifier rubyid_message'>message</span>))
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>APPEND</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="authenticate-instance_method">
  <h3 class='signature '>
    #<strong>authenticate</strong>(auth_type, *args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends an AUTHENTICATE command to authenticate the client. The <code>auth_type</code> parameter is a string that represents the authentication mechanism to be used. Currently <code>IMAP</code> supports the authentication mechanisms:</p>

<pre class="code ruby"><code class="ruby">LOGIN:: login using cleartext user and password.
CRAM-MD5:: login with cleartext user and encrypted password
           (see [RFC-2195] for a full description).  This
           mechanism requires that the server have the user&#39;s
           password stored in clear-text password.</code></pre>

<p>For both of these mechanisms, there should be two <code>args</code>: username and (cleartext) password.  A server may not support one or the other of these mechanisms; check #capability() for a capability of the form “AUTH=LOGIN” or “AUTH=CRAM-MD5”.</p>

<p>Authentication is done using the appropriate authenticator object: see @@authenticators for more information on plugging in your own authenticator.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_authenticate'>authenticate</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LOGIN</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>)</code></pre>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if authentication fails.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L417-L432'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='417' data-end='432'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 417</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_authenticate'>authenticate</span>(<span class='id identifier rubyid_auth_type'>auth_type</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_auth_type'>auth_type</span> <span class='op'>=</span> <span class='id identifier rubyid_auth_type'>auth_type</span>.<span class='id identifier rubyid_upcase'>upcase</span>
  <span class='kw'>unless</span> <span class='cvar'>@@authenticators</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='id identifier rubyid_auth_type'>auth_type</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
      <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unknown auth type - &quot;%s&quot;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_auth_type'>auth_type</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_authenticator'>authenticator</span> <span class='op'>=</span> <span class='cvar'>@@authenticators</span>[<span class='id identifier rubyid_auth_type'>auth_type</span>].<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AUTHENTICATE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_auth_type'>auth_type</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_resp'>resp</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'><a href="IMAP/ContinuationRequest.html" title="Net::IMAP::ContinuationRequest (class)">ContinuationRequest</a></span>)
      <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_authenticator'>authenticator</span>.<span class='id identifier rubyid_process'>process</span>(<span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m</span><span class='tstring_end'>&quot;</span></span>)[<span class='int'>0</span>])
      <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> [<span class='id identifier rubyid_data'>data</span>].<span class='id identifier rubyid_pack'>pack</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m0</span><span class='tstring_end'>&quot;</span></span>)
      <span class='id identifier rubyid_send_string_data'><a href="#send_string_data-instance_method" title="Net::IMAP#send_string_data (method)">send_string_data</a></span>(<span class='id identifier rubyid_s'>s</span>)
      <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='const'><a href="#CRLF-constant" title="Net::IMAP::CRLF (constant)">CRLF</a></span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capability-instance_method">
  <h3 class='signature '>
    #<strong>capability</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a CAPABILITY command, and returns an array of capabilities that the server supports.  Each capability is a string.  See [IMAP] for a list of possible capabilities.</p>

<p>Note that the <code>IMAP</code> class does not modify its behaviour according to the capabilities of the server; it is up to the user of the class to ensure that a certain capability is supported by a server before using it.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L359-L364'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='359' data-end='364'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 359</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_capability'>capability</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CAPABILITY</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CAPABILITY</span><span class='tstring_end'>&quot;</span></span>)[<span class='op'>-</span><span class='int'>1</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check-instance_method">
  <h3 class='signature '>
    #<strong>check</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a CHECK command to request a checkpoint of the currently selected mailbox.  This performs implementation-specific housekeeping; for instance, reconciling the mailbox’s in-memory and on-disk state.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L713-L715'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='713' data-end='715'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 713</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check'>check</span>
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CHECK</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="close-instance_method">
  <h3 class='signature '>
    #<strong>close</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a CLOSE command to close the currently selected mailbox. The CLOSE command permanently removes from the mailbox all messages that have the Deleted flag set.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L720-L722'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='720' data-end='722'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 720</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_close'>close</span>
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CLOSE</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="copy-instance_method">
  <h3 class='signature '>
    #<strong>copy</strong>(set, mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a COPY command to copy the specified message(s) to the end of the specified destination <code>mailbox</code>. The <code>set</code> parameter is a number, an array of numbers, or a Range object. The number is a message sequence number.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L853-L855'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='853' data-end='855'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 853</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_copy'>copy</span>(<span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_copy_internal'><a href="#copy_internal-instance_method" title="Net::IMAP#copy_internal (method)">copy_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>COPY</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="copy_internal-instance_method">
  <h3 class='signature priv'>
    #<strong>copy_internal</strong>(cmd, set, mailbox)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1461-L1463'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1461' data-end='1463'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1461</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_copy_internal'>copy_internal</span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='const'><a href="IMAP/MessageSet.html" title="Net::IMAP::MessageSet (class)">MessageSet</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/MessageSet.html#new-class_method" title="Net::IMAP::MessageSet.new (method)">new</a></span>(<span class='id identifier rubyid_set'>set</span>)<span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create-instance_method">
  <h3 class='signature '>
    #<strong>create</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a CREATE command to create a new <code>mailbox</code>.</p>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if a mailbox with that name cannot be created.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L480-L482'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='480' data-end='482'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 480</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CREATE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_ssl_params-instance_method">
  <h3 class='signature priv'>
    #<strong>create_ssl_params</strong>(certs = nil, verify = true)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1500-L1515'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1500' data-end='1515'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1500</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create_ssl_params'>create_ssl_params</span>(<span class='id identifier rubyid_certs'>certs</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_verify'>verify</span> <span class='op'>=</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> {}
  <span class='kw'>if</span> <span class='id identifier rubyid_certs'>certs</span>
    <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_file?'>file?</span>(<span class='id identifier rubyid_certs'>certs</span>)
      <span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ca_file'>ca_file</span>] <span class='op'>=</span> <span class='id identifier rubyid_certs'>certs</span>
    <span class='kw'>elsif</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span>(<span class='id identifier rubyid_certs'>certs</span>)
      <span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ca_path'>ca_path</span>] <span class='op'>=</span> <span class='id identifier rubyid_certs'>certs</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_verify'>verify</span>
    <span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'>verify_mode</span>] <span class='op'>=</span> <span class='const'>VERIFY_PEER</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'>verify_mode</span>] <span class='op'>=</span> <span class='const'>VERIFY_NONE</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_params'>params</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    #<strong>delete</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a DELETE command to remove the <code>mailbox</code>.</p>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if a mailbox with that name cannot be deleted, either because it does not exist or because the client does not have permission to delete it.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L489-L491'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='489' data-end='491'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 489</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="disconnect-instance_method">
  <h3 class='signature '>
    #<strong>disconnect</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Disconnects from the server.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L322-L342'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='322' data-end='342'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 322</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_disconnect'>disconnect</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_disconnected?'><a href="#disconnected%3F-instance_method" title="Net::IMAP#disconnected? (method)">disconnected?</a></span>
  <span class='kw'>begin</span>
    <span class='kw'>begin</span>
      <span class='comment'># try to call SSL::SSLSocket#io.
</span>      <span class='ivar'>@sock</span>.<span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_shutdown'>shutdown</span>
    <span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
      <span class='comment'># @sock is not an SSL::SSLSocket.
</span>      <span class='ivar'>@sock</span>.<span class='id identifier rubyid_shutdown'>shutdown</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOTCONN</span>
    <span class='comment'># ignore `Errno::ENOTCONN: Socket is not connected&#39; on some platforms.
</span>  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='ivar'>@receiver_thread</span>.<span class='id identifier rubyid_raise'>raise</span>(<span class='id identifier rubyid_e'>e</span>)
  <span class='kw'>end</span>
  <span class='ivar'>@receiver_thread</span>.<span class='id identifier rubyid_join'>join</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@sock</span>.<span class='id identifier rubyid_close'><a href="#close-instance_method" title="Net::IMAP#close (method)">close</a></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span> <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="examine-instance_method">
  <h3 class='signature '>
    #<strong>examine</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a EXAMINE command to select a <code>mailbox</code> so that messages in the <code>mailbox</code> can be accessed.  Behaves the same as #select(), except that the selected <code>mailbox</code> is identified as read-only.</p>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if the mailbox does not exist or is for some reason non-examinable.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L469-L474'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='469' data-end='474'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 469</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_examine'>examine</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@responses</span>.<span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EXAMINE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expunge-instance_method">
  <h3 class='signature '>
    #<strong>expunge</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a EXPUNGE command to permanently remove from the currently selected mailbox all messages that have the Deleted flag set.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L726-L731'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='726' data-end='731'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 726</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expunge'>expunge</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EXPUNGE</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EXPUNGE</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fetch-instance_method">
  <h3 class='signature '>
    #<strong>fetch</strong>(set, attr, mod = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a FETCH command to retrieve data associated with a message in the mailbox.</p>

<p>The <code>set</code> parameter is a number or a range between two numbers, or an array of those.  The number is a message sequence number, where -1 represents a ‘*’ for use in range notation like 100..-1 being interpreted as ‘100:*’.  Beware that the <code>exclude_end?</code> property of a Range object is ignored, and the contents of a range are independent of the order of the range endpoints as per the protocol specification, so 1…5, 5..1 and 5…1 are all equivalent to 1..5.</p>

<p><code>attr</code> is a list of attributes to fetch; see the documentation for <a href="IMAP/FetchData.html" title="Net::IMAP::FetchData (class)"><code>IMAP::FetchData</code></a> for a list of valid attributes.</p>

<p>The return value is an array of <a href="IMAP/FetchData.html" title="Net::IMAP::FetchData (class)"><code>IMAP::FetchData</code></a> or nil (instead of an empty array) if there is no matching message.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='int'>6</span><span class='op'>..</span><span class='int'>8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; [#&lt;Net::IMAP::FetchData seqno=6, attr={&quot;UID&quot;=&gt;98}&gt;, \\
</span>     <span class='comment'>#&lt;Net::IMAP::FetchData seqno=7, attr={&quot;UID&quot;=&gt;99}&gt;, \\
</span>     <span class='comment'>#&lt;Net::IMAP::FetchData seqno=8, attr={&quot;UID&quot;=&gt;100}&gt;]
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='int'>6</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BODY[HEADER.FIELDS (SUBJECT)]</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; [#&lt;Net::IMAP::FetchData seqno=6, attr={&quot;BODY[HEADER.FIELDS (SUBJECT)]&quot;=&gt;&quot;Subject: test\r\n\r\n&quot;}&gt;]
</span><span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_uid_fetch'><a href="#uid_fetch-instance_method" title="Net::IMAP#uid_fetch (method)">uid_fetch</a></span>(<span class='int'>98</span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RFC822.SIZE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INTERNALDATE</span><span class='tstring_end'>&quot;</span></span>])[<span class='int'>0</span>]
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_seqno'>seqno</span>
<span class='comment'>#=&gt; 6
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_attr'>attr</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RFC822.SIZE</span><span class='tstring_end'>&quot;</span></span>]
<span class='comment'>#=&gt; 611
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_attr'>attr</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INTERNALDATE</span><span class='tstring_end'>&quot;</span></span>]
<span class='comment'>#=&gt; &quot;12-Oct-2000 22:40:59 +0900&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_attr'>attr</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID</span><span class='tstring_end'>&quot;</span></span>]
<span class='comment'>#=&gt; 98</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L817-L819'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='817' data-end='819'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 817</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_fetch_internal'><a href="#fetch_internal-instance_method" title="Net::IMAP#fetch_internal (method)">fetch_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FETCH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_mod'>mod</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fetch_internal-instance_method">
  <h3 class='signature priv'>
    #<strong>fetch_internal</strong>(cmd, set, attr, mod = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1429-L1448'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1429' data-end='1448'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1429</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_internal'>fetch_internal</span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_attr'>attr</span>
  <span class='kw'>when</span> <span class='const'>String</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_attr'>attr</span> <span class='op'>=</span> <span class='const'><a href="IMAP/RawData.html" title="Net::IMAP::RawData (class)">RawData</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/RawData.html#new-class_method" title="Net::IMAP::RawData.new (method)">new</a></span>(<span class='id identifier rubyid_attr'>attr</span>)
  <span class='kw'>when</span> <span class='const'>Array</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_attr'>attr</span> <span class='op'>=</span> <span class='id identifier rubyid_attr'>attr</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>String</span>) <span class='op'>?</span> <span class='const'><a href="IMAP/RawData.html" title="Net::IMAP::RawData (class)">RawData</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/RawData.html#new-class_method" title="Net::IMAP::RawData.new (method)">new</a></span>(<span class='id identifier rubyid_arg'>arg</span>) <span class='op'>:</span> <span class='id identifier rubyid_arg'>arg</span>
    }
  <span class='kw'>end</span>

  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FETCH</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span>
      <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='const'><a href="IMAP/MessageSet.html" title="Net::IMAP::MessageSet (class)">MessageSet</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/MessageSet.html#new-class_method" title="Net::IMAP::MessageSet.new (method)">new</a></span>(<span class='id identifier rubyid_set'>set</span>)<span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_mod'>mod</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='const'><a href="IMAP/MessageSet.html" title="Net::IMAP::MessageSet (class)">MessageSet</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/MessageSet.html#new-class_method" title="Net::IMAP::MessageSet.new (method)">new</a></span>(<span class='id identifier rubyid_set'>set</span>)<span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span>)
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FETCH</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_tag-instance_method">
  <h3 class='signature priv'>
    #<strong>generate_tag</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1285-L1288'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1285' data-end='1288'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1285</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_tag'>generate_tag</span>
  <span class='ivar'>@tagno</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s%04d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@tag_prefix</span><span class='comma'>,</span> <span class='ivar'>@tagno</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_response-instance_method">
  <h3 class='signature priv'>
    #<strong>get_response</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1230-L1248'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1230' data-end='1248'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1230</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_response'>get_response</span>
  <span class='id identifier rubyid_buff'>buff</span> <span class='op'>=</span> <span class='const'>String</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>
  <span class='kw'>while</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_gets'>gets</span>(<span class='const'><a href="#CRLF-constant" title="Net::IMAP::CRLF (constant)">CRLF</a></span>)
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_s'>s</span>
    <span class='id identifier rubyid_buff'>buff</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_s'>s</span>)
    <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\{(\d+)\}\r\n</span><span class='regexp_end'>/n</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_s'>s</span>
      <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_read'>read</span>(<span class='backref'>$1</span>.<span class='id identifier rubyid_to_i'>to_i</span>)
      <span class='id identifier rubyid_buff'>buff</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_s'>s</span>)
    <span class='kw'>else</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_buff'>buff</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='kw'>if</span> <span class='cvar'>@@debug</span>
    <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_print'>print</span>(<span class='id identifier rubyid_buff'>buff</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>S: </span><span class='tstring_end'>&quot;</span></span>))
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='ivar'>@parser</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_buff'>buff</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_tagged_response-instance_method">
  <h3 class='signature priv'>
    #<strong>get_tagged_response</strong>(tag, cmd)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1212-L1228'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1212' data-end='1228'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1212</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_tagged_response'>get_tagged_response</span>(<span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_cmd'>cmd</span>)
  <span class='kw'>until</span> <span class='ivar'>@tagged_responses</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='id identifier rubyid_tag'>tag</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='ivar'>@exception</span> <span class='kw'>if</span> <span class='ivar'>@exception</span>
    <span class='ivar'>@tagged_response_arrival</span>.<span class='id identifier rubyid_wait'>wait</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='ivar'>@tagged_responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='id identifier rubyid_tag'>tag</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_name'>name</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?:OK)\z</span><span class='regexp_end'>/ni</span></span>
    <span class='kw'>return</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?:NO)\z</span><span class='regexp_end'>/ni</span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)">NoResponseError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?:BAD)\z</span><span class='regexp_end'>/ni</span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="IMAP/BadResponseError.html" title="Net::IMAP::BadResponseError (class)">BadResponseError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="IMAP/UnknownResponseError.html" title="Net::IMAP::UnknownResponseError (class)">UnknownResponseError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getacl-instance_method">
  <h3 class='signature '>
    #<strong>getacl</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Send the GETACL command along with a specified <code>mailbox</code>. If this mailbox exists, an array containing objects of <a href="IMAP/MailboxACLItem.html" title="Net::IMAP::MailboxACLItem (class)"><code>IMAP::MailboxACLItem</code></a> will be returned.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L639-L644'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='639' data-end='644'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 639</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getacl'>getacl</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GETACL</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ACL</span><span class='tstring_end'>&quot;</span></span>)[<span class='op'>-</span><span class='int'>1</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getquota-instance_method">
  <h3 class='signature '>
    #<strong>getquota</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends the GETQUOTA command along with specified <code>mailbox</code>. If this mailbox exists, then an array containing a <a href="IMAP/MailboxQuota.html" title="Net::IMAP::MailboxQuota (class)"><code>IMAP::MailboxQuota</code></a> object is returned.  This command is generally only available to server admin.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L603-L608'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='603' data-end='608'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 603</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getquota'>getquota</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GETQUOTA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QUOTA</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getquotaroot-instance_method">
  <h3 class='signature '>
    #<strong>getquotaroot</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends the GETQUOTAROOT command along with the specified <code>mailbox</code>. This command is generally available to both admin and user. If this mailbox exists, it returns an array containing objects of type <a href="IMAP/MailboxQuotaRoot.html" title="Net::IMAP::MailboxQuotaRoot (class)"><code>IMAP::MailboxQuotaRoot</code></a> and <a href="IMAP/MailboxQuota.html" title="Net::IMAP::MailboxQuota (class)"><code>IMAP::MailboxQuota</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L589-L597'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='589' data-end='597'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 589</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getquotaroot'>getquotaroot</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GETQUOTAROOT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> []
    <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QUOTAROOT</span><span class='tstring_end'>&quot;</span></span>))
    <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QUOTA</span><span class='tstring_end'>&quot;</span></span>))
    <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="idle-instance_method">
  <h3 class='signature '>
    #<strong>idle</strong>(timeout = nil, &amp;response_handler)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends an IDLE command that waits for notifications of new or expunged messages.  Yields responses from the server during the IDLE.</p>

<p>Use #idle_done() to leave IDLE.</p>

<p>If <code>timeout</code> is given, this method returns after <code>timeout</code> seconds passed. <code>timeout</code> can be used for keep-alive.  For example, the following code checks the connection for each 60 seconds.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_idle'>idle</span>(<span class='int'>60</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_res'>res</span><span class='op'>|</span>
    <span class='comment'>#...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>LocalJumpError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L953-L980'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='953' data-end='980'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 953</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_idle'>idle</span>(<span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_response_handler'>response_handler</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>LocalJumpError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no block given</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_response_handler'>response_handler</span>

  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_net_imap_tag'>net_imap_tag</span>] <span class='op'>=</span> <span class='id identifier rubyid_generate_tag'><a href="#generate_tag-instance_method" title="Net::IMAP#generate_tag (method)">generate_tag</a></span>
    <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='embexpr_end'>}</span><span class='tstring_content'> IDLE</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#CRLF-constant" title="Net::IMAP::CRLF (constant)">CRLF</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_add_response_handler'><a href="#add_response_handler-instance_method" title="Net::IMAP#add_response_handler (method)">add_response_handler</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_response_handler'>response_handler</span>)
      <span class='ivar'>@idle_done_cond</span> <span class='op'>=</span> <span class='id identifier rubyid_new_cond'>new_cond</span>
      <span class='ivar'>@idle_done_cond</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='id identifier rubyid_timeout'>timeout</span>)
      <span class='ivar'>@idle_done_cond</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>if</span> <span class='ivar'>@receiver_thread_terminating</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='ivar'>@exception</span> <span class='op'>||</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>IMAP</span><span class='op'>::</span><span class='const'><a href="IMAP/Error.html" title="Net::IMAP::Error (class)">Error</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>connection closed</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>end</span>
    <span class='kw'>ensure</span>
      <span class='kw'>unless</span> <span class='ivar'>@receiver_thread_terminating</span>
        <span class='id identifier rubyid_remove_response_handler'><a href="#remove_response_handler-instance_method" title="Net::IMAP#remove_response_handler (method)">remove_response_handler</a></span>(<span class='id identifier rubyid_response_handler'>response_handler</span>)
        <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DONE</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#CRLF-constant" title="Net::IMAP::CRLF (constant)">CRLF</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
        <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tagged_response'><a href="#get_tagged_response-instance_method" title="Net::IMAP#get_tagged_response (method)">get_tagged_response</a></span>(<span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>IDLE</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_response'>response</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="idle_done-instance_method">
  <h3 class='signature '>
    #<strong>idle_done</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Leaves IDLE.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L983-L990'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='983' data-end='990'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 983</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_idle_done'>idle_done</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='ivar'>@idle_done_cond</span>.<span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>IMAP</span><span class='op'>::</span><span class='const'><a href="IMAP/Error.html" title="Net::IMAP::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not during IDLE</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='ivar'>@idle_done_cond</span>.<span class='id identifier rubyid_signal'>signal</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="list-instance_method">
  <h3 class='signature '>
    #<strong>list</strong>(refname, mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a LIST command, and returns a subset of names from the complete set of all names available to the client. <code>refname</code> provides a context (for instance, a base directory in a directory-based mailbox hierarchy).  <code>mailbox</code> specifies a mailbox or (via wildcards) mailboxes under that context. Two wildcards may be used in <code>mailbox</code>: ‘*’, which matches all characters <strong>including</strong> the hierarchy delimiter (for instance, ‘/’ on a UNIX-hosted directory-based mailbox hierarchy); and ‘%’, which matches all characters <strong>except</strong> the hierarchy delimiter.</p>

<p>If <code>refname</code> is empty, <code>mailbox</code> is used directly to determine which mailboxes to match.  If <code>mailbox</code> is empty, the root name of <code>refname</code> and the hierarchy delimiter are returned.</p>

<p>The return value is an array of <a href="IMAP/MailboxList.html" title="Net::IMAP::MailboxList (class)"><code>IMAP::MailboxList</code></a>. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_create'><a href="#create-instance_method" title="Net::IMAP#create (method)">create</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo/bar</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_create'><a href="#create-instance_method" title="Net::IMAP#create (method)">create</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo/baz</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_list'>list</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo/%</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; [#&lt;Net::IMAP::MailboxList attr=[:Noselect], delim=&quot;/&quot;, name=&quot;foo/&quot;&gt;, \\
</span>     <span class='comment'>#&lt;Net::IMAP::MailboxList attr=[:Noinferiors, :Marked], delim=&quot;/&quot;, name=&quot;foo/bar&quot;&gt;, \\
</span>     <span class='comment'>#&lt;Net::IMAP::MailboxList attr=[:Noinferiors], delim=&quot;/&quot;, name=&quot;foo/baz&quot;&gt;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L546-L551'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='546' data-end='551'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 546</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_list'>list</span>(<span class='id identifier rubyid_refname'>refname</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LIST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_refname'>refname</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LIST</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="login-instance_method">
  <h3 class='signature '>
    #<strong>login</strong>(user, password)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a LOGIN command to identify the client and carries the plaintext <code>password</code> authenticating this <code>user</code>.  Note that, unlike calling #authenticate() with an <code>auth_type</code> of “LOGIN”, #login() does <strong>not</strong> use the login authenticator.</p>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if authentication fails.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L440-L442'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='440' data-end='442'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 440</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_login'>login</span>(<span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LOGIN</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="logout-instance_method">
  <h3 class='signature '>
    #<strong>logout</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a LOGOUT command to inform the server that the client is done with the connection.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L373-L375'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='373' data-end='375'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 373</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_logout'>logout</span>
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LOGOUT</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lsub-instance_method">
  <h3 class='signature '>
    #<strong>lsub</strong>(refname, mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a LSUB command, and returns a subset of names from the set of names that the user has declared as being “active” or “subscribed.”  <code>refname</code> and <code>mailbox</code> are interpreted as for #list(). The return value is an array of <a href="IMAP/MailboxList.html" title="Net::IMAP::MailboxList (class)"><code>IMAP::MailboxList</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L651-L656'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='651' data-end='656'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 651</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_lsub'>lsub</span>(<span class='id identifier rubyid_refname'>refname</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LSUB</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_refname'>refname</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LSUB</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="move-instance_method">
  <h3 class='signature '>
    #<strong>move</strong>(set, mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a MOVE command to move the specified message(s) to the end of the specified destination <code>mailbox</code>. The <code>set</code> parameter is a number, an array of numbers, or a Range object. The number is a message sequence number. The IMAP MOVE extension is described in [RFC-6851].</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L867-L869'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='867' data-end='869'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 867</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_move'>move</span>(<span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_copy_internal'><a href="#copy_internal-instance_method" title="Net::IMAP#copy_internal (method)">copy_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MOVE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="noop-instance_method">
  <h3 class='signature '>
    #<strong>noop</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a NOOP command to the server. It does nothing.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L367-L369'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='367' data-end='369'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 367</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_noop'>noop</span>
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOOP</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="normalize_searching_criteria-instance_method">
  <h3 class='signature priv'>
    #<strong>normalize_searching_criteria</strong>(keys)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1489-L1498'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1489' data-end='1498'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1489</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_normalize_searching_criteria'>normalize_searching_criteria</span>(<span class='id identifier rubyid_keys'>keys</span>)
  <span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_collect!'>collect!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_i'>i</span>
    <span class='kw'>when</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='const'>Range</span><span class='comma'>,</span> <span class='const'>Array</span>
      <span class='const'><a href="IMAP/MessageSet.html" title="Net::IMAP::MessageSet (class)">MessageSet</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/MessageSet.html#new-class_method" title="Net::IMAP::MessageSet.new (method)">new</a></span>(<span class='id identifier rubyid_i'>i</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_i'>i</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="put_string-instance_method">
  <h3 class='signature priv'>
    #<strong>put_string</strong>(str)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1290-L1303'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1290' data-end='1303'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1290</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_put_string'>put_string</span>(<span class='id identifier rubyid_str'>str</span>)
  <span class='ivar'>@sock</span>.<span class='id identifier rubyid_print'>print</span>(<span class='id identifier rubyid_str'>str</span>)
  <span class='kw'>if</span> <span class='cvar'>@@debug</span>
    <span class='kw'>if</span> <span class='ivar'>@debug_output_bol</span>
      <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_print'>print</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C: </span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>
    <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_print'>print</span>(<span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n(?!\z)</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nC: </span><span class='tstring_end'>&quot;</span></span>))
    <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\r\n\z</span><span class='regexp_end'>/n</span></span>.<span class='id identifier rubyid_match'>match</span>(<span class='id identifier rubyid_str'>str</span>)
      <span class='ivar'>@debug_output_bol</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='ivar'>@debug_output_bol</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="receive_responses-instance_method">
  <h3 class='signature priv'>
    #<strong>receive_responses</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1141-L1210'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1141' data-end='1210'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_receive_responses'>receive_responses</span>
  <span class='id identifier rubyid_connection_closed'>connection_closed</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>until</span> <span class='id identifier rubyid_connection_closed'>connection_closed</span>
    <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
      <span class='ivar'>@exception</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_resp'>resp</span> <span class='op'>=</span> <span class='id identifier rubyid_get_response'><a href="#get_response-instance_method" title="Net::IMAP#get_response (method)">get_response</a></span>
    <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
        <span class='ivar'>@sock</span>.<span class='id identifier rubyid_close'><a href="#close-instance_method" title="Net::IMAP#close (method)">close</a></span>
        <span class='ivar'>@exception</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>end</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_resp'>resp</span>
      <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
        <span class='ivar'>@exception</span> <span class='op'>=</span> <span class='const'>EOFError</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>end of file reached</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>end</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
        <span class='kw'>case</span> <span class='id identifier rubyid_resp'>resp</span>
        <span class='kw'>when</span> <span class='const'><a href="IMAP/TaggedResponse.html" title="Net::IMAP::TaggedResponse (class)">TaggedResponse</a></span>
          <span class='ivar'>@tagged_responses</span>[<span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_tag'>tag</span>] <span class='op'>=</span> <span class='id identifier rubyid_resp'>resp</span>
          <span class='ivar'>@tagged_response_arrival</span>.<span class='id identifier rubyid_broadcast'>broadcast</span>
          <span class='kw'>case</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_tag'>tag</span>
          <span class='kw'>when</span> <span class='ivar'>@logout_command_tag</span>
            <span class='kw'>return</span>
          <span class='kw'>when</span> <span class='ivar'>@continued_command_tag</span>
            <span class='ivar'>@continuation_request_exception</span> <span class='op'>=</span>
              <span class='const'><a href="#RESPONSE_ERRORS-constant" title="Net::IMAP::RESPONSE_ERRORS (constant)">RESPONSE_ERRORS</a></span>[<span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_name'>name</span>].<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='id identifier rubyid_resp'>resp</span>)
            <span class='ivar'>@continuation_request_arrival</span>.<span class='id identifier rubyid_signal'>signal</span>
          <span class='kw'>end</span>
        <span class='kw'>when</span> <span class='const'><a href="IMAP/UntaggedResponse.html" title="Net::IMAP::UntaggedResponse (class)">UntaggedResponse</a></span>
          <span class='id identifier rubyid_record_response'><a href="#record_response-instance_method" title="Net::IMAP#record_response (method)">record_response</a></span>(<span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_data'>data</span>)
          <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'><a href="IMAP/ResponseText.html" title="Net::IMAP::ResponseText (class)">ResponseText</a></span>) <span class='op'>&amp;&amp;</span>
              (<span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_code'>code</span>)
            <span class='id identifier rubyid_record_response'><a href="#record_response-instance_method" title="Net::IMAP#record_response (method)">record_response</a></span>(<span class='id identifier rubyid_code'>code</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_code'>code</span>.<span class='id identifier rubyid_data'>data</span>)
          <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BYE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@logout_command_tag</span>.<span class='id identifier rubyid_nil?'>nil?</span>
            <span class='ivar'>@sock</span>.<span class='id identifier rubyid_close'><a href="#close-instance_method" title="Net::IMAP#close (method)">close</a></span>
            <span class='ivar'>@exception</span> <span class='op'>=</span> <span class='const'><a href="IMAP/ByeResponseError.html" title="Net::IMAP::ByeResponseError (class)">ByeResponseError</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/ResponseError.html#new-class_method" title="Net::IMAP::ResponseError.new (method)">new</a></span>(<span class='id identifier rubyid_resp'>resp</span>)
            <span class='id identifier rubyid_connection_closed'>connection_closed</span> <span class='op'>=</span> <span class='kw'>true</span>
          <span class='kw'>end</span>
        <span class='kw'>when</span> <span class='const'><a href="IMAP/ContinuationRequest.html" title="Net::IMAP::ContinuationRequest (class)">ContinuationRequest</a></span>
          <span class='ivar'>@continuation_request_arrival</span>.<span class='id identifier rubyid_signal'>signal</span>
        <span class='kw'>end</span>
        <span class='ivar'>@response_handlers</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_handler'>handler</span><span class='op'>|</span>
          <span class='id identifier rubyid_handler'>handler</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_resp'>resp</span>)
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='ivar'>@exception</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
        <span class='ivar'>@tagged_response_arrival</span>.<span class='id identifier rubyid_broadcast'>broadcast</span>
        <span class='ivar'>@continuation_request_arrival</span>.<span class='id identifier rubyid_broadcast'>broadcast</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@receiver_thread_terminating</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='ivar'>@tagged_response_arrival</span>.<span class='id identifier rubyid_broadcast'>broadcast</span>
    <span class='ivar'>@continuation_request_arrival</span>.<span class='id identifier rubyid_broadcast'>broadcast</span>
    <span class='kw'>if</span> <span class='ivar'>@idle_done_cond</span>
      <span class='ivar'>@idle_done_cond</span>.<span class='id identifier rubyid_signal'>signal</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="record_response-instance_method">
  <h3 class='signature priv'>
    #<strong>record_response</strong>(name, data)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1250-L1255'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1250' data-end='1255'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1250</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_record_response'>record_response</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span>)
  <span class='kw'>unless</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='id identifier rubyid_name'>name</span>)
    <span class='ivar'>@responses</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>=</span> []
  <span class='kw'>end</span>
  <span class='ivar'>@responses</span>[<span class='id identifier rubyid_name'>name</span>].<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_data'>data</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove_response_handler-instance_method">
  <h3 class='signature '>
    #<strong>remove_response_handler</strong>(handler)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes the response handler.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L912-L914'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='912' data-end='914'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 912</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_response_handler'>remove_response_handler</span>(<span class='id identifier rubyid_handler'>handler</span>)
  <span class='ivar'>@response_handlers</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='id identifier rubyid_handler'>handler</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rename-instance_method">
  <h3 class='signature '>
    #<strong>rename</strong>(mailbox, newname)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a RENAME command to change the name of the <code>mailbox</code> to <code>newname</code>.</p>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if a mailbox with the name <code>mailbox</code> cannot be renamed to <code>newname</code> for whatever reason; for instance, because <code>mailbox</code> does not exist, or because there is already a mailbox with the name <code>newname</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L500-L502'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='500' data-end='502'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 500</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rename'>rename</span>(<span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_newname'>newname</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RENAME</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_newname'>newname</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="search-instance_method">
  <h3 class='signature '>
    #<strong>search</strong>(keys, charset = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a SEARCH command to search the mailbox for messages that match the given searching criteria, and returns message sequence numbers.  <code>keys</code> can either be a string holding the entire search string, or a single-dimension array of search keywords and arguments.  The following are some common search criteria; see [IMAP] section 6.4.4 for a full list.</p>
<dl class="rdoc-list note-list"><dt>&lt;message set&gt;
<dd>
<p>a set of message sequence numbers.  ‘,’ indicates an interval, ‘:’ indicates a range.  For instance, ‘2,10:12,15’ means “2,10,11,12,15”.</p>
</dd><dt>BEFORE &lt;date&gt;
<dd>
<p>messages with an internal date strictly before &lt;date&gt;.  The date argument has a format similar to 8-Aug-2002.</p>
</dd><dt>BODY &lt;string&gt;
<dd>
<p>messages that contain &lt;string&gt; within their body.</p>
</dd><dt>CC &lt;string&gt;
<dd>
<p>messages containing &lt;string&gt; in their CC field.</p>
</dd><dt>FROM &lt;string&gt;
<dd>
<p>messages that contain &lt;string&gt; in their FROM field.</p>
</dd><dt>NEW
<dd>
<p>messages with the Recent, but not the Seen, flag set.</p>
</dd><dt>NOT &lt;search-key&gt;
<dd>
<p>negate the following search key.</p>
</dd><dt>OR &lt;search-key&gt; &lt;search-key&gt;
<dd>
<p>“or” two search keys together.</p>
</dd><dt>ON &lt;date&gt;
<dd>
<p>messages with an internal date exactly equal to &lt;date&gt;, which has a format similar to 8-Aug-2002.</p>
</dd><dt>SINCE &lt;date&gt;
<dd>
<p>messages with an internal date on or after &lt;date&gt;.</p>
</dd><dt>SUBJECT &lt;string&gt;
<dd>
<p>messages with &lt;string&gt; in their subject.</p>
</dd><dt>TO &lt;string&gt;
<dd>
<p>messages with &lt;string&gt; in their TO field.</p>
</dd></dl>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_search'>search</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SUBJECT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NEW</span><span class='tstring_end'>&quot;</span></span>])
<span class='comment'>#=&gt; [1, 6, 7, 8]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L773-L775'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='773' data-end='775'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 773</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search'>search</span>(<span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_search_internal'><a href="#search_internal-instance_method" title="Net::IMAP#search_internal (method)">search_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SEARCH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="search_internal-instance_method">
  <h3 class='signature priv'>
    #<strong>search_internal</strong>(cmd, keys, charset)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1413-L1427'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1413' data-end='1427'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1413</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search_internal'>search_internal</span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'>String</span>)
    <span class='id identifier rubyid_keys'>keys</span> <span class='op'>=</span> [<span class='const'><a href="IMAP/RawData.html" title="Net::IMAP::RawData (class)">RawData</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/RawData.html#new-class_method" title="Net::IMAP::RawData.new (method)">new</a></span>(<span class='id identifier rubyid_keys'>keys</span>)]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_normalize_searching_criteria'><a href="#normalize_searching_criteria-instance_method" title="Net::IMAP#normalize_searching_criteria (method)">normalize_searching_criteria</a></span>(<span class='id identifier rubyid_keys'>keys</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_charset'>charset</span>
      <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CHARSET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span>)
    <span class='kw'>end</span>
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SEARCH</span><span class='tstring_end'>&quot;</span></span>)[<span class='op'>-</span><span class='int'>1</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="select-instance_method">
  <h3 class='signature '>
    #<strong>select</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a SELECT command to select a <code>mailbox</code> so that messages in the <code>mailbox</code> can be accessed.</p>

<p>After you have selected a mailbox, you may retrieve the number of items in that mailbox from @<a href="&quot;EXISTS&quot;">responses</a>[-1], and the number of recent messages from @<a href="&quot;RECENT&quot;">responses</a>[-1]. Note that these values can change if new messages arrive during a session; see #add_response_handler() for a way of detecting this event.</p>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if the mailbox does not exist or is for some reason non-selectable.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L456-L461'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='456' data-end='461'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 456</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_select'>select</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@responses</span>.<span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_command-instance_method">
  <h3 class='signature priv'>
    #<strong>send_command</strong>(cmd, *args, &amp;block)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1257-L1283'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1257' data-end='1283'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1257</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_command'>send_command</span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_validate_data'><a href="#validate_data-instance_method" title="Net::IMAP#validate_data (method)">validate_data</a></span>(<span class='id identifier rubyid_i'>i</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_tag'><a href="#generate_tag-instance_method" title="Net::IMAP#generate_tag (method)">generate_tag</a></span>
    <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='id identifier rubyid_tag'>tag</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_cmd'>cmd</span>)
    <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
      <span class='id identifier rubyid_send_data'><a href="#send_data-instance_method" title="Net::IMAP#send_data (method)">send_data</a></span>(<span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='const'><a href="#CRLF-constant" title="Net::IMAP::CRLF (constant)">CRLF</a></span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LOGOUT</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@logout_command_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_tag'>tag</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
      <span class='id identifier rubyid_add_response_handler'><a href="#add_response_handler-instance_method" title="Net::IMAP#add_response_handler (method)">add_response_handler</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>end</span>
    <span class='kw'>begin</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_get_tagged_response'><a href="#get_tagged_response-instance_method" title="Net::IMAP#get_tagged_response (method)">get_tagged_response</a></span>(<span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_cmd'>cmd</span>)
    <span class='kw'>ensure</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
        <span class='id identifier rubyid_remove_response_handler'><a href="#remove_response_handler-instance_method" title="Net::IMAP#remove_response_handler (method)">remove_response_handler</a></span>(<span class='id identifier rubyid_block'>block</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_data-instance_method">
  <h3 class='signature priv'>
    #<strong>send_data</strong>(data, tag = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1326-L1343'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1326' data-end='1343'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1326</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_data'>send_data</span>(<span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_data'>data</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NIL</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='id identifier rubyid_send_string_data'><a href="#send_string_data-instance_method" title="Net::IMAP#send_string_data (method)">send_string_data</a></span>(<span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span>)
  <span class='kw'>when</span> <span class='const'>Integer</span>
    <span class='id identifier rubyid_send_number_data'><a href="#send_number_data-instance_method" title="Net::IMAP#send_number_data (method)">send_number_data</a></span>(<span class='id identifier rubyid_data'>data</span>)
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_send_list_data'><a href="#send_list_data-instance_method" title="Net::IMAP#send_list_data (method)">send_list_data</a></span>(<span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span>)
  <span class='kw'>when</span> <span class='const'>Time</span>
    <span class='id identifier rubyid_send_time_data'><a href="#send_time_data-instance_method" title="Net::IMAP#send_time_data (method)">send_time_data</a></span>(<span class='id identifier rubyid_data'>data</span>)
  <span class='kw'>when</span> <span class='const'>Symbol</span>
    <span class='id identifier rubyid_send_symbol_data'><a href="#send_symbol_data-instance_method" title="Net::IMAP#send_symbol_data (method)">send_symbol_data</a></span>(<span class='id identifier rubyid_data'>data</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_send_data'>send_data</span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_list_data-instance_method">
  <h3 class='signature priv'>
    #<strong>send_list_data</strong>(list, tag = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1385-L1397'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1385' data-end='1397'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1385</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_list_data'>send_list_data</span>(<span class='id identifier rubyid_list'><a href="#list-instance_method" title="Net::IMAP#list (method)">list</a></span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_first'>first</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_list'><a href="#list-instance_method" title="Net::IMAP#list (method)">list</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_first'>first</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_send_data'><a href="#send_data-instance_method" title="Net::IMAP#send_data (method)">send_data</a></span>(<span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_literal-instance_method">
  <h3 class='signature priv'>
    #<strong>send_literal</strong>(str, tag = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1364-L1379'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1364' data-end='1379'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1364</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_literal'>send_literal</span>(<span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_bytesize'>bytesize</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='const'><a href="#CRLF-constant" title="Net::IMAP::CRLF (constant)">CRLF</a></span>)
    <span class='ivar'>@continued_command_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_tag'>tag</span>
    <span class='ivar'>@continuation_request_exception</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>begin</span>
      <span class='ivar'>@continuation_request_arrival</span>.<span class='id identifier rubyid_wait'>wait</span>
      <span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='ivar'>@continuation_request_exception</span> <span class='op'>||</span> <span class='ivar'>@exception</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span> <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='id identifier rubyid_str'>str</span>)
    <span class='kw'>ensure</span>
      <span class='ivar'>@continued_command_tag</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='ivar'>@continuation_request_exception</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_number_data-instance_method">
  <h3 class='signature priv'>
    #<strong>send_number_data</strong>(num)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1381-L1383'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1381' data-end='1383'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1381</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_number_data'>send_number_data</span>(<span class='id identifier rubyid_num'>num</span>)
  <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='id identifier rubyid_num'>num</span>.<span class='id identifier rubyid_to_s'>to_s</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_quoted_string-instance_method">
  <h3 class='signature priv'>
    #<strong>send_quoted_string</strong>(str)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1360-L1362'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1360' data-end='1362'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1360</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_quoted_string'>send_quoted_string</span>(<span class='id identifier rubyid_str'>str</span>)
  <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_str'>str</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[&quot;\\]</span><span class='regexp_end'>/n</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\\\\\&amp;</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_string_data-instance_method">
  <h3 class='signature priv'>
    #<strong>send_string_data</strong>(str, tag = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1345-L1358'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1345' data-end='1358'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1345</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_string_data'>send_string_data</span>(<span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_str'>str</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;&quot;</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\x80-\xff\r\n]</span><span class='regexp_end'>/n</span></span>
    <span class='comment'># literal
</span>    <span class='id identifier rubyid_send_literal'><a href="#send_literal-instance_method" title="Net::IMAP#send_literal (method)">send_literal</a></span>(<span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span>)
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[(){ \x00-\x1f\x7f%*&quot;\\]</span><span class='regexp_end'>/n</span></span>
    <span class='comment'># quoted string
</span>    <span class='id identifier rubyid_send_quoted_string'><a href="#send_quoted_string-instance_method" title="Net::IMAP#send_quoted_string (method)">send_quoted_string</a></span>(<span class='id identifier rubyid_str'>str</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='id identifier rubyid_str'>str</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_symbol_data-instance_method">
  <h3 class='signature priv'>
    #<strong>send_symbol_data</strong>(symbol)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1409-L1411'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1409' data-end='1411'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1409</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_symbol_data'>send_symbol_data</span>(<span class='id identifier rubyid_symbol'>symbol</span>)
  <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_symbol'>symbol</span>.<span class='id identifier rubyid_to_s'>to_s</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_time_data-instance_method">
  <h3 class='signature priv'>
    #<strong>send_time_data</strong>(time)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1401-L1407'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1401' data-end='1407'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1401</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_time_data'>send_time_data</span>(<span class='id identifier rubyid_time'>time</span>)
  <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span>.<span class='id identifier rubyid_dup'>dup</span>.<span class='id identifier rubyid_gmtime'>gmtime</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;%2d-%3s-%4d %02d:%02d:%02d +0000&quot;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
             <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='const'><a href="#DATE_MONTH-constant" title="Net::IMAP::DATE_MONTH (constant)">DATE_MONTH</a></span>[<span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_month'>month</span> <span class='op'>-</span> <span class='int'>1</span>]<span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_year'>year</span><span class='comma'>,</span>
             <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_sec'>sec</span>)
  <span class='id identifier rubyid_put_string'><a href="#put_string-instance_method" title="Net::IMAP#put_string (method)">put_string</a></span>(<span class='id identifier rubyid_s'>s</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setacl-instance_method">
  <h3 class='signature '>
    #<strong>setacl</strong>(mailbox, user, rights)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends the SETACL command along with <code>mailbox</code>, <code>user</code> and the <code>rights</code> that user is to have on that mailbox.  If <code>rights</code> is nil, then that user will be stripped of any rights to that mailbox. The IMAP ACL commands are described in [RFC-2086].</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L628-L634'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='628' data-end='634'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 628</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_setacl'>setacl</span>(<span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_rights'>rights</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_rights'>rights</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SETACL</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SETACL</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_rights'>rights</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setquota-instance_method">
  <h3 class='signature '>
    #<strong>setquota</strong>(mailbox, quota)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a SETQUOTA command along with the specified <code>mailbox</code> and <code>quota</code>.  If <code>quota</code> is nil, then <code>quota</code> will be unset for that mailbox.  Typically one needs to be logged in as a server admin for this to work.  The IMAP quota commands are described in [RFC-2087].</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L615-L622'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='615' data-end='622'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 615</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_setquota'>setquota</span>(<span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_quota'>quota</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_quota'>quota</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>()</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(STORAGE </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_quota'>quota</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>)</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SETQUOTA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='const'><a href="IMAP/RawData.html" title="Net::IMAP::RawData (class)">RawData</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/RawData.html#new-class_method" title="Net::IMAP::RawData.new (method)">new</a></span>(<span class='id identifier rubyid_data'>data</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sort-instance_method">
  <h3 class='signature '>
    #<strong>sort</strong>(sort_keys, search_keys, charset)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a SORT command to sort messages in the mailbox. Returns an array of message sequence numbers. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_sort'>sort</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FROM</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ALL</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>US-ASCII</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; [1, 2, 3, 5, 6, 7, 8, 4, 9]
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_sort'>sort</span>([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DATE</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SUBJECT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>US-ASCII</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; [6, 7, 8, 1]</span></code></pre>

<p>See [SORT-THREAD-EXT] for more details.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L885-L887'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='885' data-end='887'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 885</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sort'>sort</span>(<span class='id identifier rubyid_sort_keys'>sort_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_sort_internal'><a href="#sort_internal-instance_method" title="Net::IMAP#sort_internal (method)">sort_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SORT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_sort_keys'>sort_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sort_internal-instance_method">
  <h3 class='signature priv'>
    #<strong>sort_internal</strong>(cmd, sort_keys, search_keys, charset)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1465-L1476'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1465' data-end='1476'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1465</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sort_internal'>sort_internal</span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_sort_keys'>sort_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_search_keys'>search_keys</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'>String</span>)
    <span class='id identifier rubyid_search_keys'>search_keys</span> <span class='op'>=</span> [<span class='const'><a href="IMAP/RawData.html" title="Net::IMAP::RawData (class)">RawData</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/RawData.html#new-class_method" title="Net::IMAP::RawData.new (method)">new</a></span>(<span class='id identifier rubyid_search_keys'>search_keys</span>)]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_normalize_searching_criteria'><a href="#normalize_searching_criteria-instance_method" title="Net::IMAP#normalize_searching_criteria (method)">normalize_searching_criteria</a></span>(<span class='id identifier rubyid_search_keys'>search_keys</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_normalize_searching_criteria'><a href="#normalize_searching_criteria-instance_method" title="Net::IMAP#normalize_searching_criteria (method)">normalize_searching_criteria</a></span>(<span class='id identifier rubyid_search_keys'>search_keys</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_sort_keys'>sort_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_search_keys'>search_keys</span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SORT</span><span class='tstring_end'>&quot;</span></span>)[<span class='op'>-</span><span class='int'>1</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start_tls_session-instance_method">
  <h3 class='signature priv'>
    #<strong>start_tls_session</strong>(params = {})   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1517-L1541'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1517' data-end='1541'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1517</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_start_tls_session'>start_tls_session</span>(<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> {})
  <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSL extension not installed</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>SSLSocket</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>already using SSL</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span>.<span class='id identifier rubyid_to_hash'>to_hash</span>
  <span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
    <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> {}
  <span class='kw'>end</span>
  <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'>SSLContext</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>
  <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_set_params'>set_params</span>(<span class='id identifier rubyid_params'>params</span>)
  <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'>VerifyCallbackProc</span>)
    <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_verify_callback'>verify_callback</span> <span class='op'>=</span> <span class='const'>VerifyCallbackProc</span>
  <span class='kw'>end</span>
  <span class='ivar'>@sock</span> <span class='op'>=</span> <span class='const'>SSLSocket</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::IMAP.new (method)">new</a></span>(<span class='ivar'>@sock</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span>)
  <span class='ivar'>@sock</span>.<span class='id identifier rubyid_sync_close'>sync_close</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@sock</span>.<span class='id identifier rubyid_hostname'>hostname</span> <span class='op'>=</span> <span class='ivar'>@host</span> <span class='kw'>if</span> <span class='ivar'>@sock</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hostname='>hostname=</span>
  <span class='id identifier rubyid_ssl_socket_connect'>ssl_socket_connect</span>(<span class='ivar'>@sock</span><span class='comma'>,</span> <span class='ivar'>@open_timeout</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_verify_mode'>verify_mode</span> <span class='op'>!=</span> <span class='const'>VERIFY_NONE</span>
    <span class='ivar'>@sock</span>.<span class='id identifier rubyid_post_connection_check'>post_connection_check</span>(<span class='ivar'>@host</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="starttls-instance_method">
  <h3 class='signature '>
    #<strong>starttls</strong>(options = {}, verify = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a STARTTLS command to start TLS session.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L378-L390'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='378' data-end='390'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 378</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_starttls'>starttls</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_verify'>verify</span> <span class='op'>=</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STARTTLS</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_resp'>resp</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'><a href="IMAP/TaggedResponse.html" title="Net::IMAP::TaggedResponse (class)">TaggedResponse</a></span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_resp'>resp</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OK</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>begin</span>
        <span class='comment'># for backward compatibility
</span>        <span class='id identifier rubyid_certs'>certs</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_to_str'>to_str</span>
        <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_create_ssl_params'><a href="#create_ssl_params-instance_method" title="Net::IMAP#create_ssl_params (method)">create_ssl_params</a></span>(<span class='id identifier rubyid_certs'>certs</span><span class='comma'>,</span> <span class='id identifier rubyid_verify'>verify</span>)
      <span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_start_tls_session'><a href="#start_tls_session-instance_method" title="Net::IMAP#start_tls_session (method)">start_tls_session</a></span>(<span class='id identifier rubyid_options'>options</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="status-instance_method">
  <h3 class='signature '>
    #<strong>status</strong>(mailbox, attr)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a STATUS command, and returns the status of the indicated <code>mailbox</code>. <code>attr</code> is a list of one or more attributes whose statuses are to be requested.  Supported attributes include:</p>

<pre class="code ruby"><code class="ruby">MESSAGES:: the number of messages in the mailbox.
RECENT:: the number of recent messages in the mailbox.
UNSEEN:: the number of unseen messages in the mailbox.</code></pre>

<p>The return value is a hash of attributes. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_status'>status</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inbox</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MESSAGES</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RECENT</span><span class='tstring_end'>&quot;</span></span>])
<span class='comment'>#=&gt; {&quot;RECENT&quot;=&gt;0, &quot;MESSAGES&quot;=&gt;44}</span></code></pre>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if status values for <code>mailbox</code> cannot be returned; for instance, because it does not exist.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L674-L679'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='674' data-end='679'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 674</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_status'>status</span>(<span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STATUS</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STATUS</span><span class='tstring_end'>&quot;</span></span>)[<span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_attr'>attr</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="store-instance_method">
  <h3 class='signature '>
    #<strong>store</strong>(set, attr, flags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a STORE command to alter data associated with messages in the mailbox, in particular their flags. The <code>set</code> parameter is a number, an array of numbers, or a Range object. Each number is a message sequence number.  <code>attr</code> is the name of a data item to store: ‘FLAGS’ will replace the message’s flag list with the provided one, ‘+FLAGS’ will add the provided flags, and ‘-FLAGS’ will remove them.  <code>flags</code> is a list of flags.</p>

<p>The return value is an array of <a href="IMAP/FetchData.html" title="Net::IMAP::FetchData (class)"><code>IMAP::FetchData</code></a>. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_store'>store</span>(<span class='int'>6</span><span class='op'>..</span><span class='int'>8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+FLAGS</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='const'>Deleted</span>])
<span class='comment'>#=&gt; [#&lt;Net::IMAP::FetchData seqno=6, attr={&quot;FLAGS&quot;=&gt;[:Seen, :Deleted]}&gt;, \\
</span>     <span class='comment'>#&lt;Net::IMAP::FetchData seqno=7, attr={&quot;FLAGS&quot;=&gt;[:Seen, :Deleted]}&gt;, \\
</span>     <span class='comment'>#&lt;Net::IMAP::FetchData seqno=8, attr={&quot;FLAGS&quot;=&gt;[:Seen, :Deleted]}&gt;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L840-L842'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='840' data-end='842'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 840</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_store'>store</span>(<span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_store_internal'><a href="#store_internal-instance_method" title="Net::IMAP#store_internal (method)">store_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STORE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="store_internal-instance_method">
  <h3 class='signature priv'>
    #<strong>store_internal</strong>(cmd, set, attr, flags)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1450-L1459'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1450' data-end='1459'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1450</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_store_internal'>store_internal</span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_attr'>attr</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'>String</span>)
    <span class='id identifier rubyid_attr'>attr</span> <span class='op'>=</span> <span class='const'><a href="IMAP/RawData.html" title="Net::IMAP::RawData (class)">RawData</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/RawData.html#new-class_method" title="Net::IMAP::RawData.new (method)">new</a></span>(<span class='id identifier rubyid_attr'>attr</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FETCH</span><span class='tstring_end'>&quot;</span></span>)
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='const'><a href="IMAP/MessageSet.html" title="Net::IMAP::MessageSet (class)">MessageSet</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/MessageSet.html#new-class_method" title="Net::IMAP::MessageSet.new (method)">new</a></span>(<span class='id identifier rubyid_set'>set</span>)<span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FETCH</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="subscribe-instance_method">
  <h3 class='signature '>
    #<strong>subscribe</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a SUBSCRIBE command to add the specified <code>mailbox</code> name to the server’s set of “active” or “subscribed” mailboxes as returned by #lsub().</p>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if <code>mailbox</code> cannot be subscribed to; for instance, because it does not exist.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L510-L512'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='510' data-end='512'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 510</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_subscribe'>subscribe</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SUBSCRIBE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tcp_socket-instance_method">
  <h3 class='signature priv'>
    #<strong>tcp_socket</strong>(host, port)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1132-L1139'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1132' data-end='1139'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1132</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tcp_socket'>tcp_socket</span>(<span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span>)
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>Socket</span>.<span class='id identifier rubyid_tcp'>tcp</span>(<span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_connect_timeout'>connect_timeout</span> <span class='op'>=&gt;</span> <span class='ivar'>@open_timeout</span>)
  <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_setsockopt'>setsockopt</span>(<span class='symbeg'>:</span><span class='const'>SOL_SOCKET</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>SO_KEEPALIVE</span><span class='comma'>,</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_s'>s</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ETIMEDOUT</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>OpenTimeout</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Timeout to open TCP connection to </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_content'> (exceeds </span><span class='embexpr_beg'>#{</span><span class='ivar'>@open_timeout</span><span class='embexpr_end'>}</span><span class='tstring_content'> seconds)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="thread-instance_method">
  <h3 class='signature '>
    #<strong>thread</strong>(algorithm, search_keys, charset)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Similar to #search(), but returns message sequence numbers in threaded format, as a <a href="IMAP/ThreadMember.html" title="Net::IMAP::ThreadMember (class)"><code>IMAP::ThreadMember</code></a> tree.  The supported algorithms are:</p>
<dl class="rdoc-list note-list"><dt>ORDEREDSUBJECT
<dd>
<p>split into single-level threads according to subject, ordered by date.</p>
</dd><dt>REFERENCES
<dd>
<p>split into threads by parent/child relationships determined by which message is a reply to which.</p>
</dd></dl>

<p>Unlike #search(), <code>charset</code> is a required argument.  US-ASCII and UTF-8 are sample values.</p>

<p>See [SORT-THREAD-EXT] for more details.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L929-L931'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='929' data-end='931'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 929</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_thread'>thread</span>(<span class='id identifier rubyid_algorithm'>algorithm</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_thread_internal'><a href="#thread_internal-instance_method" title="Net::IMAP#thread_internal (method)">thread_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>THREAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_algorithm'>algorithm</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="thread_internal-instance_method">
  <h3 class='signature priv'>
    #<strong>thread_internal</strong>(cmd, algorithm, search_keys, charset)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1478-L1487'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1478' data-end='1487'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1478</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_thread_internal'>thread_internal</span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_algorithm'>algorithm</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_search_keys'>search_keys</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'>String</span>)
    <span class='id identifier rubyid_search_keys'>search_keys</span> <span class='op'>=</span> [<span class='const'><a href="IMAP/RawData.html" title="Net::IMAP::RawData (class)">RawData</a></span>.<span class='id identifier rubyid_new'><a href="IMAP/RawData.html#new-class_method" title="Net::IMAP::RawData.new (method)">new</a></span>(<span class='id identifier rubyid_search_keys'>search_keys</span>)]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_normalize_searching_criteria'><a href="#normalize_searching_criteria-instance_method" title="Net::IMAP#normalize_searching_criteria (method)">normalize_searching_criteria</a></span>(<span class='id identifier rubyid_search_keys'>search_keys</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_normalize_searching_criteria'><a href="#normalize_searching_criteria-instance_method" title="Net::IMAP#normalize_searching_criteria (method)">normalize_searching_criteria</a></span>(<span class='id identifier rubyid_search_keys'>search_keys</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_algorithm'>algorithm</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_search_keys'>search_keys</span>)
  <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>THREAD</span><span class='tstring_end'>&quot;</span></span>)[<span class='op'>-</span><span class='int'>1</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid_copy-instance_method">
  <h3 class='signature '>
    #<strong>uid_copy</strong>(set, mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Similar to #copy(), but <code>set</code> contains unique identifiers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L858-L860'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='858' data-end='860'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 858</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_uid_copy'>uid_copy</span>(<span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_copy_internal'><a href="#copy_internal-instance_method" title="Net::IMAP#copy_internal (method)">copy_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID COPY</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid_fetch-instance_method">
  <h3 class='signature '>
    #<strong>uid_fetch</strong>(set, attr, mod = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Similar to #fetch(), but <code>set</code> contains unique identifiers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L822-L824'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='822' data-end='824'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 822</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_uid_fetch'>uid_fetch</span>(<span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_fetch_internal'><a href="#fetch_internal-instance_method" title="Net::IMAP#fetch_internal (method)">fetch_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID FETCH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_mod'>mod</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid_move-instance_method">
  <h3 class='signature '>
    #<strong>uid_move</strong>(set, mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Similar to #move(), but <code>set</code> contains unique identifiers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L872-L874'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='872' data-end='874'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 872</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_uid_move'>uid_move</span>(<span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_copy_internal'><a href="#copy_internal-instance_method" title="Net::IMAP#copy_internal (method)">copy_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID MOVE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid_search-instance_method">
  <h3 class='signature '>
    #<strong>uid_search</strong>(keys, charset = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Similar to #search(), but returns unique identifiers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L778-L780'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='778' data-end='780'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 778</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_uid_search'>uid_search</span>(<span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_search_internal'><a href="#search_internal-instance_method" title="Net::IMAP#search_internal (method)">search_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID SEARCH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid_sort-instance_method">
  <h3 class='signature '>
    #<strong>uid_sort</strong>(sort_keys, search_keys, charset)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Similar to #sort(), but returns an array of unique identifiers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L890-L892'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='890' data-end='892'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 890</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_uid_sort'>uid_sort</span>(<span class='id identifier rubyid_sort_keys'>sort_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_sort_internal'><a href="#sort_internal-instance_method" title="Net::IMAP#sort_internal (method)">sort_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID SORT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_sort_keys'>sort_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid_store-instance_method">
  <h3 class='signature '>
    #<strong>uid_store</strong>(set, attr, flags)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Similar to #store(), but <code>set</code> contains unique identifiers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L845-L847'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='845' data-end='847'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 845</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_uid_store'>uid_store</span>(<span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_store_internal'><a href="#store_internal-instance_method" title="Net::IMAP#store_internal (method)">store_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID STORE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_set'>set</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uid_thread-instance_method">
  <h3 class='signature '>
    #<strong>uid_thread</strong>(algorithm, search_keys, charset)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Similar to #thread(), but returns unique identifiers instead of message sequence numbers.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L935-L937'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='935' data-end='937'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 935</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_uid_thread'>uid_thread</span>(<span class='id identifier rubyid_algorithm'>algorithm</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_thread_internal'><a href="#thread_internal-instance_method" title="Net::IMAP#thread_internal (method)">thread_internal</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UID THREAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_algorithm'>algorithm</span><span class='comma'>,</span> <span class='id identifier rubyid_search_keys'>search_keys</span><span class='comma'>,</span> <span class='id identifier rubyid_charset'>charset</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unsubscribe-instance_method">
  <h3 class='signature '>
    #<strong>unsubscribe</strong>(mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a UNSUBSCRIBE command to remove the specified <code>mailbox</code> name from the server’s set of “active” or “subscribed” mailboxes.</p>

<p>A <a href="IMAP/NoResponseError.html" title="Net::IMAP::NoResponseError (class)"><code>IMAP::NoResponseError</code></a> is raised if <code>mailbox</code> cannot be unsubscribed from; for instance, because the client is not currently subscribed to it.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L520-L522'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='520' data-end='522'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 520</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unsubscribe'>unsubscribe</span>(<span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UNSUBSCRIBE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate_data-instance_method">
  <h3 class='signature priv'>
    #<strong>validate_data</strong>(data)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L1305-L1324'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1305' data-end='1324'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 1305</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_data'>validate_data</span>(<span class='id identifier rubyid_data'>data</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_data'>data</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
  <span class='kw'>when</span> <span class='const'>String</span>
  <span class='kw'>when</span> <span class='const'>Integer</span>
    <span class='const'><a href="IMAP/NumValidator.html" title="Net::IMAP::NumValidator (module)">NumValidator</a></span>.<span class='id identifier rubyid_ensure_number'><a href="IMAP/NumValidator.html#ensure_number-class_method" title="Net::IMAP::NumValidator.ensure_number (method)">ensure_number</a></span>(<span class='id identifier rubyid_data'>data</span>)
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CHANGEDSINCE</span><span class='tstring_end'>&#39;</span></span>
      <span class='const'><a href="IMAP/NumValidator.html" title="Net::IMAP::NumValidator (module)">NumValidator</a></span>.<span class='id identifier rubyid_ensure_mod_sequence_value'><a href="IMAP/NumValidator.html#ensure_mod_sequence_value-class_method" title="Net::IMAP::NumValidator.ensure_mod_sequence_value (method)">ensure_mod_sequence_value</a></span>(<span class='id identifier rubyid_data'>data</span>[<span class='int'>1</span>])
    <span class='kw'>else</span>
      <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_validate_data'>validate_data</span>(<span class='id identifier rubyid_i'>i</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'>Time</span>
  <span class='kw'>when</span> <span class='const'>Symbol</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_data'>data</span>.<span class='id identifier rubyid_validate'>validate</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="xlist-instance_method">
  <h3 class='signature '>
    #<strong>xlist</strong>(refname, mailbox)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends a XLIST command, and returns a subset of names from the complete set of all names available to the client. <code>refname</code> provides a context (for instance, a base directory in a directory-based mailbox hierarchy).  <code>mailbox</code> specifies a mailbox or (via wildcards) mailboxes under that context. Two wildcards may be used in <code>mailbox</code>: ‘*’, which matches all characters <strong>including</strong> the hierarchy delimiter (for instance, ‘/’ on a UNIX-hosted directory-based mailbox hierarchy); and ‘%’, which matches all characters <strong>except</strong> the hierarchy delimiter.</p>

<p>If <code>refname</code> is empty, <code>mailbox</code> is used directly to determine which mailboxes to match.  If <code>mailbox</code> is empty, the root name of <code>refname</code> and the hierarchy delimiter are returned.</p>

<p>The XLIST command is like the LIST command except that the flags returned refer to the function of the folder/mailbox, e.g. <code>:Sent</code></p>

<p>The return value is an array of <a href="IMAP/MailboxList.html" title="Net::IMAP::MailboxList (class)"><code>IMAP::MailboxList</code></a>. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_create'><a href="#create-instance_method" title="Net::IMAP#create (method)">create</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo/bar</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_create'><a href="#create-instance_method" title="Net::IMAP#create (method)">create</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo/baz</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_imap'>imap</span>.<span class='id identifier rubyid_xlist'>xlist</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo/%</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; [#&lt;Net::IMAP::MailboxList attr=[:Noselect], delim=&quot;/&quot;, name=&quot;foo/&quot;&gt;, \\
</span>     <span class='comment'>#&lt;Net::IMAP::MailboxList attr=[:Noinferiors, :Marked], delim=&quot;/&quot;, name=&quot;foo/bar&quot;&gt;, \\
</span>     <span class='comment'>#&lt;Net::IMAP::MailboxList attr=[:Noinferiors], delim=&quot;/&quot;, name=&quot;foo/baz&quot;&gt;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_7_8/lib/net/imap.rb#L578-L583'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='578' data-end='583'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/imap.rb', line 578</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_xlist'>xlist</span>(<span class='id identifier rubyid_refname'>refname</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_send_command'><a href="#send_command-instance_method" title="Net::IMAP#send_command (method)">send_command</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XLIST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_refname'>refname</span><span class='comma'>,</span> <span class='id identifier rubyid_mailbox'>mailbox</span>)
    <span class='kw'>return</span> <span class='ivar'>@responses</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Net::IMAP#delete (method)">delete</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XLIST</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>