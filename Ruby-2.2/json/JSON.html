<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: JSON &mdash; json Ruby-2.2.6 p344</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "JSON",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.2.6</a> &raquo; 
          <a href='index.html'>json</a> &raquo; 
          <a href='_index.html'>Index (J)</a> &raquo; 
          <span class='title'>JSON</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: JSON</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>

  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <a href="JSON/Ext.html" title="JSON::Ext (module)">Ext</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <a href="JSON/GenericObject.html" title="JSON::GenericObject (class)">GenericObject</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Exceptions:</td>
    <td>
      <a href="JSON/CircularDatastructure.html" title="JSON::CircularDatastructure (class)">CircularDatastructure</a>,
    <a href="JSON/GeneratorError.html" title="JSON::GeneratorError (class)">GeneratorError</a>,
    <a href="JSON/JSONError.html" title="JSON::JSONError (class)">JSONError</a>,
    <a href="JSON/MissingUnicodeSupport.html" title="JSON::MissingUnicodeSupport (class)">MissingUnicodeSupport</a>,
    <a href="JSON/NestingError.html" title="JSON::NestingError (class)">NestingError</a>,
    <a href="JSON/ParserError.html" title="JSON::ParserError (class)">ParserError</a>
    </td>
  </tr>




  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
json/generator/generator.c<span class='defines'>,<br />json/lib/json.rb,<br /> json/lib/json/common.rb,<br /> json/lib/json/ext.rb,<br /> json/lib/json/generic_object.rb,<br /> json/lib/json/version.rb,<br /> json/parser/parser.c</span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<h2 id="label-JavaScript+Object+Notation+-28JSON-29">JavaScript Object Notation (JSON)</h2>

<p>JSON is a lightweight data-interchange format. It is easy for us humans to
read and write. Plus, equally simple for machines to generate or parse.
JSON is completely language agnostic, making it the ideal interchange
format.</p>

<p>Built on two universally available structures:</p>

<pre class="code ruby"><code class="ruby">1. A collection of name/value pairs. Often referred to as an _object_, hash table, record, struct, keyed list, or associative array.
2. An ordered list of values. More commonly called an _array_, vector, sequence or list.</code></pre>

<p>To read more about JSON visit: <a href="http://json.org">json.org</a></p>

<h3 id="label-Parsing+JSON">Parsing JSON</h3>

<p>To parse a JSON string received by another application or generated within
your existing application:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>json</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_my_hash'>my_hash</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>{&quot;hello&quot;: &quot;goodbye&quot;}</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_my_hash'>my_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>goodbye</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>Notice the extra quotes <code>&#39;&#39;</code> around the hash notation.
Ruby expects the argument to be a string and can&#39;t convert objects like
a hash or array.</p>

<p>Ruby converts your string into a hash</p>

<h3 id="label-Generating+JSON">Generating JSON</h3>

<p>Creating a JSON string for communication or serialization is just as
simple.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>json</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_my_hash'>my_hash</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:hello</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>goodbye</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_my_hash'>my_hash</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{\&quot;hello\&quot;:\&quot;goodbye\&quot;}</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>Or an alternative way:</p>

<pre class="code ruby"><code class="ruby">require &#39;json&#39;
puts {:hello =&gt; &quot;goodbye&quot;}.to_json =&gt; &quot;{\&quot;hello\&quot;:\&quot;goodbye\&quot;}&quot;</code></pre>

<p><code>JSON.generate</code> only allows objects or arrays to be converted to
JSON syntax. <code>to_json</code>, however, accepts many Ruby classes even
though it acts only as a method for serialization:</p>

<pre class="code ruby"><code class="ruby">require &#39;json&#39;

1.to_json =&gt; &quot;1&quot;</code></pre>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='Infinity-constant'>
      Infinity =
    </dt>
    <dd>
            <pre class='code'><span class='float'>1.0</span><span class='op'>/</span><span class='int'>0</span></pre>
    </dd>
    <dt id='JSON_LOADED-constant'>
      JSON_LOADED =
    </dt>
    <dd>
            <pre class='code'><span class='kw'>true</span></pre>
    </dd>
    <dt id='MinusInfinity-constant'>
      MinusInfinity =
    </dt>
    <dd>
            <pre class='code'><span class='op'>-</span><span class='const'>Infinity</span></pre>
    </dd>
    <dt id='NaN-constant'>
      NaN =
    </dt>
    <dd>
            <pre class='code'><span class='float'>0.0</span><span class='op'>/</span><span class='int'>0</span></pre>
    </dd>
    <dt id='UnparserError-constant'>
      UnparserError =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>For backwards compatibility</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='const'>GeneratorError</span></pre>
    </dd>
    <dt id='VERSION-constant'>
      VERSION =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>JSON version</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.8.1</span><span class='tstring_end'>&#39;</span></span></pre>
    </dd>
    <dt id='VERSION_ARRAY-constant'>
      VERSION_ARRAY =
    </dt>
    <dd>
            <pre class='code'><span class='const'>VERSION</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='rbrace'>}</span></pre>
    </dd>
    <dt id='VERSION_BUILD-constant'>
      VERSION_BUILD =
    </dt>
    <dd>
            <pre class='code'><span class='const'>VERSION_ARRAY</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='VERSION_MAJOR-constant'>
      VERSION_MAJOR =
    </dt>
    <dd>
            <pre class='code'><span class='const'>VERSION_ARRAY</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='VERSION_MINOR-constant'>
      VERSION_MINOR =
    </dt>
    <dd>
            <pre class='code'><span class='const'>VERSION_ARRAY</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span></pre>
    </dd>
  </dl>



<h2>Class Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#create_id-class_method" title=".create_id (class method)">.<strong>create_id</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>This is create identifier, which is used to decide if the
<em>json_create</em> hook of a class should be called.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dump_default_options-class_method" title=".dump_default_options (class method)">.<strong>dump_default_options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The global default options for the <a href="#dump-class_method" title="JSON.dump (method)">JSON.dump</a> method:</p>

<pre class="code ruby"><code class="ruby">:max_nesting: false
:allow_nan:   true
:quirks_mode: true</code></pre>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generator-class_method" title=".generator (class method)">.<strong>generator</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the JSON generator module that is used by JSON.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generator%3D-class_method" title=".generator= (class method)">.<strong>generator=</strong>(generator)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Set the module <em>generator</em> to be used by JSON.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_default_options-class_method" title=".load_default_options (class method)">.<strong>load_default_options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The global default options for the <a href="#load-class_method" title="JSON.load (method)">JSON.load</a> method:</p>

<pre class="code ruby"><code class="ruby">:max_nesting: false
:allow_nan:   true
:quirks_mode: true</code></pre>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser-class_method" title=".parser (class method)">.<strong>parser</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the JSON parser class that is used by JSON.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser%3D-class_method" title=".parser= (class method)">.<strong>parser=</strong>(parser)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Set the JSON parser class <em>parser</em> to be used by JSON.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#state-class_method" title=".state (class method)">.<strong>state</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the JSON generator state class that is used by JSON.</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D-class_method" title=".[] (class method)">.<strong>[]</strong>(object, opts = {})  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>If <em>object</em> is string-like, parse the string and return the parsed
result as a Ruby data structure.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#const_defined_in%3F-class_method" title=".const_defined_in? (class method)">.<strong>const_defined_in?</strong>(modul, constant)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deep_const_get-class_method" title=".deep_const_get (class method)">.<strong>deep_const_get</strong>(path)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return the constant located at <em>path</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dump-class_method" title=".dump (class method)">.<strong>dump</strong>(obj, anIO = nil, limit = nil)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Dumps <em>obj</em> as a JSON string, i.e. calls generate on the object and
returns the result.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fast_generate-class_method" title=".fast_generate (class method)">.<strong>fast_generate</strong>(obj, opts = nil)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generate a JSON document from the Ruby data structure <em>obj</em> and
return it.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fast_unparse-class_method" title=".fast_unparse (class method)">.<strong>fast_unparse</strong>  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>:stopdoc: I want to deprecate these later, so I&#39;ll first be silent
about them, and later delete them.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate-class_method" title=".generate (class method)">.<strong>generate</strong>(obj, opts = nil)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generate a JSON document from the Ruby data structure <em>obj</em> and
return it.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#iconv-class_method" title=".iconv (class method)">.<strong>iconv</strong>(to, from, string)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Encodes string using Ruby&#39;s <em>String.encode</em></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load-class_method" title=".load (class method)">.<strong>load</strong>(source, proc = nil, options = {})  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Load a ruby data structure from a JSON <em>source</em> and return it.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse-class_method" title=".parse (class method)">.<strong>parse</strong>(source, opts = {})  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parse the JSON document <em>source</em> into a Ruby data structure and
return it.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse%21-class_method" title=".parse! (class method)">.<strong>parse!</strong>(source, opts = {})  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parse the JSON document <em>source</em> into a Ruby data structure and
return it.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pretty_generate-class_method" title=".pretty_generate (class method)">.<strong>pretty_generate</strong>(obj, opts = nil)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generate a JSON document from the Ruby data structure <em>obj</em> and
return it.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pretty_unparse-class_method" title=".pretty_unparse (class method)">.<strong>pretty_unparse</strong>  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>:stopdoc: I want to deprecate these later, so I&#39;ll first be silent
about them, and later delete them.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#recurse_proc-class_method" title=".recurse_proc (class method)">.<strong>recurse_proc</strong>(result, &amp;proc)  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Recursively calls passed <em>Proc</em> if the parsed data structure is an
<em>Array</em> or <em>Hash</em></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#restore-class_method" title=".restore (class method)">.<strong>restore</strong>  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#swap%21-class_method" title=".swap! (class method)">.<strong>swap!</strong>(string)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Swap consecutive bytes of <em>string</em> in place.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unparse-class_method" title=".unparse (class method)">.<strong>unparse</strong>  </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>:stopdoc: I want to deprecate these later, so I&#39;ll first be silent
about them, and later delete them.</p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Class Attribute Details</h2>
  <section class='method_details first' id="create_id-class_method">
  <h3 class='signature first'>
  .<strong>create_id</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This is create identifier, which is used to decide if the
<em>json_create</em> hook of a class should be called. It defaults to
&#39;json_class&#39;.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


95</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 95</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:create_id</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dump_default_options-class_method">
  <h3 class='signature'>
  .<strong>dump_default_options</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The global default options for the <a href="#dump-class_method" title="JSON.dump (method)">dump</a> method:</p>

<pre class="code ruby"><code class="ruby">:max_nesting: false
:allow_nan:   true
:quirks_mode: true</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


361</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 361</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:dump_default_options</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generator-class_method">
  <h3 class='signature'>
  .<strong>generator</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the JSON generator module that is used by JSON. This is either
<a href="JSON/Ext/Generator.html" title="JSON::Ext::Generator (module)">JSON::Ext::Generator</a> or <code>JSON::Pure::Generator</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


87</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 87</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:generator</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generator=-class_method">
  <h3 class='signature'>
  .<strong>generator=</strong>(generator)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the module <em>generator</em> to be used by JSON.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 51</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generator='>generator=</span><span class='lparen'>(</span><span class='id identifier rubyid_generator'>generator</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_old'>old</span><span class='comma'>,</span> <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='gvar'>$VERBOSE</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='ivar'>@generator</span> <span class='op'>=</span> <span class='id identifier rubyid_generator'>generator</span>
  <span class='id identifier rubyid_generator_methods'>generator_methods</span> <span class='op'>=</span> <span class='id identifier rubyid_generator'>generator</span><span class='op'>::</span><span class='const'>GeneratorMethods</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_const'>const</span> <span class='kw'>in</span> <span class='id identifier rubyid_generator_methods'>generator_methods</span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span>
    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_deep_const_get'>deep_const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_const'>const</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_modul'>modul</span> <span class='op'>=</span> <span class='id identifier rubyid_generator_methods'>generator_methods</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_const'>const</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_class_eval'>class_eval</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_instance_methods'>instance_methods</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
        <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>to_json</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>and</span> <span class='id identifier rubyid_remove_method'>remove_method</span> <span class='id identifier rubyid_m'>m</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_include'>include</span> <span class='id identifier rubyid_modul'>modul</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='id identifier rubyid_generator'>generator</span><span class='op'>::</span><span class='const'>State</span>
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbol'>:State</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span>
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbol'>:SAFE_STATE_PROTOTYPE</span><span class='comma'>,</span> <span class='const'>State</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbol'>:FAST_STATE_PROTOTYPE</span><span class='comma'>,</span> <span class='const'>State</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
    <span class='symbol'>:indent</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:space</span>          <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:object_nl</span>      <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='symbol'>:array_nl</span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='symbol'>:max_nesting</span>    <span class='op'>=&gt;</span> <span class='kw'>false</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbol'>:PRETTY_STATE_PROTOTYPE</span><span class='comma'>,</span> <span class='const'>State</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
    <span class='symbol'>:indent</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>  </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:space</span>          <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:object_nl</span>      <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='symbol'>:array_nl</span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='rparen'>)</span>
<span class='kw'>ensure</span>
  <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_default_options-class_method">
  <h3 class='signature'>
  .<strong>load_default_options</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The global default options for the <a href="#load-class_method" title="JSON.load (method)">load</a> method:</p>

<pre class="code ruby"><code class="ruby">:max_nesting: false
:allow_nan:   true
:quirks_mode: true</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


299</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 299</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:load_default_options</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser-class_method">
  <h3 class='signature'>
  .<strong>parser</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the JSON parser class that is used by JSON. This is either
<a href="JSON/Ext/Parser.html" title="JSON::Ext::Parser (class)">JSON::Ext::Parser</a> or <code>JSON::Pure::Parser</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


22</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 22</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:parser</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser=-class_method">
  <h3 class='signature'>
  .<strong>parser=</strong>(parser)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the JSON parser class <em>parser</em> to be used by JSON.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


25
26
27
28
29</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser='>parser=</span><span class='lparen'>(</span><span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@parser</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span>
  <span class='id identifier rubyid_remove_const'>remove_const</span> <span class='symbol'>:Parser</span> <span class='kw'>if</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_const_defined_in?'>const_defined_in?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='symbol'>:Parser</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_const_set'>const_set</span> <span class='symbol'>:Parser</span><span class='comma'>,</span> <span class='id identifier rubyid_parser'>parser</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="state-class_method">
  <h3 class='signature'>
  .<strong>state</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the JSON generator state class that is used by JSON. This is either
<a href="JSON/Ext/Generator/State.html" title="JSON::Ext::Generator::State (class)">JSON::Ext::Generator::State</a> or <code>JSON::Pure::Generator::State</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


91</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 91</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:state</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="[]-class_method">
  <h3 class='signature first'>
  .<strong>[]</strong>(object, opts = {})  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>If <em>object</em> is string-like, parse the string and return the parsed
result as a Ruby data structure. Otherwise generate a JSON text from the
Ruby data structure object and return it.</p>

<p>The <em>opts</em> argument is passed through to generate/parse
respectively. See generate and parse for their documentation.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


12
13
14
15
16
17
18</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 12</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_str</span>
    <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="const_defined_in?-class_method">
  <h3 class='signature'>
  .<strong>const_defined_in?</strong>(modul, constant)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


429
430
431</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 429</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_const_defined_in?'>const_defined_in?</span><span class='lparen'>(</span><span class='id identifier rubyid_modul'>modul</span><span class='comma'>,</span> <span class='id identifier rubyid_constant'>constant</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_modul'>modul</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_constant'>constant</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deep_const_get-class_method">
  <h3 class='signature'>
  .<strong>deep_const_get</strong>(path)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the constant located at <em>path</em>. The format of <em>path</em>
has to be either ::A::B::C or A::B::C. In any case, A has to be located at
the top level (absolute namespace path?). If there doesn&#39;t exist a
constant at the given path, an ArgumentError is raised.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deep_const_get'>deep_const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>::</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='const'>Object</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='kw'>case</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>                     <span class='kw'>then</span> <span class='id identifier rubyid_p'>p</span>
    <span class='kw'>when</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_const_defined_in?'>const_defined_in?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_const_missing'>const_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'>NameError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t get const </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dump-class_method">
  <h3 class='signature'>
  .<strong>dump</strong>(obj, anIO = nil, limit = nil)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Dumps <em>obj</em> as a JSON string, i.e. calls generate on the object and
returns the result.</p>

<p>If anIO (an IO-like object or an object that responds to the write method)
was given, the resulting JSON is written to it.</p>

<p>If the number of nested arrays or objects exceeds <em>limit</em>, an
ArgumentError exception is raised. This argument is similar (but not
exactly the same!) to the <em>limit</em> argument in <code>Marshal.dump</code>.</p>

<p>The default options for the generator can be changed via the
dump_default_options method.</p>

<p>This method is part of the implementation of the load/dump interface of
Marshal and YAML.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 384</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_anIO'>anIO</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_anIO'>anIO</span> <span class='kw'>and</span> <span class='id identifier rubyid_limit'>limit</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_anIO'>anIO</span> <span class='op'>=</span> <span class='id identifier rubyid_anIO'>anIO</span><span class='period'>.</span><span class='id identifier rubyid_to_io'>to_io</span> <span class='kw'>if</span> <span class='id identifier rubyid_anIO'>anIO</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_io</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_anIO'>anIO</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:write</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='id identifier rubyid_anIO'>anIO</span>
      <span class='id identifier rubyid_anIO'>anIO</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_dump_default_options'>dump_default_options</span>
  <span class='id identifier rubyid_limit'>limit</span> <span class='kw'>and</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='symbol'>:max_nesting</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_limit'>limit</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_anIO'>anIO</span>
    <span class='id identifier rubyid_anIO'>anIO</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_result'>result</span>
    <span class='id identifier rubyid_anIO'>anIO</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>JSON</span><span class='op'>::</span><span class='const'>NestingError</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>exceed depth limit</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="fast_generate-class_method">
  <h3 class='signature'>
  .<strong>fast_generate</strong>(obj, opts = nil)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generate a JSON document from the Ruby data structure <em>obj</em> and
return it. This method disables the checks for circles in Ruby objects.</p>

<p><strong>WARNING</strong>: Be careful not to pass any Ruby data structures
with circles as <em>obj</em> argument because this will cause JSON to go
into an infinite loop.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fast_generate'>fast_generate</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>State</span> <span class='op'>===</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='id identifier rubyid_state'>state</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='const'>FAST_STATE_PROTOTYPE</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_hash</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_h</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t convert </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> into Hash</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="fast_unparse-class_method">
  <h3 class='signature'>
  .<strong>fast_unparse</strong>   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:stopdoc: I want to deprecate these later, so I&#39;ll first be silent
about them, and later delete them.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


259</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 259</span>

<span class='kw'>alias</span> <span class='id identifier rubyid_fast_unparse'>fast_unparse</span> <span class='id identifier rubyid_fast_generate'>fast_generate</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate-class_method">
  <h3 class='signature'>
  .<strong>generate</strong>(obj, opts = nil)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generate a JSON document from the Ruby data structure <em>obj</em> and
return it. <em>state</em> is * a State object,</p>
<ul><li>
<p>or a Hash like object (responding to to_hash),</p>
</li><li>
<p>an object convertible into a hash by a to_h method,</p>
</li></ul>

<p>that is used as or to configure a State object.</p>

<p>It defaults to a state object, that creates the shortest possible JSON text
in one line, checks for circular data structures and doesn&#39;t allow NaN,
Infinity, and -Infinity.</p>

<p>A <em>state</em> hash can have the following keys:</p>
<ul><li>
<p><strong>indent</strong>: a string used to indent levels (default:
&#39;&#39;),</p>
</li><li>
<p><strong>space</strong>: a string that is put after, a : or , delimiter
(default: &#39;&#39;),</p>
</li><li>
<p><strong>space_before</strong>: a string that is put before a : pair
delimiter (default: &#39;&#39;),</p>
</li><li>
<p><strong>object_nl</strong>: a string that is put at the end of a JSON
object (default: &#39;&#39;),</p>
</li><li>
<p><strong>array_nl</strong>: a string that is put at the end of a JSON array
(default: &#39;&#39;),</p>
</li><li>
<p><strong>allow_nan</strong>: true if NaN, Infinity, and -Infinity should be
generated, otherwise an exception is thrown if these values are
encountered. This options defaults to false.</p>
</li><li>
<p><strong>max_nesting</strong>: The maximum depth of nesting allowed in the
data structures from which JSON is to be generated. Disable depth checking
with :max_nesting =&gt; false, it defaults to 100.</p>
</li></ul>

<p>See also the fast_generate for the fastest creation method with the least
amount of sanity checks, and the pretty_generate method for some defaults
for pretty output.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 207</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>State</span> <span class='op'>===</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='id identifier rubyid_state'>state</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='const'>SAFE_STATE_PROTOTYPE</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_hash</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_h</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t convert </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> into Hash</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="iconv-class_method">
  <h3 class='signature'>
  .<strong>iconv</strong>(to, from, string)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Encodes string using Ruby&#39;s <em>String.encode</em></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


417
418
419</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 417</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_iconv'>iconv</span><span class='lparen'>(</span><span class='id identifier rubyid_to'>to</span><span class='comma'>,</span> <span class='id identifier rubyid_from'>from</span><span class='comma'>,</span> <span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_encode'>encode</span><span class='lparen'>(</span><span class='id identifier rubyid_to'>to</span><span class='comma'>,</span> <span class='id identifier rubyid_from'>from</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load-class_method">
  <h3 class='signature'>
  .<strong>load</strong>(source, proc = nil, options = {})   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Load a ruby data structure from a JSON <em>source</em> and return it. A
source can either be a string-like object, an IO-like object, or an object
responding to the read method. If <em>proc</em> was given, it will be
called with any nested Ruby object as an argument recursively in depth
first order. To modify the default options pass in the optional
<em>options</em> argument as well.</p>

<p>BEWARE: This method is meant to serialise data from trusted user input,
like from your own database server or clients under your control, it could
be dangerous to allow untrusted users to pass JSON sources into it. The
default options for the parser can be changed via the load_default_options
method.</p>

<p>This method is part of the implementation of the load/dump interface of
Marshal and YAML.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 322</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_proc'>proc</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_load_default_options'>load_default_options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_str</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_to_str'>to_str</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_io</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_to_io'>to_io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:read</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:quirks_mode</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>null</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_recurse_proc'>recurse_proc</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_proc'>proc</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse-class_method">
  <h3 class='signature'>
  .<strong>parse</strong>(source, opts = {})   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parse the JSON document <em>source</em> into a Ruby data structure and
return it.</p>

<p><em>opts</em> can have the following keys:</p>
<ul><li>
<p><strong>max_nesting</strong>: The maximum depth of nesting allowed in the
parsed data structures. Disable depth checking with :max_nesting =&gt;
false. It defaults to 100.</p>
</li><li>
<p><strong>allow_nan</strong>: If set to true, allow NaN, Infinity and
-Infinity in defiance of RFC 4627 to be parsed by the Parser. This option
defaults to false.</p>
</li><li>
<p><strong>symbolize_names</strong>: If set to true, returns symbols for the
names (keys) in a JSON object. Otherwise strings are returned. Strings are
the default.</p>
</li><li>
<p><strong>create_additions</strong>: If set to false, the Parser doesn&#39;t
create additions even if a matching class and create_id was found. This
option defaults to true.</p>
</li><li>
<p><strong>object_class</strong>: Defaults to Hash</p>
</li><li>
<p><strong>array_class</strong>: Defaults to Array</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


154
155
156</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse!-class_method">
  <h3 class='signature'>
  .<strong>parse!</strong>(source, opts = {})   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parse the JSON document <em>source</em> into a Ruby data structure and
return it. The bang version of the parse method defaults to the more
dangerous values for the <em>opts</em> hash, so be sure only to parse
trusted <em>source</em> documents.</p>

<p><em>opts</em> can have the following keys:</p>
<ul><li>
<p><strong>max_nesting</strong>: The maximum depth of nesting allowed in the
parsed data structures. Enable depth checking with :max_nesting =&gt;
anInteger. The parse! methods defaults to not doing max depth checking:
This can be dangerous if someone wants to fill up your stack.</p>
</li><li>
<p><strong>allow_nan</strong>: If set to true, allow NaN, Infinity, and
-Infinity in defiance of RFC 4627 to be parsed by the Parser. This option
defaults to true.</p>
</li><li>
<p><strong>create_additions</strong>: If set to false, the Parser doesn&#39;t
create additions even if a matching class and create_id was found. This
option defaults to true.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


173
174
175
176
177
178
179</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse!'>parse!</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:max_nesting</span>  <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbol'>:allow_nan</span>    <span class='op'>=&gt;</span> <span class='kw'>true</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pretty_generate-class_method">
  <h3 class='signature'>
  .<strong>pretty_generate</strong>(obj, opts = nil)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generate a JSON document from the Ruby data structure <em>obj</em> and
return it. The returned document is a prettier form of the document
returned by <a href="#unparse-instance_method" title="JSON#unparse (method)">#unparse</a>.</p>

<p>The <em>opts</em> argument can be used to configure the generator. See the
generate method for a more detailed explanation.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 269</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pretty_generate'>pretty_generate</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>State</span> <span class='op'>===</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='id identifier rubyid_state'>state</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='const'>PRETTY_STATE_PROTOTYPE</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_hash</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_h</span>
      <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t convert </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> into Hash</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pretty_unparse-class_method">
  <h3 class='signature'>
  .<strong>pretty_unparse</strong>   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:stopdoc: I want to deprecate these later, so I&#39;ll first be silent
about them, and later delete them.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


290</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 290</span>

<span class='kw'>alias</span> <span class='id identifier rubyid_pretty_unparse'>pretty_unparse</span> <span class='id identifier rubyid_pretty_generate'>pretty_generate</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="recurse_proc-class_method">
  <h3 class='signature'>
  .<strong>recurse_proc</strong>(result, &amp;proc)   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Recursively calls passed <em>Proc</em> if the parsed data structure is an
<em>Array</em> or <em>Hash</em></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


340
341
342
343
344
345
346
347
348
349
350
351</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 340</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recurse_proc'>recurse_proc</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_recurse_proc'>recurse_proc</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_proc'>proc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_recurse_proc'>recurse_proc</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span><span class='semicolon'>;</span> <span class='id identifier rubyid_recurse_proc'>recurse_proc</span> <span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_proc'>proc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_proc'>proc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="restore-class_method">
  <h3 class='signature'>
  .<strong>restore</strong>   <span class="extras">(mod_func)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


353</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 353</span>

<span class='kw'>alias</span> <span class='id identifier rubyid_restore'>restore</span> <span class='id identifier rubyid_load'>load</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="swap!-class_method">
  <h3 class='signature'>
  .<strong>swap!</strong>(string)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Swap consecutive bytes of <em>string</em> in place.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


406
407
408
409
410
411
412</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 406</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_swap!'>swap!</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='int'>0</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>/</span> <span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span><span class='lbracket'>[</span><span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_string'>string</span><span class='lbracket'>[</span><span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_string'>string</span><span class='lbracket'>[</span><span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span><span class='lbracket'>[</span><span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_string'>string</span><span class='lbracket'>[</span><span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_string'>string</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="unparse-class_method">
  <h3 class='signature'>
  .<strong>unparse</strong>   <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:stopdoc: I want to deprecate these later, so I&#39;ll first be silent
about them, and later delete them.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


229</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'json/lib/json/common.rb', line 229</span>

<span class='kw'>alias</span> <span class='id identifier rubyid_unparse'>unparse</span> <span class='id identifier rubyid_generate'>generate</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>