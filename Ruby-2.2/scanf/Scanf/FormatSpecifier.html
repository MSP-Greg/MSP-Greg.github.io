<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Scanf::FormatSpecifier &mdash; scanf Ruby-2.2.6 p342</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Scanf::FormatSpecifier",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.2.6</a> &raquo; 
          <a href='../index.html'>scanf</a> &raquo; 
          <a href='../_index.html'>Index (F)</a> &raquo; 
        #  <a href="../Scanf.html" title="Scanf (module)">Scanf</a> &raquo; 
          <span class='title'>FormatSpecifier</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Scanf::FormatSpecifier</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'>Object</span>
        <ul class='fullTree'>
          <li>Object</li>
            <li class='next'>Scanf::FormatSpecifier</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>



  <dl>
    <dt>Defined in:</dt>
    <dd>scanf.rb</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<h2 id="label-Technical+notes">Technical notes</h2>

<h3 id="label-Rationale+behind+scanf+for+Ruby">Rationale behind scanf for Ruby</h3>

<p>The impetus for a scanf implementation in Ruby comes chiefly from the fact
that existing pattern matching operations, such as <code>Regexp#match</code> and
<code>String#scan</code>, return all results as strings, which have to be converted to
integers or floats explicitly in cases where what&#39;s ultimately wanted
are integer or float values.</p>

<h3 id="label-Design+of+scanf+for+Ruby">Design of scanf for Ruby</h3>

<p>scanf for Ruby is essentially a &lt;format string&gt;-to-&lt;regular
expression&gt; converter.</p>

<p>When scanf is called, a FormatString object is generated from the format
string (“%d%s…”) argument. The FormatString object breaks the format string
down into atoms (“%d”, “%5f”, “blah”, etc.), and from each atom it creates
a FormatSpecifier object, which it saves.</p>

<p>Each FormatSpecifier has a regular expression fragment and a “handler”
associated with it. For example, the regular expression fragment associated
with the format “%d” is “([-<code>]?\d</code>)”, and the handler associated
with it is a wrapper around <code>String#to_i</code>. scanf itself calls
<a href="FormatString.html#match-instance_method" title="Scanf::FormatString#match (method)">Scanf::FormatString#match</a>, passing in the input string. <a href="FormatString.html#match-instance_method" title="Scanf::FormatString#match (method)">Scanf::FormatString#match</a>
iterates through its FormatSpecifiers; for each one, it matches the
corresponding regular expression fragment against the string. If
there&#39;s a match, it sends the matched string to the handler associated
with the FormatSpecifier.</p>

<p>Thus, to follow up the “%d” example: if “123” occurs in the input string
when a FormatSpecifier consisting of “%d” is reached, the “123” will be
matched against “([-<code>]?\d</code>)”, and the matched string will be
rendered into an integer by a call to to_i.</p>

<p>The rendered match is then saved to an accumulator array, and the input
string is reduced to the post-match substring. Thus the string is “eaten”
from the left as the FormatSpecifiers are applied in sequence.  (This is
done to a duplicate string; the original string is not altered.)</p>

<p>As soon as a regular expression fragment fails to match the string, or when
the FormatString object runs out of FormatSpecifiers, scanning stops and
results accumulated so far are returned in an array.</p>


  </div>
</div>
<div class="tags">
  
</div>


<h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#conversion-instance_method" title="#conversion (instance method)">#<strong>conversion</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#matched-instance_method" title="#matched (instance method)">#<strong>matched</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#matched_string-instance_method" title="#matched_string (instance method)">#<strong>matched_string</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#re_string-instance_method" title="#re_string (instance method)">#<strong>re_string</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(str)  &#x21d2; FormatSpecifier </a>
      </span>
      <span class='note title constructor'>constructor</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>A new instance of FormatSpecifier</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#count_space%3F-instance_method" title="#count_space? (instance method)">#<strong>count_space?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_decimal-instance_method" title="#extract_decimal (instance method)">#<strong>extract_decimal</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_float-instance_method" title="#extract_float (instance method)">#<strong>extract_float</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_hex-instance_method" title="#extract_hex (instance method)">#<strong>extract_hex</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_integer-instance_method" title="#extract_integer (instance method)">#<strong>extract_integer</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_octal-instance_method" title="#extract_octal (instance method)">#<strong>extract_octal</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_plain-instance_method" title="#extract_plain (instance method)">#<strong>extract_plain</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#letter-instance_method" title="#letter (instance method)">#<strong>letter</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#match-instance_method" title="#match (instance method)">#<strong>match</strong>(str)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mid_match%3F-instance_method" title="#mid_match? (instance method)">#<strong>mid_match?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#nil_proc-instance_method" title="#nil_proc (instance method)">#<strong>nil_proc</strong>(s)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#skip-instance_method" title="#skip (instance method)">#<strong>skip</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_re-instance_method" title="#to_re (instance method)">#<strong>to_re</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#width-instance_method" title="#width (instance method)">#<strong>width</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>

<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(str)  &#x21d2; <tt><a href="" title="Scanf::FormatSpecifier (class)">FormatSpecifier</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 331</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
      <span class='ivar'>@spec_string</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span>
      <span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[A-Fa-f0-9]</span><span class='tstring_end'>&#39;</span></span>

      <span class='ivar'>@re_string</span><span class='comma'>,</span> <span class='ivar'>@handler</span> <span class='op'>=</span>
        <span class='kw'>case</span> <span class='ivar'>@spec_string</span>

          <span class='comment'># %[[:...:]]
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\[\[:[a-z]+:\]\])</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>+)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %5[[:...:]]
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d)(\[\[:[a-z]:\]\])</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='backref'>$2</span><span class='embexpr_end'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %[...]
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?\[([^\]]*)\]</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_yes'>yes</span> <span class='op'>=</span> <span class='backref'>$1</span>
          <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\^</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_yes'>yes</span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='id identifier rubyid_no'>no</span> <span class='op'>=</span> <span class='id identifier rubyid_yes'>yes</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>else</span> <span class='id identifier rubyid_no'>no</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>^</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_yes'>yes</span> <span class='kw'>end</span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_yes'>yes</span><span class='embexpr_end'>}</span><span class='tstring_content'>]+)(?=[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_no'>no</span><span class='embexpr_end'>}</span><span class='tstring_content'>]|\\z)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %5[...]
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)\[([^\]]*)\]</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_yes'>yes</span> <span class='op'>=</span> <span class='backref'>$2</span>
          <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='backref'>$1</span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_yes'>yes</span><span class='embexpr_end'>}</span><span class='tstring_content'>]{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_w'>w</span><span class='embexpr_end'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %i
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?i</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([-]?(?:(?:0[0-7])|(?:0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='embexpr_end'>}</span><span class='tstring_content'>+)|(?:[1-9]\\d*)))</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_integer</span> <span class='rbracket'>]</span>

          <span class='comment'># %5i
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)i</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
          <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[1-9]\\d{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0[0-7]{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]0[0-7]{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>2</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+][1-9]\\d{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>2</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='embexpr_end'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>2</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>3</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='embexpr_end'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>3</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\d</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
          <span class='lbracket'>[</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='symbol'>:extract_integer</span> <span class='rbracket'>]</span>

          <span class='comment'># %d, %u
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?[du]</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>([-]?\d)</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_decimal</span> <span class='rbracket'>]</span>

          <span class='comment'># %5d, %5u
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)[du]</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
          <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]\\d{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\d{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span>
          <span class='lbracket'>[</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='symbol'>:extract_decimal</span> <span class='rbracket'>]</span>

          <span class='comment'># %x
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?[Xx]</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([-]?(?:0[Xx])?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_hex</span> <span class='rbracket'>]</span>

          <span class='comment'># %5x
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)[Xx]</span><span class='regexp_end'>/</span></span>
          <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
          <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>3</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='embexpr_end'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>3</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='embexpr_end'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>2</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='embexpr_end'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='op'>-</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
          <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='embexpr_end'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='embexpr_end'>}</span><span class='tstring_content'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
          <span class='lbracket'>[</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='symbol'>:extract_hex</span> <span class='rbracket'>]</span>

          <span class='comment'># %o
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?o</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>([-]?[0-7])</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_octal</span> <span class='rbracket'>]</span>

          <span class='comment'># %5o
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)o</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([-+][0-7]{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='op'>-</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'>}|[0-7]{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_octal</span> <span class='rbracket'>]</span>

          <span class='comment'># %f
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?[aefgAEFG]</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>([-]?(?:0[xX](?:\.\h|\h(?:\.\h*)?)[pP][-]\d|\d(?![\d.])|\d*\.\d*(?:[eE][-]?\d)?))</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_float</span> <span class='rbracket'>]</span>

          <span class='comment'># %5f
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)[aefgAEFG]</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(?=[-]?(?:0[xX](?:\.\h|\h(?:\.\h*)?)[pP][-]\d|\d(?![\d.])|\d*\.\d*(?:[eE][-]?\d)?))</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(\\S{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_float</span> <span class='rbracket'>]</span>

          <span class='comment'># %5s
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)s</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(\\S{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %s
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?s</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(\S+)</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %c
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s%\*?c</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\s*(.)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %c
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?c</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(.)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %5c (whitespace issues are handled by the count_*_space? methods)
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)c</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(.{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

          <span class='comment'># %%
</span>        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%%</span><span class='regexp_end'>/</span></span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(\s*%)</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:nil_proc</span> <span class='rbracket'>]</span>

          <span class='comment'># literal characters
</span>        <span class='kw'>else</span>
          <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@spec_string</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:nil_proc</span> <span class='rbracket'>]</span>
        <span class='kw'>end</span>

      <span class='ivar'>@re_string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\A</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='ivar'>@re_string</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="conversion-instance_method">
  <h3 class='signature first'>
  #<strong>conversion</strong>   <span class="extras">(readonly)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


289</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 289</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:re_string</span><span class='comma'>,</span> <span class='symbol'>:matched_string</span><span class='comma'>,</span> <span class='symbol'>:conversion</span><span class='comma'>,</span> <span class='symbol'>:matched</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="matched-instance_method">
  <h3 class='signature'>
  #<strong>matched</strong>   <span class="extras">(readonly)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


289</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 289</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:re_string</span><span class='comma'>,</span> <span class='symbol'>:matched_string</span><span class='comma'>,</span> <span class='symbol'>:conversion</span><span class='comma'>,</span> <span class='symbol'>:matched</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="matched_string-instance_method">
  <h3 class='signature'>
  #<strong>matched_string</strong>   <span class="extras">(readonly)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


289</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 289</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:re_string</span><span class='comma'>,</span> <span class='symbol'>:matched_string</span><span class='comma'>,</span> <span class='symbol'>:conversion</span><span class='comma'>,</span> <span class='symbol'>:matched</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="re_string-instance_method">
  <h3 class='signature'>
  #<strong>re_string</strong>   <span class="extras">(readonly)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


289</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 289</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:re_string</span><span class='comma'>,</span> <span class='symbol'>:matched_string</span><span class='comma'>,</span> <span class='symbol'>:conversion</span><span class='comma'>,</span> <span class='symbol'>:matched</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="count_space?-instance_method">
  <h3 class='signature first'>
  #<strong>count_space?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


327
328
329</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 327</span>

<span class='kw'>def</span> <span class='id identifier rubyid_count_space?'>count_space?</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?:\A|\S)%\*?\d*c|%\d*\[</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='ivar'>@spec_string</span><span class='rparen'>)</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="extract_decimal-instance_method">
  <h3 class='signature'>
  #<strong>extract_decimal</strong>(s)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


313</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 313</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_decimal'>extract_decimal</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id identifier rubyid_skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="extract_float-instance_method">
  <h3 class='signature'>
  #<strong>extract_float</strong>(s)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 295</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_float'>extract_float</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id identifier rubyid_skip'>skip</span>
      <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?&lt;sign&gt;[-]?)0[xX](?&lt;frac&gt;\.\h|\h(?:\.\h*)?)[pP](?&lt;exp&gt;[-]\d+)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_s'>s</span>
        <span class='id identifier rubyid_f1'>f1</span><span class='comma'>,</span> <span class='id identifier rubyid_f2'>f2</span> <span class='op'>=</span> <span class='id identifier rubyid_frac'>frac</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_f1'>f1</span><span class='period'>.</span><span class='id identifier rubyid_hex'>hex</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_f2'>f2</span>
          <span class='id identifier rubyid_len'>len</span> <span class='op'>=</span> <span class='id identifier rubyid_f2'>f2</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_len'>len</span> <span class='op'>&gt;</span> <span class='int'>0</span>
            <span class='id identifier rubyid_f'>f</span> <span class='op'>+=</span> <span class='id identifier rubyid_f2'>f2</span><span class='period'>.</span><span class='id identifier rubyid_hex'>hex</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='float'>16.0</span> <span class='op'>**</span> <span class='id identifier rubyid_len'>len</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='lparen'>(</span><span class='id identifier rubyid_sign'>sign</span> <span class='op'>==</span> <span class='CHAR'>?-</span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>:</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='const'>Math</span><span class='period'>.</span><span class='id identifier rubyid_ldexp'>ldexp</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_exp'>exp</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([-]?\d)\.([eE][-]\d)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_s'>s</span>
        <span class='lparen'>(</span><span class='backref'>$1</span> <span class='op'>&lt;&lt;</span> <span class='backref'>$2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="extract_hex-instance_method">
  <h3 class='signature'>
  #<strong>extract_hex</strong>(s)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


314</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 314</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_hex'>extract_hex</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_hex'>hex</span> <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id identifier rubyid_skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="extract_integer-instance_method">
  <h3 class='signature'>
  #<strong>extract_integer</strong>(s)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


316</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 316</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_integer'>extract_integer</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='const'>Integer</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id identifier rubyid_skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="extract_octal-instance_method">
  <h3 class='signature'>
  #<strong>extract_octal</strong>(s)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


315</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 315</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_octal'>extract_octal</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_oct'>oct</span> <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id identifier rubyid_skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="extract_plain-instance_method">
  <h3 class='signature'>
  #<strong>extract_plain</strong>(s)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


317</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 317</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_plain'>extract_plain</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_s'>s</span> <span class='kw'>unless</span> <span class='id identifier rubyid_skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="letter-instance_method">
  <h3 class='signature'>
  #<strong>letter</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


469
470
471</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 469</span>

<span class='kw'>def</span> <span class='id identifier rubyid_letter'>letter</span>
      <span class='ivar'>@spec_string</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?\d*([a-z\[])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="match-instance_method">
  <h3 class='signature'>
  #<strong>match</strong>(str)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


456
457
458
459
460
461
462
463
464
465
466
467</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 456</span>

<span class='kw'>def</span> <span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
      <span class='ivar'>@matched</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_count_space?'>count_space?</span>
      <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_to_re'>to_re</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_res'>res</span>
        <span class='ivar'>@conversion</span> <span class='op'>=</span> <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='ivar'>@handler</span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='ivar'>@matched_string</span> <span class='op'>=</span> <span class='ivar'>@conversion</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
        <span class='ivar'>@matched</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_res'>res</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="mid_match?-instance_method">
  <h3 class='signature'>
  #<strong>mid_match?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


478
479
480
481
482
483
484
485</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 478</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mid_match?'>mid_match?</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@matched</span>
      <span class='id identifier rubyid_cc_no_width'>cc_no_width</span>    <span class='op'>=</span> <span class='id identifier rubyid_letter'>letter</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_c_or_cc_width'>c_or_cc_width</span>  <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_letter'>letter</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_letter'>letter</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_width_left'>width_left</span>     <span class='op'>=</span> <span class='id identifier rubyid_c_or_cc_width'>c_or_cc_width</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_matched_string'>matched_string</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_width'>width</span><span class='rparen'>)</span>

      <span class='kw'>return</span> <span class='id identifier rubyid_width_left'>width_left</span> <span class='op'>||</span> <span class='id identifier rubyid_cc_no_width'>cc_no_width</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="nil_proc-instance_method">
  <h3 class='signature'>
  #<strong>nil_proc</strong>(s)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


319</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 319</span>

<span class='kw'>def</span> <span class='id identifier rubyid_nil_proc'>nil_proc</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>nil</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="skip-instance_method">
  <h3 class='signature'>
  #<strong>skip</strong>   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


293</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 293</span>

<span class='kw'>def</span> <span class='id identifier rubyid_skip'>skip</span><span class='semicolon'>;</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*%\*</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='ivar'>@spec_string</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_re-instance_method">
  <h3 class='signature'>
  #<strong>to_re</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


452
453
454</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 452</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_re'>to_re</span>
      <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@re_string</span><span class='comma'>,</span><span class='const'>Regexp</span><span class='op'>::</span><span class='const'>MULTILINE</span><span class='rparen'>)</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_s-instance_method">
  <h3 class='signature'>
  #<strong>to_s</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


323
324
325</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 323</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
      <span class='ivar'>@spec_string</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="width-instance_method">
  <h3 class='signature'>
  #<strong>width</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


473
474
475
476</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'scanf.rb', line 473</span>

<span class='kw'>def</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='ivar'>@spec_string</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_w'>w</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_w'>w</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>