<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: YARD::I18n::PotGenerator &mdash; Yard</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "YARD::I18n::PotGenerator",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Yard</a> &raquo; 
          <a href='../../_index.html'>Index (P)</a> &raquo; 
          <a href="../../YARD.html" title="YARD (module)">YARD</a> &raquo; 
          <a href="../I18n.html" title="YARD::I18n (module)">I18n</a> &raquo; 
          <span class='title'>PotGenerator</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: YARD::I18n::PotGenerator</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>YARD::I18n::PotGenerator</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>





  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
lib/yard/i18n/pot_generator.rb</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The <code>PotGenerator</code> generates POT format string from
<a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a> and <a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a>.</p>

<h2 id="label-POT+and+PO">POT and PO</h2>

<p>POT is an acronym for “Portable Object Template”. POT is a template file to
create PO file. The extension for POT is “.pot”. PO file is an acronym for
“Portable Object”. PO file has many parts of message ID (msgid) that is
translation target message and message string (msgstr) that is translated
message of message ID. If you want to tranlsate “Hello” in English into
“Bonjour” in French, “Hello” is the msgid ID and “Bonjour” is msgstr. The
extension for PO is “.po”.</p>

<h2 id="label-How+to+extract+msgids">How to extract msgids</h2>

<p>The <code>PotGenerator</code> has two parse methods:</p>
<ul><li>
<p><a href="#parse_objects-instance_method" title="YARD::I18n::PotGenerator#parse_objects (method)">#parse_objects</a> for <a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a></p>
</li><li>
<p><a href="#parse_files-instance_method" title="YARD::I18n::PotGenerator#parse_files (method)">#parse_files</a> for <a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a></p>
</li></ul>

<p><a href="#parse_objects-instance_method" title="YARD::I18n::PotGenerator#parse_objects (method)">#parse_objects</a> extracts msgids from docstring and tags of
<a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a> objects. The docstring of <a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a> object is
parsed and a paragraph is extracted as a msgid. Tag name and tag text are
extracted as msgids from a tag.</p>

<p><a href="#parse_files-instance_method" title="YARD::I18n::PotGenerator#parse_files (method)">#parse_files</a> extracts msgids from <a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a> objects.
The file content of <a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a> object is parsed and a
paragraph is extracted as a msgid.</p>

<h2 id="label-Usage">Usage</h2>

<p>To create a .pot file by <code>PotGenerator</code>, instantiate a
<code>PotGenerator</code> with a relative working directory path from a
directory path that has created .pot file, parse <a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a>
objects and <a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a> objects, generate a POT and
write the generated POT to a .pot file. The relative working directory path
is “..” when the working directory path is “.”  and the POT is wrote into
“po/yard.pot”.</p>


  </div>
</div>
<div class="tags">
    <div class="examples">
    <p class="tag_title">Examples:</p>
        <p class="example_title"><div class='inline'>
<p>Generate a .pot file</p>
</div></p>
      <pre class="example code"><code>po_file_path = &quot;po/yard.pot&quot;
po_file_directory_pathname = Pathname.new(po_file_path).directory)
working_directory_pathname = Pathname.new(&quot;.&quot;)
relative_base_path = working_directory_pathname.relative_path_from(po_file_directory_pathname).to_s
# relative_base_path -&gt; &quot;..&quot;
generator = YARD::I18n::PotGenerator.new(relative_base_path)
generator.parse_objects(objects)
generator.parse_files(files)
pot = generator.generate
po_file_directory_pathname.mkpath
File.open(po_file_path, &quot;w&quot;) do |pot_file|
  pot_file.print(pot)
end</code></pre>
  </div>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="http://www.gnu.org/software/gettext/manual/html_node/PO-Files.html" target="_parent" title="GNU gettext manual about details of PO file">GNU gettext manual about details of PO file</a></li>
      </ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div>


<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#messages-instance_method" title="#messages (instance method)">#<strong>messages</strong>  &#x21d2; Messages </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Extracted messages.</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(relative_base_path)  &#x21d2; PotGenerator </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a POT generator that uses <code>relative_base_path</code> to
generate locations for a msgid.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#current_time-instance_method" title="#current_time (instance method)">#<strong>current_time</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#escape_message_id-instance_method" title="#escape_message_id (instance method)">#<strong>escape_message_id</strong>(message_id)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_documents-instance_method" title="#extract_documents (instance method)">#<strong>extract_documents</strong>(object)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_paragraphs-instance_method" title="#extract_paragraphs (instance method)">#<strong>extract_paragraphs</strong>(file)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_tag_documents-instance_method" title="#extract_tag_documents (instance method)">#<strong>extract_tag_documents</strong>(tag)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_tag_name-instance_method" title="#extract_tag_name (instance method)">#<strong>extract_tag_name</strong>(tag)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_tag_text-instance_method" title="#extract_tag_text (instance method)">#<strong>extract_tag_text</strong>(tag)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate-instance_method" title="#generate (instance method)">#<strong>generate</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generates POT from <tt>@messages</tt>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate_message-instance_method" title="#generate_message (instance method)">#<strong>generate_message</strong>(pot, message)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate_pot_creation_date_value-instance_method" title="#generate_pot_creation_date_value (instance method)">#<strong>generate_pot_creation_date_value</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#header-instance_method" title="#header (instance method)">#<strong>header</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_files-instance_method" title="#parse_files (instance method)">#<strong>parse_files</strong>(files)  &#x21d2; void </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a> objects and stores extracted msgids
into <a href="#messages-instance_method" title="YARD::I18n::PotGenerator#messages (method)">#messages</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_objects-instance_method" title="#parse_objects (instance method)">#<strong>parse_objects</strong>(objects)  &#x21d2; void </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a> objects and stores extracted msgids into
<a href="#messages-instance_method" title="YARD::I18n::PotGenerator#messages (method)">#messages</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#register_message-instance_method" title="#register_message (instance method)">#<strong>register_message</strong>(id)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(relative_base_path)  &#x21d2; <tt><a href="" title="YARD::I18n::PotGenerator (class)">PotGenerator</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a POT generator that uses <code>relative_base_path</code> to
generate locations for a msgid. <code>relative_base_path</code> is
prepended to all locations.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>relative_base_path</span>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
&mdash;    <div class='inline'>
<p>a relative working directory path from a directory path that has created
.pot file.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


78
79
80
81
82</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 78</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_relative_base_path'>relative_base_path</span><span class='rparen'>)</span>
  <span class='ivar'>@relative_base_path</span> <span class='op'>=</span> <span class='id identifier rubyid_relative_base_path'>relative_base_path</span>
  <span class='ivar'>@extracted_objects</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@messages</span> <span class='op'>=</span> <span class='const'>Messages</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="messages-instance_method">
  <h3 class='signature first'>
  #<strong>messages</strong>  &#x21d2; <tt><a href="Messages.html" title="YARD::I18n::Messages (class)">Messages</a></tt>  <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Extracted messages.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.1</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


69</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 69</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:messages</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="current_time-instance_method">
  <h3 class='signature first'>
  #<strong>current_time</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


160
161
162</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current_time'>current_time</span>
  <span class='ivar'>@current_time</span> <span class='op'>||=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="escape_message_id-instance_method">
  <h3 class='signature'>
  #<strong>escape_message_id</strong>(message_id)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


183
184
185
186
187
188</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 183</span>

<span class='kw'>def</span> <span class='id identifier rubyid_escape_message_id'>escape_message_id</span><span class='lparen'>(</span><span class='id identifier rubyid_message_id'>message_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_message_id'>message_id</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\\|&quot;)</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_special_character'>special_character</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_special_character'>special_character</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extract_documents-instance_method">
  <h3 class='signature'>
  #<strong>extract_documents</strong>(object)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_documents'>extract_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@extracted_objects</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>

  <span class='ivar'>@extracted_objects</span><span class='lbracket'>[</span><span class='id identifier rubyid_object'>object</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_object'>object</span>
  <span class='kw'>when</span> <span class='const'>CodeObjects</span><span class='op'>::</span><span class='const'>NamespaceObject</span>
    <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='op'>|</span>
      <span class='id identifier rubyid_extract_documents'>extract_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_register_message'>register_message</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
      <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_location'>add_location</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_comment'>add_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_docstring'>docstring</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_docstring'>docstring</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_docstring'>docstring</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='const'>Text</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>StringIO</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_docstring'>docstring</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_extract_messages'>extract_messages</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='op'>|</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
      <span class='kw'>when</span> <span class='symbol'>:paragraph</span>
        <span class='id identifier rubyid_paragraph'>paragraph</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
        <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_register_message'>register_message</span><span class='lparen'>(</span><span class='id identifier rubyid_paragraph'>paragraph</span><span class='period'>.</span><span class='id identifier rubyid_rstrip'>rstrip</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
          <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_location'>add_location</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_docstring'>docstring</span><span class='period'>.</span><span class='id identifier rubyid_line'>line</span> <span class='op'>||</span> <span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_comment'>add_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should not reach here: unexpected type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_docstring'>docstring</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span>
    <span class='id identifier rubyid_extract_tag_documents'>extract_tag_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extract_paragraphs-instance_method">
  <h3 class='signature'>
  #<strong>extract_paragraphs</strong>(file)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 268</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_paragraphs'>extract_paragraphs</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_input'>input</span><span class='op'>|</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='const'>Text</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='symbol'>:have_header</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_extract_messages'>extract_messages</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='op'>|</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
      <span class='kw'>when</span> <span class='symbol'>:attribute</span>
        <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
        <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_register_message'>register_message</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_location'>add_location</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_comment'>add_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='symbol'>:paragraph</span>
        <span class='id identifier rubyid_paragraph'>paragraph</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
        <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_register_message'>register_message</span><span class='lparen'>(</span><span class='id identifier rubyid_paragraph'>paragraph</span><span class='period'>.</span><span class='id identifier rubyid_rstrip'>rstrip</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_location'>add_location</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should not reach here: unexpected type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extract_tag_documents-instance_method">
  <h3 class='signature'>
  #<strong>extract_tag_documents</strong>(tag)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


235
236
237
238
239
240</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 235</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_tag_documents'>extract_tag_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_extract_tag_name'>extract_tag_name</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_extract_tag_text'>extract_tag_text</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_extract_documents'>extract_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>Tags</span><span class='op'>::</span><span class='const'>OverloadTag</span> <span class='op'>===</span> <span class='id identifier rubyid_tag'>tag</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extract_tag_name-instance_method">
  <h3 class='signature'>
  #<strong>extract_tag_name</strong>(tag)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


242
243
244
245
246
247
248
249
250
251
252
253</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 242</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_tag_name'>extract_tag_name</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='kw'>and</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tag|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_register_message'>register_message</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_location'>add_location</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_tag_label'>tag_label</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_tag_label'>tag_label</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span>
  <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_comment'>add_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_label'>tag_label</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extract_tag_text-instance_method">
  <h3 class='signature'>
  #<strong>extract_tag_text</strong>(tag)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


255
256
257
258
259
260
261
262
263
264
265
266</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_tag_text'>extract_tag_text</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_register_message'>register_message</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_location'>add_location</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_tag_label'>tag_label</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_tag_label'>tag_label</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span>
  <span class='id identifier rubyid_tag_label'>tag_label</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_add_comment'>add_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_label'>tag_label</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate-instance_method">
  <h3 class='signature'>
  #<strong>generate</strong>  &#x21d2; <tt><a href="../../String.html" title="String (class)">String</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generates POT from <tt>@messages</tt>.</p>

<p>One PO file entry is generated from a <code>Message</code> in <tt>@messages</tt>.</p>

<p>Locations of the <code>Message</code> are used to generate the reference
line that is started with “#: ”. <code>relative_base_path</code> passed
when the generater is created is prepended to each path in location.</p>

<p>Comments of the <code>Message</code> are used to generate the
translater-comment line that is started with “# ”.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
&mdash;    <div class='inline'>
<p>POT format string</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


121
122
123
124
125
126
127
128
129
130
131
132
133</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate'>generate</span>
  <span class='id identifier rubyid_pot'>pot</span> <span class='op'>=</span> <span class='id identifier rubyid_header'>header</span>
  <span class='id identifier rubyid_sorted_messages'>sorted_messages</span> <span class='op'>=</span> <span class='ivar'>@messages</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_message'>message</span><span class='op'>|</span>
    <span class='id identifier rubyid_sorted_locations'>sorted_locations</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_locations'>locations</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_location'>location</span><span class='op'>|</span>
      <span class='id identifier rubyid_location'>location</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_sorted_locations'>sorted_locations</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>||</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_sorted_messages'>sorted_messages</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_message'>message</span><span class='op'>|</span>
    <span class='id identifier rubyid_generate_message'>generate_message</span><span class='lparen'>(</span><span class='id identifier rubyid_pot'>pot</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pot'>pot</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate_message-instance_method">
  <h3 class='signature'>
  #<strong>generate_message</strong>(pot, message)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


168
169
170
171
172
173
174
175
176
177
178
179
180
181</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_message'>generate_message</span><span class='lparen'>(</span><span class='id identifier rubyid_pot'>pot</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_comments'>comments</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comment'>comment</span><span class='op'>|</span>
    <span class='id identifier rubyid_pot'>pot</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_comment'>comment</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_locations'>locations</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_pot'>pot</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@relative_base_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_escaped_message_id'>escaped_message_id</span> <span class='op'>=</span> <span class='id identifier rubyid_escape_message_id'>escape_message_id</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_escaped_message_id'>escaped_message_id</span> <span class='op'>=</span> <span class='id identifier rubyid_escaped_message_id'>escaped_message_id</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\\\n\&quot;\n\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pot'>pot</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>msgid \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_escaped_message_id'>escaped_message_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_pot'>pot</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>msgstr \&quot;\&quot;\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_pot'>pot</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_pot'>pot</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate_pot_creation_date_value-instance_method">
  <h3 class='signature'>
  #<strong>generate_pot_creation_date_value</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


164
165
166</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 164</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_pot_creation_date_value'>generate_pot_creation_date_value</span>
  <span class='id identifier rubyid_current_time'>current_time</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d %H:%M%z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="header-instance_method">
  <h3 class='signature'>
  #<strong>header</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_header'>header</span>
  <span class='heredoc_beg'>&lt;&lt;-EOH</span>
<span class='tstring_content'># SOME DESCRIPTIVE TITLE.
# Copyright (C) YEAR THE PACKAGE&#39;S COPYRIGHT HOLDER
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.
#
#, fuzzy
msgid &quot;&quot;
msgstr &quot;&quot;
&quot;Project-Id-Version: PACKAGE VERSION\\n&quot;
&quot;Report-Msgid-Bugs-To: \\n&quot;
&quot;POT-Creation-Date: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_generate_pot_creation_date_value'>generate_pot_creation_date_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\\n&quot;
&quot;PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\\n&quot;
&quot;Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\\n&quot;
&quot;Language-Team: LANGUAGE &lt;LL@li.org&gt;\\n&quot;
&quot;Language: \\n&quot;
&quot;MIME-Version: 1.0\\n&quot;
&quot;Content-Type: text/plain; charset=UTF-8\\n&quot;
&quot;Content-Transfer-Encoding: 8bit\\n&quot;

</span><span class='heredoc_end'>EOH
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_files-instance_method">
  <h3 class='signature'>
  #<strong>parse_files</strong>(files)  &#x21d2; <tt>void</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Parses <a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a> objects and stores extracted msgids
into <a href="#messages-instance_method" title="YARD::I18n::PotGenerator#messages (method)">#messages</a>.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>files</span>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a>&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>a list of <a href="../CodeObjects/ExtraFileObject.html" title="YARD::CodeObjects::ExtraFileObject (class)">CodeObjects::ExtraFileObject</a> objects to be parsed.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


102
103
104
105
106</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_files'>parse_files</span><span class='lparen'>(</span><span class='id identifier rubyid_files'>files</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_extract_paragraphs'>extract_paragraphs</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_objects-instance_method">
  <h3 class='signature'>
  #<strong>parse_objects</strong>(objects)  &#x21d2; <tt>void</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Parses <a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a> objects and stores extracted msgids into
<a href="#messages-instance_method" title="YARD::I18n::PotGenerator#messages (method)">#messages</a></p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>objects</span>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a>&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>a list of <a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a> to be parsed.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


90
91
92
93
94</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_objects'>parse_objects</span><span class='lparen'>(</span><span class='id identifier rubyid_objects'>objects</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_objects'>objects</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='op'>|</span>
    <span class='id identifier rubyid_extract_documents'>extract_documents</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="register_message-instance_method">
  <h3 class='signature'>
  #<strong>register_message</strong>(id)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.8.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


190
191
192</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/i18n/pot_generator.rb', line 190</span>

<span class='kw'>def</span> <span class='id identifier rubyid_register_message'>register_message</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
  <span class='ivar'>@messages</span><span class='period'>.</span><span class='id identifier rubyid_register'>register</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>