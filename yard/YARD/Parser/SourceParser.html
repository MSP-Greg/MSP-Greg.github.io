<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: YARD::Parser::SourceParser &mdash; Yard</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "YARD::Parser::SourceParser",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Yard</a> &raquo; 
          <a href='../../_index.html'>Index (S)</a> &raquo; 
          <a href="../../YARD.html" title="YARD (module)">YARD</a> &raquo; 
          <a href="../Parser.html" title="YARD::Parser (module)">Parser</a> &raquo; 
          <span class='title'>SourceParser</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: YARD::Parser::SourceParser</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>YARD::Parser::SourceParser</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>





  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
lib/yard/parser/source_parser.rb</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Responsible for parsing a source file into the namespace. Parsing also
invokes handlers to process the parsed statements and generate any code
objects that may be recognized.</p>

<h2 id="label-Custom+Parsers">Custom Parsers</h2>

<p>SourceParser allows custom parsers to be registered and called when a
certain filetype is recognized. To register a parser and hook it up to a
set of file extensions, call <a href="#register_parser_type-class_method" title="YARD::Parser::SourceParser.register_parser_type (method)">SourceParser.register_parser_type</a></p>


  </div>
</div>
<div class="tags">
    <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#register_parser_type-class_method" title="YARD::Parser::SourceParser.register_parser_type (method)">SourceParser.register_parser_type</a></li>
          <li><a href="../Handlers/Base.html" title="YARD::Handlers::Base (class)">Handlers::Base</a></li>
          <li><a href="../CodeObjects/Base.html" title="YARD::CodeObjects::Base (class)">CodeObjects::Base</a></li>
      </ul>

</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='DEFAULT_PATH_GLOB-constant'>
      DEFAULT_PATH_GLOB =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The default glob of files to be parsed.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.9.0</p>
</div>
  </li>
</ul>

</div>      <pre class='code'><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{lib,app}/**/*.rb</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ext/**/*.{c,cc,cxx,cpp}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='ENCODING_BYTE_ORDER_MARKS-constant'>
      ENCODING_BYTE_ORDER_MARKS =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Byte order marks for various encodings</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div>      <pre class='code'><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>utf-8</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xEF\xBB\xBF</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='comment'># Not yet supported
</span>  <span class='comment'>#&#39;utf-16be&#39; =&gt; &quot;\xFE\xFF&quot;,
</span>  <span class='comment'>#&#39;utf-16le&#39; =&gt; &quot;\xFF\xFE&quot;,
</span>  <span class='comment'>#&#39;utf-32be&#39; =&gt; &quot;\x00\x00\xFF\xFE&quot;,
</span>  <span class='comment'>#&#39;utf-32le&#39; =&gt; &quot;\xFF\xFE&quot;,
</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='ENCODING_LINE-constant'>
      ENCODING_LINE =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?:\s*#*!.*\r?\n)?\s*(?:#+|\/\*+|\/\/+).*coding\s*[:=]{1,2}\s*([a-z\d_\-]+)</span><span class='regexp_end'>/i</span></span></pre>
    </dd>
    <dt id='SHEBANG_LINE-constant'>
      SHEBANG_LINE =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*#!\S+</span><span class='regexp_end'>/</span></span></pre>
    </dd>
  </dl>



<h2>Parser Callbacks <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#contents-instance_method" title="#contents (instance method)">#<strong>contents</strong>  &#x21d2; String </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The contents of the file to be parsed</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#file-instance_method" title="#file (instance method)">#<strong>file</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>the filename being parsed by the parser.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#globals-instance_method" title="#globals (instance method)">#<strong>globals</strong>  &#x21d2; OpenStruct </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>An open struct containing arbitrary global state shared between files and
handlers.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_type-instance_method" title="#parser_type (instance method)">#<strong>parser_type</strong>  &#x21d2; Symbol </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>the parser type associated with the parser instance.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_type%3D-instance_method" title="#parser_type= (instance method)">#<strong>parser_type=</strong>(value)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>
<h2>Class Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#parser_type-class_method" title=".parser_type (class method)">.<strong>parser_type</strong>  &#x21d2; Symbol </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>the default parser type (defaults to :ruby)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_type%3D-class_method" title=".parser_type= (class method)">.<strong>parser_type=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2>Parser Callbacks
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#after_parse_file-class_method" title=".after_parse_file (class method)">.<strong>after_parse_file</strong> {|parser| ... } &#x21d2; Proc </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Registers a callback to be called after an individual file is parsed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#after_parse_file_callbacks-class_method" title=".after_parse_file_callbacks (class method)">.<strong>after_parse_file_callbacks</strong>  &#x21d2; Array&lt;Proc&gt; </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of callbacks to be called after parsing a file.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#after_parse_list-class_method" title=".after_parse_list (class method)">.<strong>after_parse_list</strong> {|files, globals| ... } &#x21d2; Proc </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Registers a callback to be called after a list of files is parsed via
<a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">SourceParser.parse</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#after_parse_list_callbacks-class_method" title=".after_parse_list_callbacks (class method)">.<strong>after_parse_list_callbacks</strong>  &#x21d2; Array&lt;Proc&gt; </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of callbacks to be called after parsing a list of files.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#before_parse_file-class_method" title=".before_parse_file (class method)">.<strong>before_parse_file</strong> {|parser| ... } &#x21d2; Proc </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Registers a callback to be called before an individual file is parsed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#before_parse_file_callbacks-class_method" title=".before_parse_file_callbacks (class method)">.<strong>before_parse_file_callbacks</strong>  &#x21d2; Array&lt;Proc&gt; </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of callbacks to be called before parsing a file.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#before_parse_list-class_method" title=".before_parse_list (class method)">.<strong>before_parse_list</strong> {|files, globals| ... } &#x21d2; Proc </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Registers a callback to be called before a list of files is parsed via
<a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">SourceParser.parse</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#before_parse_list_callbacks-class_method" title=".before_parse_list_callbacks (class method)">.<strong>before_parse_list_callbacks</strong>  &#x21d2; Array&lt;Proc&gt; </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of callbacks to be called before parsing a list of files.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#convert_encoding-instance_method" title="#convert_encoding (instance method)">#<strong>convert_encoding</strong>(content)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Searches for encoding line and forces encoding</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(parser_type = SourceParser.parser_type, globals = nil)  &#x21d2; SourceParser </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new parser object for code parsing with a specific parser type.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse-instance_method" title="#parse (instance method)">#<strong>parse</strong>(content = __FILE__)  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The main parser method.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_in_order-class_method" title=".parse_in_order (class method)">.<strong>parse_in_order</strong>(*files)  &#x21d2; void </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses a list of files in a queue.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_class-instance_method" title="#parser_class (instance method)">#<strong>parser_class</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_type_for_filename-instance_method" title="#parser_type_for_filename (instance method)">#<strong>parser_type_for_filename</strong>(filename)  &#x21d2; Symbol </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Guesses the parser type to use depending on the file extension.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_process-instance_method" title="#post_process (instance method)">#<strong>post_process</strong>  &#x21d2; void </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Runs a <a href="../Handlers/Processor.html" title="YARD::Handlers::Processor (class)">Handlers::Processor</a> object to post process the parsed statements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#tokenize-instance_method" title="#tokenize (instance method)">#<strong>tokenize</strong>(content)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Tokenizes but does not parse the block of code using the current
<a href="#parser_type-instance_method" title="YARD::Parser::SourceParser#parser_type (method)">#parser_type</a></p>
</div>
      </span>
    </li>
  </ul>
<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#parse-class_method" title=".parse (class method)">.<strong>parse</strong>(paths = DEFAULT_PATH_GLOB, excluded = [], level = log.level)  &#x21d2; void </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses a path or set of paths</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_string-class_method" title=".parse_string (class method)">.<strong>parse_string</strong>(content, ptype = parser_type)  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses a string <code>content</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_type_extensions-class_method" title=".parser_type_extensions (class method)">.<strong>parser_type_extensions</strong>  &#x21d2; Hash </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A list of registered parser type extensions</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_type_extensions%3D-class_method" title=".parser_type_extensions= (class method)">.<strong>parser_type_extensions=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_type_for_extension-class_method" title=".parser_type_for_extension (class method)">.<strong>parser_type_for_extension</strong>(extension)  &#x21d2; Symbol </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds a parser type that is registered for the extension.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_types-class_method" title=".parser_types (class method)">.<strong>parser_types</strong>  &#x21d2; Hash{Symbol=&gt;Object} </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A list of registered parser types</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser_types%3D-class_method" title=".parser_types= (class method)">.<strong>parser_types=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#register_parser_type-class_method" title=".register_parser_type (class method)">.<strong>register_parser_type</strong>(type, parser_klass, extensions = nil)  &#x21d2; void </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Registers a new parser type.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#tokenize-class_method" title=".tokenize (class method)">.<strong>tokenize</strong>(content, ptype = parser_type)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Tokenizes but does not parse the block of code</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#validated_parser_type-class_method" title=".validated_parser_type (class method)">.<strong>validated_parser_type</strong>(type)  &#x21d2; Symbol </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the validated parser type.</p>
</div>
      </span>
    </li>
  </ul>


<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(parser_type = SourceParser.parser_type, globals = nil)  &#x21d2; <tt><a href="" title="YARD::Parser::SourceParser (class)">SourceParser</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
    <div class="docstring">
  <div class="discussion">
    
<p>Creates a new parser object for code parsing with a specific parser type.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>parser_type</span>
    <span class='type'>(<tt>Symbol</tt>)</span>
    <em class='default'>(defaults to: <tt>SourceParser.parser_type</tt>)</em>
&mdash;    <div class='inline'>
<p>the parser type to use</p>
</div>
  </li>
  <li>
    <span class='name'>globals</span>
    <span class='type'>(<tt>OpenStruct</tt>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>global state to be re-used across separate source files</p>
</div>
  </li>
</ul>

</div>
</div><div class='source_code h'>
  <pre class='lines_num'>


403
404
405
406
407
408</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 403</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_parser_type'>parser_type</span> <span class='op'>=</span> <span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_parser_type'>parser_type</span><span class='comma'>,</span> <span class='id identifier rubyid_globals1'>globals1</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_globals2'>globals2</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_globals'>globals</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_globals1'>globals1</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_globals2'>globals2</span> <span class='op'>:</span> <span class='id identifier rubyid_globals1'>globals1</span>
  <span class='ivar'>@file</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(stdin)</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@globals</span> <span class='op'>=</span> <span class='id identifier rubyid_globals'>globals</span> <span class='op'>||</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parser_type'>parser_type</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type'>parser_type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Attribute Details</h2>
  <section class='method_details first' id="parser_type-class_method">
  <h3 class='signature first'>
  .<strong>parser_type</strong>  &#x21d2; <tt>Symbol</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>the default parser type (defaults to :ruby)</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


83</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 83</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:parser_type</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_type=-class_method">
  <h3 class='signature'>
  .<strong>parser_type=</strong>(value)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


85
86
87</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type='>parser_type=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@parser_type</span> <span class='op'>=</span> <span class='id identifier rubyid_validated_parser_type'>validated_parser_type</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="contents-instance_method">
  <h3 class='signature first'>
  #<strong>contents</strong>  &#x21d2; <tt><a href="../../String.html" title="String (class)">String</a></tt>  <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the contents of the file to be parsed</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


396</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 396</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:contents</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="file-instance_method">
  <h3 class='signature'>
  #<strong>file</strong>  &#x21d2; <tt><a href="../../String.html" title="String (class)">String</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>the filename being parsed by the parser.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


383</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 383</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:file</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="globals-instance_method">
  <h3 class='signature'>
  #<strong>globals</strong>  &#x21d2; <tt>OpenStruct</tt>  <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>OpenStruct</tt>)</span>
&mdash;    <div class='inline'>
<p>an open struct containing arbitrary global state shared between files and
handlers.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


392</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 392</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:globals</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_type-instance_method">
  <h3 class='signature'>
  #<strong>parser_type</strong>  &#x21d2; <tt>Symbol</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>the parser type associated with the parser instance. This should be set by
the <code>#initialize</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


387</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 387</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:parser_type</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_type=-instance_method">
  <h3 class='signature'>
  #<strong>parser_type=</strong>(value)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


495
496
497</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 495</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type='>parser_type=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@parser_type</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_validated_parser_type'>validated_parser_type</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="after_parse_file-class_method">
  <h3 class='signature first'>
  .<strong>after_parse_file</strong> {|parser| ... } &#x21d2; <tt>Proc</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Registers a callback to be called after an individual file is parsed. The
block passed to this method will be called on subsequent parse calls.</p>

<p>To register a callback that is called after the entire list of files is
processed, see <a href="#after_parse_list-class_method" title="YARD::Parser::SourceParser.after_parse_list (method)">after_parse_list</a>.</p>


  </div>
</div>
<div class="tags">
    <div class="examples">
    <p class="tag_title">Examples:</p>
        <p class="example_title"><div class='inline'>
<p>Printing the length of each file after it is parsed</p>
</div></p>
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_after_parse_file'>after_parse_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'> is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_contents'>contents</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> characters</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib/**/*.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># prints:
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lib/foo.rb is 1240 characters</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lib/foo_bar.rb is 248 characters</span><span class='tstring_end'>&quot;</span></span></code></pre>
  </div>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>parser</tt>)</span>
&mdash;    <div class='inline'>
<p>the yielded block is called once after each file that is parsed. This might
happen many times for a single codebase.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>parser</span>
    <span class='type'>(<tt><a href="" title="YARD::Parser::SourceParser (class)">SourceParser</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the parser object that parsed the file.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Returns:</p>
<ul class='yieldreturn'>
  <li>
    <span class='type'>(<tt>void</tt>)</span>
&mdash;    <div class='inline'>
<p>the return value for the block is ignored.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>Proc</tt>)</span>
&mdash;    <div class='inline'>
<p>the yielded block</p>
</div>
  </li>
</ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#before_parse_file-class_method" title="YARD::Parser::SourceParser.before_parse_file (method)">before_parse_file</a></li>
          <li><a href="#after_parse_list-class_method" title="YARD::Parser::SourceParser.after_parse_list (method)">after_parse_list</a></li>
      </ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


321
322
323</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 321</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_parse_file'>after_parse_file</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_after_parse_file_callbacks'>after_parse_file_callbacks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="after_parse_file_callbacks-class_method">
  <h3 class='signature'>
  .<strong>after_parse_file_callbacks</strong>  &#x21d2; <tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;Proc&gt;</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;Proc&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>the list of callbacks to be called after parsing a file. Should only be
used for testing.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


349
350
351</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 349</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_parse_file_callbacks'>after_parse_file_callbacks</span>
  <span class='ivar'>@after_parse_file_callbacks</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="after_parse_list-class_method">
  <h3 class='signature'>
  .<strong>after_parse_list</strong> {|files, globals| ... } &#x21d2; <tt>Proc</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Registers a callback to be called after a list of files is parsed via
<a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">parse</a>. The block passed to this method will be called on subsequent parse
calls.</p>


  </div>
</div>
<div class="tags">
    <div class="examples">
    <p class="tag_title">Examples:</p>
        <p class="example_title"><div class='inline'>
<p>Printing results after parsing occurs</p>
</div></p>
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_after_parse_list'>after_parse_list</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Finished parsing!</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
<span class='comment'># Prints &quot;Finished parsing!&quot; after parsing files</span></code></pre>
  </div>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>files</tt>, <tt>globals</tt>)</span>
&mdash;    <div class='inline'>
<p>the yielded block is called once before parsing all files</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>files</span>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>the list of files that will be parsed.</p>
</div>
  </li>
  <li>
    <span class='name'>globals</span>
    <span class='type'>(<tt>OpenStruct</tt>)</span>
&mdash;    <div class='inline'>
<p>a global structure to store arbitrary state for post processing (see
<a href="../Handlers/Processor.html#globals-instance_method" title="YARD::Handlers::Processor#globals (method)">Handlers::Processor#globals</a>)</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Returns:</p>
<ul class='yieldreturn'>
  <li>
    <span class='type'>(<tt>void</tt>)</span>
&mdash;    <div class='inline'>
<p>the return value for the block is ignored.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>Proc</tt>)</span>
&mdash;    <div class='inline'>
<p>the yielded block</p>
</div>
  </li>
</ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#before_parse_list-class_method" title="YARD::Parser::SourceParser.before_parse_list (method)">before_parse_list</a></li>
          <li><a href="#before_parse_file-class_method" title="YARD::Parser::SourceParser.before_parse_file (method)">before_parse_file</a></li>
      </ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


255
256
257</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_parse_list'>after_parse_list</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_after_parse_list_callbacks'>after_parse_list_callbacks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="after_parse_list_callbacks-class_method">
  <h3 class='signature'>
  .<strong>after_parse_list_callbacks</strong>  &#x21d2; <tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;Proc&gt;</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;Proc&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>the list of callbacks to be called after parsing a list of files. Should
only be used for testing.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


335
336
337</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 335</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_parse_list_callbacks'>after_parse_list_callbacks</span>
  <span class='ivar'>@after_parse_list_callbacks</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="before_parse_file-class_method">
  <h3 class='signature'>
  .<strong>before_parse_file</strong> {|parser| ... } &#x21d2; <tt>Proc</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Registers a callback to be called before an individual file is parsed. The
block passed to this method will be called on subsequent parse calls.</p>

<p>To register a callback that is called before the entire list of files is
processed, see <a href="#before_parse_list-class_method" title="YARD::Parser::SourceParser.before_parse_list (method)">before_parse_list</a>.</p>


  </div>
</div>
<div class="tags">
    <div class="examples">
    <p class="tag_title">Examples:</p>
        <p class="example_title"><div class='inline'>
<p>Installing a simple callback</p>
</div></p>
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_file'>before_parse_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I&#39;m parsing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib/**/*.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># prints:
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I&#39;m parsing lib/foo.rb</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I&#39;m parsing lib/foo_bar.rb</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I&#39;m parsing lib/last_file.rb</span><span class='tstring_end'>&quot;</span></span></code></pre>
        <p class="example_title"><div class='inline'>
<p>Cancel parsing of any test_*.rb files</p>
</div></p>
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_file'>before_parse_file</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^test_.+\.rb$</span><span class='regexp_end'>/</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>parser</tt>)</span>
&mdash;    <div class='inline'>
<p>the yielded block is called once before each file that is parsed. This
might happen many times for a single codebase.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>parser</span>
    <span class='type'>(<tt><a href="" title="YARD::Parser::SourceParser (class)">SourceParser</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the parser object that will <a href="#parse-instance_method" title="YARD::Parser::SourceParser#parse (method)">#parse</a> the file.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Returns:</p>
<ul class='yieldreturn'>
  <li>
    <span class='type'>(<tt>Boolean</tt>)</span>
&mdash;    <div class='inline'>
<p>if the block returns <code>false</code>, parsing for the file is cancelled.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>Proc</tt>)</span>
&mdash;    <div class='inline'>
<p>the yielded block</p>
</div>
  </li>
</ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#after_parse_file-class_method" title="YARD::Parser::SourceParser.after_parse_file (method)">after_parse_file</a></li>
          <li><a href="#before_parse_list-class_method" title="YARD::Parser::SourceParser.before_parse_list (method)">before_parse_list</a></li>
      </ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


292
293
294</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 292</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_parse_file'>before_parse_file</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_before_parse_file_callbacks'>before_parse_file_callbacks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="before_parse_file_callbacks-class_method">
  <h3 class='signature'>
  .<strong>before_parse_file_callbacks</strong>  &#x21d2; <tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;Proc&gt;</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;Proc&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>the list of callbacks to be called before parsing a file. Should only be
used for testing.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


342
343
344</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 342</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_parse_file_callbacks'>before_parse_file_callbacks</span>
  <span class='ivar'>@before_parse_file_callbacks</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="before_parse_list-class_method">
  <h3 class='signature'>
  .<strong>before_parse_list</strong> {|files, globals| ... } &#x21d2; <tt>Proc</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Registers a callback to be called before a list of files is parsed via
<a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">parse</a>. The block passed to this method will be called on subsequent parse
calls.</p>


  </div>
</div>
<div class="tags">
    <div class="examples">
    <p class="tag_title">Examples:</p>
        <p class="example_title"><div class='inline'>
<p>Installing a simple callback</p>
</div></p>
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_list'>before_parse_list</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_globals'>globals</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Starting to parse...</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib/**/*.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># prints &quot;Starting to parse...&quot;</span></code></pre>
        <p class="example_title"><div class='inline'>
<p>Setting global state</p>
</div></p>
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_list'>before_parse_list</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_globals'>globals</span><span class='op'>|</span>
  <span class='id identifier rubyid_globals'>globals</span><span class='period'>.</span><span class='id identifier rubyid_method_count'>method_count</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span>
<span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_after_parse_list'>after_parse_list</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_globals'>globals</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Found </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_globals'>globals</span><span class='period'>.</span><span class='id identifier rubyid_method_count'>method_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> methods</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='kw'>class</span> <span class='const'>MyCountHandler</span> <span class='op'>&lt;</span> <span class='const'>Handlers</span><span class='op'>::</span><span class='const'>Ruby</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id identifier rubyid_handles'>handles</span> <span class='symbol'>:def</span><span class='comma'>,</span> <span class='symbol'>:defs</span>
  <span class='id identifier rubyid_process'>process</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_globals'>globals</span><span class='period'>.</span><span class='id identifier rubyid_method_count'>method_count</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
<span class='comment'># Prints: &quot;Found 37 methods&quot;</span></code></pre>
        <p class="example_title"><div class='inline'>
<p>Using a global callback to cancel parsing</p>
</div></p>
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_list'>before_parse_list</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_globals'>globals</span><span class='op'>|</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo.rb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar.rb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># callback cancels this method
</span><span class='const'>YARD</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'># parses normally</span></code></pre>
  </div>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>files</tt>, <tt>globals</tt>)</span>
&mdash;    <div class='inline'>
<p>the yielded block is called once before parsing all files</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>files</span>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>the list of files that will be parsed.</p>
</div>
  </li>
  <li>
    <span class='name'>globals</span>
    <span class='type'>(<tt>OpenStruct</tt>)</span>
&mdash;    <div class='inline'>
<p>a global structure to store arbitrary state for post processing (see
<a href="../Handlers/Processor.html#globals-instance_method" title="YARD::Handlers::Processor#globals (method)">Handlers::Processor#globals</a>)</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yield Returns:</p>
<ul class='yieldreturn'>
  <li>
    <span class='type'>(<tt>Boolean</tt>)</span>
&mdash;    <div class='inline'>
<p>if the block returns <code>false</code>, parsing is cancelled.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>Proc</tt>)</span>
&mdash;    <div class='inline'>
<p>the yielded block</p>
</div>
  </li>
</ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#after_parse_list-class_method" title="YARD::Parser::SourceParser.after_parse_list (method)">after_parse_list</a></li>
          <li><a href="#before_parse_file-class_method" title="YARD::Parser::SourceParser.before_parse_file (method)">before_parse_file</a></li>
      </ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


231
232
233</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 231</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_parse_list'>before_parse_list</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_before_parse_list_callbacks'>before_parse_list_callbacks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="before_parse_list_callbacks-class_method">
  <h3 class='signature'>
  .<strong>before_parse_list_callbacks</strong>  &#x21d2; <tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;Proc&gt;</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;Proc&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>the list of callbacks to be called before parsing a list of files. Should
only be used for testing.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.7.0</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


328
329
330</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 328</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_parse_list_callbacks'>before_parse_list_callbacks</span>
  <span class='ivar'>@before_parse_list_callbacks</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse-class_method">
  <h3 class='signature'>
  .<strong>parse</strong>(paths = DEFAULT_PATH_GLOB, excluded = [], level = log.level)  &#x21d2; <tt>void</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Parses a path or set of paths</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>paths</span>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>, <tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;</tt>)</span>
    <em class='default'>(defaults to: <tt>DEFAULT_PATH_GLOB</tt>)</em>
&mdash;    <div class='inline'>
<p>a path, glob, or list of paths to parse</p>
</div>
  </li>
  <li>
    <span class='name'>excluded</span>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>, Regexp&gt;</tt>)</span>
    <em class='default'>(defaults to: <tt>[]</tt>)</em>
&mdash;    <div class='inline'>
<p>a list of excluded path matchers</p>
</div>
  </li>
  <li>
    <span class='name'>level</span>
    <span class='type'>(<tt>Fixnum</tt>)</span>
    <em class='default'>(defaults to: <tt>log.level</tt>)</em>
&mdash;    <div class='inline'>
<p>the logger level to use during parsing. See <a href="../Logger.html" title="YARD::Logger (class)">Logger</a></p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_paths'>paths</span> <span class='op'>=</span> <span class='const'>DEFAULT_PATH_GLOB</span><span class='comma'>,</span> <span class='id identifier rubyid_excluded'>excluded</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Parsing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> with `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser_type'>parser_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>` parser</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_excluded'>excluded</span> <span class='op'>=</span> <span class='id identifier rubyid_excluded'>excluded</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>when</span> <span class='const'>Regexp</span><span class='semicolon'>;</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>else</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='const'>Regexp</span><span class='op'>::</span><span class='const'>IGNORECASE</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_paths'>paths</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span>
    <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='embexpr_end'>}</span><span class='tstring_content'>/**/*.{rb,c,cc,cxx,cpp}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_p'>p</span> <span class='rbrace'>}</span><span class='period'>.</span>
    <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_p'>p</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span>
    <span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='op'>!</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_excluded'>excluded</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_re'>re</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=~</span> <span class='id identifier rubyid_re'>re</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_enter_level'>enter_level</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_parse_in_order'>parse_in_order</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_in_order-class_method">
  <h3 class='signature'>
  .<strong>parse_in_order</strong>(*files)  &#x21d2; <tt>void</tt>  <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Parses a list of files in a queue.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>files</span>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;</tt>)</span>
&mdash;    <div class='inline'>
<p>a list of files to queue for parsing</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


361
362
363
364
365
366
367
368
369
370
371
372
373</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 361</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_in_order'>parse_in_order</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_files'>files</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_global_state'>global_state</span> <span class='op'>=</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_before_parse_list_callbacks'>before_parse_list_callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_global_state'>global_state</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='const'>OrderedParser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_global_state'>global_state</span><span class='comma'>,</span> <span class='id identifier rubyid_files'>files</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_after_parse_list_callbacks'>after_parse_list_callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_global_state'>global_state</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_string-class_method">
  <h3 class='signature'>
  .<strong>parse_string</strong>(content, ptype = parser_type)  &#x21d2; <tt>Object</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses a string <code>content</code></p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>content</span>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the block of code to parse</p>
</div>
  </li>
  <li>
    <span class='name'>ptype</span>
    <span class='type'>(<tt>Symbol</tt>)</span>
    <em class='default'>(defaults to: <tt>parser_type</tt>)</em>
&mdash;    <div class='inline'>
<p>the parser type to use. See <a href="#parser_type-class_method" title="YARD::Parser::SourceParser.parser_type (method)">parser_type</a>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'></span>
    <div class='inline'>
<p>the parser object that was used to parse <code>content</code></p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


120
121
122</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 120</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_string'>parse_string</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_ptype'>ptype</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type'>parser_type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_ptype'>ptype</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='const'>StringIO</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_type_extensions-class_method">
  <h3 class='signature'>
  .<strong>parser_type_extensions</strong>  &#x21d2; <tt><a href="../../Hash.html" title="Hash (class)">Hash</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../Hash.html" title="Hash (class)">Hash</a></tt>)</span>
&mdash;    <div class='inline'>
<p>a list of registered parser type extensions</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.5.6</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


160</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type_extensions'>parser_type_extensions</span><span class='semicolon'>;</span> <span class='cvar'>@@parser_type_extensions</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_type_extensions=-class_method">
  <h3 class='signature'>
  .<strong>parser_type_extensions=</strong>(value)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


161</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 161</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type_extensions='>parser_type_extensions=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='cvar'>@@parser_type_extensions</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_type_for_extension-class_method">
  <h3 class='signature'>
  .<strong>parser_type_for_extension</strong>(extension)  &#x21d2; <tt>Symbol</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds a parser type that is registered for the extension. If no type is
found, the default Ruby type is returned.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>Symbol</tt>)</span>
&mdash;    <div class='inline'>
<p>the parser type to be used for the extension</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.5.6</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


168
169
170
171
172
173</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type_for_extension'>parser_type_for_extension</span><span class='lparen'>(</span><span class='id identifier rubyid_extension'>extension</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type_extensions'>parser_type_extensions</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_exts'>exts</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_exts'>exts</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ext'>ext</span><span class='op'>|</span> <span class='id identifier rubyid_ext'>ext</span> <span class='op'>===</span> <span class='id identifier rubyid_extension'>extension</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_validated_parser_type'>validated_parser_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span> <span class='op'>?</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>:</span> <span class='symbol'>:ruby</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_types-class_method">
  <h3 class='signature'>
  .<strong>parser_types</strong>  &#x21d2; <tt><a href="../../Hash.html" title="Hash (class)">Hash</a>{Symbol=&gt;Object}</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../Hash.html" title="Hash (class)">Hash</a>{Symbol=&gt;Object}</tt>)</span>
&mdash;    <div class='inline'>
<p>a list of registered parser types</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.5.6</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


154</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_types'>parser_types</span><span class='semicolon'>;</span> <span class='cvar'>@@parser_types</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_types=-class_method">
  <h3 class='signature'>
  .<strong>parser_types=</strong>(value)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


155</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_types='>parser_types=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='cvar'>@@parser_types</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="register_parser_type-class_method">
  <h3 class='signature'>
  .<strong>register_parser_type</strong>(type, parser_klass, extensions = nil)  &#x21d2; <tt>void</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Registers a new parser type.</p>


  </div>
</div>
<div class="tags">
    <div class="examples">
    <p class="tag_title">Examples:</p>
        <p class="example_title"><div class='inline'>
<p>Registering a parser for java files</p>
</div></p>
      <pre class="example code"><code><span class='const'>SourceParser</span><span class='period'>.</span><span class='id identifier rubyid_register_parser_type'>register_parser_type</span> <span class='symbol'>:java</span><span class='comma'>,</span> <span class='const'>JavaParser</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>java</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>type</span>
    <span class='type'>(<tt>Symbol</tt>)</span>
&mdash;    <div class='inline'>
<p>a symbolic name for the parser type</p>
</div>
  </li>
  <li>
    <span class='name'>parser_klass</span>
    <span class='type'>(<tt><a href="Base.html" title="YARD::Parser::Base (class)">Base</a></tt>)</span>
&mdash;    <div class='inline'>
<p>a class that implements parsing and tokenization</p>
</div>
  </li>
  <li>
    <span class='name'>extensions</span>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;</tt>, <tt><a href="../../String.html" title="String (class)">String</a></tt>, <tt>Regexp</tt>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>a list of extensions or a regex to match against the file extension</p>
</div>
  </li>
</ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="Base.html" title="YARD::Parser::Base (class)">Base</a></li>
      </ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


143
144
145
146
147
148
149</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 143</span>

<span class='kw'>def</span> <span class='id identifier rubyid_register_parser_type'>register_parser_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_parser_klass'>parser_klass</span><span class='comma'>,</span> <span class='id identifier rubyid_extensions'>extensions</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='const'>Base</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_parser_klass'>parser_klass</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expecting parser_klass to be a subclass of YARD::Parser::Base</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_parser_type_extensions'>parser_type_extensions</span><span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_extensions'>extensions</span> <span class='kw'>if</span> <span class='id identifier rubyid_extensions'>extensions</span>
  <span class='id identifier rubyid_parser_types'>parser_types</span><span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_klass'>parser_klass</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="tokenize-class_method">
  <h3 class='signature'>
  .<strong>tokenize</strong>(content, ptype = parser_type)  &#x21d2; <tt><a href="../../Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tokenizes but does not parse the block of code</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>content</span>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the block of code to tokenize</p>
</div>
  </li>
  <li>
    <span class='name'>ptype</span>
    <span class='type'>(<tt>Symbol</tt>)</span>
    <em class='default'>(defaults to: <tt>parser_type</tt>)</em>
&mdash;    <div class='inline'>
<p>the parser type to use. See <a href="#parser_type-class_method" title="YARD::Parser::SourceParser.parser_type (method)">parser_type</a>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a></tt>)</span>
&mdash;    <div class='inline'>
<p>a list of tokens</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


129
130
131</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tokenize'>tokenize</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_ptype'>ptype</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type'>parser_type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_ptype'>ptype</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tokenize'>tokenize</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="validated_parser_type-class_method">
  <h3 class='signature'>
  .<strong>validated_parser_type</strong>(type)  &#x21d2; <tt>Symbol</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the validated parser type. Basically, enforces that :ruby type is
never set if the Ripper library is not available</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>type</span>
    <span class='type'>(<tt>Symbol</tt>)</span>
&mdash;    <div class='inline'>
<p>the parser type to set</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>Symbol</tt>)</span>
&mdash;    <div class='inline'>
<p>the validated parser type</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


181
182
183</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 181</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validated_parser_type'>validated_parser_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='op'>!</span><span class='kw'>defined?</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Ripper</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:ruby</span> <span class='op'>?</span> <span class='symbol'>:ruby18</span> <span class='op'>:</span> <span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="convert_encoding-instance_method">
  <h3 class='signature first'>
  #<strong>convert_encoding</strong>(content)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Searches for encoding line and forces encoding</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.5.3</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 468</span>

<span class='kw'>def</span> <span class='id identifier rubyid_convert_encoding'>convert_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_content'>content</span> <span class='kw'>unless</span> <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:force_encoding</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span> <span class='op'>=~</span> <span class='const'>ENCODING_LINE</span>
    <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='backref'>$1</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>binary</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='const'>ENCODING_BYTE_ORDER_MARKS</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_bom'>bom</span><span class='op'>|</span>
      <span class='id identifier rubyid_bom'>bom</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>binary</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_bom'>bom</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_bom'>bom</span>
        <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_encoding'>encoding</span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_content'>content</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>utf-8</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'># UTF-8 is default encoding
</span>    <span class='id identifier rubyid_content'>content</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse-instance_method">
  <h3 class='signature'>
  #<strong>parse</strong>(content = __FILE__)  &#x21d2; <tt>Object</tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The main parser method. This should not be called directly. Instead, use
the class methods <a href="#parse-class_method" title="YARD::Parser::SourceParser.parse (method)">parse</a> and <a href="#parse_string-class_method" title="YARD::Parser::SourceParser.parse_string (method)">parse_string</a>.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>content</span>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>, <tt>#read</tt>, <tt>Object</tt>)</span>
    <em class='default'>(defaults to: <tt>__FILE__</tt>)</em>
&mdash;    <div class='inline'>
<p>the source file to parse</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
&mdash;    <div class='inline'>
<p>the parser object used to parse the source</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 415</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='kw'>__FILE__</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_content'>content</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='ivar'>@file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_cleanpath'>cleanpath</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_convert_encoding'>convert_encoding</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read_binary'>read_binary</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_checksum'>checksum</span> <span class='op'>=</span> <span class='const'>Registry</span><span class='period'>.</span><span class='id identifier rubyid_checksum_for'>checksum_for</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'>Registry</span><span class='period'>.</span><span class='id identifier rubyid_checksums'>checksums</span><span class='lbracket'>[</span><span class='id identifier rubyid_file'>file</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_checksum'>checksum</span>

    <span class='kw'>if</span> <span class='const'>Registry</span><span class='period'>.</span><span class='id identifier rubyid_checksums'>checksums</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>File &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; was modified, re-processing...</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='const'>Registry</span><span class='period'>.</span><span class='id identifier rubyid_checksums'>checksums</span><span class='lbracket'>[</span><span class='ivar'>@file</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_checksum'>checksum</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parser_type'>parser_type</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_type_for_filename'>parser_type_for_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:read</span>
  <span class='kw'>end</span>

  <span class='ivar'>@contents</span> <span class='op'>=</span> <span class='id identifier rubyid_content'>content</span>
  <span class='ivar'>@parser</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_class'>parser_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_before_parse_file_callbacks'>before_parse_file_callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='ivar'>@parser</span> <span class='kw'>if</span> <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='id identifier rubyid_post_process'>post_process</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_after_parse_file_callbacks'>after_parse_file_callbacks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='ivar'>@parser</span>
<span class='kw'>rescue</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='const'>NotImplementedError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot parse `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='symbol'>:warn</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>ParserSyntaxError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='symbol'>:warn</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_class-instance_method">
  <h3 class='signature'>
  #<strong>parser_class</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt>ArgumentError</tt>)</span>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>0.5.6</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


510
511
512
513
514</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 510</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_class'>parser_class</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_parser_types'>parser_types</span><span class='lbracket'>[</span><span class='id identifier rubyid_parser_type'>parser_type</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid parser type &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parser_type'>parser_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; or unrecognized file</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caller'>caller</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_klass'>klass</span>
  <span class='id identifier rubyid_klass'>klass</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser_type_for_filename-instance_method">
  <h3 class='signature'>
  #<strong>parser_type_for_filename</strong>(filename)  &#x21d2; <tt>Symbol</tt>  <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Guesses the parser type to use depending on the file extension.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>filename</span>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the filename to use to guess the parser type</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt>Symbol</tt>)</span>
&mdash;    <div class='inline'>
<p>a parser type that matches the filename</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


503
504
505
506
507</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 503</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser_type_for_filename'>parser_type_for_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ext'>ext</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_parser_type_for_extension'>parser_type_for_extension</span><span class='lparen'>(</span><span class='id identifier rubyid_ext'>ext</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parser_type'>parser_type</span> <span class='op'>==</span> <span class='symbol'>:ruby18</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:ruby</span> <span class='op'>?</span> <span class='symbol'>:ruby18</span> <span class='op'>:</span> <span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_process-instance_method">
  <h3 class='signature'>
  #<strong>post_process</strong>  &#x21d2; <tt>void</tt>  <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Runs a <a href="../Handlers/Processor.html" title="YARD::Handlers::Processor (class)">Handlers::Processor</a> object to post process the parsed statements.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


488
489
490
491
492
493</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 488</span>

<span class='kw'>def</span> <span class='id identifier rubyid_post_process'>post_process</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:enumerator</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_enumerator'>enumerator</span> <span class='op'>=</span> <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_enumerator'>enumerator</span>
  <span class='id identifier rubyid_post'>post</span> <span class='op'>=</span> <span class='const'>Handlers</span><span class='op'>::</span><span class='const'>Processor</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_post'>post</span><span class='period'>.</span><span class='id identifier rubyid_process'>process</span><span class='lparen'>(</span><span class='id identifier rubyid_enumerator'>enumerator</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="tokenize-instance_method">
  <h3 class='signature'>
  #<strong>tokenize</strong>(content)  &#x21d2; <tt><a href="../../Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tokenizes but does not parse the block of code using the current
<a href="#parser_type-instance_method" title="YARD::Parser::SourceParser#parser_type (method)">#parser_type</a></p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>content</span>
    <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
&mdash;    <div class='inline'>
<p>the block of code to tokenize</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<tt><a href="../../Array.html" title="Array (class)">Array</a></tt>)</span>
&mdash;    <div class='inline'>
<p>a list of tokens</p>
</div>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


459
460
461
462</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/yard/parser/source_parser.rb', line 459</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tokenize'>tokenize</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
  <span class='ivar'>@parser</span> <span class='op'>=</span> <span class='id identifier rubyid_parser_class'>parser_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='ivar'>@parser</span><span class='period'>.</span><span class='id identifier rubyid_tokenize'>tokenize</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>