<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: OpenSSL::PKey::EC &mdash; openssl Ruby-2.4.0 d2016-08-04</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "OpenSSL::PKey::EC",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../../index.html'>Home</a> &raquo; 
          <a href='../../../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='../../index.html'>openssl</a> &raquo; 
          <a href='../../_index.html'>Index (E)</a> &raquo; 
          <a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a> &raquo; 
          <a href="../PKey.html" title="OpenSSL::PKey (module)">PKey</a> &raquo; 
          <span class='title'>EC</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: OpenSSL::PKey::EC</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'><a href="PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></li>
        <li class='next'>OpenSSL::PKey::EC</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="EC/Group.html" title="OpenSSL::PKey::EC::Group (class)">Group</a>,
    <a href="EC/Point.html" title="OpenSSL::PKey::EC::Point (class)">Point</a>
      </div>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L1704'>ext/openssl/ossl_pkey_ec.c</a></div>  </td>
  </tr>
</table>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='NAMED_CURVE-constant'>
      NAMED_CURVE
    </dt>
    <dd>
          </dd>
  </dl>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#builtin_curves-class_method" title="builtin_curves (class method)">.<strong>builtin_curves</strong>  &#x21d2; Array, comment </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for EC_builtin_curves()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate-class_method" title="generate (class method)">.<strong>generate</strong>(ec_group)  &#x21d2; EC </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new EC instance with a new random private and public key.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>()  </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for:</p>

<pre class="code ruby"><code class="ruby">EC_KEY_*</code></pre>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#check_key-instance_method" title="#check_key (instance method)">#<strong>check_key</strong>  &#x21d2; true </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Raises an exception if the key is invalid.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dh_compute_key-instance_method" title="#dh_compute_key (instance method)">#<strong>dh_compute_key</strong>(pubkey)  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for ECDH_compute_key()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dsa_sign_asn1-instance_method" title="#dsa_sign_asn1 (instance method)">#<strong>dsa_sign_asn1</strong>(data)  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for ECDSA_sign()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dsa_verify_asn1-instance_method" title="#dsa_verify_asn1 (instance method)">#<strong>dsa_verify_asn1</strong>(data, sig)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for ECDSA_verify()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#export-instance_method" title="#export (instance method)">#<strong>export</strong>([cipher, pass_phrase])  &#x21d2; String </a>
        (also: #to_pem)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Outputs the EC key in PEM encoding.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate_key-instance_method" title="#generate_key (instance method)">#<strong>generate_key</strong>  &#x21d2; self </a>
        (also: #generate_key!)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generates a new random private and public key.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate_key%21-instance_method" title="#generate_key! (instance method)">#<strong>generate_key!</strong>  &#x21d2; self </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#generate_key-instance_method" title="OpenSSL::PKey::EC#generate_key (method)">#generate_key</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#group-instance_method" title="#group (instance method)">#<strong>group</strong>  &#x21d2; group </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a constant <code>OpenSSL::EC::Group</code> that is tied to the key.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#group%3D-instance_method" title="#group= (instance method)">#<strong>group=</strong>(group)  &#x21d2; group </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the same object passed, not the group object associated with the
key.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#private_key%3F-instance_method" title="#private? (instance method)">#<strong>private?</strong>  &#x21d2; Boolean </a>
        (also: #private_key?)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns whether this EC instance has a private key.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#private_key-instance_method" title="#private_key (instance method)">#<strong>private_key</strong>  &#x21d2; OpenSSL::BN </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for EC_KEY_get0_private_key()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#private_key%3D-instance_method" title="#private_key= (instance method)">#<strong>private_key=</strong>(openssl_bn)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for EC_KEY_set_private_key()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#private_key%3F-instance_method" title="#private_key? (instance method)">#<strong>private_key?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#private%3F-instance_method" title="OpenSSL::PKey::EC#private? (method)">#private?</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#public_key%3F-instance_method" title="#public? (instance method)">#<strong>public?</strong>  &#x21d2; Boolean </a>
        (also: #public_key?)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns whether this EC instance has a public key.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#public_key-instance_method" title="#public_key (instance method)">#<strong>public_key</strong>  &#x21d2; EC </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for EC_KEY_get0_public_key()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#public_key%3D-instance_method" title="#public_key= (instance method)">#<strong>public_key=</strong>(ec_point)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for EC_KEY_set_public_key()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#public_key%3F-instance_method" title="#public_key? (instance method)">#<strong>public_key?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#public%3F-instance_method" title="OpenSSL::PKey::EC#public? (method)">#public?</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_der-instance_method" title="#to_der (instance method)">#<strong>to_der</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for i2d_ECPrivateKey_bio()</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_pem-instance_method" title="#to_pem (instance method)">#<strong>to_pem</strong>([cipher, pass_phrase])  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#export-instance_method" title="OpenSSL::PKey::EC#export (method)">#export</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_text-instance_method" title="#to_text (instance method)">#<strong>to_text</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See the OpenSSL documentation for EC_KEY_print()</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="PKey.html" title="OpenSSL::PKey::PKey (class)">PKey</a></h3>
  <p class="inherited"><a href="PKey.html#sign-instance_method" title="OpenSSL::PKey::PKey#sign (method)">#sign</a>, <a href="PKey.html#verify-instance_method" title="OpenSSL::PKey::PKey#verify (method)">#verify</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  <span class='overload'>.<strong>new</strong>()  </span>
    <span class='overload'>.<strong>new</strong>(ec_key)  </span>
    <span class='overload'>.<strong>new</strong>(ec_group)  </span>
    <span class='overload'>.<strong>new</strong>(&quot;secp112r1&quot;)  </span>
    <span class='overload'>.<strong>new</strong>(pem_string)  </span>
    <span class='overload'>.<strong>new</strong>(pem_string[, pwd])  </span>
    <span class='overload'>.<strong>new</strong>(der_string)  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for:</p>

<pre class="code ruby"><code class="ruby">EC_KEY_*</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L228'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 228</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_initialize(int argc, VALUE *argv, VALUE self)
{
    EVP_PKEY *pkey;
    EC_KEY *ec;
    VALUE arg, pass;

    GetPKey(self, pkey);
    if (EVP_PKEY_base_id(pkey) != EVP_PKEY_NONE)
        ossl_raise(eECError, &quot;EC_KEY already initialized&quot;);

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;arg, &amp;pass);

    if (NIL_P(arg)) {
        if (!(ec = EC_KEY_new()))
	    ossl_raise(eECError, NULL);
    } else if (rb_obj_is_kind_of(arg, cEC)) {
	EC_KEY *other_ec = NULL;

	SafeRequire_EC_KEY(arg, other_ec);
	if (!(ec = EC_KEY_dup(other_ec)))
	    ossl_raise(eECError, NULL);
    } else if (rb_obj_is_kind_of(arg, cEC_GROUP)) {
	ec = ec_key_new_from_group(arg);
    } else {
	BIO *in;

	pass = ossl_pem_passwd_value(pass);
	in = ossl_obj2bio(arg);

	ec = PEM_read_bio_ECPrivateKey(in, NULL, ossl_pem_passwd_cb, (void *)pass);
	if (!ec) {
	    OSSL_BIO_reset(in);
	    ec = PEM_read_bio_EC_PUBKEY(in, NULL, ossl_pem_passwd_cb, (void *)pass);
	}
	if (!ec) {
	    OSSL_BIO_reset(in);
	    ec = d2i_ECPrivateKey_bio(in, NULL);
	}
	if (!ec) {
	    OSSL_BIO_reset(in);
	    ec = d2i_EC_PUBKEY_bio(in, NULL);
	}
	BIO_free(in);

	if (!ec) {
	    ossl_clear_error();
	    ec = ec_key_new_from_group(arg);
	}
    }

    if (!EVP_PKEY_assign_EC_KEY(pkey, ec)) {
	EC_KEY_free(ec);
	ossl_raise(eECError, &quot;EVP_PKEY_assign_EC_KEY&quot;);
    }

    rb_iv_set(self, &quot;@group&quot;, Qnil);

    return self;
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="builtin_curves-class_method">
  <h3 class='signature first'>
  .<strong>builtin_curves</strong>  &#x21d2; <tt>Array</tt>, <tt>comment</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for EC_builtin_curves()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L1075'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 1075</span></pre>
<pre class='code cpp'>

static VALUE ossl_s_builtin_curves(VALUE self)
{
    EC_builtin_curve *curves = NULL;
    int n;
    int crv_len = rb_long2int(EC_get_builtin_curves(NULL, 0));
    VALUE ary, ret;

    curves = ALLOCA_N(EC_builtin_curve, crv_len);
    if (curves == NULL)
        return Qnil;
    if (!EC_get_builtin_curves(curves, crv_len))
        ossl_raise(rb_eRuntimeError, &quot;EC_get_builtin_curves&quot;);

    ret = rb_ary_new2(crv_len);

    for (n = 0; n &lt; crv_len; n++) {
        const char *sname = OBJ_nid2sn(curves[n].nid);
        const char *comment = curves[n].comment;

        ary = rb_ary_new2(2);
        rb_ary_push(ary, rb_str_new2(sname));
        rb_ary_push(ary, comment ? rb_str_new2(comment) : Qnil);
        rb_ary_push(ret, ary);
    }

    return ret;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>generate</strong>(ec_group)  &#x21d2; <tt><a href="" title="OpenSSL::PKey::EC (class)">EC</a></tt> </span>
    <span class='overload'>.<strong>generate</strong>(string)  &#x21d2; <tt><a href="" title="OpenSSL::PKey::EC (class)">EC</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new EC instance with a new random private and public key.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L196'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 196</span></pre>
<pre class='code cpp'>

static VALUE
ossl_ec_key_s_generate(VALUE klass, VALUE arg)
{
    EC_KEY *ec;
    VALUE obj;

    ec = ec_key_new_from_group(arg);

    obj = ec_instance(klass, ec);
    if (obj == Qfalse) {
	EC_KEY_free(ec);
	ossl_raise(eECError, NULL);
    }

    if (!EC_KEY_generate_key(ec))
	ossl_raise(eECError, &quot;EC_KEY_generate_key&quot;);

    return obj;
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="check_key-instance_method">
  <h3 class='signature first'>
  #<strong>check_key</strong>  &#x21d2; <tt>true</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Raises an exception if the key is invalid.</p>

<p>See the OpenSSL documentation for EC_KEY_check_key()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L686'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


686
687
688
689
690
691
692
693
694
695
696</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 686</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_check_key(VALUE self)
{
    EC_KEY *ec;

    Require_EC_KEY(self, ec);

    if (EC_KEY_check_key(ec) != 1)
	ossl_raise(eECError, &quot;EC_KEY_check_key&quot;);

    return Qtrue;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dh_compute_key-instance_method">
  <h3 class='signature'>
  #<strong>dh_compute_key</strong>(pubkey)  &#x21d2; <tt>String</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for ECDH_compute_key()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L704'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 704</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_dh_compute_key(VALUE self, VALUE pubkey)
{
    EC_KEY *ec;
    EC_POINT *point;
    int buf_len;
    VALUE str;

    Require_EC_KEY(self, ec);
    SafeRequire_EC_POINT(pubkey, point);

/* BUG: need a way to figure out the maximum string size */
    buf_len = 1024;
    str = rb_str_new(0, buf_len);
/* BUG: take KDF as a block */
    buf_len = ECDH_compute_key(RSTRING_PTR(str), buf_len, point, ec, NULL);
    if (buf_len &lt; 0)
         ossl_raise(eECError, &quot;ECDH_compute_key&quot;);

    rb_str_resize(str, buf_len);

    return str;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dsa_sign_asn1-instance_method">
  <h3 class='signature'>
  #<strong>dsa_sign_asn1</strong>(data)  &#x21d2; <tt>String</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for ECDSA_sign()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L735'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 735</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_dsa_sign_asn1(VALUE self, VALUE data)
{
    EC_KEY *ec;
    unsigned int buf_len;
    VALUE str;

    Require_EC_KEY(self, ec);
    StringValue(data);

    if (EC_KEY_get0_private_key(ec) == NULL)
	ossl_raise(eECError, &quot;Private EC key needed!&quot;);

    str = rb_str_new(0, ECDSA_size(ec) + 16);
    if (ECDSA_sign(0, (unsigned char *) RSTRING_PTR(data), RSTRING_LENINT(data), (unsigned char *) RSTRING_PTR(str), &amp;buf_len, ec) != 1)
         ossl_raise(eECError, &quot;ECDSA_sign&quot;);

    rb_str_resize(str, buf_len);

    return str;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dsa_verify_asn1-instance_method">
  <h3 class='signature'>
  #<strong>dsa_verify_asn1</strong>(data, sig)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for ECDSA_verify()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L762'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 762</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_dsa_verify_asn1(VALUE self, VALUE data, VALUE sig)
{
    EC_KEY *ec;

    Require_EC_KEY(self, ec);
    StringValue(data);
    StringValue(sig);

    switch (ECDSA_verify(0, (unsigned char *) RSTRING_PTR(data), RSTRING_LENINT(data), (unsigned char *) RSTRING_PTR(sig), (int)RSTRING_LEN(sig), ec)) {
    case 1:	return Qtrue;
    case 0:	return Qfalse;
    default:	break;
    }

    ossl_raise(eECError, &quot;ECDSA_verify&quot;);

    UNREACHABLE;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="export-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>export</strong>([cipher, pass_phrase])  &#x21d2; <tt>String</tt> </span>
    <span class='overload'>#<strong>to_pem</strong>([cipher, pass_phrase])  &#x21d2; <tt>String</tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>to_pem</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Outputs the EC key in PEM encoding.  If <code>cipher</code> and
<code>pass_phrase</code> are given they will be used to encrypt the key. 
<code>cipher</code> must be an <a href="../Cipher/Cipher.html" title="OpenSSL::Cipher::Cipher (class)">Cipher::Cipher</a> instance. Note
that encryption will only be effective for a private key, public keys will
always be encoded in plain text.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L609'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


609
610
611
612
613
614</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 609</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_export(int argc, VALUE *argv, VALUE self)
{
    VALUE cipher, passwd;
    rb_scan_args(argc, argv, &quot;02&quot;, &amp;cipher, &amp;passwd);
    return ossl_ec_key_to_string(self, cipher, passwd, EXPORT_PEM);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate_key-instance_method">
  <h3 class='signature'>
  #<strong>generate_key</strong>  &#x21d2; <tt>self</tt> 
  <span class='aliases'>Also known as: <span class='names'><span>generate_key!</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generates a new random private and public key.</p>

<p>See also the OpenSSL documentation for EC_KEY_generate_key()</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ec'>ec</span> <span class='op'>=</span> <span class='const'><a href="../../OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span><span class='op'>::</span><span class='const'><a href="../PKey.html" title="OpenSSL::PKey (module)">PKey</a></span><span class='op'>::</span><span class='const'><a href="" title="OpenSSL::PKey::EC (class)">EC</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="OpenSSL::PKey::EC.new (method)">new</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>prime256v1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_ec'>ec</span><span class='period'>.</span><span class='id identifier rubyid_private_key'>private_key</span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_ec'>ec</span><span class='period'>.</span><span class='id identifier rubyid_generate_key!'>generate_key!</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_ec'>ec</span><span class='period'>.</span><span class='id identifier rubyid_private_key'>private_key</span> <span class='comment'># =&gt; #&lt;OpenSSL::BN XXXXXX&gt;
</span></code></pre>


  </div>
</div>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L666'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


666
667
668
669
670
671
672
673
674
675
676</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 666</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_generate_key(VALUE self)
{
    EC_KEY *ec;

    Require_EC_KEY(self, ec);

    if (EC_KEY_generate_key(ec) != 1)
	ossl_raise(eECError, &quot;EC_KEY_generate_key&quot;);

    return self;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate_key!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>generate_key</strong>  &#x21d2; <tt>self</tt> </span>
    <span class='overload'>#<strong>generate_key!</strong>  &#x21d2; <tt>self</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#generate_key-instance_method" title="OpenSSL::PKey::EC#generate_key (method)">#generate_key</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="group-instance_method">
  <h3 class='signature'>
  #<strong>group</strong>  &#x21d2; <tt><a href="#group-instance_method" title="OpenSSL::PKey::EC#group (method)">group</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a constant <code>OpenSSL::EC::Group</code> that is tied to the key.
Modifying the returned group can make the key invalid.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L318'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 318</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_get_group(VALUE self)
{
    VALUE group_v;
    EC_KEY *ec;
    ossl_ec_group *ec_group;
    EC_GROUP *group;

    Require_EC_KEY(self, ec);

    group_v = rb_iv_get(self, &quot;@group&quot;);
    if (!NIL_P(group_v))
        return group_v;

    if ((group = (EC_GROUP *)EC_KEY_get0_group(ec)) != NULL) {
        group_v = rb_obj_alloc(cEC_GROUP);
        SafeGet_ec_group(group_v, ec_group);
        ec_group-&gt;group = group;
        ec_group-&gt;dont_free = 1;
        rb_iv_set(group_v, &quot;@key&quot;, self);
        rb_iv_set(self, &quot;@group&quot;, group_v);
        return group_v;
    }

    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="group=-instance_method">
  <h3 class='signature'>
  #<strong>group=</strong>(group)  &#x21d2; <tt><a href="#group-instance_method" title="OpenSSL::PKey::EC#group (method)">group</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the same object passed, not the group object associated with the
key. If you wish to access the group object tied to the key call key.group
after setting the group.</p>

<p>Setting the group will immediately destroy any previously assigned group
object. The group is internally copied by OpenSSL.  Modifying the original
group after assignment will not effect the internal key structure. (your
changes may be lost).  BE CAREFUL.</p>

<p>EC_KEY_set_group calls EC_GROUP_free(key-&gt;group) then EC_GROUP_dup(),
not EC_GROUP_copy. This documentation is accurate for OpenSSL 0.9.8b.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L360'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 360</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_set_group(VALUE self, VALUE group_v)
{
    VALUE old_group_v;
    EC_KEY *ec;
    EC_GROUP *group;

    Require_EC_KEY(self, ec);
    SafeRequire_EC_GROUP(group_v, group);

    old_group_v = rb_iv_get(self, &quot;@group&quot;);
    if (!NIL_P(old_group_v)) {
        ossl_ec_group *old_ec_group;
        SafeGet_ec_group(old_group_v, old_ec_group);

        old_ec_group-&gt;group = NULL;
        old_ec_group-&gt;dont_free = 0;
        rb_iv_set(old_group_v, &quot;@key&quot;, Qnil);
    }

    rb_iv_set(self, &quot;@group&quot;, Qnil);

    if (EC_KEY_set_group(ec, group) != 1)
        ossl_raise(eECError, &quot;EC_KEY_set_group&quot;);

    return group_v;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="private?-instance_method">
  <h3 class='signature'>
  #<strong>private?</strong>  &#x21d2; <tt>Boolean</tt> 
  <span class='aliases'>Also known as: <span class='names'><span>private_key?</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns whether this EC instance has a private key. The private key (BN)
can be retrieved with <a href="#private_key-instance_method" title="OpenSSL::PKey::EC#private_key (method)">#private_key</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L529'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


529
530
531
532
533
534
535
536</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 529</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_is_private(VALUE self)
{
    EC_KEY *ec;

    Require_EC_KEY(self, ec);

    return EC_KEY_get0_private_key(ec) ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="private_key-instance_method">
  <h3 class='signature'>
  #<strong>private_key</strong>  &#x21d2; <tt><a href="../BN.html" title="OpenSSL::BN (class)">OpenSSL::BN</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for EC_KEY_get0_private_key()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L393'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


393
394
395
396
397
398
399
400
401
402
403
404</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 393</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_get_private_key(VALUE self)
{
    EC_KEY *ec;
    const BIGNUM *bn;

    Require_EC_KEY(self, ec);

    if ((bn = EC_KEY_get0_private_key(ec)) == NULL)
        return Qnil;

    return ossl_bn_new(bn);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="private_key=-instance_method">
  <h3 class='signature'>
  #<strong>private_key=</strong>(openssl_bn)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for EC_KEY_set_private_key()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L412'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 412</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_set_private_key(VALUE self, VALUE private_key)
{
    EC_KEY *ec;
    BIGNUM *bn = NULL;

    Require_EC_KEY(self, ec);
    if (!NIL_P(private_key))
        bn = GetBNPtr(private_key);

    switch (EC_KEY_set_private_key(ec, bn)) {
    case 1:
        break;
    case 0:
        if (bn == NULL)
            break;
    default:
        ossl_raise(eECError, &quot;EC_KEY_set_private_key&quot;);
    }

    return private_key;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="private_key?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>private?</strong>  &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>private_key?</strong>  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#private%3F-instance_method" title="OpenSSL::PKey::EC#private? (method)">#private?</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="public?-instance_method">
  <h3 class='signature'>
  #<strong>public?</strong>  &#x21d2; <tt>Boolean</tt> 
  <span class='aliases'>Also known as: <span class='names'><span>public_key?</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns whether this EC instance has a public key. The public key
(EC::Point) can be retrieved with <a href="#public_key-instance_method" title="OpenSSL::PKey::EC#public_key (method)">#public_key</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L513'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


513
514
515
516
517
518
519
520</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 513</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_is_public(VALUE self)
{
    EC_KEY *ec;

    Require_EC_KEY(self, ec);

    return EC_KEY_get0_public_key(ec) ? Qtrue : Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="public_key-instance_method">
  <h3 class='signature'>
  #<strong>public_key</strong>  &#x21d2; <tt><a href="" title="OpenSSL::PKey::EC (class)">EC</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for EC_KEY_get0_public_key()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L460'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 460</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_get_public_key(VALUE self)
{
    EC_KEY *ec;
    const EC_POINT *point;
    VALUE group;

    Require_EC_KEY(self, ec);

    if ((point = EC_KEY_get0_public_key(ec)) == NULL)
        return Qnil;

    group = rb_funcall(self, rb_intern(&quot;group&quot;), 0);
    if (NIL_P(group))
        ossl_raise(eECError, &quot;EC_KEY_get0_get0_group (has public_key but no group???&quot;);

    return ossl_ec_point_dup(point, group);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="public_key=-instance_method">
  <h3 class='signature'>
  #<strong>public_key=</strong>(ec_point)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for EC_KEY_set_public_key()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L484'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 484</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_set_public_key(VALUE self, VALUE public_key)
{
    EC_KEY *ec;
    EC_POINT *point = NULL;

    Require_EC_KEY(self, ec);
    if (!NIL_P(public_key))
        SafeRequire_EC_POINT(public_key, point);

    switch (EC_KEY_set_public_key(ec, point)) {
    case 1:
        break;
    case 0:
        if (point == NULL)
            break;
    default:
        ossl_raise(eECError, &quot;EC_KEY_set_public_key&quot;);
    }

    return public_key;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="public_key?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>public?</strong>  &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>public_key?</strong>  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#public%3F-instance_method" title="OpenSSL::PKey::EC#public? (method)">#public?</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="to_der-instance_method">
  <h3 class='signature'>
  #<strong>to_der</strong>  &#x21d2; <tt>String</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for i2d_ECPrivateKey_bio()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L622'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


622
623
624
625</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 622</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_to_der(VALUE self)
{
    return ossl_ec_key_to_string(self, Qnil, Qnil, EXPORT_DER);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_pem-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>export</strong>([cipher, pass_phrase])  &#x21d2; <tt>String</tt> </span>
    <span class='overload'>#<strong>to_pem</strong>([cipher, pass_phrase])  &#x21d2; <tt>String</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#export-instance_method" title="OpenSSL::PKey::EC#export (method)">#export</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="to_text-instance_method">
  <h3 class='signature'>
  #<strong>to_text</strong>  &#x21d2; <tt>String</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See the OpenSSL documentation for EC_KEY_print()</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/ext/openssl/ossl_pkey_ec.c#L633'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/openssl/ossl_pkey_ec.c', line 633</span></pre>
<pre class='code cpp'>

static VALUE ossl_ec_key_to_text(VALUE self)
{
    EC_KEY *ec;
    BIO *out;
    VALUE str;

    Require_EC_KEY(self, ec);
    if (!(out = BIO_new(BIO_s_mem()))) {
	ossl_raise(eECError, &quot;BIO_new(BIO_s_mem())&quot;);
    }
    if (!EC_KEY_print(out, ec, 0)) {
	BIO_free(out);
	ossl_raise(eECError, &quot;EC_KEY_print&quot;);
    }
    str = ossl_membio2str(out);

    return str;
}
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>