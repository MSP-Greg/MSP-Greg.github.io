<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: StringScanner &mdash; strscan Ruby-2.4.0 d2016-07-07</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "StringScanner",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>strscan</a> &raquo; 
          <a href='_index.html'>Index (S)</a> &raquo; 
          <span class='title'>StringScanner</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: StringScanner</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'>Object</span>
        <ul class='fullTree'>
          <li>Object</li>
            <li class='next'>StringScanner</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>



  <dl>
    <dt>Defined in:</dt>
    <dd>strscan/strscan.c</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>StringScanner provides for lexical scanning operations on a String.  Here
is an example of its usage:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is an example string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>               <span class='comment'># -&gt; false
</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;This&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;is&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>               <span class='comment'># -&gt; false
</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;an&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;example&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; &quot;string&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>               <span class='comment'># -&gt; true
</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil
</span></code></pre>

<p>Scanning a string means remembering the position of a <em>scan
pointer</em>, which is just an index.  The point of scanning is to move
forward a bit at a time, so matches are sought after the scan pointer;
usually immediately after it.</p>

<p>Given the string “test string”, here are the pertinent scan pointer
positions:</p>

<pre class="code ruby"><code class="ruby">  t e s t   s t r i n g
0 1 2 ...             1
                      0</code></pre>

<p>When you <a href="#scan-instance_method" title="StringScanner#scan (method)">#scan</a> for a pattern (a regular expression), the match must occur
at the character after the scan pointer.  If you use <a href="#scan_until-instance_method" title="StringScanner#scan_until (method)">#scan_until</a>, then
the match can occur anywhere after the scan pointer.  In both cases, the
scan pointer moves <em>just beyond</em> the last character of the match,
ready to scan again from the next character onwards.  This is demonstrated
by the example above.</p>

<h4 id="label-Method+Categories">Method Categories</h4>

<p>There are other methods besides the plain scanners.  You can look ahead in
the string without actually scanning.  You can access the most recent
match. You can modify the string being scanned, reset or terminate the
scanner, find out or change the position of the scan pointer, skip ahead,
and so on.</p>

<h5 id="label-Advancing+the+Scan+Pointer">Advancing the Scan Pointer</h5>
<ul><li>
<p><a href="#getch-instance_method" title="StringScanner#getch (method)">#getch</a></p>
</li><li>
<p><a href="#get_byte-instance_method" title="StringScanner#get_byte (method)">#get_byte</a></p>
</li><li>
<p><a href="#scan-instance_method" title="StringScanner#scan (method)">#scan</a></p>
</li><li>
<p><a href="#scan_until-instance_method" title="StringScanner#scan_until (method)">#scan_until</a></p>
</li><li>
<p><a href="#skip-instance_method" title="StringScanner#skip (method)">#skip</a></p>
</li><li>
<p><a href="#skip_until-instance_method" title="StringScanner#skip_until (method)">#skip_until</a></p>
</li></ul>

<h5 id="label-Looking+Ahead">Looking Ahead</h5>
<ul><li>
<p><a href="#check-instance_method" title="StringScanner#check (method)">#check</a></p>
</li><li>
<p><a href="#check_until-instance_method" title="StringScanner#check_until (method)">#check_until</a></p>
</li><li>
<p><a href="#exist%3F-instance_method" title="StringScanner#exist? (method)">#exist?</a></p>
</li><li>
<p><a href="#match%3F-instance_method" title="StringScanner#match? (method)">#match?</a></p>
</li><li>
<p><a href="#peek-instance_method" title="StringScanner#peek (method)">#peek</a></p>
</li></ul>

<h5 id="label-Finding+Where+we+Are">Finding Where we Are</h5>
<ul><li>
<p><a href="#beginning_of_line%3F-instance_method" title="StringScanner#beginning_of_line? (method)">#beginning_of_line?</a> (#bol?)</p>
</li><li>
<p><a href="#eos%3F-instance_method" title="StringScanner#eos? (method)">#eos?</a></p>
</li><li>
<p><a href="#rest%3F-instance_method" title="StringScanner#rest? (method)">#rest?</a></p>
</li><li>
<p><a href="#rest_size-instance_method" title="StringScanner#rest_size (method)">#rest_size</a></p>
</li><li>
<p><a href="#pos-instance_method" title="StringScanner#pos (method)">#pos</a></p>
</li></ul>

<h5 id="label-Setting+Where+we+Are">Setting Where we Are</h5>
<ul><li>
<p><a href="#reset-instance_method" title="StringScanner#reset (method)">#reset</a></p>
</li><li>
<p><a href="#terminate-instance_method" title="StringScanner#terminate (method)">#terminate</a></p>
</li><li>
<p><a href="#pos%3D-instance_method" title="StringScanner#pos= (method)">#pos=</a></p>
</li></ul>

<h5 id="label-Match+Data">Match Data</h5>
<ul><li>
<p><a href="#matched-instance_method" title="StringScanner#matched (method)">#matched</a></p>
</li><li>
<p><a href="#matched%3F-instance_method" title="StringScanner#matched? (method)">#matched?</a></p>
</li><li>
<p><a href="#matched_size-instance_method" title="StringScanner#matched_size (method)">#matched_size</a></p>
</li><li><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</li><li>
<p><a href="#pre_match-instance_method" title="StringScanner#pre_match (method)">#pre_match</a></p>
</li><li>
<p><a href="#post_match-instance_method" title="StringScanner#post_match (method)">#post_match</a></p>
</li></ul>

<h5 id="label-Miscellaneous">Miscellaneous</h5>
<ul><li>
<p>&lt;&lt;</p>
</li><li>
<p><a href="#concat-instance_method" title="StringScanner#concat (method)">#concat</a></p>
</li><li>
<p><a href="#string-instance_method" title="StringScanner#string (method)">#string</a></p>
</li><li>
<p><a href="#string%3D-instance_method" title="StringScanner#string= (method)">#string=</a></p>
</li><li>
<p><a href="#unscan-instance_method" title="StringScanner#unscan (method)">#unscan</a></p>
</li></ul>

<p>There are aliases to several of the methods.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2>Defined Under Namespace</h2>

  <p class='children'><strong class='exceptions'>Exceptions:</strong>
    <a href="StringScanner/Error.html" title="StringScanner::Error (class)">Error</a>
  </p>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#must_C_version-class_method" title="must_C_version (class method)">.<strong>must_C_version</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This method is defined for backward compatibility.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(string, dup = false)  </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new StringScanner object to scan over the given
<code>string</code>.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%3C%3C-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(str)  </a>
        (also: #concat)
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Appends <code>str</code> to the string being scanned.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D-instance_method" title="#[] (instance method)">#<strong>[]</strong>(n)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Return the n-th subgroup in the most recent match.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#beginning_of_line%3F-instance_method" title="#beginning_of_line? (instance method)">#<strong>beginning_of_line?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> iff the scan pointer is at the beginning of the
line.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#charpos-instance_method" title="#charpos (instance method)">#<strong>charpos</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the character position of the scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check-instance_method" title="#check (instance method)">#<strong>check</strong>(pattern)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This returns the value that <a href="#scan-instance_method" title="StringScanner#scan (method)">#scan</a> would return, without advancing the
scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_until-instance_method" title="#check_until (instance method)">#<strong>check_until</strong>(pattern)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>This returns the value that <a href="#scan_until-instance_method" title="StringScanner#scan_until (method)">#scan_until</a> would return, without advancing
the scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Equivalent to <a href="#terminate-instance_method" title="StringScanner#terminate (method)">#terminate</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(str)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#%3C%3C-instance_method" title="StringScanner#&lt;&lt; (method)">#&lt;&lt;</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Equivalent to <a href="#eos%3F-instance_method" title="StringScanner#eos? (method)">#eos?</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eos%3F-instance_method" title="#eos? (instance method)">#<strong>eos?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the scan pointer is at the end of the string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#exist%3F-instance_method" title="#exist? (instance method)">#<strong>exist?</strong>(pattern)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Looks <em>ahead</em> to see if the <code>pattern</code> exists
<em>anywhere</em> in the string, without advancing the scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#get_byte-instance_method" title="#get_byte (instance method)">#<strong>get_byte</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Scans one byte and returns it.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getbyte-instance_method" title="#getbyte (instance method)">#<strong>getbyte</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Equivalent to <a href="#get_byte-instance_method" title="StringScanner#get_byte (method)">#get_byte</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getch-instance_method" title="#getch (instance method)">#<strong>getch</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Scans one character and returns it.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Duplicates a StringScanner object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string that represents the StringScanner object, showing:</p>
<ul><li>
<p>the current position</p>
</li><li>
<p>the size of the string</p>
</li><li>
<p>the characters surrounding the scan pointer</p>
</li></ul>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#match%3F-instance_method" title="#match? (instance method)">#<strong>match?</strong>(pattern)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Tests whether the given <code>pattern</code> is matched from the current
scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#matched-instance_method" title="#matched (instance method)">#<strong>matched</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the last matched string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#matched%3F-instance_method" title="#matched? (instance method)">#<strong>matched?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> iff the last match was successful.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#matched_size-instance_method" title="#matched_size (instance method)">#<strong>matched_size</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the size of the most recent match (see <a href="#matched-instance_method" title="StringScanner#matched (method)">#matched</a>), or
<code>nil</code> if there was no recent match.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#peek-instance_method" title="#peek (instance method)">#<strong>peek</strong>(len)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Extracts a string corresponding to <code>string[pos,len]</code>, without
advancing the scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#peep-instance_method" title="#peep (instance method)">#<strong>peep</strong>(v)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Equivalent to <a href="#peek-instance_method" title="StringScanner#peek (method)">#peek</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pointer-instance_method" title="#pointer (instance method)">#<strong>pointer</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#pos-instance_method" title="StringScanner#pos (method)">#pos</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pointer%3D-instance_method" title="#pos= (instance method)">#<strong>pos=</strong>(n)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#pos%3D-instance_method" title="StringScanner#pos= (method)">#pos=</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pos-instance_method" title="#pos (instance method)">#<strong>pos</strong>  </a>
        (also: #pointer)
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the byte position of the scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pos%3D-instance_method" title="#pos= (instance method)">#<strong>pos=</strong>(n)  </a>
        (also: #pointer=)
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the byte position of the scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_match-instance_method" title="#post_match (instance method)">#<strong>post_match</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Return the <strong><em>post</strong>-match</em> (in the regular expression
sense) of the last scan.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pre_match-instance_method" title="#pre_match (instance method)">#<strong>pre_match</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Return the <strong><em>pre</strong>-match</em> (in the regular expression
sense) of the last scan.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reset-instance_method" title="#reset (instance method)">#<strong>reset</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Reset the scan pointer (index 0) and clear matching data.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rest-instance_method" title="#rest (instance method)">#<strong>rest</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the “rest” of the string (i.e. everything after the scan pointer).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rest%3F-instance_method" title="#rest? (instance method)">#<strong>rest?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true iff there is more data in the string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rest_size-instance_method" title="#rest_size (instance method)">#<strong>rest_size</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p><code>s.rest_size</code> is equivalent to <code>s.rest.size</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#restsize-instance_method" title="#restsize (instance method)">#<strong>restsize</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p><code>s.restsize</code> is equivalent to <code>s.rest_size</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>(pattern)  &#x21d2; String </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Tries to match with <code>pattern</code> at the current position.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#scan_full-instance_method" title="#scan_full (instance method)">#<strong>scan_full</strong>(pattern, advance_pointer_p, return_string_p)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Tests whether the given <code>pattern</code> is matched from the current
scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#scan_until-instance_method" title="#scan_until (instance method)">#<strong>scan_until</strong>(pattern)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Scans the string <em>until</em> the <code>pattern</code> is matched.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#search_full-instance_method" title="#search_full (instance method)">#<strong>search_full</strong>(pattern, advance_pointer_p, return_string_p)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Scans the string <em>until</em> the <code>pattern</code> is matched.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#skip-instance_method" title="#skip (instance method)">#<strong>skip</strong>(pattern)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Attempts to skip over the given <code>pattern</code> beginning with the
scan pointer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#skip_until-instance_method" title="#skip_until (instance method)">#<strong>skip_until</strong>(pattern)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Advances the scan pointer until <code>pattern</code> is matched and
consumed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#string-instance_method" title="#string (instance method)">#<strong>string</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the string being scanned.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#string%3D-instance_method" title="#string= (instance method)">#<strong>string=</strong>(str)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Changes the string being scanned to <code>str</code> and resets the
scanner.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#terminate-instance_method" title="#terminate (instance method)">#<strong>terminate</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the scan pointer to the end of the string and clear matching data.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unscan-instance_method" title="#unscan (instance method)">#<strong>unscan</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the scan pointer to the previous position.</p>
</div>
      </span>
    </li>
  </ul>

<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(string, dup = false)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new StringScanner object to scan over the given
<code>string</code>. <code>dup</code> argument is obsolete and not used
now.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


211
212
213
214
215
216
217
218
219
220
221
222
223</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 211</span>

static VALUE
strscan_initialize(int argc, VALUE *argv, VALUE self)
{
    struct strscanner *p;
    VALUE str, need_dup;

    p = check_strscan(self);
    rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;need_dup);
    StringValue(str);
    p-&gt;str = str;

    return self;
}</pre>
  </div>
</div>
</section><h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="must_C_version-class_method">
  <h3 class='signature first'>
  .<strong>must_C_version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This method is defined for backward compatibility.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


267
268
269
270
271</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 267</span>

static VALUE
strscan_s_mustc(VALUE self)
{
    return self;
}</pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="<<-instance_method">
  <h3 class='signature first'>
  <span class='overload'>#<strong>concat</strong>(str)  </span>
    <span class='overload'>#<strong>&lt;&lt;</strong>(str)  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Appends <code>str</code> to the string being scanned. This method does not
affect scan pointer.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Fri </span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> +1000 GMT</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_string'>string</span>            <span class='comment'># -&gt; &quot;Fri Dec 12 1975 14:39 +1000 GMT&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Dec</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>       <span class='comment'># -&gt; &quot;Dec&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


360
361
362
363
364
365
366
367
368
369</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 360</span>

static VALUE
strscan_concat(VALUE self, VALUE str)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    StringValue(str);
    rb_str_append(p-&gt;str, str);
    return self;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="[]-instance_method">
  <h3 class='signature'>
  #<strong>[]</strong>(n)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the n-th subgroup in the most recent match.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\w+) (\w+) (\d+) </span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>       <span class='comment'># -&gt; &quot;Fri Dec 12 &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Fri Dec 12 &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Fri&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Dec&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;12&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_post_match'>post_match</span>                       <span class='comment'># -&gt; &quot;1975 14:39&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>                        <span class='comment'># -&gt; &quot;&quot;
</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;wday&gt;\w+) (?&lt;month&gt;\w+) (?&lt;day&gt;\d+) </span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>       <span class='comment'># -&gt; &quot;Fri Dec 12 &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Fri Dec 12 &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Fri&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;Dec&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span>                               <span class='comment'># -&gt; &quot;12&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:wday</span><span class='rbracket'>]</span>                           <span class='comment'># -&gt; &quot;Fri&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:month</span><span class='rbracket'>]</span>                          <span class='comment'># -&gt; &quot;Dec&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:day</span><span class='rbracket'>]</span>                            <span class='comment'># -&gt; &quot;12&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_post_match'>post_match</span>                       <span class='comment'># -&gt; &quot;1975 14:39&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>                        <span class='comment'># -&gt; &quot;&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 1020</span>

static VALUE
strscan_aref(VALUE self, VALUE idx)
{
    const char *name;
    struct strscanner *p;
    long i;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p))        return Qnil;

    switch (TYPE(idx)) {
        case T_SYMBOL:
            idx = rb_sym2str(idx);
            /* fall through */
        case T_STRING:
            RSTRING_GETMEM(idx, name, i);
            i = name_to_backref_number(&amp;(p-&gt;regs), p-&gt;regex, name, name + i, rb_enc_get(idx));
            break;
        default:
            i = NUM2LONG(idx);
    }

    if (i &lt; 0)
        i += p-&gt;regs.num_regs;
    if (i &lt; 0)                 return Qnil;
    if (i &gt;= p-&gt;regs.num_regs) return Qnil;
    if (p-&gt;regs.beg[i] == -1)  return Qnil;

    return extract_range(p, p-&gt;prev + p-&gt;regs.beg[i],
                            p-&gt;prev + p-&gt;regs.end[i]);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="beginning_of_line?-instance_method">
  <h3 class='signature'>
  #<strong>beginning_of_line?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> iff the scan pointer is at the beginning of the
line.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test\ntest\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_bol?'>bol?</span>           <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>te</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_bol?'>bol?</span>           <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>st\n</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_bol?'>bol?</span>           <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_terminate'>terminate</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_bol?'>bol?</span>           <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


862
863
864
865
866
867
868
869
870
871</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 862</span>

static VALUE
strscan_bol_p(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (CURPTR(p) &gt; S_PEND(p)) return Qnil;
    if (p-&gt;curr == 0) return Qtrue;
    return (*(CURPTR(p) - 1) == &#39;\n&#39;) ? Qtrue : Qfalse;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="charpos-instance_method">
  <h3 class='signature'>
  #<strong>charpos</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the character position of the scan pointer.  In the &#39;reset&#39;
position, this value is zero.  In the &#39;terminated&#39; position (i.e.
the string is exhausted), this value is the size of the string.</p>

<p>In short, it&#39;s a 0-based index into the string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abcädeföghi</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_charpos'>charpos</span>           <span class='comment'># -&gt; 0
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ä</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; &quot;abcä&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 5
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_charpos'>charpos</span>           <span class='comment'># -&gt; 4
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


407
408
409
410
411
412
413
414
415
416
417
418</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 407</span>

static VALUE
strscan_get_charpos(VALUE self)
{
    struct strscanner *p;
    VALUE substr;

    GET_SCANNER(self, p);

    substr = rb_funcall(p-&gt;str, id_byteslice, 2, INT2FIX(0), INT2NUM(p-&gt;curr));

    return rb_str_length(substr);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="check-instance_method">
  <h3 class='signature'>
  #<strong>check</strong>(pattern)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This returns the value that <a href="#scan-instance_method" title="StringScanner#scan (method)">#scan</a> would return, without advancing the
scan pointer.  The match register is affected, though.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check'>check</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Fri</span><span class='regexp_end'>/</span></span>               <span class='comment'># -&gt; &quot;Fri&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>                       <span class='comment'># -&gt; 0
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched'>matched</span>                   <span class='comment'># -&gt; &quot;Fri&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check'>check</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>12</span><span class='regexp_end'>/</span></span>                <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched'>matched</span>                   <span class='comment'># -&gt; nil
</span></code></pre>

<p>Mnemonic: it “checks” to see whether a <a href="#scan-instance_method" title="StringScanner#scan (method)">#scan</a> will return a value.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


583
584
585
586
587</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 583</span>

static VALUE
strscan_check(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 0, 1, 1);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="check_until-instance_method">
  <h3 class='signature'>
  #<strong>check_until</strong>(pattern)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This returns the value that <a href="#scan_until-instance_method" title="StringScanner#scan_until (method)">#scan_until</a> would return, without advancing
the scan pointer.  The match register is affected, though.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check_until'>check_until</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>12</span><span class='regexp_end'>/</span></span>          <span class='comment'># -&gt; &quot;Fri Dec 12&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>                       <span class='comment'># -&gt; 0
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched'>matched</span>                   <span class='comment'># -&gt; 12
</span></code></pre>

<p>Mnemonic: it “checks” to see whether a <a href="#scan_until-instance_method" title="StringScanner#scan_until (method)">#scan_until</a> will return a value.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


677
678
679
680
681</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 677</span>

static VALUE
strscan_check_until(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 0, 1, 0);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="clear-instance_method">
  <h3 class='signature'>
  #<strong>clear</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <a href="#terminate-instance_method" title="StringScanner#terminate (method)">#terminate</a>. This method is obsolete; use <a href="#terminate-instance_method" title="StringScanner#terminate (method)">#terminate</a>
instead.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


309
310
311
312
313
314</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 309</span>

static VALUE
strscan_clear(VALUE self)
{
    rb_warning(&quot;StringScanner#clear is obsolete; use #terminate instead&quot;);
    return strscan_terminate(self);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="concat-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>concat</strong>(str)  </span>
    <span class='overload'>#<strong>&lt;&lt;</strong>(str)  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#%3C%3C-instance_method" title="StringScanner#&lt;&lt; (method)">#&lt;&lt;</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>
</section>  <section class='method_details' id="empty?-instance_method">
  <h3 class='signature'>
  #<strong>empty?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <a href="#eos%3F-instance_method" title="StringScanner#eos? (method)">#eos?</a>. This method is obsolete, use <a href="#eos%3F-instance_method" title="StringScanner#eos? (method)">#eos?</a> instead.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


896
897
898
899
900
901</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 896</span>

static VALUE
strscan_empty_p(VALUE self)
{
    rb_warning(&quot;StringScanner#empty? is obsolete; use #eos? instead&quot;);
    return strscan_eos_p(self);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="eos?-instance_method">
  <h3 class='signature'>
  #<strong>eos?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the scan pointer is at the end of the string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>          <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>test</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>          <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_terminate'>terminate</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>          <span class='comment'># =&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


883
884
885
886
887
888
889
890</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 883</span>

static VALUE
strscan_eos_p(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return EOS_P(p) ? Qtrue : Qfalse;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="exist?-instance_method">
  <h3 class='signature'>
  #<strong>exist?</strong>(pattern)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Looks <em>ahead</em> to see if the <code>pattern</code> exists
<em>anywhere</em> in the string, without advancing the scan pointer.  This
predicates whether a <a href="#scan_until-instance_method" title="StringScanner#scan_until (method)">#scan_until</a> will return a value.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>s</span><span class='regexp_end'>/</span></span>            <span class='comment'># -&gt; 3
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>test</span><span class='regexp_end'>/</span></span>           <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>s</span><span class='regexp_end'>/</span></span>            <span class='comment'># -&gt; 2
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>e</span><span class='regexp_end'>/</span></span>            <span class='comment'># -&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


636
637
638
639
640</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 636</span>

static VALUE
strscan_exist_p(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 0, 0, 0);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="get_byte-instance_method">
  <h3 class='signature'>
  #<strong>get_byte</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Scans one byte and returns it. This method is not multibyte character
sensitive. See also: <a href="#getch-instance_method" title="StringScanner#getch (method)">#getch</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ab</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_get_byte'>get_byte</span>         <span class='comment'># =&gt; &quot;a&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_get_byte'>get_byte</span>         <span class='comment'># =&gt; &quot;b&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_get_byte'>get_byte</span>         <span class='comment'># =&gt; nil
</span>
<span class='gvar'>$KCODE</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EUC</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\244\242</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_get_byte'>get_byte</span>         <span class='comment'># =&gt; &quot;\244&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_get_byte'>get_byte</span>         <span class='comment'># =&gt; &quot;\242&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_get_byte'>get_byte</span>         <span class='comment'># =&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 758</span>

static VALUE
strscan_get_byte(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    CLEAR_MATCH_STATUS(p);
    if (EOS_P(p))
        return Qnil;

    p-&gt;prev = p-&gt;curr;
    p-&gt;curr++;
    MATCHED(p);
    adjust_registers_to_matched(p);
    return extract_range(p, p-&gt;prev + p-&gt;regs.beg[0],
                            p-&gt;prev + p-&gt;regs.end[0]);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="getbyte-instance_method">
  <h3 class='signature'>
  #<strong>getbyte</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <a href="#get_byte-instance_method" title="StringScanner#get_byte (method)">#get_byte</a>. This method is obsolete; use <a href="#get_byte-instance_method" title="StringScanner#get_byte (method)">#get_byte</a>
instead.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


780
781
782
783
784
785</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 780</span>

static VALUE
strscan_getbyte(VALUE self)
{
    rb_warning(&quot;StringScanner#getbyte is obsolete; use #get_byte instead&quot;);
    return strscan_get_byte(self);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="getch-instance_method">
  <h3 class='signature'>
  #<strong>getch</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Scans one character and returns it. This method is multibyte character
sensitive.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ab</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_getch'>getch</span>           <span class='comment'># =&gt; &quot;a&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_getch'>getch</span>           <span class='comment'># =&gt; &quot;b&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_getch'>getch</span>           <span class='comment'># =&gt; nil
</span>
<span class='gvar'>$KCODE</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EUC</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\244\242</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_getch'>getch</span>           <span class='comment'># =&gt; &quot;\244\242&quot;   # Japanese hira-kana &quot;A&quot; in EUC-JP
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_getch'>getch</span>           <span class='comment'># =&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 719</span>

static VALUE
strscan_getch(VALUE self)
{
    struct strscanner *p;
    long len;

    GET_SCANNER(self, p);
    CLEAR_MATCH_STATUS(p);
    if (EOS_P(p))
        return Qnil;

    len = rb_enc_mbclen(CURPTR(p), S_PEND(p), rb_enc_get(p-&gt;str));
    if (p-&gt;curr + len &gt; S_LEN(p)) {
        len = S_LEN(p) - p-&gt;curr;
    }
    p-&gt;prev = p-&gt;curr;
    p-&gt;curr += len;
    MATCHED(p);
    adjust_registers_to_matched(p);
    return extract_range(p, p-&gt;prev + p-&gt;regs.beg[0],
                            p-&gt;prev + p-&gt;regs.end[0]);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="initialize_copy-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>dup</strong>   <span class="extras">(<span class='prvt'>private</span>)</span></span>
    <span class='overload'>#<strong>clone</strong>  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Duplicates a StringScanner object.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 238</span>

static VALUE
strscan_init_copy(VALUE vself, VALUE vorig)
{
    struct strscanner *self, *orig;

    self = check_strscan(vself);
    orig = check_strscan(vorig);
    if (self != orig) {
	self-&gt;flags = orig-&gt;flags;
	self-&gt;str = orig-&gt;str;
	self-&gt;prev = orig-&gt;prev;
	self-&gt;curr = orig-&gt;curr;
	if (rb_reg_region_copy(&amp;self-&gt;regs, &amp;orig-&gt;regs))
	    rb_memerror();
	RB_GC_GUARD(vorig);
    }

    return vself;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  #<strong>inspect</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string that represents the StringScanner object, showing:</p>
<ul><li>
<p>the current position</p>
</li><li>
<p>the size of the string</p>
</li><li>
<p>the characters surrounding the scan pointer</p>

<p>s = StringScanner.new(“Fri Dec 12 1975 14:39”) s.inspect            # -&gt;
&#39;#&lt;StringScanner 0/21 @ “Fri D…”&gt;&#39; s.scan_until /12/    #
-&gt; “Fri Dec 12” s.inspect            # -&gt; &#39;#&lt;StringScanner
10/21 “…ec 12” @ “ 1975…”&gt;&#39;</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 1147</span>

static VALUE
strscan_inspect(VALUE self)
{
    struct strscanner *p;
    VALUE a, b;

    p = check_strscan(self);
    if (NIL_P(p-&gt;str)) {
	a = rb_sprintf(&quot;#&lt;%&quot;PRIsVALUE&quot; (uninitialized)&gt;&quot;, rb_obj_class(self));
	return infect(a, p);
    }
    if (EOS_P(p)) {
	a = rb_sprintf(&quot;#&lt;%&quot;PRIsVALUE&quot; fin&gt;&quot;, rb_obj_class(self));
	return infect(a, p);
    }
    if (p-&gt;curr == 0) {
	b = inspect2(p);
	a = rb_sprintf(&quot;#&lt;%&quot;PRIsVALUE&quot; %ld/%ld @ %&quot;PRIsVALUE&quot;&gt;&quot;,
		       rb_obj_class(self),
		       p-&gt;curr, S_LEN(p),
		       b);
	return infect(a, p);
    }
    a = inspect1(p);
    b = inspect2(p);
    a = rb_sprintf(&quot;#&lt;%&quot;PRIsVALUE&quot; %ld/%ld %&quot;PRIsVALUE&quot; @ %&quot;PRIsVALUE&quot;&gt;&quot;,
		   rb_obj_class(self),
		   p-&gt;curr, S_LEN(p),
		   a, b);
    return infect(a, p);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="match?-instance_method">
  <h3 class='signature'>
  #<strong>match?</strong>(pattern)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tests whether the given <code>pattern</code> is matched from the current
scan pointer. Returns the length of the match, or <code>nil</code>.  The
scan pointer is not advanced.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


539
540
541
542
543</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 539</span>

static VALUE
strscan_match_p(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 0, 0, 1);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="matched-instance_method">
  <h3 class='signature'>
  #<strong>matched</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the last matched string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>     <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched'>matched</span>           <span class='comment'># -&gt; &quot;test&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


945
946
947
948
949
950
951
952
953
954</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 945</span>

static VALUE
strscan_matched(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p)) return Qnil;
    return extract_range(p, p-&gt;prev + p-&gt;regs.beg[0],
                            p-&gt;prev + p-&gt;regs.end[0]);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="matched?-instance_method">
  <h3 class='signature'>
  #<strong>matched?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> iff the last match was successful.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>     <span class='comment'># =&gt; 4
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched?'>matched?</span>          <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>     <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched?'>matched?</span>          <span class='comment'># =&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


929
930
931
932
933
934
935
936</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 929</span>

static VALUE
strscan_matched_p(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return MATCHED_P(p) ? Qtrue : Qfalse;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="matched_size-instance_method">
  <h3 class='signature'>
  #<strong>matched_size</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the size of the most recent match (see <a href="#matched-instance_method" title="StringScanner#matched (method)">#matched</a>), or
<code>nil</code> if there was no recent match.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check'>check</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span>           <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched_size'>matched_size</span>          <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_check'>check</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d+</span><span class='regexp_end'>/</span></span>           <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_matched_size'>matched_size</span>          <span class='comment'># -&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


966
967
968
969
970
971
972
973
974</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 966</span>

static VALUE
strscan_matched_size(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p)) return Qnil;
    return INT2NUM(p-&gt;regs.end[0] - p-&gt;regs.beg[0]);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="peek-instance_method">
  <h3 class='signature'>
  #<strong>peek</strong>(len)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Extracts a string corresponding to <code>string[pos,len]</code>, without
advancing the scan pointer.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='lparen'>(</span><span class='int'>7</span><span class='rparen'>)</span>          <span class='comment'># =&gt; &quot;test st&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='lparen'>(</span><span class='int'>7</span><span class='rparen'>)</span>          <span class='comment'># =&gt; &quot;test st&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 798</span>

static VALUE
strscan_peek(VALUE self, VALUE vlen)
{
    struct strscanner *p;
    long len;

    GET_SCANNER(self, p);

    len = NUM2LONG(vlen);
    if (EOS_P(p))
        return infect(str_new(p, &quot;&quot;, 0), p);

    if (p-&gt;curr + len &gt; S_LEN(p))
        len = S_LEN(p) - p-&gt;curr;
    return extract_beg_len(p, p-&gt;curr, len);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="peep-instance_method">
  <h3 class='signature'>
  #<strong>peep</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <a href="#peek-instance_method" title="StringScanner#peek (method)">#peek</a>. This method is obsolete; use <a href="#peek-instance_method" title="StringScanner#peek (method)">#peek</a> instead.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


819
820
821
822
823
824</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 819</span>

static VALUE
strscan_peep(VALUE self, VALUE vlen)
{
    rb_warning(&quot;StringScanner#peep is obsolete; use #peek instead&quot;);
    return strscan_peek(self, vlen);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="pointer-instance_method">
  <h3 class='signature'>
  #<strong>pointer</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#pos-instance_method" title="StringScanner#pos (method)">#pos</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>
</section>  <section class='method_details' id="pointer=-instance_method">
  <h3 class='signature'>
  #<strong>pos=</strong>(n)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#pos%3D-instance_method" title="StringScanner#pos= (method)">#pos=</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>
</section>  <section class='method_details' id="pos-instance_method">
  <h3 class='signature'>
  #<strong>pos</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the byte position of the scan pointer.  In the &#39;reset&#39;
position, this value is zero.  In the &#39;terminated&#39; position (i.e.
the string is exhausted), this value is the bytesize of the string.</p>

<p>In short, it&#39;s a 0-based index into bytes of the string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 0
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>str</span><span class='regexp_end'>/</span></span>  <span class='comment'># -&gt; &quot;test str&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 8
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_terminate'>terminate</span>         <span class='comment'># -&gt; #&lt;StringScanner fin&gt;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>               <span class='comment'># -&gt; 11
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


385
386
387
388
389
390
391
392</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 385</span>

static VALUE
strscan_get_pos(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return INT2FIX(p-&gt;curr);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="pos=-instance_method">
  <h3 class='signature'>
  #<strong>pos=</strong>(n)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the byte position of the scan pointer.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span> <span class='op'>=</span> <span class='int'>7</span>            <span class='comment'># -&gt; 7
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span>               <span class='comment'># -&gt; &quot;ring&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


429
430
431
432
433
434
435
436
437
438
439
440
441
442</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 429</span>

static VALUE
strscan_set_pos(VALUE self, VALUE v)
{
    struct strscanner *p;
    long i;

    GET_SCANNER(self, p);
    i = NUM2INT(v);
    if (i &lt; 0) i += S_LEN(p);
    if (i &lt; 0) rb_raise(rb_eRangeError, &quot;index out of range&quot;);
    if (i &gt; S_LEN(p)) rb_raise(rb_eRangeError, &quot;index out of range&quot;);
    p-&gt;curr = i;
    return INT2NUM(i);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="post_match-instance_method">
  <h3 class='signature'>
  #<strong>post_match</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the <strong><em>post</strong>-match</em> (in the regular expression
sense) of the last scan.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>           <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>           <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>             <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_post_match'>post_match</span>            <span class='comment'># -&gt; &quot;string&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1080
1081
1082
1083
1084
1085
1086
1087
1088</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 1080</span>

static VALUE
strscan_post_match(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p)) return Qnil;
    return extract_range(p, p-&gt;prev + p-&gt;regs.end[0], S_LEN(p));
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="pre_match-instance_method">
  <h3 class='signature'>
  #<strong>pre_match</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the <strong><em>pre</strong>-match</em> (in the regular expression
sense) of the last scan.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>           <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>           <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>             <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_post_match'>post_match</span>            <span class='comment'># -&gt; &quot;string&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1061
1062
1063
1064
1065
1066
1067
1068
1069</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 1061</span>

static VALUE
strscan_pre_match(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p)) return Qnil;
    return extract_range(p, 0, p-&gt;prev + p-&gt;regs.beg[0]);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="reset-instance_method">
  <h3 class='signature'>
  #<strong>reset</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Reset the scan pointer (index 0) and clear matching data.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


276
277
278
279
280
281
282
283
284
285</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 276</span>

static VALUE
strscan_reset(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    p-&gt;curr = 0;
    CLEAR_MATCH_STATUS(p);
    return self;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="rest-instance_method">
  <h3 class='signature'>
  #<strong>rest</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the “rest” of the string (i.e. everything after the scan pointer).
If there is no more data (eos? = true), it returns
<code>&quot;&quot;</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 1094</span>

static VALUE
strscan_rest(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (EOS_P(p)) {
        return infect(str_new(p, &quot;&quot;, 0), p);
    }
    return extract_range(p, p-&gt;curr, S_LEN(p));
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="rest?-instance_method">
  <h3 class='signature'>
  #<strong>rest?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true iff there is more data in the string.  See <a href="#eos%3F-instance_method" title="StringScanner#eos? (method)">#eos?</a>. This
method is obsolete; use <a href="#eos%3F-instance_method" title="StringScanner#eos? (method)">#eos?</a> instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>              <span class='comment'># These two
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_rest?'>rest?</span>             <span class='comment'># are opposites.
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


911
912
913
914
915
916
917
918</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 911</span>

static VALUE
strscan_rest_p(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return EOS_P(p) ? Qfalse : Qtrue;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="rest_size-instance_method">
  <h3 class='signature'>
  #<strong>rest_size</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p><code>s.rest_size</code> is equivalent to <code>s.rest.size</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 1109</span>

static VALUE
strscan_rest_size(VALUE self)
{
    struct strscanner *p;
    long i;

    GET_SCANNER(self, p);
    if (EOS_P(p)) {
        return INT2FIX(0);
    }
    i = S_LEN(p) - p-&gt;curr;
    return INT2FIX(i);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="restsize-instance_method">
  <h3 class='signature'>
  #<strong>restsize</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p><code>s.restsize</code> is equivalent to <code>s.rest_size</code>. This
method is obsolete; use <a href="#rest_size-instance_method" title="StringScanner#rest_size (method)">#rest_size</a> instead.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1127
1128
1129
1130
1131
1132</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 1127</span>

static VALUE
strscan_restsize(VALUE self)
{
    rb_warning(&quot;StringScanner#restsize is obsolete; use #rest_size instead&quot;);
    return strscan_rest_size(self);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="scan-instance_method">
  <h3 class='signature'>
  #<strong>scan</strong>(pattern)  &#x21d2; <tt>String</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tries to match with <code>pattern</code> at the current position. If
there&#39;s a match, the scanner advances the “scan pointer” and returns
the matched string. Otherwise, the scanner returns <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; &quot;test&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; &quot; &quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; &quot;string&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>     <span class='comment'># -&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


522
523
524
525
526</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 522</span>

static VALUE
strscan_scan(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 1, 1, 1);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="scan_full-instance_method">
  <h3 class='signature'>
  #<strong>scan_full</strong>(pattern, advance_pointer_p, return_string_p)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tests whether the given <code>pattern</code> is matched from the current
scan pointer. Advances the scan pointer if <code>advance_pointer_p</code>
is true. Returns the matched string if <code>return_string_p</code> is
true. The match register is affected.</p>

<p>“full” means “#scan with full parameters”.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


599
600
601
602
603</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 599</span>

static VALUE
strscan_scan_full(VALUE self, VALUE re, VALUE s, VALUE f)
{
    return strscan_do_scan(self, re, RTEST(s), RTEST(f), 1);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="scan_until-instance_method">
  <h3 class='signature'>
  #<strong>scan_until</strong>(pattern)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Scans the string <em>until</em> the <code>pattern</code> is matched. 
Returns the substring up to and including the end of the match, advancing
the scan pointer to that location. If there is no match, <code>nil</code>
is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>1</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>        <span class='comment'># -&gt; &quot;Fri Dec 1&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_pre_match'>pre_match</span>              <span class='comment'># -&gt; &quot;Fri Dec &quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>XYZ</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>      <span class='comment'># -&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


617
618
619
620
621</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 617</span>

static VALUE
strscan_scan_until(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 1, 1, 0);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="search_full-instance_method">
  <h3 class='signature'>
  #<strong>search_full</strong>(pattern, advance_pointer_p, return_string_p)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Scans the string <em>until</em> the <code>pattern</code> is matched.
Advances the scan pointer if <code>advance_pointer_p</code>, otherwise not.
Returns the matched string if <code>return_string_p</code> is true,
otherwise returns the number of bytes advanced. This method does affect the
match register.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


692
693
694
695
696</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 692</span>

static VALUE
strscan_search_full(VALUE self, VALUE re, VALUE s, VALUE f)
{
    return strscan_do_scan(self, re, RTEST(s), RTEST(f), 0);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="skip-instance_method">
  <h3 class='signature'>
  #<strong>skip</strong>(pattern)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Attempts to skip over the given <code>pattern</code> beginning with the
scan pointer. If it matches, the scan pointer is advanced to the end of the
match, and the length of the match is returned.  Otherwise,
<code>nil</code> is returned.</p>

<p>It&#39;s similar to <a href="#scan-instance_method" title="StringScanner#scan (method)">#scan</a>, but without returning the matched string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 4
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 1
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; 6
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>     <span class='comment'># -&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


562
563
564
565
566</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 562</span>

static VALUE
strscan_skip(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 1, 0, 1);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="skip_until-instance_method">
  <h3 class='signature'>
  #<strong>skip_until</strong>(pattern)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Advances the scan pointer until <code>pattern</code> is matched and
consumed.  Returns the number of bytes advanced, or <code>nil</code> if no
match was found.</p>

<p>Look ahead to match <code>pattern</code>, and advance the scan pointer to
the <em>end</em> of the match.  Return the number of characters advanced,
or <code>nil</code> if the match was unsuccessful.</p>

<p>It&#39;s similar to <a href="#scan_until-instance_method" title="StringScanner#scan_until (method)">#scan_until</a>, but without returning the intervening
string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri Dec 12 1975 14:39</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_skip_until'>skip_until</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>12</span><span class='regexp_end'>/</span></span>           <span class='comment'># -&gt; 10
</span><span class='id identifier rubyid_s'>s</span>                           <span class='comment'>#
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


658
659
660
661
662</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 658</span>

static VALUE
strscan_skip_until(VALUE self, VALUE re)
{
    return strscan_do_scan(self, re, 1, 0, 0);
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="string-instance_method">
  <h3 class='signature'>
  #<strong>string</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the string being scanned.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


319
320
321
322
323
324
325
326</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 319</span>

static VALUE
strscan_get_string(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    return p-&gt;str;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="string=-instance_method">
  <h3 class='signature'>
  #<strong>string=</strong>(str)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Changes the string being scanned to <code>str</code> and resets the
scanner. Returns <code>str</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


334
335
336
337
338
339
340
341
342
343
344</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 334</span>

static VALUE
strscan_set_string(VALUE self, VALUE str)
{
    struct strscanner *p = check_strscan(self);

    StringValue(str);
    p-&gt;str = str;
    p-&gt;curr = 0;
    CLEAR_MATCH_STATUS(p);
    return str;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="terminate-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>terminate</strong>  </span>
    <span class='overload'>#<strong>clear</strong>  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the scan pointer to the end of the string and clear matching data.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


294
295
296
297
298
299
300
301
302
303</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 294</span>

static VALUE
strscan_terminate(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    p-&gt;curr = S_LEN(p);
    CLEAR_MATCH_STATUS(p);
    return self;
}</pre>
  </div>
</div>
</section>  <section class='method_details' id="unscan-instance_method">
  <h3 class='signature'>
  #<strong>unscan</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the scan pointer to the previous position.  Only one previous position
is remembered, and it changes with each scanning operation.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test string</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>        <span class='comment'># =&gt; &quot;test&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_unscan'>unscan</span>
<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>..</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>         <span class='comment'># =&gt; &quot;te&quot;
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>         <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_unscan'>unscan</span>             <span class='comment'># ScanError: unscan failed: previous match record not exist
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


837
838
839
840
841
842
843
844
845
846
847
848</pre>
  <div class='lines_code'>
      <pre class='code cpp'><span class='info file'># File 'strscan/strscan.c', line 837</span>

static VALUE
strscan_unscan(VALUE self)
{
    struct strscanner *p;

    GET_SCANNER(self, p);
    if (! MATCHED_P(p))
        rb_raise(ScanError, &quot;unscan failed: previous match record not exist&quot;);
    p-&gt;curr = p-&gt;prev;
    CLEAR_MATCH_STATUS(p);
    return self;
}</pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>