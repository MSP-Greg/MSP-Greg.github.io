<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: WEBrick::HTTPRequest &mdash; webrick Ruby-2.4.0 d2016-08-03</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "WEBrick::HTTPRequest",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='../index.html'>webrick</a> &raquo; 
          <a href='../_index.html'>Index (H)</a> &raquo; 
          <a href="../WEBrick.html" title="WEBrick (module)">WEBrick</a> &raquo; 
          <span class='title'>HTTPRequest</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: WEBrick::HTTPRequest</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>WEBrick::HTTPRequest</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/https.rb#L23'>lib/webrick/https.rb</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L24'>lib/webrick/httprequest.rb</a></span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>An HTTP request.  This is consumed by service and do_* methods in WEBrick
servlets</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='BODY_CONTAINABLE_METHODS-constant'>
      BODY_CONTAINABLE_METHODS =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span></pre>
    </dd>
    <dt id='MAX_URI_LENGTH-constant'>
      MAX_URI_LENGTH =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:stopdoc:</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='int'>2083</span></pre>
    </dd>
    <dt id='PrivateNetworkRegexp-constant'>
      PrivateNetworkRegexp =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
  ^unknown$|
  ^((::ffff:)?127.0.0.1|::1)$|
  ^(::ffff:)?(10|172\.(1[6-9]|2[0-9]|3[01])|192\.168)\.
</span><span class='regexp_end'>/ixo</span></span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#accept-instance_method" title="#accept (instance method)">#<strong>accept</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The Accept header value</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_charset-instance_method" title="#accept_charset (instance method)">#<strong>accept_charset</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The Accept-Charset header value</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_encoding-instance_method" title="#accept_encoding (instance method)">#<strong>accept_encoding</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The Accept-Encoding header value</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_language-instance_method" title="#accept_language (instance method)">#<strong>accept_language</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The Accept-Language header value</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#addr-instance_method" title="#addr (instance method)">#<strong>addr</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The socket address of the server</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#attributes-instance_method" title="#attributes (instance method)">#<strong>attributes</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Hash of request attributes</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cipher-instance_method" title="#cipher (instance method)">#<strong>cipher</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>HTTP request SSL cipher</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#client_cert-instance_method" title="#client_cert (instance method)">#<strong>client_cert</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>HTTP request client certificate</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cookies-instance_method" title="#cookies (instance method)">#<strong>cookies</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The parsed request cookies</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#header-instance_method" title="#header (instance method)">#<strong>header</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The parsed header of the request</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#http_version-instance_method" title="#http_version (instance method)">#<strong>http_version</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The HTTP version of the request</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#keep_alive-instance_method" title="#keep_alive (instance method)">#<strong>keep_alive</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Is this a keep-alive connection?</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The request path</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path_info-instance_method" title="#path_info (instance method)">#<strong>path_info</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The path info (CGI variable)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#peeraddr-instance_method" title="#peeraddr (instance method)">#<strong>peeraddr</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The socket address of the client</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#query_string-instance_method" title="#query_string (instance method)">#<strong>query_string</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The query from the URI of the request</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#raw_header-instance_method" title="#raw_header (instance method)">#<strong>raw_header</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The raw header of the request</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#request_line-instance_method" title="#request_line (instance method)">#<strong>request_line</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The complete request line such as:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#request_method-instance_method" title="#request_method (instance method)">#<strong>request_method</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The request method, GET, POST, PUT, etc.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#request_time-instance_method" title="#request_time (instance method)">#<strong>request_time</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The local time this request was received</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#request_uri-instance_method" title="#request_uri (instance method)">#<strong>request_uri</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The parsed URI of the request</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#script_name-instance_method" title="#script_name (instance method)">#<strong>script_name</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The script name (CGI variable)</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#server_cert-instance_method" title="#server_cert (instance method)">#<strong>server_cert</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>HTTP request server certificate</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unparsed_uri-instance_method" title="#unparsed_uri (instance method)">#<strong>unparsed_uri</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The unparsed URI of the request</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#user-instance_method" title="#user (instance method)">#<strong>user</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The remote user (CGI variable)</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(config)  &#x21d2; HTTPRequest </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new HTTP request.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D-instance_method" title="#[] (instance method)">#<strong>[]</strong>(header_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Retrieves <code>header_name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_read_data-instance_method" title="#_read_data (instance method)">#<strong>_read_data</strong>(io, method, *arg)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#body-instance_method" title="#body (instance method)">#<strong>body</strong>(&amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the request body.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#content_length-instance_method" title="#content_length (instance method)">#<strong>content_length</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The content-length header</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#content_type-instance_method" title="#content_type (instance method)">#<strong>content_type</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The content-type header</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#continue-instance_method" title="#continue (instance method)">#<strong>continue</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generate HTTP/1.1 100 continue response if the client expects it, otherwise
does nothing.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Iterates over the request headers</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fixup-instance_method" title="#fixup (instance method)">#<strong>fixup</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Consumes any remaining body and updates keep-alive status</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#host-instance_method" title="#host (instance method)">#<strong>host</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The host this request is for</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#keep_alive%3F-instance_method" title="#keep_alive? (instance method)">#<strong>keep_alive?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Should the connection this request was made on be kept alive?</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#meta_vars-instance_method" title="#meta_vars (instance method)">#<strong>meta_vars</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>This method provides the metavariables defined by the revision 3 of “The
WWW Common Gateway Interface Version 1.1” To browse the current document of
CGI Version 1.1, see below: <a
href="http://tools.ietf.org/html/rfc3875">tools.ietf.org/html/rfc3875</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#orig_meta_vars-instance_method" title="#orig_meta_vars (instance method)">#<strong>orig_meta_vars</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#orig_parse-instance_method" title="#orig_parse (instance method)">#<strong>orig_parse</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>:stopdoc:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#orig_parse_uri-instance_method" title="#orig_parse_uri (instance method)">#<strong>orig_parse_uri</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse-instance_method" title="#parse (instance method)">#<strong>parse</strong>(socket = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Parses a request from <code>socket</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_query-instance_method" title="#parse_query (instance method)">#<strong>parse_query</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_uri-instance_method" title="#parse_uri (instance method)">#<strong>parse_uri</strong>(str, scheme = &quot;http&quot;)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The port this request is for</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#query-instance_method" title="#query (instance method)">#<strong>query</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Request query as a Hash</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_body-instance_method" title="#read_body (instance method)">#<strong>read_body</strong>(socket, block)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_chunk_size-instance_method" title="#read_chunk_size (instance method)">#<strong>read_chunk_size</strong>(socket)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_chunked-instance_method" title="#read_chunked (instance method)">#<strong>read_chunked</strong>(socket, block)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_data-instance_method" title="#read_data (instance method)">#<strong>read_data</strong>(io, size)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_header-instance_method" title="#read_header (instance method)">#<strong>read_header</strong>(socket)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_line-instance_method" title="#read_line (instance method)">#<strong>read_line</strong>(io, size = 4096)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remote_ip-instance_method" title="#remote_ip (instance method)">#<strong>remote_ip</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The client&#39;s IP address</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#server_name-instance_method" title="#server_name (instance method)">#<strong>server_name</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The server name this request is for</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#setup_forwarded_info-instance_method" title="#setup_forwarded_info (instance method)">#<strong>setup_forwarded_info</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>It&#39;s said that all X-Forwarded-* headers will contain more than one
(comma-separated) value if the original request already contained one of
these headers.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ssl%3F-instance_method" title="#ssl? (instance method)">#<strong>ssl?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Is this an SSL request?</p>
</div>
      </span>
    </li>
  </ul>


<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(config)  &#x21d2; <tt><a href="" title="WEBrick::HTTPRequest (class)">HTTPRequest</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new HTTP request.  <a href="Config.html#HTTP-constant" title="WEBrick::Config::HTTP (constant)">Config::HTTP</a> is the default
configuration.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L152'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 152</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span>
  <span class='ivar'>@config</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span>
  <span class='ivar'>@buffer_size</span> <span class='op'>=</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:InputBufferSize</span><span class='rbracket'>]</span>
  <span class='ivar'>@logger</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:Logger</span><span class='rbracket'>]</span>

  <span class='ivar'>@request_line</span> <span class='op'>=</span> <span class='ivar'>@request_method</span> <span class='op'>=</span>
    <span class='ivar'>@unparsed_uri</span> <span class='op'>=</span> <span class='ivar'>@http_version</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@request_uri</span> <span class='op'>=</span> <span class='ivar'>@host</span> <span class='op'>=</span> <span class='ivar'>@port</span> <span class='op'>=</span> <span class='ivar'>@path</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@script_name</span> <span class='op'>=</span> <span class='ivar'>@path_info</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@query_string</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@query</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@form_data</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@raw_header</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@header</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@cookies</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@accept</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@accept_charset</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@accept_encoding</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@accept_language</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@body</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>

  <span class='ivar'>@addr</span> <span class='op'>=</span> <span class='ivar'>@peeraddr</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@attributes</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@user</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@keep_alive</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@request_time</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@remaining_size</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@forwarded_proto</span> <span class='op'>=</span> <span class='ivar'>@forwarded_host</span> <span class='op'>=</span> <span class='ivar'>@forwarded_port</span> <span class='op'>=</span>
    <span class='ivar'>@forwarded_server</span> <span class='op'>=</span> <span class='ivar'>@forwarded_for</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="accept-instance_method">
  <h3 class='signature first'>
  #<strong>accept</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The Accept header value</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L99'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


99</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 99</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:accept</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_charset-instance_method">
  <h3 class='signature'>
  #<strong>accept_charset</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The Accept-Charset header value</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L104'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


104</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 104</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:accept_charset</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_encoding-instance_method">
  <h3 class='signature'>
  #<strong>accept_encoding</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The Accept-Encoding header value</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L109'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


109</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 109</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:accept_encoding</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_language-instance_method">
  <h3 class='signature'>
  #<strong>accept_language</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The Accept-Language header value</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L114'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


114</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 114</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:accept_language</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="addr-instance_method">
  <h3 class='signature'>
  #<strong>addr</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The socket address of the server</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L126'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


126</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 126</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:addr</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="attributes-instance_method">
  <h3 class='signature'>
  #<strong>attributes</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Hash of request attributes</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L136'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


136</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 136</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:attributes</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cipher-instance_method">
  <h3 class='signature'>
  #<strong>cipher</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>HTTP request SSL cipher</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/https.rb#L28'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


28</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/https.rb', line 28</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:cipher</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="client_cert-instance_method">
  <h3 class='signature'>
  #<strong>client_cert</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>HTTP request client certificate</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/https.rb#L38'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


38</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/https.rb', line 38</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:client_cert</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cookies-instance_method">
  <h3 class='signature'>
  #<strong>cookies</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The parsed request cookies</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L94'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


94</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 94</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:cookies</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="header-instance_method">
  <h3 class='signature'>
  #<strong>header</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The parsed header of the request</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L89'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


89</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 89</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:header</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="http_version-instance_method">
  <h3 class='signature'>
  #<strong>http_version</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The HTTP version of the request</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L50'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


50</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:http_version</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="keep_alive-instance_method">
  <h3 class='signature'>
  #<strong>keep_alive</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Is this a keep-alive connection?</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L141'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


141</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:keep_alive</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path-instance_method">
  <h3 class='signature'>
  #<strong>path</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The request path</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L62'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


62</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:path</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path_info-instance_method">
  <h3 class='signature'>
  #<strong>path_info</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The path info (CGI variable)</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L72'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


72</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 72</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:path_info</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="peeraddr-instance_method">
  <h3 class='signature'>
  #<strong>peeraddr</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The socket address of the client</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L131'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


131</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 131</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:peeraddr</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="query_string-instance_method">
  <h3 class='signature'>
  #<strong>query_string</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The query from the URI of the request</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L77'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


77</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 77</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:query_string</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="raw_header-instance_method">
  <h3 class='signature'>
  #<strong>raw_header</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The raw header of the request</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L84'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


84</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 84</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:raw_header</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="request_line-instance_method">
  <h3 class='signature'>
  #<strong>request_line</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The complete request line such as:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>GET</span> <span class='op'>/</span> <span class='const'>HTTP</span><span class='op'>/</span><span class='float'>1.1</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L35'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


35</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 35</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:request_line</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="request_method-instance_method">
  <h3 class='signature'>
  #<strong>request_method</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The request method, GET, POST, PUT, etc.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L40'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


40</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 40</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:request_method</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="request_time-instance_method">
  <h3 class='signature'>
  #<strong>request_time</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The local time this request was received</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L146'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


146</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 146</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:request_time</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="request_uri-instance_method">
  <h3 class='signature'>
  #<strong>request_uri</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The parsed URI of the request</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L57'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


57</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 57</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:request_uri</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="script_name-instance_method">
  <h3 class='signature'>
  #<strong>script_name</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The script name (CGI variable)</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L67'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


67</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:script_name</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="server_cert-instance_method">
  <h3 class='signature'>
  #<strong>server_cert</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>HTTP request server certificate</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/https.rb#L33'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


33</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/https.rb', line 33</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:server_cert</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="unparsed_uri-instance_method">
  <h3 class='signature'>
  #<strong>unparsed_uri</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The unparsed URI of the request</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L45'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


45</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:unparsed_uri</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="user-instance_method">
  <h3 class='signature'>
  #<strong>user</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The remote user (CGI variable)</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L121'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


121</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 121</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:user</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="[]-instance_method">
  <h3 class='signature first'>
  #<strong>[]</strong>(header_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Retrieves <code>header_name</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L287'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


287
288
289
290
291
292</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id identifier rubyid_header_name'>header_name</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@header</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='ivar'>@header</span><span class='lbracket'>[</span><span class='id identifier rubyid_header_name'>header_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_read_data-instance_method">
  <h3 class='signature'>
  #<strong>_read_data</strong>(io, method, *arg)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L518'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


518
519
520
521
522
523
524
525
526
527
528</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 518</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__read_data'>_read_data</span><span class='lparen'>(</span><span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='const'><a href="../WEBrick.html" title="WEBrick (module)">WEBrick</a></span><span class='op'>::</span><span class='const'><a href="Utils.html" title="WEBrick::Utils (module)">Utils</a></span><span class='period'>.</span><span class='id identifier rubyid_timeout'><a href="Utils.html#timeout-class_method" title="WEBrick::Utils.timeout (method)">timeout</a></span><span class='lparen'>(</span><span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:RequestTimeout</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='lbrace'>{</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='kw'>rescue</span> <span class='const'><a href="../Errno.html" title="Errno (module)">Errno</a></span><span class='op'>::</span><span class='const'><a href="../Errno/ECONNRESET.html" title="Errno::ECONNRESET (class)">ECONNRESET</a></span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>rescue</span> <span class='const'>Timeout</span><span class='op'>::</span><span class='const'>Error</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="HTTPStatus.html" title="WEBrick::HTTPStatus (module)">HTTPStatus</a></span><span class='op'>::</span><span class='const'>RequestTimeout</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="body-instance_method">
  <h3 class='signature'>
  #<strong>body</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the request body.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L254'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


254
255
256
257
258</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 254</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_body'>body</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :yields: body_chunk
</span>  <span class='id identifier rubyid_block'>block</span> <span class='op'>||=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_chunk'>chunk</span><span class='op'>|</span> <span class='ivar'>@body</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_chunk'>chunk</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_read_body'>read_body</span><span class='lparen'>(</span><span class='ivar'>@socket</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@body</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='ivar'>@body</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="content_length-instance_method">
  <h3 class='signature'>
  #<strong>content_length</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The content-length header</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L273'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


273
274
275</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 273</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_content_length'>content_length</span>
  <span class='kw'>return</span> <span class='const'>Integer</span><span class='lparen'>(</span><span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>content-length</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="content_type-instance_method">
  <h3 class='signature'>
  #<strong>content_type</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The content-type header</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L280'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


280
281
282</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 280</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_content_type'>content_type</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>content-type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="continue-instance_method">
  <h3 class='signature'>
  #<strong>continue</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generate HTTP/1.1 100 continue response if the client expects it, otherwise
does nothing.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L244'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


244
245
246
247
248
249</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 244</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_continue'>continue</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>expect</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>100-continue</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:HTTPVersion</span><span class='rbracket'>]</span> <span class='op'>&gt;=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.1</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@socket</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:HTTPVersion</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> 100 continue</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../WEBrick.html#CRLF-constant" title="WEBrick::CRLF (constant)">CRLF</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../WEBrick.html#CRLF-constant" title="WEBrick::CRLF (constant)">CRLF</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@header</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>expect</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each-instance_method">
  <h3 class='signature'>
  #<strong>each</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Iterates over the request headers</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L297'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


297
298
299
300
301
302
303
304</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 297</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
  <span class='kw'>if</span> <span class='ivar'>@header</span>
    <span class='ivar'>@header</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='ivar'>@header</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span>
      <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="fixup-instance_method">
  <h3 class='signature'>
  #<strong>fixup</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Consumes any remaining body and updates keep-alive status</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L359'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


359
360
361
362
363
364
365
366
367
368
369</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 359</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fixup'>fixup</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>begin</span>
    <span class='id identifier rubyid_body'>body</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_chunk'>chunk</span><span class='op'>|</span> <span class='rbrace'>}</span>   <span class='comment'># read remaining body
</span>  <span class='kw'>rescue</span> <span class='const'><a href="HTTPStatus.html" title="WEBrick::HTTPStatus (module)">HTTPStatus</a></span><span class='op'>::</span><span class='const'><a href="HTTPStatus/Error.html" title="WEBrick::HTTPStatus::Error (class)">Error</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
    <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_error'>error</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTPRequest#fixup: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ex'>ex</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> occurred.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='ivar'>@keep_alive</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
    <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_error'>error</span><span class='lparen'>(</span><span class='id identifier rubyid_ex'>ex</span><span class='rparen'>)</span>
    <span class='ivar'>@keep_alive</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="host-instance_method">
  <h3 class='signature'>
  #<strong>host</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The host this request is for</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L309'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


309
310
311</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 309</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_host'>host</span>
  <span class='kw'>return</span> <span class='ivar'>@forwarded_host</span> <span class='op'>||</span> <span class='ivar'>@host</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="keep_alive?-instance_method">
  <h3 class='signature'>
  #<strong>keep_alive?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Should the connection this request was made on be kept alive?</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L344'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


344
345
346</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 344</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_keep_alive?'>keep_alive?</span>
  <span class='ivar'>@keep_alive</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="meta_vars-instance_method">
  <h3 class='signature'>
  #<strong>meta_vars</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>This method provides the metavariables defined by the revision 3 of “The
WWW Common Gateway Interface Version 1.1” To browse the current document of
CGI Version 1.1, see below: <a
href="http://tools.ietf.org/html/rfc3875">tools.ietf.org/html/rfc3875</a></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L376'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 376</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_meta_vars'>meta_vars</span>
  <span class='id identifier rubyid_meta'>meta</span> <span class='op'>=</span> <span class='id identifier rubyid_orig_meta_vars'>orig_meta_vars</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_server_cert'>server_cert</span>
    <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTPS</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>on</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSL_SERVER_CERT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@server_cert</span><span class='period'>.</span><span class='id identifier rubyid_to_pem'>to_pem</span>
    <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSL_CLIENT_CERT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@client_cert</span> <span class='op'>?</span> <span class='ivar'>@client_cert</span><span class='period'>.</span><span class='id identifier rubyid_to_pem'>to_pem</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='ivar'>@client_cert_chain</span>
      <span class='ivar'>@client_cert_chain</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_cert'>cert</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSL_CLIENT_CERT_CHAIN_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_cert'>cert</span><span class='period'>.</span><span class='id identifier rubyid_to_pem'>to_pem</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSL_CIPHER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@cipher</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSL_PROTOCOL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@cipher</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSL_CIPHER_USEKEYSIZE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@cipher</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SSL_CIPHER_ALGKEYSIZE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@cipher</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_meta'>meta</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="orig_meta_vars-instance_method">
  <h3 class='signature'>
  #<strong>orig_meta_vars</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/https.rb#L64'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


64</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/https.rb', line 64</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_orig_meta_vars'>orig_meta_vars</span> <span class='id identifier rubyid_meta_vars'>meta_vars</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="orig_parse-instance_method">
  <h3 class='signature'>
  #<strong>orig_parse</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:stopdoc:</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/https.rb#L42'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


42</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/https.rb', line 42</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_orig_parse'>orig_parse</span> <span class='id identifier rubyid_parse'>parse</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="orig_parse_uri-instance_method">
  <h3 class='signature'>
  #<strong>orig_parse_uri</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/https.rb#L54'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


54</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/https.rb', line 54</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_orig_parse_uri'>orig_parse_uri</span> <span class='id identifier rubyid_parse_uri'>parse_uri</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse-instance_method">
  <h3 class='signature'>
  #<strong>parse</strong>(socket = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses a request from <code>socket</code>.  This is called internally by
<a href="HTTPServer.html" title="WEBrick::HTTPServer (class)">WEBrick::HTTPServer</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L192'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


192
193
194
195
196
197
198
199
200</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 192</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:cert</span><span class='rparen'>)</span>
    <span class='ivar'>@server_cert</span> <span class='op'>=</span> <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_cert'>cert</span> <span class='op'>||</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:SSLCertificate</span><span class='rbracket'>]</span>
    <span class='ivar'>@client_cert</span> <span class='op'>=</span> <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_peer_cert'>peer_cert</span>
    <span class='ivar'>@client_cert_chain</span> <span class='op'>=</span> <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_peer_cert_chain'>peer_cert_chain</span>
    <span class='ivar'>@cipher</span>      <span class='op'>=</span> <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_cipher'>cipher</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_orig_parse'>orig_parse</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_query-instance_method">
  <h3 class='signature'>
  #<strong>parse_query</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L538'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 538</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_query'>parse_query</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='kw'>if</span> <span class='ivar'>@request_method</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>||</span> <span class='ivar'>@request_method</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@query</span> <span class='op'>=</span> <span class='const'><a href="HTTPUtils.html" title="WEBrick::HTTPUtils (module)">HTTPUtils</a></span><span class='op'>::</span><span class='id identifier rubyid_parse_query'><a href="HTTPUtils.html#parse_query-class_method" title="WEBrick::HTTPUtils.parse_query (method)">parse_query</a></span><span class='lparen'>(</span><span class='ivar'>@query_string</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>content-type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^application\/x-www-form-urlencoded</span><span class='regexp_end'>/</span></span>
      <span class='ivar'>@query</span> <span class='op'>=</span> <span class='const'><a href="HTTPUtils.html" title="WEBrick::HTTPUtils (module)">HTTPUtils</a></span><span class='op'>::</span><span class='id identifier rubyid_parse_query'><a href="HTTPUtils.html#parse_query-class_method" title="WEBrick::HTTPUtils.parse_query (method)">parse_query</a></span><span class='lparen'>(</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>content-type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^multipart\/form-data; boundary=(.+)</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_boundary'>boundary</span> <span class='op'>=</span> <span class='const'><a href="HTTPUtils.html" title="WEBrick::HTTPUtils (module)">HTTPUtils</a></span><span class='op'>::</span><span class='id identifier rubyid_dequote'><a href="HTTPUtils.html#dequote-class_method" title="WEBrick::HTTPUtils.dequote (method)">dequote</a></span><span class='lparen'>(</span><span class='backref'>$1</span><span class='rparen'>)</span>
      <span class='ivar'>@query</span> <span class='op'>=</span> <span class='const'><a href="HTTPUtils.html" title="WEBrick::HTTPUtils (module)">HTTPUtils</a></span><span class='op'>::</span><span class='id identifier rubyid_parse_form_data'><a href="HTTPUtils.html#parse_form_data-class_method" title="WEBrick::HTTPUtils.parse_form_data (method)">parse_form_data</a></span><span class='lparen'>(</span><span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='id identifier rubyid_boundary'>boundary</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='ivar'>@query</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="HTTPStatus.html" title="WEBrick::HTTPStatus (module)">HTTPStatus</a></span><span class='op'>::</span><span class='const'>BadRequest</span><span class='comma'>,</span> <span class='id identifier rubyid_ex'>ex</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_uri-instance_method">
  <h3 class='signature'>
  #<strong>parse_uri</strong>(str, scheme = &quot;http&quot;)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/https.rb#L56'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


56
57
58
59
60
61</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/https.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_uri'>parse_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_scheme'>scheme</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_server_cert'>server_cert</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_orig_parse_uri'>orig_parse_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_scheme'>scheme</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_orig_parse_uri'>orig_parse_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="port-instance_method">
  <h3 class='signature'>
  #<strong>port</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The port this request is for</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L316'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


316
317
318</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 316</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_port'>port</span>
  <span class='kw'>return</span> <span class='ivar'>@forwarded_port</span> <span class='op'>||</span> <span class='ivar'>@port</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="query-instance_method">
  <h3 class='signature'>
  #<strong>query</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Request query as a Hash</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L263'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


263
264
265
266
267
268</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 263</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_query'>query</span>
  <span class='kw'>unless</span> <span class='ivar'>@query</span>
    <span class='id identifier rubyid_parse_query'>parse_query</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@query</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_body-instance_method">
  <h3 class='signature'>
  #<strong>read_body</strong>(socket, block)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L467'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 467</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_body'>read_body</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_socket'>socket</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tc'>tc</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>transfer-encoding</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tc'>tc</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>chunked</span><span class='regexp_end'>/io</span></span> <span class='kw'>then</span> <span class='id identifier rubyid_read_chunked'>read_chunked</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>else</span> <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="HTTPStatus.html" title="WEBrick::HTTPStatus (module)">HTTPStatus</a></span><span class='op'>::</span><span class='const'>NotImplemented</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Transfer-Encoding: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tc'>tc</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>content-length</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='ivar'>@remaining_size</span>
    <span class='ivar'>@remaining_size</span> <span class='op'>||=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>content-length</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>while</span> <span class='ivar'>@remaining_size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_sz'>sz</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='ivar'>@buffer_size</span><span class='comma'>,</span> <span class='ivar'>@remaining_size</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_read_data'>read_data</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='comma'>,</span> <span class='id identifier rubyid_sz'>sz</span><span class='rparen'>)</span>
      <span class='ivar'>@remaining_size</span> <span class='op'>-=</span> <span class='id identifier rubyid_buf'>buf</span><span class='period'>.</span><span class='id identifier rubyid_bytesize'>bytesize</span>
      <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_buf'>buf</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='ivar'>@remaining_size</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@socket</span><span class='period'>.</span><span class='id identifier rubyid_eof?'>eof?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="HTTPStatus.html" title="WEBrick::HTTPStatus (module)">HTTPStatus</a></span><span class='op'>::</span><span class='const'>BadRequest</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid body size.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='const'><a href="#BODY_CONTAINABLE_METHODS-constant" title="WEBrick::HTTPRequest::BODY_CONTAINABLE_METHODS (constant)">BODY_CONTAINABLE_METHODS</a></span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span><span class='lparen'>(</span><span class='ivar'>@request_method</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="HTTPStatus.html" title="WEBrick::HTTPStatus (module)">HTTPStatus</a></span><span class='op'>::</span><span class='const'>LengthRequired</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='ivar'>@body</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_chunk_size-instance_method">
  <h3 class='signature'>
  #<strong>read_chunk_size</strong>(socket)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L491'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


491
492
493
494
495
496
497
498
499
500</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 491</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_chunk_size'>read_chunk_size</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_read_line'>read_line</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^([0-9a-fA-F])(?:;(\S))?</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_line'>line</span>
    <span class='id identifier rubyid_chunk_size'>chunk_size</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_hex'>hex</span>
    <span class='id identifier rubyid_chunk_ext'>chunk_ext</span> <span class='op'>=</span> <span class='backref'>$2</span>
    <span class='lbracket'>[</span> <span class='id identifier rubyid_chunk_size'>chunk_size</span><span class='comma'>,</span> <span class='id identifier rubyid_chunk_ext'>chunk_ext</span> <span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="HTTPStatus.html" title="WEBrick::HTTPStatus (module)">HTTPStatus</a></span><span class='op'>::</span><span class='const'>BadRequest</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad chunk `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_chunked-instance_method">
  <h3 class='signature'>
  #<strong>read_chunked</strong>(socket, block)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L502'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


502
503
504
505
506
507
508
509
510
511
512
513
514
515
516</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 502</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_chunked'>read_chunked</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_chunk_size'>chunk_size</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_read_chunk_size'>read_chunk_size</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_chunk_size'>chunk_size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_read_data'>read_data</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='comma'>,</span> <span class='id identifier rubyid_chunk_size'>chunk_size</span><span class='rparen'>)</span> <span class='comment'># read chunk-data
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_bytesize'>bytesize</span> <span class='op'>!=</span> <span class='id identifier rubyid_chunk_size'>chunk_size</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>BadRequest</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad chunk data size.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_read_line'>read_line</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>                    <span class='comment'># skip CRLF
</span>    <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_chunk_size'>chunk_size</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_read_chunk_size'>read_chunk_size</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_read_header'>read_header</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>                    <span class='comment'># trailer + CRLF
</span>  <span class='ivar'>@header</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>transfer-encoding</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@remaining_size</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_data-instance_method">
  <h3 class='signature'>
  #<strong>read_data</strong>(io, size)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L534'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


534
535
536</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 534</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_data'>read_data</span><span class='lparen'>(</span><span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__read_data'>_read_data</span><span class='lparen'>(</span><span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='symbol'>:read</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_header-instance_method">
  <h3 class='signature'>
  #<strong>read_header</strong>(socket)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L434'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


434
435
436
437
438
439
440
441
442</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 434</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_header'>read_header</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_socket'>socket</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_read_line'>read_line</span><span class='lparen'>(</span><span class='id identifier rubyid_socket'>socket</span><span class='rparen'>)</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../WEBrick.html#CRLF-constant" title="WEBrick::CRLF (constant)">CRLF</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../WEBrick.html#LF-constant" title="WEBrick::LF (constant)">LF</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>)\z</span><span class='regexp_end'>/om</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_line'>line</span>
      <span class='ivar'>@raw_header</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_line'>line</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@header</span> <span class='op'>=</span> <span class='const'><a href="HTTPUtils.html" title="WEBrick::HTTPUtils (module)">HTTPUtils</a></span><span class='op'>::</span><span class='id identifier rubyid_parse_header'><a href="HTTPUtils.html#parse_header-class_method" title="WEBrick::HTTPUtils.parse_header (method)">parse_header</a></span><span class='lparen'>(</span><span class='ivar'>@raw_header</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_line-instance_method">
  <h3 class='signature'>
  #<strong>read_line</strong>(io, size = 4096)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L530'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


530
531
532</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 530</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_line'>read_line</span><span class='lparen'>(</span><span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='op'>=</span><span class='int'>4096</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__read_data'>_read_data</span><span class='lparen'>(</span><span class='id identifier rubyid_io'>io</span><span class='comma'>,</span> <span class='symbol'>:gets</span><span class='comma'>,</span> <span class='const'><a href="../WEBrick.html#LF-constant" title="WEBrick::LF (constant)">LF</a></span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remote_ip-instance_method">
  <h3 class='signature'>
  #<strong>remote_ip</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The client&#39;s IP address</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L330'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


330
331
332</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 330</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remote_ip'>remote_ip</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>client-ip</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='ivar'>@forwarded_for</span> <span class='op'>||</span> <span class='ivar'>@peeraddr</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="server_name-instance_method">
  <h3 class='signature'>
  #<strong>server_name</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The server name this request is for</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L323'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


323
324
325</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 323</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_server_name'>server_name</span>
  <span class='kw'>return</span> <span class='ivar'>@forwarded_server</span> <span class='op'>||</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:ServerName</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="setup_forwarded_info-instance_method">
  <h3 class='signature'>
  #<strong>setup_forwarded_info</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>It&#39;s said that all X-Forwarded-* headers will contain more than one
(comma-separated) value if the original request already contained one of
these headers. Since we could use these values as Host header, we choose
the initial(first) value. (apr_table_mergen() adds new value after the
existing value with “, ” prefix)</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L566'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 566</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_forwarded_info'>setup_forwarded_info</span>
  <span class='kw'>if</span> <span class='ivar'>@forwarded_server</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-forwarded-server</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='ivar'>@forwarded_server</span> <span class='op'>=</span> <span class='ivar'>@forwarded_server</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='ivar'>@forwarded_proto</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-forwarded-proto</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='ivar'>@forwarded_proto</span> <span class='op'>=</span> <span class='ivar'>@forwarded_proto</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_host_port'>host_port</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-forwarded-host</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_host_port'>host_port</span> <span class='op'>=</span> <span class='id identifier rubyid_host_port'>host_port</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='ivar'>@forwarded_host</span><span class='comma'>,</span> <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='id identifier rubyid_host_port'>host_port</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
    <span class='ivar'>@forwarded_port</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='ivar'>@forwarded_proto</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='int'>443</span> <span class='op'>:</span> <span class='int'>80</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_addrs'>addrs</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-forwarded-for</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_addrs'>addrs</span> <span class='op'>=</span> <span class='id identifier rubyid_addrs'>addrs</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:strip</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_addrs'>addrs</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ip'>ip</span><span class='op'>|</span> <span class='const'><a href="#PrivateNetworkRegexp-constant" title="WEBrick::HTTPRequest::PrivateNetworkRegexp (constant)">PrivateNetworkRegexp</a></span> <span class='op'>=~</span> <span class='id identifier rubyid_ip'>ip</span> <span class='rbrace'>}</span>
    <span class='ivar'>@forwarded_for</span> <span class='op'>=</span> <span class='id identifier rubyid_addrs'>addrs</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ssl?-instance_method">
  <h3 class='signature'>
  #<strong>ssl?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Is this an SSL request?</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/lib/webrick/httprequest.rb#L337'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


337
338
339</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/webrick/httprequest.rb', line 337</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ssl?'>ssl?</span>
  <span class='kw'>return</span> <span class='ivar'>@request_uri</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>