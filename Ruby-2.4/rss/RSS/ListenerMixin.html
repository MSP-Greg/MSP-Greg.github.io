<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: RSS::ListenerMixin &mdash; rss Ruby-2.4.0 d2016-07-21</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "RSS::ListenerMixin",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='../index.html'>rss</a> &raquo; 
          <a href='../_index.html'>Index (L)</a> &raquo; 
          <a href="../RSS.html" title="RSS (module)">RSS</a> &raquo; 
          <span class='title'>ListenerMixin</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: RSS::ListenerMixin</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>




  <tr>
    <td class='box_1'>Included in:</td>
    <td><a href="REXMLListener.html" title="RSS::REXMLListener (class)">REXMLListener</a>, <a href="XMLParserListener.html" title="RSS::XMLParserListener (class)">XMLParserListener</a>, <a href="XMLScanListener.html" title="RSS::XMLScanListener (class)">XMLScanListener</a>
    </td>
  </tr>

  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
rss/0.9.rb<span class='defines'>,<br />rss/1.0.rb,<br /> rss/atom.rb,<br /> rss/parser.rb</span>
</div>  </td>
  </tr>
</table>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='CONTENT_PATTERN-constant'>
      CONTENT_PATTERN =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s*([^=])=([&quot;&#39;])([^\2]?)\2</span><span class='regexp_end'>/</span></span></pre>
    </dd>
    <dt id='NAMESPLIT-constant'>
      NAMESPLIT =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(?:([\w:][-\w.]*):)?([\w:][-\w.]*)</span><span class='regexp_end'>/</span></span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#do_validate-instance_method" title="#do_validate (instance method)">#<strong>do_validate</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ignore_unknown_element-instance_method" title="#ignore_unknown_element (instance method)">#<strong>ignore_unknown_element</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rss-instance_method" title="#rss (instance method)">#<strong>rss</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#_ns-instance_method" title="#_ns (instance method)">#<strong>_ns</strong>(ns, prefix)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_ns-instance_method" title="#check_ns (instance method)">#<strong>check_ns</strong>(tag_name, prefix, ns, require_uri, ignore_unknown_element = nil)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collect_attributes-instance_method" title="#collect_attributes (instance method)">#<strong>collect_attributes</strong>(tag_name, prefix, attrs, ns, klass)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initial_start_entry-instance_method" title="#initial_start_entry (instance method)">#<strong>initial_start_entry</strong>(tag_name, prefix, attrs, ns)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initial_start_feed-instance_method" title="#initial_start_feed (instance method)">#<strong>initial_start_feed</strong>(tag_name, prefix, attrs, ns)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initial_start_RDF-instance_method" title="#initial_start_RDF (instance method)">#<strong>initial_start_RDF</strong>(tag_name, prefix, attrs, ns)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initial_start_rss-instance_method" title="#initial_start_rss (instance method)">#<strong>initial_start_rss</strong>(tag_name, prefix, attrs, ns)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#instruction-instance_method" title="#instruction (instance method)">#<strong>instruction</strong>(name, content)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#known_class%3F-instance_method" title="#known_class? (instance method)">#<strong>known_class?</strong>(target_class, class_name)  &#x21d2; Boolean </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_pi_content-instance_method" title="#parse_pi_content (instance method)">#<strong>parse_pi_content</strong>(content)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Extract the first name=“value” pair from content.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#setup_next_element-instance_method" title="#setup_next_element (instance method)">#<strong>setup_next_element</strong>(tag_name, klass, attributes)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#setup_next_element_in_unknown_element-instance_method" title="#setup_next_element_in_unknown_element (instance method)">#<strong>setup_next_element_in_unknown_element</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#split_name-instance_method" title="#split_name (instance method)">#<strong>split_name</strong>(name)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#start_else_element-instance_method" title="#start_else_element (instance method)">#<strong>start_else_element</strong>(local, prefix, attrs, ns)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#start_get_text_element-instance_method" title="#start_get_text_element (instance method)">#<strong>start_get_text_element</strong>(tag_name, prefix, ns, required_uri)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#start_have_something_element-instance_method" title="#start_have_something_element (instance method)">#<strong>start_have_something_element</strong>(tag_name, prefix, attrs, ns, klass)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#tag_end-instance_method" title="#tag_end (instance method)">#<strong>tag_end</strong>(name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#tag_start-instance_method" title="#tag_start (instance method)">#<strong>tag_start</strong>(name, attributes)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#text-instance_method" title="#text (instance method)">#<strong>text</strong>(data)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#xmldecl-instance_method" title="#xmldecl (instance method)">#<strong>xmldecl</strong>(version, encoding, standalone)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>set instance vars for version, encoding, standalone</p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="do_validate-instance_method">
  <h3 class='signature first'>
  #<strong>do_validate</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


266</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 266</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:do_validate</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ignore_unknown_element-instance_method">
  <h3 class='signature'>
  #<strong>ignore_unknown_element</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


265</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 265</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:ignore_unknown_element</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rss-instance_method">
  <h3 class='signature'>
  #<strong>rss</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


263</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 263</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:rss</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="_ns-instance_method">
  <h3 class='signature first'>
  #<strong>_ns</strong>(ns, prefix)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


372
373
374</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 372</span>

<span class='kw'>def</span> <span class='id identifier rubyid__ns'>_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ns'>ns</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_ns-instance_method">
  <h3 class='signature'>
  #<strong>check_ns</strong>(tag_name, prefix, ns, require_uri, ignore_unknown_element = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 427</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_ns'>check_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_require_uri'>require_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_unknown_element'>ignore_unknown_element</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid__ns'>_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='id identifier rubyid_require_uri'>require_uri</span>
    <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_ignore_unknown_element'>ignore_unknown_element</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_ignore_unknown_element'>ignore_unknown_element</span> <span class='op'>=</span> <span class='ivar'>@ignore_unknown_element</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_ignore_unknown_element'>ignore_unknown_element</span>
      <span class='kw'>false</span>
    <span class='kw'>elsif</span> <span class='ivar'>@do_validate</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NSError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_require_uri'>require_uri</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='comment'># Force bind required URI with prefix
</span>      <span class='ivar'>@ns_stack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='lbracket'>[</span><span class='id identifier rubyid_prefix'>prefix</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_require_uri'>require_uri</span>
      <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="collect_attributes-instance_method">
  <h3 class='signature'>
  #<strong>collect_attributes</strong>(tag_name, prefix, attrs, ns, klass)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 477</span>

<span class='kw'>def</span> <span class='id identifier rubyid_collect_attributes'>collect_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_attributes'>attributes</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_get_attributes'>get_attributes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a_name'>a_name</span><span class='comma'>,</span> <span class='id identifier rubyid_a_uri'>a_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_required'>required</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_a_uri'>a_uri</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='kw'>or</span> <span class='op'>!</span><span class='id identifier rubyid_a_uri'>a_uri</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:include?</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_a_uri'>a_uri</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_a_uri'>a_uri</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_a_uri'>a_uri</span> <span class='op'>==</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='kw'>for</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_uri'>uri</span> <span class='kw'>in</span> <span class='id identifier rubyid_ns'>ns</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_a_uri'>a_uri</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a_name'>a_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='id identifier rubyid_a_uri'>a_uri</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='id identifier rubyid_a_name'>a_name</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='ivar'>@do_validate</span> <span class='kw'>and</span> <span class='id identifier rubyid_required'>required</span> <span class='kw'>and</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_a_uri'>a_uri</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_uri'>uri</span> <span class='kw'>in</span> <span class='id identifier rubyid_ns'>ns</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_a_uri'>a_uri</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_a_name'>a_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a_name'>a_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>MissingAttributeError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_a_name'>a_name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_attributes'>attributes</span><span class='lbracket'>[</span><span class='id identifier rubyid_a_name'>a_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_attributes'>attributes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initial_start_entry-instance_method">
  <h3 class='signature'>
  #<strong>initial_start_entry</strong>(tag_name, prefix, attrs, ns)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


825
826
827
828
829
830
831
832
833
834
835
836
837
838</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/atom.rb', line 825</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initial_start_entry'>initial_start_entry</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_ns'>check_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='const'>Atom</span><span class='op'>::</span><span class='const'>URI</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>

  <span class='ivar'>@rss</span> <span class='op'>=</span> <span class='const'>Atom</span><span class='op'>::</span><span class='const'>Entry</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@version</span><span class='comma'>,</span> <span class='ivar'>@encoding</span><span class='comma'>,</span> <span class='ivar'>@standalone</span><span class='rparen'>)</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_do_validate'>do_validate</span> <span class='op'>=</span> <span class='ivar'>@do_validate</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_xml_stylesheets'>xml_stylesheets</span> <span class='op'>=</span> <span class='ivar'>@xml_stylesheets</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_lang'>lang</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xml:lang</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_base'>base</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xml:base</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='ivar'>@rss</span>
  <span class='id identifier rubyid_pr'>pr</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='op'>|</span>
    <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_validate_for_stream'>validate_for_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_tags'>tags</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@do_validate</span>
  <span class='kw'>end</span>
  <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_pr'>pr</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initial_start_feed-instance_method">
  <h3 class='signature'>
  #<strong>initial_start_feed</strong>(tag_name, prefix, attrs, ns)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


810
811
812
813
814
815
816
817
818
819
820
821
822
823</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/atom.rb', line 810</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initial_start_feed'>initial_start_feed</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_ns'>check_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='const'>Atom</span><span class='op'>::</span><span class='const'>URI</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>

  <span class='ivar'>@rss</span> <span class='op'>=</span> <span class='const'>Atom</span><span class='op'>::</span><span class='const'>Feed</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@version</span><span class='comma'>,</span> <span class='ivar'>@encoding</span><span class='comma'>,</span> <span class='ivar'>@standalone</span><span class='rparen'>)</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_do_validate'>do_validate</span> <span class='op'>=</span> <span class='ivar'>@do_validate</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_xml_stylesheets'>xml_stylesheets</span> <span class='op'>=</span> <span class='ivar'>@xml_stylesheets</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_lang'>lang</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xml:lang</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_base'>base</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xml:base</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='ivar'>@rss</span>
  <span class='id identifier rubyid_pr'>pr</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='op'>|</span>
    <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_validate_for_stream'>validate_for_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_tags'>tags</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@do_validate</span>
  <span class='kw'>end</span>
  <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_pr'>pr</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initial_start_RDF-instance_method">
  <h3 class='signature'>
  #<strong>initial_start_RDF</strong>(tag_name, prefix, attrs, ns)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


471
472
473
474
475
476
477
478
479
480
481
482</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/1.0.rb', line 471</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initial_start_RDF'>initial_start_RDF</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_ns'>check_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='const'>RDF</span><span class='op'>::</span><span class='const'>URI</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>

  <span class='ivar'>@rss</span> <span class='op'>=</span> <span class='const'>RDF</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@version</span><span class='comma'>,</span> <span class='ivar'>@encoding</span><span class='comma'>,</span> <span class='ivar'>@standalone</span><span class='rparen'>)</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_do_validate'>do_validate</span> <span class='op'>=</span> <span class='ivar'>@do_validate</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_xml_stylesheets'>xml_stylesheets</span> <span class='op'>=</span> <span class='ivar'>@xml_stylesheets</span>
  <span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='ivar'>@rss</span>
  <span class='id identifier rubyid_pr'>pr</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='op'>|</span>
    <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_validate_for_stream'>validate_for_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_tags'>tags</span><span class='comma'>,</span> <span class='ivar'>@ignore_unknown_element</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@do_validate</span>
  <span class='kw'>end</span>
  <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_pr'>pr</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initial_start_rss-instance_method">
  <h3 class='signature'>
  #<strong>initial_start_rss</strong>(tag_name, prefix, attrs, ns)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


447
448
449
450
451
452
453
454
455
456
457
458</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/0.9.rb', line 447</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initial_start_rss'>initial_start_rss</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_ns'>check_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>

  <span class='ivar'>@rss</span> <span class='op'>=</span> <span class='const'>Rss</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='ivar'>@version</span><span class='comma'>,</span> <span class='ivar'>@encoding</span><span class='comma'>,</span> <span class='ivar'>@standalone</span><span class='rparen'>)</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_do_validate'>do_validate</span> <span class='op'>=</span> <span class='ivar'>@do_validate</span>
  <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_xml_stylesheets'>xml_stylesheets</span> <span class='op'>=</span> <span class='ivar'>@xml_stylesheets</span>
  <span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='ivar'>@rss</span>
  <span class='id identifier rubyid_pr'>pr</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='op'>|</span>
    <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_validate_for_stream'>validate_for_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_tags'>tags</span><span class='comma'>,</span> <span class='ivar'>@ignore_unknown_element</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@do_validate</span>
  <span class='kw'>end</span>
  <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_pr'>pr</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initialize-instance_method">
  <h3 class='signature'>
  #<strong>initialize</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


268
269
270
271
272
273
274
275
276
277
278
279
280
281
282</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 268</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@rss</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ignore_unknown_element</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@do_validate</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@ns_stack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xml</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='symbol'>:xml</span><span class='rbrace'>}</span><span class='rbracket'>]</span>
  <span class='ivar'>@tag_stack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
  <span class='ivar'>@text_stack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='ivar'>@proc_stack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@version</span> <span class='op'>=</span> <span class='ivar'>@encoding</span> <span class='op'>=</span> <span class='ivar'>@standalone</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@xml_stylesheets</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@xml_child_mode</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@xml_element</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@last_xml_element</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="instruction-instance_method">
  <h3 class='signature'>
  #<strong>instruction</strong>(name, content)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


289
290
291
292
293
294
295
296</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 289</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instruction'>instruction</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xml-stylesheet</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_pi_content'>parse_pi_content</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>href</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='ivar'>@xml_stylesheets</span> <span class='op'>&lt;&lt;</span> <span class='const'>XMLStyleSheet</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="known_class?-instance_method">
  <h3 class='signature'>
  #<strong>known_class?</strong>(target_class, class_name)  &#x21d2; <tt>Boolean</tt>  <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


408
409
410
411
412</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 408</span>

<span class='kw'>def</span> <span class='id identifier rubyid_known_class?'>known_class?</span><span class='lparen'>(</span><span class='id identifier rubyid_target_class'>target_class</span><span class='comma'>,</span> <span class='id identifier rubyid_class_name'>class_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_class_name'>class_name</span> <span class='kw'>and</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_target_class'>target_class</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_class_name'>class_name</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>or</span>
     <span class='id identifier rubyid_target_class'>target_class</span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_class_name'>class_name</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_pi_content-instance_method">
  <h3 class='signature'>
  #<strong>parse_pi_content</strong>(content)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Extract the first name=“value” pair from content. Works with single quotes
according to the constant CONTENT_PATTERN. Return a Hash.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


380
381
382
383
384
385
386</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 380</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_pi_content'>parse_pi_content</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_content'>content</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='const'>CONTENT_PATTERN</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_quote'>quote</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_params'>params</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="setup_next_element-instance_method">
  <h3 class='signature'>
  #<strong>setup_next_element</strong>(tag_name, klass, attributes)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 511</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_next_element'>setup_next_element</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_previous'>previous</span> <span class='op'>=</span> <span class='ivar'>@last_element</span>
  <span class='id identifier rubyid_next_element'>next_element</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@do_validate</span><span class='comma'>,</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_previous'>previous</span><span class='period'>.</span><span class='id identifier rubyid_set_next_element'>set_next_element</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_next_element'>next_element</span><span class='rparen'>)</span>
  <span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='id identifier rubyid_next_element'>next_element</span>
  <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_previous'>previous</span> <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_need_parent?'>need_parent?</span>
  <span class='ivar'>@xml_child_mode</span> <span class='op'>=</span> <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_have_xml_content?'>have_xml_content?</span>

  <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='op'>|</span>
    <span class='id identifier rubyid_p'>p</span><span class='lparen'>(</span><span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>DEBUG</span>
    <span class='kw'>if</span> <span class='ivar'>@xml_child_mode</span>
      <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='ivar'>@xml_element</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='id identifier rubyid_xml_setter'>xml_setter</span> <span class='op'>=</span> <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_xml_setter'>xml_setter</span>
      <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='id identifier rubyid_xml_setter'>xml_setter</span><span class='comma'>,</span> <span class='ivar'>@xml_element</span><span class='rparen'>)</span>
      <span class='ivar'>@xml_element</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='ivar'>@xml_child_mode</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_have_content?'>have_content?</span>
        <span class='kw'>if</span> <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_need_base64_encode?'>need_base64_encode?</span>
          <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_lstrip'>lstrip</span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>m</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
        <span class='kw'>end</span>
        <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='ivar'>@do_validate</span>
      <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_validate_for_stream'>validate_for_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_tags'>tags</span><span class='comma'>,</span> <span class='ivar'>@ignore_unknown_element</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='id identifier rubyid_previous'>previous</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="setup_next_element_in_unknown_element-instance_method">
  <h3 class='signature'>
  #<strong>setup_next_element_in_unknown_element</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


542
543
544
545</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 542</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_next_element_in_unknown_element'>setup_next_element_in_unknown_element</span>
  <span class='id identifier rubyid_current_element'>current_element</span><span class='comma'>,</span> <span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='ivar'>@last_element</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span><span class='ivar'>@last_element</span> <span class='op'>=</span> <span class='id identifier rubyid_current_element'>current_element</span><span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="split_name-instance_method">
  <h3 class='signature'>
  #<strong>split_name</strong>(name)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


422
423
424
425</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 422</span>

<span class='kw'>def</span> <span class='id identifier rubyid_split_name'>split_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='const'>NAMESPLIT</span>
  <span class='lbracket'>[</span><span class='backref'>$1</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='backref'>$2</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="start_else_element-instance_method">
  <h3 class='signature'>
  #<strong>start_else_element</strong>(local, prefix, attrs, ns)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 388</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_else_element'>start_else_element</span><span class='lparen'>(</span><span class='id identifier rubyid_local'>local</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_class_name'>class_name</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_class_name'>class_name</span><span class='lparen'>(</span><span class='id identifier rubyid__ns'>_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_local'>local</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_current_class'>current_class</span> <span class='op'>=</span> <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_known_class?'>known_class?</span><span class='lparen'>(</span><span class='id identifier rubyid_current_class'>current_class</span><span class='comma'>,</span> <span class='id identifier rubyid_class_name'>class_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_next_class'>next_class</span> <span class='op'>=</span> <span class='id identifier rubyid_current_class'>current_class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_class_name'>class_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_start_have_something_element'>start_have_something_element</span><span class='lparen'>(</span><span class='id identifier rubyid_local'>local</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_next_class'>next_class</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@do_validate</span> <span class='kw'>or</span> <span class='ivar'>@ignore_unknown_element</span>
      <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_setup_next_element_in_unknown_element'>setup_next_element_in_unknown_element</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ROOT ELEMENT???</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_current_class'>current_class</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span>
        <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_current_class'>current_class</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotExpectedTagError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_local'>local</span><span class='comma'>,</span> <span class='id identifier rubyid__ns'>_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_parent'>parent</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="start_get_text_element-instance_method">
  <h3 class='signature'>
  #<strong>start_get_text_element</strong>(tag_name, prefix, ns, required_uri)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 447</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_get_text_element'>start_get_text_element</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_required_uri'>required_uri</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pr'>pr</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='op'>|</span>
    <span class='id identifier rubyid_setter'>setter</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_setter'>setter</span><span class='lparen'>(</span><span class='id identifier rubyid_required_uri'>required_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_tag_name'>tag_name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_setter'>setter</span> <span class='kw'>and</span> <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_setter'>setter</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='ivar'>@do_validate</span>
        <span class='id identifier rubyid_getter'>getter</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_getter'>getter</span><span class='lparen'>(</span><span class='id identifier rubyid_required_uri'>required_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_tag_name'>tag_name</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='id identifier rubyid_getter'>getter</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TooMuchTagError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='id identifier rubyid_setter'>setter</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='ivar'>@do_validate</span> <span class='kw'>and</span> <span class='op'>!</span><span class='ivar'>@ignore_unknown_element</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotExpectedTagError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid__ns'>_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span><span class='comma'>,</span>
                                      <span class='ivar'>@last_element</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_pr'>pr</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="start_have_something_element-instance_method">
  <h3 class='signature'>
  #<strong>start_have_something_element</strong>(tag_name, prefix, attrs, ns, klass)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


468
469
470
471
472
473
474
475</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 468</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_have_something_element'>start_have_something_element</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_check_ns'>check_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_required_uri'>required_uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_attributes'>attributes</span> <span class='op'>=</span> <span class='id identifier rubyid_collect_attributes'>collect_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
    <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_setup_next_element'>setup_next_element</span><span class='lparen'>(</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_setup_next_element_in_unknown_element'>setup_next_element_in_unknown_element</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="tag_end-instance_method">
  <h3 class='signature'>
  #<strong>tag_end</strong>(name)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


351
352
353
354
355
356
357
358
359
360
361</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 351</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tag_end'>tag_end</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>DEBUG</span>
    <span class='id identifier rubyid_p'>p</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>end tag </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_p'>p</span> <span class='ivar'>@tag_stack</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='ivar'>@text_stack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
  <span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='ivar'>@tag_stack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
  <span class='id identifier rubyid_pr'>pr</span> <span class='op'>=</span> <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
  <span class='id identifier rubyid_pr'>pr</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_pr'>pr</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='ivar'>@ns_stack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="tag_start-instance_method">
  <h3 class='signature'>
  #<strong>tag_start</strong>(name, attributes)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 298</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tag_start'>tag_start</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='rparen'>)</span>
  <span class='ivar'>@text_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_ns'>ns</span> <span class='op'>=</span> <span class='ivar'>@ns_stack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_attributes'>attributes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Axmlns(?:\z|:)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_n'>n</span>
      <span class='id identifier rubyid_ns'>ns</span><span class='lbracket'>[</span><span class='gvar'>$POSTMATCH</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_attrs'>attrs</span><span class='lbracket'>[</span><span class='id identifier rubyid_n'>n</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@ns_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_local'>local</span> <span class='op'>=</span> <span class='id identifier rubyid_split_name'>split_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='ivar'>@tag_stack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid__ns'>_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_local'>local</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@tag_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@xml_child_mode</span>
    <span class='id identifier rubyid_previous'>previous</span> <span class='op'>=</span> <span class='ivar'>@last_xml_element</span>
    <span class='id identifier rubyid_element_attrs'>element_attrs</span> <span class='op'>=</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_previous'>previous</span>
      <span class='id identifier rubyid_ns'>ns</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ns_prefix'>ns_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_ns_prefix'>ns_prefix</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xml</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_ns_prefix'>ns_prefix</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ns_prefix'>ns_prefix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_element_attrs'>element_attrs</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_value'>value</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_next_element'>next_element</span> <span class='op'>=</span> <span class='const'>XML</span><span class='op'>::</span><span class='const'>Element</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_local'>local</span><span class='comma'>,</span>
                                    <span class='id identifier rubyid_prefix'>prefix</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span>
                                    <span class='id identifier rubyid__ns'>_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span><span class='comma'>,</span>
                                    <span class='id identifier rubyid_element_attrs'>element_attrs</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_previous'>previous</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_next_element'>next_element</span> <span class='kw'>if</span> <span class='id identifier rubyid_previous'>previous</span>
    <span class='ivar'>@last_xml_element</span> <span class='op'>=</span> <span class='id identifier rubyid_next_element'>next_element</span>
    <span class='id identifier rubyid_pr'>pr</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_tags'>tags</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_previous'>previous</span>
        <span class='ivar'>@last_xml_element</span> <span class='op'>=</span> <span class='id identifier rubyid_previous'>previous</span>
      <span class='kw'>else</span>
        <span class='ivar'>@xml_element</span> <span class='op'>=</span> <span class='ivar'>@last_xml_element</span>
        <span class='ivar'>@last_xml_element</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='ivar'>@proc_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_pr'>pr</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='ivar'>@rss</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>initial_start_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_local'>local</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
      <span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>initial_start_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_local'>local</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_local'>local</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_local'>local</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
      <span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_local'>local</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_local'>local</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_start_else_element'>start_else_element</span><span class='lparen'>(</span><span class='id identifier rubyid_local'>local</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="text-instance_method">
  <h3 class='signature'>
  #<strong>text</strong>(data)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


363
364
365
366
367
368
369</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 363</span>

<span class='kw'>def</span> <span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@xml_child_mode</span>
    <span class='ivar'>@last_xml_element</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_data'>data</span> <span class='kw'>if</span> <span class='ivar'>@last_xml_element</span>
  <span class='kw'>else</span>
    <span class='ivar'>@text_stack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_data'>data</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="xmldecl-instance_method">
  <h3 class='signature'>
  #<strong>xmldecl</strong>(version, encoding, standalone)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>set instance vars for version, encoding, standalone</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


285
286
287</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rss/parser.rb', line 285</span>

<span class='kw'>def</span> <span class='id identifier rubyid_xmldecl'>xmldecl</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_standalone'>standalone</span><span class='rparen'>)</span>
  <span class='ivar'>@version</span><span class='comma'>,</span> <span class='ivar'>@encoding</span><span class='comma'>,</span> <span class='ivar'>@standalone</span> <span class='op'>=</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_standalone'>standalone</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.3 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>