<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::CrossReference &mdash; rdoc Ruby-2.4.0 d2016-07-07</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "RDoc::CrossReference",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='../index.html'>rdoc</a> &raquo; 
          <a href='../_index.html'>Index (C)</a> &raquo; 
        #  <a href="../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
          <span class='title'>CrossReference</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: RDoc::CrossReference</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'>Object</span>
        <ul class='fullTree'>
          <li>Object</li>
            <li class='next'>RDoc::CrossReference</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>



  <dl>
    <dt>Defined in:</dt>
    <dd>rdoc/cross_reference.rb</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>frozen_string_literal: false</p>

<p><a href="" title="RDoc::CrossReference (class)">CrossReference</a> is a reusable way to create cross references for
names.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='ALL_CROSSREF_REGEXP-constant'>
      ALL_CROSSREF_REGEXP =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Version of CROSSREF_REGEXP used when <code>--hyperlink-all</code> is
specified.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
(?:^|\s)
(
 (?:
  # A::B::C.meth
  </span><span class='embexpr_beg'>#{</span><span class='const'>CLASS_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?:[.#]|::)</span><span class='embexpr_beg'>#{</span><span class='const'>METHOD_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>

  # Stand-alone method
  | \\?</span><span class='embexpr_beg'>#{</span><span class='const'>METHOD_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>

  # A::B::C
  | </span><span class='embexpr_beg'>#{</span><span class='const'>CLASS_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?=[@\s).?!,;&lt;\000]|\z)

  # Things that look like filenames
  | (?:\.\.\/)*[-\/\w][_\/.][-\w\/.]

  # Things that have markup suppressed
  | \\[^\s&lt;]
 )

 # labels for headings
 (?:@[\w%-])?
)</span><span class='regexp_end'>/x</span></span></pre>
    </dd>
    <dt id='CLASS_REGEXP_STR-constant'>
      CLASS_REGEXP_STR =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Regular expression to match class references</p>
<ol><li>
<p>There can be a &#39;\&#39; in front of text to suppress the cross-reference</p>
</li><li>
<p>There can be a &#39;::&#39; in front of class names to reference from the
top-level namespace.</p>
</li><li>
<p>The method can be followed by parenthesis (not recommended)</p>
</li></ol>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\\\\?((?:\:{2})?[A-Z]\w*(?:\:\:\w+)*)</span><span class='tstring_end'>&#39;</span></span></pre>
    </dd>
    <dt id='CROSSREF_REGEXP-constant'>
      CROSSREF_REGEXP =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Regular expressions matching text that should potentially have
cross-reference links generated are passed to add_special.  Note that these
expressions are meant to pick up text for which cross-references have been
suppressed, since the suppression characters are removed by the code that
is triggered.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?:^|\s)
(
 (?:
  # A::B::C.meth
  </span><span class='embexpr_beg'>#{</span><span class='const'>CLASS_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?:[.#]|::)</span><span class='embexpr_beg'>#{</span><span class='const'>METHOD_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>

  # Stand-alone method (preceded by a #)
  | \\?\#</span><span class='embexpr_beg'>#{</span><span class='const'>METHOD_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>

  # Stand-alone method (preceded by ::)
  | ::</span><span class='embexpr_beg'>#{</span><span class='const'>METHOD_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>

  # A::B::C
  # The stuff after CLASS_REGEXP_STR is a
  # nasty hack.  CLASS_REGEXP_STR unfortunately matches
  # words like dog and cat (these are legal &quot;class&quot;
  # names in Fortran 95).  When a word is flagged as a
  # potential cross-reference, limitations in the markup
  # engine suppress other processing, such as typesetting.
  # This is particularly noticeable for contractions.
  # In order that words like &quot;can&#39;t&quot; not
  # be flagged as potential cross-references, only
  # flag potential class cross-references if the character
  # after the cross-reference is a space, sentence
  # punctuation, tag start character, or attribute
  # marker.
  | </span><span class='embexpr_beg'>#{</span><span class='const'>CLASS_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?=[@\s).?!,;&lt;\000]|\z)

  # Things that look like filenames
  # The key thing is that there must be at least
  # one special character (period, slash, or
  # underscore).
  | (?:\.\.\/)*[-\/\w][_\/.][-\w\/.]

  # Things that have markup suppressed
  # Don&#39;t process things like &#39;\&lt;&#39; in \&lt;tt&gt;, though.
  # TODO: including &lt; is a hack, not very satisfying.
  | \\[^\s&lt;]
 )

 # labels for headings
 (?:@[\w%-](?:\.[\w|%-]+)?)?
)</span><span class='regexp_end'>/x</span></span></pre>
    </dd>
    <dt id='METHOD_REGEXP_STR-constant'>
      METHOD_REGEXP_STR =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Regular expression to match method references.</p>

<p>See CLASS_REGEXP_STR</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>([a-z]\w*[!?=]?|%|===|\[\]=?|&lt;&lt;|&gt;&gt;)(?:\([\w.+*/=&lt;&gt;-]*\))?</span><span class='tstring_end'>&#39;</span></span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#seen-instance_method" title="#seen (instance method)">#<strong>seen</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Hash of references that have been looked-up to their replacements</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(context)  &#x21d2; CrossReference </a>
      </span>
      <span class='note title constructor'>constructor</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Allows cross-references to be created based on the given
<code>context</code> (RDoc::Context).</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#resolve-instance_method" title="#resolve (instance method)">#<strong>resolve</strong>(name, text)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a reference to <code>name</code>.</p>
</div>
      </span>
    </li>
  </ul>

<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(context)  &#x21d2; <tt><a href="" title="RDoc::CrossReference (class)">CrossReference</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Allows cross-references to be created based on the given
<code>context</code> (RDoc::Context).</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


111
112
113
114
115
116</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'rdoc/cross_reference.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@context</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@store</span>   <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span>

  <span class='ivar'>@seen</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="seen-instance_method">
  <h3 class='signature first'>
  #<strong>seen</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Hash of references that have been looked-up to their replacements</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


105</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'rdoc/cross_reference.rb', line 105</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:seen</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="resolve-instance_method">
  <h3 class='signature first'>
  #<strong>resolve</strong>(name, text)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a reference to <code>name</code>.</p>

<p>If the reference is found and <code>name</code> is not documented
<code>text</code> will be returned.  If <code>name</code> is escaped
<code>name</code> is returned.  If <code>name</code> is not found
<code>text</code> is returned.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'rdoc/cross_reference.rb', line 125</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve'>resolve</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span>
  <span class='kw'>return</span> <span class='ivar'>@seen</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='ivar'>@seen</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_name'>name</span>

  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'>CLASS_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>([.#]|::)</span><span class='embexpr_beg'>#{</span><span class='const'>METHOD_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='regexp_end'>/o</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='backref'>$2</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>  <span class='comment'># will find either #method or ::method
</span>    <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='backref'>$3</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='ivar'>@context</span><span class='period'>.</span><span class='id identifier rubyid_find_symbol_module'>find_symbol_module</span><span class='lparen'>(</span><span class='backref'>$1</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^([.#]|::)</span><span class='embexpr_beg'>#{</span><span class='const'>METHOD_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='regexp_end'>/o</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='backref'>$2</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='ivar'>@context</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_ref'>ref</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_find_local_symbol'>find_local_symbol</span> <span class='id identifier rubyid_method'>method</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_ref'>ref</span> <span class='op'>||</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>TopLevel</span> <span class='op'>===</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_ref'>ref</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_find_ancestor_local_symbol'>find_ancestor_local_symbol</span> <span class='id identifier rubyid_method'>method</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ref'>ref</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_name'>name</span>
        <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\\(</span><span class='embexpr_beg'>#{</span><span class='const'>CLASS_REGEXP_STR</span><span class='embexpr_end'>}</span><span class='tstring_content'>)$</span><span class='regexp_end'>/o</span></span> <span class='kw'>then</span>
          <span class='ivar'>@context</span><span class='period'>.</span><span class='id identifier rubyid_find_symbol'>find_symbol</span> <span class='backref'>$1</span>
        <span class='kw'>else</span>
          <span class='ivar'>@context</span><span class='period'>.</span><span class='id identifier rubyid_find_symbol'>find_symbol</span> <span class='id identifier rubyid_name'>name</span>
        <span class='kw'>end</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ref'>ref</span>

  <span class='comment'># Try a page name
</span>  <span class='id identifier rubyid_ref'>ref</span> <span class='op'>=</span> <span class='ivar'>@store</span><span class='period'>.</span><span class='id identifier rubyid_page'>page</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_ref'>ref</span> <span class='kw'>and</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\w+$</span><span class='regexp_end'>/</span></span>

  <span class='id identifier rubyid_ref'>ref</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>Alias</span> <span class='op'>===</span> <span class='id identifier rubyid_ref'>ref</span> <span class='comment'># external alias, can&#39;t link to it
</span>
  <span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
          <span class='id identifier rubyid_name'>name</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\\</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
          <span class='comment'># we remove the \ only in front of what we know:
</span>          <span class='comment'># other backslashes are treated later, only outside of &lt;tt&gt;
</span>          <span class='id identifier rubyid_ref'>ref</span> <span class='op'>?</span> <span class='backref'>$&#39;</span> <span class='op'>:</span> <span class='id identifier rubyid_name'>name</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_ref'>ref</span> <span class='kw'>then</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_ref'>ref</span><span class='period'>.</span><span class='id identifier rubyid_display?'>display?</span> <span class='kw'>then</span>
            <span class='id identifier rubyid_ref'>ref</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_text'>text</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_text'>text</span>
        <span class='kw'>end</span>

  <span class='ivar'>@seen</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_out'>out</span>

  <span class='id identifier rubyid_out'>out</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>