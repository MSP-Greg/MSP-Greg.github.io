<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Process::GID &mdash; Core Ruby-2.4.0 d2016-08-08</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Process::GID",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='../index.html'>Core</a> &raquo; 
          <a href='../_index.html'>Index (G)</a> &raquo; 
          <a href="../Process.html" title="Process (module)">Process</a> &raquo; 
          <span class='title'>GID</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: Process::GID</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/ruby/ruby/blob/trunk/process.c#L7859'>process.c</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The <a href="" title="Process::GID (module)">GID</a> module contains a collection of module functions which
can be used to portably get, set, and switch the current process&#39;s
real, effective, and saved group IDs.</p>


  </div>
</div>
<div class="tags">
  
</div>




<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#change_privilege-class_method" title="change_privilege (class method)">.<strong>change_privilege</strong>(group)  &#x21d2; Fixnum </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Change the current process&#39;s real and effective group ID to that
specified by <em>group</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eid-class_method" title="eid (class method)">.<strong>eid</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the effective group ID for this process.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#from_name-class_method" title="from_name (class method)">.<strong>from_name</strong>(name)  &#x21d2; GID </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Get the group ID by the <em>name</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#grant_privilege-class_method" title="grant_privilege (class method)">.<strong>grant_privilege</strong>(group)  &#x21d2; Fixnum </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Set the effective group ID, and if possible, the saved group ID of the
process to the given <em>group</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#re_exchange-class_method" title="re_exchange (class method)">.<strong>re_exchange</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Exchange real and effective group IDs and return the new effective group
ID.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#re_exchangeable%3F-class_method" title="re_exchangeable? (class method)">.<strong>re_exchangeable?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the real and effective group IDs of a process
may be exchanged on the current platform.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rid-class_method" title="rid (class method)">.<strong>rid</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the (real) group ID for this process.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sid_available%3F-class_method" title="sid_available? (class method)">.<strong>sid_available?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the current platform has saved group ID
functionality.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#switch-class_method" title="switch (class method)">.<strong>switch</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='mod_func note title'>mod_func</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Switch the effective and real group IDs of the current process.</p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="change_privilege-class_method">
  <h3 class='signature first'>
  .<strong>change_privilege</strong>(group)  &#x21d2; <tt>Fixnum</tt>  <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Change the current process&#39;s real and effective group ID to that
specified by <em>group</em>. Returns the new group ID. Not available on all
platforms.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_gid'><a href="../Process.html#gid-class_method" title="Process.gid (method)">gid</a></span><span class='comma'>,</span> <span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_egid'><a href="../Process.html#egid-class_method" title="Process.egid (method)">egid</a></span><span class='rbracket'>]</span>          <span class='comment'>#=&gt; [0, 0]
</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='op'>::</span><span class='const'><a href="" title="Process::GID (module)">GID</a></span><span class='period'>.</span><span class='id identifier rubyid_change_privilege'>change_privilege</span><span class='lparen'>(</span><span class='int'>33</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; 33
</span><span class='lbracket'>[</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_gid'><a href="../Process.html#gid-class_method" title="Process.gid (method)">gid</a></span><span class='comma'>,</span> <span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_egid'><a href="../Process.html#egid-class_method" title="Process.egid (method)">egid</a></span><span class='rbracket'>]</span>          <span class='comment'>#=&gt; [33, 33]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L6078'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6078
6079
6080
6081
6082
6083
6084
6085
6086
6087
6088
6089
6090
6091
6092
6093
6094
6095
6096
6097
6098
6099
6100
6101
6102
6103
6104
6105
6106
6107
6108
6109
6110
6111
6112
6113
6114
6115
6116
6117
6118
6119
6120
6121
6122
6123
6124
6125
6126
6127
6128
6129
6130
6131
6132
6133
6134
6135
6136
6137
6138
6139
6140
6141
6142
6143
6144
6145
6146
6147
6148
6149
6150
6151
6152
6153
6154
6155
6156
6157
6158
6159
6160
6161
6162
6163
6164
6165
6166
6167
6168
6169
6170
6171
6172
6173
6174
6175
6176
6177
6178
6179
6180
6181
6182
6183
6184
6185
6186
6187
6188
6189
6190
6191
6192
6193
6194
6195
6196
6197
6198
6199
6200
6201
6202
6203
6204
6205
6206
6207
6208
6209
6210
6211
6212
6213
6214
6215
6216
6217
6218
6219
6220
6221
6222
6223
6224
6225
6226
6227
6228
6229
6230
6231</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6078</span></pre>
<pre class='code cpp'>

static VALUE
p_gid_change_privilege(VALUE obj, VALUE id)
{
    rb_gid_t gid;

    check_gid_switch();

    gid = OBJ2GID(id);

    if (geteuid() == 0) { /* root-user */
#if defined(HAVE_SETRESGID)
	if (setresgid(gid, gid, gid) &lt; 0) rb_sys_fail(0);
	SAVED_GROUP_ID = gid;
#elif defined HAVE_SETGID
	if (setgid(gid) &lt; 0) rb_sys_fail(0);
	SAVED_GROUP_ID = gid;
#elif defined(HAVE_SETREGID) &amp;&amp; !defined(OBSOLETE_SETREGID)
	if (getgid() == gid) {
	    if (SAVED_GROUP_ID == gid) {
		if (setregid(-1, gid) &lt; 0) rb_sys_fail(0);
	    }
	    else {
		if (gid == 0) { /* (r,e,s) == (root, y, x) */
		    if (setregid(-1, SAVED_GROUP_ID) &lt; 0) rb_sys_fail(0);
		    if (setregid(SAVED_GROUP_ID, 0) &lt; 0) rb_sys_fail(0);
		    SAVED_GROUP_ID = 0; /* (r,e,s) == (x, root, root) */
		    if (setregid(gid, gid) &lt; 0) rb_sys_fail(0);
		    SAVED_GROUP_ID = gid;
		}
		else { /* (r,e,s) == (z, y, x) */
		    if (setregid(0, 0) &lt; 0) rb_sys_fail(0);
		    SAVED_GROUP_ID = 0;
		    if (setregid(gid, gid) &lt; 0) rb_sys_fail(0);
		    SAVED_GROUP_ID = gid;
		}
	    }
	}
	else {
	    if (setregid(gid, gid) &lt; 0) rb_sys_fail(0);
	    SAVED_GROUP_ID = gid;
	}
#elif defined(HAVE_SETRGID) &amp;&amp; defined (HAVE_SETEGID)
	if (getgid() == gid) {
	    if (SAVED_GROUP_ID == gid) {
		if (setegid(gid) &lt; 0) rb_sys_fail(0);
	    }
	    else {
		if (gid == 0) {
		    if (setegid(gid) &lt; 0) rb_sys_fail(0);
		    if (setrgid(SAVED_GROUP_ID) &lt; 0) rb_sys_fail(0);
		    SAVED_GROUP_ID = 0;
		    if (setrgid(0) &lt; 0) rb_sys_fail(0);
		}
		else {
		    if (setrgid(0) &lt; 0) rb_sys_fail(0);
		    SAVED_GROUP_ID = 0;
		    if (setegid(gid) &lt; 0) rb_sys_fail(0);
		    if (setrgid(gid) &lt; 0) rb_sys_fail(0);
		    SAVED_GROUP_ID = gid;
		}
	    }
	}
	else {
	    if (setegid(gid) &lt; 0) rb_sys_fail(0);
	    if (setrgid(gid) &lt; 0) rb_sys_fail(0);
	    SAVED_GROUP_ID = gid;
	}
#else
	rb_notimplement();
#endif
    }
    else { /* unprivileged user */
#if defined(HAVE_SETRESGID)
	if (setresgid((getgid() == gid)? (rb_gid_t)-1: gid,
		      (getegid() == gid)? (rb_gid_t)-1: gid,
		      (SAVED_GROUP_ID == gid)? (rb_gid_t)-1: gid) &lt; 0) rb_sys_fail(0);
	SAVED_GROUP_ID = gid;
#elif defined(HAVE_SETREGID) &amp;&amp; !defined(OBSOLETE_SETREGID)
	if (SAVED_GROUP_ID == gid) {
	    if (setregid((getgid() == gid)? (rb_uid_t)-1: gid,
			 (getegid() == gid)? (rb_uid_t)-1: gid) &lt; 0)
		rb_sys_fail(0);
	}
	else if (getgid() != gid) {
	    if (setregid(gid, (getegid() == gid)? (rb_uid_t)-1: gid) &lt; 0)
		rb_sys_fail(0);
	    SAVED_GROUP_ID = gid;
	}
	else if (/* getgid() == gid &amp;&amp; */ getegid() != gid) {
	    if (setregid(getegid(), gid) &lt; 0) rb_sys_fail(0);
	    SAVED_GROUP_ID = gid;
	    if (setregid(gid, -1) &lt; 0) rb_sys_fail(0);
	}
	else { /* getgid() == gid &amp;&amp; getegid() == gid */
	    if (setregid(-1, SAVED_GROUP_ID) &lt; 0) rb_sys_fail(0);
	    if (setregid(SAVED_GROUP_ID, gid) &lt; 0) rb_sys_fail(0);
	    SAVED_GROUP_ID = gid;
	    if (setregid(gid, -1) &lt; 0) rb_sys_fail(0);
	}
#elif defined(HAVE_SETRGID) &amp;&amp; defined(HAVE_SETEGID)
	if (SAVED_GROUP_ID == gid) {
	    if (getegid() != gid &amp;&amp; setegid(gid) &lt; 0) rb_sys_fail(0);
	    if (getgid() != gid &amp;&amp; setrgid(gid) &lt; 0) rb_sys_fail(0);
	}
	else if (/* SAVED_GROUP_ID != gid &amp;&amp; */ getegid() == gid) {
	    if (getgid() != gid) {
		if (setrgid(gid) &lt; 0) rb_sys_fail(0);
		SAVED_GROUP_ID = gid;
	    }
	    else {
		if (setrgid(SAVED_GROUP_ID) &lt; 0) rb_sys_fail(0);
		SAVED_GROUP_ID = gid;
		if (setrgid(gid) &lt; 0) rb_sys_fail(0);
	    }
	}
	else if (/* getegid() != gid &amp;&amp; */ getgid() == gid) {
	    if (setegid(gid) &lt; 0) rb_sys_fail(0);
	    if (setrgid(SAVED_GROUP_ID) &lt; 0) rb_sys_fail(0);
	    SAVED_GROUP_ID = gid;
	    if (setrgid(gid) &lt; 0) rb_sys_fail(0);
	}
	else {
	    rb_syserr_fail(EPERM, 0);
	}
#elif defined HAVE_44BSD_SETGID
	if (getgid() == gid) {
	    /* (r,e,s)==(gid,?,?) ==&gt; (gid,gid,gid) */
	    if (setgid(gid) &lt; 0) rb_sys_fail(0);
	    SAVED_GROUP_ID = gid;
	}
	else {
	    rb_syserr_fail(EPERM, 0);
	}
#elif defined HAVE_SETEGID
	if (getgid() == gid &amp;&amp; SAVED_GROUP_ID == gid) {
	    if (setegid(gid) &lt; 0) rb_sys_fail(0);
	}
	else {
	    rb_syserr_fail(EPERM, 0);
	}
#elif defined HAVE_SETGID
	if (getgid() == gid &amp;&amp; SAVED_GROUP_ID == gid) {
	    if (setgid(gid) &lt; 0) rb_sys_fail(0);
	}
	else {
	    rb_syserr_fail(EPERM, 0);
	}
#else
	(void)gid;
	rb_notimplement();
#endif
    }
    return id;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="eid-class_method">
  <h3 class='signature'>
  <span class='overload'><strong>Process.egid</strong>  &#x21d2; <tt>Fixnum</tt>  <span class="extras">(mod_func)</span></span>
    <span class='overload'>.<strong>eid</strong>  &#x21d2; <tt>Fixnum</tt> </span>
    <span class='overload'><strong>Process.Sys</strong>  &#x21d2; <tt>Fixnum</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the effective group ID for this process. Not available on all
platforms.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_egid'><a href="../Process.html#egid-class_method" title="Process.egid (method)">egid</a></span>   <span class='comment'>#=&gt; 500
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L6369'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6369
6370
6371
6372
6373
6374
6375</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6369</span></pre>
<pre class='code cpp'>

static VALUE
proc_getegid(VALUE obj)
{
    rb_gid_t egid = getegid();

    return GIDT2NUM(egid);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="from_name-class_method">
  <h3 class='signature'>
  .<strong>from_name</strong>(name)  &#x21d2; <tt><a href="" title="Process::GID (module)">GID</a></tt>  <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the group ID by the <em>name</em>. If the group is not found,
<a href="../ArgumentError.html" title="ArgumentError (class)">ArgumentError</a> will be raised.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='op'>::</span><span class='const'><a href="" title="Process::GID (module)">GID</a></span><span class='period'>.</span><span class='id identifier rubyid_from_name'>from_name</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wheel</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; 0
</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='op'>::</span><span class='const'><a href="" title="Process::GID (module)">GID</a></span><span class='period'>.</span><span class='id identifier rubyid_from_name'>from_name</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nosuchgroup</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; can&#39;t find group for nosuchgroup (ArgumentError)
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L5142'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5142
5143
5144
5145
5146</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5142</span></pre>
<pre class='code cpp'>

static VALUE
p_gid_from_name(VALUE self, VALUE id)
{
    return GIDT2NUM(OBJ2GID(id));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="grant_privilege-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>grant_privilege</strong>(group)  &#x21d2; <tt>Fixnum</tt>  <span class="extras">(mod_func)</span></span>
    <span class='overload'>.<strong>eid=</strong>(group)  &#x21d2; <tt>Fixnum</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the effective group ID, and if possible, the saved group ID of the
process to the given <em>group</em>. Returns the new effective group ID.
Not available on all platforms.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_gid'><a href="../Process.html#gid-class_method" title="Process.gid (method)">gid</a></span><span class='comma'>,</span> <span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_egid'><a href="../Process.html#egid-class_method" title="Process.egid (method)">egid</a></span><span class='rbracket'>]</span>          <span class='comment'>#=&gt; [0, 0]
</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='op'>::</span><span class='const'><a href="" title="Process::GID (module)">GID</a></span><span class='period'>.</span><span class='id identifier rubyid_grant_privilege'>grant_privilege</span><span class='lparen'>(</span><span class='int'>31</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; 33
</span><span class='lbracket'>[</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_gid'><a href="../Process.html#gid-class_method" title="Process.gid (method)">gid</a></span><span class='comma'>,</span> <span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_egid'><a href="../Process.html#egid-class_method" title="Process.egid (method)">egid</a></span><span class='rbracket'>]</span>          <span class='comment'>#=&gt; [0, 33]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L6479'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6479
6480
6481
6482
6483
6484</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6479</span></pre>
<pre class='code cpp'>

static VALUE
p_gid_grant_privilege(VALUE obj, VALUE id)
{
    rb_setegid_core(OBJ2GID(id));
    return id;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="re_exchange-class_method">
  <h3 class='signature'>
  .<strong>re_exchange</strong>  &#x21d2; <tt>Fixnum</tt>  <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Exchange real and effective group IDs and return the new effective group
ID. Not available on all platforms.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_gid'><a href="../Process.html#gid-class_method" title="Process.gid (method)">gid</a></span><span class='comma'>,</span> <span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_egid'><a href="../Process.html#egid-class_method" title="Process.egid (method)">egid</a></span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; [0, 33]
</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='op'>::</span><span class='const'><a href="" title="Process::GID (module)">GID</a></span><span class='period'>.</span><span class='id identifier rubyid_re_exchange'>re_exchange</span>      <span class='comment'>#=&gt; 0
</span><span class='lbracket'>[</span><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_gid'><a href="../Process.html#gid-class_method" title="Process.gid (method)">gid</a></span><span class='comma'>,</span> <span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_egid'><a href="../Process.html#egid-class_method" title="Process.egid (method)">egid</a></span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; [33, 0]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L6583'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6583
6584
6585
6586
6587
6588
6589
6590
6591
6592
6593
6594
6595
6596
6597
6598
6599
6600
6601
6602
6603
6604
6605
6606
6607
6608</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6583</span></pre>
<pre class='code cpp'>

static VALUE
p_gid_exchange(VALUE obj)
{
    rb_gid_t gid;
#if defined(HAVE_SETRESGID) || (defined(HAVE_SETREGID) &amp;&amp; !defined(OBSOLETE_SETREGID))
    rb_gid_t egid;
#endif

    check_gid_switch();

    gid = getgid();
#if defined(HAVE_SETRESGID) || (defined(HAVE_SETREGID) &amp;&amp; !defined(OBSOLETE_SETREGID))
    egid = getegid();
#endif

#if defined(HAVE_SETRESGID)
    if (setresgid(egid, gid, gid) &lt; 0) rb_sys_fail(0);
    SAVED_GROUP_ID = gid;
#elif defined(HAVE_SETREGID) &amp;&amp; !defined(OBSOLETE_SETREGID)
    if (setregid(egid,gid) &lt; 0) rb_sys_fail(0);
    SAVED_GROUP_ID = gid;
#else
    rb_notimplement();
#endif
    return GIDT2NUM(gid);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="re_exchangeable?-class_method">
  <h3 class='signature'>
  .<strong>re_exchangeable?</strong>  &#x21d2; <tt>Boolean</tt>  <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the real and effective group IDs of a process
may be exchanged on the current platform.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L6558'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6558
6559
6560
6561
6562
6563
6564
6565
6566
6567
6568</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6558</span></pre>
<pre class='code cpp'>

static VALUE
p_gid_exchangeable(void)
{
#if defined(HAVE_SETRESGID)
    return Qtrue;
#elif defined(HAVE_SETREGID) &amp;&amp; !defined(OBSOLETE_SETREGID)
    return Qtrue;
#else
    return Qfalse;
#endif
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rid-class_method">
  <h3 class='signature'>
  <span class='overload'><strong>Process.gid</strong>  &#x21d2; <tt>Fixnum</tt>  <span class="extras">(mod_func)</span></span>
    <span class='overload'>.<strong>rid</strong>  &#x21d2; <tt>Fixnum</tt> </span>
    <span class='overload'><strong>Process.Sys</strong>  &#x21d2; <tt>Fixnum</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the (real) group ID for this process.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Process.html" title="Process (module)">Process</a></span><span class='period'>.</span><span class='id identifier rubyid_gid'><a href="../Process.html#gid-class_method" title="Process.gid (method)">gid</a></span>   <span class='comment'>#=&gt; 500
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L5693'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5693
5694
5695
5696
5697
5698</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 5693</span></pre>
<pre class='code cpp'>

static VALUE
proc_getgid(VALUE obj)
{
    rb_gid_t gid = getgid();
    return GIDT2NUM(gid);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sid_available?-class_method">
  <h3 class='signature'>
  .<strong>sid_available?</strong>  &#x21d2; <tt>Boolean</tt>  <span class="extras">(mod_func)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the current platform has saved group ID
functionality.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L6735'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6735
6736
6737
6738
6739
6740
6741
6742
6743</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6735</span></pre>
<pre class='code cpp'>

static VALUE
p_gid_have_saved_id(void)
{
#if defined(HAVE_SETRESGID) || defined(HAVE_SETEGID) || defined(_POSIX_SAVED_IDS)
    return Qtrue;
#else
    return Qfalse;
#endif
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="switch-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>switch</strong>  &#x21d2; <tt>Fixnum</tt>  <span class="extras">(mod_func)</span></span>
    <span class='overload'>.<strong>switch</strong>  &#x21d2; <tt><a href="../Object.html" title="Object (class)">Object</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Switch the effective and real group IDs of the current process. If a
<em>block</em> is given, the group IDs will be switched back after the
block is executed. Returns the new effective group ID if called without a
block, and the return value of the block if one is given.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/process.c#L6768'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


6768
6769
6770
6771
6772
6773
6774
6775
6776
6777
6778
6779
6780
6781
6782
6783
6784
6785
6786
6787
6788
6789
6790
6791
6792
6793
6794
6795
6796
6797
6798
6799
6800
6801
6802
6803</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'process.c', line 6768</span></pre>
<pre class='code cpp'>

static VALUE
p_gid_switch(VALUE obj)
{
    rb_gid_t gid, egid;

    check_gid_switch();

    gid = getgid();
    egid = getegid();

    if (gid != egid) {
	proc_setegid(obj, GIDT2NUM(gid));
	if (rb_block_given_p()) {
	    under_gid_switch = 1;
	    return rb_ensure(rb_yield, Qnil, p_gid_sw_ensure, SAVED_GROUP_ID);
	}
	else {
	    return GIDT2NUM(egid);
	}
    }
    else if (egid != SAVED_GROUP_ID) {
	proc_setegid(obj, GIDT2NUM(SAVED_GROUP_ID));
	if (rb_block_given_p()) {
	    under_gid_switch = 1;
	    return rb_ensure(rb_yield, Qnil, p_gid_sw_ensure, egid);
	}
	else {
	    return GIDT2NUM(gid);
	}
    }
    else {
	rb_syserr_fail(EPERM, 0);
    }

    UNREACHABLE;
}
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>