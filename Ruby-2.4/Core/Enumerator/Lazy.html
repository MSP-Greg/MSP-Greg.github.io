<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Enumerator::Lazy &mdash; Core Ruby-2.4.0 d2016-07-21</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Enumerator::Lazy",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='../index.html'>Core</a> &raquo; 
          <a href='../_index.html'>Index (L)</a> &raquo; 
          <a href="../Enumerator.html" title="Enumerator (class)">Enumerator</a> &raquo; 
          <span class='title'>Lazy</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Enumerator::Lazy</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="../Enumerator.html" title="Enumerator (class)">Enumerator</a></span>
      <ul class='fullTree'>
        <li><a href="../Object.html" title="Object (class)">Object</a></li>
        <li class='next'><a href="../Enumerator.html" title="Enumerator (class)">Enumerator</a></li>
        <li class='next'>Enumerator::Lazy</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>





  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
enumerator.c</div>  </td>
  </tr>
</table>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(obj, size = nil) {|yielder, *values| ... } </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new Lazy enumerator.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#chunk-instance_method" title="#chunk (instance method)">#<strong>chunk</strong>(*args)  </a>
        (also: #slice_after, #slice_before, #slice_when)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collect-instance_method" title="#collect (instance method)">#<strong>collect</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#map-instance_method" title="Enumerator::Lazy#map (method)">#map</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collect_concat-instance_method" title="#collect_concat (instance method)">#<strong>collect_concat</strong> {|obj| ... } &#x21d2; a_lazy_enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#flat_map-instance_method" title="Enumerator::Lazy#flat_map (method)">#flat_map</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#drop-instance_method" title="#drop (instance method)">#<strong>drop</strong>(n)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#drop_while-instance_method" title="#drop_while (instance method)">#<strong>drop_while</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#enum_for-instance_method" title="#enum_for (instance method)">#<strong>enum_for</strong>(method = :each, *args)  &#x21d2; lazy_enum </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#to_enum-instance_method" title="Enumerator::Lazy#to_enum (method)">#to_enum</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_all-instance_method" title="#find_all (instance method)">#<strong>find_all</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#select-instance_method" title="Enumerator::Lazy#select (method)">#select</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#flat_map-instance_method" title="#flat_map (instance method)">#<strong>flat_map</strong> {|obj| ... } &#x21d2; a_lazy_enumerator </a>
        (also: #collect_concat)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new lazy enumerator with the concatenated results of running
<em>block</em> once for every element in <em>lazy</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#force-instance_method" title="#force (instance method)">#<strong>force</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#grep-instance_method" title="#grep (instance method)">#<strong>grep</strong>(p)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#grep_v-instance_method" title="#grep_v (instance method)">#<strong>grep_v</strong>(p)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#lazy-instance_method" title="#lazy (instance method)">#<strong>lazy</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#map-instance_method" title="#map (instance method)">#<strong>map</strong>  </a>
        (also: #collect)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong>  </a>
        (also: #find_all)
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice_after-instance_method" title="#slice_after (instance method)">#<strong>slice_after</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#chunk-instance_method" title="Enumerator::Lazy#chunk (method)">#chunk</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice_before-instance_method" title="#slice_before (instance method)">#<strong>slice_before</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#chunk-instance_method" title="Enumerator::Lazy#chunk (method)">#chunk</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice_when-instance_method" title="#slice_when (instance method)">#<strong>slice_when</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#chunk-instance_method" title="Enumerator::Lazy#chunk (method)">#chunk</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#take-instance_method" title="#take (instance method)">#<strong>take</strong>(n)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#take_while-instance_method" title="#take_while (instance method)">#<strong>take_while</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_enum-instance_method" title="#to_enum (instance method)">#<strong>to_enum</strong>(method = :each, *args)  &#x21d2; lazy_enum </a>
        (also: #enum_for)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Similar to <a href="../Object.html#to_enum-instance_method" title="Object#to_enum (method)">Object#to_enum</a>, except it returns a lazy enumerator.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#uniq-instance_method" title="#uniq (instance method)">#<strong>uniq</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#zip-instance_method" title="#zip (instance method)">#<strong>zip</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="../Enumerator.html" title="Enumerator (class)">Enumerator</a></h3>
  <p class="inherited"><a href="../Enumerator.html#each-instance_method" title="Enumerator#each (method)">#each</a>, <a href="../Enumerator.html#each_with_index-instance_method" title="Enumerator#each_with_index (method)">#each_with_index</a>, <a href="../Enumerator.html#feed-instance_method" title="Enumerator#feed (method)">#feed</a>, <a href="../Enumerator.html#initialize_copy-instance_method" title="Enumerator#initialize_copy (method)">#initialize_copy</a>, <a href="../Enumerator.html#inspect-instance_method" title="Enumerator#inspect (method)">#inspect</a>, <a href="../Enumerator.html#next-instance_method" title="Enumerator#next (method)">#next</a>, <a href="../Enumerator.html#next_values-instance_method" title="Enumerator#next_values (method)">#next_values</a>, <a href="../Enumerator.html#peek-instance_method" title="Enumerator#peek (method)">#peek</a>, <a href="../Enumerator.html#peek_values-instance_method" title="Enumerator#peek_values (method)">#peek_values</a>, <a href="../Enumerator.html#rewind-instance_method" title="Enumerator#rewind (method)">#rewind</a>, <a href="../Enumerator.html#size-instance_method" title="Enumerator#size (method)">#size</a>, <a href="../Enumerator.html#with_index-instance_method" title="Enumerator#with_index (method)">#with_index</a>, <a href="../Enumerator.html#with_object-instance_method" title="Enumerator#with_object (method)">#with_object</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../Enumerable.html" title="Enumerable (module)">Enumerable</a></h3>
  <p class="inherited"><a href="../Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>, <a href="../Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a>, <a href="../Enumerable.html#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a>, <a href="../Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a>, <a href="../Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a>, <a href="../Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a>, <a href="../Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a>, <a href="../Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a>, <a href="../Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a>, <a href="../Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a>, <a href="../Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a>, <a href="../Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a>, <a href="../Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a>, <a href="../Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a>, <a href="../Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a>, <a href="../Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a>, <a href="../Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>, <a href="../Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>, <a href="../Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a>, <a href="../Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>, <a href="../Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="../Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a>, <a href="../Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a>, <a href="../Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>, <a href="../Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a>, <a href="../Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a>, <a href="../Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a>, <a href="../Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a>, <a href="../Enumerable.html#sum-instance_method" title="Enumerable#sum (method)">#sum</a>, <a href="../Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>, <a href="../Enumerable.html#to_h-instance_method" title="Enumerable#to_h (method)">#to_h</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(obj, size = nil) {|yielder, *values| ... } 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new Lazy enumerator. When the enumerator is actually enumerated
(e.g. by calling <a href="#force-instance_method" title="Enumerator::Lazy#force (method)">#force</a>), <code>obj</code> will be enumerated and each
value passed to the given block. The block can yield values back using
<code>yielder</code>. For example, to create a method
<code>filter_map</code> in both lazy and non-lazy fashions:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>Enumerable</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_filter_map'>filter_map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Enumerator</span><span class='op'>::</span><span class='const'>Lazy</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_filter_map'>filter_map</span>
    <span class='const'>Lazy</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_yielder'>yielder</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_values'>values</span><span class='op'>|</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>yield</span> <span class='op'>*</span><span class='id identifier rubyid_values'>values</span>
      <span class='id identifier rubyid_yielder'>yielder</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_result'>result</span> <span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='const'>Float</span><span class='op'>::</span><span class='const'>INFINITY</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_filter_map'>filter_map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span>
    <span class='comment'># =&gt; [4, 16, 36, 64, 100]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1382</span>

static VALUE
lazy_initialize(int argc, VALUE *argv, VALUE self)
{
    VALUE obj, size = Qnil;
    VALUE generator;

    rb_check_arity(argc, 1, 2);
    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;tried to call lazy new without a block&quot;);
    }
    obj = argv[0];
    if (argc &gt; 1) {
	size = argv[1];
    }
    generator = generator_allocate(rb_cGenerator);
    rb_block_call(generator, id_initialize, 0, 0, lazy_init_block_i, obj);
    enumerator_init(self, generator, sym_each, 0, 0, 0, size);
    rb_ivar_set(self, id_receiver, obj);

    return self;
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="chunk-instance_method">
  <h3 class='signature first'>
  #<strong>chunk</strong>(*args)  
  <span class='aliases'>Also known as: <span class='names'><span>slice_after</span>, <span>slice_before</span>, <span>slice_when</span></span>
  </span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1996
1997
1998
1999
2000</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1996</span>

static VALUE
lazy_super(int argc, VALUE *argv, VALUE lazy)
{
    return enumerable_lazy(rb_call_super(argc, argv));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="collect-instance_method">
  <h3 class='signature'>
  #<strong>collect</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#map-instance_method" title="Enumerator::Lazy#map (method)">#map</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="collect_concat-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>collect_concat</strong> {|obj| ... } &#x21d2; <tt>a_lazy_enumerator</tt> </span>
    <span class='overload'>#<strong>flat_map</strong> {|obj| ... } &#x21d2; <tt>a_lazy_enumerator</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#flat_map-instance_method" title="Enumerator::Lazy#flat_map (method)">#flat_map</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="drop-instance_method">
  <h3 class='signature'>
  #<strong>drop</strong>(n)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1924
1925
1926
1927
1928
1929
1930
1931
1932
1933
1934
1935</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1924</span>

static VALUE
lazy_drop(VALUE obj, VALUE n)
{
    long len = NUM2LONG(n);

    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;attempt to drop negative size&quot;);
    }
    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 lazy_drop_func, n),
			   rb_ary_new3(1, n), lazy_drop_size);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="drop_while-instance_method">
  <h3 class='signature'>
  #<strong>drop_while</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1950
1951
1952
1953
1954
1955
1956
1957
1958
1959</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1950</span>

static VALUE
lazy_drop_while(VALUE obj)
{
    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;tried to call lazy drop_while without a block&quot;);
    }
    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 lazy_drop_while_func, 0),
			   Qnil, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="enum_for-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_enum</strong>(method = :each, *args)  &#x21d2; <tt>lazy_enum</tt> </span>
    <span class='overload'>#<strong>enum_for</strong>(method = :each, *args)  &#x21d2; <tt>lazy_enum</tt> </span>
    <span class='overload'>#<strong>to_enum</strong>(method = :each, *args) {|*args| ... } &#x21d2; <tt>lazy_enum</tt> </span>
    <span class='overload'>#<strong>enum_for</strong>(method = :each, *args) {|*args| ... } &#x21d2; <tt>lazy_enum</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#to_enum-instance_method" title="Enumerator::Lazy#to_enum (method)">#to_enum</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="find_all-instance_method">
  <h3 class='signature'>
  #<strong>find_all</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#select-instance_method" title="Enumerator::Lazy#select (method)">#select</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="flat_map-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>collect_concat</strong> {|obj| ... } &#x21d2; <tt>a_lazy_enumerator</tt> </span>
    <span class='overload'>#<strong>flat_map</strong> {|obj| ... } &#x21d2; <tt>a_lazy_enumerator</tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>collect_concat</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new lazy enumerator with the concatenated results of running
<em>block</em> once for every element in <em>lazy</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_each_char'>each_char</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_force'>force</span>
<span class='comment'>#=&gt; [&quot;f&quot;, &quot;o&quot;, &quot;o&quot;, &quot;b&quot;, &quot;a&quot;, &quot;r&quot;]
</span></code></pre>

<p>A value <em>x</em> returned by <em>block</em> is decomposed if either of
the following conditions is true:</p>

<pre class="code ruby"><code class="ruby">a) &lt;i&gt;x&lt;/i&gt; responds to both each and force, which means that
   &lt;i&gt;x&lt;/i&gt; is a lazy enumerator.
b) &lt;i&gt;x&lt;/i&gt; is an array or responds to to_ary.</code></pre>

<p>Otherwise, <em>x</em> is contained as-is in the return value.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='lbrace'>{</span><span class='label'>a:</span><span class='int'>1</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>b:</span><span class='int'>2</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_force'>force</span>
<span class='comment'>#=&gt; [{:a=&gt;1}, {:b=&gt;2}]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1601
1602
1603
1604
1605
1606
1607
1608
1609
1610
1611</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1601</span>

static VALUE
lazy_flat_map(VALUE obj)
{
    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;tried to call lazy flat_map without a block&quot;);
    }

    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 lazy_flat_map_func, 0),
			   Qnil, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="force-instance_method">
  <h3 class='signature'>
  #<strong>force</strong>  
</h3>

</section>
  <section class='method_details' id="grep-instance_method">
  <h3 class='signature'>
  #<strong>grep</strong>(p)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1683
1684
1685
1686
1687
1688
1689
1690
1691</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1683</span>

static VALUE
lazy_grep(VALUE obj, VALUE pattern)
{
    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 rb_block_given_p() ?
					 lazy_grep_iter : lazy_grep_func,
					 pattern),
			   rb_ary_new3(1, pattern), 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="grep_v-instance_method">
  <h3 class='signature'>
  #<strong>grep_v</strong>(p)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1717
1718
1719
1720
1721
1722
1723
1724
1725</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1717</span>

static VALUE
lazy_grep_v(VALUE obj, VALUE pattern)
{
    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 rb_block_given_p() ?
					 lazy_grep_v_iter : lazy_grep_v_func,
					 pattern),
			   rb_ary_new3(1, pattern), 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="lazy-instance_method">
  <h3 class='signature'>
  #<strong>lazy</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


2002
2003
2004
2005
2006</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 2002</span>

static VALUE
lazy_lazy(VALUE obj)
{
    return obj;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="map-instance_method">
  <h3 class='signature'>
  #<strong>map</strong>  
  <span class='aliases'>Also known as: <span class='names'><span>collect</span></span>
  </span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1516</span>

static VALUE
lazy_map(VALUE obj)
{
    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;tried to call lazy map without a block&quot;);
    }

    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 lazy_map_func, 0),
			   Qnil, lazy_receiver_size);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reject-instance_method">
  <h3 class='signature'>
  #<strong>reject</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1647
1648
1649
1650
1651
1652
1653
1654
1655
1656
1657</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1647</span>

static VALUE
lazy_reject(VALUE obj)
{
    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;tried to call lazy reject without a block&quot;);
    }

    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 lazy_reject_func, 0),
			   Qnil, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="select-instance_method">
  <h3 class='signature'>
  #<strong>select</strong>  
  <span class='aliases'>Also known as: <span class='names'><span>find_all</span></span>
  </span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1624</span>

static VALUE
lazy_select(VALUE obj)
{
    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;tried to call lazy select without a block&quot;);
    }

    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 lazy_select_func, 0),
			   Qnil, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="slice_after-instance_method">
  <h3 class='signature'>
  #<strong>slice_after</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#chunk-instance_method" title="Enumerator::Lazy#chunk (method)">#chunk</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="slice_before-instance_method">
  <h3 class='signature'>
  #<strong>slice_before</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#chunk-instance_method" title="Enumerator::Lazy#chunk (method)">#chunk</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="slice_when-instance_method">
  <h3 class='signature'>
  #<strong>slice_when</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#chunk-instance_method" title="Enumerator::Lazy#chunk (method)">#chunk</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="take-instance_method">
  <h3 class='signature'>
  #<strong>take</strong>(n)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1853
1854
1855
1856
1857
1858
1859
1860
1861
1862
1863
1864
1865
1866
1867
1868
1869
1870
1871</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1853</span>

static VALUE
lazy_take(VALUE obj, VALUE n)
{
    long len = NUM2LONG(n);
    VALUE lazy;

    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;attempt to take negative size&quot;);
    }
    if (len == 0) {
	VALUE len = INT2FIX(0);
	lazy = lazy_to_enum_i(obj, sym_cycle, 1, &amp;len, 0);
    }
    else {
	lazy = rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 lazy_take_func, n);
    }
    return lazy_set_method(lazy, rb_ary_new3(1, n), lazy_take_size);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="take_while-instance_method">
  <h3 class='signature'>
  #<strong>take_while</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1882
1883
1884
1885
1886
1887
1888
1889
1890
1891</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1882</span>

static VALUE
lazy_take_while(VALUE obj)
{
    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;tried to call lazy take_while without a block&quot;);
    }
    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 lazy_take_while_func, 0),
			   Qnil, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_enum-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_enum</strong>(method = :each, *args)  &#x21d2; <tt>lazy_enum</tt> </span>
    <span class='overload'>#<strong>enum_for</strong>(method = :each, *args)  &#x21d2; <tt>lazy_enum</tt> </span>
    <span class='overload'>#<strong>to_enum</strong>(method = :each, *args) {|*args| ... } &#x21d2; <tt>lazy_enum</tt> </span>
    <span class='overload'>#<strong>enum_for</strong>(method = :each, *args) {|*args| ... } &#x21d2; <tt>lazy_enum</tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>enum_for</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Similar to <a href="../Object.html#to_enum-instance_method" title="Object#to_enum (method)">Object#to_enum</a>, except it returns a lazy enumerator. This
makes it easy to define Enumerable methods that will naturally remain lazy
if called from a lazy enumerator.</p>

<p>For example, continuing from the example in <a href="../Object.html#to_enum-instance_method" title="Object#to_enum (method)">Object#to_enum</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># See Kernel#to_enum for the definition of repeat
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='int'>1</span><span class='op'>..</span><span class='const'>Float</span><span class='op'>::</span><span class='const'>INFINITY</span>
<span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span> <span class='comment'># =&gt; [1, 1, 2, 2, 3]
</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Enumerator
</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>**</span> <span class='int'>2</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span> <span class='comment'># =&gt; endless loop!
</span><span class='comment'># works naturally on lazy enumerator:
</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Enumerator::Lazy
</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_repeat'>repeat</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>**</span> <span class='int'>2</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span> <span class='comment'># =&gt; [1, 1, 4, 4, 9]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1491</span>

static VALUE
lazy_to_enum(int argc, VALUE *argv, VALUE self)
{
    VALUE lazy, meth = sym_each;

    if (argc &gt; 0) {
	--argc;
	meth = *argv++;
    }
    lazy = lazy_to_enum_i(self, meth, argc, argv, 0);
    if (rb_block_given_p()) {
	enumerator_ptr(lazy)-&gt;size = rb_block_proc();
    }
    return lazy;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="uniq-instance_method">
  <h3 class='signature'>
  #<strong>uniq</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1985
1986
1987
1988
1989
1990
1991
1992
1993
1994</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1985</span>

static VALUE
lazy_uniq(VALUE obj)
{
    rb_block_call_func *const func =
	rb_block_given_p() ? lazy_uniq_iter : lazy_uniq_func;
    VALUE hash = rb_obj_hide(rb_hash_new());
    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 func, hash),
			   0, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="zip-instance_method">
  <h3 class='signature'>
  #<strong>zip</strong>(*args)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1791
1792
1793
1794
1795
1796
1797
1798
1799
1800
1801
1802
1803
1804
1805
1806
1807
1808
1809
1810
1811
1812
1813
1814
1815
1816
1817
1818
1819
1820
1821
1822</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'enumerator.c', line 1791</span>

static VALUE
lazy_zip(int argc, VALUE *argv, VALUE obj)
{
    VALUE ary, v;
    long i;
    rb_block_call_func *func = lazy_zip_arrays_func;

    if (rb_block_given_p()) {
	return rb_call_super(argc, argv);
    }

    ary = rb_ary_new2(argc);
    for (i = 0; i &lt; argc; i++) {
	v = rb_check_array_type(argv[i]);
	if (NIL_P(v)) {
	    for (; i &lt; argc; i++) {
		if (!rb_respond_to(argv[i], id_each)) {
		    rb_raise(rb_eTypeError, &quot;wrong argument type %&quot;PRIsVALUE&quot; (must respond to :each)&quot;,
			     rb_obj_class(argv[i]));
		}
	    }
	    ary = rb_ary_new4(argc, argv);
	    func = lazy_zip_func;
	    break;
	}
	rb_ary_push(ary, v);
    }

    return lazy_set_method(rb_block_call(rb_cLazy, id_new, 1, &amp;obj,
					 func, ary),
			   ary, lazy_receiver_size);
}
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.4 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>