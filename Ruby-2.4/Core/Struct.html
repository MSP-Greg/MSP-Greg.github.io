<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Struct &mdash; Core Ruby-2.4.0 d2016-07-16</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Struct",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>Core</a> &raquo; 
          <a href='_index.html'>Index (S)</a> &raquo; 
          <span class='title'>Struct</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Struct</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="Object.html" title="Object (class)">Object</a></li>
        <li class='next'>Struct</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Includes:</td>
    <td><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a>
    </td>
  </tr>



  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
struct.c<span class='defines'>,<br />process.c</span>
</div>  </td>
  </tr>
</table>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='Tms-constant'>
      Tms
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>for the backward compatibility</p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
  </dl>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>([class_name][, member_name])  &#x21d2; StructClass </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The first two forms are used to create a new Struct subclass
<code>class_name</code> that can contain a value for each
<code>member_name</code>.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%3D%3D-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Equality—Returns <code>true</code> if <code>other</code> has the same
struct subclass and has equal member values (according to
<a href="BasicObject.html#%3D%3D-instance_method" title="BasicObject#== (method)">BasicObject#==</a>).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D-instance_method" title="#[] (instance method)">#<strong>[]</strong>(member)  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Attribute Reference—Returns the value of the given struct
<code>member</code> or the member at the given <code>index</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D%3D-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(member, obj)  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Attribute Assignment—Sets the value of the given struct <code>member</code>
or the member at the given <code>index</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(key, ...)  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Extracts the nested value specified by the sequence of <em>idx</em> objects
by calling <code>dig</code> at each step, returning <code>nil</code> if any
intermediate step is <code>nil</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong> {|obj| ... } &#x21d2; struct </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Yields the value of each struct member in order.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_pair-instance_method" title="#each_pair (instance method)">#<strong>each_pair</strong> {|sym, obj| ... } &#x21d2; struct </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Yields the name and value of each struct member in order.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(other)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Hash equality—<code>other</code> and <code>struct</code> refer to the same
hash key if they have the same struct subclass and have equal member values
(according to <a href="Object.html#eql%3F-instance_method" title="Object#eql? (method)">Object#eql?</a>).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a hash value based on this struct&#39;s contents (see
<a href="Object.html#hash-instance_method" title="Object#hash (method)">Object#hash</a>).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#to_s-instance_method" title="Struct#to_s (method)">#to_s</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Fixnum </a>
        (also: #size)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the number of struct members.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#members-instance_method" title="#members (instance method)">#<strong>members</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the struct members as an array of symbols:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong> {|i| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Yields each member value from the struct to the block and returns an Array
containing the member values from the <code>struct</code> for which the
given block returns a true value (equivalent to <a href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">Enumerable#select</a>).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#length-instance_method" title="Struct#length (method)">#length</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  &#x21d2; Array </a>
        (also: #values)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the values for this struct as an Array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>  &#x21d2; Hash </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a Hash containing the names and values for the struct&#39;s
members.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
        (also: #inspect)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Describe the contents of this struct in a string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#values-instance_method" title="#values (instance method)">#<strong>values</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#to_a-instance_method" title="Struct#to_a (method)">#to_a</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>(selector, ...)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the struct member values for each <code>selector</code> as an
Array.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></h3>
  <p class="inherited"><a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>, <a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a>, <a href="Enumerable.html#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a>, <a href="Enumerable.html#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a>, <a href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a>, <a href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a>, <a href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a>, <a href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a>, <a href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a>, <a href="Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a>, <a href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a>, <a href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a>, <a href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a>, <a href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a>, <a href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a>, <a href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a>, <a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a>, <a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a>, <a href="Enumerable.html#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a>, <a href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a>, <a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a>, <a href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a>, <a href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">#map</a>, <a href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a>, <a href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>, <a href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>, <a href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a>, <a href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>, <a href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a>, <a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a>, <a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>, <a href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a>, <a href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a>, <a href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a>, <a href="Enumerable.html#slice_after-instance_method" title="Enumerable#slice_after (method)">#slice_after</a>, <a href="Enumerable.html#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a>, <a href="Enumerable.html#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a>, <a href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a>, <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a>, <a href="Enumerable.html#sum-instance_method" title="Enumerable#sum (method)">#sum</a>, <a href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a>, <a href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a>, <a href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  <span class='overload'>.<strong>new</strong>([class_name][, member_name])  &#x21d2; <tt>StructClass</tt> </span>
    <span class='overload'>.<strong>new</strong>([class_name][, member_name]) {|StructClass| ... } &#x21d2; <tt>StructClass</tt> </span>
    <span class='overload'><strong>StructClass.new</strong>(value, ...)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>.<strong>[]</strong>(value, ...)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The first two forms are used to create a new Struct subclass
<code>class_name</code> that can contain a value for each
<code>member_name</code>.  This subclass can be used to create instances of
the structure like any other Class.</p>

<p>If the <code>class_name</code> is omitted an anonymous structure class will
be created.  Otherwise, the name of this struct will appear as a constant
in class Struct, so it must be unique for all Structs in the system and
must start with a capital letter.  Assigning a structure class to a
constant also gives the class the name of the constant.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Create a structure with a name under Struct
</span><span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Customer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; Struct::Customer
</span><span class='const'>Struct</span><span class='op'>::</span><span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dave</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Main</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;struct Struct::Customer name=&quot;Dave&quot;, address=&quot;123 Main&quot;&gt;
</span></code></pre>

<p>If a block is given it will be evaluated in the context of
<code>StructClass</code>, passing the created class as a parameter:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_greeting'>greeting</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dave</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Main</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_greeting'>greeting</span>  <span class='comment'># =&gt; &quot;Hello Dave!&quot;
</span></code></pre>

<p>This is the recommended way to customize a struct.  Subclassing an
anonymous struct creates an extra anonymous class that will never be used.</p>

<p>The last two forms create a new instance of a struct subclass.  The number
of <code>value</code> parameters must be less than or equal to the number
of attributes defined for the structure.  Unset parameters default to
<code>nil</code>. Passing more parameters than number of attributes will
raise an ArgumentError.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Create a structure named by its constant
</span><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; Customer
</span><span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dave</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Main</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;struct Customer name=&quot;Dave&quot;, address=&quot;123 Main&quot;&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 486</span>

static VALUE
rb_struct_s_def(int argc, VALUE *argv, VALUE klass)
{
    VALUE name, rest;
    long i;
    VALUE st;
    st_table *tbl;

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    name = argv[0];
    if (SYMBOL_P(name)) {
	name = Qnil;
    }
    else {
	--argc;
	++argv;
    }
    rest = rb_ident_hash_new();
    RBASIC_CLEAR_CLASS(rest);
    tbl = RHASH_TBL(rest);
    for (i=0; i&lt;argc; i++) {
	VALUE mem = rb_to_symbol(argv[i]);
	if (st_insert(tbl, mem, Qtrue)) {
	    rb_raise(rb_eArgError, &quot;duplicate member: %&quot;PRIsVALUE, mem);
	}
    }
    rest = rb_hash_keys(rest);
    st_clear(tbl);
    RBASIC_CLEAR_CLASS(rest);
    OBJ_FREEZE_RAW(rest);
    if (NIL_P(name)) {
	st = anonymous_struct(klass);
    }
    else {
	st = new_struct(name, klass);
    }
    setup_struct(st, rest);
    if (rb_block_given_p()) {
	rb_mod_module_eval(0, 0, st);
    }

    return st;
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="==-instance_method">
  <h3 class='signature first'>
  #<strong>==</strong>(other)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equality—Returns <code>true</code> if <code>other</code> has the same
struct subclass and has equal member values (according to
<a href="BasicObject.html#%3D%3D-instance_method" title="BasicObject#== (method)">BasicObject#==</a>).</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span>   <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joejr'>joejr</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_jane'>jane</span>  <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Jane Doe</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>456 Elm, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>==</span> <span class='id identifier rubyid_joejr'>joejr</span>   <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_joe'>joe</span> <span class='op'>==</span> <span class='id identifier rubyid_jane'>jane</span>    <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 1035</span>

static VALUE
rb_struct_equal(VALUE s, VALUE s2)
{
    if (s == s2) return Qtrue;
    if (!RB_TYPE_P(s2, T_STRUCT)) return Qfalse;
    if (rb_obj_class(s) != rb_obj_class(s2)) return Qfalse;
    if (RSTRUCT_LEN(s) != RSTRUCT_LEN(s2)) {
	rb_bug(&quot;inconsistent struct&quot;); /* should never happen */
    }

    return rb_exec_recursive_paired(recursive_equal, s, s2, s2);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="[]-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>[]</strong>(member)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Attribute Reference—Returns the value of the given struct
<code>member</code> or the member at the given <code>index</code>.   Raises
NameError if the <code>member</code> does not exist and IndexError if the
<code>index</code> is out of range.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>

<span class='id identifier rubyid_joe'>joe</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;Joe Smith&quot;
</span><span class='id identifier rubyid_joe'>joe</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>    <span class='comment'>#=&gt; &quot;Joe Smith&quot;
</span><span class='id identifier rubyid_joe'>joe</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>        <span class='comment'>#=&gt; &quot;Joe Smith&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


892
893
894
895
896
897
898</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 892</span>

VALUE
rb_struct_aref(VALUE s, VALUE idx)
{
    int i = rb_struct_pos(s, &amp;idx);
    if (i &lt; 0) invalid_struct_pos(s, idx);
    return RSTRUCT_GET(s, i);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="[]=-instance_method">
  <h3 class='signature'>
  #<strong>[]=</strong>(member, obj)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Attribute Assignment—Sets the value of the given struct <code>member</code>
or the member at the given <code>index</code>.  Raises NameError if the
<code>member</code> does not exist and IndexError if the <code>index</code>
is out of range.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>

<span class='id identifier rubyid_joe'>joe</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Luke</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_joe'>joe</span><span class='lbracket'>[</span><span class='symbol'>:zip</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>90210</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>   <span class='comment'>#=&gt; &quot;Luke&quot;
</span><span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span>    <span class='comment'>#=&gt; &quot;90210&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


919
920
921
922
923
924
925
926
927</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 919</span>

VALUE
rb_struct_aset(VALUE s, VALUE idx, VALUE val)
{
    int i = rb_struct_pos(s, &amp;idx);
    if (i &lt; 0) invalid_struct_pos(s, idx);
    rb_struct_modify(s);
    RSTRUCT_SET(s, i, val);
    return val;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dig-instance_method">
  <h3 class='signature'>
  #<strong>dig</strong>(key, ...)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Extracts the nested value specified by the sequence of <em>idx</em> objects
by calling <code>dig</code> at each step, returning <code>nil</code> if any
intermediate step is <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='rparen'>)</span>
<span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>b:</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='rparen'>)</span>

<span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:b</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>              <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:b</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>                      <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1147
1148
1149
1150
1151
1152
1153
1154
1155</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 1147</span>

static VALUE
rb_struct_dig(int argc, VALUE *argv, VALUE self)
{
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    self = rb_struct_lookup(self, *argv);
    if (!--argc) return self;
    ++argv;
    return rb_obj_dig(argc, argv, self, Qnil);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each</strong> {|obj| ... } &#x21d2; <tt>struct</tt> </span>
    <span class='overload'>#<strong>each</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Yields the value of each struct member in order.  If no block is given an
enumerator is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
</code></pre>

<p>Produces:</p>

<pre class="code ruby"><code class="ruby">Joe Smith
123 Maple, Anytown NC
12345</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


647
648
649
650
651
652
653
654
655
656
657</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 647</span>

static VALUE
rb_struct_each(VALUE s)
{
    long i;

    RETURN_SIZED_ENUMERATOR(s, 0, 0, struct_enum_size);
    for (i=0; i&lt;RSTRUCT_LEN(s); i++) {
	rb_yield(RSTRUCT_GET(s, i));
    }
    return s;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_pair-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_pair</strong> {|sym, obj| ... } &#x21d2; <tt>struct</tt> </span>
    <span class='overload'>#<strong>each_pair</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Yields the name and value of each struct member in order.  If no block is
given an enumerator is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
</code></pre>

<p>Produces:</p>

<pre class="code ruby"><code class="ruby">name =&gt; Joe Smith
address =&gt; 123 Maple, Anytown NC
zip =&gt; 12345</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 678</span>

static VALUE
rb_struct_each_pair(VALUE s)
{
    VALUE members;
    long i;

    RETURN_SIZED_ENUMERATOR(s, 0, 0, struct_enum_size);
    members = rb_struct_members(s);
    if (rb_block_arity() &gt; 1) {
	for (i=0; i&lt;RSTRUCT_LEN(s); i++) {
	    VALUE key = rb_ary_entry(members, i);
	    VALUE value = RSTRUCT_GET(s, i);
	    rb_yield_values(2, key, value);
	}
    }
    else {
	for (i=0; i&lt;RSTRUCT_LEN(s); i++) {
	    VALUE key = rb_ary_entry(members, i);
	    VALUE value = RSTRUCT_GET(s, i);
	    rb_yield(rb_assoc_new(key, value));
	}
    }
    return s;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="eql?-instance_method">
  <h3 class='signature'>
  #<strong>eql?</strong>(other)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Hash equality—<code>other</code> and <code>struct</code> refer to the same
hash key if they have the same struct subclass and have equal member values
(according to <a href="Object.html#eql%3F-instance_method" title="Object#eql? (method)">Object#eql?</a>).</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 1101</span>

static VALUE
rb_struct_eql(VALUE s, VALUE s2)
{
    if (s == s2) return Qtrue;
    if (!RB_TYPE_P(s2, T_STRUCT)) return Qfalse;
    if (rb_obj_class(s) != rb_obj_class(s2)) return Qfalse;
    if (RSTRUCT_LEN(s) != RSTRUCT_LEN(s2)) {
	rb_bug(&quot;inconsistent struct&quot;); /* should never happen */
    }

    return rb_exec_recursive_paired(recursive_eql, s, s2, s2);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hash-instance_method">
  <h3 class='signature'>
  #<strong>hash</strong>  &#x21d2; <tt><a href="Object.html#Fixnum-constant" title="Object::Fixnum (constant)">Fixnum</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a hash value based on this struct&#39;s contents (see
<a href="Object.html#hash-instance_method" title="Object#hash (method)">Object#hash</a>).</p>

<p>See also <a href="Object.html#hash-instance_method" title="Object#hash (method)">Object#hash</a>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 1057</span>

static VALUE
rb_struct_hash(VALUE s)
{
    long i, len;
    st_index_t h;
    VALUE n;
    const VALUE *ptr;

    h = rb_hash_start(rb_hash(rb_obj_class(s)));
    ptr = RSTRUCT_CONST_PTR(s);
    len = RSTRUCT_LEN(s);
    for (i = 0; i &lt; len; i++) {
	n = rb_hash(ptr[i]);
	h = rb_hash_uint(h, NUM2LONG(n));
    }
    h = rb_hash_end(h);
    return INT2FIX(h);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initialize-instance_method">
  <h3 class='signature'>
  #<strong>initialize</strong>(*args)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 544</span>

static VALUE
rb_struct_initialize_m(int argc, const VALUE *argv, VALUE self)
{
    VALUE klass = rb_obj_class(self);
    long i, n;

    rb_struct_modify(self);
    n = num_members(klass);
    if (n &lt; argc) {
	rb_raise(rb_eArgError, &quot;struct size differs&quot;);
    }
    for (i=0; i&lt;argc; i++) {
	RSTRUCT_SET(self, i, argv[i]);
    }
    if (n &gt; argc) {
	rb_mem_clear((VALUE *)RSTRUCT_CONST_PTR(self)+argc, n-argc);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_s</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
    <span class='overload'>#<strong>inspect</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#to_s-instance_method" title="Struct#to_s (method)">#to_s</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="length-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>length</strong>  &#x21d2; <tt><a href="Object.html#Fixnum-constant" title="Object::Fixnum (constant)">Fixnum</a></tt> </span>
    <span class='overload'>#<strong>size</strong>  &#x21d2; <tt><a href="Object.html#Fixnum-constant" title="Object::Fixnum (constant)">Fixnum</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>size</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the number of struct members.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>   <span class='comment'>#=&gt; 3
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1126
1127
1128
1129
1130</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 1126</span>

static VALUE
rb_struct_size(VALUE s)
{
    return LONG2FIX(RSTRUCT_LEN(s));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="members-instance_method">
  <h3 class='signature'>
  #<strong>members</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the struct members as an array of symbols:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_members'>members</span>   <span class='comment'>#=&gt; [:name, :address, :zip]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


198
199
200
201
202</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 198</span>

static VALUE
rb_struct_members_m(VALUE obj)
{
    return rb_struct_s_members_m(rb_obj_class(obj));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="select-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>select</strong> {|i| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>select</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Yields each member value from the struct to the block and returns an Array
containing the member values from the <code>struct</code> for which the
given block returns a true value (equivalent to <a href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">Enumerable#select</a>).</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Lots</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:b</span><span class='comma'>,</span> <span class='symbol'>:c</span><span class='comma'>,</span> <span class='symbol'>:d</span><span class='comma'>,</span> <span class='symbol'>:e</span><span class='comma'>,</span> <span class='symbol'>:f</span><span class='rparen'>)</span>
<span class='id identifier rubyid_l'>l</span> <span class='op'>=</span> <span class='const'>Lots</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>11</span><span class='comma'>,</span> <span class='int'>22</span><span class='comma'>,</span> <span class='int'>33</span><span class='comma'>,</span> <span class='int'>44</span><span class='comma'>,</span> <span class='int'>55</span><span class='comma'>,</span> <span class='int'>66</span><span class='rparen'>)</span>
<span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span> <span class='op'>%</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [22, 44, 66]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 986</span>

static VALUE
rb_struct_select(int argc, VALUE *argv, VALUE s)
{
    VALUE result;
    long i;

    rb_check_arity(argc, 0, 0);
    RETURN_SIZED_ENUMERATOR(s, 0, 0, struct_enum_size);
    result = rb_ary_new();
    for (i = 0; i &lt; RSTRUCT_LEN(s); i++) {
	if (RTEST(rb_yield(RSTRUCT_GET(s, i)))) {
	    rb_ary_push(result, RSTRUCT_GET(s, i));
	}
    }

    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="size-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>length</strong>  &#x21d2; <tt><a href="Object.html#Fixnum-constant" title="Object::Fixnum (constant)">Fixnum</a></tt> </span>
    <span class='overload'>#<strong>size</strong>  &#x21d2; <tt><a href="Object.html#Fixnum-constant" title="Object::Fixnum (constant)">Fixnum</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#length-instance_method" title="Struct#length (method)">#length</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="to_a-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_a</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>values</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>values</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the values for this struct as an Array.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;123 Maple, Anytown NC&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


774
775
776
777
778</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 774</span>

static VALUE
rb_struct_to_a(VALUE s)
{
    return rb_ary_new4(RSTRUCT_LEN(s), RSTRUCT_CONST_PTR(s));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_h-instance_method">
  <h3 class='signature'>
  #<strong>to_h</strong>  &#x21d2; <tt><a href="Hash.html" title="Hash (class)">Hash</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a Hash containing the names and values for the struct&#39;s
members.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span><span class='lbracket'>[</span><span class='symbol'>:address</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;123 Maple, Anytown NC&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


791
792
793
794
795
796
797
798
799
800
801
802</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 791</span>

static VALUE
rb_struct_to_h(VALUE s)
{
    VALUE h = rb_hash_new();
    VALUE members = rb_struct_members(s);
    long i;

    for (i=0; i&lt;RSTRUCT_LEN(s); i++) {
	rb_hash_aset(h, rb_ary_entry(members, i), RSTRUCT_GET(s, i));
    }
    return h;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_s-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_s</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
    <span class='overload'>#<strong>inspect</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>inspect</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Describe the contents of this struct in a string.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


756
757
758
759
760</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 756</span>

static VALUE
rb_struct_inspect(VALUE s)
{
    return rb_exec_recursive(inspect_struct, s, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="values-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_a</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>values</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#to_a-instance_method" title="Struct#to_a (method)">#to_a</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="values_at-instance_method">
  <h3 class='signature'>
  #<strong>values_at</strong>(selector, ...)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the struct member values for each <code>selector</code> as an
Array.  A <code>selector</code> may be either an Integer offset or a Range
of offsets (as in <a href="Array.html#values_at-instance_method" title="Array#values_at (method)">Array#values_at</a>).</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Customer</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:zip</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span> <span class='op'>=</span> <span class='const'>Customer</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Joe Smith</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123 Maple, Anytown NC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12345</span><span class='rparen'>)</span>
<span class='id identifier rubyid_joe'>joe</span><span class='period'>.</span><span class='id identifier rubyid_values_at'>values_at</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span> <span class='comment'>#=&gt; [&quot;Joe Smith&quot;, 12345]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


966
967
968
969
970</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'struct.c', line 966</span>

static VALUE
rb_struct_values_at(int argc, VALUE *argv, VALUE s)
{
    return rb_get_values_at(s, RSTRUCT_LEN(s), argc, argv, struct_entry);
}
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>