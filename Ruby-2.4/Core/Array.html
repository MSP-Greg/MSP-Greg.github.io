<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Array &mdash; Core Ruby-2.4.0 d2016-07-27</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Array",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>Core</a> &raquo; 
          <a href='_index.html'>Index (A)</a> &raquo; 
          <span class='title'>Array</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Array</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="Object.html" title="Object (class)">Object</a></li>
        <li class='next'>Array</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Includes:</td>
    <td><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a>
    </td>
  </tr>



  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/trunk/array.c#L6049'>array.c</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/trunk/pack.c#L273'>pack.c</a></span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Arrays are ordered, integer-indexed collections of any object.</p>

<p>Array indexing starts at 0, as in C or Java.  A negative index is assumed
to be relative to the end of the array—that is, an index of -1 indicates
the last element of the array, -2 is the next to last element in the array,
and so on.</p>

<h4 id="label-Creating+Arrays">Creating Arrays</h4>

<p>A new array can be created by using the literal constructor
<code>[]</code>.  Arrays can contain different types of objects.  For
example, the array below contains an Integer, a String and a Float:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>3.0</span><span class='rbracket'>]</span> <span class='comment'>#=&gt; [1, &quot;two&quot;, 3.0]
</span></code></pre>

<p>An array can also be created by explicitly calling <a href="#new-class_method" title="Array.new (method)">Array.new</a> with zero,
one (the initial size of the Array) or two arguments (the initial size and
a default object).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>    <span class='comment'>#=&gt; []
</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; [nil, nil, nil]
</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span><span class='lparen'>(</span><span class='int'>3</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [true, true, true]
</span></code></pre>

<p>Note that the second argument populates the array with references to the
same object.  Therefore, it is only recommended in cases when you need to
instantiate arrays with natively immutable objects such as Symbols,
numbers, true or false.</p>

<p>To create an array with separate objects a block can be passed instead.
This method is safe to use with mutable objects such as hashes, strings or
other arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Hash.html#new-class_method" title="Hash.new (method)">new</a></span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [{}, {}, {}, {}]
</span></code></pre>

<p>This is also a quick way to build up multi-dimensional arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_empty_table'>empty_table</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='comment'>#=&gt; [[nil, nil, nil], [nil, nil, nil], [nil, nil, nil]]
</span></code></pre>

<p>An array can also be created by using the Array() method, provided by
Kernel, which tries to call <a href="#to_ary-instance_method" title="Array#to_ary (method)">#to_ary</a>, then <a href="#to_a-instance_method" title="Array#to_a (method)">#to_a</a> on its argument.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Array</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='symbol'>:a</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:b</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [[:a, &quot;a&quot;], [:b, &quot;b&quot;]]
</span></code></pre>

<h4 id="label-Example+Usage">Example Usage</h4>

<p>In addition to the methods it mixes in through the Enumerable module, the
Array class has proprietary methods for accessing, searching and otherwise
manipulating arrays.</p>

<p>Some of the more common ones are illustrated below.</p>

<h4 id="label-Accessing+Elements">Accessing Elements</h4>

<p>Elements in an array can be retrieved using the <a href="#%5B%5D-instance_method" title="Array#[] (method)">#[]</a> method.  It can
take a single integer argument (a numeric index), a pair of arguments
(start and length) or a range. Negative indices start counting from the
end, with -1 being the last element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>    <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>100</span><span class='rbracket'>]</span>  <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>3</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span> <span class='comment'>#=&gt; [3, 4, 5]
</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='int'>4</span><span class='rbracket'>]</span> <span class='comment'>#=&gt; [2, 3, 4, 5]
</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>3</span><span class='rbracket'>]</span> <span class='comment'>#=&gt; [2, 3, 4]
</span></code></pre>

<p>Another way to access a particular array element is by using the <a href="#at-instance_method" title="Array#at (method)">#at</a>
method</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='comment'>#=&gt; 1
</span></code></pre>

<p>The <a href="#slice-instance_method" title="Array#slice (method)">#slice</a> method works in an identical manner to <a href="#%5B%5D-instance_method" title="Array#[] (method)">#[]</a>.</p>

<p>To raise an error for indices outside of the array bounds or else to
provide a default value when that happens, you can use <a href="#fetch-instance_method" title="Array#fetch (method)">#fetch</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='int'>100</span><span class='rparen'>)</span> <span class='comment'>#=&gt; IndexError: index 100 outside of array bounds: -6...6
</span><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='int'>100</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oops</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;oops&quot;
</span></code></pre>

<p>The special methods <a href="#first-instance_method" title="Array#first (method)">#first</a> and <a href="#last-instance_method" title="Array#last (method)">#last</a> will return the first and last
elements of an array, respectively.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>  <span class='comment'>#=&gt; 6
</span></code></pre>

<p>To return the first <code>n</code> elements of an array, use <a href="#take-instance_method" title="Array#take (method)">#take</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [1, 2, 3]
</span></code></pre>

<p><a href="#drop-instance_method" title="Array#drop (method)">#drop</a> does the opposite of <a href="#take-instance_method" title="Array#take (method)">#take</a>, by returning the elements after
<code>n</code> elements have been dropped:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_drop'>drop</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [4, 5, 6]
</span></code></pre>

<h4 id="label-Obtaining+Information+about+an+Array">Obtaining Information about an Array</h4>

<p>Arrays keep track of their own length at all times.  To query an array
about the number of elements it contains, use <a href="#length-instance_method" title="Array#length (method)">#length</a>, <a href="#count-instance_method" title="Array#count (method)">#count</a> or
<a href="#size-instance_method" title="Array#size (method)">#size</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_browsers'>browsers</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Chrome</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Firefox</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Safari</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Opera</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>IE</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_browsers'>browsers</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='comment'>#=&gt; 5
</span><span class='id identifier rubyid_browsers'>browsers</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='comment'>#=&gt; 5
</span></code></pre>

<p>To check whether an array contains any elements at all</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_browsers'>browsers</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='comment'>#=&gt; false
</span></code></pre>

<p>To check whether a particular item is included in the array</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_browsers'>browsers</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Konqueror</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; false
</span></code></pre>

<h4 id="label-Adding+Items+to+Arrays">Adding Items to Arrays</h4>

<p>Items can be added to the end of an array by using either <a href="#push-instance_method" title="Array#push (method)">#push</a> or
<a href="#%3C%3C-instance_method" title="Array#&lt;&lt; (method)">#&lt;&lt;</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='id identifier rubyid_arr'>arr</span> <span class='op'>&lt;&lt;</span> <span class='int'>6</span>    <span class='comment'>#=&gt; [1, 2, 3, 4, 5, 6]
</span></code></pre>

<p><a href="#unshift-instance_method" title="Array#unshift (method)">#unshift</a> will add a new item to the beginning of an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [0, 1, 2, 3, 4, 5, 6]
</span></code></pre>

<p>With <a href="#insert-instance_method" title="Array#insert (method)">#insert</a> you can add a new element to an array at any position.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>apple</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [0, 1, 2, &#39;apple&#39;, 3, 4, 5, 6]
</span></code></pre>

<p>Using the <a href="#insert-instance_method" title="Array#insert (method)">#insert</a> method, you can also insert multiple values at once:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>orange</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pear</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>grapefruit</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; [0, 1, 2, &quot;orange&quot;, &quot;pear&quot;, &quot;grapefruit&quot;, &quot;apple&quot;, 3, 4, 5, 6]
</span></code></pre>

<h4 id="label-Removing+Items+from+an+Array">Removing Items from an Array</h4>

<p>The method <a href="#pop-instance_method" title="Array#pop (method)">#pop</a> removes the last element in an array and returns it:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span>  <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='comment'>#=&gt; 6
</span><span class='id identifier rubyid_arr'>arr</span> <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span></code></pre>

<p>To retrieve and at the same time remove the first item, use <a href="#shift-instance_method" title="Array#shift (method)">#shift</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span> <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_arr'>arr</span> <span class='comment'>#=&gt; [2, 3, 4, 5]
</span></code></pre>

<p>To delete an element at a particular index:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_arr'>arr</span> <span class='comment'>#=&gt; [2, 3, 5]
</span></code></pre>

<p>To delete a particular element anywhere in an array, use <a href="#delete-instance_method" title="Array#delete (method)">#delete</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_arr'>arr</span> <span class='comment'>#=&gt; [1,3]
</span></code></pre>

<p>A useful method if you need to remove <code>nil</code> values from an array
is <a href="#compact-instance_method" title="Array#compact (method)">#compact</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>  <span class='comment'>#=&gt; [&#39;foo&#39;, 0, &#39;bar&#39;, 7, &#39;baz&#39;]
</span><span class='id identifier rubyid_arr'>arr</span>          <span class='comment'>#=&gt; [&#39;foo&#39;, 0, nil, &#39;bar&#39;, 7, &#39;baz&#39;, nil]
</span><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span> <span class='comment'>#=&gt; [&#39;foo&#39;, 0, &#39;bar&#39;, 7, &#39;baz&#39;]
</span><span class='id identifier rubyid_arr'>arr</span>          <span class='comment'>#=&gt; [&#39;foo&#39;, 0, &#39;bar&#39;, 7, &#39;baz&#39;]
</span></code></pre>

<p>Another common need is to remove duplicate elements from an array.</p>

<p>It has the non-destructive <a href="#uniq-instance_method" title="Array#uniq (method)">#uniq</a>, and destructive method <a href="#uniq%21-instance_method" title="Array#uniq! (method)">#uniq!</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>556</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>123</span><span class='comma'>,</span> <span class='int'>556</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span> <span class='comment'>#=&gt; [2, 5, 6, 556, 8, 9, 0, 123]
</span></code></pre>

<h4 id="label-Iterating+over+Arrays">Iterating over Arrays</h4>

<p>Like all classes that include the Enumerable module, Array has an each
method, which defines what elements should be iterated over and how.  In
case of Array&#39;s <a href="#each-instance_method" title="Array#each (method)">#each</a>, all elements in the Array instance are yielded
to the supplied block in sequence.</p>

<p>Note that this operation leaves the array unchanged.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>-=</span> <span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='comment'># prints: -9 -8 -7 -6 -5
</span><span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span></code></pre>

<p>Another sometimes useful iterator is <a href="#reverse_each-instance_method" title="Array#reverse_each (method)">#reverse_each</a> which will iterate
over the elements in the array in reverse order.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_words'>words</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>first</span><span class='words_sep'> </span><span class='tstring_content'>second</span><span class='words_sep'> </span><span class='tstring_content'>third</span><span class='words_sep'> </span><span class='tstring_content'>fourth</span><span class='words_sep'> </span><span class='tstring_content'>fifth</span><span class='words_sep'> </span><span class='tstring_content'>sixth</span><span class='words_sep'>]</span>
<span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_words'>words</span><span class='period'>.</span><span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_str'>str</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_word'>word</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_str'>str</span> <span class='comment'>#=&gt; &quot;sixth fifth fourth third second first &quot;
</span></code></pre>

<p>The <a href="#map-instance_method" title="Array#map (method)">#map</a> method can be used to create a new array based on the original
array, but with the values modified by the supplied block:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='int'>2</span><span class='op'>*</span><span class='id identifier rubyid_a'>a</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [2, 4, 6, 8, 10]
</span><span class='id identifier rubyid_arr'>arr</span>                   <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='op'>**</span><span class='int'>2</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [1, 4, 9, 16, 25]
</span><span class='id identifier rubyid_arr'>arr</span>                   <span class='comment'>#=&gt; [1, 4, 9, 16, 25]
</span></code></pre>

<h4 id="label-Selecting+Items+from+an+Array">Selecting Items from an Array</h4>

<p>Elements can be selected from an array according to criteria defined in a
block.  The selection can happen in a destructive or a non-destructive
manner.  While the destructive operations will modify the array they were
called on, the non-destructive methods usually return a new array with the
selected elements, but leave the original array unchanged.</p>

<h5 id="label-Non-destructive+Selection">Non-destructive Selection</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&gt;</span> <span class='int'>3</span> <span class='rbrace'>}</span>     <span class='comment'>#=&gt; [4, 5, 6]
</span><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='rbrace'>}</span>     <span class='comment'>#=&gt; [3, 4, 5, 6]
</span><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_drop_while'>drop_while</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>4</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [4, 5, 6]
</span><span class='id identifier rubyid_arr'>arr</span>                          <span class='comment'>#=&gt; [1, 2, 3, 4, 5, 6]
</span></code></pre>

<h5 id="label-Destructive+Selection">Destructive Selection</h5>

<p><a href="#select%21-instance_method" title="Array#select! (method)">#select!</a> and <a href="#reject%21-instance_method" title="Array#reject! (method)">#reject!</a> are the corresponding destructive methods to
<a href="#select-instance_method" title="Array#select (method)">#select</a> and <a href="#reject-instance_method" title="Array#reject (method)">#reject</a></p>

<p>Similar to <a href="#select-instance_method" title="Array#select (method)">#select</a> vs. <a href="#reject-instance_method" title="Array#reject (method)">#reject</a>, <a href="#delete_if-instance_method" title="Array#delete_if (method)">#delete_if</a> and <a href="#keep_if-instance_method" title="Array#keep_if (method)">#keep_if</a> have the
exact opposite result when supplied with the same block:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>4</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [4, 5, 6]
</span><span class='id identifier rubyid_arr'>arr</span>                         <span class='comment'>#=&gt; [4, 5, 6]
</span>
<span class='id identifier rubyid_arr'>arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_arr'>arr</span><span class='period'>.</span><span class='id identifier rubyid_keep_if'>keep_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>4</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_arr'>arr</span>                       <span class='comment'>#=&gt; [1, 2, 3]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>




<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D-class_method" title=".[] (class method)">.<strong>[]</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array populated with the given objects.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(size = 0, default = nil)  </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#try_convert-class_method" title="try_convert (class method)">.<strong>try_convert</strong>(obj)  &#x21d2; Array<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Tries to convert <code>obj</code> into an array, using <code>to_ary</code>
method.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%26-instance_method" title="#&amp; (instance method)">#<strong>&amp;</strong>(other_ary)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Set Intersection — Returns a new array containing unique elements common to
the two arrays.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%2A-instance_method" title="#* (instance method)">#<strong>*</strong>(int)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Repetition — With a String argument, equivalent to
<code>ary.join(str)</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>(other_ary)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Concatenation — Returns a new array built by concatenating the two arrays
together to produce a third array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#--instance_method" title="#- (instance method)">#<strong>-</strong>(other_ary)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Array Difference</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%3C%3C-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(obj)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Append—Pushes the given object on to the end of this array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%3C%3D%3E-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other_ary)  &#x21d2; -1, ... </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Comparison — Returns an integer (<code>-1</code>, <code>0</code>, or
<code>+1</code>) if this array is less than, equal to, or greater than
<code>other_ary</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%3D%3D-instance_method" title="#== (instance method)">#<strong>==</strong>(other_ary)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Equality — Two arrays are equal if they contain the same number of elements
and if each element is equal to (according to <a href="BasicObject.html#%3D%3D-instance_method" title="BasicObject#== (method)">BasicObject#==</a>) the
corresponding element in <code>other_ary</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D-instance_method" title="#[] (instance method)">#<strong>[]</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
        (also: #slice)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Element Reference — Returns the element at <code>index</code>, or returns a
subarray starting at the <code>start</code> index and continuing for
<code>length</code> elements, or returns a subarray specified by
<code>range</code> of indices.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D%3D-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Element Assignment — Sets the element at <code>index</code>, or replaces a
subarray from the <code>start</code> index for <code>length</code>
elements, or replaces a subarray specified by the <code>range</code> of
indices.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#any%3F-instance_method" title="#any? (instance method)">#<strong>any?</strong> {|obj| ... } &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>See also <a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">Enumerable#any?</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#assoc-instance_method" title="#assoc (instance method)">#<strong>assoc</strong>(obj)  &#x21d2; element_ary<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Searches through an array whose elements are also arrays comparing
<code>obj</code> with the first element of each contained array using
<code>obj.==</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#at-instance_method" title="#at (instance method)">#<strong>at</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the element at <code>index</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#bsearch-instance_method" title="#bsearch (instance method)">#<strong>bsearch</strong> {|x| ... } &#x21d2; elem </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>By using binary search, finds a value from this array which meets the given
condition in O(log n) where n is the size of the array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#bsearch_index-instance_method" title="#bsearch_index (instance method)">#<strong>bsearch_index</strong> {|x| ... } &#x21d2; Integer<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>By using binary search, finds an index of a value from this array which
meets the given condition in O(log n) where n is the size of the array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes all elements from <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collect-instance_method" title="#collect (instance method)">#<strong>collect</strong> {|item| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#map-instance_method" title="Array#map (method)">#map</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collect%21-instance_method" title="#collect! (instance method)">#<strong>collect!</strong> {|item| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#map%21-instance_method" title="Array#map! (method)">#map!</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#combination-instance_method" title="#combination (instance method)">#<strong>combination</strong>(n) {|c| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When invoked with a block, yields all combinations of length <code>n</code>
of elements from the array and then returns the array itself.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#compact-instance_method" title="#compact (instance method)">#<strong>compact</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a copy of <code>self</code> with all <code>nil</code> elements
removed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#compact%21-instance_method" title="#compact! (instance method)">#<strong>compact!</strong>  &#x21d2; Array<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes <code>nil</code> elements from the array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(other_ary)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Appends the elements of <code>other_ary</code> to <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the number of elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cycle-instance_method" title="#cycle (instance method)">#<strong>cycle</strong>(n = nil) {|obj| ... } &#x21d2; nil </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calls the given block for each element <code>n</code> times or forever if
<code>nil</code> is given.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(obj)  &#x21d2; item<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes all items from <code>self</code> that are equal to
<code>obj</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete_at-instance_method" title="#delete_at (instance method)">#<strong>delete_at</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes the element at the specified <code>index</code>, returning that
element, or <code>nil</code> if the <code>index</code> is out of range.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong> {|item| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes every element of <code>self</code> for which block evaluates to
<code>true</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(idx, ...)  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Extracts the nested value specified by the sequence of <em>idx</em> objects
by calling <code>dig</code> at each step, returning <code>nil</code> if any
intermediate step is <code>nil</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#drop-instance_method" title="#drop (instance method)">#<strong>drop</strong>(n)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Drops first <code>n</code> elements from <code>ary</code> and returns the
rest of the elements in an array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#drop_while-instance_method" title="#drop_while (instance method)">#<strong>drop_while</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Drops elements up to, but not including, the first element for which the
block returns <code>nil</code> or <code>false</code> and returns an array
containing the remaining elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong> {|item| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calls the given block once for each element in <code>self</code>, passing
that element as a parameter.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_index-instance_method" title="#each_index (instance method)">#<strong>each_index</strong> {|index| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Same as <a href="#each-instance_method" title="Array#each (method)">#each</a>, but passes the <code>index</code> of the element
instead of the element itself.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if <code>self</code> contains no elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(other)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if <code>self</code> and <code>other</code> are
the same object, or are both arrays with the same content (according to
<a href="Object.html#eql%3F-instance_method" title="Object#eql? (method)">Object#eql?</a>).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fetch-instance_method" title="#fetch (instance method)">#<strong>fetch</strong>(index)  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Tries to return the element at position <code>index</code>, but throws an
IndexError exception if the referenced <code>index</code> lies outside of
the array bounds.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fill-instance_method" title="#fill (instance method)">#<strong>fill</strong>(obj)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The first three forms set the selected elements of <code>self</code> (which
may be the entire array) to <code>obj</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_index-instance_method" title="#find_index (instance method)">#<strong>find_index</strong>(obj)  &#x21d2; Integer<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#first-instance_method" title="#first (instance method)">#<strong>first</strong>  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the first element, or the first <code>n</code> elements, of the
array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#flatten-instance_method" title="#flatten (instance method)">#<strong>flatten</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array that is a one-dimensional flattening of
<code>self</code> (recursively).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#flatten%21-instance_method" title="#flatten! (instance method)">#<strong>flatten!</strong>  &#x21d2; Array<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Flattens <code>self</code> in place.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#frozen%3F-instance_method" title="#frozen? (instance method)">#<strong>frozen?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return <code>true</code> if this array is frozen (or temporarily frozen
while being sorted).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Compute a hash-code for this array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(object)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the given <code>object</code> is present in
<code>self</code> (that is, if any element <code>==</code>
<code>object</code>), otherwise returns <code>false</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(obj)  &#x21d2; Integer<sup>?</sup> </a>
        (also: #find_index)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the <em>index</em> of the first object in <code>ary</code> such
that the object is <code>==</code> to <code>obj</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(other_ary)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#replace-instance_method" title="Array#replace (method)">#replace</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(index, obj...)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Inserts the given values before the element with the given
<code>index</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#to_s-instance_method" title="Array#to_s (method)">#to_s</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#join-instance_method" title="#join (instance method)">#<strong>join</strong>(separator = $,)  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string created by converting each element of the array to a
string, separated by the given <code>separator</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#keep_if-instance_method" title="#keep_if (instance method)">#<strong>keep_if</strong> {|item| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes every element of <code>self</code> for which the given block
evaluates to <code>false</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#last-instance_method" title="#last (instance method)">#<strong>last</strong>  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the last element(s) of <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#size-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
        (also: #size)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the number of elements in <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#map-instance_method" title="#map (instance method)">#<strong>map</strong> {|item| ... } &#x21d2; Array </a>
        (also: #collect)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Invokes the given block once for each element of <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#map%21-instance_method" title="#map! (instance method)">#<strong>map!</strong> {|item| ... } &#x21d2; Array </a>
        (also: #collect!)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Invokes the given block once for each element of <code>self</code>,
replacing the element with the value returned by the block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#max-instance_method" title="#max (instance method)">#<strong>max</strong>  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the object in <em>ary</em> with the maximum value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#min-instance_method" title="#min (instance method)">#<strong>min</strong>  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the object in <em>ary</em> with the minimum value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pack-instance_method" title="#pack (instance method)">#<strong>pack</strong>(aTemplateString)  &#x21d2; aBinaryString </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Packs the contents of <em>arr</em> into a binary sequence according to the
directives in <em>aTemplateString</em> (see the table below) Directives
“A,&#39;&#39; “a,&#39;&#39; and “Z&#39;&#39; may be followed by a count,
which gives the width of the resulting field.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#permutation-instance_method" title="#permutation (instance method)">#<strong>permutation</strong> {|p| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When invoked with a block, yield all permutations of length <code>n</code>
of the elements of the array, then return the array itself.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pop-instance_method" title="#pop (instance method)">#<strong>pop</strong>  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes the last element from <code>self</code> and returns it, or
<code>nil</code> if the array is empty.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#product-instance_method" title="#product (instance method)">#<strong>product</strong>(other_ary, ...)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array of all combinations of elements from all arrays.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>(obj, ...)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Append — Pushes the given object(s) on to the end of this array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rassoc-instance_method" title="#rassoc (instance method)">#<strong>rassoc</strong>(obj)  &#x21d2; element_ary<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Searches through the array whose elements are also arrays.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong> {|item| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array containing the items in <code>self</code> for which the
given block is not <code>true</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reject%21-instance_method" title="#reject! (instance method)">#<strong>reject!</strong> {|item| ... } &#x21d2; Array<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes every element of <code>self</code> for which the block evaluates to
<code>true</code>, if no changes were made returns <code>nil</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#repeated_combination-instance_method" title="#repeated_combination (instance method)">#<strong>repeated_combination</strong>(n) {|c| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When invoked with a block, yields all repeated combinations of length
<code>n</code> of elements from the array and then returns the array
itself.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#repeated_permutation-instance_method" title="#repeated_permutation (instance method)">#<strong>repeated_permutation</strong>(n) {|p| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>When invoked with a block, yield all repeated permutations of length
<code>n</code> of the elements of the array, then return the array itself.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_ary)  &#x21d2; Array </a>
        (also: #initialize_copy)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Replaces the contents of <code>self</code> with the contents of
<code>other_ary</code>, truncating or expanding if necessary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reverse-instance_method" title="#reverse (instance method)">#<strong>reverse</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array containing <code>self</code>&#39;s elements in reverse
order.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reverse%21-instance_method" title="#reverse! (instance method)">#<strong>reverse!</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Reverses <code>self</code> in place.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reverse_each-instance_method" title="#reverse_each (instance method)">#<strong>reverse_each</strong> {|item| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Same as <a href="#each-instance_method" title="Array#each (method)">#each</a>, but traverses <code>self</code> in reverse order.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rindex-instance_method" title="#rindex (instance method)">#<strong>rindex</strong>(obj)  &#x21d2; Integer<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the <em>index</em> of the last object in <code>self</code>
<code>==</code> to <code>obj</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rotate-instance_method" title="#rotate (instance method)">#<strong>rotate</strong>(count = 1)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array by rotating <code>self</code> so that the element at
<code>count</code> is the first element of the new array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rotate%21-instance_method" title="#rotate! (instance method)">#<strong>rotate!</strong>(count = 1)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Rotates <code>self</code> in place so that the element at
<code>count</code> comes first, and returns <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sample-instance_method" title="#sample (instance method)">#<strong>sample</strong>  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Choose a random element or <code>n</code> random elements from the array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong> {|item| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array containing all elements of <code>ary</code> for which
the given <code>block</code> returns a true value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select%21-instance_method" title="#select! (instance method)">#<strong>select!</strong> {|item| ... } &#x21d2; Array<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Invokes the given block passing in successive elements from
<code>self</code>, deleting elements for which the block returns a
<code>false</code> value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#shift-instance_method" title="#shift (instance method)">#<strong>shift</strong>  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes the first element of <code>self</code> and returns it (shifting all
other elements down by one).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#shuffle-instance_method" title="#shuffle (instance method)">#<strong>shuffle</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array with elements of <code>self</code> shuffled.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#shuffle%21-instance_method" title="#shuffle! (instance method)">#<strong>shuffle!</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Shuffles elements in <code>self</code> in place.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#length-instance_method" title="Array#length (method)">#length</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#%5B%5D-instance_method" title="Array#[] (method)">#[]</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice%21-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>(index)  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes the element(s) given by an <code>index</code> (optionally up to
<code>length</code> elements) or by a <code>range</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sort-instance_method" title="#sort (instance method)">#<strong>sort</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array created by sorting <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sort%21-instance_method" title="#sort! (instance method)">#<strong>sort!</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sorts <code>self</code> in place.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sort_by%21-instance_method" title="#sort_by! (instance method)">#<strong>sort_by!</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sorts <code>self</code> in place using a set of keys generated by mapping
the values in <code>self</code> through the given block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sum-instance_method" title="#sum (instance method)">#<strong>sum</strong>(init = 0)  &#x21d2; Numeric </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the sum of elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#take-instance_method" title="#take (instance method)">#<strong>take</strong>(n)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns first <code>n</code> elements from the array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#take_while-instance_method" title="#take_while (instance method)">#<strong>take_while</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Passes elements to the block until the block returns <code>nil</code> or
<code>false</code>, then stops iterating and returns an array of all prior
elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_ary-instance_method" title="#to_ary (instance method)">#<strong>to_ary</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>  &#x21d2; Hash </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the result of interpreting <em>ary</em> as an array of <code>[key,
value]</code> pairs.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
        (also: #inspect)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a string representation of <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#transpose-instance_method" title="#transpose (instance method)">#<strong>transpose</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Assumes that <code>self</code> is an array of arrays and transposes the
rows and columns.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#uniq-instance_method" title="#uniq (instance method)">#<strong>uniq</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array by removing duplicate values in <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#uniq%21-instance_method" title="#uniq! (instance method)">#<strong>uniq!</strong>  &#x21d2; Array<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes duplicate elements from <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unshift-instance_method" title="#unshift (instance method)">#<strong>unshift</strong>(obj, ...)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Prepends objects to the front of <code>self</code>, moving other elements
upwards.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>(selector, ...)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array containing the elements in <code>self</code> corresponding
to the given <code>selector</code>(s).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#zip-instance_method" title="#zip (instance method)">#<strong>zip</strong>(arg, ...)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Converts any arguments to arrays, then merges elements of <code>self</code>
with corresponding elements from each argument.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%7C-instance_method" title="#| (instance method)">#<strong>|</strong>(other_ary)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Set Union — Returns a new array by joining <code>ary</code> with
<code>other_ary</code>, excluding any duplicates and preserving the order
from the given arrays.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></h3>
  <p class="inherited"><a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>, <a href="Enumerable.html#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a>, <a href="Enumerable.html#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a>, <a href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a>, <a href="Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a>, <a href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a>, <a href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a>, <a href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a>, <a href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a>, <a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a>, <a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a>, <a href="Enumerable.html#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a>, <a href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a>, <a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a>, <a href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a>, <a href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>, <a href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>, <a href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>, <a href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a>, <a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a>, <a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>, <a href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a>, <a href="Enumerable.html#slice_after-instance_method" title="Enumerable#slice_after (method)">#slice_after</a>, <a href="Enumerable.html#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a>, <a href="Enumerable.html#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a>, <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  <span class='overload'>.<strong>new</strong>(size = 0, default = nil)  </span>
    <span class='overload'>.<strong>new</strong>(array)  </span>
    <span class='overload'>.<strong>new</strong>(size) {|index| ... } </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array.</p>

<p>In the first form, if no arguments are sent, the new array will be empty.
When a <code>size</code> and an optional <code>default</code> are sent, an
array is created with <code>size</code> copies of <code>default</code>. 
Take notice that all elements will reference the same object
<code>default</code>.</p>

<p>The second form creates a copy of the array passed as a parameter (the
array is generated by calling to_ary on the parameter).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_first_array'>first_array</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Matz</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Guido</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

<span class='id identifier rubyid_second_array'>second_array</span> <span class='op'>=</span> <span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_first_array'>first_array</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [&quot;Matz&quot;, &quot;Guido&quot;]
</span>
<span class='id identifier rubyid_first_array'>first_array</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span> <span class='id identifier rubyid_second_array'>second_array</span>       <span class='comment'>#=&gt; false
</span></code></pre>

<p>In the last form, an array of the given size is created.  Each element in
this array is created by passing the element&#39;s index to the given block
and storing the return value.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_index'>index</span><span class='op'>|</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>**</span> <span class='int'>2</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; [0, 1, 4]
</span></code></pre>

<h3 id="label-Common+gotchas">Common gotchas</h3>

<p>When sending the second parameter, the same object will be used as the
value for all the array elements:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Hash.html#new-class_method" title="Hash.new (method)">new</a></span><span class='rparen'>)</span>
<span class='comment'># =&gt; [{}, {}]
</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>feline</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [{&quot;cat&quot;=&gt;&quot;feline&quot;}, {&quot;cat&quot;=&gt;&quot;feline&quot;}]
</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Felix</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [{&quot;cat&quot;=&gt;&quot;Felix&quot;}, {&quot;cat&quot;=&gt;&quot;Felix&quot;}]
</span></code></pre>

<p>Since all the Array elements store the same hash, changes to one of them
will affect them all.</p>

<p>If multiple copies are what you want, you should use the block version
which uses the result of that block each time an element of the array needs
to be initialized:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Hash.html#new-class_method" title="Hash.new (method)">new</a></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>feline</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_a'>a</span> <span class='comment'># =&gt; [{&quot;cat&quot;=&gt;&quot;feline&quot;}, {}]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L721'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 721</span>

static VALUE
rb_ary_initialize(int argc, VALUE *argv, VALUE ary)
{
    long len;
    VALUE size, val;

    rb_ary_modify(ary);
    if (argc == 0) {
	if (ARY_OWNS_HEAP_P(ary) &amp;&amp; RARRAY_CONST_PTR(ary) != 0) {
	    ruby_sized_xfree((void *)RARRAY_CONST_PTR(ary), ARY_HEAP_SIZE(ary));
	}
        rb_ary_unshare_safe(ary);
        FL_SET_EMBED(ary);
	ARY_SET_EMBED_LEN(ary, 0);
	if (rb_block_given_p()) {
	    rb_warning(&quot;given block not used&quot;);
	}
	return ary;
    }
    rb_scan_args(argc, argv, &quot;02&quot;, &amp;size, &amp;val);
    if (argc == 1 &amp;&amp; !FIXNUM_P(size)) {
	val = rb_check_array_type(size);
	if (!NIL_P(val)) {
	    rb_ary_replace(ary, val);
	    return ary;
	}
    }

    len = NUM2LONG(size);
    /* NUM2LONG() may call size.to_int, ary can be frozen, modified, etc */
    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;negative array size&quot;);
    }
    if (len &gt; ARY_MAX_SIZE) {
	rb_raise(rb_eArgError, &quot;array size too big&quot;);
    }
    /* recheck after argument conversion */
    rb_ary_modify(ary);
    ary_resize_capa(ary, len);
    if (rb_block_given_p()) {
	long i;

	if (argc == 2) {
	    rb_warn(&quot;block supersedes default value argument&quot;);
	}
	for (i=0; i&lt;len; i++) {
	    rb_ary_store(ary, i, rb_yield(LONG2NUM(i)));
	    ARY_SET_LEN(ary, i + 1);
	}
    }
    else {
	ary_memfill(ary, 0, len, val);
	ARY_SET_LEN(ary, len);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="[]-class_method">
  <h3 class='signature first'>
  .<strong>[]</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array populated with the given objects.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='op'>[]</span><span class='lparen'>(</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^A</span><span class='regexp_end'>/</span></span> <span class='rparen'>)</span> <span class='comment'># =&gt; [1, &quot;a&quot;, /^A/]
</span><span class='const'><a href="" title="Array (class)">Array</a></span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^A</span><span class='regexp_end'>/</span></span> <span class='rbracket'>]</span>    <span class='comment'># =&gt; [1, &quot;a&quot;, /^A/]
</span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^A</span><span class='regexp_end'>/</span></span> <span class='rbracket'>]</span>         <span class='comment'># =&gt; [1, &quot;a&quot;, /^A/]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L786'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


786
787
788
789
790
791
792
793
794
795
796</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 786</span>

static VALUE
rb_ary_s_create(int argc, VALUE *argv, VALUE klass)
{
    VALUE ary = ary_new(klass, argc);
    if (argc &gt; 0 &amp;&amp; argv) {
        ary_memcpy(ary, 0, argc, argv);
        ARY_SET_LEN(ary, argc);
    }

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="try_convert-class_method">
  <h3 class='signature'>
  .<strong>try_convert</strong>(obj)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tries to convert <code>obj</code> into an array, using <code>to_ary</code>
method.  Returns the converted array or <code>nil</code> if
<code>obj</code> cannot be converted for any reason. This method can be
used to check if an argument is an array.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [1]
</span><span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; nil
</span>
<span class='kw'>if</span> <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
  <span class='comment'># the argument is an array
</span><span class='kw'>elsif</span> <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='const'><a href="String.html" title="String (class)">String</a></span><span class='period'>.</span><span class='id identifier rubyid_try_convert'><a href="String.html#try_convert-class_method" title="String.try_convert (method)">try_convert</a></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
  <span class='comment'># the argument is a string
</span><span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L659'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


659
660
661
662
663</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 659</span>

static VALUE
rb_ary_s_try_convert(VALUE dummy, VALUE ary)
{
    return rb_check_array_type(ary);
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="&-instance_method">
  <h3 class='signature first'>
  #<strong>&amp;</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set Intersection — Returns a new array containing unique elements common to
the two arrays. The order is preserved from the original array.</p>

<p>It compares elements using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for
efficiency.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>5</span> <span class='rbracket'>]</span> <span class='op'>&amp;</span> <span class='lbracket'>[</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span> <span class='rbracket'>]</span>                 <span class='comment'>#=&gt; [ 1, 3 ]
</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>z</span><span class='tstring_end'>&#39;</span></span> <span class='rbracket'>]</span> <span class='op'>&amp;</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> <span class='rbracket'>]</span>   <span class='comment'>#=&gt; [ &#39;a&#39;, &#39;b&#39; ]
</span></code></pre>

<p>See also <a href="#uniq-instance_method" title="Array#uniq (method)">#uniq</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4113'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4113
4114
4115
4116
4117
4118
4119
4120
4121
4122
4123
4124
4125
4126
4127
4128
4129
4130
4131
4132
4133
4134
4135
4136
4137</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4113</span>

static VALUE
rb_ary_and(VALUE ary1, VALUE ary2)
{
    VALUE hash, ary3, v;
    st_table *table;
    st_data_t vv;
    long i;

    ary2 = to_ary(ary2);
    ary3 = rb_ary_new();
    if (RARRAY_LEN(ary2) == 0) return ary3;
    hash = ary_make_hash(ary2);
    table = rb_hash_tbl_raw(hash);

    for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
	v = RARRAY_AREF(ary1, i);
	vv = (st_data_t)v;
	if (st_delete(table, &amp;vv, 0)) {
	    rb_ary_push(ary3, v);
	}
    }
    ary_recycle_hash(hash);

    return ary3;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="*-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>*</strong>(int)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>*</strong>(str)  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Repetition — With a String argument, equivalent to
<code>ary.join(str)</code>.</p>

<p>Otherwise, returns a new array built by concatenating the <code>int</code>
copies of <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span> <span class='op'>*</span> <span class='int'>3</span>    <span class='comment'>#=&gt; [ 1, 2, 3, 1, 2, 3, 1, 2, 3 ]
</span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>  <span class='comment'>#=&gt; &quot;1,2,3&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3668'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3668
3669
3670
3671
3672
3673
3674
3675
3676
3677
3678
3679
3680
3681
3682
3683
3684
3685
3686
3687
3688
3689
3690
3691
3692
3693
3694
3695
3696
3697
3698
3699
3700
3701
3702
3703
3704
3705
3706
3707
3708
3709
3710
3711
3712</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3668</span>

static VALUE
rb_ary_times(VALUE ary, VALUE times)
{
    VALUE ary2, tmp;
    const VALUE *ptr;
    long t, len;

    tmp = rb_check_string_type(times);
    if (!NIL_P(tmp)) {
	return rb_ary_join(ary, tmp);
    }

    len = NUM2LONG(times);
    if (len == 0) {
	ary2 = ary_new(rb_obj_class(ary), 0);
	goto out;
    }
    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;negative argument&quot;);
    }
    if (ARY_MAX_SIZE/len &lt; RARRAY_LEN(ary)) {
	rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }
    len *= RARRAY_LEN(ary);

    ary2 = ary_new(rb_obj_class(ary), len);
    ARY_SET_LEN(ary2, len);

    ptr = RARRAY_CONST_PTR(ary);
    t = RARRAY_LEN(ary);
    if (0 &lt; t) {
	ary_memcpy(ary2, 0, t, ptr);
	while (t &lt;= len/2) {
	    ary_memcpy(ary2, t, t, RARRAY_CONST_PTR(ary2));
            t *= 2;
        }
        if (t &lt; len) {
	    ary_memcpy(ary2, t, len-t, RARRAY_CONST_PTR(ary2));
        }
    }
  out:
    OBJ_INFECT(ary2, ary);

    return ary2;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="+-instance_method">
  <h3 class='signature'>
  #<strong>+</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Concatenation — Returns a new array built by concatenating the two arrays
together to produce a third array.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span> <span class='op'>+</span> <span class='lbracket'>[</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> <span class='rbracket'>]</span>    <span class='comment'>#=&gt; [ 1, 2, 3, 4, 5 ]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>f</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_c'>c</span>                         <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot; ]
</span><span class='id identifier rubyid_a'>a</span>                         <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
</span></code></pre>

<p>Note that</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='id identifier rubyid_y'>y</span>
</code></pre>

<p>is the same as</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='id identifier rubyid_y'>y</span>
</code></pre>

<p>This means that it produces a new array. As a consequence, repeated use of
<code>+=</code> on arrays can be quite inefficient.</p>

<p>See also <a href="#concat-instance_method" title="Array#concat (method)">#concat</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3607'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3607
3608
3609
3610
3611
3612
3613
3614
3615
3616
3617
3618
3619
3620
3621
3622
3623</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3607</span>

VALUE
rb_ary_plus(VALUE x, VALUE y)
{
    VALUE z;
    long len, xlen, ylen;

    y = to_ary(y);
    xlen = RARRAY_LEN(x);
    ylen = RARRAY_LEN(y);
    len = xlen + ylen;
    z = rb_ary_new2(len);

    ary_memcpy(z, 0, xlen, RARRAY_CONST_PTR(x));
    ary_memcpy(z, xlen, ylen, RARRAY_CONST_PTR(y));
    ARY_SET_LEN(z, len);
    return z;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="--instance_method">
  <h3 class='signature'>
  #<strong>-</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Array Difference</p>

<p>Returns a new array that is a copy of the original array, removing any
items that also appear in <code>other_ary</code>. The order is preserved
from the original array.</p>

<p>It compares elements using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for
efficiency.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> <span class='rbracket'>]</span> <span class='op'>-</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>4</span> <span class='rbracket'>]</span>  <span class='comment'>#=&gt;  [ 3, 3, 5 ]
</span></code></pre>

<p>If you need set-like behavior, see the library class Set.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4079'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4079
4080
4081
4082
4083
4084
4085
4086
4087
4088
4089
4090
4091
4092
4093
4094
4095</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4079</span>

static VALUE
rb_ary_diff(VALUE ary1, VALUE ary2)
{
    VALUE ary3;
    VALUE hash;
    long i;

    hash = ary_make_hash(to_ary(ary2));
    ary3 = rb_ary_new();

    for (i=0; i&lt;RARRAY_LEN(ary1); i++) {
	if (st_lookup(rb_hash_tbl_raw(hash), RARRAY_AREF(ary1, i), 0)) continue;
	rb_ary_push(ary3, rb_ary_elt(ary1, i));
    }
    ary_recycle_hash(hash);
    return ary3;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="<<-instance_method">
  <h3 class='signature'>
  #<strong>&lt;&lt;</strong>(obj)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Append—Pushes the given object on to the end of this array. This expression
returns the array itself, so several appends may be chained together.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span> <span class='rbracket'>]</span>
        <span class='comment'>#=&gt;  [ 1, 2, &quot;c&quot;, &quot;d&quot;, [ 3, 4 ] ]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L904'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


904
905
906
907
908
909
910
911
912
913
914</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 904</span>

VALUE
rb_ary_push(VALUE ary, VALUE item)
{
    long idx = RARRAY_LEN(ary);
    VALUE target_ary = ary_ensure_room_for_push(ary, 1);
    RARRAY_PTR_USE(ary, ptr, {
	RB_OBJ_WRITE(target_ary, &amp;ptr[idx], item);
    });
    ARY_SET_LEN(ary, idx + 1);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="<=>-instance_method">
  <h3 class='signature'>
  #<strong>&lt;=&gt;</strong>(other_ary)  &#x21d2; <tt>-1</tt>, ... 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Comparison — Returns an integer (<code>-1</code>, <code>0</code>, or
<code>+1</code>) if this array is less than, equal to, or greater than
<code>other_ary</code>.</p>

<p>Each object in each array is compared (using the &lt;=&gt; operator).</p>

<p>Arrays are compared in an “element-wise” manner; the first element of
<code>ary</code> is compared with the first one of <code>other_ary</code>
using the &lt;=&gt; operator, then each of the second elements, etc… As
soon as the result of any such comparison is non zero (i.e. the two
corresponding elements are not equal), that result is returned for the
whole array comparison.</p>

<p>If all the elements are equal, then the result is based on a comparison of
the array lengths. Thus, two arrays are “equal” according to
<a href="#%3C%3D%3E-instance_method" title="Array#&lt;=&gt; (method)">#&lt;=&gt;</a> if, and only if, they have the same length and the value
of each element is equal to the value of the corresponding element in the
other array.</p>

<p><code>nil</code> is returned if the <code>other_ary</code> is not an array
or if the comparison of two elements returned <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>    <span class='op'>&lt;=&gt;</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>   <span class='comment'>#=&gt; -1
</span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span> <span class='rbracket'>]</span> <span class='op'>&lt;=&gt;</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='rbracket'>]</span>            <span class='comment'>#=&gt; +1
</span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='rbracket'>]</span>             <span class='op'>&lt;=&gt;</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbol'>:two</span> <span class='rbracket'>]</span>         <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3987'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3987
3988
3989
3990
3991
3992
3993
3994
3995
3996
3997
3998
3999
4000
4001
4002</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3987</span>

VALUE
rb_ary_cmp(VALUE ary1, VALUE ary2)
{
    long len;
    VALUE v;

    ary2 = rb_check_array_type(ary2);
    if (NIL_P(ary2)) return Qnil;
    if (ary1 == ary2) return INT2FIX(0);
    v = rb_exec_recursive_paired(recursive_cmp, ary1, ary2, ary2);
    if (v != Qundef) return v;
    len = RARRAY_LEN(ary1) - RARRAY_LEN(ary2);
    if (len == 0) return INT2FIX(0);
    if (len &gt; 0) return INT2FIX(1);
    return INT2FIX(-1);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="==-instance_method">
  <h3 class='signature'>
  #<strong>==</strong>(other_ary)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equality — Two arrays are equal if they contain the same number of elements
and if each element is equal to (according to <a href="BasicObject.html#%3D%3D-instance_method" title="BasicObject#== (method)">BasicObject#==</a>) the
corresponding element in <code>other_ary</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>    <span class='op'>==</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>7</span> <span class='rbracket'>]</span>     <span class='comment'>#=&gt; false
</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>7</span> <span class='rbracket'>]</span> <span class='op'>==</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>7</span> <span class='rbracket'>]</span>     <span class='comment'>#=&gt; true
</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>7</span> <span class='rbracket'>]</span> <span class='op'>==</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>f</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>   <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3830'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3830
3831
3832
3833
3834
3835
3836
3837
3838
3839
3840
3841
3842
3843</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3830</span>

static VALUE
rb_ary_equal(VALUE ary1, VALUE ary2)
{
    if (ary1 == ary2) return Qtrue;
    if (!RB_TYPE_P(ary2, T_ARRAY)) {
	if (!rb_respond_to(ary2, idTo_ary)) {
	    return Qfalse;
	}
	return rb_equal(ary2, ary1);
    }
    if (RARRAY_LEN(ary1) != RARRAY_LEN(ary2)) return Qfalse;
    if (RARRAY_CONST_PTR(ary1) == RARRAY_CONST_PTR(ary2)) return Qtrue;
    return rb_exec_recursive_paired(recursive_equal, ary1, ary2, ary2);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="[]-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>slice</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>slice</strong>(start, length)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>slice</strong>(range)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
  <span class='aliases'>Also known as: <span class='names'><span>slice</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Element Reference — Returns the element at <code>index</code>, or returns a
subarray starting at the <code>start</code> index and continuing for
<code>length</code> elements, or returns a subarray specified by
<code>range</code> of indices.</p>

<p>Negative indices count backward from the end of the array (-1 is the last
element).  For <code>start</code> and <code>range</code> cases the starting
index is just before an element.  Additionally, an empty array is returned
when the starting index for an element range is at the end of the array.</p>

<p>Returns <code>nil</code> if the index (or starting index) are out of range.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span> <span class='op'>+</span>  <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>    <span class='comment'>#=&gt; &quot;cab&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>6</span><span class='rbracket'>]</span>                   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>                <span class='comment'>#=&gt; [ &quot;b&quot;, &quot;c&quot; ]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='int'>3</span><span class='rbracket'>]</span>                <span class='comment'>#=&gt; [ &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>4</span><span class='op'>..</span><span class='int'>7</span><span class='rbracket'>]</span>                <span class='comment'>#=&gt; [ &quot;e&quot; ]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>6</span><span class='op'>..</span><span class='int'>10</span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; [ &quot;c&quot;, &quot;d&quot;, &quot;e&quot; ]
</span><span class='comment'># special cases
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span>                   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>6</span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>                <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>5</span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>                <span class='comment'>#=&gt; []
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>5</span><span class='op'>..</span><span class='int'>10</span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; []
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1265'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1265
1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281
1282
1283
1284
1285
1286
1287
1288
1289
1290
1291
1292
1293
1294
1295
1296
1297</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1265</span>

VALUE
rb_ary_aref(int argc, const VALUE *argv, VALUE ary)
{
    VALUE arg;
    long beg, len;

    if (argc == 2) {
	beg = NUM2LONG(argv[0]);
	len = NUM2LONG(argv[1]);
	if (beg &lt; 0) {
	    beg += RARRAY_LEN(ary);
	}
	return rb_ary_subseq(ary, beg, len);
    }
    if (argc != 1) {
	rb_scan_args(argc, argv, &quot;11&quot;, NULL, NULL);
    }
    arg = argv[0];
    /* special case - speeding up */
    if (FIXNUM_P(arg)) {
	return rb_ary_entry(ary, FIX2LONG(arg));
    }
    /* check if idx is Range */
    switch (rb_range_beg_len(arg, &amp;beg, &amp;len, RARRAY_LEN(ary), 0)) {
      case Qfalse:
	break;
      case Qnil:
	return Qnil;
      default:
	return rb_ary_subseq(ary, beg, len);
    }
    return rb_ary_entry(ary, NUM2LONG(arg));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="[]=-instance_method">
  <h3 class='signature'>
  #<strong>[]=</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Element Assignment — Sets the element at <code>index</code>, or replaces a
subarray from the <code>start</code> index for <code>length</code>
elements, or replaces a subarray specified by the <code>range</code> of
indices.</p>

<p>If indices are greater than the current capacity of the array, the array
grows automatically.  Elements are inserted into the array at
<code>start</code> if <code>length</code> is zero.</p>

<p>Negative indices will count backward from the end of the array.  For
<code>start</code> and <code>range</code> cases the starting index is just
before an element.</p>

<p>An IndexError is raised if a negative index points past the beginning of
the array.</p>

<p>See also <a href="#push-instance_method" title="Array#push (method)">#push</a>, and <a href="#unshift-instance_method" title="Array#unshift (method)">#unshift</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'><a href="" title="Array (class)">Array</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Array.new (method)">new</a></span>
<span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>4</span><span class='tstring_end'>&quot;</span></span><span class='semicolon'>;</span>                 <span class='comment'>#=&gt; [nil, nil, nil, nil, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> <span class='rbracket'>]</span> <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, nil, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='int'>2</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='rbracket'>]</span>          <span class='comment'>#=&gt; [&quot;a&quot;, 1, 2, nil, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>               <span class='comment'>#=&gt; [&quot;?&quot;, 2, nil, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='int'>2</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A</span><span class='tstring_end'>&quot;</span></span>               <span class='comment'>#=&gt; [&quot;A&quot;, &quot;4&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Z</span><span class='tstring_end'>&quot;</span></span>               <span class='comment'>#=&gt; [&quot;A&quot;, &quot;Z&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>              <span class='comment'>#=&gt; [&quot;A&quot;, nil]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>               <span class='comment'>#=&gt; [&quot;A&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='rbracket'>]</span>          <span class='comment'>#=&gt; [1, 2, &quot;A&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B</span><span class='tstring_end'>&quot;</span></span>               <span class='comment'>#=&gt; [1, 2, &quot;A&quot;, &quot;B&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1723'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1723
1724
1725
1726
1727
1728
1729
1730
1731
1732
1733
1734
1735
1736
1737
1738
1739
1740
1741
1742
1743
1744
1745
1746
1747
1748
1749
1750
1751</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1723</span>

static VALUE
rb_ary_aset(int argc, VALUE *argv, VALUE ary)
{
    long offset, beg, len;

    if (argc == 3) {
	rb_ary_modify_check(ary);
	beg = NUM2LONG(argv[0]);
	len = NUM2LONG(argv[1]);
	rb_ary_splice(ary, beg, len, argv[2]);
	return argv[2];
    }
    rb_check_arity(argc, 2, 2);
    rb_ary_modify_check(ary);
    if (FIXNUM_P(argv[0])) {
	offset = FIX2LONG(argv[0]);
	goto fixnum;
    }
    if (rb_range_beg_len(argv[0], &amp;beg, &amp;len, RARRAY_LEN(ary), 1)) {
	/* check if idx is Range */
	rb_ary_splice(ary, beg, len, argv[1]);
	return argv[1];
    }

    offset = NUM2LONG(argv[0]);
fixnum:
    rb_ary_store(ary, offset, argv[1]);
    return argv[1];
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="any?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>any?</strong> {|obj| ... } &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>any?</strong>  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>See also <a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">Enumerable#any?</a></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5610'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5610
5611
5612
5613
5614
5615
5616
5617
5618
5619
5620
5621
5622
5623
5624
5625
5626</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5610</span>

static VALUE
rb_ary_any_p(VALUE ary)
{
    long i, len = RARRAY_LEN(ary);
    const VALUE *ptr = RARRAY_CONST_PTR(ary);

    if (!len) return Qfalse;
    if (!rb_block_given_p()) {
	for (i = 0; i &lt; len; ++i) if (RTEST(ptr[i])) return Qtrue;
    }
    else {
	for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
	    if (RTEST(rb_yield(RARRAY_AREF(ary, i)))) return Qtrue;
	}
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="assoc-instance_method">
  <h3 class='signature'>
  #<strong>assoc</strong>(obj)  &#x21d2; <tt>element_ary</tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Searches through an array whose elements are also arrays comparing
<code>obj</code> with the first element of each contained array using
<code>obj.==</code>.</p>

<p>Returns the first contained array that matches (that is, the first
associated array), or <code>nil</code> if no match is found.</p>

<p>See also <a href="#rassoc-instance_method" title="Array#rassoc (method)">#rassoc</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s1'>s1</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>colors</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>red</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>blue</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>green</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_s2'>s2</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>letters</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_s3'>s3</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_a'>a</span>  <span class='op'>=</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_s1'>s1</span><span class='comma'>,</span> <span class='id identifier rubyid_s2'>s2</span><span class='comma'>,</span> <span class='id identifier rubyid_s3'>s3</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_assoc'>assoc</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>letters</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [ &quot;letters&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_assoc'>assoc</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>      <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3734'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3734
3735
3736
3737
3738
3739
3740
3741
3742
3743
3744
3745
3746
3747</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3734</span>

VALUE
rb_ary_assoc(VALUE ary, VALUE key)
{
    long i;
    VALUE v;

    for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
	v = rb_check_array_type(RARRAY_AREF(ary, i));
	if (!NIL_P(v) &amp;&amp; RARRAY_LEN(v) &gt; 0 &amp;&amp;
	    rb_equal(RARRAY_AREF(v, 0), key))
	    return v;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="at-instance_method">
  <h3 class='signature'>
  #<strong>at</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the element at <code>index</code>. A negative index counts from the
end of <code>self</code>. Returns <code>nil</code> if the index is out of
range. See also <a href="#%5B%5D-instance_method" title="Array#[] (method)">#[]</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; &quot;a&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;e&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1312'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1312
1313
1314
1315
1316</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1312</span>

VALUE
rb_ary_at(VALUE ary, VALUE pos)
{
    return rb_ary_entry(ary, NUM2LONG(pos));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="bsearch-instance_method">
  <h3 class='signature'>
  #<strong>bsearch</strong> {|x| ... } &#x21d2; <tt>elem</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>By using binary search, finds a value from this array which meets the given
condition in O(log n) where n is the size of the array.</p>

<p>You can use this method in two use cases: a find-minimum mode and a
find-any mode.  In either case, the elements of the array must be monotone
(or sorted) with respect to the block.</p>

<p>In find-minimum mode (this is a good choice for typical use case), the
block must return true or false, and there must be an index i (0 &lt;= i
&lt;= ary.size) so that:</p>
<ul><li>
<p>the block returns false for any element whose index is less than i, and</p>
</li><li>
<p>the block returns true for any element whose index is greater than or equal
to i.</p>
</li></ul>

<p>This method returns the i-th element.  If i is equal to ary.size, it
returns nil.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>12</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_bsearch'>bsearch</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span>   <span class='int'>4</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_bsearch'>bsearch</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span>   <span class='int'>6</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; 7
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_bsearch'>bsearch</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span>  <span class='op'>-</span><span class='int'>1</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; 0
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_bsearch'>bsearch</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span> <span class='int'>100</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; nil
</span></code></pre>

<p>In find-any mode (this behaves like libc&#39;s bsearch(3)), the block must
return a number, and there must be two indices i and j (0 &lt;= i &lt;= j
&lt;= ary.size) so that:</p>
<ul><li>
<p>the block returns a positive number for <a href="k">ary</a> if 0 &lt;= k
&lt; i,</p>
</li><li>
<p>the block returns zero for <a href="k">ary</a> if i &lt;= k &lt; j, and</p>
</li><li>
<p>the block returns a negative number for <a href="k">ary</a> if j &lt;= k
&lt; ary.size.</p>
</li></ul>

<p>Under this condition, this method returns any element whose index is within
i…j.  If i is equal to j (i.e., there is no element that satisfies the
block), this method returns nil.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>12</span><span class='rbracket'>]</span>
<span class='comment'># try to find v such that 4 &lt;= v &lt; 8
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_bsearch'>bsearch</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='int'>1</span> <span class='op'>-</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>/</span> <span class='int'>4</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; 4 or 7
</span><span class='comment'># try to find v such that 8 &lt;= v &lt; 10
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_bsearch'>bsearch</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='int'>4</span> <span class='op'>-</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>/</span> <span class='int'>2</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; nil
</span></code></pre>

<p>You must not mix the two modes at a time; the block must always return
either true/false, or always return a number.  It is undefined which value
is actually picked up at each iteration.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2590'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2590
2591
2592
2593
2594
2595
2596
2597
2598
2599</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2590</span>

static VALUE
rb_ary_bsearch(VALUE ary)
{
    VALUE index_result = rb_ary_bsearch_index(ary);

    if (FIXNUM_P(index_result)) {
	return rb_ary_entry(ary, FIX2LONG(index_result));
    }
    return index_result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="bsearch_index-instance_method">
  <h3 class='signature'>
  #<strong>bsearch_index</strong> {|x| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>By using binary search, finds an index of a value from this array which
meets the given condition in O(log n) where n is the size of the array.</p>

<p>It supports two modes, depending on the nature of the block and they are
exactly the same as in the case of <a href="#bsearch-instance_method" title="Array#bsearch (method)">#bsearch</a> method with the only
difference being that this method returns the index of the element instead
of the element itself. For more details consult the documentation for
<a href="#bsearch-instance_method" title="Array#bsearch (method)">#bsearch</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2614'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2614
2615
2616
2617
2618
2619
2620
2621
2622
2623
2624
2625
2626
2627
2628
2629
2630
2631
2632
2633
2634
2635
2636
2637
2638
2639
2640
2641
2642
2643
2644
2645
2646
2647
2648
2649
2650
2651
2652
2653
2654
2655
2656
2657
2658
2659</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2614</span>

static VALUE
rb_ary_bsearch_index(VALUE ary)
{
    long low = 0, high = RARRAY_LEN(ary), mid;
    int smaller = 0, satisfied = 0;
    VALUE v, val;

    RETURN_ENUMERATOR(ary, 0, 0);
    while (low &lt; high) {
	mid = low + ((high - low) / 2);
	val = rb_ary_entry(ary, mid);
	v = rb_yield(val);
	if (FIXNUM_P(v)) {
	    if (v == INT2FIX(0)) return INT2FIX(mid);
	    smaller = (SIGNED_VALUE)v &lt; 0; /* Fixnum preserves its sign-bit */
	}
	else if (v == Qtrue) {
	    satisfied = 1;
	    smaller = 1;
	}
	else if (v == Qfalse || v == Qnil) {
	    smaller = 0;
	}
	else if (rb_obj_is_kind_of(v, rb_cNumeric)) {
	    const VALUE zero = INT2FIX(0);
	    switch (rb_cmpint(rb_funcallv(v, id_cmp, 1, &amp;zero), v, zero)) {
	      case 0: return INT2FIX(mid);
	      case 1: smaller = 1; break;
	      case -1: smaller = 0;
	    }
	}
	else {
	    rb_raise(rb_eTypeError, &quot;wrong argument type %&quot;PRIsVALUE
		     &quot; (must be numeric, true, false or nil)&quot;,
		     rb_obj_class(v));
	}
	if (smaller) {
	    high = mid;
	}
	else {
	    low = mid + 1;
	}
    }
    if (!satisfied) return Qnil;
    return INT2FIX(low);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="clear-instance_method">
  <h3 class='signature'>
  #<strong>clear</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes all elements from <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>    <span class='comment'>#=&gt; [ ]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3473'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3473
3474
3475
3476
3477
3478
3479
3480
3481
3482
3483
3484
3485
3486
3487
3488</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3473</span>

VALUE
rb_ary_clear(VALUE ary)
{
    rb_ary_modify_check(ary);
    ARY_SET_LEN(ary, 0);
    if (ARY_SHARED_P(ary)) {
	if (!ARY_EMBED_P(ary)) {
	    rb_ary_unshare(ary);
	    FL_SET_EMBED(ary);
	}
    }
    else if (ARY_DEFAULT_SIZE * 2 &lt; ARY_CAPA(ary)) {
	ary_resize_capa(ary, ARY_DEFAULT_SIZE * 2);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="collect-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>collect</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>map</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>collect</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>map</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#map-instance_method" title="Array#map (method)">#map</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="collect!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>collect!</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>map!</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>collect!</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>map!</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#map%21-instance_method" title="Array#map! (method)">#map!</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="combination-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>combination</strong>(n) {|c| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>combination</strong>(n)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When invoked with a block, yields all combinations of length <code>n</code>
of elements from the array and then returns the array itself.</p>

<p>The implementation makes no guarantees about the order in which the
combinations are yielded.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1],[2],[3],[4]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1,2],[1,3],[1,4],[2,3],[2,4],[3,4]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1,2,3],[1,2,4],[1,3,4],[2,3,4]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1,2,3,4]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[]] # one combination of length 0
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; []   # no combinations of length 5
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5145'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5145
5146
5147
5148
5149
5150
5151
5152
5153
5154
5155
5156
5157
5158
5159
5160
5161
5162
5163
5164
5165
5166
5167
5168
5169
5170
5171
5172
5173
5174
5175</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5145</span>

static VALUE
rb_ary_combination(VALUE ary, VALUE num)
{
    long i, n, len;

    n = NUM2LONG(num);
    RETURN_SIZED_ENUMERATOR(ary, 1, &amp;num, rb_ary_combination_size);
    len = RARRAY_LEN(ary);
    if (n &lt; 0 || len &lt; n) {
	/* yield nothing */
    }
    else if (n == 0) {
	rb_yield(rb_ary_new2(0));
    }
    else if (n == 1) {
	for (i = 0; i &lt; len; i++) {
	    rb_yield(rb_ary_new3(1, RARRAY_AREF(ary, i)));
	}
    }
    else {
	VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
	volatile VALUE t0;
	long *stack = ALLOCV_N(long, t0, n+1);

	RBASIC_CLEAR_CLASS(ary0);
	combinate0(len, n, stack, ary0);
	ALLOCV_END(t0);
	RBASIC_SET_CLASS_RAW(ary0, rb_cArray);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="compact-instance_method">
  <h3 class='signature'>
  #<strong>compact</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a copy of <code>self</code> with all <code>nil</code> elements
removed.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
                  <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4444'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4444
4445
4446
4447
4448
4449
4450</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4444</span>

static VALUE
rb_ary_compact(VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_compact_bang(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="compact!-instance_method">
  <h3 class='signature'>
  #<strong>compact!</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes <code>nil</code> elements from the array.</p>

<p>Returns <code>nil</code> if no changes were made, otherwise returns the
array.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span> <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>           <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4411'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4411
4412
4413
4414
4415
4416
4417
4418
4419
4420
4421
4422
4423
4424
4425
4426
4427
4428
4429
4430
4431
4432</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4411</span>

static VALUE
rb_ary_compact_bang(VALUE ary)
{
    VALUE *p, *t, *end;
    long n;

    rb_ary_modify(ary);
    p = t = (VALUE *)RARRAY_CONST_PTR(ary); /* WB: no new reference */
    end = p + RARRAY_LEN(ary);

    while (t &lt; end) {
	if (NIL_P(*t)) t++;
	else *p++ = *t++;
    }
    n = p - RARRAY_CONST_PTR(ary);
    if (RARRAY_LEN(ary) == n) {
	return Qnil;
    }
    ary_resize_smaller(ary, n);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="concat-instance_method">
  <h3 class='signature'>
  #<strong>concat</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Appends the elements of <code>other_ary</code> to <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='rparen'>)</span> <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span> <span class='lbracket'>[</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> <span class='rbracket'>]</span> <span class='rparen'>)</span>
<span class='id identifier rubyid_a'>a</span>                                 <span class='comment'>#=&gt; [ 1, 2, 3, 4, 5 ]
</span></code></pre>

<p>See also <a href="#%2B-instance_method" title="Array#+ (method)">#+</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3639'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3639
3640
3641
3642
3643
3644
3645
3646
3647
3648</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3639</span>

VALUE
rb_ary_concat(VALUE x, VALUE y)
{
    rb_ary_modify_check(x);
    y = to_ary(y);
    if (RARRAY_LEN(y) &gt; 0) {
	rb_ary_splice(x, RARRAY_LEN(x), 0, y);
    }
    return x;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="count-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>count</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
    <span class='overload'>#<strong>count</strong>(obj)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
    <span class='overload'>#<strong>count</strong> {|item| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the number of elements.</p>

<p>If an argument is given, counts the number of elements which equal
<code>obj</code> using <code>==</code>.</p>

<p>If a block is given, counts the number of elements for which the block
returns a true value.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>                  <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>               <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='op'>%</span><span class='int'>2</span> <span class='op'>==</span> <span class='int'>0</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; 3
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4473'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4473
4474
4475
4476
4477
4478
4479
4480
4481
4482
4483
4484
4485
4486
4487
4488
4489
4490
4491
4492
4493
4494
4495
4496
4497
4498
4499
4500
4501
4502</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4473</span>

static VALUE
rb_ary_count(int argc, VALUE *argv, VALUE ary)
{
    long i, n = 0;

    if (argc == 0) {
	VALUE v;

	if (!rb_block_given_p())
	    return LONG2NUM(RARRAY_LEN(ary));

	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    v = RARRAY_AREF(ary, i);
	    if (RTEST(rb_yield(v))) n++;
	}
    }
    else {
	VALUE obj;

	rb_scan_args(argc, argv, &quot;1&quot;, &amp;obj);
	if (rb_block_given_p()) {
	    rb_warn(&quot;given block not used&quot;);
	}
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    if (rb_equal(RARRAY_AREF(ary, i), obj)) n++;
	}
    }

    return LONG2NUM(n);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cycle-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>cycle</strong>(n = nil) {|obj| ... } &#x21d2; <tt>nil</tt> </span>
    <span class='overload'>#<strong>cycle</strong>(n = nil)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calls the given block for each element <code>n</code> times or forever if
<code>nil</code> is given.</p>

<p>Does nothing if a non-positive number is given or the array is empty.</p>

<p>Returns <code>nil</code> if the loop has finished without getting
interrupted.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>     <span class='comment'># print, a, b, c, a, b, c,.. forever.
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>  <span class='comment'># print, a, b, c, a, b, c.
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4889'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4889
4890
4891
4892
4893
4894
4895
4896
4897
4898
4899
4900
4901
4902
4903
4904
4905
4906
4907
4908
4909
4910
4911
4912</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4889</span>

static VALUE
rb_ary_cycle(int argc, VALUE *argv, VALUE ary)
{
    long n, i;
    VALUE nv = Qnil;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;nv);

    RETURN_SIZED_ENUMERATOR(ary, argc, argv, rb_ary_cycle_size);
    if (NIL_P(nv)) {
        n = -1;
    }
    else {
        n = NUM2LONG(nv);
        if (n &lt;= 0) return Qnil;
    }

    while (RARRAY_LEN(ary) &gt; 0 &amp;&amp; (n &lt; 0 || 0 &lt; n--)) {
        for (i=0; i&lt;RARRAY_LEN(ary); i++) {
            rb_yield(RARRAY_AREF(ary, i));
        }
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="delete-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>delete</strong>(obj)  &#x21d2; <tt>item</tt><sup>?</sup> </span>
    <span class='overload'>#<strong>delete</strong>(obj)  &#x21d2; <tt>item</tt>, <tt>result of block</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes all items from <code>self</code> that are equal to
<code>obj</code>.</p>

<p>Returns the last deleted item, or <code>nil</code> if no matching item is
found.</p>

<p>If the optional code block is given, the result of the block is returned if
the item is not found.  (To remove <code>nil</code> elements and get an
informative return value, use <a href="#compact%21-instance_method" title="Array#compact! (method)">#compact!</a>)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>                   <span class='comment'>#=&gt; &quot;b&quot;
</span><span class='id identifier rubyid_a'>a</span>                               <span class='comment'>#=&gt; [&quot;a&quot;, &quot;c&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>                   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not found</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; &quot;not found&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2978'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2978
2979
2980
2981
2982
2983
2984
2985
2986
2987
2988
2989
2990
2991
2992
2993
2994
2995
2996
2997
2998
2999
3000
3001
3002
3003
3004
3005
3006</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2978</span>

VALUE
rb_ary_delete(VALUE ary, VALUE item)
{
    VALUE v = item;
    long i1, i2;

    for (i1 = i2 = 0; i1 &lt; RARRAY_LEN(ary); i1++) {
	VALUE e = RARRAY_AREF(ary, i1);

	if (rb_equal(e, item)) {
	    v = e;
	    continue;
	}
	if (i1 != i2) {
	    rb_ary_store(ary, i2, e);
	}
	i2++;
    }
    if (RARRAY_LEN(ary) == i2) {
	if (rb_block_given_p()) {
	    return rb_yield(item);
	}
	return Qnil;
    }

    ary_resize_smaller(ary, i2);

    return v;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="delete_at-instance_method">
  <h3 class='signature'>
  #<strong>delete_at</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes the element at the specified <code>index</code>, returning that
element, or <code>nil</code> if the <code>index</code> is out of range.</p>

<p>See also <a href="#slice%21-instance_method" title="Array#slice! (method)">#slice!</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ant</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dog</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;cat&quot;
</span><span class='id identifier rubyid_a'>a</span>                 <span class='comment'>#=&gt; [&quot;ant&quot;, &quot;bat&quot;, &quot;dog&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='int'>99</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3068'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3068
3069
3070
3071
3072</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3068</span>

static VALUE
rb_ary_delete_at_m(VALUE ary, VALUE pos)
{
    return rb_ary_delete_at(ary, NUM2LONG(pos));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="delete_if-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>delete_if</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>delete_if</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes every element of <code>self</code> for which block evaluates to
<code>true</code>.</p>

<p>The array is changed instantly every time the block is called, not after
the iteration is over.</p>

<p>See also <a href="#reject%21-instance_method" title="Array#reject! (method)">#reject!</a></p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_scores'>scores</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>97</span><span class='comma'>,</span> <span class='int'>42</span><span class='comma'>,</span> <span class='int'>75</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_scores'>scores</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_score'>score</span><span class='op'>|</span> <span class='id identifier rubyid_score'>score</span> <span class='op'>&lt;</span> <span class='int'>80</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [97]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3253'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3253
3254
3255
3256
3257
3258
3259</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3253</span>

static VALUE
rb_ary_delete_if(VALUE ary)
{
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    ary_reject_bang(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dig-instance_method">
  <h3 class='signature'>
  #<strong>dig</strong>(idx, ...)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Extracts the nested value specified by the sequence of <em>idx</em> objects
by calling <code>dig</code> at each step, returning <code>nil</code> if any
intermediate step is <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rbracket'>]</span>

<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>                    <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rparen'>)</span>                    <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>                    <span class='comment'>#=&gt; TypeError: Fixnum does not have #dig method
</span><span class='lbracket'>[</span><span class='int'>42</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>foo:</span> <span class='symbol'>:bar</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='symbol'>:foo</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; :bar
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5644'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5644
5645
5646
5647
5648
5649
5650
5651
5652</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5644</span>

VALUE
rb_ary_dig(int argc, VALUE *argv, VALUE self)
{
    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    self = rb_ary_at(self, *argv);
    if (!--argc) return self;
    ++argv;
    return rb_obj_dig(argc, argv, self, Qnil);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="drop-instance_method">
  <h3 class='signature'>
  #<strong>drop</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Drops first <code>n</code> elements from <code>ary</code> and returns the
rest of the elements in an array.</p>

<p>If a negative number is given, raises an ArgumentError.</p>

<p>See also <a href="#take-instance_method" title="Array#take (method)">#take</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_drop'>drop</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>             <span class='comment'>#=&gt; [4, 5, 0]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5559'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5559
5560
5561
5562
5563
5564
5565
5566
5567
5568
5569
5570
5571</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5559</span>

static VALUE
rb_ary_drop(VALUE ary, VALUE n)
{
    VALUE result;
    long pos = NUM2LONG(n);
    if (pos &lt; 0) {
	rb_raise(rb_eArgError, &quot;attempt to drop negative size&quot;);
    }

    result = rb_ary_subseq(ary, pos, RARRAY_LEN(ary));
    if (result == Qnil) result = rb_ary_new();
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="drop_while-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>drop_while</strong> {|obj| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>drop_while</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Drops elements up to, but not including, the first element for which the
block returns <code>nil</code> or <code>false</code> and returns an array
containing the remaining elements.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<p>See also <a href="#take_while-instance_method" title="Array#take_while (method)">#take_while</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_drop_while'>drop_while</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [3, 4, 5, 0]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5591'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5591
5592
5593
5594
5595
5596
5597
5598
5599
5600
5601</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5591</span>

static VALUE
rb_ary_drop_while(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	if (!RTEST(rb_yield(RARRAY_AREF(ary, i)))) break;
    }
    return rb_ary_drop(ary, LONG2FIX(i));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>each</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calls the given block once for each element in <code>self</code>, passing
that element as a parameter.  Returns the array itself.</p>

<p>If no block is given, an Enumerator is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> -- </span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
</code></pre>

<p>produces:</p>

<pre class="code ruby"><code class="ruby">a -- b -- c --</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1815'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1815
1816
1817
1818
1819
1820
1821
1822
1823
1824
1825</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1815</span>

VALUE
rb_ary_each(VALUE ary)
{
    long i;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	rb_yield(RARRAY_AREF(ary, i));
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_index-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_index</strong> {|index| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>each_index</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Same as <a href="#each-instance_method" title="Array#each (method)">#each</a>, but passes the <code>index</code> of the element
instead of the element itself.</p>

<p>An Enumerator is returned if no block is given.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_each_index'>each_index</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> -- </span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
</code></pre>

<p>produces:</p>

<pre class="code ruby"><code class="ruby">0 -- 1 -- 2 --</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1845'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1845
1846
1847
1848
1849
1850
1851
1852
1853
1854
1855</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1845</span>

static VALUE
rb_ary_each_index(VALUE ary)
{
    long i;
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);

    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	rb_yield(LONG2NUM(i));
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="empty?-instance_method">
  <h3 class='signature'>
  #<strong>empty?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if <code>self</code> contains no elements.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>   <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1916'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1916
1917
1918
1919
1920
1921
1922</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1916</span>

static VALUE
rb_ary_empty_p(VALUE ary)
{
    if (RARRAY_LEN(ary) == 0)
	return Qtrue;
    return Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="eql?-instance_method">
  <h3 class='signature'>
  #<strong>eql?</strong>(other)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if <code>self</code> and <code>other</code> are
the same object, or are both arrays with the same content (according to
<a href="Object.html#eql%3F-instance_method" title="Object#eql? (method)">Object#eql?</a>).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3866'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3866
3867
3868
3869
3870
3871
3872
3873
3874</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3866</span>

static VALUE
rb_ary_eql(VALUE ary1, VALUE ary2)
{
    if (ary1 == ary2) return Qtrue;
    if (!RB_TYPE_P(ary2, T_ARRAY)) return Qfalse;
    if (RARRAY_LEN(ary1) != RARRAY_LEN(ary2)) return Qfalse;
    if (RARRAY_CONST_PTR(ary1) == RARRAY_CONST_PTR(ary2)) return Qtrue;
    return rb_exec_recursive_paired(recursive_eql, ary1, ary2, ary2);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="fetch-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>fetch</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>fetch</strong>(index, default)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>fetch</strong>(index) {|index| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tries to return the element at position <code>index</code>, but throws an
IndexError exception if the referenced <code>index</code> lies outside of
the array bounds.  This error can be prevented by supplying a second
argument, which will act as a <code>default</code> value.</p>

<p>Alternatively, if a block is given it will only be executed when an invalid
<code>index</code> is referenced.  Negative values of <code>index</code>
count from the end of the array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>11</span><span class='comma'>,</span> <span class='int'>22</span><span class='comma'>,</span> <span class='int'>33</span><span class='comma'>,</span> <span class='int'>44</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>               <span class='comment'>#=&gt; 22
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>              <span class='comment'>#=&gt; 44
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>        <span class='comment'>#=&gt; &quot;cat&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='int'>100</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'> is out of bounds</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
                         <span class='comment'>#=&gt; &quot;100 is out of bounds&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1396'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416
1417
1418
1419
1420
1421
1422</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1396</span>

static VALUE
rb_ary_fetch(int argc, VALUE *argv, VALUE ary)
{
    VALUE pos, ifnone;
    long block_given;
    long idx;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;pos, &amp;ifnone);
    block_given = rb_block_given_p();
    if (block_given &amp;&amp; argc == 2) {
	rb_warn(&quot;block supersedes default value argument&quot;);
    }
    idx = NUM2LONG(pos);

    if (idx &lt; 0) {
	idx +=  RARRAY_LEN(ary);
    }
    if (idx &lt; 0 || RARRAY_LEN(ary) &lt;= idx) {
	if (block_given) return rb_yield(pos);
	if (argc == 1) {
	    rb_raise(rb_eIndexError, &quot;index %ld outside of array bounds: %ld...%ld&quot;,
			idx - (idx &lt; 0 ? RARRAY_LEN(ary) : 0), -RARRAY_LEN(ary), RARRAY_LEN(ary));
	}
	return ifnone;
    }
    return RARRAY_AREF(ary, idx);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="fill-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>fill</strong>(obj)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>fill</strong>(obj, start[, length])  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>fill</strong>(obj, range)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>fill</strong> {|index| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>fill</strong>(start[, length]) {|index| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>fill</strong>(range) {|index| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The first three forms set the selected elements of <code>self</code> (which
may be the entire array) to <code>obj</code>.</p>

<p>A <code>start</code> of <code>nil</code> is equivalent to zero.</p>

<p>A <code>length</code> of <code>nil</code> is equivalent to the length of
the array.</p>

<p>The last three forms fill the array with the value of the given block,
which is passed the absolute index of each element to be filled.</p>

<p>Negative values of <code>start</code> count from the end of the array,
where <code>-1</code> is the last element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>              <span class='comment'>#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; [&quot;x&quot;, &quot;x&quot;, &quot;z&quot;, &quot;z&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>y</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; [&quot;y&quot;, &quot;y&quot;, &quot;z&quot;, &quot;z&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span> <span class='rbrace'>}</span>       <span class='comment'>#=&gt; [0, 1, 4, 9]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [0, 1, 8, 27]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3520'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3520
3521
3522
3523
3524
3525
3526
3527
3528
3529
3530
3531
3532
3533
3534
3535
3536
3537
3538
3539
3540
3541
3542
3543
3544
3545
3546
3547
3548
3549
3550
3551
3552
3553
3554
3555
3556
3557
3558
3559
3560
3561
3562
3563
3564
3565
3566
3567
3568
3569
3570
3571
3572
3573
3574
3575
3576
3577
3578
3579
3580
3581
3582</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3520</span>

static VALUE
rb_ary_fill(int argc, VALUE *argv, VALUE ary)
{
    VALUE item = Qundef, arg1, arg2;
    long beg = 0, end = 0, len = 0;

    if (rb_block_given_p()) {
	rb_scan_args(argc, argv, &quot;02&quot;, &amp;arg1, &amp;arg2);
	argc += 1;		/* hackish */
    }
    else {
	rb_scan_args(argc, argv, &quot;12&quot;, &amp;item, &amp;arg1, &amp;arg2);
    }
    switch (argc) {
      case 1:
	beg = 0;
	len = RARRAY_LEN(ary);
	break;
      case 2:
	if (rb_range_beg_len(arg1, &amp;beg, &amp;len, RARRAY_LEN(ary), 1)) {
	    break;
	}
	/* fall through */
      case 3:
	beg = NIL_P(arg1) ? 0 : NUM2LONG(arg1);
	if (beg &lt; 0) {
	    beg = RARRAY_LEN(ary) + beg;
	    if (beg &lt; 0) beg = 0;
	}
	len = NIL_P(arg2) ? RARRAY_LEN(ary) - beg : NUM2LONG(arg2);
	break;
    }
    rb_ary_modify(ary);
    if (len &lt; 0) {
        return ary;
    }
    if (beg &gt;= ARY_MAX_SIZE || len &gt; ARY_MAX_SIZE - beg) {
	rb_raise(rb_eArgError, &quot;argument too big&quot;);
    }
    end = beg + len;
    if (RARRAY_LEN(ary) &lt; end) {
	if (end &gt;= ARY_CAPA(ary)) {
	    ary_resize_capa(ary, end);
	}
	ary_mem_clear(ary, RARRAY_LEN(ary), end - RARRAY_LEN(ary));
	ARY_SET_LEN(ary, end);
    }

    if (item == Qundef) {
	VALUE v;
	long i;

	for (i=beg; i&lt;end; i++) {
	    v = rb_yield(LONG2NUM(i));
	    if (i&gt;=RARRAY_LEN(ary)) break;
	    ARY_SET(ary, i, v);
	}
    }
    else {
	ary_memfill(ary, beg, len, item);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_index-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>find_index</strong>(obj)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>find_index</strong> {|item| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>find_index</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>index</strong>(obj)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>index</strong> {|item| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>index</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="first-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>first</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>first</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the first element, or the first <code>n</code> elements, of the
array. If the array is empty, the first form returns <code>nil</code>, and
the second form returns an empty array. See also <a href="#last-instance_method" title="Array#last (method)">#last</a> for the
opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>t</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>     <span class='comment'>#=&gt; &quot;q&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [&quot;q&quot;, &quot;r&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1333'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1333
1334
1335
1336
1337
1338
1339
1340
1341
1342
1343</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1333</span>

static VALUE
rb_ary_first(int argc, VALUE *argv, VALUE ary)
{
    if (argc == 0) {
	if (RARRAY_LEN(ary) == 0) return Qnil;
	return RARRAY_AREF(ary, 0);
    }
    else {
	return ary_take_first_or_last(argc, argv, ary, ARY_TAKE_FIRST);
    }
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="flatten-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>flatten</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>flatten</strong>(level)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array that is a one-dimensional flattening of
<code>self</code> (recursively).</p>

<p>That is, for every element that is an array, extract its elements into the
new array.</p>

<p>The optional <code>level</code> argument determines the level of recursion
to flatten.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span>           <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='rbracket'>]</span> <span class='rbracket'>]</span>   <span class='comment'>#=&gt; [4, 5, 6, [7, 8]]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span>       <span class='comment'>#=&gt; [[1, 2, 3], [4, 5, 6, [7, 8]], 9, 10]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>                 <span class='comment'>#=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span> <span class='rbracket'>]</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>              <span class='comment'>#=&gt; [1, 2, 3, [4, 5]]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4627'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4627
4628
4629
4630
4631
4632
4633
4634
4635
4636
4637
4638
4639
4640
4641</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4627</span>

static VALUE
rb_ary_flatten(int argc, VALUE *argv, VALUE ary)
{
    int mod = 0, level = -1;
    VALUE result, lv;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;lv);
    if (!NIL_P(lv)) level = NUM2INT(lv);
    if (level == 0) return ary_make_shared_copy(ary);

    result = flatten(ary, level, &amp;mod);
    OBJ_INFECT(result, ary);

    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="flatten!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>flatten!</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>flatten!</strong>(level)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Flattens <code>self</code> in place.</p>

<p>Returns <code>nil</code> if no modifications were made (i.e., the array
contains no subarrays.)</p>

<p>The optional <code>level</code> argument determines the level of recursion
to flatten.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span> <span class='rbracket'>]</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>   <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>            <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span> <span class='rbracket'>]</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [1, 2, 3, [4, 5]]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4582'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4582
4583
4584
4585
4586
4587
4588
4589
4590
4591
4592
4593
4594
4595
4596
4597
4598
4599
4600
4601
4602
4603</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4582</span>

static VALUE
rb_ary_flatten_bang(int argc, VALUE *argv, VALUE ary)
{
    int mod = 0, level = -1;
    VALUE result, lv;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;lv);
    rb_ary_modify_check(ary);
    if (!NIL_P(lv)) level = NUM2INT(lv);
    if (level == 0) return Qnil;

    result = flatten(ary, level, &amp;mod);
    if (mod == 0) {
	ary_discard(result);
	return Qnil;
    }
    if (!(mod = ARY_EMBED_P(result))) rb_obj_freeze(result);
    rb_ary_replace(ary, result);
    if (mod) ARY_SET_EMBED_LEN(result, 0);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="frozen?-instance_method">
  <h3 class='signature'>
  #<strong>frozen?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return <code>true</code> if this array is frozen (or temporarily frozen
while being sorted). See also <a href="Object.html#frozen%3F-instance_method" title="Object#frozen? (method)">Object#frozen?</a></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L416'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


416
417
418
419
420
421</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 416</span>

static VALUE
rb_ary_frozen_p(VALUE ary)
{
    if (OBJ_FROZEN(ary)) return Qtrue;
    return Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hash-instance_method">
  <h3 class='signature'>
  #<strong>hash</strong>  &#x21d2; <tt><a href="Object.html#Fixnum-constant" title="Object::Fixnum (constant)">Fixnum</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Compute a hash-code for this array.</p>

<p>Two arrays with the same content will have the same hash code (and will
compare using <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a>).</p>

<p>See also <a href="Object.html#hash-instance_method" title="Object#hash (method)">Object#hash</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3888'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3888
3889
3890
3891
3892
3893
3894
3895
3896
3897
3898
3899
3900
3901
3902
3903</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3888</span>

static VALUE
rb_ary_hash(VALUE ary)
{
    long i;
    st_index_t h;
    VALUE n;

    h = rb_hash_start(RARRAY_LEN(ary));
    h = rb_hash_uint(h, (st_index_t)rb_ary_hash);
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	n = rb_hash(RARRAY_AREF(ary, i));
	h = rb_hash_uint(h, NUM2LONG(n));
    }
    h = rb_hash_end(h);
    return LONG2FIX(h);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="include?-instance_method">
  <h3 class='signature'>
  #<strong>include?</strong>(object)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the given <code>object</code> is present in
<code>self</code> (that is, if any element <code>==</code>
<code>object</code>), otherwise returns <code>false</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3917'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3917
3918
3919
3920
3921
3922
3923
3924
3925
3926
3927
3928
3929
3930
3931
3932
3933
3934</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3917</span>

VALUE
rb_ary_includes(VALUE ary, VALUE item)
{
    long i;
    VALUE e;

    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	e = RARRAY_AREF(ary, i);
	switch (rb_equal_opt(e, item)) {
	  case Qundef:
	    if (rb_equal(e, item)) return Qtrue;
	    break;
	  case Qtrue:
	    return Qtrue;
	}
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="index-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>find_index</strong>(obj)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>find_index</strong> {|item| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>find_index</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>index</strong>(obj)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>index</strong> {|item| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>index</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>find_index</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the <em>index</em> of the first object in <code>ary</code> such
that the object is <code>==</code> to <code>obj</code>.</p>

<p>If a block is given instead of an argument, returns the <em>index</em> of
the first object for which the block returns <code>true</code>.  Returns
<code>nil</code> if no match is found.</p>

<p>See also <a href="#rindex-instance_method" title="Array#rindex (method)">#rindex</a>.</p>

<p>An Enumerator is returned if neither a block nor argument is given.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>              <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>              <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; 1
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1450'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467
1468
1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485
1486</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1450</span>

static VALUE
rb_ary_index(int argc, VALUE *argv, VALUE ary)
{
    const VALUE *ptr;
    VALUE val;
    long i, len;

    if (argc == 0) {
	RETURN_ENUMERATOR(ary, 0, 0);
	for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	    if (RTEST(rb_yield(RARRAY_AREF(ary, i)))) {
		return LONG2NUM(i);
	    }
	}
	return Qnil;
    }
    rb_check_arity(argc, 0, 1);
    val = argv[0];
    if (rb_block_given_p())
	rb_warn(&quot;given block not used&quot;);
    len = RARRAY_LEN(ary);
    ptr = RARRAY_CONST_PTR(ary);
    for (i=0; i&lt;len; i++) {
	VALUE e = ptr[i];
	switch (rb_equal_opt(e, val)) {
	  case Qundef:
	    if (!rb_equal(e, val)) break;
	  case Qtrue:
	    return LONG2NUM(i);
	  case Qfalse:
	    continue;
	}
	len = RARRAY_LEN(ary);
	ptr = RARRAY_CONST_PTR(ary);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initialize_copy-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>replace</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>initialize_copy</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#replace-instance_method" title="Array#replace (method)">#replace</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="insert-instance_method">
  <h3 class='signature'>
  #<strong>insert</strong>(index, obj...)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Inserts the given values before the element with the given
<code>index</code>.</p>

<p>Negative indices count backwards from the end of the array, where
<code>-1</code> is the last element. If a negative index is used, the given
values will be inserted after that element, so using an index of
<code>-1</code> will insert the values at the end of the array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w{ </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> }</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>99</span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, 99, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, 99, &quot;c&quot;, 1, 2, 3, &quot;d&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1769'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1769
1770
1771
1772
1773
1774
1775
1776
1777
1778
1779
1780
1781
1782
1783
1784
1785
1786</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1769</span>

static VALUE
rb_ary_insert(int argc, VALUE *argv, VALUE ary)
{
    long pos;

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    rb_ary_modify_check(ary);
    if (argc == 1) return ary;
    pos = NUM2LONG(argv[0]);
    if (pos == -1) {
	pos = RARRAY_LEN(ary);
    }
    if (pos &lt; 0) {
	pos++;
    }
    rb_ary_splice(ary, pos, 0, rb_ary_new4(argc - 1, argv + 1));
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>inspect</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
    <span class='overload'>#<strong>to_s</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#to_s-instance_method" title="Array#to_s (method)">#to_s</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="join-instance_method">
  <h3 class='signature'>
  #<strong>join</strong>(separator = $,)  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string created by converting each element of the array to a
string, separated by the given <code>separator</code>. If the
<code>separator</code> is <code>nil</code>, it uses current $,. If both the
<code>separator</code> and $, are nil, it uses empty string.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>        <span class='comment'>#=&gt; &quot;abc&quot;
</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;a-b-c&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2083'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2083
2084
2085
2086
2087
2088
2089
2090
2091
2092</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2083</span>

static VALUE
rb_ary_join_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE sep;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;sep);
    if (NIL_P(sep)) sep = rb_output_fs;

    return rb_ary_join(ary, sep);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="keep_if-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>keep_if</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>keep_if</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes every element of <code>self</code> for which the given block
evaluates to <code>false</code>.</p>

<p>See also <a href="#select%21-instance_method" title="Array#select! (method)">#select!</a></p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w{ </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='words_sep'> </span><span class='tstring_content'>f</span><span class='words_sep'> }</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_keep_if'>keep_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [&quot;a&quot;, &quot;e&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2937'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2937
2938
2939
2940
2941
2942
2943</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2937</span>

static VALUE
rb_ary_keep_if(VALUE ary)
{
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_select_bang(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="last-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>last</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>last</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the last element(s) of <code>self</code>. If the array is empty,
the first form returns <code>nil</code>.</p>

<p>See also <a href="#first-instance_method" title="Array#first (method)">#first</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>y</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>     <span class='comment'>#=&gt; &quot;z&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [&quot;y&quot;, &quot;z&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1360'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1360
1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1360</span>

VALUE
rb_ary_last(int argc, const VALUE *argv, VALUE ary)
{
    if (argc == 0) {
	long len = RARRAY_LEN(ary);
	if (len == 0) return Qnil;
	return RARRAY_AREF(ary, len-1);
    }
    else {
	return ary_take_first_or_last(argc, argv, ary, ARY_TAKE_LAST);
    }
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="length-instance_method">
  <h3 class='signature'>
  #<strong>length</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> 
  <span class='aliases'>Also known as: <span class='names'><span>size</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the number of elements in <code>self</code>. May be zero.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>   <span class='comment'>#=&gt; 5
</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>                  <span class='comment'>#=&gt; 0
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1900'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1900
1901
1902
1903
1904
1905</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1900</span>

static VALUE
rb_ary_length(VALUE ary)
{
    long len = RARRAY_LEN(ary);
    return LONG2NUM(len);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="map-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>collect</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>map</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>collect</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>map</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>collect</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Invokes the given block once for each element of <code>self</code>.</p>

<p>Creates a new array containing the values returned by the block.</p>

<p>See also <a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">Enumerable#collect</a>.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>         <span class='comment'>#=&gt; [&quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_with_index'>with_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>*</span> <span class='id identifier rubyid_i'>i</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [&quot;&quot;, &quot;b&quot;, &quot;cc&quot;, &quot;ddd&quot;]
</span><span class='id identifier rubyid_a'>a</span>                                 <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2714'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2714
2715
2716
2717
2718
2719
2720
2721
2722
2723
2724
2725
2726</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2714</span>

static VALUE
rb_ary_collect(VALUE ary)
{
    long i;
    VALUE collect;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    collect = rb_ary_new2(RARRAY_LEN(ary));
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	rb_ary_push(collect, rb_yield(RARRAY_AREF(ary, i)));
    }
    return collect;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="map!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>collect!</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>map!</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>collect!</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>map!</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>collect!</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Invokes the given block once for each element of <code>self</code>,
replacing the element with the value returned by the block.</p>

<p>See also <a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">Enumerable#collect</a>.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_a'>a</span> <span class='comment'>#=&gt;  [ &quot;a!&quot;, &quot;b!&quot;, &quot;c!&quot;, &quot;d!&quot; ]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_collect!'>collect!</span><span class='period'>.</span><span class='id identifier rubyid_with_index'>with_index</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_a'>a</span> <span class='comment'>#=&gt;  [&quot;&quot;, &quot;b&quot;, &quot;c!&quot;, &quot;d!&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2750'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2750
2751
2752
2753
2754
2755
2756
2757
2758
2759
2760
2761</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2750</span>

static VALUE
rb_ary_collect_bang(VALUE ary)
{
    long i;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_modify(ary);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	rb_ary_store(ary, i, rb_yield(RARRAY_AREF(ary, i)));
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="max-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>max</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>max</strong> {|a, b| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>max</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>max</strong>(n) {|a, b| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the object in <em>ary</em> with the maximum value. The first form
assumes all objects implement <a href="Comparable.html" title="Comparable (module)">Comparable</a>; the second uses the block to
return <em>a &lt;=&gt; b</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>)</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>                                   <span class='comment'>#=&gt; &quot;horse&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; &quot;albatross&quot;
</span></code></pre>

<p>If the <code>n</code> argument is given, maximum <code>n</code> elements
are returned as an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>                                  <span class='comment'>#=&gt; [&quot;horse&quot;, &quot;dog&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [&quot;albatross&quot;, &quot;horse&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4204'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4204
4205
4206
4207
4208
4209
4210
4211
4212
4213
4214
4215
4216
4217
4218
4219
4220
4221
4222
4223
4224
4225
4226
4227
4228
4229
4230
4231
4232
4233
4234
4235</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4204</span>

static VALUE
rb_ary_max(int argc, VALUE *argv, VALUE ary)
{
    struct cmp_opt_data cmp_opt = { 0, 0 };
    VALUE result = Qundef, v;
    VALUE num;
    long i;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;num);

    if (!NIL_P(num))
       return rb_nmin_run(ary, num, 0, 1, 1);

    if (rb_block_given_p()) {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	   v = RARRAY_AREF(ary, i);
	   if (result == Qundef || rb_cmpint(rb_yield_values(2, v, result), v, result) &gt; 0) {
	       result = v;
	   }
	}
    }
    else {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	   v = RARRAY_AREF(ary, i);
	   if (result == Qundef || OPTIMIZED_CMP(v, result, cmp_opt) &gt; 0) {
	       result = v;
	   }
	}
    }
    if (result == Qundef) return Qnil;
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="min-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>min</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>min</strong> {|a, b| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>min</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>min</strong>(n) {|a, b| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the object in <em>ary</em> with the minimum value. The first form
assumes all objects implement <a href="Comparable.html" title="Comparable (module)">Comparable</a>; the second uses the block to
return <em>a &lt;=&gt; b</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>)</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>                                   <span class='comment'>#=&gt; &quot;albatross&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; &quot;dog&quot;
</span></code></pre>

<p>If the <code>n</code> argument is given, minimum <code>n</code> elements
are returned as an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>                                  <span class='comment'>#=&gt; [&quot;albatross&quot;, &quot;dog&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [&quot;dog&quot;, &quot;horse&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4259'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4259
4260
4261
4262
4263
4264
4265
4266
4267
4268
4269
4270
4271
4272
4273
4274
4275
4276
4277
4278
4279
4280
4281
4282
4283
4284
4285
4286
4287
4288
4289
4290</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4259</span>

static VALUE
rb_ary_min(int argc, VALUE *argv, VALUE ary)
{
    struct cmp_opt_data cmp_opt = { 0, 0 };
    VALUE result = Qundef, v;
    VALUE num;
    long i;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;num);

    if (!NIL_P(num))
       return rb_nmin_run(ary, num, 0, 0, 1);

    if (rb_block_given_p()) {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	   v = RARRAY_AREF(ary, i);
	   if (result == Qundef || rb_cmpint(rb_yield_values(2, v, result), v, result) &lt; 0) {
	       result = v;
	   }
	}
    }
    else {
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	   v = RARRAY_AREF(ary, i);
	   if (result == Qundef || OPTIMIZED_CMP(v, result, cmp_opt) &lt; 0) {
	       result = v;
	   }
	}
    }
    if (result == Qundef) return Qnil;
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pack-instance_method">
  <h3 class='signature'>
  #<strong>pack</strong>(aTemplateString)  &#x21d2; <tt>aBinaryString</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Packs the contents of <em>arr</em> into a binary sequence according to the
directives in <em>aTemplateString</em> (see the table below) Directives
“A,&#39;&#39; “a,&#39;&#39; and “Z&#39;&#39; may be followed by a count,
which gives the width of the resulting field. The remaining directives also
may take a count, indicating the number of array elements to convert. If
the count is an asterisk (“<code>*</code>&#39;&#39;), all remaining array
elements will be converted. Any of the directives
“<code>sSiIlL</code>&#39;&#39; may be followed by an underscore
(“<code>_</code>&#39;&#39;) or exclamation mark (“<code>!</code>&#39;&#39;)
to use the underlying platform&#39;s native size for the specified type;
otherwise, they use a platform-independent size. Spaces are ignored in the
template string. See also <a href="String.html#unpack-instance_method" title="String#unpack (method)">String#unpack</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>65</span><span class='comma'>,</span> <span class='int'>66</span><span class='comma'>,</span> <span class='int'>67</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A3A3A3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;a  b  c  &quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a3a3a3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;a\000\000b\000\000c\000\000&quot;
</span><span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ccc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>      <span class='comment'>#=&gt; &quot;ABC&quot;
</span></code></pre>

<p>Directives for <code>pack</code>.</p>

<pre class="code ruby"><code class="ruby">Integer      | Array   |
Directive    | Element | Meaning
---------------------------------------------------------------------------
   C         | Integer | 8-bit unsigned (unsigned char)
   S         | Integer | 16-bit unsigned, native endian (uint16_t)
   L         | Integer | 32-bit unsigned, native endian (uint32_t)
   Q         | Integer | 64-bit unsigned, native endian (uint64_t)
   J         | Integer | pointer width unsigned, native endian (uintptr_t)
             |         | (J is available since Ruby 2.3.)
             |         |
   c         | Integer | 8-bit signed (signed char)
   s         | Integer | 16-bit signed, native endian (int16_t)
   l         | Integer | 32-bit signed, native endian (int32_t)
   q         | Integer | 64-bit signed, native endian (int64_t)
   j         | Integer | pointer width signed, native endian (intptr_t)
             |         | (j is available since Ruby 2.3.)
             |         |
   S_, S!    | Integer | unsigned short, native endian
   I, I_, I! | Integer | unsigned int, native endian
   L_, L!    | Integer | unsigned long, native endian
   Q_, Q!    | Integer | unsigned long long, native endian (ArgumentError
             |         | if the platform has no long long type.)
             |         | (Q_ and Q! is available since Ruby 2.1.)
   J!        | Integer | uintptr_t, native endian (same with J)
             |         | (J! is available since Ruby 2.3.)
             |         |
   s_, s!    | Integer | signed short, native endian
   i, i_, i! | Integer | signed int, native endian
   l_, l!    | Integer | signed long, native endian
   q_, q!    | Integer | signed long long, native endian (ArgumentError
             |         | if the platform has no long long type.)
             |         | (q_ and q! is available since Ruby 2.1.)
   j!        | Integer | intptr_t, native endian (same with j)
             |         | (j! is available since Ruby 2.3.)
             |         |
   S&gt; L&gt; Q&gt;  | Integer | same as the directives without &quot;&gt;&quot; except
   J&gt; s&gt; l&gt;  |         | big endian
   q&gt; j&gt;     |         | (available since Ruby 1.9.3)
   S!&gt; I!&gt;   |         | &quot;S&gt;&quot; is same as &quot;n&quot;
   L!&gt; Q!&gt;   |         | &quot;L&gt;&quot; is same as &quot;N&quot;
   J!&gt; s!&gt;   |         |
   i!&gt; l!&gt;   |         |
   q!&gt; j!&gt;   |         |
             |         |
   S&lt; L&lt; Q&lt;  | Integer | same as the directives without &quot;&lt;&quot; except
   J&lt; s&lt; l&lt;  |         | little endian
   q&lt; j&lt;     |         | (available since Ruby 1.9.3)
   S!&lt; I!&lt;   |         | &quot;S&lt;&quot; is same as &quot;v&quot;
   L!&lt; Q!&lt;   |         | &quot;L&lt;&quot; is same as &quot;V&quot;
   J!&lt; s!&lt;   |         |
   i!&lt; l!&lt;   |         |
   q!&lt; j!&lt;   |         |
             |         |
   n         | Integer | 16-bit unsigned, network (big-endian) byte order
   N         | Integer | 32-bit unsigned, network (big-endian) byte order
   v         | Integer | 16-bit unsigned, VAX (little-endian) byte order
   V         | Integer | 32-bit unsigned, VAX (little-endian) byte order
             |         |
   U         | Integer | UTF-8 character
   w         | Integer | BER-compressed integer

Float        |         |
Directive    |         | Meaning
---------------------------------------------------------------------------
   D, d      | Float   | double-precision, native format
   F, f      | Float   | single-precision, native format
   E         | Float   | double-precision, little-endian byte order
   e         | Float   | single-precision, little-endian byte order
   G         | Float   | double-precision, network (big-endian) byte order
   g         | Float   | single-precision, network (big-endian) byte order

String       |         |
Directive    |         | Meaning
---------------------------------------------------------------------------
   A         | String  | arbitrary binary string (space padded, count is width)
   a         | String  | arbitrary binary string (null padded, count is width)
   Z         | String  | same as ``a&#39;&#39;, except that null is added with *
   B         | String  | bit string (MSB first)
   b         | String  | bit string (LSB first)
   H         | String  | hex string (high nibble first)
   h         | String  | hex string (low nibble first)
   u         | String  | UU-encoded string
   M         | String  | quoted printable, MIME encoding (see RFC2045)
   m         | String  | base64 encoded string (see RFC 2045, count is width)
             |         | (if count is 0, no line feed are added, see RFC 4648)
   P         | String  | pointer to a structure (fixed-length string)
   p         | String  | pointer to a null-terminated string

Misc.        |         |
Directive    |         | Meaning
---------------------------------------------------------------------------
   @         | ---     | moves to absolute position
   X         | ---     | back up a byte
   x         | ---     | null byte</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/pack.c#L273'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'pack.c', line 273</span>

static VALUE
pack_pack(VALUE ary, VALUE fmt)
{
    static const char nul10[] = &quot;\0\0\0\0\0\0\0\0\0\0&quot;;
    static const char spc10[] = &quot;          &quot;;
    const char *p, *pend;
    VALUE res, from, associates = 0;
    char type;
    long len, idx, plen;
    const char *ptr;
    int enc_info = 1;		/* 0 - BINARY, 1 - US-ASCII, 2 - UTF-8 */
#ifdef NATINT_PACK
    int natint;		/* native integer */
#endif
    int integer_size, bigendian_p;

    StringValue(fmt);
    p = RSTRING_PTR(fmt);
    pend = p + RSTRING_LEN(fmt);
    res = rb_str_buf_new(0);

    idx = 0;

#define TOO_FEW (rb_raise(rb_eArgError, toofew), 0)
#define MORE_ITEM (idx &lt; RARRAY_LEN(ary))
#define THISFROM (MORE_ITEM ? RARRAY_AREF(ary, idx) : TOO_FEW)
#define NEXTFROM (MORE_ITEM ? RARRAY_AREF(ary, idx++) : TOO_FEW)

    while (p &lt; pend) {
	int explicit_endian = 0;
	if (RSTRING_PTR(fmt) + RSTRING_LEN(fmt) != pend) {
	    rb_raise(rb_eRuntimeError, &quot;format string modified&quot;);
	}
	type = *p++;		/* get data type */
#ifdef NATINT_PACK
	natint = 0;
#endif

	if (ISSPACE(type)) continue;
	if (type == &#39;#&#39;) {
	    while ((p &lt; pend) &amp;&amp; (*p != &#39;\n&#39;)) {
		p++;
	    }
	    continue;
	}

	{
          modifiers:
	    switch (*p) {
	      case &#39;_&#39;:
	      case &#39;!&#39;:
		if (strchr(natstr, type)) {
#ifdef NATINT_PACK
		    natint = 1;
#endif
		    p++;
		}
		else {
		    rb_raise(rb_eArgError, &quot;&#39;%c&#39; allowed only after types %s&quot;, *p, natstr);
		}
		goto modifiers;

	      case &#39;&lt;&#39;:
	      case &#39;&gt;&#39;:
		if (!strchr(endstr, type)) {
		    rb_raise(rb_eArgError, &quot;&#39;%c&#39; allowed only after types %s&quot;, *p, endstr);
		}
		if (explicit_endian) {
		    rb_raise(rb_eRangeError, &quot;Can&#39;t use both &#39;&lt;&#39; and &#39;&gt;&#39;&quot;);
		}
		explicit_endian = *p++;
		goto modifiers;
	    }
	}

	if (*p == &#39;*&#39;) {	/* set data length */
	    len = strchr(&quot;@Xxu&quot;, type) ? 0
                : strchr(&quot;PMm&quot;, type) ? 1
                : RARRAY_LEN(ary) - idx;
	    p++;
	}
	else if (ISDIGIT(*p)) {
	    errno = 0;
	    len = STRTOUL(p, (char**)&amp;p, 10);
	    if (errno) {
		rb_raise(rb_eRangeError, &quot;pack length too big&quot;);
	    }
	}
	else {
	    len = 1;
	}

	switch (type) {
	  case &#39;U&#39;:
	    /* if encoding is US-ASCII, upgrade to UTF-8 */
	    if (enc_info == 1) enc_info = 2;
	    break;
	  case &#39;m&#39;: case &#39;M&#39;: case &#39;u&#39;:
	    /* keep US-ASCII (do nothing) */
	    break;
	  default:
	    /* fall back to BINARY */
	    enc_info = 0;
	    break;
	}
	switch (type) {
	  case &#39;A&#39;: case &#39;a&#39;: case &#39;Z&#39;:
	  case &#39;B&#39;: case &#39;b&#39;:
	  case &#39;H&#39;: case &#39;h&#39;:
	    from = NEXTFROM;
	    if (NIL_P(from)) {
		ptr = &quot;&quot;;
		plen = 0;
	    }
	    else {
		StringValue(from);
		ptr = RSTRING_PTR(from);
		plen = RSTRING_LEN(from);
		OBJ_INFECT(res, from);
	    }

	    if (p[-1] == &#39;*&#39;)
		len = plen;

	    switch (type) {
	      case &#39;a&#39;:		/* arbitrary binary string (null padded)  */
	      case &#39;A&#39;:         /* arbitrary binary string (ASCII space padded) */
	      case &#39;Z&#39;:         /* null terminated string  */
		if (plen &gt;= len) {
		    rb_str_buf_cat(res, ptr, len);
		    if (p[-1] == &#39;*&#39; &amp;&amp; type == &#39;Z&#39;)
			rb_str_buf_cat(res, nul10, 1);
		}
		else {
		    rb_str_buf_cat(res, ptr, plen);
		    len -= plen;
		    while (len &gt;= 10) {
			rb_str_buf_cat(res, (type == &#39;A&#39;)?spc10:nul10, 10);
			len -= 10;
		    }
		    rb_str_buf_cat(res, (type == &#39;A&#39;)?spc10:nul10, len);
		}
		break;

#define castchar(from) (char)((from) &amp; 0xff)

	      case &#39;b&#39;:		/* bit string (ascending) */
		{
		    int byte = 0;
		    long i, j = 0;

		    if (len &gt; plen) {
			j = (len - plen + 1)/2;
			len = plen;
		    }
		    for (i=0; i++ &lt; len; ptr++) {
			if (*ptr &amp; 1)
			    byte |= 128;
			if (i &amp; 7)
			    byte &gt;&gt;= 1;
			else {
			    char c = castchar(byte);
			    rb_str_buf_cat(res, &amp;c, 1);
			    byte = 0;
			}
		    }
		    if (len &amp; 7) {
			char c;
			byte &gt;&gt;= 7 - (len &amp; 7);
			c = castchar(byte);
			rb_str_buf_cat(res, &amp;c, 1);
		    }
		    len = j;
		    goto grow;
		}
		break;

	      case &#39;B&#39;:		/* bit string (descending) */
		{
		    int byte = 0;
		    long i, j = 0;

		    if (len &gt; plen) {
			j = (len - plen + 1)/2;
			len = plen;
		    }
		    for (i=0; i++ &lt; len; ptr++) {
			byte |= *ptr &amp; 1;
			if (i &amp; 7)
			    byte &lt;&lt;= 1;
			else {
			    char c = castchar(byte);
			    rb_str_buf_cat(res, &amp;c, 1);
			    byte = 0;
			}
		    }
		    if (len &amp; 7) {
			char c;
			byte &lt;&lt;= 7 - (len &amp; 7);
			c = castchar(byte);
			rb_str_buf_cat(res, &amp;c, 1);
		    }
		    len = j;
		    goto grow;
		}
		break;

	      case &#39;h&#39;:		/* hex string (low nibble first) */
		{
		    int byte = 0;
		    long i, j = 0;

		    if (len &gt; plen) {
			j = (len + 1) / 2 - (plen + 1) / 2;
			len = plen;
		    }
		    for (i=0; i++ &lt; len; ptr++) {
			if (ISALPHA(*ptr))
			    byte |= (((*ptr &amp; 15) + 9) &amp; 15) &lt;&lt; 4;
			else
			    byte |= (*ptr &amp; 15) &lt;&lt; 4;
			if (i &amp; 1)
			    byte &gt;&gt;= 4;
			else {
			    char c = castchar(byte);
			    rb_str_buf_cat(res, &amp;c, 1);
			    byte = 0;
			}
		    }
		    if (len &amp; 1) {
			char c = castchar(byte);
			rb_str_buf_cat(res, &amp;c, 1);
		    }
		    len = j;
		    goto grow;
		}
		break;

	      case &#39;H&#39;:		/* hex string (high nibble first) */
		{
		    int byte = 0;
		    long i, j = 0;

		    if (len &gt; plen) {
			j = (len + 1) / 2 - (plen + 1) / 2;
			len = plen;
		    }
		    for (i=0; i++ &lt; len; ptr++) {
			if (ISALPHA(*ptr))
			    byte |= ((*ptr &amp; 15) + 9) &amp; 15;
			else
			    byte |= *ptr &amp; 15;
			if (i &amp; 1)
			    byte &lt;&lt;= 4;
			else {
			    char c = castchar(byte);
			    rb_str_buf_cat(res, &amp;c, 1);
			    byte = 0;
			}
		    }
		    if (len &amp; 1) {
			char c = castchar(byte);
			rb_str_buf_cat(res, &amp;c, 1);
		    }
		    len = j;
		    goto grow;
		}
		break;
	    }
	    break;

	  case &#39;c&#39;:		/* signed char */
	  case &#39;C&#39;:		/* unsigned char */
            integer_size = 1;
            bigendian_p = BIGENDIAN_P(); /* not effective */
            goto pack_integer;

	  case &#39;s&#39;:		/* s for int16_t, s! for signed short */
            integer_size = NATINT_LEN(short, 2);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;S&#39;:		/* S for uint16_t, S! for unsigned short */
            integer_size = NATINT_LEN(short, 2);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;i&#39;:		/* i and i! for signed int */
            integer_size = (int)sizeof(int);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;I&#39;:		/* I and I! for unsigned int */
            integer_size = (int)sizeof(int);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;l&#39;:		/* l for int32_t, l! for signed long */
            integer_size = NATINT_LEN(long, 4);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;L&#39;:		/* L for uint32_t, L! for unsigned long */
            integer_size = NATINT_LEN(long, 4);
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;q&#39;:		/* q for int64_t, q! for signed long long */
	    integer_size = NATINT_LEN_Q;
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;Q&#39;:		/* Q for uint64_t, Q! for unsigned long long */
	    integer_size = NATINT_LEN_Q;
            bigendian_p = BIGENDIAN_P();
            goto pack_integer;

	  case &#39;j&#39;:		/* j for intptr_t */
	    integer_size = sizeof(intptr_t);
	    bigendian_p = BIGENDIAN_P();
	    goto pack_integer;

	  case &#39;J&#39;:		/* J for uintptr_t */
	    integer_size = sizeof(uintptr_t);
	    bigendian_p = BIGENDIAN_P();
	    goto pack_integer;

	  case &#39;n&#39;:		/* 16 bit (2 bytes) integer (network byte-order)  */
            integer_size = 2;
            bigendian_p = 1;
            goto pack_integer;

	  case &#39;N&#39;:		/* 32 bit (4 bytes) integer (network byte-order) */
            integer_size = 4;
            bigendian_p = 1;
            goto pack_integer;

	  case &#39;v&#39;:		/* 16 bit (2 bytes) integer (VAX byte-order) */
            integer_size = 2;
            bigendian_p = 0;
            goto pack_integer;

	  case &#39;V&#39;:		/* 32 bit (4 bytes) integer (VAX byte-order) */
            integer_size = 4;
            bigendian_p = 0;
            goto pack_integer;

          pack_integer:
	    if (explicit_endian) {
		bigendian_p = explicit_endian == &#39;&gt;&#39;;
	    }
            if (integer_size &gt; MAX_INTEGER_PACK_SIZE)
                rb_bug(&quot;unexpected intger size for pack: %d&quot;, integer_size);
            while (len-- &gt; 0) {
                char intbuf[MAX_INTEGER_PACK_SIZE];

                from = NEXTFROM;
                rb_integer_pack(from, intbuf, integer_size, 1, 0,
                    INTEGER_PACK_2COMP |
                    (bigendian_p ? INTEGER_PACK_BIG_ENDIAN : INTEGER_PACK_LITTLE_ENDIAN));
                rb_str_buf_cat(res, intbuf, integer_size);
            }
	    break;

	  case &#39;f&#39;:		/* single precision float in native format */
	  case &#39;F&#39;:		/* ditto */
	    while (len-- &gt; 0) {
		float f;

		from = NEXTFROM;
		f = (float)RFLOAT_VALUE(rb_to_float(from));
		rb_str_buf_cat(res, (char*)&amp;f, sizeof(float));
	    }
	    break;

	  case &#39;e&#39;:		/* single precision float in VAX byte-order */
	    while (len-- &gt; 0) {
		FLOAT_CONVWITH(tmp);

		from = NEXTFROM;
		tmp.f = (float)RFLOAT_VALUE(rb_to_float(from));
		HTOVF(tmp);
		rb_str_buf_cat(res, tmp.buf, sizeof(float));
	    }
	    break;

	  case &#39;E&#39;:		/* double precision float in VAX byte-order */
	    while (len-- &gt; 0) {
		DOUBLE_CONVWITH(tmp);
		from = NEXTFROM;
		tmp.d = RFLOAT_VALUE(rb_to_float(from));
		HTOVD(tmp);
		rb_str_buf_cat(res, tmp.buf, sizeof(double));
	    }
	    break;

	  case &#39;d&#39;:		/* double precision float in native format */
	  case &#39;D&#39;:		/* ditto */
	    while (len-- &gt; 0) {
		double d;

		from = NEXTFROM;
		d = RFLOAT_VALUE(rb_to_float(from));
		rb_str_buf_cat(res, (char*)&amp;d, sizeof(double));
	    }
	    break;

	  case &#39;g&#39;:		/* single precision float in network byte-order */
	    while (len-- &gt; 0) {
		FLOAT_CONVWITH(tmp);
		from = NEXTFROM;
		tmp.f = (float)RFLOAT_VALUE(rb_to_float(from));
		HTONF(tmp);
		rb_str_buf_cat(res, tmp.buf, sizeof(float));
	    }
	    break;

	  case &#39;G&#39;:		/* double precision float in network byte-order */
	    while (len-- &gt; 0) {
		DOUBLE_CONVWITH(tmp);

		from = NEXTFROM;
		tmp.d = RFLOAT_VALUE(rb_to_float(from));
		HTOND(tmp);
		rb_str_buf_cat(res, tmp.buf, sizeof(double));
	    }
	    break;

	  case &#39;x&#39;:		/* null byte */
	  grow:
	    while (len &gt;= 10) {
		rb_str_buf_cat(res, nul10, 10);
		len -= 10;
	    }
	    rb_str_buf_cat(res, nul10, len);
	    break;

	  case &#39;X&#39;:		/* back up byte */
	  shrink:
	    plen = RSTRING_LEN(res);
	    if (plen &lt; len)
		rb_raise(rb_eArgError, &quot;X outside of string&quot;);
	    rb_str_set_len(res, plen - len);
	    break;

	  case &#39;@&#39;:		/* null fill to absolute position */
	    len -= RSTRING_LEN(res);
	    if (len &gt; 0) goto grow;
	    len = -len;
	    if (len &gt; 0) goto shrink;
	    break;

	  case &#39;%&#39;:
	    rb_raise(rb_eArgError, &quot;%% is not supported&quot;);
	    break;

	  case &#39;U&#39;:		/* Unicode character */
	    while (len-- &gt; 0) {
		SIGNED_VALUE l;
		char buf[8];
		int le;

		from = NEXTFROM;
		from = rb_to_int(from);
		l = NUM2LONG(from);
		if (l &lt; 0) {
		    rb_raise(rb_eRangeError, &quot;pack(U): value out of range&quot;);
		}
		le = rb_uv_to_utf8(buf, l);
		rb_str_buf_cat(res, (char*)buf, le);
	    }
	    break;

	  case &#39;u&#39;:		/* uuencoded string */
	  case &#39;m&#39;:		/* base64 encoded string */
	    from = NEXTFROM;
	    StringValue(from);
	    ptr = RSTRING_PTR(from);
	    plen = RSTRING_LEN(from);

	    if (len == 0 &amp;&amp; type == &#39;m&#39;) {
		encodes(res, ptr, plen, type, 0);
		ptr += plen;
		break;
	    }
	    if (len &lt;= 2)
		len = 45;
	    else if (len &gt; 63 &amp;&amp; type == &#39;u&#39;)
		len = 63;
	    else
		len = len / 3 * 3;
	    while (plen &gt; 0) {
		long todo;

		if (plen &gt; len)
		    todo = len;
		else
		    todo = plen;
		encodes(res, ptr, todo, type, 1);
		plen -= todo;
		ptr += todo;
	    }
	    break;

	  case &#39;M&#39;:		/* quoted-printable encoded string */
	    from = rb_obj_as_string(NEXTFROM);
	    if (len &lt;= 1)
		len = 72;
	    qpencode(res, from, len);
	    break;

	  case &#39;P&#39;:		/* pointer to packed byte string */
	    from = THISFROM;
	    if (!NIL_P(from)) {
		StringValue(from);
		if (RSTRING_LEN(from) &lt; len) {
		    rb_raise(rb_eArgError, &quot;too short buffer for P(%ld for %ld)&quot;,
			     RSTRING_LEN(from), len);
		}
	    }
	    len = 1;
	    /* FALL THROUGH */
	  case &#39;p&#39;:		/* pointer to string */
	    while (len-- &gt; 0) {
		char *t;
		from = NEXTFROM;
		if (NIL_P(from)) {
		    t = 0;
		}
		else {
		    t = StringValuePtr(from);
		    rb_obj_taint(from);
		}
		if (!associates) {
		    associates = rb_ary_new();
		}
		rb_ary_push(associates, from);
		rb_str_buf_cat(res, (char*)&amp;t, sizeof(char*));
	    }
	    break;

	  case &#39;w&#39;:		/* BER compressed integer  */
	    while (len-- &gt; 0) {
		VALUE buf = rb_str_new(0, 0);
                size_t numbytes;
                int sign;
                char *cp;

		from = NEXTFROM;
                from = rb_to_int(from);
                numbytes = rb_absint_numwords(from, 7, NULL);
                if (numbytes == 0)
                    numbytes = 1;
                buf = rb_str_new(NULL, numbytes);

                sign = rb_integer_pack(from, RSTRING_PTR(buf), RSTRING_LEN(buf), 1, 1, INTEGER_PACK_BIG_ENDIAN);

                if (sign &lt; 0)
                    rb_raise(rb_eArgError, &quot;can&#39;t compress negative numbers&quot;);
                if (sign == 2)
                    rb_bug(&quot;buffer size problem?&quot;);

                cp = RSTRING_PTR(buf);
                while (1 &lt; numbytes) {
                  *cp |= 0x80;
                  cp++;
                  numbytes--;
                }

                rb_str_buf_cat(res, RSTRING_PTR(buf), RSTRING_LEN(buf));
	    }
	    break;

	  default: {
	    char unknown[5];
	    if (ISPRINT(type)) {
		unknown[0] = type;
		unknown[1] = &#39;\0&#39;;
	    }
	    else {
		snprintf(unknown, sizeof(unknown), &quot;\\x%.2x&quot;, type &amp; 0xff);
	    }
	    rb_warning(&quot;unknown pack directive &#39;%s&#39; in &#39;% &quot;PRIsVALUE&quot;&#39;&quot;,
		       unknown, fmt);
	    break;
	  }
	}
    }

    if (associates) {
	str_associate(res, associates);
    }
    OBJ_INFECT(res, fmt);
    switch (enc_info) {
      case 1:
	ENCODING_CODERANGE_SET(res, rb_usascii_encindex(), ENC_CODERANGE_7BIT);
	break;
      case 2:
	rb_enc_set_index(res, rb_utf8_encindex());
	break;
      default:
	/* do nothing, keep ASCII-8BIT */
	break;
    }
    return res;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="permutation-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>permutation</strong> {|p| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>permutation</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>permutation</strong>(n) {|p| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>permutation</strong>(n)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When invoked with a block, yield all permutations of length <code>n</code>
of the elements of the array, then return the array itself.</p>

<p>If <code>n</code> is not specified, yield all permutations of all elements.</p>

<p>The implementation makes no guarantees about the order in which the
permutations are yielded.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_permutation'>permutation</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>    <span class='comment'>#=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_permutation'>permutation</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; [[1],[2],[3]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_permutation'>permutation</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; [[1,2],[1,3],[2,1],[2,3],[3,1],[3,2]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_permutation'>permutation</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_permutation'>permutation</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; [[]] # one permutation of length 0
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_permutation'>permutation</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; []   # no permutations of length 4
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5052'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5052
5053
5054
5055
5056
5057
5058
5059
5060
5061
5062
5063
5064
5065
5066
5067
5068
5069
5070
5071
5072
5073
5074
5075
5076
5077
5078
5079
5080
5081
5082
5083
5084
5085
5086
5087
5088</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5052</span>

static VALUE
rb_ary_permutation(int argc, VALUE *argv, VALUE ary)
{
    VALUE num;
    long r, n, i;

    n = RARRAY_LEN(ary);                  /* Array length */
    RETURN_SIZED_ENUMERATOR(ary, argc, argv, rb_ary_permutation_size);   /* Return enumerator if no block */
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;num);
    r = NIL_P(num) ? n : NUM2LONG(num);   /* Permutation size from argument */

    if (r &lt; 0 || n &lt; r) {
	/* no permutations: yield nothing */
    }
    else if (r == 0) { /* exactly one permutation: the zero-length array */
	rb_yield(rb_ary_new2(0));
    }
    else if (r == 1) { /* this is a special, easy case */
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    rb_yield(rb_ary_new3(1, RARRAY_AREF(ary, i)));
	}
    }
    else {             /* this is the general case */
	volatile VALUE t0;
	long *p = ALLOCV_N(long, t0, r+roomof(n, sizeof(long)));
	char *used = (char*)(p + r);
	VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
	RBASIC_CLEAR_CLASS(ary0);

	MEMZERO(used, char, n); /* initialize array */

	permute0(n, r, p, used, ary0); /* compute and yield permutations */
	ALLOCV_END(t0);
	RBASIC_SET_CLASS_RAW(ary0, rb_cArray);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pop-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>pop</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>pop</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes the last element from <code>self</code> and returns it, or
<code>nil</code> if the array is empty.</p>

<p>If a number <code>n</code> is given, returns an array of the last
<code>n</code> elements (or less) just like <code>array.slice!(-n,
n)</code> does. See also <a href="#push-instance_method" title="Array#push (method)">#push</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>     <span class='comment'>#=&gt; &quot;d&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;]
</span><span class='id identifier rubyid_a'>a</span>         <span class='comment'>#=&gt; [&quot;a&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L984'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


984
985
986
987
988
989
990
991
992
993
994
995
996
997</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 984</span>

static VALUE
rb_ary_pop_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE result;

    if (argc == 0) {
	return rb_ary_pop(ary);
    }

    rb_ary_modify_check(ary);
    result = ary_take_first_or_last(argc, argv, ary, ARY_TAKE_LAST);
    ARY_INCREASE_LEN(ary, -RARRAY_LEN(result));
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="product-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>product</strong>(other_ary, ...)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>product</strong>(other_ary, ...) {|p| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array of all combinations of elements from all arrays.</p>

<p>The length of the returned array is the product of the length of
<code>self</code> and the argument arrays.</p>

<p>If given a block, <a href="#product-instance_method" title="Array#product (method)">#product</a> will yield all combinations and return
<code>self</code> instead.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_product'>product</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>5</span><span class='rbracket'>]</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; [[1,4],[1,5],[2,4],[2,5],[3,4],[3,5]]
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_product'>product</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; [[1,1],[1,2],[2,1],[2,2]]
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_product'>product</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='int'>5</span><span class='comma'>,</span><span class='int'>6</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [[1,3,5],[1,3,6],[1,4,5],[1,4,6],
</span>                           <span class='comment'>#     [2,3,5],[2,3,6],[2,4,5],[2,4,6]]
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_product'>product</span><span class='lparen'>(</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; [[1],[2]]
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_product'>product</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>          <span class='comment'>#=&gt; []
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5400'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5400
5401
5402
5403
5404
5405
5406
5407
5408
5409
5410
5411
5412
5413
5414
5415
5416
5417
5418
5419
5420
5421
5422
5423
5424
5425
5426
5427
5428
5429
5430
5431
5432
5433
5434
5435
5436
5437
5438
5439
5440
5441
5442
5443
5444
5445
5446
5447
5448
5449
5450
5451
5452
5453
5454
5455
5456
5457
5458
5459
5460
5461
5462
5463
5464
5465
5466
5467
5468
5469
5470
5471
5472
5473
5474
5475
5476
5477
5478
5479
5480
5481
5482
5483
5484
5485
5486
5487</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5400</span>

static VALUE
rb_ary_product(int argc, VALUE *argv, VALUE ary)
{
    int n = argc+1;    /* How many arrays we&#39;re operating on */
    volatile VALUE t0 = tmpary(n);
    volatile VALUE t1 = tmpbuf(n, sizeof(int));
    VALUE *arrays = RARRAY_PTR(t0); /* The arrays we&#39;re computing the product of */
    int *counters = (int*)RSTRING_PTR(t1); /* The current position in each one */
    VALUE result = Qnil;      /* The array we&#39;ll be returning, when no block given */
    long i,j;
    long resultlen = 1;

    RBASIC_CLEAR_CLASS(t0);
    RBASIC_CLEAR_CLASS(t1);

    /* initialize the arrays of arrays */
    ARY_SET_LEN(t0, n);
    arrays[0] = ary;
    for (i = 1; i &lt; n; i++) arrays[i] = Qnil;
    for (i = 1; i &lt; n; i++) arrays[i] = to_ary(argv[i-1]);

    /* initialize the counters for the arrays */
    for (i = 0; i &lt; n; i++) counters[i] = 0;

    /* Otherwise, allocate and fill in an array of results */
    if (rb_block_given_p()) {
	/* Make defensive copies of arrays; exit if any is empty */
	for (i = 0; i &lt; n; i++) {
	    if (RARRAY_LEN(arrays[i]) == 0) goto done;
	    arrays[i] = ary_make_shared_copy(arrays[i]);
	}
    }
    else {
	/* Compute the length of the result array; return [] if any is empty */
	for (i = 0; i &lt; n; i++) {
	    long k = RARRAY_LEN(arrays[i]);
	    if (k == 0) {
		result = rb_ary_new2(0);
		goto done;
	    }
            if (MUL_OVERFLOW_LONG_P(resultlen, k))
		rb_raise(rb_eRangeError, &quot;too big to product&quot;);
	    resultlen *= k;
	}
	result = rb_ary_new2(resultlen);
    }
    for (;;) {
	int m;
	/* fill in one subarray */
	VALUE subarray = rb_ary_new2(n);
	for (j = 0; j &lt; n; j++) {
	    rb_ary_push(subarray, rb_ary_entry(arrays[j], counters[j]));
	}

	/* put it on the result array */
	if (NIL_P(result)) {
	    FL_SET(t0, FL_USER5);
	    rb_yield(subarray);
	    if (! FL_TEST(t0, FL_USER5)) {
		rb_raise(rb_eRuntimeError, &quot;product reentered&quot;);
	    }
	    else {
		FL_UNSET(t0, FL_USER5);
	    }
	}
	else {
	    rb_ary_push(result, subarray);
	}

	/*
	 * Increment the last counter.  If it overflows, reset to 0
	 * and increment the one before it.
	 */
	m = n-1;
	counters[m]++;
	while (counters[m] == RARRAY_LEN(arrays[m])) {
	    counters[m] = 0;
	    /* If the first counter overflows, we are done */
	    if (--m &lt; 0) goto done;
	    counters[m]++;
	}
    }
done:
    tmpary_discard(t0);
    tmpbuf_discard(t1);

    return NIL_P(result) ? ary : result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="push-instance_method">
  <h3 class='signature'>
  #<strong>push</strong>(obj, ...)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Append — Pushes the given object(s) on to the end of this array. This
expression returns the array itself, so several appends may be chained
together. See also <a href="#pop-instance_method" title="Array#pop (method)">#pop</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>f</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span>
        <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L942'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


942
943
944
945
946</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 942</span>

static VALUE
rb_ary_push_m(int argc, VALUE *argv, VALUE ary)
{
    return rb_ary_cat(ary, argv, argc);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rassoc-instance_method">
  <h3 class='signature'>
  #<strong>rassoc</strong>(obj)  &#x21d2; <tt>element_ary</tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Searches through the array whose elements are also arrays.</p>

<p>Compares <code>obj</code> with the second element of each contained array
using <code>obj.==</code>.</p>

<p>Returns the first contained array that matches <code>obj</code>.</p>

<p>See also <a href="#assoc-instance_method" title="Array#assoc (method)">#assoc</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>one</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>three</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ii</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rassoc'>rassoc</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; [2, &quot;two&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rassoc'>rassoc</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>four</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3767'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3767
3768
3769
3770
3771
3772
3773
3774
3775
3776
3777
3778
3779
3780
3781</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3767</span>

VALUE
rb_ary_rassoc(VALUE ary, VALUE value)
{
    long i;
    VALUE v;

    for (i = 0; i &lt; RARRAY_LEN(ary); ++i) {
	v = RARRAY_AREF(ary, i);
	if (RB_TYPE_P(v, T_ARRAY) &amp;&amp;
	    RARRAY_LEN(v) &gt; 1 &amp;&amp;
	    rb_equal(RARRAY_AREF(v, 1), value))
	    return v;
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reject-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>reject</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>reject</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array containing the items in <code>self</code> for which the
given block is not <code>true</code>. The ordering of non-rejected elements
is maintained.</p>

<p>See also <a href="#delete_if-instance_method" title="Array#delete_if (method)">#delete_if</a></p>

<p>If no block is given, an Enumerator is returned instead.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3224'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3224
3225
3226
3227
3228
3229
3230
3231
3232
3233</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3224</span>

static VALUE
rb_ary_reject(VALUE ary)
{
    VALUE rejected_ary;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rejected_ary = rb_ary_new();
    ary_reject(ary, rejected_ary);
    return rejected_ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reject!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>reject!</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>reject!</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes every element of <code>self</code> for which the block evaluates to
<code>true</code>, if no changes were made returns <code>nil</code>.</p>

<p>The array may not be changed instantly every time the block is called.</p>

<p>See also <a href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">Enumerable#reject</a> and <a href="#delete_if-instance_method" title="Array#delete_if (method)">#delete_if</a>.</p>

<p>If no block is given, an Enumerator is returned instead.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3204'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3204
3205
3206
3207
3208
3209</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3204</span>

static VALUE
rb_ary_reject_bang(VALUE ary)
{
    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    return ary_reject_bang(ary);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="repeated_combination-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>repeated_combination</strong>(n) {|c| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>repeated_combination</strong>(n)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When invoked with a block, yields all repeated combinations of length
<code>n</code> of elements from the array and then returns the array
itself.</p>

<p>The implementation makes no guarantees about the order in which the
repeated combinations are yielded.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_combination'>repeated_combination</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1], [2], [3]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_combination'>repeated_combination</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1,1],[1,2],[1,3],[2,2],[2,3],[3,3]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_combination'>repeated_combination</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1,1,1],[1,1,2],[1,1,3],[1,2,2],[1,2,3],
</span>                                <span class='comment'>#    [1,3,3],[2,2,2],[2,2,3],[2,3,3],[3,3,3]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_combination'>repeated_combination</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1,1,1,1],[1,1,1,2],[1,1,1,3],[1,1,2,2],[1,1,2,3],
</span>                                <span class='comment'>#    [1,1,3,3],[1,2,2,2],[1,2,2,3],[1,2,3,3],[1,3,3,3],
</span>                                <span class='comment'>#    [2,2,2,2],[2,2,2,3],[2,2,3,3],[2,3,3,3],[3,3,3,3]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_combination'>repeated_combination</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[]] # one combination of length 0
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5344'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5344
5345
5346
5347
5348
5349
5350
5351
5352
5353
5354
5355
5356
5357
5358
5359
5360
5361
5362
5363
5364
5365
5366
5367
5368
5369
5370
5371
5372
5373
5374
5375
5376
5377</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5344</span>

static VALUE
rb_ary_repeated_combination(VALUE ary, VALUE num)
{
    long n, i, len;

    n = NUM2LONG(num);                 /* Combination size from argument */
    RETURN_SIZED_ENUMERATOR(ary, 1, &amp;num, rb_ary_repeated_combination_size);   /* Return enumerator if no block */
    len = RARRAY_LEN(ary);
    if (n &lt; 0) {
	/* yield nothing */
    }
    else if (n == 0) {
	rb_yield(rb_ary_new2(0));
    }
    else if (n == 1) {
	for (i = 0; i &lt; len; i++) {
	    rb_yield(rb_ary_new3(1, RARRAY_AREF(ary, i)));
	}
    }
    else if (len == 0) {
	/* yield nothing */
    }
    else {
	volatile VALUE t0;
	long *p = ALLOCV_N(long, t0, n);
	VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
	RBASIC_CLEAR_CLASS(ary0);

	rcombinate0(len, n, p, n, ary0); /* compute and yield repeated combinations */
	ALLOCV_END(t0);
	RBASIC_SET_CLASS_RAW(ary0, rb_cArray);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="repeated_permutation-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>repeated_permutation</strong>(n) {|p| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>repeated_permutation</strong>(n)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>When invoked with a block, yield all repeated permutations of length
<code>n</code> of the elements of the array, then return the array itself.</p>

<p>The implementation makes no guarantees about the order in which the
repeated permutations are yielded.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_permutation'>repeated_permutation</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1], [2]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_permutation'>repeated_permutation</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1,1],[1,2],[2,1],[2,2]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_permutation'>repeated_permutation</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[1,1,1],[1,1,2],[1,2,1],[1,2,2],
</span>                                <span class='comment'>#    [2,1,1],[2,1,2],[2,2,1],[2,2,2]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_repeated_permutation'>repeated_permutation</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>  <span class='comment'>#=&gt; [[]] # one permutation of length 0
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5250'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5250
5251
5252
5253
5254
5255
5256
5257
5258
5259
5260
5261
5262
5263
5264
5265
5266
5267
5268
5269
5270
5271
5272
5273
5274
5275
5276
5277
5278
5279
5280
5281</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5250</span>

static VALUE
rb_ary_repeated_permutation(VALUE ary, VALUE num)
{
    long r, n, i;

    n = RARRAY_LEN(ary);                  /* Array length */
    RETURN_SIZED_ENUMERATOR(ary, 1, &amp;num, rb_ary_repeated_permutation_size);      /* Return Enumerator if no block */
    r = NUM2LONG(num);                    /* Permutation size from argument */

    if (r &lt; 0) {
	/* no permutations: yield nothing */
    }
    else if (r == 0) { /* exactly one permutation: the zero-length array */
	rb_yield(rb_ary_new2(0));
    }
    else if (r == 1) { /* this is a special, easy case */
	for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	    rb_yield(rb_ary_new3(1, RARRAY_AREF(ary, i)));
	}
    }
    else {             /* this is the general case */
	volatile VALUE t0;
	long *p = ALLOCV_N(long, t0, r);
	VALUE ary0 = ary_make_shared_copy(ary); /* private defensive copy of ary */
	RBASIC_CLEAR_CLASS(ary0);

	rpermute0(n, r, p, ary0); /* compute and yield repeated permutations */
	ALLOCV_END(t0);
	RBASIC_SET_CLASS_RAW(ary0, rb_cArray);
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="replace-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>replace</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>initialize_copy</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>initialize_copy</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Replaces the contents of <code>self</code> with the contents of
<code>other_ary</code>, truncating or expanding if necessary.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_replace'>replace</span><span class='lparen'>(</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>y</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]
</span><span class='id identifier rubyid_a'>a</span>                              <span class='comment'>#=&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3423'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3423
3424
3425
3426
3427
3428
3429
3430
3431
3432
3433
3434
3435
3436
3437
3438
3439
3440
3441
3442
3443
3444
3445
3446
3447
3448
3449
3450
3451
3452
3453
3454
3455
3456
3457
3458
3459
3460
3461</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3423</span>

VALUE
rb_ary_replace(VALUE copy, VALUE orig)
{
    rb_ary_modify_check(copy);
    orig = to_ary(orig);
    if (copy == orig) return copy;

    if (RARRAY_LEN(orig) &lt;= RARRAY_EMBED_LEN_MAX) {
        VALUE shared = 0;

        if (ARY_OWNS_HEAP_P(copy)) {
	    RARRAY_PTR_USE(copy, ptr, ruby_sized_xfree(ptr, ARY_HEAP_SIZE(copy)));
	}
        else if (ARY_SHARED_P(copy)) {
            shared = ARY_SHARED(copy);
            FL_UNSET_SHARED(copy);
        }
        FL_SET_EMBED(copy);
	ary_memcpy(copy, 0, RARRAY_LEN(orig), RARRAY_CONST_PTR(orig));
        if (shared) {
            rb_ary_decrement_share(shared);
        }
        ARY_SET_LEN(copy, RARRAY_LEN(orig));
    }
    else {
        VALUE shared = ary_make_shared(orig);
        if (ARY_OWNS_HEAP_P(copy)) {
	    RARRAY_PTR_USE(copy, ptr, ruby_sized_xfree(ptr, ARY_HEAP_SIZE(copy)));
        }
        else {
            rb_ary_unshare_safe(copy);
        }
        FL_UNSET_EMBED(copy);
        ARY_SET_PTR(copy, RARRAY_CONST_PTR(orig));
        ARY_SET_LEN(copy, RARRAY_LEN(orig));
        rb_ary_set_shared(copy, shared);
    }
    return copy;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reverse-instance_method">
  <h3 class='signature'>
  #<strong>reverse</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array containing <code>self</code>&#39;s elements in reverse
order.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_reverse'>reverse</span>   <span class='comment'>#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span><span class='lbracket'>[</span> <span class='int'>1</span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_reverse'>reverse</span>               <span class='comment'>#=&gt; [1]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2256'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2256
2257
2258
2259
2260
2261
2262
2263
2264
2265
2266
2267
2268
2269</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2256</span>

static VALUE
rb_ary_reverse_m(VALUE ary)
{
    long len = RARRAY_LEN(ary);
    VALUE dup = rb_ary_new2(len);

    if (len &gt; 0) {
	const VALUE *p1 = RARRAY_CONST_PTR(ary);
	VALUE *p2 = (VALUE *)RARRAY_CONST_PTR(dup) + len - 1;
	do *p2-- = *p1++; while (--len &gt; 0);
    }
    ARY_SET_LEN(dup, RARRAY_LEN(ary));
    return dup;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reverse!-instance_method">
  <h3 class='signature'>
  #<strong>reverse!</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Reverses <code>self</code> in place.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_reverse!'>reverse!</span>       <span class='comment'>#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span>                <span class='comment'>#=&gt; [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2240'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2240
2241
2242
2243
2244</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2240</span>

static VALUE
rb_ary_reverse_bang(VALUE ary)
{
    return rb_ary_reverse(ary);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reverse_each-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>reverse_each</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>reverse_each</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Same as <a href="#each-instance_method" title="Array#each (method)">#each</a>, but traverses <code>self</code> in reverse order.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
</code></pre>

<p>produces:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_c'>c</span> <span class='id identifier rubyid_b'>b</span> <span class='id identifier rubyid_a'>a</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1872'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1872
1873
1874
1875
1876
1877
1878
1879
1880
1881
1882
1883
1884
1885
1886
1887
1888</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1872</span>

static VALUE
rb_ary_reverse_each(VALUE ary)
{
    long len;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    len = RARRAY_LEN(ary);
    while (len--) {
	long nlen;
	rb_yield(RARRAY_AREF(ary, len));
	nlen = RARRAY_LEN(ary);
	if (nlen &lt; len) {
	    len = nlen;
	}
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rindex-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>rindex</strong>(obj)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>rindex</strong> {|item| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>rindex</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the <em>index</em> of the last object in <code>self</code>
<code>==</code> to <code>obj</code>.</p>

<p>If a block is given instead of an argument, returns the <em>index</em> of
the first object for which the block returns <code>true</code>, starting
from the last object.</p>

<p>Returns <code>nil</code> if no match is found.</p>

<p>See also <a href="#index-instance_method" title="Array#index (method)">#index</a>.</p>

<p>If neither block nor argument is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; 3
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1512'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1512
1513
1514
1515
1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526
1527
1528
1529
1530
1531
1532
1533
1534
1535
1536
1537
1538
1539
1540
1541
1542
1543
1544
1545
1546
1547
1548
1549
1550
1551</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1512</span>

static VALUE
rb_ary_rindex(int argc, VALUE *argv, VALUE ary)
{
    const VALUE *ptr;
    VALUE val;
    long i = RARRAY_LEN(ary), len;

    if (argc == 0) {
	RETURN_ENUMERATOR(ary, 0, 0);
	while (i--) {
	    if (RTEST(rb_yield(RARRAY_AREF(ary, i))))
		return LONG2NUM(i);
	    if (i &gt; (len = RARRAY_LEN(ary))) {
		i = len;
	    }
	}
	return Qnil;
    }
    rb_check_arity(argc, 0, 1);
    val = argv[0];
    if (rb_block_given_p())
	rb_warn(&quot;given block not used&quot;);
    ptr = RARRAY_CONST_PTR(ary);
    while (i--) {
	VALUE e = ptr[i];
	switch (rb_equal_opt(e, val)) {
	  case Qundef:
	    if (!rb_equal(e, val)) break;
	  case Qtrue:
	    return LONG2NUM(i);
	  case Qfalse:
	    continue;
	}
	if (i &gt; (len = RARRAY_LEN(ary))) {
	    i = len;
	}
	ptr = RARRAY_CONST_PTR(ary);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rotate-instance_method">
  <h3 class='signature'>
  #<strong>rotate</strong>(count = 1)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array by rotating <code>self</code> so that the element at
<code>count</code> is the first element of the new array.</p>

<p>If <code>count</code> is negative then it rotates in the opposite
direction, starting from the end of <code>self</code> where <code>-1</code>
is the last element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rotate'>rotate</span>         <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span>                <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rotate'>rotate</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; [&quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rotate'>rotate</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>3</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2346'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2346
2347
2348
2349
2350
2351
2352
2353
2354
2355
2356
2357
2358
2359
2360
2361
2362
2363
2364
2365
2366
2367
2368
2369
2370</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2346</span>

static VALUE
rb_ary_rotate_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE rotated;
    const VALUE *ptr;
    long len, cnt = 1;

    switch (argc) {
      case 1: cnt = NUM2LONG(argv[0]);
      case 0: break;
      default: rb_scan_args(argc, argv, &quot;01&quot;, NULL);
    }

    len = RARRAY_LEN(ary);
    rotated = rb_ary_new2(len);
    if (len &gt; 0) {
	cnt = rotate_count(cnt, len);
	ptr = RARRAY_CONST_PTR(ary);
	len -= cnt;
	ary_memcpy(rotated, 0, len, ptr + cnt);
	ary_memcpy(rotated, len, cnt, ptr);
    }
    ARY_SET_LEN(rotated, RARRAY_LEN(ary));
    return rotated;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rotate!-instance_method">
  <h3 class='signature'>
  #<strong>rotate!</strong>(count = 1)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Rotates <code>self</code> in place so that the element at
<code>count</code> comes first, and returns <code>self</code>.</p>

<p>If <code>count</code> is negative then it rotates in the opposite
direction, starting from the end of the array where <code>-1</code> is the
last element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rotate!'>rotate!</span>        <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span>                <span class='comment'>#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rotate!'>rotate!</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; [&quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_rotate!'>rotate!</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>3</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2315'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2315
2316
2317
2318
2319
2320
2321
2322
2323
2324
2325
2326
2327</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2315</span>

static VALUE
rb_ary_rotate_bang(int argc, VALUE *argv, VALUE ary)
{
    long n = 1;

    switch (argc) {
      case 1: n = NUM2LONG(argv[0]);
      case 0: break;
      default: rb_scan_args(argc, argv, &quot;01&quot;, NULL);
    }
    rb_ary_rotate(ary, n);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sample-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>sample</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>sample</strong>(random:rng)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>sample</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>sample</strong>(n, random:rng)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Choose a random element or <code>n</code> random elements from the array.</p>

<p>The elements are chosen by using random and unique indices into the array
in order to ensure that an element doesn&#39;t repeat itself unless the
array already contained duplicate elements.</p>

<p>If the array is empty the first form returns <code>nil</code> and the
second form returns an empty array.</p>

<p>The optional <code>rng</code> argument will be used as the random number
generator.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span>         <span class='comment'>#=&gt; 7
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; [6, 4, 2, 5]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4749'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4749
4750
4751
4752
4753
4754
4755
4756
4757
4758
4759
4760
4761
4762
4763
4764
4765
4766
4767
4768
4769
4770
4771
4772
4773
4774
4775
4776
4777
4778
4779
4780
4781
4782
4783
4784
4785
4786
4787
4788
4789
4790
4791
4792
4793
4794
4795
4796
4797
4798
4799
4800
4801
4802
4803
4804
4805
4806
4807
4808
4809
4810
4811
4812
4813
4814
4815
4816
4817
4818
4819
4820
4821
4822
4823
4824
4825
4826
4827
4828
4829
4830
4831
4832
4833
4834
4835
4836
4837
4838
4839
4840
4841
4842
4843
4844
4845
4846
4847
4848
4849
4850
4851</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4749</span>

static VALUE
rb_ary_sample(int argc, VALUE *argv, VALUE ary)
{
    VALUE nv, result;
    VALUE opts, randgen = rb_cRandom;
    long n, len, i, j, k, idx[10];
    long rnds[numberof(idx)];

    if (OPTHASH_GIVEN_P(opts)) {
	VALUE rnd;
	ID keyword_ids[1];

	keyword_ids[0] = id_random;
	rb_get_kwargs(opts, keyword_ids, 0, 1, &amp;rnd);
	if (rnd != Qundef) {
	    randgen = rnd;
	}
    }
    len = RARRAY_LEN(ary);
    if (argc == 0) {
	if (len &lt; 2)
	    i = 0;
	else
	    i = RAND_UPTO(len);

	return rb_ary_elt(ary, i);
    }
    rb_scan_args(argc, argv, &quot;1&quot;, &amp;nv);
    n = NUM2LONG(nv);
    if (n &lt; 0) rb_raise(rb_eArgError, &quot;negative sample number&quot;);
    if (n &gt; len) n = len;
    if (n &lt;= numberof(idx)) {
	for (i = 0; i &lt; n; ++i) {
	    rnds[i] = RAND_UPTO(len - i);
	}
    }
    k = len;
    len = RARRAY_LEN(ary);
    if (len &lt; k &amp;&amp; n &lt;= numberof(idx)) {
	for (i = 0; i &lt; n; ++i) {
	    if (rnds[i] &gt;= len) return rb_ary_new_capa(0);
	}
    }
    if (n &gt; len) n = len;
    switch (n) {
      case 0:
	return rb_ary_new_capa(0);
      case 1:
	i = rnds[0];
	return rb_ary_new_from_values(1, &amp;RARRAY_AREF(ary, i));
      case 2:
	i = rnds[0];
	j = rnds[1];
	if (j &gt;= i) j++;
	return rb_ary_new_from_args(2, RARRAY_AREF(ary, i), RARRAY_AREF(ary, j));
      case 3:
	i = rnds[0];
	j = rnds[1];
	k = rnds[2];
	{
	    long l = j, g = i;
	    if (j &gt;= i) l = i, g = ++j;
	    if (k &gt;= l &amp;&amp; (++k &gt;= g)) ++k;
	}
	return rb_ary_new_from_args(3, RARRAY_AREF(ary, i), RARRAY_AREF(ary, j), RARRAY_AREF(ary, k));
    }
    if (n &lt;= numberof(idx)) {
	long sorted[numberof(idx)];
	sorted[0] = idx[0] = rnds[0];
	for (i=1; i&lt;n; i++) {
	    k = rnds[i];
	    for (j = 0; j &lt; i; ++j) {
		if (k &lt; sorted[j]) break;
		++k;
	    }
	    memmove(&amp;sorted[j+1], &amp;sorted[j], sizeof(sorted[0])*(i-j));
	    sorted[j] = idx[i] = k;
	}
	result = rb_ary_new_capa(n);
	RARRAY_PTR_USE(result, ptr_result, {
	    for (i=0; i&lt;n; i++) {
		ptr_result[i] = RARRAY_AREF(ary, idx[i]);
	    }
	});
    }
    else {
	result = rb_ary_dup(ary);
	RBASIC_CLEAR_CLASS(result);
	RB_GC_GUARD(ary);
	RARRAY_PTR_USE(result, ptr_result, {
	    for (i=0; i&lt;n; i++) {
		j = RAND_UPTO(len-i) + i;
		nv = ptr_result[j];
		ptr_result[j] = ptr_result[i];
		ptr_result[i] = nv;
	    }
	});
	RBASIC_SET_CLASS_RAW(result, rb_cArray);
    }
    ARY_SET_LEN(result, n);

    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="select-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>select</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>select</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array containing all elements of <code>ary</code> for which
the given <code>block</code> returns a true value.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>5</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_num'>num</span><span class='op'>|</span>  <span class='id identifier rubyid_num'>num</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span>  <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [2, 4]
</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w{ </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='words_sep'> </span><span class='tstring_content'>f</span><span class='words_sep'> }</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[aeiou]</span><span class='regexp_end'>/</span></span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [&quot;a&quot;, &quot;e&quot;]
</span></code></pre>

<p>See also <a href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">Enumerable#select</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2832'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2832
2833
2834
2835
2836
2837
2838
2839
2840
2841
2842
2843
2844
2845
2846</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2832</span>

static VALUE
rb_ary_select(VALUE ary)
{
    VALUE result;
    long i;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    result = rb_ary_new2(RARRAY_LEN(ary));
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	if (RTEST(rb_yield(RARRAY_AREF(ary, i)))) {
	    rb_ary_push(result, rb_ary_elt(ary, i));
	}
    }
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="select!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>select!</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>select!</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Invokes the given block passing in successive elements from
<code>self</code>, deleting elements for which the block returns a
<code>false</code> value.</p>

<p>The array may not be changed instantly every time the block is called.</p>

<p>If changes were made, it will return <code>self</code>, otherwise it
returns <code>nil</code>.</p>

<p>See also <a href="#keep_if-instance_method" title="Array#keep_if (method)">#keep_if</a></p>

<p>If no block is given, an Enumerator is returned instead.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2908'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2908
2909
2910
2911
2912
2913
2914
2915
2916
2917
2918
2919</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2908</span>

static VALUE
rb_ary_select_bang(VALUE ary)
{
    struct select_bang_arg args;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_modify(ary);

    args.ary = ary;
    args.len[0] = args.len[1] = 0;
    return rb_ensure(select_bang_i, (VALUE)&amp;args, select_bang_ensure, (VALUE)&amp;args);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="shift-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>shift</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>shift</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes the first element of <code>self</code> and returns it (shifting all
other elements down by one). Returns <code>nil</code> if the array is
empty.</p>

<p>If a number <code>n</code> is given, returns an array of the first
<code>n</code> elements (or less) just like <code>array.slice!(0, n)</code>
does. With <code>ary</code> containing only the remainder elements, not
including what was shifted to <code>new_ary</code>. See also
<a href="#unshift-instance_method" title="Array#unshift (method)">#unshift</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-m</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>     <span class='comment'>#=&gt; &quot;-m&quot;
</span><span class='id identifier rubyid_args'>args</span>           <span class='comment'>#=&gt; [&quot;-q&quot;, &quot;filename&quot;]
</span>
<span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-m</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [&quot;-m&quot;, &quot;-q&quot;]
</span><span class='id identifier rubyid_args'>args</span>           <span class='comment'>#=&gt; [&quot;filename&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1053'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1053</span>

static VALUE
rb_ary_shift_m(int argc, VALUE *argv, VALUE ary)
{
    VALUE result;
    long n;

    if (argc == 0) {
	return rb_ary_shift(ary);
    }

    rb_ary_modify_check(ary);
    result = ary_take_first_or_last(argc, argv, ary, ARY_TAKE_FIRST);
    n = RARRAY_LEN(result);
    if (ARY_SHARED_P(ary)) {
	if (ARY_SHARED_OCCUPIED(ARY_SHARED(ary))) {
	  setup_occupied_shared:
	    ary_mem_clear(ary, 0, n);
	}
        ARY_INCREASE_PTR(ary, n);
    }
    else {
	if (RARRAY_LEN(ary) &lt; ARY_DEFAULT_SIZE) {
	    RARRAY_PTR_USE(ary, ptr, {
		MEMMOVE(ptr, ptr+n, VALUE, RARRAY_LEN(ary)-n);
	    }); /* WB: no new reference */
	}
	else {
	    ary_make_shared(ary);
	    goto setup_occupied_shared;
	}
    }
    ARY_INCREASE_LEN(ary, -n);

    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="shuffle-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>shuffle</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>shuffle</strong>(random:rng)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array with elements of <code>self</code> shuffled.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span>           <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_shuffle'>shuffle</span>                 <span class='comment'>#=&gt; [2, 3, 1]
</span><span class='id identifier rubyid_a'>a</span>                         <span class='comment'>#=&gt; [1, 2, 3]
</span></code></pre>

<p>The optional <code>rng</code> argument will be used as the random number
generator.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_shuffle'>shuffle</span><span class='lparen'>(</span><span class='label'>random:</span> <span class='const'><a href="Random.html" title="Random (class)">Random</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Random.html#new-class_method" title="Random.new (method)">new</a></span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [1, 3, 2]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4716'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4716
4717
4718
4719
4720
4721
4722</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4716</span>

static VALUE
rb_ary_shuffle(int argc, VALUE *argv, VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_shuffle_bang(argc, argv, ary);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="shuffle!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>shuffle!</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>shuffle!</strong>(random:rng)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Shuffles elements in <code>self</code> in place.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span>           <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_shuffle!'>shuffle!</span>                <span class='comment'>#=&gt; [2, 3, 1]
</span><span class='id identifier rubyid_a'>a</span>                         <span class='comment'>#=&gt; [2, 3, 1]
</span></code></pre>

<p>The optional <code>rng</code> argument will be used as the random number
generator.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_shuffle!'>shuffle!</span><span class='lparen'>(</span><span class='label'>random:</span> <span class='const'><a href="Random.html" title="Random (class)">Random</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Random.html#new-class_method" title="Random.new (method)">new</a></span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [1, 3, 2]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4665'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4665
4666
4667
4668
4669
4670
4671
4672
4673
4674
4675
4676
4677
4678
4679
4680
4681
4682
4683
4684
4685
4686
4687
4688
4689
4690
4691
4692
4693
4694
4695
4696
4697</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4665</span>

static VALUE
rb_ary_shuffle_bang(int argc, VALUE *argv, VALUE ary)
{
    VALUE opts, randgen = rb_cRandom;
    long i, len;

    if (OPTHASH_GIVEN_P(opts)) {
	VALUE rnd;
	ID keyword_ids[1];

	keyword_ids[0] = id_random;
	rb_get_kwargs(opts, keyword_ids, 0, 1, &amp;rnd);
	if (rnd != Qundef) {
	    randgen = rnd;
	}
    }
    rb_check_arity(argc, 0, 0);
    rb_ary_modify(ary);
    i = len = RARRAY_LEN(ary);
    RARRAY_PTR_USE(ary, ptr, {
	while (i) {
	    long j = RAND_UPTO(i);
	    VALUE tmp;
	    if (len != RARRAY_LEN(ary) || ptr != RARRAY_CONST_PTR(ary)) {
		rb_raise(rb_eRuntimeError, &quot;modified during shuffle&quot;);
	    }
	    tmp = ptr[--i];
	    ptr[i] = ptr[j];
	    ptr[j] = tmp;
	}
    }); /* WB: no new reference */
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="size-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>length</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
    <span class='overload'>#<strong>size</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#length-instance_method" title="Array#length (method)">#length</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="slice-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>[]</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>[]</strong>(start, length)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>slice</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>slice</strong>(start, length)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>slice</strong>(range)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#%5B%5D-instance_method" title="Array#[] (method)">#[]</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="slice!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>slice!</strong>(index)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>slice!</strong>(start, length)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>slice!</strong>(range)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes the element(s) given by an <code>index</code> (optionally up to
<code>length</code> elements) or by a <code>range</code>.</p>

<p>Returns the deleted object (or objects), or <code>nil</code> if the
<code>index</code> is out of range.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; &quot;b&quot;
</span><span class='id identifier rubyid_a'>a</span>               <span class='comment'>#=&gt; [&quot;a&quot;, &quot;c&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;c&quot;
</span><span class='id identifier rubyid_a'>a</span>               <span class='comment'>#=&gt; [&quot;a&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='int'>100</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_a'>a</span>               <span class='comment'>#=&gt; [&quot;a&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3095'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3095
3096
3097
3098
3099
3100
3101
3102
3103
3104
3105
3106
3107
3108
3109
3110
3111
3112
3113
3114
3115
3116
3117
3118
3119
3120
3121
3122
3123
3124
3125
3126
3127
3128
3129
3130
3131
3132
3133
3134
3135
3136
3137
3138
3139
3140
3141
3142
3143
3144</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3095</span>

static VALUE
rb_ary_slice_bang(int argc, VALUE *argv, VALUE ary)
{
    VALUE arg1, arg2;
    long pos, len, orig_len;

    rb_ary_modify_check(ary);
    if (argc == 2) {
	pos = NUM2LONG(argv[0]);
	len = NUM2LONG(argv[1]);
      delete_pos_len:
	if (len &lt; 0) return Qnil;
	orig_len = RARRAY_LEN(ary);
	if (pos &lt; 0) {
	    pos += orig_len;
	    if (pos &lt; 0) return Qnil;
	}
	else if (orig_len &lt; pos) return Qnil;
	if (orig_len &lt; pos + len) {
	    len = orig_len - pos;
	}
	if (len == 0) return rb_ary_new2(0);
	arg2 = rb_ary_new4(len, RARRAY_CONST_PTR(ary)+pos);
	RBASIC_SET_CLASS(arg2, rb_obj_class(ary));
	rb_ary_splice(ary, pos, len, Qundef);
	return arg2;
    }

    if (argc != 1) {
	/* error report */
	rb_scan_args(argc, argv, &quot;11&quot;, NULL, NULL);
    }
    arg1 = argv[0];

    if (!FIXNUM_P(arg1)) {
	switch (rb_range_beg_len(arg1, &amp;pos, &amp;len, RARRAY_LEN(ary), 0)) {
	  case Qtrue:
	    /* valid range */
	    goto delete_pos_len;
	  case Qnil:
	    /* invalid range */
	    return Qnil;
	  default:
	    /* not a range */
	    break;
	}
    }

    return rb_ary_delete_at(ary, NUM2LONG(arg1));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sort-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>sort</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>sort</strong> {|a, b| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array created by sorting <code>self</code>.</p>

<p>Comparisons for the sort will be done using the <code>&lt;=&gt;</code>
operator or using an optional code block.</p>

<p>The block must implement a comparison between <code>a</code> and
<code>b</code> and return an integer less than 0 when <code>b</code>
follows <code>a</code>, <code>0</code> when <code>a</code> and
<code>b</code> are equivalent, or an integer greater than 0 when
<code>a</code> follows <code>b</code>.</p>

<p>See also <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">Enumerable#sort_by</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>                    <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [&quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2527'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2527
2528
2529
2530
2531
2532
2533</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2527</span>

VALUE
rb_ary_sort(VALUE ary)
{
    ary = rb_ary_dup(ary);
    rb_ary_sort_bang(ary);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sort!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>sort!</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>sort!</strong> {|a, b| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sorts <code>self</code> in place.</p>

<p>Comparisons for the sort will be done using the <code>&lt;=&gt;</code>
operator or using an optional code block.</p>

<p>The block must implement a comparison between <code>a</code> and
<code>b</code> and return an integer less than 0 when <code>b</code>
follows <code>a</code>, <code>0</code> when <code>a</code> and
<code>b</code> are equivalent, or an integer greater than 0 when
<code>a</code> follows <code>b</code>.</p>

<p>See also <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">Enumerable#sort_by</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>                    <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [&quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2445'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2445
2446
2447
2448
2449
2450
2451
2452
2453
2454
2455
2456
2457
2458
2459
2460
2461
2462
2463
2464
2465
2466
2467
2468
2469
2470
2471
2472
2473
2474
2475
2476
2477
2478
2479
2480
2481
2482
2483
2484
2485
2486
2487
2488
2489
2490
2491
2492
2493
2494
2495
2496
2497
2498
2499
2500
2501
2502
2503</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2445</span>

VALUE
rb_ary_sort_bang(VALUE ary)
{
    rb_ary_modify(ary);
    assert(!ARY_SHARED_P(ary));
    if (RARRAY_LEN(ary) &gt; 1) {
	VALUE tmp = ary_make_substitution(ary); /* only ary refers tmp */
	struct ary_sort_data data;
	long len = RARRAY_LEN(ary);

	RBASIC_CLEAR_CLASS(tmp);
	data.ary = tmp;
	data.cmp_opt.opt_methods = 0;
	data.cmp_opt.opt_inited = 0;
	RARRAY_PTR_USE(tmp, ptr, {
	    ruby_qsort(ptr, len, sizeof(VALUE),
		       rb_block_given_p()?sort_1:sort_2, &amp;data);
	}); /* WB: no new reference */
	rb_ary_modify(ary);
        if (ARY_EMBED_P(tmp)) {
            if (ARY_SHARED_P(ary)) { /* ary might be destructively operated in the given block */
                rb_ary_unshare(ary);
		FL_SET_EMBED(ary);
            }
	    ary_memcpy(ary, 0, ARY_EMBED_LEN(tmp), ARY_EMBED_PTR(tmp));
            ARY_SET_LEN(ary, ARY_EMBED_LEN(tmp));
        }
        else {
            if (!ARY_EMBED_P(ary) &amp;&amp; ARY_HEAP_PTR(ary) == ARY_HEAP_PTR(tmp)) {
                FL_UNSET_SHARED(ary);
                ARY_SET_CAPA(ary, RARRAY_LEN(tmp));
            }
            else {
                assert(!ARY_SHARED_P(tmp));
                if (ARY_EMBED_P(ary)) {
                    FL_UNSET_EMBED(ary);
                }
                else if (ARY_SHARED_P(ary)) {
                    /* ary might be destructively operated in the given block */
                    rb_ary_unshare(ary);
                }
                else {
		    ruby_sized_xfree((void *)ARY_HEAP_PTR(ary), ARY_HEAP_SIZE(ary));
                }
                ARY_SET_PTR(ary, RARRAY_CONST_PTR(tmp));
                ARY_SET_HEAP_LEN(ary, len);
                ARY_SET_CAPA(ary, RARRAY_LEN(tmp));
            }
            /* tmp was lost ownership for the ptr */
            FL_UNSET(tmp, FL_FREEZE);
            FL_SET_EMBED(tmp);
            ARY_SET_EMBED_LEN(tmp, 0);
            FL_SET(tmp, FL_FREEZE);
	}
        /* tmp will be GC&#39;ed. */
        RBASIC_SET_CLASS_RAW(tmp, rb_cArray); /* rb_cArray must be marked */
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sort_by!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>sort_by!</strong> {|obj| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>sort_by!</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sorts <code>self</code> in place using a set of keys generated by mapping
the values in <code>self</code> through the given block.</p>

<p>If no block is given, an Enumerator is returned instead.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2680'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2680
2681
2682
2683
2684
2685
2686
2687
2688
2689
2690</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2680</span>

static VALUE
rb_ary_sort_by_bang(VALUE ary)
{
    VALUE sorted;

    RETURN_SIZED_ENUMERATOR(ary, 0, 0, ary_enum_length);
    rb_ary_modify(ary);
    sorted = rb_block_call(ary, rb_intern(&quot;sort_by&quot;), 0, 0, sort_by_i, 0);
    rb_ary_replace(ary, sorted);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sum-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>sum</strong>(init = 0)  &#x21d2; <tt><a href="Numeric.html" title="Numeric (class)">Numeric</a></tt> </span>
    <span class='overload'>#<strong>sum</strong>(init = 0) {|e| ... } &#x21d2; <tt><a href="Numeric.html" title="Numeric (class)">Numeric</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the sum of elements. For example, [e1, e2, e3].sum returns init +
e1 + e2 + e3.</p>

<p>If a block is given, the block is applied to each element before addition.</p>

<p>If <em>ary</em> is empty, it returns <em>init</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span>                             <span class='comment'>#=&gt; 0
</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='float'>0.0</span><span class='rparen'>)</span>                        <span class='comment'>#=&gt; 0.0
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span>                      <span class='comment'>#=&gt; 6
</span><span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='float'>5.5</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span>                       <span class='comment'>#=&gt; 8.5
</span><span class='lbracket'>[</span><span class='float'>2.5</span><span class='comma'>,</span> <span class='float'>3.0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='float'>0.0</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>*</span> <span class='id identifier rubyid_e'>e</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; 15.25
</span><span class='lbracket'>[</span><span class='const'><a href="Object.html" title="Object (class)">Object</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span>                   <span class='comment'>#=&gt; TypeError
</span></code></pre>

<p>The (arithmetic) mean value of an array can be obtained as follows.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_mean'>mean</span> <span class='op'>=</span> <span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='float'>0.0</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
</code></pre>

<p>This method can be used for non-numeric objects by explicit <em>init</em>
argument.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>            <span class='comment'>#=&gt; &quot;abc&quot;
</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>          <span class='comment'>#=&gt; [1, [2], 3]
</span></code></pre>

<p>However, <a href="#join-instance_method" title="Array#join (method)">#join</a> and <a href="#flatten-instance_method" title="Array#flatten (method)">#flatten</a> is faster than <a href="#sum-instance_method" title="Array#sum (method)">#sum</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>               <span class='comment'>#=&gt; &quot;abc&quot;
</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; [1, [2], 3]
</span></code></pre>

<p><a href="#sum-instance_method" title="Array#sum (method)">#sum</a> method may not respect method redefinition of “+” methods such
as <code>Fixnum#+</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5695'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5695
5696
5697
5698
5699
5700
5701
5702
5703
5704
5705
5706
5707
5708
5709
5710
5711
5712
5713
5714
5715
5716
5717
5718
5719
5720
5721
5722
5723
5724
5725
5726
5727
5728
5729
5730
5731
5732
5733
5734
5735
5736
5737
5738
5739
5740
5741
5742
5743
5744
5745
5746
5747
5748
5749
5750
5751
5752
5753
5754
5755
5756
5757
5758
5759
5760
5761
5762
5763
5764
5765
5766
5767
5768
5769
5770
5771
5772
5773
5774
5775
5776
5777
5778
5779
5780
5781
5782
5783
5784
5785
5786
5787
5788
5789
5790
5791
5792
5793
5794
5795
5796
5797
5798
5799
5800
5801
5802
5803
5804</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5695</span>

static VALUE
rb_ary_sum(int argc, VALUE *argv, VALUE ary)
{
    VALUE e, v, r;
    long i, n;
    int block_given;

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;v) == 0)
        v = LONG2FIX(0);

    block_given = rb_block_given_p();

    if (RARRAY_LEN(ary) == 0)
        return v;

    n = 0;
    r = Qundef;
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
        e = RARRAY_AREF(ary, i);
        if (block_given)
            e = rb_yield(e);
        if (FIXNUM_P(e)) {
            n += FIX2LONG(e); /* should not overflow long type */
            if (!FIXABLE(n)) {
                v = rb_big_plus(LONG2NUM(n), v);
                n = 0;
            }
        }
        else if (RB_TYPE_P(e, T_BIGNUM))
            v = rb_big_plus(e, v);
        else if (RB_TYPE_P(e, T_RATIONAL)) {
            if (r == Qundef)
                r = e;
            else
                r = rb_rational_plus(r, e);
        }
        else
            goto not_exact;
    }
    if (n != 0)
        v = rb_fix_plus(LONG2FIX(n), v);
    if (r != Qundef) {
        /* r can be a Integer when mathn is loaded */
        if (FIXNUM_P(r))
            v = rb_fix_plus(r, v);
        else if (RB_TYPE_P(r, T_BIGNUM))
            v = rb_big_plus(r, v);
        else
            v = rb_rational_plus(r, v);
    }
    return v;

  not_exact:
    if (n != 0)
        v = rb_fix_plus(LONG2FIX(n), v);
    if (r != Qundef) {
        /* r can be a Integer when mathn is loaded */
        if (FIXNUM_P(r))
            v = rb_fix_plus(r, v);
        else if (RB_TYPE_P(r, T_BIGNUM))
            v = rb_big_plus(r, v);
        else
            v = rb_rational_plus(r, v);
    }

    if (RB_FLOAT_TYPE_P(e)) {
        /* Kahan&#39;s compensated summation algorithm */
        double f, c;

        f = NUM2DBL(v);
        c = 0.0;
        goto has_float_value;
        for (; i &lt; RARRAY_LEN(ary); i++) {
            double x, y, t;
            e = RARRAY_AREF(ary, i);
            if (block_given)
                e = rb_yield(e);
            if (RB_FLOAT_TYPE_P(e))
              has_float_value:
                x = RFLOAT_VALUE(e);
            else if (FIXNUM_P(e))
                x = FIX2LONG(e);
            else if (RB_TYPE_P(e, T_BIGNUM))
                x = rb_big2dbl(e);
            else if (RB_TYPE_P(e, T_RATIONAL))
                x = rb_num2dbl(e);
            else
                goto not_float;

            y = x - c;
            t = f + y;
            c = (t - f) - y;
            f = t;
        }
        return DBL2NUM(f);

      not_float:
        v = DBL2NUM(f);
    }

    goto has_some_value;
    for (; i &lt; RARRAY_LEN(ary); i++) {
        e = RARRAY_AREF(ary, i);
        if (block_given)
            e = rb_yield(e);
      has_some_value:
        v = rb_funcall(v, idPLUS, 1, e);
    }
    return v;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="take-instance_method">
  <h3 class='signature'>
  #<strong>take</strong>(n)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns first <code>n</code> elements from the array.</p>

<p>If a negative number is given, raises an ArgumentError.</p>

<p>See also <a href="#drop-instance_method" title="Array#drop (method)">#drop</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>             <span class='comment'>#=&gt; [1, 2, 3]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5504'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5504
5505
5506
5507
5508
5509
5510
5511
5512</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5504</span>

static VALUE
rb_ary_take(VALUE obj, VALUE n)
{
    long len = NUM2LONG(n);
    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;attempt to take negative size&quot;);
    }
    return rb_ary_subseq(obj, 0, len);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="take_while-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>take_while</strong> {|obj| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>take_while</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Passes elements to the block until the block returns <code>nil</code> or
<code>false</code>, then stops iterating and returns an array of all prior
elements.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<p>See also <a href="#drop_while-instance_method" title="Array#drop_while (method)">#drop_while</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_take_while'>take_while</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [1, 2]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L5531'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


5531
5532
5533
5534
5535
5536
5537
5538
5539
5540
5541</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 5531</span>

static VALUE
rb_ary_take_while(VALUE ary)
{
    long i;

    RETURN_ENUMERATOR(ary, 0, 0);
    for (i = 0; i &lt; RARRAY_LEN(ary); i++) {
	if (!RTEST(rb_yield(RARRAY_AREF(ary, i)))) break;
    }
    return rb_ary_take(ary, LONG2FIX(i));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_a-instance_method">
  <h3 class='signature'>
  #<strong>to_a</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>self</code>.</p>

<p>If called on a subclass of Array, converts the receiver to an Array object.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2147'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2147
2148
2149
2150
2151
2152
2153
2154
2155
2156</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2147</span>

static VALUE
rb_ary_to_a(VALUE ary)
{
    if (rb_obj_class(ary) != rb_cArray) {
	VALUE dup = rb_ary_new2(RARRAY_LEN(ary));
	rb_ary_replace(dup, ary);
	return dup;
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_ary-instance_method">
  <h3 class='signature'>
  #<strong>to_ary</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>self</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2197'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2197
2198
2199
2200
2201</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2197</span>

static VALUE
rb_ary_to_ary_m(VALUE ary)
{
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_h-instance_method">
  <h3 class='signature'>
  #<strong>to_h</strong>  &#x21d2; <tt><a href="Hash.html" title="Hash (class)">Hash</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the result of interpreting <em>ary</em> as an array of <code>[key,
value]</code> pairs.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='symbol'>:foo</span><span class='comma'>,</span> <span class='symbol'>:bar</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
  <span class='comment'># =&gt; {:foo =&gt; :bar, 1 =&gt; 2}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2169'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2169
2170
2171
2172
2173
2174
2175
2176
2177
2178
2179
2180
2181
2182
2183
2184
2185
2186
2187
2188</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2169</span>

static VALUE
rb_ary_to_h(VALUE ary)
{
    long i;
    VALUE hash = rb_hash_new();
    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
	const VALUE elt = rb_ary_elt(ary, i);
	const VALUE key_value_pair = rb_check_array_type(elt);
	if (NIL_P(key_value_pair)) {
	    rb_raise(rb_eTypeError, &quot;wrong element type %&quot;PRIsVALUE&quot; at %ld (expected array)&quot;,
		     rb_obj_class(elt), i);
	}
	if (RARRAY_LEN(key_value_pair) != 2) {
	    rb_raise(rb_eArgError, &quot;wrong array length at %ld (expected 2, was %ld)&quot;,
		i, RARRAY_LEN(key_value_pair));
	}
	rb_hash_aset(hash, RARRAY_AREF(key_value_pair, 0), RARRAY_AREF(key_value_pair, 1));
    }
    return hash;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_s-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>inspect</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
    <span class='overload'>#<strong>to_s</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>inspect</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a string representation of <code>self</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>     <span class='comment'>#=&gt; &quot;[\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;]&quot;
</span></code></pre>


  </div>
</div>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2125'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2125
2126
2127
2128
2129
2130</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2125</span>

static VALUE
rb_ary_inspect(VALUE ary)
{
    if (RARRAY_LEN(ary) == 0) return rb_usascii_str_new2(&quot;[]&quot;);
    return rb_exec_recursive(inspect_ary, ary, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="transpose-instance_method">
  <h3 class='signature'>
  #<strong>transpose</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Assumes that <code>self</code> is an array of arrays and transposes the
rows and columns.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>5</span><span class='comma'>,</span><span class='int'>6</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_transpose'>transpose</span>   <span class='comment'>#=&gt; [[1, 3, 5], [2, 4, 6]]
</span></code></pre>

<p>If the length of the subarrays don&#39;t match, an IndexError is raised.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3382'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3382
3383
3384
3385
3386
3387
3388
3389
3390
3391
3392
3393
3394
3395
3396
3397
3398
3399
3400
3401
3402
3403
3404
3405
3406
3407
3408</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3382</span>

static VALUE
rb_ary_transpose(VALUE ary)
{
    long elen = -1, alen, i, j;
    VALUE tmp, result = 0;

    alen = RARRAY_LEN(ary);
    if (alen == 0) return rb_ary_dup(ary);
    for (i=0; i&lt;alen; i++) {
	tmp = to_ary(rb_ary_elt(ary, i));
	if (elen &lt; 0) {		/* first element */
	    elen = RARRAY_LEN(tmp);
	    result = rb_ary_new2(elen);
	    for (j=0; j&lt;elen; j++) {
		rb_ary_store(result, j, rb_ary_new2(alen));
	    }
	}
	else if (elen != RARRAY_LEN(tmp)) {
	    rb_raise(rb_eIndexError, &quot;element size differs (%ld should be %ld)&quot;,
		     RARRAY_LEN(tmp), elen);
	}
	for (j=0; j&lt;elen; j++) {
	    rb_ary_store(rb_ary_elt(result, j), i, rb_ary_elt(tmp, j));
	}
    }
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="uniq-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>uniq</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>uniq</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array by removing duplicate values in <code>self</code>.</p>

<p>If a block is given, it will use the return value of the block for
comparison.</p>

<p>It compares values using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<p><code>self</code> is traversed in order, and the first occurrence is kept.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>   <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>student</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sam</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>student</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>george</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teacher</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>matz</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='rbrace'>}</span> <span class='comment'># =&gt; [[&quot;student&quot;, &quot;sam&quot;], [&quot;teacher&quot;, &quot;matz&quot;]]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4378'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4378
4379
4380
4381
4382
4383
4384
4385
4386
4387
4388
4389
4390
4391
4392
4393
4394
4395
4396
4397</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4378</span>

static VALUE
rb_ary_uniq(VALUE ary)
{
    VALUE hash, uniq;

    if (RARRAY_LEN(ary) &lt;= 1)
        return rb_ary_dup(ary);
    if (rb_block_given_p()) {
	hash = ary_make_hash_by(ary);
	uniq = rb_hash_values(hash);
    }
    else {
	hash = ary_make_hash(ary);
	uniq = rb_hash_values(hash);
    }
    RBASIC_SET_CLASS(uniq, rb_obj_class(ary));
    ary_recycle_hash(hash);

    return uniq;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="uniq!-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>uniq!</strong>  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>uniq!</strong> {|item| ... } &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt><sup>?</sup> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes duplicate elements from <code>self</code>.</p>

<p>If a block is given, it will use the return value of the block for
comparison.</p>

<p>It compares values using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for efficiency.</p>

<p><code>self</code> is traversed in order, and the first occurrence is kept.</p>

<p>Returns <code>nil</code> if no changes are made (that is, no duplicates are
found).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>   <span class='comment'># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>   <span class='comment'># =&gt; nil
</span>
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>student</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sam</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>student</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>george</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>teacher</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>matz</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='rbrace'>}</span> <span class='comment'># =&gt; [[&quot;student&quot;, &quot;sam&quot;], [&quot;teacher&quot;, &quot;matz&quot;]]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4326'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4326
4327
4328
4329
4330
4331
4332
4333
4334
4335
4336
4337
4338
4339
4340
4341
4342
4343
4344
4345
4346
4347
4348
4349
4350
4351
4352
4353
4354
4355</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4326</span>

static VALUE
rb_ary_uniq_bang(VALUE ary)
{
    VALUE hash;
    long hash_size;

    rb_ary_modify_check(ary);
    if (RARRAY_LEN(ary) &lt;= 1)
        return Qnil;
    if (rb_block_given_p())
	hash = ary_make_hash_by(ary);
    else
	hash = ary_make_hash(ary);

    hash_size = RHASH_SIZE(hash);
    if (RARRAY_LEN(ary) == hash_size) {
	return Qnil;
    }
    rb_ary_modify_check(ary);
    ARY_SET_LEN(ary, 0);
    if (ARY_SHARED_P(ary) &amp;&amp; !ARY_EMBED_P(ary)) {
	rb_ary_unshare(ary);
	FL_SET_EMBED(ary);
    }
    ary_resize_capa(ary, hash_size);
    st_foreach(rb_hash_tbl_raw(hash), push_value, ary);
    ary_recycle_hash(hash);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="unshift-instance_method">
  <h3 class='signature'>
  #<strong>unshift</strong>(obj, ...)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Prepends objects to the front of <code>self</code>, moving other elements
upwards. See also <a href="#shift-instance_method" title="Array#shift (method)">#shift</a> for the opposite effect.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [ 1, 2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L1160'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173
1174
1175</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 1160</span>

static VALUE
rb_ary_unshift_m(int argc, VALUE *argv, VALUE ary)
{
    long len = RARRAY_LEN(ary);
    VALUE target_ary;

    if (argc == 0) {
	rb_ary_modify_check(ary);
	return ary;
    }

    target_ary = ary_ensure_room_for_unshift(ary, argc);
    ary_memcpy0(ary, 0, argc, argv, target_ary);
    ARY_SET_LEN(ary, len + argc);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="values_at-instance_method">
  <h3 class='signature'>
  #<strong>values_at</strong>(selector, ...)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing the elements in <code>self</code> corresponding
to the given <code>selector</code>(s).</p>

<p>The selectors may be either integer indices or ranges.</p>

<p>See also <a href="#select-instance_method" title="Array#select (method)">#select</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w{ </span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>e</span><span class='words_sep'> </span><span class='tstring_content'>f</span><span class='words_sep'> }</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_values_at'>values_at</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>5</span><span class='rparen'>)</span>          <span class='comment'># =&gt; [&quot;b&quot;, &quot;d&quot;, &quot;f&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_values_at'>values_at</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>7</span><span class='rparen'>)</span>       <span class='comment'># =&gt; [&quot;b&quot;, &quot;d&quot;, &quot;f&quot;, nil]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_values_at'>values_at</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>7</span><span class='rparen'>)</span>   <span class='comment'># =&gt; [&quot;f&quot;, &quot;e&quot;, &quot;e&quot;, nil]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_values_at'>values_at</span><span class='lparen'>(</span><span class='int'>4</span><span class='op'>..</span><span class='int'>6</span><span class='comma'>,</span> <span class='int'>3</span><span class='op'>...</span><span class='int'>6</span><span class='rparen'>)</span>      <span class='comment'># =&gt; [&quot;e&quot;, &quot;f&quot;, nil, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L2807'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2807
2808
2809
2810
2811</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 2807</span>

static VALUE
rb_ary_values_at(int argc, VALUE *argv, VALUE ary)
{
    return rb_get_values_at(ary, RARRAY_LEN(ary), argc, argv, rb_ary_entry);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="zip-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>zip</strong>(arg, ...)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>zip</strong>(arg, ...) {|arr| ... } &#x21d2; <tt>nil</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Converts any arguments to arrays, then merges elements of <code>self</code>
with corresponding elements from each argument.</p>

<p>This generates a sequence of <code>ary.size</code> <em>n</em>-element
arrays, where <em>n</em> is one more than the count of arguments.</p>

<p>If the size of any argument is less than the size of the initial array,
<code>nil</code> values are supplied.</p>

<p>If a block is given, it is invoked for each output <code>array</code>,
otherwise an array of arrays is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span> <span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [[1, 4, 7], [2, 5, 8], [3, 6, 9]]
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; [[1, 4, 7], [2, 5, 8]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>8</span><span class='rbracket'>]</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; [[4, 1, 8], [5, 2, nil], [6, nil, nil]]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L3311'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3311
3312
3313
3314
3315
3316
3317
3318
3319
3320
3321
3322
3323
3324
3325
3326
3327
3328
3329
3330
3331
3332
3333
3334
3335
3336
3337
3338
3339
3340
3341
3342
3343
3344
3345
3346
3347
3348
3349
3350
3351
3352
3353
3354
3355
3356
3357
3358
3359
3360
3361
3362
3363
3364
3365
3366
3367</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 3311</span>

static VALUE
rb_ary_zip(int argc, VALUE *argv, VALUE ary)
{
    int i, j;
    long len = RARRAY_LEN(ary);
    VALUE result = Qnil;

    for (i=0; i&lt;argc; i++) {
	argv[i] = take_items(argv[i], len);
    }

    if (rb_block_given_p()) {
	int arity = rb_block_arity();

	if (arity &gt; 1) {
	    VALUE work, *tmp;

	    tmp = ALLOCV_N(VALUE, work, argc+1);

	    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
		tmp[0] = RARRAY_AREF(ary, i);
		for (j=0; j&lt;argc; j++) {
		    tmp[j+1] = rb_ary_elt(argv[j], i);
		}
		rb_yield_values2(argc+1, tmp);
	    }

	    if (work) ALLOCV_END(work);
	}
	else {
	    for (i=0; i&lt;RARRAY_LEN(ary); i++) {
		VALUE tmp = rb_ary_new2(argc+1);

		rb_ary_push(tmp, RARRAY_AREF(ary, i));
		for (j=0; j&lt;argc; j++) {
		    rb_ary_push(tmp, rb_ary_elt(argv[j], i));
		}
		rb_yield(tmp);
	    }
	}
    }
    else {
	result = rb_ary_new_capa(len);

	for (i=0; i&lt;len; i++) {
	    VALUE tmp = rb_ary_new_capa(argc+1);

	    rb_ary_push(tmp, RARRAY_AREF(ary, i));
	    for (j=0; j&lt;argc; j++) {
		rb_ary_push(tmp, rb_ary_elt(argv[j], i));
	    }
	    rb_ary_push(result, tmp);
	}
    }

    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="|-instance_method">
  <h3 class='signature'>
  #<strong>|</strong>(other_ary)  &#x21d2; <tt><a href="" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set Union — Returns a new array by joining <code>ary</code> with
<code>other_ary</code>, excluding any duplicates and preserving the order
from the given arrays.</p>

<p>It compares elements using their <a href="#hash-instance_method" title="Array#hash (method)">#hash</a> and <a href="#eql%3F-instance_method" title="Array#eql? (method)">#eql?</a> methods for
efficiency.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span> <span class='op'>|</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>    <span class='comment'>#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span><span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span> <span class='op'>|</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span> <span class='rbracket'>]</span>    <span class='comment'>#=&gt; [ &quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot; ]
</span></code></pre>

<p>See also <a href="#uniq-instance_method" title="Array#uniq (method)">#uniq</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/array.c#L4162'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


4162
4163
4164
4165
4166
4167
4168
4169
4170
4171
4172
4173
4174
4175
4176
4177
4178
4179
4180</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'array.c', line 4162</span>

static VALUE
rb_ary_or(VALUE ary1, VALUE ary2)
{
    VALUE hash, ary3;
    long i;

    ary2 = to_ary(ary2);
    hash = ary_make_hash(ary1);

    for (i=0; i&lt;RARRAY_LEN(ary2); i++) {
	VALUE elt = RARRAY_AREF(ary2, i);
	if (!st_update(RHASH_TBL_RAW(hash), (st_data_t)elt, ary_hash_orset, (st_data_t)elt)) {
	    RB_OBJ_WRITTEN(hash, Qundef, elt);
	}
    }
    ary3 = rb_hash_values(hash);
    ary_recycle_hash(hash);
    return ary3;
}
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>