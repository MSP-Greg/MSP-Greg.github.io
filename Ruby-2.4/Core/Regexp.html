<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Regexp &mdash; Core Ruby-2.4.0 d2016-07-27</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Regexp",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>Core</a> &raquo; 
          <a href='_index.html'>Index (R)</a> &raquo; 
          <span class='title'>Regexp</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Regexp</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="Object.html" title="Object (class)">Object</a></li>
        <li class='next'>Regexp</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>





  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3923'>re.c</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/trunk/encoding.c#L991'>encoding.c</a></span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A <a href="" title="Regexp (class)">Regexp</a> holds a regular expression, used to match a pattern against
strings. Regexps are created using the <code>/.../</code> and
<code>%r{...}</code> literals, and by the <a href="#new-class_method" title="Regexp.new (method)">Regexp.new</a> constructor.</p>

<p>:include: doc/regexp.rdoc</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='EXTENDED-constant'>
      EXTENDED
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>see <a href="#options-instance_method" title="Regexp#options (method)">#options</a> and <a href="#new-class_method" title="Regexp.new (method)">new</a></p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='FIXEDENCODING-constant'>
      FIXEDENCODING
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>see <a href="#options-instance_method" title="Regexp#options (method)">#options</a> and <a href="#new-class_method" title="Regexp.new (method)">new</a></p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='IGNORECASE-constant'>
      IGNORECASE
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>see <a href="#options-instance_method" title="Regexp#options (method)">#options</a> and <a href="#new-class_method" title="Regexp.new (method)">new</a></p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='MULTILINE-constant'>
      MULTILINE
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>see <a href="#options-instance_method" title="Regexp#options (method)">#options</a> and <a href="#new-class_method" title="Regexp.new (method)">new</a></p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
    <dt id='NOENCODING-constant'>
      NOENCODING
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>see <a href="#options-instance_method" title="Regexp#options (method)">#options</a> and <a href="#new-class_method" title="Regexp.new (method)">new</a></p>


  </div>
</div>
<div class="tags">
  
</div>    </dd>
  </dl>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#compile-class_method" title="Alias (class method)"><strong>Alias</strong>(for &lt;code&gt;Regexp.new&lt;/code&gt;)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#escape-class_method" title="escape (class method)">.<strong>escape</strong>(str)  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#quote-class_method" title="Regexp.quote (method)">Regexp.quote</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#last_match-class_method" title="last_match (class method)">.<strong>last_match</strong>  &#x21d2; MatchData </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The first form returns the MatchData object generated by the last
successful pattern match.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(string, [options])  &#x21d2; Regexp </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Constructs a new regular expression from <code>pattern</code>, which can be
either a String or a Regexp (in which case that regexp&#39;s options are
propagated), and new options may not be specified (a change as of Ruby
1.8).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#quote-class_method" title="quote (class method)">.<strong>quote</strong>(str)  &#x21d2; String </a>
        (also: .escape)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Escapes any characters that would have special meaning in a regular
expression.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#try_convert-class_method" title="try_convert (class method)">.<strong>try_convert</strong>(obj)  &#x21d2; re<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Try to convert <em>obj</em> into a Regexp, using to_regexp method.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#union-class_method" title="union (class method)">.<strong>union</strong>(pat1, pat2, ...)  &#x21d2; Regexp </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return a <code>Regexp</code> object that is the union of the given
<em>pattern</em>s, i.e., will match any of its parts.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%3D%3D-instance_method" title="#== (instance method)">#<strong>==</strong>(other_rxp)  &#x21d2; Boolean </a>
        (also: #eql?)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Equality—Two regexps are equal if their patterns are identical, they have
the same character set code, and their <code>casefold?</code> values are
the same.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%3D%3D%3D-instance_method" title="#=== (instance method)">#<strong>===</strong>(str)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Case Equality—Used in case statements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%3D%7E-instance_method" title="#=~ (instance method)">#<strong>=~</strong>(str)  &#x21d2; Integer<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Match—Matches <em>rxp</em> against <em>str</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#casefold%3F-instance_method" title="#casefold? (instance method)">#<strong>casefold?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the value of the case-insensitive flag.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#encoding-instance_method" title="#encoding (instance method)">#<strong>encoding</strong>  &#x21d2; Encoding </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the Encoding object that represents the encoding of obj.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(other_rxp)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#%3D%3D-instance_method" title="Regexp#== (method)">#==</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fixed_encoding%3F-instance_method" title="#fixed_encoding? (instance method)">#<strong>fixed_encoding?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns false if rxp is applicable to a string with any ASCII compatible
encoding.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Produce a hash based on the text and options of this regular expression.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Produce a nicely formatted string-version of <em>rxp</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#match-instance_method" title="#match (instance method)">#<strong>match</strong>(str)  &#x21d2; MatchData<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a <a href="MatchData.html" title="MatchData (class)">MatchData</a> object describing the match, or <code>nil</code> if
there was no match.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#match%3F-instance_method" title="#match? (instance method)">#<strong>match?</strong>(str)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a <code>true</code> or <code>false</code> indicates whether the
regexp is matched or not without updating $~ and other related variables.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#named_captures-instance_method" title="#named_captures (instance method)">#<strong>named_captures</strong>  &#x21d2; Hash </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a hash representing information about named captures of
<em>rxp</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#names-instance_method" title="#names (instance method)">#<strong>names</strong>  &#x21d2; Array, ... </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a list of names of captures as an array of strings.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  &#x21d2; Fixnum </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the set of bits corresponding to the options used when creating
this Regexp (see <a href="#new-class_method" title="Regexp.new (method)">Regexp.new</a> for details. Note that additional bits may be
set in the returned options: these are used internally by the regular
expression code. These extra bits are ignored if the options are passed to
<a href="#new-class_method" title="Regexp.new (method)">Regexp.new</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Regexp</span><span class='op'>::</span><span class='const'><a href="#IGNORECASE-constant" title="Regexp::IGNORECASE (constant)">IGNORECASE</a></span>                  <span class='comment'>#=&gt; 1
</span><span class='const'>Regexp</span><span class='op'>::</span><span class='const'><a href="#EXTENDED-constant" title="Regexp::EXTENDED (constant)">EXTENDED</a></span>                    <span class='comment'>#=&gt; 2
</span><span class='const'>Regexp</span><span class='op'>::</span><span class='const'><a href="#MULTILINE-constant" title="Regexp::MULTILINE (constant)">MULTILINE</a></span>                   <span class='comment'>#=&gt; 4
</span></code></pre>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#source-instance_method" title="#source (instance method)">#<strong>source</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the original string of the pattern.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string containing the regular expression and its options (using
the <code>(?opts:source)</code> notation. This string can be fed back in to
<a href="#new-class_method" title="Regexp.new (method)">Regexp.new</a> to a regular expression with the same semantics as the
original. (However, <a href="#%3D%3D-instance_method" title="Regexp#== (method)">#==</a> may not return true when comparing the two,
as the source of the regular expression itself may differ, as the example
shows).  <a href="#inspect-instance_method" title="Regexp#inspect (method)">#inspect</a> produces a generally more readable version of
<em>rxp</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_r1'>r1</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ab+c</span><span class='regexp_end'>/ix</span></span>           <span class='comment'>#=&gt; /ab+c/ix
</span><span class='id identifier rubyid_s1'>s1</span> <span class='op'>=</span> <span class='id identifier rubyid_r1'>r1</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>            <span class='comment'>#=&gt; &quot;(?ix-m:ab+c)&quot;
</span><span class='id identifier rubyid_r2'>r2</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Regexp.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_s1'>s1</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; /(?ix-m:ab+c)/
</span><span class='id identifier rubyid_r1'>r1</span> <span class='op'>==</span> <span class='id identifier rubyid_r2'>r2</span>                <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_r1'>r1</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span>               <span class='comment'>#=&gt; &quot;ab+c&quot;
</span><span class='id identifier rubyid_r2'>r2</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span>               <span class='comment'>#=&gt; &quot;(?ix-m:ab+c)&quot;
</span></code></pre>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%7E-instance_method" title="#~ (instance method)">#<strong>~</strong>(rxp)  &#x21d2; Integer<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Match—Matches <em>rxp</em> against the contents of <code>$_</code>.</p>
</div>
      </span>
    </li>
  </ul>


<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  <span class='overload'>.<strong>new</strong>(string, [options])  &#x21d2; <tt><a href="" title="Regexp (class)">Regexp</a></tt> </span>
    <span class='overload'>.<strong>new</strong>(regexp)  &#x21d2; <tt><a href="" title="Regexp (class)">Regexp</a></tt> </span>
    <span class='overload'>.<strong>compile</strong>(string, [options])  &#x21d2; <tt><a href="" title="Regexp (class)">Regexp</a></tt> </span>
    <span class='overload'>.<strong>compile</strong>(regexp)  &#x21d2; <tt><a href="" title="Regexp (class)">Regexp</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Constructs a new regular expression from <code>pattern</code>, which can be
either a String or a Regexp (in which case that regexp&#39;s options are
propagated), and new options may not be specified (a change as of Ruby
1.8).</p>

<p>If <code>options</code> is a Fixnum, it should be one or more of the
constants <a href="#EXTENDED-constant" title="Regexp::EXTENDED (constant)">EXTENDED</a>, <a href="#IGNORECASE-constant" title="Regexp::IGNORECASE (constant)">IGNORECASE</a>, and
<a href="#MULTILINE-constant" title="Regexp::MULTILINE (constant)">MULTILINE</a>, <em>or</em>-ed together.  Otherwise, if
<code>options</code> is not <code>nil</code> or <code>false</code>, the
regexp will be case insensitive.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_r1'>r1</span> <span class='op'>=</span> <span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>^a-z:\\s\w+</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; /^a-z:\s\w+/
</span><span class='id identifier rubyid_r2'>r2</span> <span class='op'>=</span> <span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; /cat/i
</span><span class='id identifier rubyid_r3'>r3</span> <span class='op'>=</span> <span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_r2'>r2</span><span class='rparen'>)</span>              <span class='comment'>#=&gt; /cat/i
</span><span class='id identifier rubyid_r4'>r4</span> <span class='op'>=</span> <span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dog</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='op'>::</span><span class='const'><a href="#EXTENDED-constant" title="Regexp::EXTENDED (constant)">EXTENDED</a></span> <span class='op'>|</span> <span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='op'>::</span><span class='const'><a href="#IGNORECASE-constant" title="Regexp::IGNORECASE (constant)">IGNORECASE</a></span><span class='rparen'>)</span> <span class='comment'>#=&gt; /dog/ix
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3306'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3306
3307
3308
3309
3310
3311
3312
3313
3314
3315
3316
3317
3318
3319
3320
3321
3322
3323
3324
3325
3326
3327
3328
3329
3330
3331
3332
3333
3334
3335
3336
3337
3338
3339
3340
3341
3342
3343
3344
3345
3346</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3306</span>

static VALUE
rb_reg_initialize_m(int argc, VALUE *argv, VALUE self)
{
    int flags = 0;
    VALUE str;
    rb_encoding *enc = 0;

    rb_check_arity(argc, 1, 3);
    if (RB_TYPE_P(argv[0], T_REGEXP)) {
	VALUE re = argv[0];

	if (argc &gt; 1) {
	    rb_warn(&quot;flags ignored&quot;);
	}
	rb_reg_check(re);
	flags = rb_reg_options(re);
	str = RREGEXP_SRC(re);
    }
    else {
	if (argc &gt;= 2) {
	    if (FIXNUM_P(argv[1])) flags = FIX2INT(argv[1]);
	    else if (RTEST(argv[1])) flags = ONIG_OPTION_IGNORECASE;
	}
	if (argc == 3 &amp;&amp; !NIL_P(argv[2])) {
	    char *kcode = StringValuePtr(argv[2]);
	    if (kcode[0] == &#39;n&#39; || kcode[0] == &#39;N&#39;) {
		enc = rb_ascii8bit_encoding();
		flags |= ARG_ENCODING_NONE;
	    }
	    else {
		rb_warn(&quot;encoding option is ignored - %s&quot;, kcode);
	    }
	}
	str = StringValue(argv[0]);
    }
    if (enc &amp;&amp; rb_enc_get(str) != enc)
	rb_reg_init_str_enc(self, str, enc, flags);
    else
	rb_reg_init_str(self, str, flags);
    return self;
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="compile-class_method">
  <h3 class='signature first'>
  <strong>Alias</strong>(for &lt;code&gt;Regexp.new&lt;/code&gt;)  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3925'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="escape-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>escape</strong>(str)  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
    <span class='overload'>.<strong>quote</strong>(str)  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#quote-class_method" title="Regexp.quote (method)">quote</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="last_match-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>last_match</strong>  &#x21d2; <tt><a href="MatchData.html" title="MatchData (class)">MatchData</a></tt> </span>
    <span class='overload'>.<strong>last_match</strong>(n)  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The first form returns the MatchData object generated by the last
successful pattern match.  Equivalent to reading the special global
variable <code>$~</code> (see Special global variables in Regexp for
details).</p>

<p>The second form returns the <em>n</em>th field in this MatchData object.
<em>n</em> can be a string or symbol to reference a named capture.</p>

<p>Note that the last_match is local to the thread and method scope of the
method that did the pattern match.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>c(.)t</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span>        <span class='comment'>#=&gt; 0
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span>       <span class='comment'>#=&gt; #&lt;MatchData &quot;cat&quot; 1:&quot;a&quot;&gt;
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;cat&quot;
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;a&quot;
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; nil
</span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;lhs&gt;\w)\s*=\s*(?&lt;rhs&gt;\w)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>var = val</span><span class='tstring_end'>&quot;</span></span>
<span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span>       <span class='comment'>#=&gt; #&lt;MatchData &quot;var = val&quot; lhs:&quot;var&quot; rhs:&quot;val&quot;&gt;
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='symbol'>:lhs</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;var&quot;
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='symbol'>:rhs</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;val&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3859'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3859
3860
3861
3862
3863
3864
3865
3866
3867
3868
3869
3870
3871
3872</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3859</span>

static VALUE
rb_reg_s_last_match(int argc, VALUE *argv)
{
    VALUE nth;

    if (argc &gt; 0 &amp;&amp; rb_scan_args(argc, argv, &quot;01&quot;, &amp;nth) == 1) {
        VALUE match = rb_backref_get();
        int n;
        if (NIL_P(match)) return Qnil;
        n = match_backref_number(match, nth);
	return rb_reg_nth_match(n, match);
    }
    return match_getter();
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="quote-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>escape</strong>(str)  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
    <span class='overload'>.<strong>quote</strong>(str)  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>escape</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Escapes any characters that would have special meaning in a regular
expression. Returns a new escaped string, or self if no characters are
escaped.  For any string,
<code>Regexp.new(Regexp.escape(<em>str</em>))=~<em>str</em></code> will be
true.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\*?{}.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; \\\*\?\{\}\.
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3460'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3460
3461
3462
3463
3464</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3460</span>

static VALUE
rb_reg_s_quote(VALUE c, VALUE str)
{
    return rb_reg_quote(reg_operand(str, TRUE));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="try_convert-class_method">
  <h3 class='signature'>
  .<strong>try_convert</strong>(obj)  &#x21d2; <tt>re</tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Try to convert <em>obj</em> into a Regexp, using to_regexp method. Returns
converted regexp or nil if <em>obj</em> cannot be converted for any reason.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>re</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; /re/
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>re</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; nil
</span>
<span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><a href="Object.html" title="Object (class)">Object</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span>
<span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; nil
</span><span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_regexp'>to_regexp</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>foo</span><span class='regexp_end'>/</span></span> <span class='kw'>end</span>
<span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_try_convert'>try_convert</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; /foo/
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3501'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3501
3502
3503
3504
3505</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3501</span>

static VALUE
rb_reg_s_try_convert(VALUE dummy, VALUE re)
{
    return rb_check_regexp_type(re);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="union-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>union</strong>(pat1, pat2, ...)  &#x21d2; <tt><a href="" title="Regexp (class)">Regexp</a></tt> </span>
    <span class='overload'>.<strong>union</strong>(pats_ary)  &#x21d2; <tt><a href="" title="Regexp (class)">Regexp</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return a <code>Regexp</code> object that is the union of the given
<em>pattern</em>s, i.e., will match any of its parts. The <em>pattern</em>s
can be Regexp objects, in which case their options will be preserved, or
Strings. If no patterns are given, returns <code>/(?!)/</code>. The
behavior is unspecified if any given <em>pattern</em> contains capture.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_union'>union</span>                         <span class='comment'>#=&gt; /(?!)/
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_union'>union</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>penzance</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; /penzance/
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_union'>union</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a+b*c</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>                <span class='comment'>#=&gt; /a\+b\*c/
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_union'>union</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>skiing</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sledding</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; /skiing|sledding/
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_union'>union</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>skiing</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sledding</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'>#=&gt; /skiing|sledding/
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_union'>union</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>dogs</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>cats</span><span class='regexp_end'>/i</span></span><span class='rparen'>)</span>        <span class='comment'>#=&gt; /(?-mix:dogs)|(?i-mx:cats)/
</span></code></pre>

<p>Note: the arguments for <a href="#union-class_method" title="Regexp.union (method)">union</a> will try to be converted into a regular
expression literal via <code>#to_regexp</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3642'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3642
3643
3644
3645
3646
3647
3648
3649
3650
3651</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3642</span>

static VALUE
rb_reg_s_union_m(VALUE self, VALUE args)
{
    VALUE v;
    if (RARRAY_LEN(args) == 1 &amp;&amp;
        !NIL_P(v = rb_check_array_type(rb_ary_entry(args, 0)))) {
        return rb_reg_s_union(self, v);
    }
    return rb_reg_s_union(self, args);
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="==-instance_method">
  <h3 class='signature first'>
  <span class='overload'>#<strong>==</strong>(other_rxp)  &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>eql?</strong>(other_rxp)  &#x21d2; <tt>Boolean</tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>eql?</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equality—Two regexps are equal if their patterns are identical, they have
the same character set code, and their <code>casefold?</code> values are
the same.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>abc</span><span class='regexp_end'>/</span></span>  <span class='op'>==</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>abc</span><span class='regexp_end'>/x</span></span>   <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>abc</span><span class='regexp_end'>/</span></span>  <span class='op'>==</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>abc</span><span class='regexp_end'>/i</span></span>   <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>abc</span><span class='regexp_end'>/</span></span>  <span class='op'>==</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>abc</span><span class='regexp_end'>/u</span></span>   <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>abc</span><span class='regexp_end'>/u</span></span> <span class='op'>==</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>abc</span><span class='regexp_end'>/n</span></span>   <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L2921'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2921
2922
2923
2924
2925
2926
2927
2928
2929
2930
2931
2932
2933
2934
2935</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 2921</span>

static VALUE
rb_reg_equal(VALUE re1, VALUE re2)
{
    if (re1 == re2) return Qtrue;
    if (!RB_TYPE_P(re2, T_REGEXP)) return Qfalse;
    rb_reg_check(re1); rb_reg_check(re2);
    if (FL_TEST(re1, KCODE_FIXED) != FL_TEST(re2, KCODE_FIXED)) return Qfalse;
    if (RREGEXP_PTR(re1)-&gt;options != RREGEXP_PTR(re2)-&gt;options) return Qfalse;
    if (RREGEXP_SRC_LEN(re1) != RREGEXP_SRC_LEN(re2)) return Qfalse;
    if (ENCODING_GET(re1) != ENCODING_GET(re2)) return Qfalse;
    if (memcmp(RREGEXP_SRC_PTR(re1), RREGEXP_SRC_PTR(re2), RREGEXP_SRC_LEN(re1)) == 0) {
	return Qtrue;
    }
    return Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="===-instance_method">
  <h3 class='signature'>
  #<strong>===</strong>(str)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Case Equality—Used in case statements.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HELLO</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>case</span> <span class='id identifier rubyid_a'>a</span>
<span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[a-z]*$</span><span class='regexp_end'>/</span></span><span class='semicolon'>;</span> <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Lower case\n</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[A-Z]*$</span><span class='regexp_end'>/</span></span><span class='semicolon'>;</span> <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Upper case\n</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>else</span><span class='semicolon'>;</span>            <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mixed case\n</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='comment'>#=&gt; &quot;Upper case&quot;
</span></code></pre>

<p>Following a regular expression literal with the <a href="#%3D%3D%3D-instance_method" title="Regexp#=== (method)">#===</a> operator allows you
to compare against a String.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[a-z]*$</span><span class='regexp_end'>/</span></span> <span class='op'>===</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HELLO</span><span class='tstring_end'>&quot;</span></span> <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[A-Z]*$</span><span class='regexp_end'>/</span></span> <span class='op'>===</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HELLO</span><span class='tstring_end'>&quot;</span></span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3099'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3099
3100
3101
3102
3103
3104
3105
3106
3107
3108
3109
3110
3111
3112
3113
3114</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3099</span>

VALUE
rb_reg_eqq(VALUE re, VALUE str)
{
    long start;

    str = reg_operand(str, FALSE);
    if (NIL_P(str)) {
	rb_backref_set(Qnil);
	return Qfalse;
    }
    start = rb_reg_search(re, str, 0, 0);
    if (start &lt; 0) {
	return Qfalse;
    }
    return Qtrue;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="=~-instance_method">
  <h3 class='signature'>
  #<strong>=~</strong>(str)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Match—Matches <em>rxp</em> against <em>str</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>at</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>input data</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; 7
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ax</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>input data</span><span class='tstring_end'>&quot;</span></span>   <span class='comment'>#=&gt; nil
</span></code></pre>

<p>If <code>=~</code> is used with a regexp literal with named captures,
captured strings (or nil) is assigned to local variables named by the
capture names.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;lhs&gt;\w)\s*=\s*(?&lt;rhs&gt;\w)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  x = y  </span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lhs'>lhs</span>    <span class='comment'>#=&gt; &quot;x&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_rhs'>rhs</span>    <span class='comment'>#=&gt; &quot;y&quot;
</span></code></pre>

<p>If it is not matched, nil is assigned for the variables.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;lhs&gt;\w)\s*=\s*(?&lt;rhs&gt;\w)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  x = </span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lhs'>lhs</span>    <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_rhs'>rhs</span>    <span class='comment'>#=&gt; nil
</span></code></pre>

<p>This assignment is implemented in the Ruby parser. The parser detects
&#39;regexp-literal =~ expression&#39; for the assignment. The regexp must
be a literal without interpolation and placed at left hand side.</p>

<p>The assignment does not occur if the regexp is not a literal.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_re'>re</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;lhs&gt;\w)\s*=\s*(?&lt;rhs&gt;\w)</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_re'>re</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  x = y  </span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lhs'>lhs</span>    <span class='comment'># undefined local variable
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_rhs'>rhs</span>    <span class='comment'># undefined local variable
</span></code></pre>

<p>A regexp interpolation, <code>#{}</code>, also disables the assignment.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rhs_pat'>rhs_pat</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;rhs&gt;\w+)</span><span class='regexp_end'>/</span></span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;lhs&gt;\w+)\s*=\s*</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rhs_pat'>rhs_pat</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x = y</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lhs'>lhs</span>    <span class='comment'># undefined local variable
</span></code></pre>

<p>The assignment does not occur if the regexp is placed at the right hand
side.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  x = y  </span><span class='tstring_end'>&quot;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;lhs&gt;\w)\s*=\s*(?&lt;rhs&gt;\w)</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lhs'>lhs</span><span class='comma'>,</span> <span class='id identifier rubyid_rhs'>rhs</span> <span class='comment'># undefined local variable
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3069'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3069
3070
3071
3072
3073
3074
3075
3076</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3069</span>

VALUE
rb_reg_match(VALUE re, VALUE str)
{
    long pos = reg_match_pos(re, &amp;str, 0);
    if (pos &lt; 0) return Qnil;
    pos = rb_str_sublen(str, pos);
    return LONG2FIX(pos);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="casefold?-instance_method">
  <h3 class='signature'>
  #<strong>casefold?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the value of the case-insensitive flag.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>a</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_casefold?'>casefold?</span>           <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>a</span><span class='regexp_end'>/i</span></span><span class='period'>.</span><span class='id identifier rubyid_casefold?'>casefold?</span>          <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?i:a)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_casefold?'>casefold?</span>      <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L716'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


716
717
718
719
720
721
722</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 716</span>

static VALUE
rb_reg_casefold_p(VALUE re)
{
    rb_reg_check(re);
    if (RREGEXP_PTR(re)-&gt;options &amp; ONIG_OPTION_IGNORECASE) return Qtrue;
    return Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="encoding-instance_method">
  <h3 class='signature'>
  #<strong>encoding</strong>  &#x21d2; <tt><a href="Encoding.html" title="Encoding (class)">Encoding</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the Encoding object that represents the encoding of obj.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/encoding.c#L991'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


991
992
993
994
995
996
997
998
999</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'encoding.c', line 991</span>

VALUE
rb_obj_encoding(VALUE obj)
{
    int idx = rb_enc_get_index(obj);
    if (idx &lt; 0) {
	rb_raise(rb_eTypeError, &quot;unknown encoding&quot;);
    }
    return rb_enc_from_encoding_index(idx &amp; ENC_INDEX_MASK);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="eql?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>==</strong>(other_rxp)  &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>eql?</strong>(other_rxp)  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#%3D%3D-instance_method" title="Regexp#== (method)">#==</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="fixed_encoding?-instance_method">
  <h3 class='signature'>
  #<strong>fixed_encoding?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns false if rxp is applicable to a string with any ASCII compatible
encoding. Returns true otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>a</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_fixed_encoding?'>fixed_encoding?</span>                               <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{6666} a</span><span class='tstring_end'>&quot;</span></span>                               <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xa1\xa2 a</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>euc-jp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>      <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>euc-jp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; 0
</span>
<span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>a</span><span class='regexp_end'>/u</span></span>
<span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_fixed_encoding?'>fixed_encoding?</span>                               <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span>                                      <span class='comment'>#=&gt; #&lt;Encoding:UTF-8&gt;
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{6666} a</span><span class='tstring_end'>&quot;</span></span>                               <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xa1\xa2</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>euc-jp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>        <span class='comment'>#=&gt; ArgumentError
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>euc-jp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; 0
</span>
<span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\u{6666}</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_fixed_encoding?'>fixed_encoding?</span>                               <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span>                                      <span class='comment'>#=&gt; #&lt;Encoding:UTF-8&gt;
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\u{6666} a</span><span class='tstring_end'>&quot;</span></span>                               <span class='comment'>#=&gt; 0
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xa1\xa2</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>euc-jp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>        <span class='comment'>#=&gt; ArgumentError
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=~</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>euc-jp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>             <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L1351'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1351
1352
1353
1354
1355
1356
1357
1358</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 1351</span>

static VALUE
rb_reg_fixed_encoding_p(VALUE re)
{
    if (FL_TEST(re, KCODE_FIXED))
        return Qtrue;
    else
        return Qfalse;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hash-instance_method">
  <h3 class='signature'>
  #<strong>hash</strong>  &#x21d2; <tt><a href="Object.html#Fixnum-constant" title="Object::Fixnum (constant)">Fixnum</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Produce a hash based on the text and options of this regular expression.</p>

<p>See also <a href="Object.html#hash-instance_method" title="Object#hash (method)">Object#hash</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L2887'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2887
2888
2889
2890
2891
2892</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 2887</span>

static VALUE
rb_reg_hash(VALUE re)
{
    st_index_t hashval = reg_hash(re);
    return LONG2FIX(hashval);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  #<strong>inspect</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Produce a nicely formatted string-version of <em>rxp</em>. Perhaps
surprisingly, <a href="#inspect-instance_method" title="Regexp#inspect (method)">#inspect</a> actually produces the more natural version of the
string than <a href="#to_s-instance_method" title="Regexp#to_s (method)">#to_s</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ab+c</span><span class='regexp_end'>/ix</span></span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>        <span class='comment'>#=&gt; &quot;/ab+c/ix&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L520'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


520
521
522
523
524
525
526
527</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 520</span>

static VALUE
rb_reg_inspect(VALUE re)
{
    if (!RREGEXP_PTR(re) || !RREGEXP_SRC(re) || !RREGEXP_SRC_PTR(re)) {
        return rb_any_to_s(re);
    }
    return rb_reg_desc(RREGEXP_SRC_PTR(re), RREGEXP_SRC_LEN(re), re);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="match-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>match</strong>(str)  &#x21d2; <tt><a href="MatchData.html" title="MatchData (class)">MatchData</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>match</strong>(str, pos)  &#x21d2; <tt><a href="MatchData.html" title="MatchData (class)">MatchData</a></tt><sup>?</sup> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a <a href="MatchData.html" title="MatchData (class)">MatchData</a> object describing the match, or <code>nil</code> if
there was no match. This is equivalent to retrieving the value of the
special variable <code>$~</code> following a normal match. If the second
parameter is present, it specifies the position in the string to begin the
search.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(.)(.)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;b&quot;
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(.)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; &quot;c&quot;
</span></code></pre>

<p>If a block is given, invoke the block with MatchData if match succeed, so
that you can write</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>M(.*)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Matz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</code></pre>

<p>instead of</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>M(.*)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Matz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</code></pre>

<p>The return value is a value from block execution in this case.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3180'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3180
3181
3182
3183
3184
3185
3186
3187
3188
3189
3190
3191
3192
3193
3194
3195
3196
3197
3198
3199
3200
3201
3202
3203
3204</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3180</span>

static VALUE
rb_reg_match_m(int argc, VALUE *argv, VALUE re)
{
    VALUE result, str, initpos;
    long pos;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;initpos) == 2) {
	pos = NUM2LONG(initpos);
    }
    else {
	pos = 0;
    }

    pos = reg_match_pos(re, &amp;str, pos);
    if (pos &lt; 0) {
	rb_backref_set(Qnil);
	return Qnil;
    }
    result = rb_backref_get();
    rb_match_busy(result);
    if (!NIL_P(result) &amp;&amp; rb_block_given_p()) {
	return rb_yield(result);
    }
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="match?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>match?</strong>(str)  &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>match?</strong>(str, pos)  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a <code>true</code> or <code>false</code> indicates whether the
regexp is matched or not without updating $~ and other related variables.
If the second parameter is present, it specifies the position in the string
to begin the search.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>R...</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>R...</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='comment'>#=&gt; false
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>P...</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>    <span class='comment'>#=&gt; false
</span><span class='backref'>$&amp;</span>                       <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3222'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3222
3223
3224
3225
3226
3227
3228
3229
3230
3231
3232
3233
3234
3235
3236
3237
3238
3239
3240
3241
3242
3243
3244
3245
3246
3247
3248
3249
3250
3251
3252
3253
3254
3255
3256
3257
3258
3259
3260
3261
3262
3263
3264
3265
3266
3267
3268
3269
3270
3271
3272
3273
3274
3275
3276</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3222</span>

static VALUE
rb_reg_match_m_p(int argc, VALUE *argv, VALUE re)
{
    VALUE str, initpos;
    long pos = 0;
    regex_t *reg;
    onig_errmsg_buffer err = &quot;&quot;;
    OnigPosition result;
    const UChar *start, *end;
    int tmpreg;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;initpos);
    if (NIL_P(str)) return Qfalse;
    str = SYMBOL_P(str) ? rb_sym2str(str) : rb_str_to_str(str);
    if (argc == 2) {
	pos = NUM2LONG(initpos);
	if (pos &lt; 0) {
	    pos += NUM2LONG(rb_str_length(str));
	    if (pos &lt; 0) return Qfalse;
	}
	if (pos &gt; 0) {
	    long len = 0;
	    char *beg = rb_str_subpos(str, pos, &amp;len);
	    if (!beg) return Qfalse;
	    pos = beg - RSTRING_PTR(str);
	}
    }
    reg = rb_reg_prepare_re0(re, str, err);
    tmpreg = reg != RREGEXP_PTR(re);
    if (!tmpreg) RREGEXP(re)-&gt;usecnt++;
    start = ((UChar*)RSTRING_PTR(str));
    end = start + RSTRING_LEN(str);
    result = onig_search(reg, start, end, start + pos, end,
			 NULL, ONIG_OPTION_NONE);
    if (!tmpreg) RREGEXP(re)-&gt;usecnt--;
    if (tmpreg) {
	if (RREGEXP(re)-&gt;usecnt) {
	    onig_free(reg);
	}
	else {
	    onig_free(RREGEXP_PTR(re));
	    RREGEXP_PTR(re) = reg;
	}
    }
    if (result &lt; 0) {
	if (result == ONIG_MISMATCH) {
	    return Qfalse;
	}
	else {
	    onig_error_code_to_str((UChar*)err, (int)result);
	    rb_reg_raise(RREGEXP_SRC_PTR(re), RREGEXP_SRC_LEN(re), err, re);
	}
    }
    return Qtrue;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="named_captures-instance_method">
  <h3 class='signature'>
  #<strong>named_captures</strong>  &#x21d2; <tt><a href="Hash.html" title="Hash (class)">Hash</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a hash representing information about named captures of
<em>rxp</em>.</p>

<p>A key of the hash is a name of the named captures. A value of the hash is
an array which is list of indexes of corresponding named captures.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;foo&gt;.)(?&lt;bar&gt;.)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_named_captures'>named_captures</span>
<span class='comment'>#=&gt; {&quot;foo&quot;=&gt;[1], &quot;bar&quot;=&gt;[2]}
</span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;foo&gt;.)(?&lt;foo&gt;.)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_named_captures'>named_captures</span>
<span class='comment'>#=&gt; {&quot;foo&quot;=&gt;[1, 2]}
</span></code></pre>

<p>If there are no named captures, an empty hash is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(.)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_named_captures'>named_captures</span>
<span class='comment'>#=&gt; {}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L828'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


828
829
830
831
832
833
834
835</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 828</span>

static VALUE
rb_reg_named_captures(VALUE re)
{
    VALUE hash = rb_hash_new();
    rb_reg_check(re);
    onig_foreach_name(RREGEXP_PTR(re), reg_named_captures_iter, (void*)hash);
    return hash;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="names-instance_method">
  <h3 class='signature'>
  #<strong>names</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt>, ... 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a list of names of captures as an array of strings.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;foo&gt;.)(?&lt;bar&gt;.)(?&lt;baz&gt;.)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_names'>names</span>
<span class='comment'>#=&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]
</span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;foo&gt;.)(?&lt;foo&gt;.)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_names'>names</span>
<span class='comment'>#=&gt; [&quot;foo&quot;]
</span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(.)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_names'>names</span>
<span class='comment'>#=&gt; []
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L780'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


780
781
782
783
784
785
786
787
788</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 780</span>

static VALUE
rb_reg_names(VALUE re)
{
    VALUE ary;
    rb_reg_check(re);
    ary = rb_ary_new_capa(onig_number_of_names(RREGEXP_PTR(re)));
    onig_foreach_name(RREGEXP_PTR(re), reg_names_iter, (void*)ary);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="options-instance_method">
  <h3 class='signature'>
  #<strong>options</strong>  &#x21d2; <tt><a href="Object.html#Fixnum-constant" title="Object::Fixnum (constant)">Fixnum</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the set of bits corresponding to the options used when creating
this Regexp (see <a href="#new-class_method" title="Regexp.new (method)">new</a> for details. Note that additional bits may be
set in the returned options: these are used internally by the regular
expression code. These extra bits are ignored if the options are passed to
<a href="#new-class_method" title="Regexp.new (method)">new</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='op'>::</span><span class='const'><a href="#IGNORECASE-constant" title="Regexp::IGNORECASE (constant)">IGNORECASE</a></span>                  <span class='comment'>#=&gt; 1
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='op'>::</span><span class='const'><a href="#EXTENDED-constant" title="Regexp::EXTENDED (constant)">EXTENDED</a></span>                    <span class='comment'>#=&gt; 2
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='op'>::</span><span class='const'><a href="#MULTILINE-constant" title="Regexp::MULTILINE (constant)">MULTILINE</a></span>                   <span class='comment'>#=&gt; 4
</span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>cat</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>                       <span class='comment'>#=&gt; 0
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>cat</span><span class='regexp_end'>/ix</span></span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>                     <span class='comment'>#=&gt; 3
</span><span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Regexp.new (method)">new</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>     <span class='comment'>#=&gt; 1
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\xa1\xa2</span><span class='regexp_end'>/e</span></span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>                 <span class='comment'>#=&gt; 16
</span>
<span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>cat</span><span class='regexp_end'>/ix</span></span>
<span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Regexp.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; /cat/ix
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L748'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


748
749
750
751
752
753</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 748</span>

static VALUE
rb_reg_options_m(VALUE re)
{
    int options = rb_reg_options(re);
    return INT2NUM(options);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="source-instance_method">
  <h3 class='signature'>
  #<strong>source</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the original string of the pattern.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ab+c</span><span class='regexp_end'>/ix</span></span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span> <span class='comment'>#=&gt; &quot;ab+c&quot;
</span></code></pre>

<p>Note that escape sequences are retained as is.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\x20\+</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span>  <span class='comment'>#=&gt; &quot;\\x20\\+&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L497'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


497
498
499
500
501
502
503
504
505
506</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 497</span>

static VALUE
rb_reg_source(VALUE re)
{
    VALUE str;

    rb_reg_check(re);
    str = rb_str_dup(RREGEXP_SRC(re));
    if (OBJ_TAINTED(re)) OBJ_TAINT(str);
    return str;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_s-instance_method">
  <h3 class='signature'>
  #<strong>to_s</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string containing the regular expression and its options (using
the <code>(?opts:source)</code> notation. This string can be fed back in to
<a href="#new-class_method" title="Regexp.new (method)">new</a> to a regular expression with the same semantics as the
original. (However, <a href="#%3D%3D-instance_method" title="Regexp#== (method)">#==</a> may not return true when comparing the two,
as the source of the regular expression itself may differ, as the example
shows).  <a href="#inspect-instance_method" title="Regexp#inspect (method)">#inspect</a> produces a generally more readable version of
<em>rxp</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_r1'>r1</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ab+c</span><span class='regexp_end'>/ix</span></span>           <span class='comment'>#=&gt; /ab+c/ix
</span><span class='id identifier rubyid_s1'>s1</span> <span class='op'>=</span> <span class='id identifier rubyid_r1'>r1</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>            <span class='comment'>#=&gt; &quot;(?ix-m:ab+c)&quot;
</span><span class='id identifier rubyid_r2'>r2</span> <span class='op'>=</span> <span class='const'><a href="" title="Regexp (class)">Regexp</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Regexp.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_s1'>s1</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; /(?ix-m:ab+c)/
</span><span class='id identifier rubyid_r1'>r1</span> <span class='op'>==</span> <span class='id identifier rubyid_r2'>r2</span>                <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_r1'>r1</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span>               <span class='comment'>#=&gt; &quot;ab+c&quot;
</span><span class='id identifier rubyid_r2'>r2</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span>               <span class='comment'>#=&gt; &quot;(?ix-m:ab+c)&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L550'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 550</span>

static VALUE
rb_reg_to_s(VALUE re)
{
    int options, opt;
    const int embeddable = ONIG_OPTION_MULTILINE|ONIG_OPTION_IGNORECASE|ONIG_OPTION_EXTEND;
    long len;
    const UChar* ptr;
    VALUE str = rb_str_buf_new2(&quot;(?&quot;);
    char optbuf[5];
    rb_encoding *enc = rb_enc_get(re);

    rb_reg_check(re);

    rb_enc_copy(str, re);
    options = RREGEXP_PTR(re)-&gt;options;
    ptr = (UChar*)RREGEXP_SRC_PTR(re);
    len = RREGEXP_SRC_LEN(re);
  again:
    if (len &gt;= 4 &amp;&amp; ptr[0] == &#39;(&#39; &amp;&amp; ptr[1] == &#39;?&#39;) {
	int err = 1;
	ptr += 2;
	if ((len -= 2) &gt; 0) {
	    do {
                opt = char_to_option((int )*ptr);
                if (opt != 0) {
                    options |= opt;
                }
                else {
                    break;
                }
		++ptr;
	    } while (--len &gt; 0);
	}
	if (len &gt; 1 &amp;&amp; *ptr == &#39;-&#39;) {
	    ++ptr;
	    --len;
	    do {
                opt = char_to_option((int )*ptr);
                if (opt != 0) {
                    options &amp;= ~opt;
                }
                else {
                    break;
                }
		++ptr;
	    } while (--len &gt; 0);
	}
	if (*ptr == &#39;)&#39;) {
	    --len;
	    ++ptr;
	    goto again;
	}
	if (*ptr == &#39;:&#39; &amp;&amp; ptr[len-1] == &#39;)&#39;) {
	    Regexp *rp;
	    VALUE verbose = ruby_verbose;
	    ruby_verbose = Qfalse;

	    ++ptr;
	    len -= 2;
            err = onig_new(&amp;rp, ptr, ptr + len, ONIG_OPTION_DEFAULT,
			   enc, OnigDefaultSyntax, NULL);
	    onig_free(rp);
	    ruby_verbose = verbose;
	}
	if (err) {
	    options = RREGEXP_PTR(re)-&gt;options;
	    ptr = (UChar*)RREGEXP_SRC_PTR(re);
	    len = RREGEXP_SRC_LEN(re);
	}
    }

    if (*option_to_str(optbuf, options)) rb_str_buf_cat2(str, optbuf);

    if ((options &amp; embeddable) != embeddable) {
	optbuf[0] = &#39;-&#39;;
	option_to_str(optbuf + 1, ~options);
	rb_str_buf_cat2(str, optbuf);
    }

    rb_str_buf_cat2(str, &quot;:&quot;);
    if (rb_enc_asciicompat(enc)) {
	rb_reg_expr_str(str, (char*)ptr, len, enc, NULL);
	rb_str_buf_cat2(str, &quot;)&quot;);
    }
    else {
	const char *s, *e;
	char *paren;
	ptrdiff_t n;
	rb_str_buf_cat2(str, &quot;)&quot;);
	rb_enc_associate(str, rb_usascii_encoding());
	str = rb_str_encode(str, rb_enc_from_encoding(enc), 0, Qnil);

	/* backup encoded &quot;)&quot; to paren */
	s = RSTRING_PTR(str);
	e = RSTRING_END(str);
	s = rb_enc_left_char_head(s, e-1, e, enc);
	n = e - s;
	paren = ALLOCA_N(char, n);
	memcpy(paren, s, n);
	rb_str_resize(str, RSTRING_LEN(str) - n);

	rb_reg_expr_str(str, (char*)ptr, len, enc, NULL);
	rb_str_buf_cat(str, paren, n);
    }
    rb_enc_copy(str, re);

    OBJ_INFECT(str, re);
    return str;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="~-instance_method">
  <h3 class='signature'>
  #<strong>~</strong>(rxp)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Match—Matches <em>rxp</em> against the contents of <code>$_</code>.
Equivalent to <code><em>rxp</em> =~ $_</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$_</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>input data</span><span class='tstring_end'>&quot;</span></span>
<span class='op'>~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>at</span><span class='regexp_end'>/</span></span>   <span class='comment'>#=&gt; 7
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/re.c#L3128'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3128
3129
3130
3131
3132
3133
3134
3135
3136
3137
3138
3139
3140
3141
3142
3143
3144
3145</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 're.c', line 3128</span>

VALUE
rb_reg_match2(VALUE re)
{
    long start;
    VALUE line = rb_lastline_get();

    if (!RB_TYPE_P(line, T_STRING)) {
	rb_backref_set(Qnil);
	return Qnil;
    }

    start = rb_reg_search(re, line, 0, 0);
    if (start &lt; 0) {
	return Qnil;
    }
    start = rb_str_sublen(line, start);
    return LONG2FIX(start);
}
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>