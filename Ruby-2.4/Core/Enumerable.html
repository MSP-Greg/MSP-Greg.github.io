<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Enumerable &mdash; Core Ruby-2.4.0 d2016-08-01</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Enumerable",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>Core</a> &raquo; 
          <a href='_index.html'>Index (E)</a> &raquo; 
          <span class='title'>Enumerable</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: Enumerable</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>




  <tr>
    <td class='box_1'>Included in:</td>
    <td>
      <div class='box_max'>
        <a href="ARGF.html" title="ARGF (class)">ARGF</a>, <a href="Array.html" title="Array (class)">Array</a>, <a href="Dir.html" title="Dir (class)">Dir</a>, <a href="ENV.html" title="ENV (class)">ENV</a>, <a href="Enumerator.html" title="Enumerator (class)">Enumerator</a>, <a href="Enumerator/Generator.html" title="Enumerator::Generator (class)">Enumerator::Generator</a>, <a href="Hash.html" title="Hash (class)">Hash</a>, <a href="IO.html" title="IO (class)">IO</a>, <a href="ObjectSpace/WeakMap.html" title="ObjectSpace::WeakMap (class)">ObjectSpace::WeakMap</a>, <a href="Range.html" title="Range (class)">Range</a>, <a href="Struct.html" title="Struct (class)">Struct</a>
      </div>
    </td>
  </tr>

  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L3851'>enum.c</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L1452'>enumerator.c</a></span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The <a href="" title="Enumerable (module)">Enumerable</a> mixin provides collection classes with several traversal
and searching methods, and with the ability to sort. The class must provide
a method <code>each</code>, which yields successive members of the
collection. If <a href="#max-instance_method" title="Enumerable#max (method)">#max</a>, <a href="#min-instance_method" title="Enumerable#min (method)">#min</a>, or <a href="#sort-instance_method" title="Enumerable#sort (method)">#sort</a> is used, the objects in
the collection must also implement a meaningful <code>&lt;=&gt;</code>
operator, as these methods rely on an ordering between members of the
collection.</p>


  </div>
</div>
<div class="tags">
  
</div>




<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#all%3F-instance_method" title="#all? (instance method)">#<strong>all?</strong> {|obj| ... } &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Passes each element of the collection to the given block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#any%3F-instance_method" title="#any? (instance method)">#<strong>any?</strong> {|obj| ... } &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Passes each element of the collection to the given block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#chunk-instance_method" title="#chunk (instance method)">#<strong>chunk</strong> {|elt| ... } &#x21d2; Enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Enumerates over the items, chunking them together based on the return value
of the block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#chunk_while-instance_method" title="#chunk_while (instance method)">#<strong>chunk_while</strong> {|elt_before, elt_after| ... } &#x21d2; Enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates an enumerator for each chunked elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collect-instance_method" title="#collect (instance method)">#<strong>collect</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#collect_concat-instance_method" title="#collect_concat (instance method)">#<strong>collect_concat</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the number of items in <code>enum</code> through enumeration.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#cycle-instance_method" title="#cycle (instance method)">#<strong>cycle</strong>(n = nil) {|obj| ... } &#x21d2; nil </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calls <em>block</em> for each element of <em>enum</em> repeatedly
<em>n</em> times or forever if none or <code>nil</code> is given.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#detect-instance_method" title="#detect (instance method)">#<strong>detect</strong>(ifnone = nil) {|obj| ... } &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#find-instance_method" title="Enumerable#find (method)">#find</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#drop-instance_method" title="#drop (instance method)">#<strong>drop</strong>(n)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Drops first n elements from <em>enum</em>, and returns rest elements in an
array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#drop_while-instance_method" title="#drop_while (instance method)">#<strong>drop_while</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Drops elements up to, but not including, the first element for which the
block returns <code>nil</code> or <code>false</code> and returns an array
containing the remaining elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_cons-instance_method" title="#each_cons (instance method)">#<strong>each_cons</strong>(n)  &#x21d2; nil </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Iterates the given block for each array of consecutive &lt;n&gt; elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_entry-instance_method" title="#each_entry (instance method)">#<strong>each_entry</strong> {|obj| ... } &#x21d2; Enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calls <em>block</em> once for each element in <code>self</code>, passing
that element as a parameter, converting multiple values from yield to an
array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_slice-instance_method" title="#each_slice (instance method)">#<strong>each_slice</strong>(n)  &#x21d2; nil </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Iterates the given block for each slice of &lt;n&gt; elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_with_index-instance_method" title="#each_with_index (instance method)">#<strong>each_with_index</strong>(*args) {|obj, i| ... } &#x21d2; Enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calls <em>block</em> with two arguments, the item and its index, for each
item in <em>enum</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_with_object-instance_method" title="#each_with_object (instance method)">#<strong>each_with_object</strong>(obj) {|(*args), memo_obj| ... } &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Iterates the given block for each element with an arbitrary object given,
and returns the initially given object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#entries-instance_method" title="#entries (instance method)">#<strong>entries</strong>(*args)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find-instance_method" title="#find (instance method)">#<strong>find</strong>(ifnone = nil) {|obj| ... } &#x21d2; Object<sup>?</sup> </a>
        (also: #detect)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Passes each entry in <em>enum</em> to <em>block</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_all-instance_method" title="#find_all (instance method)">#<strong>find_all</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#select-instance_method" title="Enumerable#select (method)">#select</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_index-instance_method" title="#find_index (instance method)">#<strong>find_index</strong>(value)  &#x21d2; Integer<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Compares each entry in <em>enum</em> with <em>value</em> or passes to
<em>block</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#first-instance_method" title="#first (instance method)">#<strong>first</strong>  &#x21d2; Object<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the first element, or the first <code>n</code> elements, of the
enumerable.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#flat_map-instance_method" title="#flat_map (instance method)">#<strong>flat_map</strong> {|obj| ... } &#x21d2; Array </a>
        (also: #collect_concat)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array with the concatenated results of running <em>block</em>
once for every element in <em>enum</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#grep-instance_method" title="#grep (instance method)">#<strong>grep</strong>(pattern)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array of every element in <em>enum</em> for which <code>Pattern
=== element</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#grep_v-instance_method" title="#grep_v (instance method)">#<strong>grep_v</strong>(pattern)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Inverted version of <a href="#grep-instance_method" title="Enumerable#grep (method)">#grep</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#group_by-instance_method" title="#group_by (instance method)">#<strong>group_by</strong> {|obj| ... } &#x21d2; Hash </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Groups the collection by result of the block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(obj)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inject-instance_method" title="#inject (instance method)">#<strong>inject</strong>(initial, sym)  &#x21d2; Object </a>
        (also: #reduce)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Combines all elements of <em>enum</em> by applying a binary operation,
specified by a block or a symbol that names a method or operator.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#lazy-instance_method" title="#lazy (instance method)">#<strong>lazy</strong>  &#x21d2; lazy_enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a lazy enumerator, whose methods map/collect,
flat_map/collect_concat, select/find_all, reject, grep, grep_v, zip, take,
take_while, drop, and drop_while enumerate values only on an as-needed
basis.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#map-instance_method" title="#map (instance method)">#<strong>map</strong> {|obj| ... } &#x21d2; Array </a>
        (also: #collect)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array with the results of running <em>block</em> once for
every element in <em>enum</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#max-instance_method" title="#max (instance method)">#<strong>max</strong>  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the object in <em>enum</em> with the maximum value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#max_by-instance_method" title="#max_by (instance method)">#<strong>max_by</strong> {|obj| ... } &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the object in <em>enum</em> that gives the maximum value from the
given block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#member%3F-instance_method" title="#member? (instance method)">#<strong>member?</strong>(obj)  &#x21d2; Boolean </a>
        (also: #include?)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if any member of <em>enum</em> equals
<em>obj</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#min-instance_method" title="#min (instance method)">#<strong>min</strong>  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the object in <em>enum</em> with the minimum value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#min_by-instance_method" title="#min_by (instance method)">#<strong>min_by</strong> {|obj| ... } &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the object in <em>enum</em> that gives the minimum value from the
given block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#minmax-instance_method" title="#minmax (instance method)">#<strong>minmax</strong>  &#x21d2; Array, max </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a two element array which contains the minimum and the maximum
value in the enumerable.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#minmax_by-instance_method" title="#minmax_by (instance method)">#<strong>minmax_by</strong> {|obj| ... } &#x21d2; Array, max </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a two element array containing the objects in <em>enum</em> that
correspond to the minimum and maximum values respectively from the given
block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#none%3F-instance_method" title="#none? (instance method)">#<strong>none?</strong> {|obj| ... } &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Passes each element of the collection to the given block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#one%3F-instance_method" title="#one? (instance method)">#<strong>one?</strong> {|obj| ... } &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Passes each element of the collection to the given block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#partition-instance_method" title="#partition (instance method)">#<strong>partition</strong> {|obj| ... } &#x21d2; Array, false_array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns two arrays, the first containing the elements of <em>enum</em> for
which the block evaluates to true, the second containing the rest.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reduce-instance_method" title="#reduce (instance method)">#<strong>reduce</strong>(initial, sym)  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#inject-instance_method" title="Enumerable#inject (method)">#inject</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array for all elements of <code>enum</code> for which the given
<code>block</code> returns false.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#reverse_each-instance_method" title="#reverse_each (instance method)">#<strong>reverse_each</strong>(*args) {|item| ... } &#x21d2; Enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Builds a temporary array and traverses that array in reverse order.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong> {|obj| ... } &#x21d2; Array </a>
        (also: #find_all)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array containing all elements of <code>enum</code> for which the
given <code>block</code> returns a true value.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice_after-instance_method" title="#slice_after (instance method)">#<strong>slice_after</strong>(pattern)  &#x21d2; Enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates an enumerator for each chunked elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice_before-instance_method" title="#slice_before (instance method)">#<strong>slice_before</strong>(pattern)  &#x21d2; Enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates an enumerator for each chunked elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#slice_when-instance_method" title="#slice_when (instance method)">#<strong>slice_when</strong> {|elt_before, elt_after| ... } &#x21d2; Enumerator </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates an enumerator for each chunked elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sort-instance_method" title="#sort (instance method)">#<strong>sort</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array containing the items in <em>enum</em> sorted, either
according to their own <code>&lt;=&gt;</code> method, or by using the
results of the supplied block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sort_by-instance_method" title="#sort_by (instance method)">#<strong>sort_by</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sorts <em>enum</em> using a set of keys generated by mapping the values in
<em>enum</em> through the given block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sum-instance_method" title="#sum (instance method)">#<strong>sum</strong>(init = 0)  &#x21d2; Numeric </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the sum of elements in an Enumerable.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#take-instance_method" title="#take (instance method)">#<strong>take</strong>(n)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns first n elements from <em>enum</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#take_while-instance_method" title="#take_while (instance method)">#<strong>take_while</strong> {|obj| ... } &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Passes elements to the block until the block returns <code>nil</code> or
<code>false</code>, then stops iterating and returns an array of all prior
elements.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>(*args)  &#x21d2; Array </a>
        (also: #entries)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array containing the items in <em>enum</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_h-instance_method" title="#to_h (instance method)">#<strong>to_h</strong>(*args)  &#x21d2; Hash </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the result of interpreting <em>enum</em> as a list of <code>[key,
value]</code> pairs.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#uniq-instance_method" title="#uniq (instance method)">#<strong>uniq</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new array by removing duplicate values in <code>self</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#zip-instance_method" title="#zip (instance method)">#<strong>zip</strong>(arg, ...)  &#x21d2; an_array_of_array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Takes one element from <em>enum</em> and merges corresponding elements from
each <em>args</em>.</p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="all?-instance_method">
  <h3 class='signature first'>
  <span class='overload'>#<strong>all?</strong> {|obj| ... } &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>all?</strong>  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Passes each element of the collection to the given block. The method
returns <code>true</code> if the block never returns <code>false</code> or
<code>nil</code>. If the block is not given, Ruby adds an implicit block of
<code>{ |obj| obj }</code> which will cause <a href="#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a> to return
<code>true</code> when none of the collection members are
<code>false</code> or <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords_beg'>%w[</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='int'>3</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; true
</span><span class='qwords_beg'>%w[</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='int'>4</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; false
</span><span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='int'>99</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span>                              <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1163'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1163
1164
1165
1166
1167
1168
1169</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1163</span></pre>
<pre class='code cpp'>

static VALUE
enum_all(VALUE obj)
{
    struct MEMO *memo = MEMO_NEW(Qtrue, 0, 0);
    rb_block_call(obj, id_each, 0, 0, ENUMFUNC(all), (VALUE)memo);
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="any?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>any?</strong> {|obj| ... } &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>any?</strong>  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Passes each element of the collection to the given block. The method
returns <code>true</code> if the block ever returns a value other than
<code>false</code> or <code>nil</code>. If the block is not given, Ruby
adds an implicit block of <code>{ |obj| obj }</code> that will cause
<a href="#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a> to return <code>true</code> if at least one of the collection
members is not <code>false</code> or <code>nil</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords_beg'>%w[</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='int'>3</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; true
</span><span class='qwords_beg'>%w[</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='int'>4</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; true
</span><span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='int'>99</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>                              <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1197'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1197
1198
1199
1200
1201
1202
1203</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1197</span></pre>
<pre class='code cpp'>

static VALUE
enum_any(VALUE obj)
{
    struct MEMO *memo = MEMO_NEW(Qfalse, 0, 0);
    rb_block_call(obj, id_each, 0, 0, ENUMFUNC(any), (VALUE)memo);
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="chunk-instance_method">
  <h3 class='signature'>
  #<strong>chunk</strong> {|elt| ... } &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Enumerates over the items, chunking them together based on the return value
of the block.</p>

<p>Consecutive elements which return the same block value are chunked
together.</p>

<p>For example, consecutive even numbers and odd numbers can be chunked as
follows.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_chunk'>chunk</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
  <span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_even'>even</span><span class='comma'>,</span> <span class='id identifier rubyid_ary'>ary</span><span class='op'>|</span>
  <span class='id identifier rubyid_p'>p</span> <span class='lbracket'>[</span><span class='id identifier rubyid_even'>even</span><span class='comma'>,</span> <span class='id identifier rubyid_ary'>ary</span><span class='rbracket'>]</span>
<span class='rbrace'>}</span>
<span class='comment'>#=&gt; [false, [3, 1]]
</span><span class='comment'>#   [true, [4]]
</span><span class='comment'>#   [false, [1, 5, 9]]
</span><span class='comment'>#   [true, [2, 6]]
</span><span class='comment'>#   [false, [5, 3, 5]]
</span></code></pre>

<p>This method is especially useful for sorted series of elements. The
following example counts words for each initial letter.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/usr/share/dict/words</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r:iso-8859-1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_chunk'>chunk</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_ord'>ord</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ch'>ch</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='lbracket'>[</span><span class='id identifier rubyid_ch'>ch</span><span class='period'>.</span><span class='id identifier rubyid_chr'>chr</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='rbrace'>}</span>
<span class='comment'>#=&gt; [&quot;\n&quot;, 1]
</span><span class='comment'>#   [&quot;A&quot;, 1327]
</span><span class='comment'>#   [&quot;B&quot;, 1372]
</span><span class='comment'>#   [&quot;C&quot;, 1507]
</span><span class='comment'>#   [&quot;D&quot;, 791]
</span><span class='comment'>#   ...
</span></code></pre>

<p>The following key values have special meaning:</p>
<ul><li>
<p><code>nil</code> and <code>:_separator</code> specifies that the elements
should be dropped.</p>
</li><li>
<p><code>:_alone</code> specifies that the element should be chunked by
itself.</p>
</li></ul>

<p>Any other symbols that begin with an underscore will raise an error:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_items'>items</span><span class='period'>.</span><span class='id identifier rubyid_chunk'>chunk</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='symbol'>:_underscore</span> <span class='rbrace'>}</span>
<span class='comment'>#=&gt; RuntimeError: symbols beginning with an underscore are reserved
</span></code></pre>

<p><code>nil</code> and <code>:_separator</code> can be used to ignore some
elements.</p>

<p>For example, the sequence of hyphens in svn log can be eliminated as
follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sep'>sep</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>72</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='const'><a href="IO.html" title="IO (class)">IO</a></span><span class='period'>.</span><span class='id identifier rubyid_popen'><a href="IO.html#popen-class_method" title="IO.popen (method)">popen</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>svn log README</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_chunk'>chunk</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_line'>line</span> <span class='op'>!=</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>||</span> <span class='kw'>nil</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_lines'>lines</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span>
<span class='comment'>#=&gt; [&quot;r20018 | knu | 2008-10-29 13:20:42 +0900 (Wed, 29 Oct 2008) | 2 lines\n&quot;,
</span><span class='comment'>#    &quot;\n&quot;,
</span><span class='comment'>#    &quot;* README, README.ja: Update the portability section.\n&quot;,
</span><span class='comment'>#    &quot;\n&quot;]
</span><span class='comment'>#   [&quot;r16725 | knu | 2008-05-31 23:34:23 +0900 (Sat, 31 May 2008) | 2 lines\n&quot;,
</span><span class='comment'>#    &quot;\n&quot;,
</span><span class='comment'>#    &quot;* README, README.ja: Add a note about default C flags.\n&quot;,
</span><span class='comment'>#    &quot;\n&quot;]
</span><span class='comment'>#   ...
</span></code></pre>

<p>Paragraphs separated by empty lines can be parsed as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="File.html" title="File (class)">File</a></span><span class='period'>.</span><span class='id identifier rubyid_foreach'><a href="IO.html#foreach-class_method" title="IO.foreach (method)">foreach</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>README</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chunk'>chunk</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*\z</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>||</span> <span class='kw'>nil</span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span>
  <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_lines'>lines</span>
<span class='rbrace'>}</span>
</code></pre>

<p><code>:_alone</code> can be used to force items into their own chunk. For
example, you can put lines that contain a URL by themselves, and chunk the
rest of the lines together, like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>http</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_chunk'>chunk</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>?</span> <span class='symbol'>:_alone</span> <span class='op'>:</span> <span class='kw'>true</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_lines'>lines</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2999'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2999
3000
3001
3002
3003
3004
3005
3006
3007
3008
3009
3010
3011
3012</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2999</span></pre>
<pre class='code cpp'>

static VALUE
enum_chunk(VALUE enumerable)
{
    VALUE enumerator;

    if (!rb_block_given_p())
	rb_raise(rb_eArgError, &quot;no block given&quot;);

    enumerator = rb_obj_alloc(rb_cEnumerator);
    rb_ivar_set(enumerator, rb_intern(&quot;chunk_enumerable&quot;), enumerable);
    rb_ivar_set(enumerator, rb_intern(&quot;chunk_categorize&quot;), rb_block_proc());
    rb_block_call(enumerator, idInitialize, 0, 0, chunk_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="chunk_while-instance_method">
  <h3 class='signature'>
  #<strong>chunk_while</strong> {|elt_before, elt_after| ... } &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates an enumerator for each chunked elements. The beginnings of chunks
are defined by the block.</p>

<p>This method split each chunk using adjacent elements, <em>elt_before</em>
and <em>elt_after</em>, in the receiver enumerator. This method split
chunks between <em>elt_before</em> and <em>elt_after</em> where the block
returns false.</p>

<p>The block is called the length of the receiver enumerator minus one.</p>

<p>The result enumerator yields the chunked elements as an array. So
<code>each</code> method can be called as follows:</p>

<pre class="code ruby"><code class="ruby">enum.chunk_while { |elt_before, elt_after| bool }.each { |ary| ... }</code></pre>

<p>Other methods of the Enumerator class and Enumerable module, such as
<code>to_a</code>, <code>map</code>, etc., are also usable.</p>

<p>For example, one-by-one increasing subsequence can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>9</span><span class='comma'>,</span><span class='int'>10</span><span class='comma'>,</span><span class='int'>11</span><span class='comma'>,</span><span class='int'>12</span><span class='comma'>,</span><span class='int'>15</span><span class='comma'>,</span><span class='int'>16</span><span class='comma'>,</span><span class='int'>19</span><span class='comma'>,</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>21</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_chunk_while'>chunk_while</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span> <span class='op'>==</span> <span class='id identifier rubyid_j'>j</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; [[1, 2], [4], [9, 10, 11, 12], [15, 16], [19, 20, 21]]
</span><span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_c'>c</span> <span class='comment'>#=&gt; [[1, 2], [4], &quot;9-12&quot;, [15, 16], &quot;19-21&quot;]
</span><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_d'>d</span> <span class='comment'>#=&gt; &quot;1,2,4,9-12,15,16,19-21&quot;
</span></code></pre>

<p>Increasing (non-decreasing) subsequence can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_chunk_while'>chunk_while</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_j'>j</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='comment'>#=&gt; [[0, 9], [2, 2, 3], [2, 7], [5, 9], [5]]
</span></code></pre>

<p>Adjacent evens and odds can be chunked as follows: (Enumerable#chunk is
another way to do it.)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>7</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_chunk_while'>chunk_while</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span> <span class='op'>==</span> <span class='id identifier rubyid_j'>j</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='comment'>#=&gt; [[7, 5, 9], [2, 0], [7, 9], [4, 2, 0]]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L3550'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3550
3551
3552
3553
3554
3555
3556
3557
3558
3559
3560
3561
3562
3563
3564
3565</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3550</span></pre>
<pre class='code cpp'>

static VALUE
enum_chunk_while(VALUE enumerable)
{
    VALUE enumerator;
    VALUE pred;

    pred = rb_block_proc();

    enumerator = rb_obj_alloc(rb_cEnumerator);
    rb_ivar_set(enumerator, rb_intern(&quot;slicewhen_enum&quot;), enumerable);
    rb_ivar_set(enumerator, rb_intern(&quot;slicewhen_pred&quot;), pred);
    rb_ivar_set(enumerator, rb_intern(&quot;slicewhen_inverted&quot;), Qtrue);

    rb_block_call(enumerator, idInitialize, 0, 0, slicewhen_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="collect-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>collect</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>map</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>collect</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>map</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#map-instance_method" title="Enumerable#map (method)">#map</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="collect_concat-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>flat_map</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>collect_concat</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>flat_map</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>collect_concat</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="count-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>count</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
    <span class='overload'>#<strong>count</strong>(item)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
    <span class='overload'>#<strong>count</strong> {|obj| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the number of items in <code>enum</code> through enumeration. If an
argument is given, the number of items in <code>enum</code> that are equal
to <code>item</code> are counted.  If a block is given, it counts the
number of elements yielding a true value.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>               <span class='comment'>#=&gt; 4
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_ary'>ary</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='op'>%</span><span class='int'>2</span><span class='op'>==</span><span class='int'>0</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; 3
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L174'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 174</span></pre>
<pre class='code cpp'>

static VALUE
enum_count(int argc, VALUE *argv, VALUE obj)
{
    VALUE item = Qnil;
    struct MEMO *memo;
    rb_block_call_func *func;

    if (argc == 0) {
	if (rb_block_given_p()) {
	    func = count_iter_i;
	}
	else {
	    func = count_all_i;
	}
    }
    else {
	rb_scan_args(argc, argv, &quot;1&quot;, &amp;item);
	if (rb_block_given_p()) {
	    rb_warn(&quot;given block not used&quot;);
	}
        func = count_i;
    }

    memo = MEMO_NEW(item, 0, 0);
    rb_block_call(obj, id_each, 0, 0, func, (VALUE)memo);
    return INT2NUM(memo-&gt;u3.cnt);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="cycle-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>cycle</strong>(n = nil) {|obj| ... } &#x21d2; <tt>nil</tt> </span>
    <span class='overload'>#<strong>cycle</strong>(n = nil)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calls <em>block</em> for each element of <em>enum</em> repeatedly
<em>n</em> times or forever if none or <code>nil</code> is given.  If a
non-positive number is given or the collection is empty, does nothing. 
Returns <code>nil</code> if the loop has finished without getting
interrupted.</p>

<p><a href="#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a> saves elements in an internal array so changes to
<em>enum</em> after the first pass have no effect.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>  <span class='comment'># print, a, b, c, a, b, c,.. forever.
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_cycle'>cycle</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>  <span class='comment'># print, a, b, c, a, b, c.
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2808'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2808
2809
2810
2811
2812
2813
2814
2815
2816
2817
2818
2819
2820
2821
2822
2823
2824
2825
2826
2827
2828
2829
2830
2831
2832
2833
2834
2835
2836</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2808</span></pre>
<pre class='code cpp'>

static VALUE
enum_cycle(int argc, VALUE *argv, VALUE obj)
{
    VALUE ary;
    VALUE nv = Qnil;
    long n, i, len;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;nv);

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_cycle_size);
    if (NIL_P(nv)) {
        n = -1;
    }
    else {
        n = NUM2LONG(nv);
        if (n &lt;= 0) return Qnil;
    }
    ary = rb_ary_new();
    RBASIC_CLEAR_CLASS(ary);
    rb_block_call(obj, id_each, 0, 0, cycle_i, ary);
    len = RARRAY_LEN(ary);
    if (len == 0) return Qnil;
    while (n &lt; 0 || 0 &lt; --n) {
        for (i=0; i&lt;len; i++) {
            rb_yield(RARRAY_AREF(ary, i));
        }
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="detect-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>detect</strong>(ifnone = nil) {|obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>find</strong>(ifnone = nil) {|obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>detect</strong>(ifnone = nil)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>find</strong>(ifnone = nil)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#find-instance_method" title="Enumerable#find (method)">#find</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="drop-instance_method">
  <h3 class='signature'>
  #<strong>drop</strong>(n)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Drops first n elements from <em>enum</em>, and returns rest elements in an
array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_drop'>drop</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>             <span class='comment'>#=&gt; [4, 5, 0]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2697'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2697
2698
2699
2700
2701
2702
2703
2704
2705
2706
2707
2708
2709
2710
2711
2712</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2697</span></pre>
<pre class='code cpp'>

static VALUE
enum_drop(VALUE obj, VALUE n)
{
    VALUE result;
    struct MEMO *memo;
    long len = NUM2LONG(n);

    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;attempt to drop negative size&quot;);
    }

    result = rb_ary_new();
    memo = MEMO_NEW(result, 0, len);
    rb_block_call(obj, id_each, 0, 0, drop_i, (VALUE)memo);
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="drop_while-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>drop_while</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>drop_while</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Drops elements up to, but not including, the first element for which the
block returns <code>nil</code> or <code>false</code> and returns an array
containing the remaining elements.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_drop_while'>drop_while</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [3, 4, 5, 0]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2746'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2746
2747
2748
2749
2750
2751
2752
2753
2754
2755
2756
2757</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2746</span></pre>
<pre class='code cpp'>

static VALUE
enum_drop_while(VALUE obj)
{
    VALUE result;
    struct MEMO *memo;

    RETURN_ENUMERATOR(obj, 0, 0);
    result = rb_ary_new();
    memo = MEMO_NEW(result, 0, FALSE);
    rb_block_call(obj, id_each, 0, 0, drop_while_i, (VALUE)memo);
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_cons-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_cons</strong>(n)  &#x21d2; <tt>nil</tt> </span>
    <span class='overload'>#<strong>each_cons</strong>(n)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Iterates the given block for each array of consecutive &lt;n&gt; elements. 
If no block is given, returns an enumerator.</p>

<p>e.g.:</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_cons'>each_cons</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span> <span class='rbrace'>}</span>
<span class='comment'># outputs below
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>7</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>6</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>10</span><span class='rbracket'>]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2397'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2397
2398
2399
2400
2401
2402
2403
2404
2405
2406
2407
2408
2409
2410
2411
2412</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2397</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_cons(VALUE obj, VALUE n)
{
    long size = NUM2LONG(n);
    struct MEMO *memo;
    int arity;

    if (size &lt;= 0) rb_raise(rb_eArgError, &quot;invalid size&quot;);
    RETURN_SIZED_ENUMERATOR(obj, 1, &amp;n, enum_each_cons_size);
    arity = rb_block_arity();
    if (enum_size_over_p(obj, size)) return Qnil;
    memo = MEMO_NEW(rb_ary_new2(size), dont_recycle_block_arg(arity), size);
    rb_block_call(obj, id_each, 0, 0, each_cons_i, (VALUE)memo);

    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_entry-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_entry</strong> {|obj| ... } &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>each_entry</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calls <em>block</em> once for each element in <code>self</code>, passing
that element as a parameter, converting multiple values from yield to an
array.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="" title="Enumerable (module)">Enumerable</a></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
    <span class='kw'>yield</span> <span class='int'>1</span>
    <span class='kw'>yield</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='const'>Foo</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_each_entry'>each_entry</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_o'>o</span> <span class='rbrace'>}</span>
</code></pre>

<p>produces:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>1</span>
<span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>
<span class='kw'>nil</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2254'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2254
2255
2256
2257
2258
2259
2260</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2254</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_entry(int argc, VALUE *argv, VALUE obj)
{
    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);
    rb_block_call(obj, id_each, argc, argv, each_val_i, 0);
    return obj;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_slice-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_slice</strong>(n)  &#x21d2; <tt>nil</tt> </span>
    <span class='overload'>#<strong>each_slice</strong>(n)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Iterates the given block for each slice of &lt;n&gt; elements.  If no block
is given, returns an enumerator.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_slice'>each_slice</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span> <span class='rbrace'>}</span>
<span class='comment'># outputs below
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span><span class='rbracket'>]</span>
<span class='lbracket'>[</span><span class='int'>10</span><span class='rbracket'>]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2319'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2319
2320
2321
2322
2323
2324
2325
2326
2327
2328
2329
2330
2331
2332
2333
2334
2335
2336
2337
2338</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2319</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_slice(VALUE obj, VALUE n)
{
    long size = NUM2LONG(n);
    VALUE ary;
    struct MEMO *memo;
    int arity;

    if (size &lt;= 0) rb_raise(rb_eArgError, &quot;invalid slice size&quot;);
    RETURN_SIZED_ENUMERATOR(obj, 1, &amp;n, enum_each_slice_size);
    size = limit_by_enum_size(obj, size);
    ary = rb_ary_new2(size);
    arity = rb_block_arity();
    memo = MEMO_NEW(ary, dont_recycle_block_arg(arity), size);
    rb_block_call(obj, id_each, 0, 0, each_slice_i, (VALUE)memo);
    ary = memo-&gt;v1;
    if (RARRAY_LEN(ary) &gt; 0) rb_yield(ary);

    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_with_index-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_with_index</strong>(*args) {|obj, i| ... } &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>each_with_index</strong>(*args)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calls <em>block</em> with two arguments, the item and its index, for each
item in <em>enum</em>.  Given arguments are passed through to <code>#each</code>().</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='const'><a href="Hash.html" title="Hash (class)">Hash</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Hash.html#new-class_method" title="Hash.new (method)">new</a></span>
<span class='qwords_beg'>%w(</span><span class='tstring_content'>cat</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>wombat</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
  <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_item'>item</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_index'>index</span>
<span class='rbrace'>}</span>
<span class='id identifier rubyid_hash'>hash</span>   <span class='comment'>#=&gt; {&quot;cat&quot;=&gt;0, &quot;dog&quot;=&gt;1, &quot;wombat&quot;=&gt;2}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2168'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2168
2169
2170
2171
2172
2173
2174
2175
2176
2177
2178</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2168</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_with_index(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);

    memo = MEMO_NEW(0, 0, 0);
    rb_block_call(obj, id_each, argc, argv, each_with_index_i, (VALUE)memo);
    return obj;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_with_object-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_with_object</strong>(obj) {|(*args), memo_obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>each_with_object</strong>(obj)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Iterates the given block for each element with an arbitrary object given,
and returns the initially given object.</p>

<p>If no block is given, returns an enumerator.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_evens'>evens</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='int'>2</span> <span class='rbrace'>}</span>
<span class='comment'>#=&gt; [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2435'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2435
2436
2437
2438
2439
2440
2441
2442
2443</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2435</span></pre>
<pre class='code cpp'>

static VALUE
enum_each_with_object(VALUE obj, VALUE memo)
{
    RETURN_SIZED_ENUMERATOR(obj, 1, &amp;memo, enum_size);

    rb_block_call(obj, id_each, 0, 0, each_with_object_i, memo);

    return memo;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="entries-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_a</strong>(*args)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>entries</strong>(*args)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="find-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>detect</strong>(ifnone = nil) {|obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>find</strong>(ifnone = nil) {|obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>detect</strong>(ifnone = nil)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>find</strong>(ifnone = nil)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>detect</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Passes each entry in <em>enum</em> to <em>block</em>. Returns the first for
which <em>block</em> is not false.  If no object matches, calls
<em>ifnone</em> and returns its result when it is specified, or returns
<code>nil</code> otherwise.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby">(1..100).detect  =&gt; #&lt;Enumerator: 1..100:detect&gt;
(1..100).find    =&gt; #&lt;Enumerator: 1..100:find&gt;

(1..10).detect    { |i| i % 5 == 0 and i % 7 == 0 }   #=&gt; nil
(1..10).find    { |i| i % 5 == 0 and i % 7 == 0 }   #=&gt; nil
(1..100).detect    { |i| i % 5 == 0 and i % 7 == 0 }   #=&gt; 35
(1..100).find    { |i| i % 5 == 0 and i % 7 == 0 }   #=&gt; 35</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L240'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 240</span></pre>
<pre class='code cpp'>

static VALUE
enum_find(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    VALUE if_none;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;if_none);
    RETURN_ENUMERATOR(obj, argc, argv);
    memo = MEMO_NEW(Qundef, 0, 0);
    rb_block_call(obj, id_each, 0, 0, find_i, (VALUE)memo);
    if (memo-&gt;u3.cnt) {
	return memo-&gt;v1;
    }
    if (!NIL_P(if_none)) {
	return rb_funcallv(if_none, id_call, 0, 0);
    }
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_all-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>find_all</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>select</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>find_all</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>select</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#select-instance_method" title="Enumerable#select (method)">#select</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="find_index-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>find_index</strong>(value)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>find_index</strong> {|obj| ... } &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>find_index</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Compares each entry in <em>enum</em> with <em>value</em> or passes to
<em>block</em>.  Returns the index for the first for which the evaluated
value is non-false.  If no object matches, returns <code>nil</code></p>

<p>If neither block nor argument is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_find_index'>find_index</span>  <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>%</span> <span class='int'>5</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>%</span> <span class='int'>7</span> <span class='op'>==</span> <span class='int'>0</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; nil
</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>100</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_find_index'>find_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>%</span> <span class='int'>5</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>%</span> <span class='int'>7</span> <span class='op'>==</span> <span class='int'>0</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; 34
</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>100</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_find_index'>find_index</span><span class='lparen'>(</span><span class='int'>50</span><span class='rparen'>)</span>                                <span class='comment'>#=&gt; 49
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L306'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 306</span></pre>
<pre class='code cpp'>

static VALUE
enum_find_index(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;	/* [return value, current index, ] */
    VALUE condition_value = Qnil;
    rb_block_call_func *func;

    if (argc == 0) {
        RETURN_ENUMERATOR(obj, 0, 0);
        func = find_index_iter_i;
    }
    else {
	rb_scan_args(argc, argv, &quot;1&quot;, &amp;condition_value);
	if (rb_block_given_p()) {
	    rb_warn(&quot;given block not used&quot;);
	}
        func = find_index_i;
    }

    memo = MEMO_NEW(Qnil, condition_value, 0);
    rb_block_call(obj, id_each, 0, 0, func, (VALUE)memo);
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="first-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>first</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>first</strong>(n)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the first element, or the first <code>n</code> elements, of the
enumerable. If the enumerable is empty, the first form returns
<code>nil</code>, and the second form returns an empty array.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords_beg'>%w[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>     <span class='comment'>#=&gt; &quot;foo&quot;
</span><span class='qwords_beg'>%w[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [&quot;foo&quot;, &quot;bar&quot;]
</span><span class='qwords_beg'>%w[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]
</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>                  <span class='comment'>#=&gt; nil
</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span>              <span class='comment'>#=&gt; []
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L905'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


905
906
907
908
909
910
911
912
913
914
915
916
917
918</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 905</span></pre>
<pre class='code cpp'>

static VALUE
enum_first(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    rb_check_arity(argc, 0, 1);
    if (argc &gt; 0) {
	return enum_take(obj, argv[0]);
    }
    else {
	memo = MEMO_NEW(Qnil, 0, 0);
	rb_block_call(obj, id_each, 0, 0, first_i, (VALUE)memo);
	return memo-&gt;v1;
    }
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="flat_map-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>flat_map</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>collect_concat</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>flat_map</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>collect_concat</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>collect_concat</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array with the concatenated results of running <em>block</em>
once for every element in <em>enum</em>.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='op'>-</span><span class='id identifier rubyid_e'>e</span><span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [1, -1, 2, -2, 3, -3, 4, -4]
</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>+</span> <span class='lbracket'>[</span><span class='int'>100</span><span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [1, 2, 100, 3, 4, 100]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L522'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


522
523
524
525
526
527
528
529
530
531
532
533</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 522</span></pre>
<pre class='code cpp'>

static VALUE
enum_flat_map(VALUE obj)
{
    VALUE ary;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, flat_map_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="grep-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>grep</strong>(pattern)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>grep</strong>(pattern) {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array of every element in <em>enum</em> for which <code>Pattern
=== element</code>. If the optional <em>block</em> is supplied, each
matching element is passed to it, and the block&#39;s result is stored in
the output array.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>100</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span> <span class='int'>38</span><span class='op'>..</span><span class='int'>44</span>   <span class='comment'>#=&gt; [38, 39, 40, 41, 42, 43, 44]
</span><span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='const'><a href="IO.html" title="IO (class)">IO</a></span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span>
<span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>SEEK</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [:SEEK_SET, :SEEK_CUR, :SEEK_END]
</span><span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>SEEK</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='const'><a href="IO.html" title="IO (class)">IO</a></span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_res'>res</span>                    <span class='comment'>#=&gt; [0, 1, 2]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L86'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


86
87
88
89
90
91
92
93
94
95</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 86</span></pre>
<pre class='code cpp'>

static VALUE
enum_grep(VALUE obj, VALUE pat)
{
    VALUE ary = rb_ary_new();
    struct MEMO *memo = MEMO_NEW(pat, ary, Qtrue);

    rb_block_call(obj, id_each, 0, 0, rb_block_given_p() ? grep_iter_i : grep_i, (VALUE)memo);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="grep_v-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>grep_v</strong>(pattern)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>grep_v</strong>(pattern) {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Inverted version of <a href="#grep-instance_method" title="Enumerable#grep (method)">#grep</a>. Returns an array of every element in
<em>enum</em> for which not <code>Pattern === element</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep_v'>grep_v</span> <span class='int'>2</span><span class='op'>..</span><span class='int'>5</span>   <span class='comment'>#=&gt; [1, 6, 7, 8, 9, 10]
</span><span class='id identifier rubyid_res'>res</span> <span class='op'>=</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep_v'>grep_v</span><span class='lparen'>(</span><span class='int'>2</span><span class='op'>..</span><span class='int'>5</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='int'>2</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_res'>res</span>                    <span class='comment'>#=&gt; [2, 12, 14, 16, 18, 20]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L112'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


112
113
114
115
116
117
118
119
120
121</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 112</span></pre>
<pre class='code cpp'>

static VALUE
enum_grep_v(VALUE obj, VALUE pat)
{
    VALUE ary = rb_ary_new();
    struct MEMO *memo = MEMO_NEW(pat, ary, Qfalse);

    rb_block_call(obj, id_each, 0, 0, rb_block_given_p() ? grep_iter_i : grep_i, (VALUE)memo);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="group_by-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>group_by</strong> {|obj| ... } &#x21d2; <tt><a href="Hash.html" title="Hash (class)">Hash</a></tt> </span>
    <span class='overload'>#<strong>group_by</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Groups the collection by result of the block.  Returns a hash where the
keys are the evaluated result from the block and the values are arrays of
elements in the collection that correspond to the key.</p>

<p>If no block is given an enumerator is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>6</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_group_by'>group_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>%</span><span class='int'>3</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; {0=&gt;[3, 6], 1=&gt;[1, 4], 2=&gt;[2, 5]}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L860'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


860
861
862
863
864
865
866
867
868
869
870
871
872</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 860</span></pre>
<pre class='code cpp'>

static VALUE
enum_group_by(VALUE obj)
{
    VALUE hash;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    hash = rb_hash_new();
    rb_block_call(obj, id_each, 0, 0, group_by_i, hash);
    OBJ_INFECT(hash, obj);

    return hash;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="include?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>include?</strong>(obj)  &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>member?</strong>(obj)  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="inject-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>inject</strong>(initial, sym)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>inject</strong>(sym)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>inject</strong>(initial) {|memo, obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>inject</strong> {|memo, obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>reduce</strong>(initial, sym)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>reduce</strong>(sym)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>reduce</strong>(initial) {|memo, obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>reduce</strong> {|memo, obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>reduce</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Combines all elements of <em>enum</em> by applying a binary operation,
specified by a block or a symbol that names a method or operator.</p>

<p>If you specify a block, then for each element in <em>enum</em> the block is
passed an accumulator value (<em>memo</em>) and the element. If you specify
a symbol instead, then each element in the collection will be passed to the
named method of <em>memo</em>. In either case, the result becomes the new
value for <em>memo</em>. At the end of the iteration, the final value of
<em>memo</em> is the return value for the method.</p>

<p>If you do not explicitly specify an <em>initial</em> value for
<em>memo</em>, then the first element of collection is used as the initial
value of <em>memo</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Sum some numbers
</span><span class='lparen'>(</span><span class='int'>5</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span><span class='lparen'>(</span><span class='symbol'>:+</span><span class='rparen'>)</span>                             <span class='comment'>#=&gt; 45
</span><span class='comment'># Same using a block and inject
</span><span class='lparen'>(</span><span class='int'>5</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sum'>sum</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='id identifier rubyid_n'>n</span> <span class='rbrace'>}</span>            <span class='comment'>#=&gt; 45
</span><span class='comment'># Multiply some numbers
</span><span class='lparen'>(</span><span class='int'>5</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='symbol'>:*</span><span class='rparen'>)</span>                          <span class='comment'>#=&gt; 151200
</span><span class='comment'># Same using a block
</span><span class='lparen'>(</span><span class='int'>5</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_product'>product</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_product'>product</span> <span class='op'>*</span> <span class='id identifier rubyid_n'>n</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; 151200
</span><span class='comment'># find the longest word
</span><span class='id identifier rubyid_longest'>longest</span> <span class='op'>=</span> <span class='qwords_beg'>%w{ </span><span class='tstring_content'>cat</span><span class='words_sep'> </span><span class='tstring_content'>sheep</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> }</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_memo'>memo</span><span class='comma'>,</span> <span class='id identifier rubyid_word'>word</span><span class='op'>|</span>
   <span class='id identifier rubyid_memo'>memo</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>?</span> <span class='id identifier rubyid_memo'>memo</span> <span class='op'>:</span> <span class='id identifier rubyid_word'>word</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_longest'>longest</span>                                        <span class='comment'>#=&gt; &quot;sheep&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L736'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 736</span></pre>
<pre class='code cpp'>

static VALUE
enum_inject(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    VALUE init, op;
    rb_block_call_func *iter = inject_i;
    ID id;

    switch (rb_scan_args(argc, argv, &quot;02&quot;, &amp;init, &amp;op)) {
      case 0:
	init = Qundef;
	break;
      case 1:
	if (rb_block_given_p()) {
	    break;
	}
	id = rb_check_id(&amp;init);
	op = id ? ID2SYM(id) : init;
	init = Qundef;
	iter = inject_op_i;
	break;
      case 2:
	if (rb_block_given_p()) {
	    rb_warning(&quot;given block not used&quot;);
	}
	id = rb_check_id(&amp;op);
	if (id) op = ID2SYM(id);
	iter = inject_op_i;
	break;
    }

    if (iter == inject_op_i &amp;&amp;
        SYMBOL_P(op) &amp;&amp;
        RB_TYPE_P(obj, T_ARRAY) &amp;&amp;
        rb_method_basic_definition_p(CLASS_OF(obj), id_each)) {
        return ary_inject_op(obj, init, op);
    }

    memo = MEMO_NEW(init, Qnil, op);
    rb_block_call(obj, id_each, 0, 0, iter, (VALUE)memo);
    if (memo-&gt;v1 == Qundef) return Qnil;
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="lazy-instance_method">
  <h3 class='signature'>
  #<strong>lazy</strong>  &#x21d2; <tt>lazy_enumerator</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a lazy enumerator, whose methods map/collect,
flat_map/collect_concat, select/find_all, reject, grep, grep_v, zip, take,
take_while, drop, and drop_while enumerate values only on an as-needed
basis.  However, if a block is given to zip, values are enumerated
immediately.</p>

<h4 id="label-Example">Example</h4>

<p>The following program finds pythagorean triples:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_pythagorean_triples'>pythagorean_triples</span>
  <span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='const'><a href="Float.html" title="Float (class)">Float</a></span><span class='op'>::</span><span class='const'><a href="Float.html#INFINITY-constant" title="Float::INFINITY (constant)">INFINITY</a></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_z'>z</span><span class='op'>|</span>
    <span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='id identifier rubyid_z'>z</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>..</span><span class='id identifier rubyid_z'>z</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
        <span class='id identifier rubyid_x'>x</span><span class='op'>**</span><span class='int'>2</span> <span class='op'>+</span> <span class='id identifier rubyid_y'>y</span><span class='op'>**</span><span class='int'>2</span> <span class='op'>==</span> <span class='id identifier rubyid_z'>z</span><span class='op'>**</span><span class='int'>2</span>
      <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
        <span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_z'>z</span><span class='rbracket'>]</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>
<span class='comment'># show first ten pythagorean triples
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_pythagorean_triples'>pythagorean_triples</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_force'>force</span> <span class='comment'># take is lazy, so force is needed
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_pythagorean_triples'>pythagorean_triples</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span>      <span class='comment'># first is eager
</span><span class='comment'># show pythagorean triples less than 100
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_pythagorean_triples'>pythagorean_triples</span><span class='period'>.</span><span class='id identifier rubyid_take_while'>take_while</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='op'>*</span><span class='comma'>,</span> <span class='id identifier rubyid_z'>z</span><span class='op'>|</span> <span class='id identifier rubyid_z'>z</span> <span class='op'>&lt;</span> <span class='int'>100</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_force'>force</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L1452'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1452
1453
1454
1455
1456
1457
1458
1459</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 1452</span></pre>
<pre class='code cpp'>

static VALUE
enumerable_lazy(VALUE obj)
{
    VALUE result = lazy_to_enum_i(obj, sym_each, 0, 0, lazyenum_size);
    /* Qfalse indicates that the Enumerator::Lazy has no method name */
    rb_ivar_set(result, id_method, Qfalse);
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="map-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>collect</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>map</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>collect</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>map</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>collect</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array with the results of running <em>block</em> once for
every element in <em>enum</em>.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span> <span class='rbrace'>}</span>      <span class='comment'>#=&gt; [1, 4, 9, 16]
</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span>  <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [&quot;cat&quot;, &quot;cat&quot;, &quot;cat&quot;, &quot;cat&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L475'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


475
476
477
478
479
480
481
482
483
484
485
486</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 475</span></pre>
<pre class='code cpp'>

static VALUE
enum_collect(VALUE obj)
{
    VALUE ary;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, collect_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="max-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>max</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>max</strong> {|a, b| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>max</strong>(n)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>max</strong>(n) {|a, b| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the object in <em>enum</em> with the maximum value. The first form
assumes all objects implement <a href="Comparable.html" title="Comparable (module)">Comparable</a>; the second uses the block to
return <em>a &lt;=&gt; b</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>)</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>                                   <span class='comment'>#=&gt; &quot;horse&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; &quot;albatross&quot;
</span></code></pre>

<p>If the <code>n</code> argument is given, maximum <code>n</code> elements
are returned as an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>                                  <span class='comment'>#=&gt; [&quot;horse&quot;, &quot;dog&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [&quot;albatross&quot;, &quot;horse&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1655'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1655
1656
1657
1658
1659
1660
1661
1662
1663
1664
1665
1666
1667
1668
1669
1670
1671
1672
1673
1674
1675
1676
1677
1678
1679
1680</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1655</span></pre>
<pre class='code cpp'>

static VALUE
enum_max(int argc, VALUE *argv, VALUE obj)
{
    VALUE memo;
    struct max_t *m = NEW_CMP_OPT_MEMO(struct max_t, memo);
    VALUE result;
    VALUE num;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;num);

    if (!NIL_P(num))
       return rb_nmin_run(obj, num, 0, 1, 0);

    m-&gt;max = Qundef;
    m-&gt;cmp_opt.opt_methods = 0;
    m-&gt;cmp_opt.opt_inited = 0;
    if (rb_block_given_p()) {
	rb_block_call(obj, id_each, 0, 0, max_ii, (VALUE)memo);
    }
    else {
	rb_block_call(obj, id_each, 0, 0, max_i, (VALUE)memo);
    }
    result = m-&gt;max;
    if (result == Qundef) return Qnil;
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="max_by-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>max_by</strong> {|obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>max_by</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>max_by</strong>(n) {|obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>max_by</strong>(n)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the object in <em>enum</em> that gives the maximum value from the
given block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>)</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max_by'>max_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; &quot;albatross&quot;
</span></code></pre>

<p>If the <code>n</code> argument is given, minimum <code>n</code> elements
are returned as an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_max_by'>max_by</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [&quot;albatross&quot;, &quot;horse&quot;]
</span></code></pre>

<p>enum.max_by(n) can be used to implement weighted random sampling. Following
example implements and use #wsample.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'><a href="" title="Enumerable (module)">Enumerable</a></span>
  <span class='comment'># weighted random sampling.
</span>  <span class='comment'>#
</span>  <span class='comment'># Pavlos S. Efraimidis, Paul G. Spirakis
</span>  <span class='comment'># Weighted random sampling with a reservoir
</span>  <span class='comment'># Information Processing Letters
</span>  <span class='comment'># Volume 97, Issue 5 (16 March 2006)
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_wsample'>wsample</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_max_by'>max_by</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_rand'>rand</span> <span class='op'>**</span> <span class='lparen'>(</span><span class='float'>1.0</span><span class='op'>/</span><span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='op'>-</span><span class='int'>20</span><span class='op'>..</span><span class='int'>20</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='op'>*</span><span class='int'>10000</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_wsample'>wsample</span><span class='lparen'>(</span><span class='int'>20000</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='const'><a href="Math.html" title="Math (module)">Math</a></span><span class='period'>.</span><span class='id identifier rubyid_exp'><a href="Math.html#exp-class_method" title="Math.exp (method)">exp</a></span><span class='lparen'>(</span><span class='op'>-</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>/</span><span class='float'>5.0</span><span class='rparen'>)</span><span class='op'>**</span><span class='int'>2</span><span class='rparen'>)</span> <span class='comment'># normal distribution
</span><span class='rbrace'>}</span>
<span class='comment'># a is 20000 samples from e.
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='comment'>#=&gt; 20000
</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_group_by'>group_by</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>
<span class='op'>-</span><span class='int'>10</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>/</span><span class='float'>30.0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='comment'>#=&gt; *
</span><span class='comment'>#   ***
</span><span class='comment'>#   ******
</span><span class='comment'>#   ***********
</span><span class='comment'>#   ******************
</span><span class='comment'>#   *****************************
</span><span class='comment'>#   *****************************************
</span><span class='comment'>#   ****************************************************
</span><span class='comment'>#   ***************************************************************
</span><span class='comment'>#   ********************************************************************
</span><span class='comment'>#   ***********************************************************************
</span><span class='comment'>#   ***********************************************************************
</span><span class='comment'>#   **************************************************************
</span><span class='comment'>#   ****************************************************
</span><span class='comment'>#   ***************************************
</span><span class='comment'>#   ***************************
</span><span class='comment'>#   ******************
</span><span class='comment'>#   ***********
</span><span class='comment'>#   *******
</span><span class='comment'>#   ***
</span><span class='comment'>#   *
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1981'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1981
1982
1983
1984
1985
1986
1987
1988
1989
1990
1991
1992
1993
1994
1995
1996
1997</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1981</span></pre>
<pre class='code cpp'>

static VALUE
enum_max_by(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    VALUE num;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;num);

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);

    if (!NIL_P(num))
        return rb_nmin_run(obj, num, 1, 1, 0);

    memo = MEMO_NEW(Qundef, Qnil, 0);
    rb_block_call(obj, id_each, 0, 0, max_by_i, (VALUE)memo);
    return memo-&gt;v2;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="member?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>include?</strong>(obj)  &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>member?</strong>(obj)  &#x21d2; <tt>Boolean</tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>include?</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if any member of <em>enum</em> equals
<em>obj</em>. Equality is tested using <code>==</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="IO.html" title="IO (class)">IO</a></span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='symbol'>:SEEK_SET</span>          <span class='comment'>#=&gt; true
</span><span class='const'><a href="IO.html" title="IO (class)">IO</a></span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='symbol'>:SEEK_NO_FURTHER</span>   <span class='comment'>#=&gt; false
</span><span class='const'><a href="IO.html" title="IO (class)">IO</a></span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span> <span class='symbol'>:SEEK_SET</span>          <span class='comment'>#=&gt; true
</span><span class='const'><a href="IO.html" title="IO (class)">IO</a></span><span class='period'>.</span><span class='id identifier rubyid_constants'>constants</span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span> <span class='symbol'>:SEEK_NO_FURTHER</span>   <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2132'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2132
2133
2134
2135
2136
2137
2138
2139</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2132</span></pre>
<pre class='code cpp'>

static VALUE
enum_member(VALUE obj, VALUE val)
{
    struct MEMO *memo = MEMO_NEW(val, Qfalse, 0);

    rb_block_call(obj, id_each, 0, 0, member_i, (VALUE)memo);
    return memo-&gt;v2;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="min-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>min</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>min</strong> {|a, b| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>min</strong>(n)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>min</strong>(n) {|a, b| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the object in <em>enum</em> with the minimum value. The first form
assumes all objects implement <a href="Comparable.html" title="Comparable (module)">Comparable</a>; the second uses the block to
return <em>a &lt;=&gt; b</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>)</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>                                   <span class='comment'>#=&gt; &quot;albatross&quot;
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; &quot;dog&quot;
</span></code></pre>

<p>If the <code>n</code> argument is given, minimum <code>n</code> elements
are returned as an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>                                  <span class='comment'>#=&gt; [&quot;albatross&quot;, &quot;dog&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [&quot;dog&quot;, &quot;horse&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1562'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586
1587</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1562</span></pre>
<pre class='code cpp'>

static VALUE
enum_min(int argc, VALUE *argv, VALUE obj)
{
    VALUE memo;
    struct min_t *m = NEW_CMP_OPT_MEMO(struct min_t, memo);
    VALUE result;
    VALUE num;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;num);

    if (!NIL_P(num))
       return rb_nmin_run(obj, num, 0, 0, 0);

    m-&gt;min = Qundef;
    m-&gt;cmp_opt.opt_methods = 0;
    m-&gt;cmp_opt.opt_inited = 0;
    if (rb_block_given_p()) {
	rb_block_call(obj, id_each, 0, 0, min_ii, memo);
    }
    else {
	rb_block_call(obj, id_each, 0, 0, min_i, memo);
    }
    result = m-&gt;min;
    if (result == Qundef) return Qnil;
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="min_by-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>min_by</strong> {|obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>min_by</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>min_by</strong>(n) {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>min_by</strong>(n)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the object in <em>enum</em> that gives the minimum value from the
given block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>)</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min_by'>min_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; &quot;dog&quot;
</span></code></pre>

<p>If the <code>n</code> argument is given, minimum <code>n</code> elements
are returned as an array.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_min_by'>min_by</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [&quot;dog&quot;, &quot;horse&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1876'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1876
1877
1878
1879
1880
1881
1882
1883
1884
1885
1886
1887
1888
1889
1890
1891
1892</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1876</span></pre>
<pre class='code cpp'>

static VALUE
enum_min_by(int argc, VALUE *argv, VALUE obj)
{
    struct MEMO *memo;
    VALUE num;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;num);

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);

    if (!NIL_P(num))
        return rb_nmin_run(obj, num, 1, 0, 0);

    memo = MEMO_NEW(Qundef, Qnil, 0);
    rb_block_call(obj, id_each, 0, 0, min_by_i, (VALUE)memo);
    return memo-&gt;v2;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="minmax-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>minmax</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt>, <tt><a href="#max-instance_method" title="Enumerable#max (method)">max</a></tt> </span>
    <span class='overload'>#<strong>minmax</strong> {|a, b| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt>, <tt><a href="#max-instance_method" title="Enumerable#max (method)">max</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a two element array which contains the minimum and the maximum
value in the enumerable.  The first form assumes all objects implement
<a href="Comparable.html" title="Comparable (module)">Comparable</a>; the second uses the block to return <em>a &lt;=&gt; b</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>)</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_minmax'>minmax</span>                                  <span class='comment'>#=&gt; [&quot;albatross&quot;, &quot;horse&quot;]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_minmax'>minmax</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [&quot;dog&quot;, &quot;albatross&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1808'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1808
1809
1810
1811
1812
1813
1814
1815
1816
1817
1818
1819
1820
1821
1822
1823
1824
1825
1826
1827
1828
1829
1830
1831
1832</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1808</span></pre>
<pre class='code cpp'>

static VALUE
enum_minmax(VALUE obj)
{
    VALUE memo;
    struct minmax_t *m = NEW_CMP_OPT_MEMO(struct minmax_t, memo);

    m-&gt;min = Qundef;
    m-&gt;last = Qundef;
    m-&gt;cmp_opt.opt_methods = 0;
    m-&gt;cmp_opt.opt_inited = 0;
    if (rb_block_given_p()) {
	rb_block_call(obj, id_each, 0, 0, minmax_ii, memo);
	if (m-&gt;last != Qundef)
	    minmax_ii_update(m-&gt;last, m-&gt;last, m);
    }
    else {
	rb_block_call(obj, id_each, 0, 0, minmax_i, memo);
	if (m-&gt;last != Qundef)
	    minmax_i_update(m-&gt;last, m-&gt;last, m);
    }
    if (m-&gt;min != Qundef) {
	return rb_assoc_new(m-&gt;min, m-&gt;max);
    }
    return rb_assoc_new(Qnil, Qnil);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="minmax_by-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>minmax_by</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt>, <tt><a href="#max-instance_method" title="Enumerable#max (method)">max</a></tt> </span>
    <span class='overload'>#<strong>minmax_by</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a two element array containing the objects in <em>enum</em> that
correspond to the minimum and maximum values respectively from the given
block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>albatross</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'>)</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_minmax_by'>minmax_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [&quot;dog&quot;, &quot;albatross&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2084'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2084
2085
2086
2087
2088
2089
2090
2091
2092
2093
2094
2095
2096
2097
2098
2099
2100
2101
2102
2103</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2084</span></pre>
<pre class='code cpp'>

static VALUE
enum_minmax_by(VALUE obj)
{
    VALUE memo;
    struct minmax_by_t *m = NEW_MEMO_FOR(struct minmax_by_t, memo);

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    m-&gt;min_bv = Qundef;
    m-&gt;max_bv = Qundef;
    m-&gt;min = Qnil;
    m-&gt;max = Qnil;
    m-&gt;last_bv = Qundef;
    m-&gt;last = Qundef;
    rb_block_call(obj, id_each, 0, 0, minmax_by_i, memo);
    if (m-&gt;last_bv != Qundef)
        minmax_by_i_update(m-&gt;last_bv, m-&gt;last_bv, m-&gt;last, m-&gt;last, m);
    m = MEMO_FOR(struct minmax_by_t, memo);
    return rb_assoc_new(m-&gt;min, m-&gt;max);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="none?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>none?</strong> {|obj| ... } &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>none?</strong>  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Passes each element of the collection to the given block. The method
returns <code>true</code> if the block never returns <code>true</code> for
all elements. If the block is not given, <code>none?</code> will return
<code>true</code> only if none of the collection members is true.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords_beg'>%w{</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>}</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>5</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; true
</span><span class='qwords_beg'>%w{</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>}</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='int'>4</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; false
</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span>                                           <span class='comment'>#=&gt; true
</span><span class='lbracket'>[</span><span class='kw'>nil</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span>                                        <span class='comment'>#=&gt; true
</span><span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span>                                 <span class='comment'>#=&gt; true
</span><span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span>                           <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1487'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1487
1488
1489
1490
1491
1492
1493</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1487</span></pre>
<pre class='code cpp'>

static VALUE
enum_none(VALUE obj)
{
    struct MEMO *memo = MEMO_NEW(Qtrue, 0, 0);
    rb_block_call(obj, id_each, 0, 0, ENUMFUNC(none), (VALUE)memo);
    return memo-&gt;v1;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="one?-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>one?</strong> {|obj| ... } &#x21d2; <tt>Boolean</tt> </span>
    <span class='overload'>#<strong>one?</strong>  &#x21d2; <tt>Boolean</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Passes each element of the collection to the given block. The method
returns <code>true</code> if the block returns <code>true</code> exactly
once. If the block is not given, <code>one?</code> will return
<code>true</code> only if exactly one of the collection members is true.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords_beg'>%w{</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>}</span><span class='period'>.</span><span class='id identifier rubyid_one?'>one?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>4</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; true
</span><span class='qwords_beg'>%w{</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>}</span><span class='period'>.</span><span class='id identifier rubyid_one?'>one?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>4</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; false
</span><span class='qwords_beg'>%w{</span><span class='tstring_content'>ant</span><span class='words_sep'> </span><span class='tstring_content'>bear</span><span class='words_sep'> </span><span class='tstring_content'>cat</span><span class='words_sep'>}</span><span class='period'>.</span><span class='id identifier rubyid_one?'>one?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='int'>4</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; false
</span><span class='lbracket'>[</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='int'>99</span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_one?'>one?</span>                             <span class='comment'>#=&gt; false
</span><span class='lbracket'>[</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_one?'>one?</span>                          <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1450'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1450</span></pre>
<pre class='code cpp'>

static VALUE
enum_one(VALUE obj)
{
    struct MEMO *memo = MEMO_NEW(Qundef, 0, 0);
    VALUE result;

    rb_block_call(obj, id_each, 0, 0, ENUMFUNC(one), (VALUE)memo);
    result = memo-&gt;v1;
    if (result == Qundef) return Qfalse;
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="partition-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>partition</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt>, <tt>false_array</tt> </span>
    <span class='overload'>#<strong>partition</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns two arrays, the first containing the elements of <em>enum</em> for
which the block evaluates to true, the second containing the rest.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>6</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [[2, 4, 6], [1, 3, 5]]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L812'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


812
813
814
815
816
817
818
819
820
821
822
823</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 812</span></pre>
<pre class='code cpp'>

static VALUE
enum_partition(VALUE obj)
{
    struct MEMO *memo;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    memo = MEMO_NEW(rb_ary_new(), rb_ary_new(), 0);
    rb_block_call(obj, id_each, 0, 0, partition_i, (VALUE)memo);

    return rb_assoc_new(memo-&gt;v1, memo-&gt;v2);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reduce-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>inject</strong>(initial, sym)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>inject</strong>(sym)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>inject</strong>(initial) {|memo, obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>inject</strong> {|memo, obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>reduce</strong>(initial, sym)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>reduce</strong>(sym)  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>reduce</strong>(initial) {|memo, obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>reduce</strong> {|memo, obj| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#inject-instance_method" title="Enumerable#inject (method)">#inject</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="reject-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>reject</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>reject</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array for all elements of <code>enum</code> for which the given
<code>block</code> returns false.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>  <span class='id identifier rubyid_i'>i</span> <span class='op'>%</span> <span class='int'>3</span> <span class='op'>==</span> <span class='int'>0</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [1, 2, 4, 5, 7, 8, 10]
</span>
<span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_num'>num</span><span class='op'>|</span> <span class='id identifier rubyid_num'>num</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; [1, 3, 5]
</span></code></pre>

<p>See also <a href="#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L428'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


428
429
430
431
432
433
434
435
436
437
438
439</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 428</span></pre>
<pre class='code cpp'>

static VALUE
enum_reject(VALUE obj)
{
    VALUE ary;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, reject_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="reverse_each-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>reverse_each</strong>(*args) {|item| ... } &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>reverse_each</strong>(*args)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Builds a temporary array and traverses that array in reverse order.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby">  (1..3).reverse_each { |v| p v }

produces:

  3
  2
  1</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2199'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2199
2200
2201
2202
2203
2204
2205
2206
2207
2208
2209
2210
2211
2212
2213
2214</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2199</span></pre>
<pre class='code cpp'>

static VALUE
enum_reverse_each(int argc, VALUE *argv, VALUE obj)
{
    VALUE ary;
    long i;

    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enum_size);

    ary = enum_to_a(argc, argv, obj);

    for (i = RARRAY_LEN(ary); --i &gt;= 0; ) {
	rb_yield(RARRAY_AREF(ary, i));
    }

    return obj;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="select-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>find_all</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>select</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>find_all</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>select</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>find_all</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing all elements of <code>enum</code> for which the
given <code>block</code> returns a true value.</p>

<p>If no block is given, an Enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>  <span class='id identifier rubyid_i'>i</span> <span class='op'>%</span> <span class='int'>3</span> <span class='op'>==</span> <span class='int'>0</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [3, 6, 9]
</span>
<span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>5</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_num'>num</span><span class='op'>|</span>  <span class='id identifier rubyid_num'>num</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span>  <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [2, 4]
</span></code></pre>

<p>See also <a href="#reject-instance_method" title="Enumerable#reject (method)">#reject</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L387'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


387
388
389
390
391
392
393
394
395
396
397
398</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 387</span></pre>
<pre class='code cpp'>

static VALUE
enum_find_all(VALUE obj)
{
    VALUE ary;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, find_all_i, ary);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="slice_after-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>slice_after</strong>(pattern)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>slice_after</strong> {|elt| ... } &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates an enumerator for each chunked elements. The ends of chunks are
defined by <em>pattern</em> and the block.</p>

<p>If <code><em>pattern</em> === <em>elt</em></code> returns <code>true</code>
or the block returns <code>true</code> for the element, the element is end
of a chunk.</p>

<p>The <code>===</code> and <em>block</em> is called from the first element to
the last element of <em>enum</em>.</p>

<p>The result enumerator yields the chunked elements as an array. So
<code>each</code> method can be called as follows:</p>

<pre class="code ruby"><code class="ruby">enum.slice_after(pattern).each { |ary| ... }
enum.slice_after { |elt| bool }.each { |ary| ... }</code></pre>

<p>Other methods of the Enumerator class and Enumerable module, such as
<code>map</code>, etc., are also usable.</p>

<p>For example, continuation lines (lines end with backslash) can be
concatenated as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar\\\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baz\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>qux\n</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_slice_after'>slice_after</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?&lt;!\\)\n\z</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='comment'>#=&gt; [[&quot;foo\n&quot;], [&quot;bar\\\n&quot;, &quot;baz\n&quot;], [&quot;\n&quot;], [&quot;qux\n&quot;]]
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ll'>ll</span><span class='op'>|</span> <span class='id identifier rubyid_ll'>ll</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>...</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\\\n\z</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='op'>+</span> <span class='id identifier rubyid_ll'>ll</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='rbrace'>}</span>
<span class='comment'>#=&gt;[&quot;foo\n&quot;, &quot;barbaz\n&quot;, &quot;\n&quot;, &quot;qux\n&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L3334'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3334
3335
3336
3337
3338
3339
3340
3341
3342
3343
3344
3345
3346
3347
3348
3349
3350
3351
3352
3353
3354
3355
3356</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3334</span></pre>
<pre class='code cpp'>

static VALUE
enum_slice_after(int argc, VALUE *argv, VALUE enumerable)
{
    VALUE enumerator;
    VALUE pat = Qnil, pred = Qnil;

    if (rb_block_given_p()) {
        if (0 &lt; argc)
            rb_raise(rb_eArgError, &quot;both pattern and block are given&quot;);
        pred = rb_block_proc();
    }
    else {
        rb_scan_args(argc, argv, &quot;1&quot;, &amp;pat);
    }

    enumerator = rb_obj_alloc(rb_cEnumerator);
    rb_ivar_set(enumerator, rb_intern(&quot;sliceafter_enum&quot;), enumerable);
    rb_ivar_set(enumerator, rb_intern(&quot;sliceafter_pat&quot;), pat);
    rb_ivar_set(enumerator, rb_intern(&quot;sliceafter_pred&quot;), pred);

    rb_block_call(enumerator, idInitialize, 0, 0, sliceafter_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="slice_before-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>slice_before</strong>(pattern)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>slice_before</strong> {|elt| ... } &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates an enumerator for each chunked elements. The beginnings of chunks
are defined by <em>pattern</em> and the block.</p>

<p>If <code><em>pattern</em> === <em>elt</em></code> returns <code>true</code>
or the block returns <code>true</code> for the element, the element is
beginning of a chunk.</p>

<p>The <code>===</code> and <em>block</em> is called from the first element to
the last element of <em>enum</em>.  The result for the first element is
ignored.</p>

<p>The result enumerator yields the chunked elements as an array. So
<code>each</code> method can be called as follows:</p>

<pre class="code ruby"><code class="ruby">enum.slice_before(pattern).each { |ary| ... }
enum.slice_before { |elt| bool }.each { |ary| ... }</code></pre>

<p>Other methods of the Enumerator class and Enumerable module, such as map,
etc., are also usable.</p>

<p>For example, iteration over ChangeLog entries can be implemented as
follows:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># iterate over ChangeLog entries.
</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ChangeLog</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_slice_before'>slice_before</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\S</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_e'>e</span> <span class='rbrace'>}</span>
<span class='rbrace'>}</span>

<span class='comment'># same as above.  block is used instead of pattern argument.
</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ChangeLog</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_slice_before'>slice_before</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\S</span><span class='regexp_end'>/</span></span> <span class='op'>===</span> <span class='id identifier rubyid_line'>line</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_e'>e</span> <span class='rbrace'>}</span>
<span class='rbrace'>}</span>
</code></pre>

<p>“svn proplist -R” produces multiline output for each file. They can be
chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="IO.html" title="IO (class)">IO</a></span><span class='period'>.</span><span class='id identifier rubyid_popen'><a href="IO.html#popen-class_method" title="IO.popen (method)">popen</a></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LC_ALL</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>svn</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>proplist</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-R</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_slice_before'>slice_before</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\AProp</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_lines'>lines</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lines'>lines</span> <span class='rbrace'>}</span>
<span class='rbrace'>}</span>
<span class='comment'>#=&gt; [&quot;Properties on &#39;.&#39;:\n&quot;, &quot;  svn:ignore\n&quot;, &quot;  svk:merge\n&quot;]
</span><span class='comment'>#   [&quot;Properties on &#39;goruby.c&#39;:\n&quot;, &quot;  svn:eol-style\n&quot;]
</span><span class='comment'>#   [&quot;Properties on &#39;complex.c&#39;:\n&quot;, &quot;  svn:mime-type\n&quot;, &quot;  svn:eol-style\n&quot;]
</span><span class='comment'>#   [&quot;Properties on &#39;regparse.c&#39;:\n&quot;, &quot;  svn:eol-style\n&quot;]
</span><span class='comment'>#   ...
</span></code></pre>

<p>If the block needs to maintain state over multiple elements, local
variables can be used. For example, three or more consecutive increasing
numbers can be squashed as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>9</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_prev'>prev</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_slice_before'>slice_before</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
  <span class='id identifier rubyid_prev'>prev</span><span class='comma'>,</span> <span class='id identifier rubyid_prev2'>prev2</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='id identifier rubyid_prev'>prev</span>
  <span class='id identifier rubyid_prev2'>prev2</span> <span class='op'>+</span> <span class='int'>1</span> <span class='op'>!=</span> <span class='id identifier rubyid_e'>e</span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_es'>es</span><span class='op'>|</span>
  <span class='id identifier rubyid_es'>es</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=</span> <span class='int'>2</span> <span class='op'>?</span> <span class='id identifier rubyid_es'>es</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_es'>es</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_es'>es</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; &quot;0,2-4,6,7,9&quot;
</span></code></pre>

<p>However local variables should be used carefully if the result enumerator
is enumerated twice or more. The local variables should be initialized for
each enumeration. <a href="Enumerator.html#new-class_method" title="Enumerator.new (method)">Enumerator.new</a> can be used to do it.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Word wrapping.  This assumes all characters have same width.
</span><span class='kw'>def</span> <span class='id identifier rubyid_wordwrap'>wordwrap</span><span class='lparen'>(</span><span class='id identifier rubyid_words'>words</span><span class='comma'>,</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span><span class='rparen'>)</span>
  <span class='const'><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Enumerator.html#new-class_method" title="Enumerator.new (method)">new</a></span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
    <span class='comment'># cols is initialized in Enumerator.new.
</span>    <span class='id identifier rubyid_cols'>cols</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_words'>words</span><span class='period'>.</span><span class='id identifier rubyid_slice_before'>slice_before</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span>
      <span class='id identifier rubyid_cols'>cols</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_cols'>cols</span> <span class='op'>!=</span> <span class='int'>0</span>
      <span class='id identifier rubyid_cols'>cols</span> <span class='op'>+=</span> <span class='id identifier rubyid_w'>w</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_maxwidth'>maxwidth</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_cols'>cols</span>
        <span class='id identifier rubyid_cols'>cols</span> <span class='op'>=</span> <span class='id identifier rubyid_w'>w</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
        <span class='kw'>true</span>
      <span class='kw'>else</span>
        <span class='kw'>false</span>
      <span class='kw'>end</span>
    <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ws'>ws</span><span class='op'>|</span> <span class='id identifier rubyid_y'>y</span><span class='period'>.</span><span class='id identifier rubyid_yield'>yield</span> <span class='id identifier rubyid_ws'>ws</span> <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>20</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_enum'>enum</span> <span class='op'>=</span> <span class='id identifier rubyid_wordwrap'>wordwrap</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='int'>10</span><span class='rparen'>)</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>10</span>
<span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ws'>ws</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_ws'>ws</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='comment'># first enumeration.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>10</span>
<span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ws'>ws</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_ws'>ws</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='comment'># second enumeration generates same result as the first.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='int'>10</span>
<span class='comment'>#=&gt; ----------
</span><span class='comment'>#   1 2 3 4 5
</span><span class='comment'>#   6 7 8 9 10
</span><span class='comment'>#   11 12 13
</span><span class='comment'>#   14 15 16
</span><span class='comment'>#   17 18 19
</span><span class='comment'>#   20
</span><span class='comment'>#   ----------
</span><span class='comment'>#   1 2 3 4 5
</span><span class='comment'>#   6 7 8 9 10
</span><span class='comment'>#   11 12 13
</span><span class='comment'>#   14 15 16
</span><span class='comment'>#   17 18 19
</span><span class='comment'>#   20
</span><span class='comment'>#   ----------
</span></code></pre>

<p>mbox contains series of mails which start with Unix From line. So each mail
can be extracted by slice before Unix From line.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># parse mbox
</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mbox</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_slice_before'>slice_before</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>From </span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_mail'>mail</span><span class='op'>|</span>
    <span class='id identifier rubyid_unix_from'>unix_from</span> <span class='op'>=</span> <span class='id identifier rubyid_mail'>mail</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_mail'>mail</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='id identifier rubyid_mail'>mail</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_mail'>mail</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_fields'>fields</span> <span class='op'>=</span> <span class='id identifier rubyid_header'>header</span><span class='period'>.</span><span class='id identifier rubyid_slice_before'>slice_before</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='op'>!</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> \t</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_unix_from'>unix_from</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_fields'>fields</span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_body'>body</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span>

<span class='comment'># split mails in mbox (slice before Unix From line after an empty line)
</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mbox</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_slice_before'>slice_before</span><span class='lparen'>(</span><span class='label'>emp:</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
    <span class='id identifier rubyid_prevemp'>prevemp</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:emp</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:emp</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_prevemp'>prevemp</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>From </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_mail'>mail</span><span class='op'>|</span>
    <span class='id identifier rubyid_mail'>mail</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_mail'>mail</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_mail'>mail</span>
  <span class='rbrace'>}</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L3212'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3212
3213
3214
3215
3216
3217
3218
3219
3220
3221
3222
3223
3224
3225
3226
3227
3228
3229
3230
3231
3232</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3212</span></pre>
<pre class='code cpp'>

static VALUE
enum_slice_before(int argc, VALUE *argv, VALUE enumerable)
{
    VALUE enumerator;

    if (rb_block_given_p()) {
        if (argc != 0)
            rb_error_arity(argc, 0, 0);
        enumerator = rb_obj_alloc(rb_cEnumerator);
        rb_ivar_set(enumerator, rb_intern(&quot;slicebefore_sep_pred&quot;), rb_block_proc());
    }
    else {
        VALUE sep_pat;
        rb_scan_args(argc, argv, &quot;1&quot;, &amp;sep_pat);
        enumerator = rb_obj_alloc(rb_cEnumerator);
        rb_ivar_set(enumerator, rb_intern(&quot;slicebefore_sep_pat&quot;), sep_pat);
    }
    rb_ivar_set(enumerator, rb_intern(&quot;slicebefore_enumerable&quot;), enumerable);
    rb_block_call(enumerator, idInitialize, 0, 0, slicebefore_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="slice_when-instance_method">
  <h3 class='signature'>
  #<strong>slice_when</strong> {|elt_before, elt_after| ... } &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates an enumerator for each chunked elements. The beginnings of chunks
are defined by the block.</p>

<p>This method split each chunk using adjacent elements, <em>elt_before</em>
and <em>elt_after</em>, in the receiver enumerator. This method split
chunks between <em>elt_before</em> and <em>elt_after</em> where the block
returns true.</p>

<p>The block is called the length of the receiver enumerator minus one.</p>

<p>The result enumerator yields the chunked elements as an array. So
<code>each</code> method can be called as follows:</p>

<pre class="code ruby"><code class="ruby">enum.slice_when { |elt_before, elt_after| bool }.each { |ary| ... }</code></pre>

<p>Other methods of the Enumerator class and Enumerable module, such as
<code>to_a</code>, <code>map</code>, etc., are also usable.</p>

<p>For example, one-by-one increasing subsequence can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>9</span><span class='comma'>,</span><span class='int'>10</span><span class='comma'>,</span><span class='int'>11</span><span class='comma'>,</span><span class='int'>12</span><span class='comma'>,</span><span class='int'>15</span><span class='comma'>,</span><span class='int'>16</span><span class='comma'>,</span><span class='int'>19</span><span class='comma'>,</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>21</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_slice_when'>slice_when</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span> <span class='op'>!=</span> <span class='id identifier rubyid_j'>j</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; [[1, 2], [4], [9, 10, 11, 12], [15, 16], [19, 20, 21]]
</span><span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_c'>c</span> <span class='comment'>#=&gt; [[1, 2], [4], &quot;9-12&quot;, [15, 16], &quot;19-21&quot;]
</span><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_d'>d</span> <span class='comment'>#=&gt; &quot;1,2,4,9-12,15,16,19-21&quot;
</span></code></pre>

<p>Near elements (threshold: 6) in sorted array can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>11</span><span class='comma'>,</span> <span class='int'>14</span><span class='comma'>,</span> <span class='int'>25</span><span class='comma'>,</span> <span class='int'>28</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>41</span><span class='comma'>,</span> <span class='int'>55</span><span class='comma'>,</span> <span class='int'>57</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_slice_when'>slice_when</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='int'>6</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_j'>j</span> <span class='op'>-</span> <span class='id identifier rubyid_i'>i</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='comment'>#=&gt; [[3], [11, 14], [25, 28, 29, 29], [41], [55, 57]]
</span></code></pre>

<p>Increasing (non-decreasing) subsequence can be chunked as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_slice_when'>slice_when</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_j'>j</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='comment'>#=&gt; [[0, 9], [2, 2, 3], [2, 7], [5, 9], [5]]
</span></code></pre>

<p>Adjacent evens and odds can be chunked as follows: (Enumerable#chunk is
another way to do it.)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>7</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>9</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_slice_when'>slice_when</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_j'>j</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span> <span class='op'>!=</span> <span class='id identifier rubyid_j'>j</span><span class='period'>.</span><span class='id identifier rubyid_even?'>even?</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='comment'>#=&gt; [[7, 5, 9], [2, 0], [7, 9], [4, 2, 0]]
</span></code></pre>

<p>Paragraphs (non-empty lines with trailing empty lines) can be chunked as
follows: (See <a href="#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a> to ignore empty lines.)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baz\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>qux\n</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_slice_when'>slice_when</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_l1'>l1</span><span class='comma'>,</span> <span class='id identifier rubyid_l2'>l2</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l1'>l1</span> <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\S</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l2'>l2</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='comment'>#=&gt; [[&quot;foo\n&quot;, &quot;bar\n&quot;, &quot;\n&quot;], [&quot;baz\n&quot;, &quot;qux\n&quot;]]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L3486'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3486
3487
3488
3489
3490
3491
3492
3493
3494
3495
3496
3497
3498
3499
3500
3501</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3486</span></pre>
<pre class='code cpp'>

static VALUE
enum_slice_when(VALUE enumerable)
{
    VALUE enumerator;
    VALUE pred;

    pred = rb_block_proc();

    enumerator = rb_obj_alloc(rb_cEnumerator);
    rb_ivar_set(enumerator, rb_intern(&quot;slicewhen_enum&quot;), enumerable);
    rb_ivar_set(enumerator, rb_intern(&quot;slicewhen_pred&quot;), pred);
    rb_ivar_set(enumerator, rb_intern(&quot;slicewhen_inverted&quot;), Qfalse);

    rb_block_call(enumerator, idInitialize, 0, 0, slicewhen_i, enumerator);
    return enumerator;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sort-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>sort</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>sort</strong> {|a, b| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing the items in <em>enum</em> sorted, either
according to their own <code>&lt;=&gt;</code> method, or by using the
results of the supplied block. The block should return -1, 0, or +1
depending on the comparison between <em>a</em> and <em>b</em>. As of Ruby
1.8, the method <a href="#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a> implements a built-in Schwartzian
Transform, useful when key computation or comparison is expensive.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords_beg'>%w(</span><span class='tstring_content'>rhea</span><span class='words_sep'> </span><span class='tstring_content'>kea</span><span class='words_sep'> </span><span class='tstring_content'>flea</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>          <span class='comment'>#=&gt; [&quot;flea&quot;, &quot;kea&quot;, &quot;rhea&quot;]
</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a'>a</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L938'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


938
939
940
941
942</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 938</span></pre>
<pre class='code cpp'>

static VALUE
enum_sort(VALUE obj)
{
    return rb_ary_sort(enum_to_a(0, 0, obj));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sort_by-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>sort_by</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>sort_by</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sorts <em>enum</em> using a set of keys generated by mapping the values in
<em>enum</em> through the given block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='qwords_beg'>%w{</span><span class='tstring_content'>apple</span><span class='words_sep'> </span><span class='tstring_content'>pear</span><span class='words_sep'> </span><span class='tstring_content'>fig</span><span class='words_sep'>}</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbrace'>}</span>
              <span class='comment'>#=&gt; [&quot;fig&quot;, &quot;pear&quot;, &quot;apple&quot;]
</span></code></pre>

<p>The current implementation of <code>sort_by</code> generates an array of
tuples containing the original collection element and the mapped value.
This makes <code>sort_by</code> fairly expensive when the keysets are
simple.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>benchmark</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>100000</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>100000</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

<span class='const'>Benchmark</span><span class='period'>.</span><span class='id identifier rubyid_bm'>bm</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_report'>report</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sort</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>    <span class='lbrace'>{</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_report'>report</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sort by</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby">user     system      total        real
Sort        0.180000   0.000000   0.180000 (  0.175469)
Sort by     1.980000   0.040000   2.020000 (  2.013586)</code></pre>

<p>However, consider the case where comparing the keys is a non-trivial
operation. The following code sorts some files on modification time using
the basic <code>sort</code> method.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_sorted'>sorted</span> <span class='op'>=</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='const'><a href="File.html" title="File (class)">File</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="File.html#new-class_method" title="File.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_mtime'><a href="File.html#mtime-class_method" title="File.mtime (method)">mtime</a></span> <span class='op'>&lt;=&gt;</span> <span class='const'><a href="File.html" title="File (class)">File</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="File.html#new-class_method" title="File.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_mtime'><a href="File.html#mtime-class_method" title="File.mtime (method)">mtime</a></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_sorted'>sorted</span>   <span class='comment'>#=&gt; [&quot;mon&quot;, &quot;tues&quot;, &quot;wed&quot;, &quot;thurs&quot;]
</span></code></pre>

<p>This sort is inefficient: it generates two new <a href="File.html" title="File (class)">File</a> objects during every
comparison. A slightly better technique is to use the <a href="Kernel.html#test-class_method" title="Kernel.test (method)">Kernel.test</a> method
to generate the modification times directly.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_sorted'>sorted</span> <span class='op'>=</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
  <span class='id identifier rubyid_test'>test</span><span class='lparen'>(</span><span class='CHAR'>?M</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_test'>test</span><span class='lparen'>(</span><span class='CHAR'>?M</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>
<span class='rbrace'>}</span>
<span class='id identifier rubyid_sorted'>sorted</span>   <span class='comment'>#=&gt; [&quot;mon&quot;, &quot;tues&quot;, &quot;wed&quot;, &quot;thurs&quot;]
</span></code></pre>

<p>This still generates many unnecessary <a href="Time.html" title="Time (class)">Time</a> objects. A more efficient
technique is to cache the sort keys (modification times in this case)
before the sort. Perl users often call this approach a Schwartzian
Transform, after Randal Schwartz. We construct a temporary array, where
each element is an array containing our sort key along with the filename.
We sort this array, and then extract the filename from the result.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sorted'>sorted</span> <span class='op'>=</span> <span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
   <span class='lbracket'>[</span><span class='id identifier rubyid_test'>test</span><span class='lparen'>(</span><span class='CHAR'>?M</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='rbracket'>]</span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_sorted'>sorted</span>   <span class='comment'>#=&gt; [&quot;mon&quot;, &quot;tues&quot;, &quot;wed&quot;, &quot;thurs&quot;]
</span></code></pre>

<p>This is exactly what <code>sort_by</code> does internally.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sorted'>sorted</span> <span class='op'>=</span> <span class='const'><a href="Dir.html" title="Dir (class)">Dir</a></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_test'>test</span><span class='lparen'>(</span><span class='CHAR'>?M</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_sorted'>sorted</span>   <span class='comment'>#=&gt; [&quot;mon&quot;, &quot;tues&quot;, &quot;wed&quot;, &quot;thurs&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L1067'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 1067</span></pre>
<pre class='code cpp'>

static VALUE
enum_sort_by(VALUE obj)
{
    VALUE ary, buf;
    struct MEMO *memo;
    long i;
    struct sort_by_data *data;

    RETURN_SIZED_ENUMERATOR(obj, 0, 0, enum_size);

    if (RB_TYPE_P(obj, T_ARRAY) &amp;&amp; RARRAY_LEN(obj) &lt;= LONG_MAX/2) {
	ary = rb_ary_new2(RARRAY_LEN(obj)*2);
    }
    else {
	ary = rb_ary_new();
    }
    RBASIC_CLEAR_CLASS(ary);
    buf = rb_ary_tmp_new(SORT_BY_BUFSIZE*2);
    rb_ary_store(buf, SORT_BY_BUFSIZE*2-1, Qnil);
    memo = MEMO_NEW(0, 0, 0);
    OBJ_INFECT(memo, obj);
    data = (struct sort_by_data *)&amp;memo-&gt;v1;
    RB_OBJ_WRITE(memo, &amp;data-&gt;ary, ary);
    RB_OBJ_WRITE(memo, &amp;data-&gt;buf, buf);
    data-&gt;n = 0;
    rb_block_call(obj, id_each, 0, 0, sort_by_i, (VALUE)memo);
    ary = data-&gt;ary;
    buf = data-&gt;buf;
    if (data-&gt;n) {
	rb_ary_resize(buf, data-&gt;n*2);
	rb_ary_concat(ary, buf);
    }
    if (RARRAY_LEN(ary) &gt; 2) {
	RARRAY_PTR_USE(ary, ptr,
		      ruby_qsort(ptr, RARRAY_LEN(ary)/2, 2*sizeof(VALUE),
				 sort_by_cmp, (void *)ary));
    }
    if (RBASIC(ary)-&gt;klass) {
	rb_raise(rb_eRuntimeError, &quot;sort_by reentered&quot;);
    }
    for (i=1; i&lt;RARRAY_LEN(ary); i+=2) {
	RARRAY_ASET(ary, i/2, RARRAY_AREF(ary, i));
    }
    rb_ary_resize(ary, RARRAY_LEN(ary)/2);
    RBASIC_SET_CLASS_RAW(ary, rb_cArray);
    OBJ_INFECT(ary, memo);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sum-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>sum</strong>(init = 0)  &#x21d2; <tt><a href="Numeric.html" title="Numeric (class)">Numeric</a></tt> </span>
    <span class='overload'>#<strong>sum</strong>(init = 0) {|e| ... } &#x21d2; <tt><a href="Numeric.html" title="Numeric (class)">Numeric</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the sum of elements in an Enumerable.</p>

<p>If a block is given, the block is applied to each element before addition.</p>

<p>If <em>enum</em> is empty, it returns <em>init</em>.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='int'>1</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>=&gt;</span> <span class='int'>20</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span> <span class='op'>*</span> <span class='id identifier rubyid_v'>v</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; 50
</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span>                               <span class='comment'>#=&gt; 55
</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='int'>2</span> <span class='rbrace'>}</span>                  <span class='comment'>#=&gt; 110
</span><span class='lbracket'>[</span><span class='const'><a href="Object.html" title="Object (class)">Object</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span>                     <span class='comment'>#=&gt; TypeError
</span></code></pre>

<p>This method can be used for non-numeric objects by explicit <em>init</em>
argument.</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span> <span class='int'>1</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>=&gt;</span> <span class='int'>20</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>                   <span class='comment'>#=&gt; [1, 10, 2, 20]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a\nb\nc</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_each_line'>each_line</span><span class='period'>.</span><span class='id identifier rubyid_lazy'>lazy</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:chomp</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;abc&quot;
</span></code></pre>

<p><a href="#sum-instance_method" title="Enumerable#sum (method)">#sum</a> method may not respect method redefinition of “+” methods
such as <a href="Integer.html#%2B-instance_method" title="Integer#+ (method)">Integer#+</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L3743'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3743
3744
3745
3746
3747
3748
3749
3750
3751
3752
3753
3754
3755
3756
3757
3758
3759
3760
3761
3762
3763
3764
3765
3766
3767
3768
3769
3770
3771
3772
3773
3774
3775
3776
3777
3778
3779
3780
3781
3782
3783
3784
3785
3786
3787
3788
3789
3790
3791
3792
3793
3794</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3743</span></pre>
<pre class='code cpp'>

static VALUE
enum_sum(int argc, VALUE* argv, VALUE obj)
{
    struct enum_sum_memo memo;
    VALUE beg, end;
    int excl;

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;memo.v) == 0)
        memo.v = LONG2FIX(0);

    memo.block_given = rb_block_given_p();

    memo.n = 0;
    memo.r = Qundef;

    if ((memo.float_value = RB_FLOAT_TYPE_P(memo.v))) {
        memo.f = RFLOAT_VALUE(memo.v);
        memo.c = 0.0;
    }

    if (RTEST(rb_range_values(obj, &amp;beg, &amp;end, &amp;excl))) {
        if (!memo.block_given &amp;&amp; !memo.float_value &amp;&amp;
                (FIXNUM_P(beg) || RB_TYPE_P(beg, T_BIGNUM)) &amp;&amp;
                (FIXNUM_P(end) || RB_TYPE_P(end, T_BIGNUM))) {
            return int_range_sum(beg, end, excl, memo.v);
        }
    }

    if (RB_TYPE_P(obj, T_HASH) &amp;&amp;
            rb_method_basic_definition_p(CLASS_OF(obj), id_each))
        hash_sum(obj, &amp;memo);
    else
        rb_block_call(obj, id_each, 0, 0, enum_sum_i, (VALUE)&amp;memo);

    if (memo.float_value) {
        return DBL2NUM(memo.f);
    }
    else {
        if (memo.n != 0)
            memo.v = rb_fix_plus(LONG2FIX(memo.n), memo.v);
        if (memo.r != Qundef) {
            /* r can be a Integer when mathn is loaded */
            if (FIXNUM_P(memo.r))
                memo.v = rb_fix_plus(memo.r, memo.v);
            else if (RB_TYPE_P(memo.r, T_BIGNUM))
                memo.v = rb_big_plus(memo.r, memo.v);
            else
                memo.v = rb_rational_plus(memo.r, memo.v);
        }
        return memo.v;
    }
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="take-instance_method">
  <h3 class='signature'>
  #<strong>take</strong>(n)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns first n elements from <em>enum</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>             <span class='comment'>#=&gt; [1, 2, 3]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='int'>30</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; [1, 2, 3, 4, 5, 0]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2619'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2619
2620
2621
2622
2623
2624
2625
2626
2627
2628
2629
2630
2631
2632
2633
2634
2635</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2619</span></pre>
<pre class='code cpp'>

static VALUE
enum_take(VALUE obj, VALUE n)
{
    struct MEMO *memo;
    VALUE result;
    long len = NUM2LONG(n);

    if (len &lt; 0) {
	rb_raise(rb_eArgError, &quot;attempt to take negative size&quot;);
    }

    if (len == 0) return rb_ary_new2(0);
    result = rb_ary_new2(len);
    memo = MEMO_NEW(result, 0, len);
    rb_block_call(obj, id_each, 0, 0, take_i, (VALUE)memo);
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="take_while-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>take_while</strong> {|obj| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>take_while</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Passes elements to the block until the block returns <code>nil</code> or
<code>false</code>, then stops iterating and returns an array of all prior
elements.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_take_while'>take_while</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>3</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; [1, 2]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2661'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2661
2662
2663
2664
2665
2666
2667
2668
2669
2670</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2661</span></pre>
<pre class='code cpp'>

static VALUE
enum_take_while(VALUE obj)
{
    VALUE ary;

    RETURN_ENUMERATOR(obj, 0, 0);
    ary = rb_ary_new();
    rb_block_call(obj, id_each, 0, 0, take_while_i, ary);
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_a-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_a</strong>(*args)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>entries</strong>(*args)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>entries</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing the items in <em>enum</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>7</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>                       <span class='comment'>#=&gt; [1, 2, 3, 4, 5, 6, 7]
</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='int'>3</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>   <span class='comment'>#=&gt; [[&quot;a&quot;, 1], [&quot;b&quot;, 2], [&quot;c&quot;, 3]]
</span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>prime</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>Prime</span><span class='period'>.</span><span class='id identifier rubyid_entries'>entries</span> <span class='int'>10</span>                  <span class='comment'>#=&gt; [2, 3, 5, 7]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L548'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


548
549
550
551
552
553
554
555
556
557</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 548</span></pre>
<pre class='code cpp'>

static VALUE
enum_to_a(int argc, VALUE *argv, VALUE obj)
{
    VALUE ary = rb_ary_new();

    rb_block_call(obj, id_each, argc, argv, collect_all, ary);
    OBJ_INFECT(ary, obj);

    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_h-instance_method">
  <h3 class='signature'>
  #<strong>to_h</strong>(*args)  &#x21d2; <tt><a href="Hash.html" title="Hash (class)">Hash</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the result of interpreting <em>enum</em> as a list of <code>[key,
value]</code> pairs.</p>

<pre class="code ruby"><code class="ruby"><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>hello</span><span class='words_sep'> </span><span class='tstring_content'>world</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
  <span class='comment'># =&gt; {:hello =&gt; 0, :world =&gt; 1}
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L589'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


589
590
591
592
593
594
595
596</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 589</span></pre>
<pre class='code cpp'>

static VALUE
enum_to_h(int argc, VALUE *argv, VALUE obj)
{
    VALUE hash = rb_hash_new();
    rb_block_call(obj, id_each, argc, argv, enum_to_h_i, hash);
    OBJ_INFECT(hash, obj);
    return hash;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="uniq-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>uniq</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>#<strong>uniq</strong> {|item| ... } &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new array by removing duplicate values in <code>self</code>.</p>

<p>See also <a href="Array.html#uniq-instance_method" title="Array#uniq (method)">Array#uniq</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L3820'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


3820
3821
3822
3823
3824
3825
3826
3827
3828
3829
3830
3831
3832</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 3820</span></pre>
<pre class='code cpp'>

static VALUE
enum_uniq(VALUE obj)
{
    VALUE hash, ret;
    rb_block_call_func *const func =
	rb_block_given_p() ? uniq_iter : uniq_func;

    hash = rb_obj_hide(rb_hash_new());
    rb_block_call(obj, id_each, 0, 0, func, hash);
    ret = rb_hash_values(hash);
    rb_hash_clear(hash);
    return ret;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="zip-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>zip</strong>(arg, ...)  &#x21d2; <tt>an_array_of_array</tt> </span>
    <span class='overload'>#<strong>zip</strong>(arg, ...) {|arr| ... } &#x21d2; <tt>nil</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Takes one element from <em>enum</em> and merges corresponding elements from
each <em>args</em>.  This generates a sequence of <em>n</em>-element
arrays, where <em>n</em> is one more than the count of arguments.  The
length of the resulting sequence will be <code>enum#size</code>.  If the
size of any argument is less than <code>enum#size</code>, <code>nil</code>
values are supplied. If a block is given, it is invoked for each output
array, otherwise an array of arrays is returned.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span> <span class='rbracket'>]</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>9</span> <span class='rbracket'>]</span>

<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>                 <span class='comment'>#=&gt; [[4, 7], [5, 8], [6, 9]]
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; [[1, 4, 7], [2, 5, 8], [3, 6, 9]]
</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>         <span class='comment'>#=&gt; [[1, 4, 7], [2, 5, 8]]
</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>8</span><span class='rbracket'>]</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; [[4, 1, 8], [5, 2, nil], [6, nil, nil]]
</span>
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_zip'>zip</span><span class='lparen'>(</span><span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='id identifier rubyid_y'>y</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; nil
</span><span class='id identifier rubyid_c'>c</span>                               <span class='comment'>#=&gt; [11, 13, 15]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enum.c#L2558'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


2558
2559
2560
2561
2562
2563
2564
2565
2566
2567
2568
2569
2570
2571
2572
2573
2574
2575
2576
2577
2578
2579
2580
2581
2582
2583
2584
2585
2586
2587
2588
2589
2590
2591
2592
2593
2594
2595
2596</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enum.c', line 2558</span></pre>
<pre class='code cpp'>

static VALUE
enum_zip(int argc, VALUE *argv, VALUE obj)
{
    int i;
    ID conv;
    struct MEMO *memo;
    VALUE result = Qnil;
    VALUE args = rb_ary_new4(argc, argv);
    int allary = TRUE;

    argv = RARRAY_PTR(args);
    for (i=0; i&lt;argc; i++) {
	VALUE ary = rb_check_array_type(argv[i]);
	if (NIL_P(ary)) {
	    allary = FALSE;
	    break;
	}
	argv[i] = ary;
    }
    if (!allary) {
	CONST_ID(conv, &quot;to_enum&quot;);
	for (i=0; i&lt;argc; i++) {
	    if (!rb_respond_to(argv[i], id_each)) {
		rb_raise(rb_eTypeError, &quot;wrong argument type %&quot;PRIsVALUE&quot; (must respond to :each)&quot;,
			 rb_obj_class(argv[i]));
            }
	    argv[i] = rb_funcall(argv[i], conv, 1, ID2SYM(id_each));
	}
    }
    if (!rb_block_given_p()) {
	result = rb_ary_new();
    }

    /* TODO: use NODE_DOT2 as memo(v, v, -) */
    memo = MEMO_NEW(result, args, 0);
    rb_block_call(obj, id_each, 0, 0, allary ? zip_ary : zip_i, (VALUE)memo);

    return result;
}
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>