<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Enumerator &mdash; Core Ruby-2.4.0 d2016-08-08</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Enumerator",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>Core</a> &raquo; 
          <a href='_index.html'>Index (E)</a> &raquo; 
          <span class='title'>Enumerator</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Enumerator</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="Object.html" title="Object (class)">Object</a></li>
        <li class='next'>Enumerator</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <div class='box_max'>
        <a href="Enumerator/Generator.html" title="Enumerator::Generator (class)">Generator</a>,
    <a href="Enumerator/Lazy.html" title="Enumerator::Lazy (class)">Lazy</a>,
    <a href="Enumerator/Yielder.html" title="Enumerator::Yielder (class)">Yielder</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Includes:</td>
    <td>
      <div class='box_max'>
        <a href="Enumerable.html" title="Enumerable (module)">Enumerable</a>
      </div>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Direct Subclasses:</td>
    <td>
      <a href="Enumerator/Lazy.html" title="Enumerator::Lazy (class)">Lazy</a>
    </td>
  </tr>
  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_max'>
<a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L2067'>enumerator.c</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A class which allows both internal and external iteration.</p>

<p>An Enumerator can be created by the following methods.</p>
<ul><li>
<p><a href="Object.html#to_enum-instance_method" title="Object#to_enum (method)">Object#to_enum</a></p>
</li><li>
<p><a href="Object.html#enum_for-instance_method" title="Object#enum_for (method)">Object#enum_for</a></p>
</li><li>
<p><a href="#new-class_method" title="Enumerator.new (method)">Enumerator.new</a></p>
</li></ul>

<p>Most methods have two forms: a block form where the contents are evaluated
for each item in the enumeration, and a non-block form which returns a new
Enumerator wrapping the iteration.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_enumerator'>enumerator</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>one</span><span class='words_sep'> </span><span class='tstring_content'>two</span><span class='words_sep'> </span><span class='tstring_content'>three</span><span class='words_sep'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_enumerator'>enumerator</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Enumerator
</span>
<span class='id identifier rubyid_enumerator'>enumerator</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># foo: one
</span><span class='comment'># foo: two
</span><span class='comment'># foo: three
</span>
<span class='id identifier rubyid_enum_with_obj'>enum_with_obj</span> <span class='op'>=</span> <span class='id identifier rubyid_enumerator'>enumerator</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_enum_with_obj'>enum_with_obj</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Enumerator
</span>
<span class='id identifier rubyid_enum_with_obj'>enum_with_obj</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># foo: one
</span><span class='comment'># foo: two
</span><span class='comment'># foo: three
</span></code></pre>

<p>This allows you to chain Enumerators together.  For example, you can map a
list&#39;s elements to strings containing the index and the element as a
string via:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_puts'>puts</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_with_index'>with_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_w'>w</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; [&quot;0:foo&quot;, &quot;1:bar&quot;, &quot;2:baz&quot;]
</span></code></pre>

<p>An Enumerator can also be used as an external iterator. For example,
<a href="#next-instance_method" title="Enumerator#next (method)">#next</a> returns the next value of the iterator or raises
StopIteration if the Enumerator is at the end.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>   <span class='comment'># returns an enumerator object.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'># raises StopIteration
</span></code></pre>

<p>You can use this to implement an internal iterator as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_ext_each'>ext_each</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
  <span class='kw'>while</span> <span class='kw'>true</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_vs'>vs</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
    <span class='kw'>rescue</span> <span class='const'><a href="StopIteration.html" title="StopIteration (class)">StopIteration</a></span>
      <span class='kw'>return</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_vs'>vs</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='id identifier rubyid_y'>y</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><a href="Object.html" title="Object (class)">Object</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span>

<span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>yield</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='int'>3</span>
<span class='kw'>end</span>

<span class='comment'># use o.each as an internal iterator directly.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span><span class='semicolon'>;</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; [], [:b], [1], [:b, 1], [1, 2], [:b, 1, 2], 3
</span>
<span class='comment'># convert o.each to an external iterator for
</span><span class='comment'># implementing an internal iterator.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_ext_each'>ext_each</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span><span class='semicolon'>;</span> <span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; [], [:b], [1], [:b, 1], [1, 2], [:b, 1, 2], 3
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>




<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(size = nil) {|yielder| ... } </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new Enumerator object, which can be used as an Enumerable.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong> {|elm| ... } &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Iterates over the block according to how this Enumerator was constructed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_with_index-instance_method" title="#each_with_index (instance method)">#<strong>each_with_index</strong> {|(*args), idx| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Same as #with_index(0), i.e. there is no starting offset.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each_with_object-instance_method" title="#each_with_object (instance method)">#<strong>each_with_object</strong>(obj) {|(*args), obj| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#with_object-instance_method" title="Enumerator#with_object (method)">#with_object</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#feed-instance_method" title="#feed (instance method)">#<strong>feed</strong>(obj)  &#x21d2; nil </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets the value to be returned by the next yield inside <code>e</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a printable version of <em>e</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#next-instance_method" title="#next (instance method)">#<strong>next</strong>  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the next object in the enumerator, and move the internal position
forward.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#next_values-instance_method" title="#next_values (instance method)">#<strong>next_values</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the next object as an array in the enumerator, and move the
internal position forward.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#peek-instance_method" title="#peek (instance method)">#<strong>peek</strong>  &#x21d2; Object </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the next object in the enumerator, but doesn&#39;t move the
internal position forward.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#peek_values-instance_method" title="#peek_values (instance method)">#<strong>peek_values</strong>  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the next object as an array, similar to <a href="#next_values-instance_method" title="Enumerator#next_values (method)">#next_values</a>,
but doesn&#39;t move the internal position forward.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rewind-instance_method" title="#rewind (instance method)">#<strong>rewind</strong>  &#x21d2; e </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Rewinds the enumeration sequence to the beginning.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer, ... </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the size of the enumerator, or <code>nil</code> if it can&#39;t be
calculated lazily.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#with_index-instance_method" title="#with_index (instance method)">#<strong>with_index</strong>(offset = 0) {|(*args), idx| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Iterates the given block for each element with an index, which starts from
<code>offset</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#with_object-instance_method" title="#with_object (instance method)">#<strong>with_object</strong>(obj) {|(*args), obj| ... } </a>
        (also: #each_with_object)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Iterates the given block for each element with an arbitrary object,
<code>obj</code>, and returns <code>obj</code></p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></h3>
  <p class="inherited"><a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>, <a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a>, <a href="Enumerable.html#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a>, <a href="Enumerable.html#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a>, <a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">#collect</a>, <a href="Enumerable.html#collect_concat-instance_method" title="Enumerable#collect_concat (method)">#collect_concat</a>, <a href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a>, <a href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a>, <a href="Enumerable.html#detect-instance_method" title="Enumerable#detect (method)">#detect</a>, <a href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a>, <a href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a>, <a href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a>, <a href="Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a>, <a href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a>, <a href="Enumerable.html#entries-instance_method" title="Enumerable#entries (method)">#entries</a>, <a href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a>, <a href="Enumerable.html#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a>, <a href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a>, <a href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a>, <a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a>, <a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a>, <a href="Enumerable.html#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a>, <a href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a>, <a href="Enumerable.html#include%3F-instance_method" title="Enumerable#include? (method)">#include?</a>, <a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a>, <a href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a>, <a href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">#map</a>, <a href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a>, <a href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>, <a href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>, <a href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a>, <a href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>, <a href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a>, <a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a>, <a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>, <a href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a>, <a href="Enumerable.html#reduce-instance_method" title="Enumerable#reduce (method)">#reduce</a>, <a href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a>, <a href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a>, <a href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">#select</a>, <a href="Enumerable.html#slice_after-instance_method" title="Enumerable#slice_after (method)">#slice_after</a>, <a href="Enumerable.html#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a>, <a href="Enumerable.html#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a>, <a href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a>, <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a>, <a href="Enumerable.html#sum-instance_method" title="Enumerable#sum (method)">#sum</a>, <a href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a>, <a href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a>, <a href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>, <a href="Enumerable.html#to_h-instance_method" title="Enumerable#to_h (method)">#to_h</a>, <a href="Enumerable.html#uniq-instance_method" title="Enumerable#uniq (method)">#uniq</a>, <a href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  <span class='overload'>.<strong>new</strong>(size = nil) {|yielder| ... } </span>
    <span class='overload'>.<strong>new</strong>(obj, method = :each, *args)  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new Enumerator object, which can be used as an Enumerable.</p>

<p>In the first form, iteration is defined by the given block, in which a
“yielder” object, given as block parameter, can be used to yield a value by
calling the <code>yield</code> method (aliased as <code>&lt;&lt;</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_fib'>fib</span> <span class='op'>=</span> <span class='const'><a href="" title="Enumerator (class)">Enumerator</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
  <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_a'>a</span>
    <span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_fib'>fib</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='comment'># =&gt; [1, 1, 2, 3, 5, 8, 13, 21, 34, 55]
</span></code></pre>

<p>The optional parameter can be used to specify how to calculate the size in
a lazy fashion (see <a href="#size-instance_method" title="Enumerator#size (method)">#size</a>). It can either be a value or a
callable object.</p>

<p>In the second, deprecated, form, a generated Enumerator iterates over the
given object using the given method with the given arguments passed.</p>

<p>Use of this form is discouraged.  Use <a href="Object.html#enum_for-instance_method" title="Object#enum_for (method)">Object#enum_for</a> or <a href="Object.html#to_enum-instance_method" title="Object#to_enum (method)">Object#to_enum</a>
instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='const'><a href="" title="Enumerator (class)">Enumerator</a></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'><a href="ObjectSpace.html" title="ObjectSpace (module)">ObjectSpace</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each_object'>each_object</span><span class='rparen'>)</span>
    <span class='comment'>#-&gt; ObjectSpace.enum_for(:each_object)
</span>
<span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><a href="Class.html" title="Class (class)">Class</a></span><span class='rparen'>)</span> <span class='rbrace'>}</span>  <span class='comment'>#=&gt; array of all classes
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L331'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 331</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_initialize(int argc, VALUE *argv, VALUE obj)
{
    VALUE recv, meth = sym_each;
    VALUE size = Qnil;

    if (rb_block_given_p()) {
	rb_check_arity(argc, 0, 1);
	recv = generator_init(generator_allocate(rb_cGenerator), rb_block_proc());
	if (argc) {
            if (NIL_P(argv[0]) || rb_respond_to(argv[0], id_call) ||
                (RB_TYPE_P(argv[0], T_FLOAT) &amp;&amp; RFLOAT_VALUE(argv[0]) == INFINITY)) {
                size = argv[0];
            }
            else {
                size = rb_to_int(argv[0]);
            }
            argc = 0;
        }
    }
    else {
	rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
	rb_warn(&quot;Enumerator.new without a block is deprecated; use Object#to_enum&quot;);
	recv = *argv++;
	if (--argc) {
	    meth = *argv++;
	    --argc;
	}
    }

    return enumerator_init(obj, recv, meth, argc, argv, 0, size);
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="each-instance_method">
  <h3 class='signature first'>
  <span class='overload'>#<strong>each</strong> {|elm| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>each</strong>  &#x21d2; <tt><a href="" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>#<strong>each</strong>(*appending_args) {|elm| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>#<strong>each</strong>(*appending_args)  &#x21d2; <tt><a href="" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Iterates over the block according to how this Enumerator was constructed.
If no block and no arguments are given, returns self.</p>

<h5 id="label-Examples">Examples</h5>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>                     <span class='comment'>#=&gt; [&quot;Hello&quot;, &quot;world&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_scan'>scan</span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>      <span class='comment'>#=&gt; [&quot;Hello&quot;, &quot;world&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_scan'>scan</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; [&quot;Hello&quot;, &quot;world&quot;]
</span>
<span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='const'><a href="Object.html" title="Object (class)">Object</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span>

<span class='kw'>def</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_each_arg'>each_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>=</span><span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_rest'>rest</span><span class='rparen'>)</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_a'>a</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_b'>b</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_rest'>rest</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_method_returned'>method_returned</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_enum'>enum</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each_arg'>each_arg</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_x'>x</span>

<span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>                  <span class='comment'>#=&gt; [:a, :x, []]
</span><span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_enum'>enum</span><span class='rparen'>)</span>          <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_elm'>elm</span><span class='op'>|</span> <span class='id identifier rubyid_elm'>elm</span> <span class='rbrace'>}</span>         <span class='comment'>#=&gt; :method_returned
</span>
<span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_z'>z</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>          <span class='comment'>#=&gt; [:a, :x, [:y, :z]]
</span><span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_z'>z</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_enum'>enum</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='symbeg'>:</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_z'>z</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_elm'>elm</span><span class='op'>|</span> <span class='id identifier rubyid_elm'>elm</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; :method_returned
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L470'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 470</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_each(int argc, VALUE *argv, VALUE obj)
{
    if (argc &gt; 0) {
	struct enumerator *e = enumerator_ptr(obj = rb_obj_dup(obj));
	VALUE args = e-&gt;args;
	if (args) {
#if SIZEOF_INT &lt; SIZEOF_LONG
	    /* check int range overflow */
	    rb_long2int(RARRAY_LEN(args) + argc);
#endif
	    args = rb_ary_dup(args);
	    rb_ary_cat(args, argv, argc);
	}
	else {
	    args = rb_ary_new4(argc, argv);
	}
	e-&gt;args = args;
    }
    if (!rb_block_given_p()) return obj;
    return enumerator_block_call(obj, 0, obj);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_with_index-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_with_index</strong> {|(*args), idx| ... } </span>
    <span class='overload'>#<strong>each_with_index</strong>  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Same as #with_index(0), i.e. there is no starting offset.</p>

<p>If no block is given, a new Enumerator is returned that includes the index.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L551'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


551
552
553
554
555</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 551</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_each_with_index(VALUE obj)
{
    return enumerator_with_index(0, NULL, obj);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each_with_object-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_with_object</strong>(obj) {|(*args), obj| ... } </span>
    <span class='overload'>#<strong>each_with_object</strong>(obj)  </span>
    <span class='overload'>#<strong>with_object</strong>(obj) {|(*args), obj| ... } </span>
    <span class='overload'>#<strong>with_object</strong>(obj)  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#with_object-instance_method" title="Enumerator#with_object (method)">#with_object</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L595'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


595
596
597
598
599
600
601
602</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 595</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_with_object(VALUE obj, VALUE memo)
{
    RETURN_SIZED_ENUMERATOR(obj, 1, &amp;memo, enumerator_enum_size);
    enumerator_block_call(obj, enumerator_with_object_i, memo);

    return memo;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="feed-instance_method">
  <h3 class='signature'>
  #<strong>feed</strong>(obj)  &#x21d2; <tt>nil</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets the value to be returned by the next yield inside <code>e</code>.</p>

<p>If the value is not set, the yield returns nil.</p>

<p>This value is cleared after being yielded.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Array#map passes the array&#39;s elements to &quot;yield&quot; and collects the
</span><span class='comment'># results of &quot;yield&quot; as an array.
</span><span class='comment'># Following example shows that &quot;next&quot; returns the passed elements and
</span><span class='comment'># values passed to &quot;feed&quot; are collected as an array which can be
</span><span class='comment'># obtained by StopIteration#result.
</span><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>           <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>           <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>           <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>begin</span>
  <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='kw'>rescue</span> <span class='const'><a href="StopIteration.html" title="StopIteration (class)">StopIteration</a></span>
  <span class='id identifier rubyid_p'>p</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span>      <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span><span class='kw'>end</span>

<span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><a href="Object.html" title="Object (class)">Object</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span>
<span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>yield</span>         <span class='comment'># (2) blocks
</span>  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_x'>x</span>               <span class='comment'># (5) =&gt; &quot;foo&quot;
</span>  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>yield</span>         <span class='comment'># (6) blocks
</span>  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_x'>x</span>               <span class='comment'># (8) =&gt; nil
</span>  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>yield</span>         <span class='comment'># (9) blocks
</span>  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_x'>x</span>               <span class='comment'># not reached w/o another e.next
</span><span class='kw'>end</span>

<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>              <span class='comment'># (1)
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>        <span class='comment'># (3)
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>              <span class='comment'># (4)
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>              <span class='comment'># (7)
</span>                    <span class='comment'># (10)
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L896'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


896
897
898
899
900
901
902
903
904
905
906
907</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 896</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_feed(VALUE obj, VALUE v)
{
    struct enumerator *e = enumerator_ptr(obj);

    if (e-&gt;feedvalue != Qundef) {
	rb_raise(rb_eTypeError, &quot;feed value already set&quot;);
    }
    e-&gt;feedvalue = v;

    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  #<strong>inspect</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a printable version of <em>e</em>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L1018'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1018
1019
1020
1021
1022</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 1018</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_inspect(VALUE obj)
{
    return rb_exec_recursive(inspect_enumerator, obj, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="next-instance_method">
  <h3 class='signature'>
  #<strong>next</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the next object in the enumerator, and move the internal position
forward.  When the position reached at the end, StopIteration is raised.</p>

<h5 id="label-Example">Example</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#raises StopIteration
</span></code></pre>

<p>Note that enumeration sequence by <code>next</code> does not affect other
non-external enumeration methods, unless the underlying iteration methods
itself has side-effect, e.g. <a href="IO.html#each_line-instance_method" title="IO#each_line (method)">IO#each_line</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L769'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


769
770
771
772
773
774</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 769</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_next(VALUE obj)
{
    VALUE vs = enumerator_next_values(obj);
    return ary2sv(vs, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="next_values-instance_method">
  <h3 class='signature'>
  #<strong>next_values</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the next object as an array in the enumerator, and move the
internal position forward.  When the position reached at the end,
StopIteration is raised.</p>

<p>This method can be used to distinguish <code>yield</code> and <code>yield
nil</code>.</p>

<h5 id="label-Example">Example</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><a href="Object.html" title="Object (class)">Object</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span>
<span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
  <span class='kw'>yield</span>
  <span class='kw'>yield</span> <span class='int'>1</span>
  <span class='kw'>yield</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>
  <span class='kw'>yield</span> <span class='kw'>nil</span>
  <span class='kw'>yield</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>

<span class='comment'>## yield args       next_values      next
</span><span class='comment'>#  yield            []               nil
</span><span class='comment'>#  yield 1          [1]              1
</span><span class='comment'>#  yield 1, 2       [1, 2]           [1, 2]
</span><span class='comment'>#  yield nil        [nil]            nil
</span><span class='comment'>#  yield [1, 2]     [[1, 2]]         [1, 2]
</span></code></pre>

<p>Note that <code>next_values</code> does not affect other non-external
enumeration methods unless underlying iteration method itself has
side-effect, e.g. <a href="IO.html#each_line-instance_method" title="IO#each_line (method)">IO#each_line</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L712'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


712
713
714
715
716
717
718
719
720
721
722
723
724
725</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 712</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_next_values(VALUE obj)
{
    struct enumerator *e = enumerator_ptr(obj);
    VALUE vs;

    if (e-&gt;lookahead != Qundef) {
        vs = e-&gt;lookahead;
        e-&gt;lookahead = Qundef;
        return vs;
    }

    return get_next_values(obj, e);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="peek-instance_method">
  <h3 class='signature'>
  #<strong>peek</strong>  &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the next object in the enumerator, but doesn&#39;t move the
internal position forward.  If the position is already at the end,
StopIteration is raised.</p>

<h5 id="label-Example">Example</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span>   <span class='comment'>#raises StopIteration
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L843'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


843
844
845
846
847
848</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 843</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_peek(VALUE obj)
{
    VALUE vs = enumerator_peek_values(obj);
    return ary2sv(vs, 1);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="peek_values-instance_method">
  <h3 class='signature'>
  #<strong>peek_values</strong>  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the next object as an array, similar to <a href="#next_values-instance_method" title="Enumerator#next_values (method)">#next_values</a>,
but doesn&#39;t move the internal position forward.  If the position is
already at the end, StopIteration is raised.</p>

<h5 id="label-Example">Example</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><a href="Object.html" title="Object (class)">Object</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="BasicObject.html#new-class_method" title="BasicObject.new (method)">new</a></span>
<span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
  <span class='kw'>yield</span>
  <span class='kw'>yield</span> <span class='int'>1</span>
  <span class='kw'>yield</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'>#=&gt; []
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'>#=&gt; [1]
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'>#=&gt; [1]
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'>#=&gt; [1, 2]
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'># raises StopIteration
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L815'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


815
816
817
818
819</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 815</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_peek_values_m(VALUE obj)
{
    return rb_ary_dup(enumerator_peek_values(obj));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rewind-instance_method">
  <h3 class='signature'>
  #<strong>rewind</strong>  &#x21d2; <tt>e</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Rewinds the enumeration sequence to the beginning.</p>

<p>If the enclosed object responds to a “rewind” method, it is called.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L918'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


918
919
920
921
922
923
924
925
926
927
928
929
930
931</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 918</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_rewind(VALUE obj)
{
    struct enumerator *e = enumerator_ptr(obj);

    rb_check_funcall(e-&gt;obj, id_rewind, 0, 0);

    e-&gt;fib = 0;
    e-&gt;dst = Qnil;
    e-&gt;lookahead = Qundef;
    e-&gt;feedvalue = Qundef;
    e-&gt;stop_exc = Qfalse;
    return obj;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="size-instance_method">
  <h3 class='signature'>
  #<strong>size</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt>, ... 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the size of the enumerator, or <code>nil</code> if it can&#39;t be
calculated lazily.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>100</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_permutation'>permutation</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 94109400
</span><span class='id identifier rubyid_loop'>loop</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; Float::INFINITY
</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>100</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_drop_while'>drop_while</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L1035'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 1035</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_size(VALUE obj)
{
    struct enumerator *e = enumerator_ptr(obj);
    int argc = 0;
    const VALUE *argv = NULL;
    VALUE size;

    if (e-&gt;size_fn) {
	return (*e-&gt;size_fn)(e-&gt;obj, e-&gt;args, obj);
    }
    if (e-&gt;args) {
	argc = (int)RARRAY_LEN(e-&gt;args);
	argv = RARRAY_CONST_PTR(e-&gt;args);
    }
    size = rb_check_funcall(e-&gt;size, id_call, argc, argv);
    if (size != Qundef) return size;
    return e-&gt;size;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="with_index-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>with_index</strong>(offset = 0) {|(*args), idx| ... } </span>
    <span class='overload'>#<strong>with_index</strong>(offset = 0)  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Iterates the given block for each element with an index, which starts from
<code>offset</code>.  If no block is given, returns a new Enumerator that
includes the index, starting from <code>offset</code></p>
<dl class="rdoc-list note-list"><dt><code>offset</code>
<dd>
<p>the starting index to use</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L527'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


527
528
529
530
531
532
533
534
535
536
537
538
539</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 527</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_with_index(int argc, VALUE *argv, VALUE obj)
{
    VALUE memo;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;memo);
    RETURN_SIZED_ENUMERATOR(obj, argc, argv, enumerator_enum_size);
    if (NIL_P(memo))
	memo = INT2FIX(0);
    else
	memo = rb_to_int(memo);
    return enumerator_block_call(obj, enumerator_with_index_i, (VALUE)MEMO_NEW(memo, 0, 0));
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="with_object-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each_with_object</strong>(obj) {|(*args), obj| ... } </span>
    <span class='overload'>#<strong>each_with_object</strong>(obj)  </span>
    <span class='overload'>#<strong>with_object</strong>(obj) {|(*args), obj| ... } </span>
    <span class='overload'>#<strong>with_object</strong>(obj)  </span>
  <span class='aliases'>Also known as: <span class='names'><span>each_with_object</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Iterates the given block for each element with an arbitrary object,
<code>obj</code>, and returns <code>obj</code></p>

<p>If no block is given, returns a new Enumerator.</p>

<h5 id="label-Example">Example</h5>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_to_three'>to_three</span> <span class='op'>=</span> <span class='const'><a href="" title="Enumerator (class)">Enumerator</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="Enumerator.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
  <span class='int'>3</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_x'>x</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_to_three_with_string'>to_three_with_string</span> <span class='op'>=</span> <span class='id identifier rubyid_to_three'>to_three</span><span class='period'>.</span><span class='id identifier rubyid_with_object'>with_object</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_to_three_with_string'>to_three_with_string</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_string'>string</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string'>string</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># =&gt; foo:0
</span><span class='comment'># =&gt; foo:1
</span><span class='comment'># =&gt; foo:2
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/trunk/enumerator.c#L595'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


595
596
597
598
599
600
601
602</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'enumerator.c', line 595</span></pre>
<pre class='code cpp'>

static VALUE
enumerator_with_object(VALUE obj, VALUE memo)
{
    RETURN_SIZED_ENUMERATOR(obj, 1, &amp;memo, enumerator_enum_size);
    enumerator_block_call(obj, enumerator_with_object_i, memo);

    return memo;
}
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>