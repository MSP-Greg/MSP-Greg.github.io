<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Dir &mdash; Core Ruby-2.4.0 d2016-07-16</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Dir",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>Core</a> &raquo; 
          <a href='_index.html'>Index (D)</a> &raquo; 
          <span class='title'>Dir</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Dir</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="Object.html" title="Object (class)">Object</a></li>
        <li class='next'>Dir</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Includes:</td>
    <td><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a>
    </td>
  </tr>



  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
dir.c</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Objects of class <a href="" title="Dir (class)">Dir</a> are directory streams representing directories in
the underlying file system. They provide a variety of ways to list
directories and their contents. See also <a href="File.html" title="File (class)">File</a>.</p>

<p>The directory used in these examples contains the two regular files
(<code>config.h</code> and <code>main.rb</code>), the parent directory
(<code>..</code>), and the directory itself (<code>.</code>).</p>


  </div>
</div>
<div class="tags">
  
</div>




<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%5B%5D-class_method" title="[] (class method)">.<strong>[]</strong>(string[, string ...])  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Equivalent to calling <code>Dir.glob([string,...],0)</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#chdir-class_method" title="chdir (class method)">.<strong>chdir</strong>([ string])  &#x21d2; 0 </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Changes the current working directory of the process to the given string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#chroot-class_method" title="chroot (class method)">.<strong>chroot</strong>(string)  &#x21d2; 0 </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Changes this process&#39;s idea of the file system root.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete-class_method" title="delete (class method)">.<strong>delete</strong>(string)  &#x21d2; 0 </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#rmdir-class_method" title="Dir.rmdir (method)">Dir.rmdir</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#empty%3F-class_method" title="empty? (class method)">.<strong>empty?</strong>(path_name)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the named file is an empty directory,
<code>false</code> if it is not a directory or non-empty.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#entries-class_method" title="entries (class method)">.<strong>entries</strong>(dirname)  &#x21d2; Array </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an array containing all of the filenames in the given directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#exist%3F-class_method" title="exist? (class method)">.<strong>exist?</strong>(file_name)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns <code>true</code> if the named file is a directory,
<code>false</code> otherwise.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#exists%3F-class_method" title="exists? (class method)">.<strong>exists?</strong>(file_name)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deprecated method.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#foreach-class_method" title="foreach (class method)">.<strong>foreach</strong>(dirname) {|filename| ... } &#x21d2; nil </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calls the block once for each entry in the named directory, passing the
filename of each entry as a parameter to the block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getwd-class_method" title="getwd (class method)">.<strong>getwd</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#pwd-class_method" title="Dir.pwd (method)">Dir.pwd</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#glob-class_method" title="glob (class method)">.<strong>glob</strong>(pattern, [flags])  &#x21d2; matches </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Expands <code>pattern</code>, which is an Array of patterns or a pattern
String, and returns the results as <code>matches</code> or as arguments
given to the block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#home-class_method" title="home (class method)">.<strong>home</strong>()  &#x21d2; &quot;/home/me&quot; </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the home directory of the current user or the named user if given.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mkdir-class_method" title="mkdir (class method)">.<strong>mkdir</strong>(string[, integer])  &#x21d2; 0 </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Makes a new directory named by <em>string</em>, with permissions specified
by the optional parameter <em>anInteger</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(string)  &#x21d2; Dir </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a new directory object for the named directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#open-class_method" title="open (class method)">.<strong>open</strong>(string)  &#x21d2; Dir </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The optional <em>enc</em> argument specifies the encoding of the directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pwd-class_method" title="pwd (class method)">.<strong>pwd</strong>  &#x21d2; String </a>
        (also: .getwd)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the path to the current working directory of this process as a
string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rmdir-class_method" title="rmdir (class method)">.<strong>rmdir</strong>(string)  &#x21d2; 0 </a>
        (also: .delete, .unlink)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deletes the named directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unlink-class_method" title="unlink (class method)">.<strong>unlink</strong>(string)  &#x21d2; 0 </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#rmdir-class_method" title="Dir.rmdir (method)">Dir.rmdir</a>.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>  &#x21d2; nil </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Closes the directory stream.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong> {|filename| ... } &#x21d2; Dir </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calls the block once for each entry in this directory, passing the filename
of each entry as a parameter to the block.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fileno-instance_method" title="#fileno (instance method)">#<strong>fileno</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the file descriptor used in <em>dir</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return a string describing this Dir object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>  &#x21d2; String<sup>?</sup> </a>
        (also: #to_path)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the path parameter passed to <em>dir</em>&#39;s constructor.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pos-instance_method" title="#pos (instance method)">#<strong>pos</strong>  &#x21d2; Integer </a>
        (also: #tell)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the current position in <em>dir</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pos%3D-instance_method" title="#pos= (instance method)">#<strong>pos=</strong>(integer)  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Synonym for <a href="#seek-instance_method" title="Dir#seek (method)">#seek</a>, but returns the position parameter.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read-instance_method" title="#read (instance method)">#<strong>read</strong>  &#x21d2; String<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Reads the next entry from <em>dir</em> and returns it as a string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rewind-instance_method" title="#rewind (instance method)">#<strong>rewind</strong>  &#x21d2; Dir </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Repositions <em>dir</em> to the first entry.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#seek-instance_method" title="#seek (instance method)">#<strong>seek</strong>(integer)  &#x21d2; Dir </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Seeks to a particular location in <em>dir</em>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#tell-instance_method" title="#tell (instance method)">#<strong>tell</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#pos-instance_method" title="Dir#pos (method)">#pos</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_path-instance_method" title="#to_path (instance method)">#<strong>to_path</strong>  &#x21d2; String<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#path-instance_method" title="Dir#path (method)">#path</a>.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></h3>
  <p class="inherited"><a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a>, <a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a>, <a href="Enumerable.html#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a>, <a href="Enumerable.html#chunk_while-instance_method" title="Enumerable#chunk_while (method)">#chunk_while</a>, <a href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a>, <a href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a>, <a href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a>, <a href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a>, <a href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a>, <a href="Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a>, <a href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a>, <a href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a>, <a href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a>, <a href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a>, <a href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a>, <a href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a>, <a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a>, <a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a>, <a href="Enumerable.html#grep_v-instance_method" title="Enumerable#grep_v (method)">#grep_v</a>, <a href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a>, <a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a>, <a href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a>, <a href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">#map</a>, <a href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a>, <a href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a>, <a href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a>, <a href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a>, <a href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a>, <a href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a>, <a href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a>, <a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a>, <a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a>, <a href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a>, <a href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a>, <a href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a>, <a href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">#select</a>, <a href="Enumerable.html#slice_after-instance_method" title="Enumerable#slice_after (method)">#slice_after</a>, <a href="Enumerable.html#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a>, <a href="Enumerable.html#slice_when-instance_method" title="Enumerable#slice_when (method)">#slice_when</a>, <a href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a>, <a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a>, <a href="Enumerable.html#sum-instance_method" title="Enumerable#sum (method)">#sum</a>, <a href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a>, <a href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a>, <a href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a>, <a href="Enumerable.html#to_h-instance_method" title="Enumerable#to_h (method)">#to_h</a>, <a href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  <span class='overload'>.<strong>new</strong>(string)  &#x21d2; <tt><a href="" title="Dir (class)">Dir</a></tt> </span>
    <span class='overload'>.<strong>new</strong>(string, encoding:enc)  &#x21d2; <tt><a href="" title="Dir (class)">Dir</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new directory object for the named directory.</p>

<p>The optional <em>enc</em> argument specifies the encoding of the directory.
If not specified, the filesystem encoding is used.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 491</span>

static VALUE
dir_initialize(int argc, VALUE *argv, VALUE dir)
{
    struct dir_data *dp;
    rb_encoding  *fsenc;
    VALUE dirname, opt, orig;
    static ID keyword_ids[1];
    const char *path;

    if (!keyword_ids[0]) {
	keyword_ids[0] = rb_id_encoding();
    }

    fsenc = rb_filesystem_encoding();

    rb_scan_args(argc, argv, &quot;1:&quot;, &amp;dirname, &amp;opt);

    if (!NIL_P(opt)) {
	VALUE enc;
	rb_get_kwargs(opt, keyword_ids, 0, 1, &amp;enc);
	if (enc != Qundef &amp;&amp; !NIL_P(enc)) {
	    fsenc = rb_to_encoding(enc);
	}
    }

    GlobPathValue(dirname, FALSE);
    orig = rb_str_dup_frozen(dirname);
    dirname = rb_str_encode_ospath(dirname);
    dirname = rb_str_dup_frozen(dirname);

    TypedData_Get_Struct(dir, struct dir_data, &amp;dir_data_type, dp);
    if (dp-&gt;dir) closedir(dp-&gt;dir);
    dp-&gt;dir = NULL;
    dp-&gt;path = Qnil;
    dp-&gt;enc = fsenc;
    path = RSTRING_PTR(dirname);
    dp-&gt;dir = opendir(path);
    if (dp-&gt;dir == NULL) {
	if (rb_gc_for_fd(errno)) {
	    dp-&gt;dir = opendir(path);
	}
#ifdef HAVE_GETATTRLIST
	else if (errno == EIO) {
	    u_int32_t attrbuf[1];
	    struct attrlist al = {ATTR_BIT_MAP_COUNT, 0};
	    if (getattrlist(path, &amp;al, attrbuf, sizeof(attrbuf), FSOPT_NOFOLLOW) == 0) {
		dp-&gt;dir = opendir(path);
	    }
	}
#endif
	if (dp-&gt;dir == NULL) {
	    RB_GC_GUARD(dirname);
	    rb_sys_fail_path(orig);
	}
    }
    dp-&gt;path = orig;

    return dir;
}
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="[]-class_method">
  <h3 class='signature first'>
  .<strong>[]</strong>(string[, string ...])  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equivalent to calling <code>Dir.glob([string,...],0)</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


2252
2253
2254
2255
2256
2257
2258
2259</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 2252</span>

static VALUE
dir_s_aref(int argc, VALUE *argv, VALUE obj)
{
    if (argc == 1) {
	return rb_push_glob(argv[0], 0);
    }
    return dir_globs(argc, argv, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="chdir-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>chdir</strong>([ string])  &#x21d2; <tt>0</tt> </span>
    <span class='overload'>.<strong>chdir</strong>([ string]) {|path| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Changes the current working directory of the process to the given string.
When called without an argument, changes the directory to the value of the
environment variable <code>HOME</code>, or <code>LOGDIR</code>.
<a href="SystemCallError.html" title="SystemCallError (class)">SystemCallError</a> (probably <code>Errno::ENOENT</code>) if the target directory does
not exist.</p>

<p>If a block is given, it is passed the name of the new current directory,
and the block is executed with that as the current directory. The original
working directory is restored when the block exits. The return value of
<code>chdir</code> is the value of the block. <code>chdir</code> blocks can
be nested, but in a multi-threaded program an error will be raised if a
thread attempts to open a <code>chdir</code> block while another thread has
one open.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/var/spool/mail</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>
<span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>
  <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/usr</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>var</span><span class='regexp_end'>/spool</span></span><span class='op'>/</span><span class='id identifier rubyid_mail'>mail</span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>tmp
</span><span class='regexp_end'>/usr</span></span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>tmp
</span><span class='regexp_end'>/var</span></span><span class='op'>/</span><span class='id identifier rubyid_spool'>spool</span><span class='op'>/</span><span class='id identifier rubyid_mail'>mail</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 1012</span>

static VALUE
dir_s_chdir(int argc, VALUE *argv, VALUE obj)
{
    VALUE path = Qnil;

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;path) == 1) {
	FilePathValue(path);
	path = rb_str_encode_ospath(path);
    }
    else {
	const char *dist = getenv(&quot;HOME&quot;);
	if (!dist) {
	    dist = getenv(&quot;LOGDIR&quot;);
	    if (!dist) rb_raise(rb_eArgError, &quot;HOME/LOGDIR not set&quot;);
	}
	path = rb_str_new2(dist);
    }

    if (chdir_blocking &gt; 0) {
	if (!rb_block_given_p() || rb_thread_current() != chdir_thread)
	    rb_warn(&quot;conflicting chdir during another chdir block&quot;);
    }

    if (rb_block_given_p()) {
	struct chdir_data args;

	args.old_path = rb_str_encode_ospath(rb_dir_getwd());
	args.new_path = path;
	args.done = FALSE;
	return rb_ensure(chdir_yield, (VALUE)&amp;args, chdir_restore, (VALUE)&amp;args);
    }
    dir_chdir(path);

    return INT2FIX(0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="chroot-class_method">
  <h3 class='signature'>
  .<strong>chroot</strong>(string)  &#x21d2; <tt>0</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Changes this process&#39;s idea of the file system root. Only a privileged
process may make this call. Not available on all platforms. On Unix
systems, see <code>chroot(2)</code> for more information.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1117
1118
1119
1120
1121
1122
1123
1124
1125</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 1117</span>

static VALUE
dir_s_chroot(VALUE dir, VALUE path)
{
    path = check_dirname(path);
    if (chroot(RSTRING_PTR(path)) == -1)
	rb_sys_fail_path(path);

    return INT2FIX(0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="delete-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>delete</strong>(string)  &#x21d2; <tt>0</tt> </span>
    <span class='overload'>.<strong>rmdir</strong>(string)  &#x21d2; <tt>0</tt> </span>
    <span class='overload'>.<strong>unlink</strong>(string)  &#x21d2; <tt>0</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#rmdir-class_method" title="Dir.rmdir (method)">rmdir</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="empty?-class_method">
  <h3 class='signature'>
  .<strong>empty?</strong>(path_name)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the named file is an empty directory,
<code>false</code> if it is not a directory or non-empty.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


2648
2649
2650
2651
2652
2653
2654
2655
2656
2657
2658
2659
2660
2661
2662
2663
2664
2665
2666
2667
2668
2669
2670
2671
2672
2673
2674
2675
2676
2677
2678
2679
2680
2681
2682
2683
2684
2685
2686
2687
2688
2689
2690
2691
2692
2693
2694
2695
2696
2697
2698
2699
2700
2701
2702
2703
2704
2705
2706</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 2648</span>

static VALUE
rb_dir_s_empty_p(VALUE obj, VALUE dirname)
{
    DIR *dir;
    struct dirent *dp;
    VALUE result = Qtrue, orig;
    const char *path;
    enum {false_on_notdir = 1};

    GlobPathValue(dirname, FALSE);
    orig = rb_str_dup_frozen(dirname);
    dirname = rb_str_encode_ospath(dirname);
    dirname = rb_str_dup_frozen(dirname);
    path = RSTRING_PTR(dirname);

#if defined HAVE_GETATTRLIST &amp;&amp; defined ATTR_DIR_ENTRYCOUNT
    {
	u_int32_t attrbuf[SIZEUP32(fsobj_tag_t)];
	struct attrlist al = {ATTR_BIT_MAP_COUNT, 0, ATTR_CMN_OBJTAG,};
	if (getattrlist(path, &amp;al, attrbuf, sizeof(attrbuf), 0) != 0)
	    rb_sys_fail_path(orig);
	if (*(const fsobj_tag_t *)(attrbuf+1) == VT_HFS) {
	    al.commonattr = 0;
	    al.dirattr = ATTR_DIR_ENTRYCOUNT;
	    if (getattrlist(path, &amp;al, attrbuf, sizeof(attrbuf), 0) == 0) {
		if (attrbuf[0] &gt;= 2 * sizeof(u_int32_t))
		    return attrbuf[1] ? Qfalse : Qtrue;
		if (false_on_notdir) return Qfalse;
	    }
	    rb_sys_fail_path(orig);
	}
    }
#endif

    dir = opendir(path);
    if (!dir) {
	int e = errno;
	switch (e) {
	  case EMFILE: case ENFILE:
	    rb_gc();
	    dir = opendir(path);
	    if (dir) break;
	    e = errno;
	    /* fall through */
	  default:
	    if (false_on_notdir &amp;&amp; e == ENOTDIR) return Qfalse;
	    rb_syserr_fail_path(e, orig);
	}
    }
    errno = 0;
    while ((dp = READDIR(dir, NULL)) != NULL) {
	if (!to_be_skipped(dp)) {
	    result = Qfalse;
	    break;
	}
    }
    closedir(dir);
    return result;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="entries-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>entries</strong>(dirname)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
    <span class='overload'>.<strong>entries</strong>(dirname, encoding:enc)  &#x21d2; <tt><a href="Array.html" title="Array (class)">Array</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing all of the filenames in the given directory.
Will raise a <a href="SystemCallError.html" title="SystemCallError (class)">SystemCallError</a> if the named directory doesn&#39;t exist.</p>

<p>The optional <em>enc</em> argument specifies the encoding of the directory.
If not specified, the filesystem encoding is used.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_entries'>entries</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;.&quot;, &quot;..&quot;, &quot;config.h&quot;, &quot;main.rb&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


2422
2423
2424
2425
2426
2427
2428
2429</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 2422</span>

static VALUE
dir_entries(int argc, VALUE *argv, VALUE io)
{
    VALUE dir;

    dir = dir_open_dir(argc, argv);
    return rb_ensure(rb_Array, dir, dir_close, dir);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="exist?-class_method">
  <h3 class='signature'>
  .<strong>exist?</strong>(file_name)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the named file is a directory,
<code>false</code> otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


2622
2623
2624
2625</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 2622</span>

VALUE
rb_file_directory_p(void)
{
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="exists?-class_method">
  <h3 class='signature'>
  .<strong>exists?</strong>(file_name)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deprecated method. Don&#39;t use.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


2634
2635
2636
2637
2638
2639</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 2634</span>

static VALUE
rb_dir_exists_p(VALUE obj, VALUE fname)
{
    rb_warning(&quot;Dir.exists? is a deprecated name, use Dir.exist? instead&quot;);
    return rb_file_directory_p(obj, fname);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="foreach-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>foreach</strong>(dirname) {|filename| ... } &#x21d2; <tt>nil</tt> </span>
    <span class='overload'>.<strong>foreach</strong>(dirname, encoding:enc) {|filename| ... } &#x21d2; <tt>nil</tt> </span>
    <span class='overload'>.<strong>foreach</strong>(dirname)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
    <span class='overload'>.<strong>foreach</strong>(dirname, encoding:enc)  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calls the block once for each entry in the named directory, passing the
filename of each entry as a parameter to the block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_foreach'>foreach</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby">Got .
Got ..
Got config.h
Got main.rb</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


2396
2397
2398
2399
2400
2401
2402
2403
2404
2405</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 2396</span>

static VALUE
dir_foreach(int argc, VALUE *argv, VALUE io)
{
    VALUE dir;

    RETURN_ENUMERATOR(io, argc, argv);
    dir = dir_open_dir(argc, argv);
    rb_ensure(dir_each, dir, dir_close, dir);
    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getwd-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>getwd</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
    <span class='overload'>.<strong>pwd</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#pwd-class_method" title="Dir.pwd (method)">pwd</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="glob-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>glob</strong>(pattern, [flags])  &#x21d2; <tt>matches</tt> </span>
    <span class='overload'>.<strong>glob</strong>(pattern, [flags]) {|filename| ... } &#x21d2; <tt>nil</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Expands <code>pattern</code>, which is an Array of patterns or a pattern
String, and returns the results as <code>matches</code> or as arguments
given to the block.</p>

<p>Note that this pattern is not a regexp, it&#39;s closer to a shell glob. 
See <a href="File.html#fnmatch-class_method" title="File.fnmatch (method)">File.fnmatch</a> for the meaning of the <code>flags</code> parameter. 
Note that case sensitivity depends on your system (so <code>File::FNM_CASEFOLD</code>
is ignored), as does the order in which the results are returned.</p>
<dl class="rdoc-list note-list"><dt><code>*</code>
<dd>
<p>Matches any file. Can be restricted by other values in the glob. Equivalent
to <code>/ .* /x</code> in regexp.</p>
<dl class="rdoc-list note-list"><dt><code>*</code>
<dd>
<p>Matches all files</p>
</dd><dt><code>c*</code>
<dd>
<p>Matches all files beginning with <code>c</code></p>
</dd><dt><code>*c</code>
<dd>
<p>Matches all files ending with <code>c</code></p>
</dd><dt><code>*c*</code>
<dd>
<p>Match all files that have <code>c</code> in them (including at the
beginning or end).</p>
</dd></dl>

<p>Note, this will not match Unix-like hidden files (dotfiles).  In order to
include those in the match results, you must use the File::FNM_DOTMATCH
flag or something like <code>&quot;{*,.*}&quot;</code>.</p>
</dd><dt><code>**</code>
<dd>
<p>Matches directories recursively.</p>
</dd><dt><code>?</code>
<dd>
<p>Matches any one character. Equivalent to <code>/.{1}/</code> in regexp.</p>
</dd><dt><code>[set]</code>
<dd>
<p>Matches any one character in <code>set</code>.  Behaves exactly like
character sets in Regexp, including set negation (<code>[^a-z]</code>).</p>
</dd><dt><code>{p,q}</code>
<dd>
<p>Matches either literal <code>p</code> or literal <code>q</code>. Equivalent
to pattern alternation in regexp.</p>

<p>Matching literals may be more than one character in length.  More than two
literals may be specified.</p>
</dd><dt><code> \ </code>
<dd>
<p>Escapes the next metacharacter.</p>

<p>Note that this means you cannot use backslash on windows as part of a glob,
i.e.  <code>Dir["c:\foo*"]</code> will not work, use
<code>Dir["c:/foo*"]</code> instead.</p>
</dd></dl>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config.?</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>                     <span class='comment'>#=&gt; [&quot;config.h&quot;]
</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config.?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>                <span class='comment'>#=&gt; [&quot;config.h&quot;]
</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.[a-z][a-z]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>            <span class='comment'>#=&gt; [&quot;main.rb&quot;]
</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.[^r]*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>                 <span class='comment'>#=&gt; [&quot;config.h&quot;]
</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.{rb,h}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>                <span class='comment'>#=&gt; [&quot;main.rb&quot;, &quot;config.h&quot;]
</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>                       <span class='comment'>#=&gt; [&quot;config.h&quot;, &quot;main.rb&quot;]
</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>FNM_DOTMATCH</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;.&quot;, &quot;..&quot;, &quot;config.h&quot;, &quot;main.rb&quot;]
</span>
<span class='id identifier rubyid_rbfiles'>rbfiles</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>**</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='id identifier rubyid_rbfiles'>rbfiles</span><span class='rparen'>)</span>                   <span class='comment'>#=&gt; [&quot;main.rb&quot;,
</span>                                    <span class='comment'>#    &quot;lib/song.rb&quot;,
</span>                                    <span class='comment'>#    &quot;lib/song/karaoke.rb&quot;]
</span><span class='id identifier rubyid_libdirs'>libdirs</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>**</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lib</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='id identifier rubyid_libdirs'>libdirs</span><span class='rparen'>)</span>                   <span class='comment'>#=&gt; [&quot;lib&quot;]
</span>
<span class='id identifier rubyid_librbfiles'>librbfiles</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>**</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lib</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>**</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='id identifier rubyid_librbfiles'>librbfiles</span><span class='rparen'>)</span>                <span class='comment'>#=&gt; [&quot;lib/song.rb&quot;,
</span>                                    <span class='comment'>#    &quot;lib/song/karaoke.rb&quot;]
</span>
<span class='id identifier rubyid_librbfiles'>librbfiles</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>**</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lib</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='id identifier rubyid_librbfiles'>librbfiles</span><span class='rparen'>)</span>                <span class='comment'>#=&gt; [&quot;lib/song.rb&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


2336
2337
2338
2339
2340
2341
2342
2343
2344
2345
2346
2347
2348
2349
2350
2351
2352
2353
2354
2355
2356
2357
2358
2359
2360
2361
2362</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 2336</span>

static VALUE
dir_s_glob(int argc, VALUE *argv, VALUE obj)
{
    VALUE str, rflags, ary;
    int flags;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;rflags) == 2)
	flags = NUM2INT(rflags);
    else
	flags = 0;

    ary = rb_check_array_type(str);
    if (NIL_P(ary)) {
	ary = rb_push_glob(str, flags);
    }
    else {
	VALUE v = ary;
	ary = dir_globs(RARRAY_LEN(v), RARRAY_CONST_PTR(v), flags);
	RB_GC_GUARD(v);
    }

    if (rb_block_given_p()) {
	rb_ary_each(ary);
	return Qnil;
    }
    return ary;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="home-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>home</strong>()  &#x21d2; <tt>"/<a href="#home-class_method" title="Dir.home (method)">home</a>/me"</tt> </span>
    <span class='overload'>.<strong>home</strong>(&quot;root&quot;)  &#x21d2; <tt>"/<a href="top-level-namespace.html" title="Top Level Namespace (root)">root</a>"</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the home directory of the current user or the named user if given.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


2593
2594
2595
2596
2597
2598
2599
2600
2601
2602
2603
2604
2605
2606
2607
2608
2609
2610
2611</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 2593</span>

static VALUE
dir_s_home(int argc, VALUE *argv, VALUE obj)
{
    VALUE user;
    const char *u = 0;

    rb_check_arity(argc, 0, 1);
    user = (argc &gt; 0) ? argv[0] : Qnil;
    if (!NIL_P(user)) {
	SafeStringValue(user);
	rb_must_asciicompat(user);
	u = StringValueCStr(user);
	if (*u) {
	    return rb_home_dir_of(user, rb_str_new(0, 0));
	}
    }
    return rb_default_home_dir(rb_str_new(0, 0));

}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="mkdir-class_method">
  <h3 class='signature'>
  .<strong>mkdir</strong>(string[, integer])  &#x21d2; <tt>0</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Makes a new directory named by <em>string</em>, with permissions specified
by the optional parameter <em>anInteger</em>. The permissions may be
modified by the value of <a href="File.html#umask-class_method" title="File.umask (method)">File.umask</a>, and are ignored on NT. Raises a
<a href="SystemCallError.html" title="SystemCallError (class)">SystemCallError</a> if the directory cannot be created. See also the
discussion of permissions in the class documentation for <a href="File.html" title="File (class)">File</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_mkdir'>mkdir</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_home'>home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.foo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='int'>0700</span><span class='rparen'>)</span> <span class='comment'>#=&gt; 0
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 1145</span>

static VALUE
dir_s_mkdir(int argc, VALUE *argv, VALUE obj)
{
    VALUE path, vmode;
    int mode;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;path, &amp;vmode) == 2) {
	mode = NUM2INT(vmode);
    }
    else {
	mode = 0777;
    }

    path = check_dirname(path);
    if (mkdir(RSTRING_PTR(path), mode) == -1)
	rb_sys_fail_path(path);

    return INT2FIX(0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="open-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>open</strong>(string)  &#x21d2; <tt><a href="" title="Dir (class)">Dir</a></tt> </span>
    <span class='overload'>.<strong>open</strong>(string, encoding:enc)  &#x21d2; <tt><a href="" title="Dir (class)">Dir</a></tt> </span>
    <span class='overload'>.<strong>open</strong>(string) {|aDir| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
    <span class='overload'>.<strong>open</strong>(string, encoding:enc) {|aDir| ... } &#x21d2; <tt><a href="Object.html" title="Object (class)">Object</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The optional <em>enc</em> argument specifies the encoding of the directory.
If not specified, the filesystem encoding is used.</p>

<p>With no block, <code>open</code> is a synonym for <a href="#new-class_method" title="Dir.new (method)">new</a>. If a block is
present, it is passed <em>aDir</em> as a parameter. The directory is closed
at the end of the block, and <a href="#open-class_method" title="Dir.open (method)">open</a> returns the value of the block.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


567
568
569
570
571
572
573
574
575
576
577
578
579</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 567</span>

static VALUE
dir_s_open(int argc, VALUE *argv, VALUE klass)
{
    struct dir_data *dp;
    VALUE dir = TypedData_Make_Struct(klass, struct dir_data, &amp;dir_data_type, dp);

    dir_initialize(argc, argv, dir);
    if (rb_block_given_p()) {
	return rb_ensure(rb_yield, dir, dir_close, dir);
    }

    return dir;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pwd-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>getwd</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
    <span class='overload'>.<strong>pwd</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>getwd</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the path to the current working directory of this process as a
string.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 0
</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_getwd'>getwd</span>           <span class='comment'>#=&gt; &quot;/tmp&quot;
</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>             <span class='comment'>#=&gt; &quot;/tmp&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1081
1082
1083
1084
1085</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 1081</span>

static VALUE
dir_s_getwd(VALUE dir)
{
    return rb_dir_getwd();
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rmdir-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>delete</strong>(string)  &#x21d2; <tt>0</tt> </span>
    <span class='overload'>.<strong>rmdir</strong>(string)  &#x21d2; <tt>0</tt> </span>
    <span class='overload'>.<strong>unlink</strong>(string)  &#x21d2; <tt>0</tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>delete</span>, <span>unlink</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deletes the named directory. Raises a subclass of <a href="SystemCallError.html" title="SystemCallError (class)">SystemCallError</a> if the
directory isn&#39;t empty.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1174
1175
1176
1177
1178
1179
1180
1181
1182</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 1174</span>

static VALUE
dir_s_rmdir(VALUE obj, VALUE dir)
{
    dir = check_dirname(dir);
    if (rmdir(RSTRING_PTR(dir)) &lt; 0)
	rb_sys_fail_path(dir);

    return INT2FIX(0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="unlink-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>delete</strong>(string)  &#x21d2; <tt>0</tt> </span>
    <span class='overload'>.<strong>rmdir</strong>(string)  &#x21d2; <tt>0</tt> </span>
    <span class='overload'>.<strong>unlink</strong>(string)  &#x21d2; <tt>0</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#rmdir-class_method" title="Dir.rmdir (method)">rmdir</a>.</p>


  </div>
</div>

</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="close-instance_method">
  <h3 class='signature first'>
  #<strong>close</strong>  &#x21d2; <tt>nil</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Closes the directory stream. Calling this method on closed Dir object is
ignored since Ruby 2.3.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>   <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


922
923
924
925
926
927
928
929
930
931
932
933</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 922</span>

static VALUE
dir_close(VALUE dir)
{
    struct dir_data *dirp;

    dirp = dir_get(dir);
    if (!dirp-&gt;dir) return Qnil;
    closedir(dirp-&gt;dir);
    dirp-&gt;dir = NULL;

    return Qnil;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="each-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>each</strong> {|filename| ... } &#x21d2; <tt><a href="" title="Dir (class)">Dir</a></tt> </span>
    <span class='overload'>#<strong>each</strong>  &#x21d2; <tt><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calls the block once for each entry in this directory, passing the filename
of each entry as a parameter to the block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>  <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby">Got .
Got ..
Got config.h
Got main.rb</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 780</span>

static VALUE
dir_each(VALUE dir)
{
    struct dir_data *dirp;
    struct dirent *dp;
    IF_NORMALIZE_UTF8PATH(int norm_p);

    RETURN_ENUMERATOR(dir, 0, 0);
    GetDIR(dir, dirp);
    rewinddir(dirp-&gt;dir);
    IF_NORMALIZE_UTF8PATH(norm_p = need_normalization(dirp-&gt;dir, RSTRING_PTR(dirp-&gt;path)));
    while ((dp = READDIR(dirp-&gt;dir, dirp-&gt;enc)) != NULL) {
	const char *name = dp-&gt;d_name;
	size_t namlen = NAMLEN(dp);
	VALUE path;
#if NORMALIZE_UTF8PATH
	if (norm_p &amp;&amp; has_nonascii(name, namlen) &amp;&amp;
	    !NIL_P(path = rb_str_normalize_ospath(name, namlen))) {
	    path = rb_external_str_with_enc(path, dirp-&gt;enc);
	}
	else
#endif
	path = rb_external_str_new_with_enc(name, namlen, dirp-&gt;enc);
	rb_yield(path);
	if (dirp-&gt;dir == NULL) dir_closed();
    }
    return dir;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="fileno-instance_method">
  <h3 class='signature'>
  #<strong>fileno</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the file descriptor used in <em>dir</em>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>..</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_fileno'>fileno</span>   <span class='comment'>#=&gt; 8
</span></code></pre>

<p>This method uses dirfd() function defined by POSIX 2008.
NotImplementedError is raised on other platforms, such as Windows, which
doesn&#39;t provide the function.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


656
657
658
659
660
661
662
663
664
665
666
667</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 656</span>

static VALUE
dir_fileno(VALUE dir)
{
    struct dir_data *dirp;
    int fd;

    GetDIR(dir, dirp);
    fd = dirfd(dirp-&gt;dir);
    if (fd == -1)
	rb_sys_fail(&quot;dirfd&quot;);
    return INT2NUM(fd);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  #<strong>inspect</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return a string describing this Dir object.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 611</span>

static VALUE
dir_inspect(VALUE dir)
{
    struct dir_data *dirp;

    TypedData_Get_Struct(dir, struct dir_data, &amp;dir_data_type, dirp);
    if (!NIL_P(dirp-&gt;path)) {
	VALUE str = rb_str_new_cstr(&quot;#&lt;&quot;);
	rb_str_append(str, rb_class_name(CLASS_OF(dir)));
	rb_str_cat2(str, &quot;:&quot;);
	rb_str_append(str, dirp-&gt;path);
	rb_str_cat2(str, &quot;&gt;&quot;);
	return str;
    }
    return rb_funcallv(dir, rb_intern(&quot;to_s&quot;), 0, 0);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>path</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>to_path</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt><sup>?</sup> </span>
  <span class='aliases'>Also known as: <span class='names'><span>to_path</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the path parameter passed to <em>dir</em>&#39;s constructor.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>..</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>   <span class='comment'>#=&gt; &quot;..&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


682
683
684
685
686
687
688
689
690</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 682</span>

static VALUE
dir_path(VALUE dir)
{
    struct dir_data *dirp;

    TypedData_Get_Struct(dir, struct dir_data, &amp;dir_data_type, dirp);
    if (NIL_P(dirp-&gt;path)) return Qnil;
    return rb_str_dup(dirp-&gt;path);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pos-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>pos</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
    <span class='overload'>#<strong>tell</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>tell</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the current position in <em>dir</em>. See also <a href="#seek-instance_method" title="Dir#seek (method)">#seek</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_tell'>tell</span>   <span class='comment'>#=&gt; 0
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>   <span class='comment'>#=&gt; &quot;.&quot;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_tell'>tell</span>   <span class='comment'>#=&gt; 12
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


823
824
825
826
827
828
829
830
831
832</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 823</span>

static VALUE
dir_tell(VALUE dir)
{
    struct dir_data *dirp;
    long pos;

    GetDIR(dir, dirp);
    pos = telldir(dirp-&gt;dir);
    return rb_int2inum(pos);
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pos=-instance_method">
  <h3 class='signature'>
  #<strong>pos=</strong>(integer)  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Synonym for <a href="#seek-instance_method" title="Dir#seek (method)">#seek</a>, but returns the position parameter.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; #&lt;Dir:0x401b3c40&gt;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>                   <span class='comment'>#=&gt; &quot;.&quot;
</span><span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span>                <span class='comment'>#=&gt; 12
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>                   <span class='comment'>#=&gt; &quot;..&quot;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_pos'>pos</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span>                <span class='comment'>#=&gt; 12
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>                   <span class='comment'>#=&gt; &quot;..&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


881
882
883
884
885
886</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 881</span>

static VALUE
dir_set_pos(VALUE dir, VALUE pos)
{
    dir_seek(dir, pos);
    return pos;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read-instance_method">
  <h3 class='signature'>
  #<strong>read</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Reads the next entry from <em>dir</em> and returns it as a string. Returns
<code>nil</code> at the end of the stream.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>   <span class='comment'>#=&gt; &quot;.&quot;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>   <span class='comment'>#=&gt; &quot;..&quot;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>   <span class='comment'>#=&gt; &quot;config.h&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 743</span>

static VALUE
dir_read(VALUE dir)
{
    struct dir_data *dirp;
    struct dirent *dp;

    GetDIR(dir, dirp);
    errno = 0;
    if ((dp = READDIR(dirp-&gt;dir, dirp-&gt;enc)) != NULL) {
	return rb_external_str_new_with_enc(dp-&gt;d_name, NAMLEN(dp), dirp-&gt;enc);
    }
    else {
	if (errno != 0) rb_sys_fail(0);
	return Qnil;		/* end of stream */
    }
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rewind-instance_method">
  <h3 class='signature'>
  #<strong>rewind</strong>  &#x21d2; <tt><a href="" title="Dir (class)">Dir</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Repositions <em>dir</em> to the first entry.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>     <span class='comment'>#=&gt; &quot;.&quot;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_rewind'>rewind</span>   <span class='comment'>#=&gt; #&lt;Dir:0x401b3fb0&gt;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>     <span class='comment'>#=&gt; &quot;.&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


902
903
904
905
906
907
908
909
910</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 902</span>

static VALUE
dir_rewind(VALUE dir)
{
    struct dir_data *dirp;

    GetDIR(dir, dirp);
    rewinddir(dirp-&gt;dir);
    return dir;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="seek-instance_method">
  <h3 class='signature'>
  #<strong>seek</strong>(integer)  &#x21d2; <tt><a href="" title="Dir (class)">Dir</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Seeks to a particular location in <em>dir</em>. <em>integer</em> must be a
value returned by <a href="#tell-instance_method" title="Dir#tell (method)">#tell</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testdir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; #&lt;Dir:0x401b3c40&gt;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>                   <span class='comment'>#=&gt; &quot;.&quot;
</span><span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_tell'>tell</span>               <span class='comment'>#=&gt; 12
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>                   <span class='comment'>#=&gt; &quot;..&quot;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_seek'>seek</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>                <span class='comment'>#=&gt; #&lt;Dir:0x401b3c40&gt;
</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>                   <span class='comment'>#=&gt; &quot;..&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


852
853
854
855
856
857
858
859
860
861</pre>
  <div class='lines_code'>
<pre class='code cpp'
<span class='info file'># File 'dir.c', line 852</span>

static VALUE
dir_seek(VALUE dir, VALUE pos)
{
    struct dir_data *dirp;
    long p = NUM2LONG(pos);

    GetDIR(dir, dirp);
    seekdir(dirp-&gt;dir, p);
    return dir;
}
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="tell-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>pos</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
    <span class='overload'>#<strong>tell</strong>  &#x21d2; <tt><a href="Integer.html" title="Integer (class)">Integer</a></tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#pos-instance_method" title="Dir#pos (method)">#pos</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="to_path-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>path</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt><sup>?</sup> </span>
    <span class='overload'>#<strong>to_path</strong>  &#x21d2; <tt><a href="String.html" title="String (class)">String</a></tt><sup>?</sup> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#path-instance_method" title="Dir#path (method)">#path</a>.</p>


  </div>
</div>

</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>