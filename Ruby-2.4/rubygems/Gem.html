<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Gem &mdash; rubygems Ruby-2.4.0 d2016-07-21</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Gem",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>rubygems</a> &raquo; 
          <a href='_index.html'>Index (G)</a> &raquo; 
          <span class='title'>Gem</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: Gem</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>

  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <a href="Gem/Commands.html" title="Gem::Commands (module)">Commands</a>,
    <a href="Gem/DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)">DefaultUserInteraction</a>,
    <a href="Gem/Deprecate.html" title="Gem::Deprecate (module)">Deprecate</a>,
    <a href="Gem/Ext.html" title="Gem::Ext (module)">Ext</a>,
    <a href="Gem/GemcutterUtilities.html" title="Gem::GemcutterUtilities (module)">GemcutterUtilities</a>,
    <a href="Gem/InstallUpdateOptions.html" title="Gem::InstallUpdateOptions (module)">InstallUpdateOptions</a>,
    <a href="Gem/LocalRemoteOptions.html" title="Gem::LocalRemoteOptions (module)">LocalRemoteOptions</a>,
    <a href="Gem/Security.html" title="Gem::Security (module)">Security</a>,
    <a href="Gem/Text.html" title="Gem::Text (module)">Text</a>,
    <a href="Gem/UserInteraction.html" title="Gem::UserInteraction (module)">UserInteraction</a>,
    <a href="Gem/Util.html" title="Gem::Util (module)">Util</a>,
    <a href="Gem/VersionOption.html" title="Gem::VersionOption (module)">VersionOption</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <a href="Gem/AvailableSet.html" title="Gem::AvailableSet (class)">AvailableSet</a>,
    <a href="Gem/BasicSpecification.html" title="Gem::BasicSpecification (class)">BasicSpecification</a>,
    <a href="Gem/Command.html" title="Gem::Command (class)">Command</a>,
    <a href="Gem/CommandManager.html" title="Gem::CommandManager (class)">CommandManager</a>,
    <a href="Gem/ConfigFile.html" title="Gem::ConfigFile (class)">ConfigFile</a>,
    <a href="Gem/ConsoleUI.html" title="Gem::ConsoleUI (class)">ConsoleUI</a>,
    <a href="Gem/Dependency.html" title="Gem::Dependency (class)">Dependency</a>,
    <a href="Gem/DependencyInstaller.html" title="Gem::DependencyInstaller (class)">DependencyInstaller</a>,
    <a href="Gem/DependencyList.html" title="Gem::DependencyList (class)">DependencyList</a>,
    <a href="Gem/Doctor.html" title="Gem::Doctor (class)">Doctor</a>,
    <a href="Gem/ErrorReason.html" title="Gem::ErrorReason (class)">ErrorReason</a>,
    <a href="Gem/FakeFetcher.html" title="Gem::FakeFetcher (class)">FakeFetcher</a>,
    <a href="Gem/GemRunner.html" title="Gem::GemRunner (class)">GemRunner</a>,
    <a href="Gem/Indexer.html" title="Gem::Indexer (class)">Indexer</a>,
    <a href="Gem/Installer.html" title="Gem::Installer (class)">Installer</a>,
    <a href="Gem/InstallerTestCase.html" title="Gem::InstallerTestCase (class)">InstallerTestCase</a>,
    <a href="Gem/Licenses.html" title="Gem::Licenses (class)">Licenses</a>,
    <a href="Gem/List.html" title="Gem::List (class)">List</a>,
    <a href="Gem/MockGemUi.html" title="Gem::MockGemUi (class)">MockGemUi</a>,
    <a href="Gem/NameTuple.html" title="Gem::NameTuple (class)">NameTuple</a>,
    <a href="Gem/NoAliasYAMLTree.html" title="Gem::NoAliasYAMLTree (class)">NoAliasYAMLTree</a>,
    <a href="Gem/Package.html" title="Gem::Package (class)">Package</a>,
    <a href="Gem/PackageTask.html" title="Gem::PackageTask (class)">PackageTask</a>,
    <a href="Gem/PathSupport.html" title="Gem::PathSupport (class)">PathSupport</a>,
    <a href="Gem/Platform.html" title="Gem::Platform (class)">Platform</a>,
    <a href="Gem/PlatformMismatch.html" title="Gem::PlatformMismatch (class)">PlatformMismatch</a>,
    <a href="Gem/RDoc.html" title="Gem::RDoc (class)">RDoc</a>,
    <a href="Gem/RemoteFetcher.html" title="Gem::RemoteFetcher (class)">RemoteFetcher</a>,
    <a href="Gem/Request.html" title="Gem::Request (class)">Request</a>,
    <a href="Gem/RequestSet.html" title="Gem::RequestSet (class)">RequestSet</a>,
    <a href="Gem/Requirement.html" title="Gem::Requirement (class)">Requirement</a>,
    <a href="Gem/Resolver.html" title="Gem::Resolver (class)">Resolver</a>,
    <a href="Gem/Server.html" title="Gem::Server (class)">Server</a>,
    <a href="Gem/SilentUI.html" title="Gem::SilentUI (class)">SilentUI</a>,
    <a href="Gem/Source.html" title="Gem::Source (class)">Source</a>,
    <a href="Gem/SourceFetchProblem.html" title="Gem::SourceFetchProblem (class)">SourceFetchProblem</a>,
    <a href="Gem/SourceList.html" title="Gem::SourceList (class)">SourceList</a>,
    <a href="Gem/SpecFetcher.html" title="Gem::SpecFetcher (class)">SpecFetcher</a>,
    <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>,
    <a href="Gem/StreamUI.html" title="Gem::StreamUI (class)">StreamUI</a>,
    <a href="Gem/StubSpecification.html" title="Gem::StubSpecification (class)">StubSpecification</a>,
    <a href="Gem/TestCase.html" title="Gem::TestCase (class)">TestCase</a>,
    <a href="Gem/Uninstaller.html" title="Gem::Uninstaller (class)">Uninstaller</a>,
    <a href="Gem/UriFormatter.html" title="Gem::UriFormatter (class)">UriFormatter</a>,
    <a href="Gem/Validator.html" title="Gem::Validator (class)">Validator</a>,
    <a href="Gem/Version.html" title="Gem::Version (class)">Version</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Exceptions:</td>
    <td>
      <a href="Gem/CommandLineError.html" title="Gem::CommandLineError (class)">CommandLineError</a>,
    <a href="Gem/ConflictError.html" title="Gem::ConflictError (class)">ConflictError</a>,
    <a href="Gem/DependencyError.html" title="Gem::DependencyError (class)">DependencyError</a>,
    <a href="Gem/DependencyRemovalException.html" title="Gem::DependencyRemovalException (class)">DependencyRemovalException</a>,
    <a href="Gem/DependencyResolutionError.html" title="Gem::DependencyResolutionError (class)">DependencyResolutionError</a>,
    <a href="Gem/DocumentError.html" title="Gem::DocumentError (class)">DocumentError</a>,
    <a href="Gem/EndOfYAMLException.html" title="Gem::EndOfYAMLException (class)">EndOfYAMLException</a>,
    <a href="Gem/Exception.html" title="Gem::Exception (class)">Exception</a>,
    <a href="Gem/FilePermissionError.html" title="Gem::FilePermissionError (class)">FilePermissionError</a>,
    <a href="Gem/FormatException.html" title="Gem::FormatException (class)">FormatException</a>,
    <a href="Gem/GemNotFoundException.html" title="Gem::GemNotFoundException (class)">GemNotFoundException</a>,
    <a href="Gem/GemNotInHomeException.html" title="Gem::GemNotInHomeException (class)">GemNotInHomeException</a>,
    <a href="Gem/ImpossibleDependenciesError.html" title="Gem::ImpossibleDependenciesError (class)">ImpossibleDependenciesError</a>,
    <a href="Gem/InstallError.html" title="Gem::InstallError (class)">InstallError</a>,
    <a href="Gem/InvalidSpecificationException.html" title="Gem::InvalidSpecificationException (class)">InvalidSpecificationException</a>,
    <a href="Gem/LoadError.html" title="Gem::LoadError (class)">LoadError</a>,
    <a href="Gem/MissingSpecError.html" title="Gem::MissingSpecError (class)">MissingSpecError</a>,
    <a href="Gem/MissingSpecVersionError.html" title="Gem::MissingSpecVersionError (class)">MissingSpecVersionError</a>,
    <a href="Gem/OperationNotSupportedError.html" title="Gem::OperationNotSupportedError (class)">OperationNotSupportedError</a>,
    <a href="Gem/RemoteError.html" title="Gem::RemoteError (class)">RemoteError</a>,
    <a href="Gem/RemoteInstallationCancelled.html" title="Gem::RemoteInstallationCancelled (class)">RemoteInstallationCancelled</a>,
    <a href="Gem/RemoteInstallationSkipped.html" title="Gem::RemoteInstallationSkipped (class)">RemoteInstallationSkipped</a>,
    <a href="Gem/RemoteSourceException.html" title="Gem::RemoteSourceException (class)">RemoteSourceException</a>,
    <a href="Gem/RubyVersionMismatch.html" title="Gem::RubyVersionMismatch (class)">RubyVersionMismatch</a>,
    <a href="Gem/SpecificGemNotFoundException.html" title="Gem::SpecificGemNotFoundException (class)">SpecificGemNotFoundException</a>,
    <a href="Gem/SystemExitException.html" title="Gem::SystemExitException (class)">SystemExitException</a>,
    <a href="Gem/UnsatisfiableDependencyError.html" title="Gem::UnsatisfiableDependencyError (class)">UnsatisfiableDependencyError</a>,
    <a href="Gem/VerificationError.html" title="Gem::VerificationError (class)">VerificationError</a>
    </td>
  </tr>




  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
rubygems/errors.rb<span class='defines'>,<br />rubygems.rb,<br /> rubygems/compatibility.rb,<br /> rubygems/defaults.rb,<br /> rubygems/psych_tree.rb,<br /> rubygems/syck_hack.rb,<br /> rubygems/test_case.rb,<br /> rubygems/util/list.rb</span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Now that we&#39;ve got Syck setup in all the right places, store a
reference to the DefaultKey class inside Gem. We do this so that if later
on YAML, etc are redefined, we&#39;ve still got a consistent place to find
the DefaultKey class for comparison.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='win_platform-classvariable'>
      @@win_platform =
    </dt>
    <dd>
            <pre class='code'><span class='kw'>nil</span></pre>
    </dd>
    <dt id='ConfigMap-constant'>
      ConfigMap =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Configuration settings from ::RbConfig</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cm'>cm</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='comment'># TODO remove at RubyGems 3
</span>  <span class='id identifier rubyid_cm'>cm</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </dd>
    <dt id='DEFAULT_HOST-constant'>
      DEFAULT_HOST =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://rubygems.org</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
    <dt id='GEM_DEP_FILES-constant'>
      GEM_DEP_FILES =
    </dt>
    <dd>
            <pre class='code'><span class='qwords_beg'>%w[
</span><span class='tstring_content'>gem.deps.rb</span><span class='words_sep'>
</span><span class='tstring_content'>Gemfile</span><span class='words_sep'>
</span><span class='tstring_end'>Isolate</span></span></pre>
    </dd>
    <dt id='LOADED_SPECS_MUTEX-constant'>
      LOADED_SPECS_MUTEX =
    </dt>
    <dd>
            <pre class='code'><span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre>
    </dd>
    <dt id='MARSHAL_SPEC_DIR-constant'>
      MARSHAL_SPEC_DIR =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Location of Marshal quick gemspecs on remote repositories</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>quick/Marshal.</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_marshal_version'>marshal_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
    <dt id='RbConfigPriorities-constant'>
      RbConfigPriorities =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>TODO remove at RubyGems 3</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='qwords_beg'>%w[
</span><span class='tstring_content'>MAJOR</span><span class='words_sep'>
</span><span class='tstring_content'>MINOR</span><span class='words_sep'>
</span><span class='tstring_content'>TEENY</span><span class='words_sep'>
</span><span class='tstring_content'>EXEEXT</span><span class='words_sep'> </span><span class='tstring_content'>RUBY_SO_NAME</span><span class='words_sep'> </span><span class='tstring_content'>arch</span><span class='words_sep'> </span><span class='tstring_content'>bindir</span><span class='words_sep'> </span><span class='tstring_content'>datadir</span><span class='words_sep'> </span><span class='tstring_content'>libdir</span><span class='words_sep'> </span><span class='tstring_content'>ruby_install_name</span><span class='words_sep'>
</span><span class='tstring_content'>ruby_version</span><span class='words_sep'> </span><span class='tstring_content'>rubylibprefix</span><span class='words_sep'> </span><span class='tstring_content'>sitedir</span><span class='words_sep'> </span><span class='tstring_content'>sitelibdir</span><span class='words_sep'> </span><span class='tstring_content'>vendordir</span><span class='words_sep'> </span><span class='tstring_content'>vendorlibdir</span><span class='words_sep'>
</span><span class='tstring_end'>rubylibdir</span></span></pre>
    </dd>
    <dt id='READ_BINARY_ERRORS-constant'>
      READ_BINARY_ERRORS =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Exception classes used in a <a href="#read_binary-class_method" title="Gem.read_binary (method)">read_binary</a> <code>rescue</code>
statement. Not all of these are defined in Ruby 1.8.7, hence the need for
this convoluted setup.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='kw'>begin</span>
  <span class='id identifier rubyid_read_binary_errors'>read_binary_errors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'>Errno</span><span class='op'>::</span><span class='const'>EACCES</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_read_binary_errors'>read_binary_errors</span> <span class='op'>&lt;&lt;</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOTSUP</span> <span class='kw'>if</span> <span class='const'>Errno</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:ENOTSUP</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_read_binary_errors'>read_binary_errors</span>
<span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='REPOSITORY_DEFAULT_GEM_SUBDIRECTORIES-constant'>
      REPOSITORY_DEFAULT_GEM_SUBDIRECTORIES =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Subdirectories in a gem repository for default gems</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='qwords_beg'>%w[
</span><span class='tstring_content'>gems</span><span class='words_sep'>
</span><span class='tstring_end'>specifications/default</span></span></pre>
    </dd>
    <dt id='REPOSITORY_SUBDIRECTORIES-constant'>
      REPOSITORY_SUBDIRECTORIES =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Subdirectories in a gem repository</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='qwords_beg'>%w[
</span><span class='tstring_content'>build_info</span><span class='words_sep'>
</span><span class='tstring_content'>cache</span><span class='words_sep'>
</span><span class='tstring_content'>doc</span><span class='words_sep'>
</span><span class='tstring_content'>extensions</span><span class='words_sep'>
</span><span class='tstring_content'>gems</span><span class='words_sep'>
</span><span class='tstring_end'>specifications</span></span></pre>
    </dd>
    <dt id='RUBYGEMS_DIR-constant'>
      RUBYGEMS_DIR =
    </dt>
    <dd>
            <pre class='code'><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span></pre>
    </dd>
    <dt id='RubyGemsPackageVersion-constant'>
      RubyGemsPackageVersion =
    </dt>
    <dd>
            <pre class='code'><span class='const'>VERSION</span></pre>
    </dd>
    <dt id='RubyGemsVersion-constant'>
      RubyGemsVersion =
    </dt>
    <dd>
            <pre class='code'><span class='const'>VERSION</span></pre>
    </dd>
    <dt id='SyckDefaultKey-constant'>
      SyckDefaultKey =
    </dt>
    <dd>
            <pre class='code'><span class='const'>YAML</span><span class='op'>::</span><span class='const'>Syck</span><span class='op'>::</span><span class='const'>DefaultKey</span></pre>
    </dd>
    <dt id='VERSION-constant'>
      VERSION =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.6.6</span><span class='tstring_end'>&#39;</span></span></pre>
    </dd>
    <dt id='WIN_PATTERNS-constant'>
      WIN_PATTERNS =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>An Array of Regexps that match windows Ruby platforms.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbracket'>[</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>bccwin</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>cygwin</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>djgpp</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>mingw</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>mswin</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>wince</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span>
<span class='rbracket'>]</span></pre>
    </dd>
    <dt id='WRITE_BINARY_ERRORS-constant'>
      WRITE_BINARY_ERRORS =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Exception classes used in <a href="#write_binary-class_method" title="Gem.write_binary (method)">write_binary</a> <code>rescue</code> statement.
Not all of these are defined in Ruby 1.8.7.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='kw'>begin</span>
  <span class='id identifier rubyid_write_binary_errors'>write_binary_errors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_write_binary_errors'>write_binary_errors</span> <span class='op'>&lt;&lt;</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOTSUP</span> <span class='kw'>if</span> <span class='const'>Errno</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:ENOTSUP</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_write_binary_errors'>write_binary_errors</span>
<span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
  </dl>



<h2>Class Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#done_installing_hooks-class_method" title=".done_installing_hooks (class method)">.<strong>done_installing_hooks</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of hooks to be run after <a href="Gem/DependencyInstaller.html" title="Gem::DependencyInstaller (class)">DependencyInstaller</a> installs a set
of gems</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gemdeps-class_method" title=".gemdeps (class method)">.<strong>gemdeps</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>GemDependencyAPI object, which is set when <a href="#use_gemdeps-class_method" title="Gem.use_gemdeps (method)">Gem.use_gemdeps</a> is called.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#loaded_specs-class_method" title=".loaded_specs (class method)">.<strong>loaded_specs</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Hash of loaded <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a> keyed by name</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_build_hooks-class_method" title=".post_build_hooks (class method)">.<strong>post_build_hooks</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of hooks to be run after <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Installer#install</a> extracts files
and builds extensions</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_install_hooks-class_method" title=".post_install_hooks (class method)">.<strong>post_install_hooks</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of hooks to be run after <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Installer#install</a> completes
installation</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_reset_hooks-class_method" title=".post_reset_hooks (class method)">.<strong>post_reset_hooks</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of hooks to be run after <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>.reset is run.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_uninstall_hooks-class_method" title=".post_uninstall_hooks (class method)">.<strong>post_uninstall_hooks</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of hooks to be run after <a href="Gem/Uninstaller.html#uninstall-instance_method" title="Gem::Uninstaller#uninstall (method)">Uninstaller#uninstall</a> completes
installation</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pre_install_hooks-class_method" title=".pre_install_hooks (class method)">.<strong>pre_install_hooks</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of hooks to be run before <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Installer#install</a> does any work</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pre_reset_hooks-class_method" title=".pre_reset_hooks (class method)">.<strong>pre_reset_hooks</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of hooks to be run before <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>.reset is run.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pre_uninstall_hooks-class_method" title=".pre_uninstall_hooks (class method)">.<strong>pre_uninstall_hooks</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The list of hooks to be run before <a href="Gem/Uninstaller.html#uninstall-instance_method" title="Gem::Uninstaller#uninstall (method)">Uninstaller#uninstall</a> does any
work</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#activate_bin_path-class_method" title=".activate_bin_path (class method)">.<strong>activate_bin_path</strong>(name, exec_name, requirement)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Find the full path to the executable for gem <code>name</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#bin_path-class_method" title=".bin_path (class method)">.<strong>bin_path</strong>(name, exec_name = nil, *requirements)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Find the full path to the executable for gem <code>name</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#binary_mode-class_method" title=".binary_mode (class method)">.<strong>binary_mode</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The mode needed to read a file as straight binary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#bindir-class_method" title=".bindir (class method)">.<strong>bindir</strong>(install_dir = Gem.dir)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The path where gem executables are to be installed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#clear_default_specs-class_method" title=".clear_default_specs (class method)">.<strong>clear_default_specs</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Clear default gem related variables.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#clear_paths-class_method" title=".clear_paths (class method)">.<strong>clear_paths</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Reset the <code>dir</code> and <code>path</code> values.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#config_file-class_method" title=".config_file (class method)">.<strong>config_file</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The path to standard location of the user&#39;s gemrc file.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#configuration-class_method" title=".configuration (class method)">.<strong>configuration</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The standard configuration object for gems.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#configuration%3D-class_method" title=".configuration= (class method)">.<strong>configuration=</strong>(config)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Use the given configuration object (which implements the ConfigFile
protocol) as the standard configuration object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#datadir-class_method" title=".datadir (class method)">.<strong>datadir</strong>(gem_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The path to the data directory specified by the gem name.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_bindir-class_method" title=".default_bindir (class method)">.<strong>default_bindir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The default directory for binaries</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_cert_path-class_method" title=".default_cert_path (class method)">.<strong>default_cert_path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The default signing certificate chain path</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_dir-class_method" title=".default_dir (class method)">.<strong>default_dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Default home directory path to be used if an alternate value is not
specified in the environment</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_exec_format-class_method" title=".default_exec_format (class method)">.<strong>default_exec_format</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Deduce Ruby&#39;s –program-prefix and –program-suffix from its install name</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_ext_dir_for-class_method" title=".default_ext_dir_for (class method)">.<strong>default_ext_dir_for</strong>(base_dir)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns binary extensions dir for specified RubyGems base dir or nil if
such directory cannot be determined.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_gems_use_full_paths%3F-class_method" title=".default_gems_use_full_paths? (class method)">.<strong>default_gems_use_full_paths?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Whether to expect full paths in default gems - true for non-MRI ruby
implementations</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_key_path-class_method" title=".default_key_path (class method)">.<strong>default_key_path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The default signing key path</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_path-class_method" title=".default_path (class method)">.<strong>default_path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Default gem load path</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_rubygems_dirs-class_method" title=".default_rubygems_dirs (class method)">.<strong>default_rubygems_dirs</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Paths where RubyGems&#39; rb files and bin files are installed</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_sources-class_method" title=".default_sources (class method)">.<strong>default_sources</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>An Array of the default sources that come with RubyGems</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_spec_cache_dir-class_method" title=".default_spec_cache_dir (class method)">.<strong>default_spec_cache_dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Default spec directory path to be used if an alternate value is not
specified in the environment</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#deflate-class_method" title=".deflate (class method)">.<strong>deflate</strong>(data)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A <code>Zlib::Deflate</code>.deflate wrapper</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#detect_gemdeps-class_method" title=".detect_gemdeps (class method)">.<strong>detect_gemdeps</strong>(path = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#use_gemdeps-class_method" title="Gem.use_gemdeps (method)">Gem.use_gemdeps</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dir-class_method" title=".dir (class method)">.<strong>dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The path where gems are to be installed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#done_installing-class_method" title=".done_installing (class method)">.<strong>done_installing</strong>(&amp;hook)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds a post-installs hook that will be passed a <a href="Gem/DependencyInstaller.html" title="Gem::DependencyInstaller (class)">DependencyInstaller</a>
and a list of installed specifications when
<a href="Gem/DependencyInstaller.html#install-instance_method" title="Gem::DependencyInstaller#install (method)">DependencyInstaller#install</a> is complete</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ensure_default_gem_subdirectories-class_method" title=".ensure_default_gem_subdirectories (class method)">.<strong>ensure_default_gem_subdirectories</strong>(dir = Gem.dir, mode = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Quietly ensure the Gem directory <code>dir</code> contains all the proper
subdirectories for handling default gems.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ensure_gem_subdirectories-class_method" title=".ensure_gem_subdirectories (class method)">.<strong>ensure_gem_subdirectories</strong>(dir = Gem.dir, mode = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Quietly ensure the Gem directory <code>dir</code> contains all the proper
subdirectories.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#env_requirement-class_method" title=".env_requirement (class method)">.<strong>env_requirement</strong>(gem_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extension_api_version-class_method" title=".extension_api_version (class method)">.<strong>extension_api_version</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The extension API version of ruby.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_files-class_method" title=".find_files (class method)">.<strong>find_files</strong>(glob, check_load_path = true)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a list of paths matching <code>glob</code> that can be used by a
gem to pick up features from other gems.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_home-class_method" title=".find_home (class method)">.<strong>find_home</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finds the user&#39;s home directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_latest_files-class_method" title=".find_latest_files (class method)">.<strong>find_latest_files</strong>(glob, check_load_path = true)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a list of paths matching <code>glob</code> from the latest gems
that can be used by a gem to pick up features from other gems.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_spec_for_exe-class_method" title=".find_spec_for_exe (class method)">.<strong>find_spec_for_exe</strong>(name, exec_name, requirements)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_unresolved_default_spec-class_method" title=".find_unresolved_default_spec (class method)">.<strong>find_unresolved_default_spec</strong>(path)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Find a <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a> of default gem from <code>path</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#finish_resolve-class_method" title=".finish_resolve (class method)">.<strong>finish_resolve</strong>(request_set = Gem::RequestSet.new)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gunzip-class_method" title=".gunzip (class method)">.<strong>gunzip</strong>(data)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p><code>Zlib::GzipReader</code> wrapper that unzips <code>data</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gzip-class_method" title=".gzip (class method)">.<strong>gzip</strong>(data)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p><code>Zlib::GzipWriter</code> wrapper that zips <code>data</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#host-class_method" title=".host (class method)">.<strong>host</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Get the default RubyGems API host.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#host%3D-class_method" title=".host= (class method)">.<strong>host=</strong>(host)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Set the default RubyGems API host.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inflate-class_method" title=".inflate (class method)">.<strong>inflate</strong>(data)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A <code>Zlib::Inflate#inflate</code> wrapper</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#install-class_method" title=".install (class method)">.<strong>install</strong>(name, version = Gem::Requirement.default, *options)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Top level install helper method.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#install_extension_in_lib-class_method" title=".install_extension_in_lib (class method)">.<strong>install_extension_in_lib</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Install extensions into lib as well as into the extension directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#latest_rubygems_version-class_method" title=".latest_rubygems_version (class method)">.<strong>latest_rubygems_version</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the latest release version of RubyGems.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#latest_spec_for-class_method" title=".latest_spec_for (class method)">.<strong>latest_spec_for</strong>(name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the latest release-version specification for the gem
<code>name</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#latest_version_for-class_method" title=".latest_version_for (class method)">.<strong>latest_version_for</strong>(name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the version of the latest release-version of gem <code>name</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_env_plugins-class_method" title=".load_env_plugins (class method)">.<strong>load_env_plugins</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Find all &#39;rubygems_plugin&#39; files in $LOAD_PATH and load them</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_path_insert_index-class_method" title=".load_path_insert_index (class method)">.<strong>load_path_insert_index</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The index to insert activated gem paths into the $LOAD_PATH.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_plugin_files-class_method" title=".load_plugin_files (class method)">.<strong>load_plugin_files</strong>(plugins)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Load <code>plugins</code> as Ruby files</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_plugins-class_method" title=".load_plugins (class method)">.<strong>load_plugins</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Find the &#39;rubygems_plugin&#39; files in the latest installed gems and
load them</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_yaml-class_method" title=".load_yaml (class method)">.<strong>load_yaml</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Loads YAML, preferring Psych</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#location_of_caller-class_method" title=".location_of_caller (class method)">.<strong>location_of_caller</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The file name and line number of the caller of the caller of this method.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#marshal_version-class_method" title=".marshal_version (class method)">.<strong>marshal_version</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The version of the Marshal format for your Ruby.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#needs-class_method" title=".needs (class method)">.<strong>needs</strong> {|rs| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path-class_method" title=".path (class method)">.<strong>path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path_separator-class_method" title=".path_separator (class method)">.<strong>path_separator</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>How String Gem paths should be split.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#paths-class_method" title=".paths (class method)">.<strong>paths</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Retrieve the PathSupport object that RubyGems uses to lookup files.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#paths%3D-class_method" title=".paths= (class method)">.<strong>paths=</strong>(env)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Initialize the filesystem paths to use from <code>env</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#platform_defaults-class_method" title=".platform_defaults (class method)">.<strong>platform_defaults</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Default options for gem commands.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#platforms-class_method" title=".platforms (class method)">.<strong>platforms</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Array of platforms this RubyGems supports.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#platforms%3D-class_method" title=".platforms= (class method)">.<strong>platforms=</strong>(platforms)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Set array of platforms this RubyGems supports (primarily for testing).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_build-class_method" title=".post_build (class method)">.<strong>post_build</strong>(&amp;hook)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds a post-build hook that will be passed an <a href="Gem/Installer.html" title="Gem::Installer (class)">Installer</a> instance
when <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Installer#install</a> is called.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_install-class_method" title=".post_install (class method)">.<strong>post_install</strong>(&amp;hook)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds a post-install hook that will be passed an <a href="Gem/Installer.html" title="Gem::Installer (class)">Installer</a> instance
when <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Installer#install</a> is called</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_reset-class_method" title=".post_reset (class method)">.<strong>post_reset</strong>(&amp;hook)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds a hook that will get run after <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>.reset is run.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#post_uninstall-class_method" title=".post_uninstall (class method)">.<strong>post_uninstall</strong>(&amp;hook)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds a post-uninstall hook that will be passed a <a href="Gem/Uninstaller.html" title="Gem::Uninstaller (class)">Uninstaller</a>
instance and the spec that was uninstalled when
<a href="Gem/Uninstaller.html#uninstall-instance_method" title="Gem::Uninstaller#uninstall (method)">Uninstaller#uninstall</a> is called</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pre_install-class_method" title=".pre_install (class method)">.<strong>pre_install</strong>(&amp;hook)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds a pre-install hook that will be passed an <a href="Gem/Installer.html" title="Gem::Installer (class)">Installer</a> instance
when <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Installer#install</a> is called.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pre_reset-class_method" title=".pre_reset (class method)">.<strong>pre_reset</strong>(&amp;hook)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds a hook that will get run before <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>.reset is run.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pre_uninstall-class_method" title=".pre_uninstall (class method)">.<strong>pre_uninstall</strong>(&amp;hook)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds a pre-uninstall hook that will be passed an <a href="Gem/Uninstaller.html" title="Gem::Uninstaller (class)">Uninstaller</a>
instance and the spec that will be uninstalled when
<a href="Gem/Uninstaller.html#uninstall-instance_method" title="Gem::Uninstaller#uninstall (method)">Uninstaller#uninstall</a> is called</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#prefix-class_method" title=".prefix (class method)">.<strong>prefix</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The directory prefix this RubyGems was installed at.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#read_binary-class_method" title=".read_binary (class method)">.<strong>read_binary</strong>(path)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Safely read a file in binary mode on all platforms.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#refresh-class_method" title=".refresh (class method)">.<strong>refresh</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Refresh available gems from disk.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#register_default_spec-class_method" title=".register_default_spec (class method)">.<strong>register_default_spec</strong>(spec)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Register a <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a> for default gem.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#remove_unresolved_default_spec-class_method" title=".remove_unresolved_default_spec (class method)">.<strong>remove_unresolved_default_spec</strong>(spec)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Remove needless <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a> of default gem from unresolved default
gem list</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ruby-class_method" title=".ruby (class method)">.<strong>ruby</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The path to the running Ruby interpreter.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ruby%3D-class_method" title=".ruby= (class method)">.<strong>ruby=</strong>(ruby)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Allows setting path to Ruby.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ruby_api_version-class_method" title=".ruby_api_version (class method)">.<strong>ruby_api_version</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a String containing the API compatibility version of Ruby</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ruby_engine-class_method" title=".ruby_engine (class method)">.<strong>ruby_engine</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A wrapper around RUBY_ENGINE const that may not be defined</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ruby_version-class_method" title=".ruby_version (class method)">.<strong>ruby_version</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A <a href="Gem/Version.html" title="Gem::Version (class)">Version</a> for the currently running Ruby.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rubygems_version-class_method" title=".rubygems_version (class method)">.<strong>rubygems_version</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A <a href="Gem/Version.html" title="Gem::Version (class)">Version</a> for the currently running RubyGems</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#searcher%3D-class_method" title=".searcher= (class method)">.<strong>searcher=</strong>(searcher)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Allows setting the gem path searcher.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sources-class_method" title=".sources (class method)">.<strong>sources</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns an Array of sources to fetch remote gems from.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#sources%3D-class_method" title=".sources= (class method)">.<strong>sources=</strong>(new_sources)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Need to be able to set the sources without calling <a href="#sources-class_method" title="Gem.sources (method)">Gem.sources</a>.replace
since that would cause an infinite loop.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#spec_cache_dir-class_method" title=".spec_cache_dir (class method)">.<strong>spec_cache_dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#suffix_pattern-class_method" title=".suffix_pattern (class method)">.<strong>suffix_pattern</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Glob pattern for require-able path suffixes.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#suffixes-class_method" title=".suffixes (class method)">.<strong>suffixes</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Suffixes for require-able paths.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#time-class_method" title=".time (class method)">.<strong>time</strong>(msg, width = 0, display = Gem.configuration.verbose)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Prints the amount of time the supplied block takes to run using the debug
UI output.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#try_activate-class_method" title=".try_activate (class method)">.<strong>try_activate</strong>(path)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Try to activate a gem containing <code>path</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ui-class_method" title=".ui (class method)">.<strong>ui</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Lazily loads DefaultUserInteraction and returns the default UI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#use_gemdeps-class_method" title=".use_gemdeps (class method)">.<strong>use_gemdeps</strong>(path = nil)  </a>
        (also: .detect_gemdeps)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Looks for a gem dependency file at <code>path</code> and activates the gems
in the file if found.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#use_paths-class_method" title=".use_paths (class method)">.<strong>use_paths</strong>(home, *paths)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Use the <code>home</code> and <code>paths</code> values for <a href="#dir-class_method" title="Gem.dir (method)">Gem.dir</a> and
<a href="#path-class_method" title="Gem.path (method)">Gem.path</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#user_dir-class_method" title=".user_dir (class method)">.<strong>user_dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Path for gems in the user&#39;s home directory</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#user_home-class_method" title=".user_home (class method)">.<strong>user_home</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The home directory for the user.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#vendor_dir-class_method" title=".vendor_dir (class method)">.<strong>vendor_dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Directory where vendor gems are installed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#win_platform%3D-class_method" title=".win_platform= (class method)">.<strong>win_platform=</strong>(val)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Allows toggling Windows behavior.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#win_platform%3F-class_method" title=".win_platform? (class method)">.<strong>win_platform?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Is this a windows platform?</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#write_binary-class_method" title=".write_binary (class method)">.<strong>write_binary</strong>(path, data)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Safely write a file in binary mode on all platforms.</p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Class Attribute Details</h2>
  <section class='method_details first' id="done_installing_hooks-class_method">
  <h3 class='signature first'>
  .<strong>done_installing_hooks</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The list of hooks to be run after <a href="Gem/DependencyInstaller.html" title="Gem::DependencyInstaller (class)">DependencyInstaller</a> installs a set
of gems</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1280</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1280</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:done_installing_hooks</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gemdeps-class_method">
  <h3 class='signature'>
  .<strong>gemdeps</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>GemDependencyAPI object, which is set when <a href="#use_gemdeps-class_method" title="Gem.use_gemdeps (method)">use_gemdeps</a> is called. This
contains all the information from the Gemfile.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1204</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1204</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:gemdeps</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="loaded_specs-class_method">
  <h3 class='signature'>
  .<strong>loaded_specs</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Hash of loaded <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a> keyed by name</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1198</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1198</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:loaded_specs</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_build_hooks-class_method">
  <h3 class='signature'>
  .<strong>post_build_hooks</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The list of hooks to be run after <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Gem::Installer#install</a> extracts files
and builds extensions</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1268</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1268</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:post_build_hooks</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_install_hooks-class_method">
  <h3 class='signature'>
  .<strong>post_install_hooks</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The list of hooks to be run after <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Gem::Installer#install</a> completes
installation</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1274</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1274</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:post_install_hooks</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_reset_hooks-class_method">
  <h3 class='signature'>
  .<strong>post_reset_hooks</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The list of hooks to be run after <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>.reset is run.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1285</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1285</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:post_reset_hooks</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_uninstall_hooks-class_method">
  <h3 class='signature'>
  .<strong>post_uninstall_hooks</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The list of hooks to be run after <a href="Gem/Uninstaller.html#uninstall-instance_method" title="Gem::Uninstaller#uninstall (method)">Gem::Uninstaller#uninstall</a> completes
installation</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1291</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1291</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:post_uninstall_hooks</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pre_install_hooks-class_method">
  <h3 class='signature'>
  .<strong>pre_install_hooks</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The list of hooks to be run before <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Gem::Installer#install</a> does any work</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1296</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1296</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:pre_install_hooks</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pre_reset_hooks-class_method">
  <h3 class='signature'>
  .<strong>pre_reset_hooks</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The list of hooks to be run before <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>.reset is run.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1301</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1301</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:pre_reset_hooks</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pre_uninstall_hooks-class_method">
  <h3 class='signature'>
  .<strong>pre_uninstall_hooks</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The list of hooks to be run before <a href="Gem/Uninstaller.html#uninstall-instance_method" title="Gem::Uninstaller#uninstall (method)">Gem::Uninstaller#uninstall</a> does any
work</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1307</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1307</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:pre_uninstall_hooks</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="activate_bin_path-class_method">
  <h3 class='signature first'>
  .<strong>activate_bin_path</strong>(name, exec_name, requirement)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Find the full path to the executable for gem <code>name</code>.  If the
<code>exec_name</code> is not given, the gem&#39;s default_executable is
chosen, otherwise the specified executable&#39;s path is returned. 
<code>requirements</code> allows you to specify specific gem versions.</p>

<p>A side effect of this method is that it will activate the gem that contains
the executable.</p>

<p>This method should <strong>only</strong> be used in bin stub files.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


297
298
299
300
301</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 297</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_activate_bin_path'>activate_bin_path</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_exec_name'>exec_name</span><span class='comma'>,</span> <span class='id identifier rubyid_requirement'>requirement</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='id identifier rubyid_find_spec_for_exe'>find_spec_for_exe</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_exec_name'>exec_name</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_requirement'>requirement</span><span class='rbracket'>]</span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>LOADED_SPECS_MUTEX</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_activate'>activate</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_bin_file'>bin_file</span> <span class='id identifier rubyid_exec_name'>exec_name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="bin_path-class_method">
  <h3 class='signature'>
  .<strong>bin_path</strong>(name, exec_name = nil, *requirements)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Find the full path to the executable for gem <code>name</code>.  If the
<code>exec_name</code> is not given, the gem&#39;s default_executable is
chosen, otherwise the specified executable&#39;s path is returned. 
<code>requirements</code> allows you to specify specific gem versions.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt>ArgumentError</tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


249
250
251
252
253
254
255
256
257
258
259</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 249</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_bin_path'>bin_path</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_exec_name'>exec_name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_requirements'>requirements</span><span class='rparen'>)</span>
  <span class='comment'># TODO: fails test_self_bin_path_bin_file_gone_in_latest
</span>  <span class='comment'># Gem::Specification.find_by_name(name, *requirements).bin_file exec_name
</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>you must supply exec_name</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_exec_name'>exec_name</span>

  <span class='id identifier rubyid_requirements'>requirements</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Requirement</span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span> <span class='kw'>if</span>
    <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_find_spec_for_exe'>find_spec_for_exe</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_exec_name'>exec_name</span><span class='comma'>,</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_bin_file'>bin_file</span> <span class='id identifier rubyid_exec_name'>exec_name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="binary_mode-class_method">
  <h3 class='signature'>
  .<strong>binary_mode</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The mode needed to read a file as straight binary.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


306
307
308</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 306</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_binary_mode'>binary_mode</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="bindir-class_method">
  <h3 class='signature'>
  .<strong>bindir</strong>(install_dir = Gem.dir)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The path where gem executables are to be installed.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


313
314
315
316
317</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 313</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_bindir'>bindir</span><span class='lparen'>(</span><span class='id identifier rubyid_install_dir'>install_dir</span><span class='op'>=</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_install_dir'>install_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bin</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span>
    <span class='id identifier rubyid_install_dir'>install_dir</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_default_dir'>default_dir</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_default_bindir'>default_bindir</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="clear_default_specs-class_method">
  <h3 class='signature'>
  .<strong>clear_default_specs</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Clear default gem related variables. It is for test</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1260
1261
1262</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1260</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_default_specs'>clear_default_specs</span>
  <span class='ivar'>@path_to_default_spec_map</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="clear_paths-class_method">
  <h3 class='signature'>
  .<strong>clear_paths</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Reset the <code>dir</code> and <code>path</code> values.  The next time
<code>dir</code> or <code>path</code> is requested, the values will be
calculated from scratch.  This is mainly used by the unit tests to provide
test isolation.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


324
325
326
327
328
329</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 324</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_clear_paths'>clear_paths</span>
  <span class='ivar'>@paths</span>         <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@user_home</span>     <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Security</span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span> <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>Gem</span><span class='op'>::</span><span class='const'>Security</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="config_file-class_method">
  <h3 class='signature'>
  .<strong>config_file</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The path to standard location of the user&#39;s gemrc file.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


334
335
336</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 334</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_config_file'>config_file</span>
  <span class='ivar'>@config_file</span> <span class='op'>||=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_user_home'>user_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.gemrc</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="configuration-class_method">
  <h3 class='signature'>
  .<strong>configuration</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The standard configuration object for gems.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


341
342
343</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 341</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span>
  <span class='ivar'>@configuration</span> <span class='op'>||=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>ConfigFile</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="configuration=-class_method">
  <h3 class='signature'>
  .<strong>configuration=</strong>(config)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Use the given configuration object (which implements the ConfigFile
protocol) as the standard configuration object.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


349
350
351</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 349</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_configuration='>configuration=</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span>
  <span class='ivar'>@configuration</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="datadir-class_method">
  <h3 class='signature'>
  .<strong>datadir</strong>(gem_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The path to the data directory specified by the gem name.  If the package
is not available as a gem, return nil.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


357
358
359
360
361
362</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 357</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_datadir'>datadir</span><span class='lparen'>(</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='rparen'>)</span>
<span class='comment'># TODO: deprecate
</span>  <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='ivar'>@loaded_specs</span><span class='lbracket'>[</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_datadir'>datadir</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_bindir-class_method">
  <h3 class='signature'>
  .<strong>default_bindir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The default directory for binaries</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


117
118
119
120
121
122
123</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 117</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_bindir'>default_bindir</span>
  <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='const'>RUBY_FRAMEWORK_VERSION</span> <span class='kw'>then</span> <span class='comment'># mac framework support
</span>    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/usr/bin</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span> <span class='comment'># generic install
</span>    <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bindir</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_cert_path-class_method">
  <h3 class='signature'>
  .<strong>default_cert_path</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The default signing certificate chain path</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


146
147
148</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 146</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_cert_path'>default_cert_path</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_user_home'>user_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.gem</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gem-public_cert.pem</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_dir-class_method">
  <h3 class='signature'>
  .<strong>default_dir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Default home directory path to be used if an alternate value is not
specified in the environment</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 30</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_dir'>default_dir</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='const'>RUBY_FRAMEWORK_VERSION</span> <span class='kw'>then</span>
           <span class='lbracket'>[</span>
             <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sitedir</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Gems</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
             <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
           <span class='rbracket'>]</span>
         <span class='kw'>elsif</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubylibprefix</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>then</span>
           <span class='lbracket'>[</span>
            <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubylibprefix</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>gems</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
            <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
           <span class='rbracket'>]</span>
         <span class='kw'>else</span>
           <span class='lbracket'>[</span>
             <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>libdir</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
             <span class='id identifier rubyid_ruby_engine'>ruby_engine</span><span class='comma'>,</span>
             <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>gems</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
             <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
           <span class='rbracket'>]</span>
         <span class='kw'>end</span>

  <span class='ivar'>@default_dir</span> <span class='op'>||=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_exec_format-class_method">
  <h3 class='signature'>
  .<strong>default_exec_format</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Deduce Ruby&#39;s –program-prefix and –program-suffix from its install name</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


103
104
105
106
107
108
109
110
111
112</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 103</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_exec_format'>default_exec_format</span>
  <span class='id identifier rubyid_exec_format'>exec_format</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_install_name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_exec_format'>exec_format</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%s</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Exception</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[BUG] invalid exec_format </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_exec_format'>exec_format</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>, no %s</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_exec_format'>exec_format</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_ext_dir_for-class_method">
  <h3 class='signature'>
  .<strong>default_ext_dir_for</strong>(base_dir)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns binary extensions dir for specified RubyGems base dir or nil if
such directory cannot be determined.</p>

<p>By default, the binary extensions are located side by side with their Ruby
counterparts, therefore nil is returned</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


62
63
64</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 62</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_ext_dir_for'>default_ext_dir_for</span> <span class='id identifier rubyid_base_dir'>base_dir</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_gems_use_full_paths?-class_method">
  <h3 class='signature'>
  .<strong>default_gems_use_full_paths?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Whether to expect full paths in default gems - true for non-MRI ruby
implementations</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


153
154
155</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 153</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_gems_use_full_paths?'>default_gems_use_full_paths?</span>
  <span class='id identifier rubyid_ruby_engine'>ruby_engine</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_key_path-class_method">
  <h3 class='signature'>
  .<strong>default_key_path</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The default signing key path</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


139
140
141</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 139</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_key_path'>default_key_path</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_user_home'>user_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.gem</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gem-private_key.pem</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_path-class_method">
  <h3 class='signature'>
  .<strong>default_path</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Default gem load path</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


92
93
94
95
96
97
98</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 92</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_path'>default_path</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_user_dir'>user_dir</span> <span class='kw'>if</span> <span class='id identifier rubyid_user_home'>user_home</span> <span class='op'>&amp;&amp;</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_user_home'>user_home</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_default_dir'>default_dir</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_vendor_dir'>vendor_dir</span> <span class='kw'>if</span> <span class='id identifier rubyid_vendor_dir'>vendor_dir</span> <span class='kw'>and</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span> <span class='id identifier rubyid_vendor_dir'>vendor_dir</span>
  <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_rubygems_dirs-class_method">
  <h3 class='signature'>
  .<strong>default_rubygems_dirs</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Paths where RubyGems&#39; rb files and bin files are installed</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


69
70
71</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 69</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_rubygems_dirs'>default_rubygems_dirs</span>
  <span class='kw'>nil</span> <span class='comment'># default to standard layout
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_sources-class_method">
  <h3 class='signature'>
  .<strong>default_sources</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>An Array of the default sources that come with RubyGems</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


14
15
16</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 14</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_sources'>default_sources</span>
  <span class='qwords_beg'>%w[</span><span class='tstring_content'>https://rubygems.org/</span><span class='words_sep'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_spec_cache_dir-class_method">
  <h3 class='signature'>
  .<strong>default_spec_cache_dir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Default spec directory path to be used if an alternate value is not
specified in the environment</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


22
23
24</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 22</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_spec_cache_dir'>default_spec_cache_dir</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_user_home'>user_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.gem</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>specs</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="deflate-class_method">
  <h3 class='signature'>
  .<strong>deflate</strong>(data)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A <code>Zlib::Deflate</code>.deflate wrapper</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


367
368
369
370</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 367</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_deflate'>deflate</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zlib</span><span class='tstring_end'>&#39;</span></span>
  <span class='const'>Zlib</span><span class='op'>::</span><span class='const'>Deflate</span><span class='period'>.</span><span class='id identifier rubyid_deflate'>deflate</span> <span class='id identifier rubyid_data'>data</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="detect_gemdeps-class_method">
  <h3 class='signature'>
  .<strong>detect_gemdeps</strong>(path = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#use_gemdeps-class_method" title="Gem.use_gemdeps (method)">use_gemdeps</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="dir-class_method">
  <h3 class='signature'>
  .<strong>dir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The path where gems are to be installed.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


417
418
419</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 417</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span>
  <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_home'>home</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="done_installing-class_method">
  <h3 class='signature'>
  .<strong>done_installing</strong>(&amp;hook)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds a post-installs hook that will be passed a <a href="Gem/DependencyInstaller.html" title="Gem::DependencyInstaller (class)">DependencyInstaller</a>
and a list of installed specifications when
<a href="Gem/DependencyInstaller.html#install-instance_method" title="Gem::DependencyInstaller#install (method)">Gem::DependencyInstaller#install</a> is complete</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


775
776
777</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 775</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_done_installing'>done_installing</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_hook'>hook</span><span class='rparen'>)</span>
  <span class='ivar'>@done_installing_hooks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_hook'>hook</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ensure_default_gem_subdirectories-class_method">
  <h3 class='signature'>
  .<strong>ensure_default_gem_subdirectories</strong>(dir = Gem.dir, mode = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Quietly ensure the Gem directory <code>dir</code> contains all the proper
subdirectories for handling default gems.  If we can&#39;t create a
directory due to a permission problem, then we will silently continue.</p>

<p>If <code>mode</code> is given, missing directories are created with this
mode.</p>

<p>World-writable directories will never be created.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


451
452
453</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 451</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ensure_default_gem_subdirectories'>ensure_default_gem_subdirectories</span> <span class='id identifier rubyid_dir'>dir</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_ensure_subdirectories'>ensure_subdirectories</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span><span class='comma'>,</span> <span class='const'>REPOSITORY_DEFAULT_GEM_SUBDIRECTORIES</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ensure_gem_subdirectories-class_method">
  <h3 class='signature'>
  .<strong>ensure_gem_subdirectories</strong>(dir = Gem.dir, mode = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Quietly ensure the Gem directory <code>dir</code> contains all the proper
subdirectories.  If we can&#39;t create a directory due to a permission
problem, then we will silently continue.</p>

<p>If <code>mode</code> is given, missing directories are created with this
mode.</p>

<p>World-writable directories will never be created.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


438
439
440</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 438</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ensure_gem_subdirectories'>ensure_gem_subdirectories</span> <span class='id identifier rubyid_dir'>dir</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_ensure_subdirectories'>ensure_subdirectories</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span><span class='comma'>,</span> <span class='const'>REPOSITORY_SUBDIRECTORIES</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="env_requirement-class_method">
  <h3 class='signature'>
  .<strong>env_requirement</strong>(gem_name)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


907
908
909
910
911
912
913</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 907</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_env_requirement'>env_requirement</span><span class='lparen'>(</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='rparen'>)</span>
  <span class='ivar'>@env_requirements_by_name</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@env_requirements_by_name</span><span class='lbracket'>[</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_req'>req</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_REQUIREMENT_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;= 0</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
    <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Requirement</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extension_api_version-class_method">
  <h3 class='signature'>
  .<strong>extension_api_version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The extension API version of ruby.  This includes the static vs non-static
distinction as extensions cannot be shared between the two.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


478
479
480
481
482
483
484</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 478</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_extension_api_version'>extension_api_version</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ENABLE_SHARED</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>then</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby_api_version'>ruby_api_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>-static</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ruby_api_version'>ruby_api_version</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_files-class_method">
  <h3 class='signature'>
  .<strong>find_files</strong>(glob, check_load_path = true)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a list of paths matching <code>glob</code> that can be used by a
gem to pick up features from other gems.  For example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_find_files'>find_files</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rdoc/discover</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span> <span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>end</span>
</code></pre>

<p>if <code>check_load_path</code> is true (the default), then find_files also
searches $LOAD_PATH for files as well as gems.</p>

<p>Note that find_files will return all files even if they are from different
versions of the same gem.  See also find_latest_files</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 498</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_files'>find_files</span><span class='lparen'>(</span><span class='id identifier rubyid_glob'>glob</span><span class='comma'>,</span> <span class='id identifier rubyid_check_load_path'>check_load_path</span><span class='op'>=</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_find_files_from_load_path'>find_files_from_load_path</span> <span class='id identifier rubyid_glob'>glob</span> <span class='kw'>if</span> <span class='id identifier rubyid_check_load_path'>check_load_path</span>

  <span class='id identifier rubyid_gem_specifications'>gem_specifications</span> <span class='op'>=</span> <span class='ivar'>@gemdeps</span> <span class='op'>?</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_loaded_specs'>loaded_specs</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span> <span class='op'>:</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_stubs'>stubs</span>

  <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_gem_specifications'>gem_specifications</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
    <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_matches_for_glob'>matches_for_glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_glob'>glob</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_suffix_pattern'>suffix_pattern</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>

  <span class='comment'># $LOAD_PATH might contain duplicate entries or reference
</span>  <span class='comment'># the spec dirs directly, so we prune.
</span>  <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span> <span class='kw'>if</span> <span class='id identifier rubyid_check_load_path'>check_load_path</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_files'>files</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_home-class_method">
  <h3 class='signature'>
  .<strong>find_home</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finds the user&#39;s home directory.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 567</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_home'>find_home</span>
  <span class='id identifier rubyid_windows'>windows</span> <span class='op'>=</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>ALT_SEPARATOR</span>
  <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_windows'>windows</span> <span class='kw'>or</span> <span class='const'>RUBY_VERSION</span> <span class='op'>&gt;=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.9</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>USERPROFILE</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
      <span class='kw'>return</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOMEDRIVE</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOMEPATH</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>then</span>
      <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOMEDRIVE</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOMEPATH</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_windows'>windows</span> <span class='kw'>then</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOMEDRIVE</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SystemDrive</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_latest_files-class_method">
  <h3 class='signature'>
  .<strong>find_latest_files</strong>(glob, check_load_path = true)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a list of paths matching <code>glob</code> from the latest gems
that can be used by a gem to pick up features from other gems.  For
example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_find_latest_files'>find_latest_files</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rdoc/discover</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span> <span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>end</span>
</code></pre>

<p>if <code>check_load_path</code> is true (the default), then
find_latest_files also searches $LOAD_PATH for files as well as gems.</p>

<p>Unlike find_files, find_latest_files will return only files from the latest
version of a gem.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


534
535
536
537
538
539
540
541
542
543
544
545
546
547
548</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 534</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_latest_files'>find_latest_files</span><span class='lparen'>(</span><span class='id identifier rubyid_glob'>glob</span><span class='comma'>,</span> <span class='id identifier rubyid_check_load_path'>check_load_path</span><span class='op'>=</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_find_files_from_load_path'>find_files_from_load_path</span> <span class='id identifier rubyid_glob'>glob</span> <span class='kw'>if</span> <span class='id identifier rubyid_check_load_path'>check_load_path</span>

  <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_latest_specs'>latest_specs</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
    <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_matches_for_glob'>matches_for_glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_glob'>glob</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_suffix_pattern'>suffix_pattern</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>

  <span class='comment'># $LOAD_PATH might contain duplicate entries or reference
</span>  <span class='comment'># the spec dirs directly, so we prune.
</span>  <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span> <span class='kw'>if</span> <span class='id identifier rubyid_check_load_path'>check_load_path</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_files'>files</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_spec_for_exe-class_method">
  <h3 class='signature'>
  .<strong>find_spec_for_exe</strong>(name, exec_name, requirements)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt><a href="Gem/GemNotFoundException.html" title="Gem::GemNotFoundException (class)">Gem::GemNotFoundException</a></tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 261</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_spec_for_exe'>find_spec_for_exe</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_exec_name'>exec_name</span><span class='comma'>,</span> <span class='id identifier rubyid_requirements'>requirements</span>
  <span class='id identifier rubyid_dep'>dep</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Dependency</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_requirements'>requirements</span>

  <span class='id identifier rubyid_loaded'>loaded</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_loaded_specs'>loaded_specs</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_loaded'>loaded</span> <span class='kw'>if</span> <span class='id identifier rubyid_loaded'>loaded</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_matches_spec?'>matches_spec?</span><span class='lparen'>(</span><span class='id identifier rubyid_loaded'>loaded</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_matching_specs'>matching_specs</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>GemNotFoundException</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t find gem </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dep'>dep</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>|</span>
    <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_executables'>executables</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_exec_name'>exec_name</span>
  <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_exec_name'>exec_name</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='id identifier rubyid_specs'>specs</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t find gem </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_requirements'>requirements</span><span class='embexpr_end'>}</span><span class='tstring_content'>) with executable </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_exec_name'>exec_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>GemNotFoundException</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_spec'>spec</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_unresolved_default_spec-class_method">
  <h3 class='signature'>
  .<strong>find_unresolved_default_spec</strong>(path)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Find a <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a> of default gem from <code>path</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1239
1240
1241
1242
1243
1244
1245</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1239</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_unresolved_default_spec'>find_unresolved_default_spec</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_suffixes'>suffixes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_suffix'>suffix</span><span class='op'>|</span>
    <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='ivar'>@path_to_default_spec_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suffix'>suffix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_spec'>spec</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="finish_resolve-class_method">
  <h3 class='signature'>
  .<strong>finish_resolve</strong>(request_set = Gem::RequestSet.new)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


235
236
237
238
239
240
241</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 235</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_finish_resolve'>finish_resolve</span><span class='lparen'>(</span><span class='id identifier rubyid_request_set'>request_set</span><span class='op'>=</span><span class='const'>Gem</span><span class='op'>::</span><span class='const'>RequestSet</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_request_set'>request_set</span><span class='period'>.</span><span class='id identifier rubyid_import'>import</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_unresolved_deps'>unresolved_deps</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span>

  <span class='id identifier rubyid_request_set'>request_set</span><span class='period'>.</span><span class='id identifier rubyid_resolve_current'>resolve_current</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
    <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_full_spec'>full_spec</span><span class='period'>.</span><span class='id identifier rubyid_activate'>activate</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gunzip-class_method">
  <h3 class='signature'>
  .<strong>gunzip</strong>(data)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p><code>Zlib::GzipReader</code> wrapper that unzips <code>data</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


595
596
597
598</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 595</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gunzip'>gunzip</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems/util</span><span class='tstring_end'>&#39;</span></span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Util</span><span class='period'>.</span><span class='id identifier rubyid_gunzip'>gunzip</span> <span class='id identifier rubyid_data'>data</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gzip-class_method">
  <h3 class='signature'>
  .<strong>gzip</strong>(data)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p><code>Zlib::GzipWriter</code> wrapper that zips <code>data</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


603
604
605
606</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 603</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gzip'>gzip</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems/util</span><span class='tstring_end'>&#39;</span></span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Util</span><span class='period'>.</span><span class='id identifier rubyid_gzip'>gzip</span> <span class='id identifier rubyid_data'>data</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="host-class_method">
  <h3 class='signature'>
  .<strong>host</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the default RubyGems API host. This is normally
<code>https://rubygems.org</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


635
636
637
638</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 635</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>
  <span class='comment'># TODO: move to utils
</span>  <span class='ivar'>@host</span> <span class='op'>||=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>DEFAULT_HOST</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="host=-class_method">
  <h3 class='signature'>
  .<strong>host=</strong>(host)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the default RubyGems API host.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


642
643
644
645</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 642</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host='>host=</span> <span class='id identifier rubyid_host'>host</span>
  <span class='comment'># TODO: move to utils
</span>  <span class='ivar'>@host</span> <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inflate-class_method">
  <h3 class='signature'>
  .<strong>inflate</strong>(data)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A <code>Zlib::Inflate#inflate</code> wrapper</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


611
612
613
614</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 611</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inflate'>inflate</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems/util</span><span class='tstring_end'>&#39;</span></span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Util</span><span class='period'>.</span><span class='id identifier rubyid_inflate'>inflate</span> <span class='id identifier rubyid_data'>data</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="install-class_method">
  <h3 class='signature'>
  .<strong>install</strong>(name, version = Gem::Requirement.default, *options)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Top level install helper method. Allows you to install gems interactively:</p>

<pre class="code ruby"><code class="ruby">% irb
&gt;&gt; Gem.install &quot;minitest&quot;
Fetching: minitest-3.0.1.gem (100%)
#=&gt; [#&lt;Gem::Specification:0x1013b4528 @name=&quot;minitest&quot;, ...&gt;]</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


624
625
626
627
628
629</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 624</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Requirement</span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rubygems/dependency_installer</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_inst'>inst</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>DependencyInstaller</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_inst'>inst</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span>
  <span class='id identifier rubyid_inst'>inst</span><span class='period'>.</span><span class='id identifier rubyid_installed_gems'>installed_gems</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="install_extension_in_lib-class_method">
  <h3 class='signature'>
  .<strong>install_extension_in_lib</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Install extensions into lib as well as into the extension directory.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


160
161
162</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 160</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_install_extension_in_lib'>install_extension_in_lib</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="latest_rubygems_version-class_method">
  <h3 class='signature'>
  .<strong>latest_rubygems_version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the latest release version of RubyGems.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


932
933
934
935</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 932</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_latest_rubygems_version'>latest_rubygems_version</span>
  <span class='id identifier rubyid_latest_version_for'>latest_version_for</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems-update</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>or</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t find &#39;rubygems-update&#39; in any repo. Check `gem source list`.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="latest_spec_for-class_method">
  <h3 class='signature'>
  .<strong>latest_spec_for</strong>(name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the latest release-version specification for the gem
<code>name</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


919
920
921
922
923
924
925
926
927</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 919</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_latest_spec_for'>latest_spec_for</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_dependency'>dependency</span>   <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Dependency</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_fetcher'>fetcher</span>      <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>SpecFetcher</span><span class='period'>.</span><span class='id identifier rubyid_fetcher'>fetcher</span>
  <span class='id identifier rubyid_spec_tuples'>spec_tuples</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_fetcher'>fetcher</span><span class='period'>.</span><span class='id identifier rubyid_spec_for_dependency'>spec_for_dependency</span> <span class='id identifier rubyid_dependency'>dependency</span>

  <span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_spec_tuples'>spec_tuples</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

  <span class='id identifier rubyid_spec'>spec</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="latest_version_for-class_method">
  <h3 class='signature'>
  .<strong>latest_version_for</strong>(name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the version of the latest release-version of gem <code>name</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


940
941
942
943</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 940</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_latest_version_for'>latest_version_for</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='id identifier rubyid_latest_spec_for'>latest_spec_for</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_spec'>spec</span> <span class='kw'>and</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_env_plugins-class_method">
  <h3 class='signature'>
  .<strong>load_env_plugins</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Find all &#39;rubygems_plugin&#39; files in $LOAD_PATH and load them</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1105</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_load_env_plugins'>load_env_plugins</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rubygems_plugin</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_load_path'>load_path</span><span class='op'>|</span>
    <span class='id identifier rubyid_globbed'>globbed</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_load_path'>load_path</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_suffix_pattern'>suffix_pattern</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_globbed'>globbed</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_load_path_file'>load_path_file</span><span class='op'>|</span>
      <span class='id identifier rubyid_files'>files</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_load_path_file'>load_path_file</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span><span class='lparen'>(</span><span class='id identifier rubyid_load_path_file'>load_path_file</span><span class='period'>.</span><span class='id identifier rubyid_untaint'>untaint</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_load_plugin_files'>load_plugin_files</span> <span class='id identifier rubyid_files'>files</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_path_insert_index-class_method">
  <h3 class='signature'>
  .<strong>load_path_insert_index</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The index to insert activated gem paths into the $LOAD_PATH. The activated
gem&#39;s paths are inserted before site lib directory by default.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


651
652
653
654
655
656
657
658
659</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 651</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_load_path_insert_index'>load_path_insert_index</span>
  <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_defined?'>instance_variable_defined?</span><span class='lparen'>(</span><span class='symbol'>:@gem_prelude_index</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sitelibdir</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_index'>index</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_plugin_files-class_method">
  <h3 class='signature'>
  .<strong>load_plugin_files</strong>(plugins)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Load <code>plugins</code> as Ruby files</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1072</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_load_plugin_files'>load_plugin_files</span> <span class='id identifier rubyid_plugins'>plugins</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_plugins'>plugins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_plugin'>plugin</span><span class='op'>|</span>

    <span class='comment'># Skip older versions of the GemCutter plugin: Its commands are in
</span>    <span class='comment'># RubyGems proper now.
</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_plugin'>plugin</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>gemcutter-0\.[0-3]</span><span class='regexp_end'>/</span></span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_plugin'>plugin</span>
    <span class='kw'>rescue</span> <span class='op'>::</span><span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_details'>details</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_plugin'>plugin</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error loading RubyGems plugin </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_details'>details</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_plugins-class_method">
  <h3 class='signature'>
  .<strong>load_plugins</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Find the &#39;rubygems_plugin&#39; files in the latest installed gems and
load them</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1093
1094
1095
1096
1097
1098
1099
1100</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1093</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_load_plugins'>load_plugins</span>
  <span class='comment'># Remove this env var by at least 3.0
</span>  <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RUBYGEMS_LOAD_ALL_PLUGINS</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_load_plugin_files'>load_plugin_files</span> <span class='id identifier rubyid_find_files'>find_files</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems_plugin</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_load_plugin_files'>load_plugin_files</span> <span class='id identifier rubyid_find_latest_files'>find_latest_files</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems_plugin</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_yaml-class_method">
  <h3 class='signature'>
  .<strong>load_yaml</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Loads YAML, preferring Psych</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 666</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_load_yaml'>load_yaml</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@yaml_loaded</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_gem'>gem</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_test_syck'>test_syck</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>TEST_SYCK</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>

  <span class='comment'># Only Ruby 1.8 and 1.9 have syck
</span>  <span class='id identifier rubyid_test_syck'>test_syck</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^1\.</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='const'>RUBY_VERSION</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_test_syck'>test_syck</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>psych</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;= 1.2.1</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>rescue</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>LoadError</span>
      <span class='comment'># It&#39;s OK if the user does not have the psych gem installed.  We will
</span>      <span class='comment'># attempt to require the stdlib version
</span>    <span class='kw'>end</span>

    <span class='kw'>begin</span>
      <span class='comment'># Try requiring the gem version *or* stdlib version of psych.
</span>      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>psych</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>rescue</span> <span class='op'>::</span><span class='const'>LoadError</span>
      <span class='comment'># If we can&#39;t load psych, thats fine, go on.
</span>    <span class='kw'>else</span>
      <span class='comment'># If &#39;yaml&#39; has already been required, then we have to
</span>      <span class='comment'># be sure to switch it over to the newly loaded psych.
</span>      <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>YAML</span><span class='op'>::</span><span class='const'>ENGINE</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='const'>YAML</span><span class='op'>::</span><span class='const'>ENGINE</span><span class='period'>.</span><span class='id identifier rubyid_yamler'>yamler</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>psych</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'>YAML</span><span class='op'>::</span><span class='const'>ENGINE</span><span class='period'>.</span><span class='id identifier rubyid_yamler'>yamler</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>psych</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems/psych_additions</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems/psych_tree</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>yaml</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># If we&#39;re supposed to be using syck, then we may have to force
</span>  <span class='comment'># activate it via the YAML::ENGINE API.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_test_syck'>test_syck</span> <span class='kw'>and</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>YAML</span><span class='op'>::</span><span class='const'>ENGINE</span><span class='rparen'>)</span>
    <span class='const'>YAML</span><span class='op'>::</span><span class='const'>ENGINE</span><span class='period'>.</span><span class='id identifier rubyid_yamler'>yamler</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>syck</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'>YAML</span><span class='op'>::</span><span class='const'>ENGINE</span><span class='period'>.</span><span class='id identifier rubyid_syck?'>syck?</span>
  <span class='kw'>end</span>

  <span class='comment'># Now that we&#39;re sure some kind of yaml library is loaded, pull
</span>  <span class='comment'># in our hack to deal with Syck&#39;s DefaultKey ugliness.
</span>  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems/syck_hack</span><span class='tstring_end'>&#39;</span></span>

  <span class='ivar'>@yaml_loaded</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="location_of_caller-class_method">
  <h3 class='signature'>
  .<strong>location_of_caller</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The file name and line number of the caller of the caller of this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


718
719
720
721
722
723
724</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 718</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location_of_caller'>location_of_caller</span>
  <span class='id identifier rubyid_caller'>caller</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.*?):(\d+).*?$</span><span class='regexp_end'>/i</span></span>
  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='backref'>$1</span>
  <span class='id identifier rubyid_lineno'>lineno</span> <span class='op'>=</span> <span class='backref'>$2</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>

  <span class='lbracket'>[</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_lineno'>lineno</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="marshal_version-class_method">
  <h3 class='signature'>
  .<strong>marshal_version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The version of the Marshal format for your Ruby.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


729
730
731</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 729</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_marshal_version'>marshal_version</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Marshal</span><span class='op'>::</span><span class='const'>MAJOR_VERSION</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='const'>Marshal</span><span class='op'>::</span><span class='const'>MINOR_VERSION</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="needs-class_method">
  <h3 class='signature'>
  .<strong>needs</strong> {|rs| ... } 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>rs</tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


227
228
229
230
231
232
233</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 227</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_needs'>needs</span>
  <span class='id identifier rubyid_rs'>rs</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>RequestSet</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='kw'>yield</span> <span class='id identifier rubyid_rs'>rs</span>

  <span class='id identifier rubyid_finish_resolve'>finish_resolve</span> <span class='id identifier rubyid_rs'>rs</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path-class_method">
  <h3 class='signature'>
  .<strong>path</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


421
422
423</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 421</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path_separator-class_method">
  <h3 class='signature'>
  .<strong>path_separator</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>How String Gem paths should be split.  Overridable for esoteric platforms.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


85
86
87</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 85</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_separator'>path_separator</span>
  <span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="paths-class_method">
  <h3 class='signature'>
  .<strong>paths</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Retrieve the PathSupport object that RubyGems uses to lookup files.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


375
376
377</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 375</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_paths'>paths</span>
  <span class='ivar'>@paths</span> <span class='op'>||=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>PathSupport</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>ENV</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="paths=-class_method">
  <h3 class='signature'>
  .<strong>paths=</strong>(env)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Initialize the filesystem paths to use from <code>env</code>.
<code>env</code> is a hash-like object (typically ENV) that is queried for
&#39;GEM_HOME&#39;, &#39;GEM_PATH&#39;, and &#39;GEM_SPEC_CACHE&#39; Keys
for the <code>env</code> hash should be Strings, and values of the hash
should be Strings or <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 385</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_paths='>paths=</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_clear_paths'>clear_paths</span>
  <span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_env'>env</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_k'>k</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>GEM_HOME</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>GEM_PATH</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>GEM_SPEC_CACHE</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>case</span> <span class='id identifier rubyid_v'>v</span>
      <span class='kw'>when</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='const'>String</span>
        <span class='id identifier rubyid_target'>target</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
      <span class='kw'>when</span> <span class='const'>Array</span>
        <span class='kw'>unless</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Deprecate</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span>
          <span class='id identifier rubyid_warn'>warn</span> <span class='heredoc_beg'>&lt;&lt;-eowarn</span>
<span class='tstring_content'>Array values in the parameter to `Gem.paths=` are deprecated.
Please use a String or nil.
An Array (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env'>env</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>) was passed in from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_caller'>caller</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>          eowarn
</span>        <span class='kw'>end</span>
        <span class='id identifier rubyid_target'>target</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_target'>target</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@paths</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>PathSupport</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_dirs'>dirs</span> <span class='op'>=</span> <span class='ivar'>@paths</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="platform_defaults-class_method">
  <h3 class='signature'>
  .<strong>platform_defaults</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Default options for gem commands.</p>

<p>The options here should be structured as an array of string “gem” command
names as keys and a string of the default options as values.</p>

<p>Example:</p>

<p>def self.platform_defaults</p>

<pre class="code ruby"><code class="ruby"><span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>install</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>--no-rdoc --no-ri --env-shebang</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>update</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>--no-rdoc --no-ri --env-shebang</span><span class='tstring_end'>&#39;</span></span>
<span class='rbrace'>}</span>
</code></pre>

<p>end</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


193
194
195</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 193</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_platform_defaults'>platform_defaults</span>
  <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="platforms-class_method">
  <h3 class='signature'>
  .<strong>platforms</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Array of platforms this RubyGems supports.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


743
744
745
746
747
748
749</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 743</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_platforms'>platforms</span>
  <span class='ivar'>@platforms</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='ivar'>@platforms</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='ivar'>@platforms</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'>Gem</span><span class='op'>::</span><span class='const'>Platform</span><span class='op'>::</span><span class='const'>RUBY</span><span class='comma'>,</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Platform</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='ivar'>@platforms</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="platforms=-class_method">
  <h3 class='signature'>
  .<strong>platforms=</strong>(platforms)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set array of platforms this RubyGems supports (primarily for testing).</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


736
737
738</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 736</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_platforms='>platforms=</span><span class='lparen'>(</span><span class='id identifier rubyid_platforms'>platforms</span><span class='rparen'>)</span>
  <span class='ivar'>@platforms</span> <span class='op'>=</span> <span class='id identifier rubyid_platforms'>platforms</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_build-class_method">
  <h3 class='signature'>
  .<strong>post_build</strong>(&amp;hook)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds a post-build hook that will be passed an <a href="Gem/Installer.html" title="Gem::Installer (class)">Installer</a> instance
when <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Gem::Installer#install</a> is called.  The hook is called after the gem
has been extracted and extensions have been built but before the
executables or gemspec has been written.  If the hook returns
<code>false</code> then the gem&#39;s files will be removed and the install
will be aborted.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


758
759
760</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 758</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_post_build'>post_build</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_hook'>hook</span><span class='rparen'>)</span>
  <span class='ivar'>@post_build_hooks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_hook'>hook</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_install-class_method">
  <h3 class='signature'>
  .<strong>post_install</strong>(&amp;hook)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds a post-install hook that will be passed an <a href="Gem/Installer.html" title="Gem::Installer (class)">Installer</a> instance
when <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Gem::Installer#install</a> is called</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


766
767
768</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 766</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_post_install'>post_install</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_hook'>hook</span><span class='rparen'>)</span>
  <span class='ivar'>@post_install_hooks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_hook'>hook</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_reset-class_method">
  <h3 class='signature'>
  .<strong>post_reset</strong>(&amp;hook)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds a hook that will get run after <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>.reset is run.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


783
784
785</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 783</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_post_reset'>post_reset</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_hook'>hook</span><span class='rparen'>)</span>
  <span class='ivar'>@post_reset_hooks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_hook'>hook</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="post_uninstall-class_method">
  <h3 class='signature'>
  .<strong>post_uninstall</strong>(&amp;hook)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds a post-uninstall hook that will be passed a <a href="Gem/Uninstaller.html" title="Gem::Uninstaller (class)">Uninstaller</a>
instance and the spec that was uninstalled when
<a href="Gem/Uninstaller.html#uninstall-instance_method" title="Gem::Uninstaller#uninstall (method)">Gem::Uninstaller#uninstall</a> is called</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


792
793
794</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 792</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_post_uninstall'>post_uninstall</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_hook'>hook</span><span class='rparen'>)</span>
  <span class='ivar'>@post_uninstall_hooks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_hook'>hook</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pre_install-class_method">
  <h3 class='signature'>
  .<strong>pre_install</strong>(&amp;hook)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds a pre-install hook that will be passed an <a href="Gem/Installer.html" title="Gem::Installer (class)">Installer</a> instance
when <a href="Gem/Installer.html#install-instance_method" title="Gem::Installer#install (method)">Gem::Installer#install</a> is called.  If the hook returns
<code>false</code> then the install will be aborted.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


801
802
803</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 801</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pre_install'>pre_install</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_hook'>hook</span><span class='rparen'>)</span>
  <span class='ivar'>@pre_install_hooks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_hook'>hook</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pre_reset-class_method">
  <h3 class='signature'>
  .<strong>pre_reset</strong>(&amp;hook)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds a hook that will get run before <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a>.reset is run.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


809
810
811</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 809</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pre_reset'>pre_reset</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_hook'>hook</span><span class='rparen'>)</span>
  <span class='ivar'>@pre_reset_hooks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_hook'>hook</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pre_uninstall-class_method">
  <h3 class='signature'>
  .<strong>pre_uninstall</strong>(&amp;hook)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds a pre-uninstall hook that will be passed an <a href="Gem/Uninstaller.html" title="Gem::Uninstaller (class)">Uninstaller</a>
instance and the spec that will be uninstalled when
<a href="Gem/Uninstaller.html#uninstall-instance_method" title="Gem::Uninstaller#uninstall (method)">Gem::Uninstaller#uninstall</a> is called</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


818
819
820</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 818</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pre_uninstall'>pre_uninstall</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_hook'>hook</span><span class='rparen'>)</span>
  <span class='ivar'>@pre_uninstall_hooks</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_hook'>hook</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="prefix-class_method">
  <h3 class='signature'>
  .<strong>prefix</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The directory prefix this RubyGems was installed at. If your prefix is in a
standard location (ie, rubygems is installed where you&#39;d expect it to
be), then prefix returns nil.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


827
828
829
830
831
832
833
834
835</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 827</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_prefix'>prefix</span>
  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span> <span class='const'>RUBYGEMS_DIR</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>!=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sitelibdir</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>and</span>
     <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>!=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>libdir</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>and</span>
     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='const'>RUBYGEMS_DIR</span><span class='rparen'>)</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_prefix'>prefix</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="read_binary-class_method">
  <h3 class='signature'>
  .<strong>read_binary</strong>(path)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Safely read a file in binary mode on all platforms.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 847</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_read_binary'>read_binary</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb+</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_flock'>flock</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>LOCK_EX</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='op'>*</span><span class='const'>READ_BINARY_ERRORS</span>
  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOLCK</span> <span class='comment'># NFS
</span>  <span class='kw'>if</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_main'>main</span> <span class='op'>!=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="refresh-class_method">
  <h3 class='signature'>
  .<strong>refresh</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Refresh available gems from disk.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


840
841
842</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 840</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_refresh'>refresh</span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="register_default_spec-class_method">
  <h3 class='signature'>
  .<strong>register_default_spec</strong>(spec)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Register a <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a> for default gem.</p>

<p>Two formats for the specification are supported:</p>
<ul><li>
<p>MRI 2.0 style, where spec.files contains unprefixed require names. The
spec&#39;s filenames will be registered as-is.</p>
</li><li>
<p>New style, where spec.files contains files prefixed with paths from
spec.require_paths. The prefixes are stripped before registering the
spec&#39;s filenames. Unprefixed files are omitted.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1218</span>

<span class='kw'>def</span> <span class='id identifier rubyid_register_default_spec'>register_default_spec</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_format'>new_format</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_default_gems_use_full_paths?'>default_gems_use_full_paths?</span> <span class='op'>||</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_require_paths'>require_paths</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='id identifier rubyid_path'>path</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_format'>new_format</span>
    <span class='id identifier rubyid_prefix_group'>prefix_group</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_require_paths'>require_paths</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_prefix_pattern'>prefix_pattern</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix_group'>prefix_group</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='regexp_end'>/</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_new_format'>new_format</span>
      <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='id identifier rubyid_prefix_pattern'>prefix_pattern</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='gvar'>$~</span>
    <span class='kw'>end</span>

    <span class='ivar'>@path_to_default_spec_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_file'>file</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'>spec</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="remove_unresolved_default_spec-class_method">
  <h3 class='signature'>
  .<strong>remove_unresolved_default_spec</strong>(spec)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Remove needless <a href="Gem/Specification.html" title="Gem::Specification (class)">Specification</a> of default gem from unresolved default
gem list</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1251
1252
1253
1254
1255</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1251</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_unresolved_default_spec'>remove_unresolved_default_spec</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='ivar'>@path_to_default_spec_map</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ruby-class_method">
  <h3 class='signature'>
  .<strong>ruby</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The path to the running Ruby interpreter.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


889
890
891
892
893
894
895
896
897
898</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 889</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ruby'>ruby</span>
  <span class='kw'>if</span> <span class='ivar'>@ruby</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span>
    <span class='ivar'>@ruby</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bindir</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_install_name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EXEEXT</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='ivar'>@ruby</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ruby</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@ruby</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s</span><span class='regexp_end'>/</span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@ruby</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ruby=-class_method">
  <h3 class='signature'>
  .<strong>ruby=</strong>(ruby)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Allows setting path to Ruby.  This method is available when requiring
&#39;rubygems/test_case&#39;</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


65
66
67</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/test_case.rb', line 65</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ruby='>ruby=</span> <span class='id identifier rubyid_ruby'>ruby</span>
  <span class='ivar'>@ruby</span> <span class='op'>=</span> <span class='id identifier rubyid_ruby'>ruby</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ruby_api_version-class_method">
  <h3 class='signature'>
  .<strong>ruby_api_version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a String containing the API compatibility version of Ruby</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


903
904
905</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 903</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ruby_api_version'>ruby_api_version</span>
  <span class='ivar'>@ruby_api_version</span> <span class='op'>||=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ruby_engine-class_method">
  <h3 class='signature'>
  .<strong>ruby_engine</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A wrapper around RUBY_ENGINE const that may not be defined</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


128
129
130
131
132
133
134</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 128</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ruby_engine'>ruby_engine</span>
  <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='const'>RUBY_ENGINE</span> <span class='kw'>then</span>
    <span class='const'>RUBY_ENGINE</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ruby_version-class_method">
  <h3 class='signature'>
  .<strong>ruby_version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A <a href="Gem/Version.html" title="Gem::Version (class)">Version</a> for the currently running Ruby.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


948
949
950
951
952
953
954
955
956
957
958
959</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 948</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ruby_version'>ruby_version</span>
  <span class='kw'>return</span> <span class='ivar'>@ruby_version</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@ruby_version</span>
  <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='const'>RUBY_VERSION</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>

  <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>RUBY_PATCHLEVEL</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='const'>RUBY_PATCHLEVEL</span> <span class='op'>!=</span> <span class='op'>-</span><span class='int'>1</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_version'>version</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='const'>RUBY_PATCHLEVEL</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>RUBY_REVISION</span><span class='rparen'>)</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_version'>version</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.dev.</span><span class='embexpr_beg'>#{</span><span class='const'>RUBY_REVISION</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@ruby_version</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Version</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_version'>version</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rubygems_version-class_method">
  <h3 class='signature'>
  .<strong>rubygems_version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A <a href="Gem/Version.html" title="Gem::Version (class)">Version</a> for the currently running RubyGems</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


964
965
966
967</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 964</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_rubygems_version'>rubygems_version</span>
  <span class='kw'>return</span> <span class='ivar'>@rubygems_version</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@rubygems_version</span>
  <span class='ivar'>@rubygems_version</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Version</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>VERSION</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="searcher=-class_method">
  <h3 class='signature'>
  .<strong>searcher=</strong>(searcher)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Allows setting the gem path searcher.  This method is available when
requiring &#39;rubygems/test_case&#39;</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


49
50
51</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/test_case.rb', line 49</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_searcher='>searcher=</span><span class='lparen'>(</span><span class='id identifier rubyid_searcher'>searcher</span><span class='rparen'>)</span>
  <span class='ivar'>@searcher</span> <span class='op'>=</span> <span class='id identifier rubyid_searcher'>searcher</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sources-class_method">
  <h3 class='signature'>
  .<strong>sources</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns an Array of sources to fetch remote gems from. Uses default_sources
if the sources list is empty.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


973
974
975</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 973</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sources'>sources</span>
  <span class='ivar'>@sources</span> <span class='op'>||=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>SourceList</span><span class='period'>.</span><span class='id identifier rubyid_from'>from</span><span class='lparen'>(</span><span class='id identifier rubyid_default_sources'>default_sources</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="sources=-class_method">
  <h3 class='signature'>
  .<strong>sources=</strong>(new_sources)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Need to be able to set the sources without calling <a href="#sources-class_method" title="Gem.sources (method)">sources</a>.replace
since that would cause an infinite loop.</p>

<p>DOC: This comment is not documentation about the method itself, it&#39;s
more of a code comment about the implementation.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


984
985
986
987
988
989
990</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 984</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sources='>sources=</span> <span class='id identifier rubyid_new_sources'>new_sources</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_new_sources'>new_sources</span>
    <span class='ivar'>@sources</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='ivar'>@sources</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>SourceList</span><span class='period'>.</span><span class='id identifier rubyid_from'>from</span><span class='lparen'>(</span><span class='id identifier rubyid_new_sources'>new_sources</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="spec_cache_dir-class_method">
  <h3 class='signature'>
  .<strong>spec_cache_dir</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


425
426
427</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 425</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spec_cache_dir'>spec_cache_dir</span>
  <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_spec_cache_dir'>spec_cache_dir</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="suffix_pattern-class_method">
  <h3 class='signature'>
  .<strong>suffix_pattern</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Glob pattern for require-able path suffixes.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


995
996
997</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 995</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_suffix_pattern'>suffix_pattern</span>
  <span class='ivar'>@suffix_pattern</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suffixes'>suffixes</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="suffixes-class_method">
  <h3 class='signature'>
  .<strong>suffixes</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Suffixes for require-able paths.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1002
1003
1004
1005
1006
1007
1008
1009
1010
1011</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1002</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_suffixes'>suffixes</span>
  <span class='ivar'>@suffixes</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                 <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                 <span class='op'>*</span><span class='qwords_beg'>%w(</span><span class='tstring_content'>DLEXT</span><span class='words_sep'> </span><span class='tstring_content'>DLEXT2</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
                   <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
                   <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_val'>val</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
                   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_val'>val</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                 <span class='rbrace'>}</span>
                <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="time-class_method">
  <h3 class='signature'>
  .<strong>time</strong>(msg, width = 0, display = Gem.configuration.verbose)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Prints the amount of time the supplied block takes to run using the debug
UI output.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1017</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_time'>time</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_display'>display</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_configuration'>configuration</span><span class='period'>.</span><span class='id identifier rubyid_verbose'>verbose</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_now'>now</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>

  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>yield</span>

  <span class='id identifier rubyid_elapsed'>elapsed</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_now'>now</span>

  <span class='id identifier rubyid_ui'>ui</span><span class='period'>.</span><span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%2$*1$s: %3$3.3fs</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='op'>-</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span> <span class='id identifier rubyid_elapsed'>elapsed</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_display'>display</span>

  <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="try_activate-class_method">
  <h3 class='signature'>
  .<strong>try_activate</strong>(path)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Try to activate a gem containing <code>path</code>. Returns true if
activation succeeded or wasn&#39;t needed because it was already activated.
Returns false if it can&#39;t find the path in a gem.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 202</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_try_activate'>try_activate</span> <span class='id identifier rubyid_path'>path</span>
  <span class='comment'># finds the _latest_ version... regardless of loaded specs and their deps
</span>  <span class='comment'># if another gem had a requirement that would mean we shouldn&#39;t
</span>  <span class='comment'># activate the latest version, then either it would already be activated
</span>  <span class='comment'># or if it was ambiguous (and thus unresolved) the code in our custom
</span>  <span class='comment'># require will try to activate the more specific version.
</span>
  <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_find_by_path'>find_by_path</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_spec'>spec</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_activated?'>activated?</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_activate'>activate</span>
  <span class='kw'>rescue</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>LoadError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='comment'># this could fail due to gem dep collisions, go lax
</span>    <span class='id identifier rubyid_spec_by_name'>spec_by_name</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_find_by_name'>find_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_spec_by_name'>spec_by_name</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_spec_by_name'>spec_by_name</span><span class='period'>.</span><span class='id identifier rubyid_activate'>activate</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ui-class_method">
  <h3 class='signature'>
  .<strong>ui</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Lazily loads DefaultUserInteraction and returns the default UI.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1032
1033
1034
1035
1036</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1032</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ui'>ui</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems/user_interaction</span><span class='tstring_end'>&#39;</span></span>

  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>DefaultUserInteraction</span><span class='period'>.</span><span class='id identifier rubyid_ui'>ui</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="use_gemdeps-class_method">
  <h3 class='signature'>
  .<strong>use_gemdeps</strong>(path = nil)  
  <span class='aliases'>Also known as: <span class='names'><span>detect_gemdeps</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Looks for a gem dependency file at <code>path</code> and activates the gems
in the file if found.  If the file is not found an ArgumentError is raised.</p>

<p>If <code>path</code> is not given the RUBYGEMS_GEMDEPS environment variable
is used, but if no file is found no exception is raised.</p>

<p>If &#39;-&#39; is given for <code>path</code> RubyGems searches up from the
current working directory for gem dependency files (gem.deps.rb, Gemfile,
Isolate) and activates the gems in the first one found.</p>

<p>You can run this automatically when rubygems starts.  To enable, set the
<code>RUBYGEMS_GEMDEPS</code> environment variable to either the path of
your gem dependencies file or “-” to auto-discover in parent directories.</p>

<p>NOTE: Enabling automatic discovery on multiuser systems can lead to
execution of arbitrary code when used from directories outside your
control.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177
1178
1179
1180
1181</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1140</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_use_gemdeps'>use_gemdeps</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_raise_exception'>raise_exception</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>||=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RUBYGEMS_GEMDEPS</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rubygems/util</span><span class='tstring_end'>&#39;</span></span>

    <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Util</span><span class='period'>.</span><span class='id identifier rubyid_traverse_parents'>traverse_parents</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_directory'>directory</span><span class='op'>|</span>
      <span class='id identifier rubyid_dep_file'>dep_file</span> <span class='op'>=</span> <span class='const'>GEM_DEP_FILES</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_dep_file'>dep_file</span>

      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_directory'>directory</span><span class='comma'>,</span> <span class='id identifier rubyid_dep_file'>dep_file</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_untaint'>untaint</span>

  <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>then</span>
    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_raise_exception'>raise_exception</span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to find gem dependencies file at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_rs'>rs</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>RequestSet</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@gemdeps</span> <span class='op'>=</span> <span class='id identifier rubyid_rs'>rs</span><span class='period'>.</span><span class='id identifier rubyid_load_gemdeps'>load_gemdeps</span> <span class='id identifier rubyid_path'>path</span>

  <span class='id identifier rubyid_rs'>rs</span><span class='period'>.</span><span class='id identifier rubyid_resolve_current'>resolve_current</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
    <span class='id identifier rubyid_sp'>sp</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_full_spec'>full_spec</span>
    <span class='id identifier rubyid_sp'>sp</span><span class='period'>.</span><span class='id identifier rubyid_activate'>activate</span>
    <span class='id identifier rubyid_sp'>sp</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>LoadError</span><span class='comma'>,</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>UnsatisfiableDependencyError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_warn'>warn</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
  <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You may need to `gem install -g` to install missing gems</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="use_paths-class_method">
  <h3 class='signature'>
  .<strong>use_paths</strong>(home, *paths)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Use the <code>home</code> and <code>paths</code> values for <a href="#dir-class_method" title="Gem.dir (method)">dir</a> and
<a href="#path-class_method" title="Gem.path (method)">path</a>.  Used mainly by the unit tests to provide environment
isolation.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1042
1043
1044
1045
1046
1047
1048</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1042</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_use_paths'>use_paths</span><span class='lparen'>(</span><span class='id identifier rubyid_home'>home</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_paths'>paths</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>
  <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
  <span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_HOME</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_home'>home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_PATH</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='id identifier rubyid_home'>home</span> <span class='op'>:</span> <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_paths'>paths</span> <span class='op'>=</span> <span class='id identifier rubyid_hash'>hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="user_dir-class_method">
  <h3 class='signature'>
  .<strong>user_dir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Path for gems in the user&#39;s home directory</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


76
77
78
79
80</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 76</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_user_dir'>user_dir</span>
  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_user_home'>user_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.gem</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_ruby_engine'>ruby_engine</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>&lt;&lt;</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_parts'>parts</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="user_home-class_method">
  <h3 class='signature'>
  .<strong>user_home</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The home directory for the user.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1053
1054
1055</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1053</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_user_home'>user_home</span>
  <span class='ivar'>@user_home</span> <span class='op'>||=</span> <span class='id identifier rubyid_find_home'>find_home</span><span class='period'>.</span><span class='id identifier rubyid_untaint'>untaint</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="vendor_dir-class_method">
  <h3 class='signature'>
  .<strong>vendor_dir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Directory where vendor gems are installed.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


167
168
169
170
171
172
173
174
175
176</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/defaults.rb', line 167</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_vendor_dir'>vendor_dir</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_vendor_dir'>vendor_dir</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>GEM_VENDOR</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>then</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_vendor_dir'>vendor_dir</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>vendordir</span><span class='tstring_end'>&#39;</span></span>

  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>vendordir</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>gems</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
            <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="win_platform=-class_method">
  <h3 class='signature'>
  .<strong>win_platform=</strong>(val)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Allows toggling Windows behavior.  This method is available when requiring
&#39;rubygems/test_case&#39;</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


57
58
59</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems/test_case.rb', line 57</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_win_platform='>win_platform=</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
  <span class='cvar'>@@win_platform</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="win_platform?-class_method">
  <h3 class='signature'>
  .<strong>win_platform?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Is this a windows platform?</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1060
1061
1062
1063
1064
1065
1066
1067</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 1060</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_win_platform?'>win_platform?</span>
  <span class='kw'>if</span> <span class='cvar'>@@win_platform</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_ruby_platform'>ruby_platform</span> <span class='op'>=</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>host_os</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='cvar'>@@win_platform</span> <span class='op'>=</span> <span class='op'>!</span><span class='op'>!</span><span class='const'>WIN_PATTERNS</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_ruby_platform'>ruby_platform</span> <span class='op'>=~</span> <span class='id identifier rubyid_r'>r</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='cvar'>@@win_platform</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="write_binary-class_method">
  <h3 class='signature'>
  .<strong>write_binary</strong>(path, data)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Safely write a file in binary mode on all platforms.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'rubygems.rb', line 868</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_write_binary'>write_binary</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_flock'>flock</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>LOCK_EX</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='op'>*</span><span class='const'>WRITE_BINARY_ERRORS</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_data'>data</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOLCK</span> <span class='comment'># NFS
</span>  <span class='kw'>if</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_main'>main</span> <span class='op'>!=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
      <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_data'>data</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.3 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>