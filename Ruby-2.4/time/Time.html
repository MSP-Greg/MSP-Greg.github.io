<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Time &mdash; time Ruby-2.4.0 d2016-07-07</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Time",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.4.0</a> &raquo; 
          <a href='index.html'>time</a> &raquo; 
          <a href='_index.html'>Index (T)</a> &raquo; 
          <span class='title'>Time</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Time</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'>Object</span>
        <ul class='fullTree'>
          <li>Object</li>
            <li class='next'>Time</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>



  <dl>
    <dt>Defined in:</dt>
    <dd>time.rb</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<h2 id="label-time.rb">time.rb</h2>

<p>When &#39;time&#39; is required, Time is extended with additional methods
for parsing and converting Times.</p>

<h3 id="label-Features">Features</h3>

<p>This library extends the Time class with the following conversions between
date strings and Time objects:</p>
<ul><li>
<p>date-time defined by <a href="http://www.ietf.org/rfc/rfc2822.txt">RFC
2822</a></p>
</li><li>
<p>HTTP-date defined by <a href="http://www.ietf.org/rfc/rfc2616.txt">RFC
2616</a></p>
</li><li>
<p>dateTime defined by XML Schema Part 2: Datatypes (<a
href="http://www.iso.org/iso/date_and_time_format">ISO 8601</a>)</p>
</li><li>
<p>various formats handled by <code>Date._parse</code></p>
</li><li>
<p>custom formats handled by <code>Date._strptime</code></p>
</li></ul>

<h3 id="label-Examples">Examples</h3>

<p>All examples assume you have loaded Time with:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>time</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>All of these examples were done using the EST timezone which is GMT-5.</p>

<h4 id="label-Converting+to+a+String">Converting to a String</h4>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
<span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_iso8601'>iso8601</span>  <span class='comment'># =&gt; &quot;2011-10-05T22:26:12-04:00&quot;
</span><span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_rfc2822'>rfc2822</span>  <span class='comment'># =&gt; &quot;Wed, 05 Oct 2011 22:26:12 -0400&quot;
</span><span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_httpdate'>httpdate</span> <span class='comment'># =&gt; &quot;Thu, 06 Oct 2011 02:26:12 GMT&quot;
</span></code></pre>

<h4 id="label-7BTime.parse-7D"><a href="#parse-class_method" title="Time.parse (method)">Time.parse</a></h4>

<p><code>#parse</code> takes a string representation of a Time and attempts to parse it
using a heuristic.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2010-10-31</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; 2010-10-31 00:00:00 -0500
</span></code></pre>

<p>Any missing pieces of the date are inferred based on the current date.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># assuming the current date is &quot;2011-10-31&quot;
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>12:00</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; 2011-10-31 12:00:00 -0500
</span></code></pre>

<p>We can change the date used to infer our missing elements by passing a
second object that responds to <code>#mon</code>, <code>#day</code> and <code>#year</code>, such as Date,
Time or DateTime. We can also use our own object.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>MyDate</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:mon</span><span class='comma'>,</span> <span class='symbol'>:day</span><span class='comma'>,</span> <span class='symbol'>:year</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>
    <span class='ivar'>@mon</span><span class='comma'>,</span> <span class='ivar'>@day</span><span class='comma'>,</span> <span class='ivar'>@year</span> <span class='op'>=</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_d'>d</span>  <span class='op'>=</span> <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2010-10-28</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_t'>t</span>  <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2010-10-29</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_dt'>dt</span> <span class='op'>=</span> <span class='const'>DateTime</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2010-10-30</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_md'>md</span> <span class='op'>=</span> <span class='const'>MyDate</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>10</span><span class='comma'>,</span><span class='int'>31</span><span class='comma'>,</span><span class='int'>2010</span><span class='rparen'>)</span>

<span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>12:00</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; 2010-10-28 12:00:00 -0500
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>12:00</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; 2010-10-29 12:00:00 -0500
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>12:00</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_dt'>dt</span><span class='rparen'>)</span> <span class='comment'>#=&gt; 2010-10-30 12:00:00 -0500
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>12:00</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_md'>md</span><span class='rparen'>)</span> <span class='comment'>#=&gt; 2010-10-31 12:00:00 -0500
</span></code></pre>

<p><code>#parse</code> also accepts an optional block. You can use this block to specify
how to handle the year component of the date. This is specifically designed
for handling two digit years. For example, if you wanted to treat all two
digit years prior to 70 as the year 2000+ you could write this:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>01-10-31</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_year'>year</span><span class='op'>|</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span> <span class='op'>&lt;</span> <span class='int'>70</span> <span class='op'>?</span> <span class='int'>2000</span> <span class='op'>:</span> <span class='int'>1900</span><span class='rparen'>)</span><span class='rbrace'>}</span>
<span class='comment'>#=&gt; 2001-10-31 00:00:00 -0500
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>70-10-31</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_year'>year</span><span class='op'>|</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span> <span class='op'>&lt;</span> <span class='int'>70</span> <span class='op'>?</span> <span class='int'>2000</span> <span class='op'>:</span> <span class='int'>1900</span><span class='rparen'>)</span><span class='rbrace'>}</span>
<span class='comment'>#=&gt; 1970-10-31 00:00:00 -0500
</span></code></pre>

<h4 id="label-7BTime.strptime-7D"><a href="#strptime-class_method" title="Time.strptime (method)">Time.strptime</a></h4>

<p><code>#strptime</code> works similar to <code>parse</code> except that instead of
using a heuristic to detect the format of the input string, you provide a
second argument that describes the format of the string. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_strptime'>strptime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2000-10-31</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; 2000-10-31 00:00:00 -0500
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='CommonYearMonthDays-constant'>
      CommonYearMonthDays =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='int'>31</span><span class='comma'>,</span> <span class='int'>28</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='LeapYearMonthDays-constant'>
      LeapYearMonthDays =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='int'>31</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='MonthValue-constant'>
      MonthValue =
    </dt>
    <dd>
            <pre class='code'><span class='lbrace'>{</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>JAN</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FEB</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MAR</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>APR</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MAY</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>JUN</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>6</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>JUL</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AUG</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SEP</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>9</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>OCT</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span><span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NOV</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span><span class='int'>11</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DEC</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span><span class='int'>12</span>
<span class='rbrace'>}</span></pre>
    </dd>
    <dt id='RFC2822_DAY_NAME-constant'>
      RFC2822_DAY_NAME =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Sun</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mon</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Tue</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Wed</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Thu</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Fri</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Sat</span><span class='tstring_end'>&#39;</span></span>
<span class='rbracket'>]</span></pre>
    </dd>
    <dt id='RFC2822_MONTH_NAME-constant'>
      RFC2822_MONTH_NAME =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Jan</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Feb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Apr</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>May</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Jun</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Jul</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Aug</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Sep</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Oct</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Nov</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Dec</span><span class='tstring_end'>&#39;</span></span>
<span class='rbracket'>]</span></pre>
    </dd>
    <dt id='ZoneOffset-constant'>
      ZoneOffset =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>A hash of timezones mapped to hour differences from UTC. The set of time
zones corresponds to the ones specified by RFC 2822 and ISO 8601.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbrace'>{</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTC</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span>
  <span class='comment'># ISO 8601
</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span>
  <span class='comment'># RFC 822
</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UT</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>GMT</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EST</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EDT</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>4</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CST</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>6</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CDT</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>5</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MST</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MDT</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>6</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PST</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PDT</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>7</span><span class='comma'>,</span>
  <span class='comment'># Following definition of military zones is original one.
</span>  <span class='comment'># See RFC 1123 and RFC 2822 for the error in RFC 822.
</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>D</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+4</span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>E</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+5</span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>F</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+6</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>G</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>H</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>I</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+9</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>K</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+11</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>M</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>+12</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>N</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>O</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>P</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Q</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>4</span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>5</span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>S</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>6</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>T</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>U</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>V</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>9</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>W</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>11</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Y</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>12</span><span class='comma'>,</span>
<span class='rbrace'>}</span></pre>
    </dd>
  </dl>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#apply_offset-class_method" title=".apply_offset (class method)">.<strong>apply_offset</strong>(year, mon, day, hour, min, sec, off)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#force_zone%21-class_method" title=".force_zone! (class method)">.<strong>force_zone!</strong>(t, zone, offset = nil)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#httpdate-class_method" title=".httpdate (class method)">.<strong>httpdate</strong>(date)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <code>date</code> as an HTTP-date defined by RFC 2616 and converts
it to a Time object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#iso8601-class_method" title=".iso8601 (class method)">.<strong>iso8601</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <code>date</code> as a dateTime defined by the XML Schema and
converts it to a Time object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#make_time-class_method" title=".make_time (class method)">.<strong>make_time</strong>(date, year, mon, day, hour, min, sec, sec_fraction, zone, now)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#month_days-class_method" title=".month_days (class method)">.<strong>month_days</strong>(y, m)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse-class_method" title=".parse (class method)">.<strong>parse</strong>(date, now = self.now)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <code>date</code> using <code>Date._parse</code> and converts it to a Time
object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rfc2822-class_method" title=".rfc2822 (class method)">.<strong>rfc2822</strong>(date)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <code>date</code> as date-time defined by RFC 2822 and converts it
to a Time object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rfc822-class_method" title=".rfc822 (class method)">.<strong>rfc822</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <code>date</code> as date-time defined by RFC 2822 and converts it
to a Time object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#strptime-class_method" title=".strptime (class method)">.<strong>strptime</strong>(date, format, now = self.now)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <code>date</code> using <code>Date._strptime</code> and converts it to a Time
object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#xmlschema-class_method" title=".xmlschema (class method)">.<strong>xmlschema</strong>(date)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Parses <code>date</code> as a dateTime defined by the XML Schema and
converts it to a Time object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#zone_offset-class_method" title=".zone_offset (class method)">.<strong>zone_offset</strong>(zone, year = self.now.year)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Return the number of seconds the specified time zone differs from UTC.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#zone_utc%3F-class_method" title=".zone_utc? (class method)">.<strong>zone_utc?</strong>(zone)  &#x21d2; Boolean </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#httpdate-instance_method" title="#httpdate (instance method)">#<strong>httpdate</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string which represents the time as RFC 1123 date of HTTP-date
defined by RFC 2616:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#iso8601-instance_method" title="#iso8601 (instance method)">#<strong>iso8601</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string which represents the time as a dateTime defined by XML
Schema:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rfc2822-instance_method" title="#rfc2822 (instance method)">#<strong>rfc2822</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string which represents the time as date-time defined by RFC
2822:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rfc822-instance_method" title="#rfc822 (instance method)">#<strong>rfc822</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string which represents the time as date-time defined by RFC
2822:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#xmlschema-instance_method" title="#xmlschema (instance method)">#<strong>xmlschema</strong>(fraction_digits = 0)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a string which represents the time as a dateTime defined by XML
Schema:</p>
</div>
      </span>
    </li>
  </ul>

<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="apply_offset-class_method">
  <h3 class='signature first'>
  .<strong>apply_offset</strong>(year, mon, day, hour, min, sec, off)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 208</span>

<span class='kw'>def</span> <span class='id identifier rubyid_apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='op'>-</span><span class='id identifier rubyid_off'>off</span>
    <span class='id identifier rubyid_off'>off</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_off'>off</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>then</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>+=</span> <span class='id identifier rubyid_o'>o</span><span class='semicolon'>;</span> <span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='id identifier rubyid_sec'>sec</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>+=</span> <span class='id identifier rubyid_o'>o</span> <span class='kw'>end</span>
    <span class='id identifier rubyid_off'>off</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_off'>off</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>then</span> <span class='id identifier rubyid_min'>min</span> <span class='op'>+=</span> <span class='id identifier rubyid_o'>o</span><span class='semicolon'>;</span> <span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>+=</span> <span class='id identifier rubyid_o'>o</span> <span class='kw'>end</span>
    <span class='id identifier rubyid_off'>off</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_off'>off</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>24</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>then</span> <span class='id identifier rubyid_hour'>hour</span> <span class='op'>+=</span> <span class='id identifier rubyid_o'>o</span><span class='semicolon'>;</span> <span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span> <span class='op'>=</span> <span class='id identifier rubyid_hour'>hour</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>24</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>+=</span> <span class='id identifier rubyid_o'>o</span> <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>!=</span> <span class='int'>0</span>
      <span class='id identifier rubyid_day'>day</span> <span class='op'>+=</span> <span class='id identifier rubyid_off'>off</span>
      <span class='id identifier rubyid_days'>days</span> <span class='op'>=</span> <span class='id identifier rubyid_month_days'>month_days</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_days'>days</span> <span class='kw'>and</span> <span class='id identifier rubyid_days'>days</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_day'>day</span>
        <span class='id identifier rubyid_mon'>mon</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>if</span> <span class='int'>12</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_mon'>mon</span>
          <span class='id identifier rubyid_mon'>mon</span> <span class='op'>=</span> <span class='int'>1</span>
          <span class='id identifier rubyid_year'>year</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_day'>day</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_off'>off</span>
    <span class='id identifier rubyid_off'>off</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_off'>off</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>then</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>-=</span> <span class='id identifier rubyid_o'>o</span><span class='semicolon'>;</span> <span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='id identifier rubyid_sec'>sec</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>-=</span> <span class='id identifier rubyid_o'>o</span> <span class='kw'>end</span>
    <span class='id identifier rubyid_off'>off</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_off'>off</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>then</span> <span class='id identifier rubyid_min'>min</span> <span class='op'>-=</span> <span class='id identifier rubyid_o'>o</span><span class='semicolon'>;</span> <span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>-=</span> <span class='id identifier rubyid_o'>o</span> <span class='kw'>end</span>
    <span class='id identifier rubyid_off'>off</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_off'>off</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>24</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>then</span> <span class='id identifier rubyid_hour'>hour</span> <span class='op'>-=</span> <span class='id identifier rubyid_o'>o</span><span class='semicolon'>;</span> <span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span> <span class='op'>=</span> <span class='id identifier rubyid_hour'>hour</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>24</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>-=</span> <span class='id identifier rubyid_o'>o</span> <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>!=</span> <span class='int'>0</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_day'>day</span> <span class='op'>-=</span> <span class='id identifier rubyid_off'>off</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_day'>day</span> <span class='op'>&lt;</span> <span class='int'>1</span>
        <span class='id identifier rubyid_mon'>mon</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_mon'>mon</span> <span class='op'>&lt;</span> <span class='int'>1</span>
          <span class='id identifier rubyid_year'>year</span> <span class='op'>-=</span> <span class='int'>1</span>
          <span class='id identifier rubyid_mon'>mon</span> <span class='op'>=</span> <span class='int'>12</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_day'>day</span> <span class='op'>=</span> <span class='id identifier rubyid_month_days'>month_days</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="force_zone!-class_method">
  <h3 class='signature'>
  .<strong>force_zone!</strong>(t, zone, offset = nil)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_force_zone!'>force_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_offset'>offset</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_zone_utc?'>zone_utc?</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_offset'>offset</span> <span class='op'>||=</span> <span class='id identifier rubyid_zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
    <span class='comment'># Prefer the local timezone over the fixed offset timezone because
</span>    <span class='comment'># the former is a real timezone and latter is an artificial timezone.
</span>    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_localtime'>localtime</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_utc_offset'>utc_offset</span> <span class='op'>!=</span> <span class='id identifier rubyid_offset'>offset</span>
      <span class='comment'># Use the fixed offset timezone only if the local timezone cannot
</span>      <span class='comment'># represent the given offset.
</span>      <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_localtime'>localtime</span><span class='lparen'>(</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_localtime'>localtime</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="httpdate-class_method">
  <h3 class='signature'>
  .<strong>httpdate</strong>(date)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses <code>date</code> as an HTTP-date defined by RFC 2616 and converts
it to a Time object.</p>

<p>ArgumentError is raised if <code>date</code> is not compliant with RFC 2616
or if the Time class cannot represent specified date.</p>

<p>See <a href="#httpdate-instance_method" title="Time#httpdate (method)">#httpdate</a> for more information on this format.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 519</span>

<span class='kw'>def</span> <span class='id identifier rubyid_httpdate'>httpdate</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),\x20
      (\d{2})\x20
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
      (\d{4})\x20
      (\d{2}):(\d{2}):(\d{2})\x20
      GMT
      \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_date'>date</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_rfc2822'>rfc2822</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span>
  <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
         (?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday),\x20
         (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d)\x20
         (\d\d):(\d\d):(\d\d)\x20
         GMT
         \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_date'>date</span>
    <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>&lt;</span> <span class='int'>50</span>
      <span class='id identifier rubyid_year'>year</span> <span class='op'>+=</span> <span class='int'>2000</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_year'>year</span> <span class='op'>+=</span> <span class='int'>1900</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='backref'>$2</span><span class='comma'>,</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
         (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\x20
         (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
         (\d\d|\x20\d)\x20
         (\d\d):(\d\d):(\d\d)\x20
         (\d{4})
         \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_date'>date</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='lparen'>(</span><span class='backref'>$6</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='const'>MonthValue</span><span class='lbracket'>[</span><span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='backref'>$2</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span>
             <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not RFC 2616 compliant date: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="iso8601-class_method">
  <h3 class='signature'>
  .<strong>iso8601</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses <code>date</code> as a dateTime defined by the XML Schema and
converts it to a Time object.  The format is a restricted version of the
format defined by ISO 8601.</p>

<p>ArgumentError is raised if <code>date</code> is not compliant with the
format or if the Time class cannot represent specified date.</p>

<p>See <a href="#xmlschema-instance_method" title="Time#xmlschema (method)">#xmlschema</a> for more information on this format.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 601</span>

<span class='kw'>def</span> <span class='id identifier rubyid_xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (-?\d+)-(\d\d)-(\d\d)
      T
      (\d\d):(\d\d):(\d\d)
      (\.\d+)?
      (Z|[+-]\d\d:\d\d)?
      \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_date'>date</span>
    <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_mon'>mon</span> <span class='op'>=</span> <span class='backref'>$2</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_day'>day</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_hour'>hour</span> <span class='op'>=</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>if</span> <span class='backref'>$7</span>
      <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='backref'>$7</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>1000000</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='backref'>$8</span>
      <span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='backref'>$8</span>
      <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span>
        <span class='id identifier rubyid_apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_force_zone!'>force_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_t'>t</span>
    <span class='kw'>else</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid date: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="make_time-class_method">
  <h3 class='signature'>
  .<strong>make_time</strong>(date, year, mon, day, hour, min, sec, sec_fraction, zone, now)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 252</span>

<span class='kw'>def</span> <span class='id identifier rubyid_make_time'>make_time</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_sec_fraction'>sec_fraction</span><span class='comma'>,</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_year'>year</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_mon'>mon</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_day'>day</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_hour'>hour</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_min'>min</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_sec'>sec</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_sec_fraction'>sec_fraction</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no time information in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_off_year'>off_year</span> <span class='op'>=</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>||</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
  <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_off_year'>off_year</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_zone'>zone</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_off'>off</span>
    <span class='id identifier rubyid_now'>now</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_getlocal'>getlocal</span><span class='lparen'>(</span><span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_utc_offset'>utc_offset</span> <span class='op'>!=</span> <span class='id identifier rubyid_off'>off</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_now'>now</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_getlocal'>getlocal</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='id identifier rubyid_sec_fraction'>sec_fraction</span> <span class='op'>*</span> <span class='int'>1000000</span> <span class='kw'>if</span> <span class='id identifier rubyid_sec_fraction'>sec_fraction</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_now'>now</span>
    <span class='kw'>begin</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_year'>year</span><span class='semicolon'>;</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_mon'>mon</span><span class='semicolon'>;</span> <span class='id identifier rubyid_mon'>mon</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_mon'>mon</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_day'>day</span><span class='semicolon'>;</span> <span class='id identifier rubyid_day'>day</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_hour'>hour</span><span class='semicolon'>;</span> <span class='id identifier rubyid_hour'>hour</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_hour'>hour</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_min'>min</span><span class='semicolon'>;</span> <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_sec'>sec</span><span class='semicolon'>;</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_sec'>sec</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_sec_fraction'>sec_fraction</span><span class='semicolon'>;</span> <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_tv_usec'>tv_usec</span>
    <span class='kw'>end</span> <span class='kw'>until</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_year'>year</span> <span class='op'>||=</span> <span class='int'>1970</span>
  <span class='id identifier rubyid_mon'>mon</span> <span class='op'>||=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_day'>day</span> <span class='op'>||=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_hour'>hour</span> <span class='op'>||=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_min'>min</span> <span class='op'>||=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_sec'>sec</span> <span class='op'>||=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_usec'>usec</span> <span class='op'>||=</span> <span class='int'>0</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>!=</span> <span class='id identifier rubyid_off_year'>off_year</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_zone'>zone</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_off'>off</span>
    <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span>
      <span class='id identifier rubyid_apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_force_zone!'>force_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_t'>t</span>
  <span class='kw'>else</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="month_days-class_method">
  <h3 class='signature'>
  .<strong>month_days</strong>(y, m)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


199
200
201
202
203
204
205</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 199</span>

<span class='kw'>def</span> <span class='id identifier rubyid_month_days'>month_days</span><span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span> <span class='op'>%</span> <span class='int'>4</span> <span class='op'>==</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span> <span class='op'>%</span> <span class='int'>100</span> <span class='op'>!=</span> <span class='int'>0</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span> <span class='op'>%</span> <span class='int'>400</span> <span class='op'>==</span> <span class='int'>0</span><span class='rparen'>)</span>
    <span class='const'>LeapYearMonthDays</span><span class='lbracket'>[</span><span class='id identifier rubyid_m'>m</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='const'>CommonYearMonthDays</span><span class='lbracket'>[</span><span class='id identifier rubyid_m'>m</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="parse-class_method">
  <h3 class='signature'>
  .<strong>parse</strong>(date, now = self.now)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses <code>date</code> using <code>Date._parse</code> and converts it to a Time
object.</p>

<p>If a block is given, the year described in <code>date</code> is converted
by the block.  For example:</p>

<pre class="code ruby"><code class="ruby">Time.parse(...) {|y| 0 &lt;= y &amp;&amp; y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}</code></pre>

<p>If the upper components of the given time are broken or missing, they are
supplied with those of <code>now</code>.  For the lower components, the
minimum values (1 or 0) are assumed if broken or missing.  For example:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Suppose it is &quot;Thu Nov 29 14:33:20 2001&quot; now and
</span><span class='comment'># your time zone is EST which is GMT-5.
</span><span class='id identifier rubyid_now'>now</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Thu Nov 29 14:33:20 2001</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>16:30</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; 2001-11-29 16:30:00 -0500
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>7/23</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; 2001-07-23 00:00:00 -0500
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Aug 31</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; 2001-08-31 00:00:00 -0500
</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Aug 2000</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; 2000-08-01 00:00:00 -0500
</span></code></pre>

<p>Since there are numerous conflicts among locally defined time zone
abbreviations all over the world, this method is not intended to understand
all of them.  For example, the abbreviation CST is used variously as:</p>

<pre class="code ruby"><code class="ruby">-06:00 in America/Chicago,
-05:00 in America/Havana,
+08:00 in Asia/Harbin,
+09:30 in Australia/Darwin,
+10:30 in Australia/Adelaide,
etc.</code></pre>

<p>Based on this fact, this method only understands the time zone
abbreviations described in RFC 822 and the system time zone, in the order
named. (i.e. a definition in RFC 822 overrides the system time zone
definition.)  The system time zone is taken from <code>Time.local(year, 1,
1).zone</code> and <code>Time.local(year, 7, 1).zone</code>. If the
extracted time zone abbreviation does not match any of them, it is ignored
and the given time is regarded as a local time.</p>

<p>ArgumentError is raised if <code>Date._parse</code> cannot extract information from
<code>date</code> or if the Time class cannot represent specified date.</p>

<p>This method can be used as a fail-safe for other parsing methods as:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_rfc2822'>rfc2822</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span>
<span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_httpdate'>httpdate</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span>
<span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span>
</code></pre>

<p>A failure of <a href="#parse-class_method" title="Time.parse (method)">parse</a> should be checked, though.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


361
362
363
364
365
366
367</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 361</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_comp'>comp</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid__parse'>_parse</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:year</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_comp'>comp</span>
  <span class='id identifier rubyid_make_time'>make_time</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mon</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mday</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:hour</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec_fraction</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:zone</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="rfc2822-class_method">
  <h3 class='signature'>
  .<strong>rfc2822</strong>(date)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses <code>date</code> as date-time defined by RFC 2822 and converts it
to a Time object.  The format is identical to the date format defined by
RFC 822 and updated by RFC 1123.</p>

<p>ArgumentError is raised if <code>date</code> is not compliant with RFC 2822
or if the Time class cannot represent specified date.</p>

<p>See <a href="#rfc2822-instance_method" title="Time#rfc2822 (method)">#rfc2822</a> for more information on this format.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 466</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rfc2822'>rfc2822</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\s*,\s*)?
      (\d{1,2})\s+
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+
      (\d{2,})\s+
      (\d{2})\s*
      :\s*(\d{2})\s*
      (?::\s*(\d{2}))?\s+
      ([+-]\d{4}|
       UT|GMT|EST|EDT|CST|CDT|MST|MDT|PST|PDT|[A-IK-Z])</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_date'>date</span>
    <span class='comment'># Since RFC 2822 permit comments, the regexp has no right anchor.
</span>    <span class='id identifier rubyid_day'>day</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_mon'>mon</span> <span class='op'>=</span> <span class='const'>MonthValue</span><span class='lbracket'>[</span><span class='backref'>$2</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_short_year_p'>short_year_p</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=</span> <span class='int'>3</span>
    <span class='id identifier rubyid_hour'>hour</span> <span class='op'>=</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='backref'>$6</span> <span class='op'>?</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>:</span> <span class='int'>0</span>
    <span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='backref'>$7</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_short_year_p'>short_year_p</span>
      <span class='comment'># following year completion is compliant with RFC 2822.
</span>      <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>&lt;</span> <span class='int'>50</span>
               <span class='int'>2000</span> <span class='op'>+</span> <span class='id identifier rubyid_year'>year</span>
             <span class='kw'>else</span>
               <span class='int'>1900</span> <span class='op'>+</span> <span class='id identifier rubyid_year'>year</span>
             <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span>
      <span class='id identifier rubyid_apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_force_zone!'>force_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_t'>t</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not RFC 2822 compliant date: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="rfc822-class_method">
  <h3 class='signature'>
  .<strong>rfc822</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses <code>date</code> as date-time defined by RFC 2822 and converts it
to a Time object.  The format is identical to the date format defined by
RFC 822 and updated by RFC 1123.</p>

<p>ArgumentError is raised if <code>date</code> is not compliant with RFC 2822
or if the Time class cannot represent specified date.</p>

<p>See <a href="#rfc2822-instance_method" title="Time#rfc2822 (method)">#rfc2822</a> for more information on this format.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 506</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rfc2822'>rfc2822</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\s*,\s*)?
      (\d{1,2})\s+
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+
      (\d{2,})\s+
      (\d{2})\s*
      :\s*(\d{2})\s*
      (?::\s*(\d{2}))?\s+
      ([+-]\d{4}|
       UT|GMT|EST|EDT|CST|CDT|MST|MDT|PST|PDT|[A-IK-Z])</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_date'>date</span>
    <span class='comment'># Since RFC 2822 permit comments, the regexp has no right anchor.
</span>    <span class='id identifier rubyid_day'>day</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_mon'>mon</span> <span class='op'>=</span> <span class='const'>MonthValue</span><span class='lbracket'>[</span><span class='backref'>$2</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_short_year_p'>short_year_p</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=</span> <span class='int'>3</span>
    <span class='id identifier rubyid_hour'>hour</span> <span class='op'>=</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='backref'>$6</span> <span class='op'>?</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>:</span> <span class='int'>0</span>
    <span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='backref'>$7</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_short_year_p'>short_year_p</span>
      <span class='comment'># following year completion is compliant with RFC 2822.
</span>      <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>&lt;</span> <span class='int'>50</span>
               <span class='int'>2000</span> <span class='op'>+</span> <span class='id identifier rubyid_year'>year</span>
             <span class='kw'>else</span>
               <span class='int'>1900</span> <span class='op'>+</span> <span class='id identifier rubyid_year'>year</span>
             <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span>
      <span class='id identifier rubyid_apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_force_zone!'>force_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_t'>t</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not RFC 2822 compliant date: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="strptime-class_method">
  <h3 class='signature'>
  .<strong>strptime</strong>(date, format, now = self.now)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses <code>date</code> using <code>Date._strptime</code> and converts it to a Time
object.</p>

<p>If a block is given, the year described in <code>date</code> is converted
by the block.  For example:</p>

<pre class="code ruby"><code class="ruby">Time.strptime(...) {|y| y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}</code></pre>

<p>Below is a list of the formatting options:</p>
<dl class="rdoc-list note-list"><dt>%a 
<dd>
<p>The abbreviated weekday name (Sun)</p>
</dd><dt>%A 
<dd>
<p>The  full  weekday  name (Sunday)</p>
</dd><dt>%b 
<dd>
<p>The abbreviated month name (Jan)</p>
</dd><dt>%B 
<dd>
<p>The  full  month  name (January)</p>
</dd><dt>%c 
<dd>
<p>The preferred local date and time representation</p>
</dd><dt>%C 
<dd>
<p>Century (20 in 2009)</p>
</dd><dt>%d 
<dd>
<p>Day of the month (01..31)</p>
</dd><dt>%D 
<dd>
<p>Date (%m/%d/%y)</p>
</dd><dt>%e 
<dd>
<p>Day of the month, blank-padded ( 1..31)</p>
</dd><dt>%F 
<dd>
<p>Equivalent to %Y-%m-%d (the ISO 8601 date format)</p>
</dd><dt>%h 
<dd>
<p>Equivalent to %b</p>
</dd><dt>%H 
<dd>
<p>Hour of the day, 24-hour clock (00..23)</p>
</dd><dt>%I 
<dd>
<p>Hour of the day, 12-hour clock (01..12)</p>
</dd><dt>%j 
<dd>
<p>Day of the year (001..366)</p>
</dd><dt>%k 
<dd>
<p>hour, 24-hour clock, blank-padded ( 0..23)</p>
</dd><dt>%l 
<dd>
<p>hour, 12-hour clock, blank-padded ( 0..12)</p>
</dd><dt>%L 
<dd>
<p>Millisecond of the second (000..999)</p>
</dd><dt>%m 
<dd>
<p>Month of the year (01..12)</p>
</dd><dt>%M 
<dd>
<p>Minute of the hour (00..59)</p>
</dd><dt>%n 
<dd>
<p>Newline (n)</p>
</dd><dt>%N 
<dd>
<p>Fractional seconds digits, default is 9 digits (nanosecond)</p>
<dl class="rdoc-list note-list"><dt>%3N 
<dd>
<p>millisecond (3 digits)</p>
</dd><dt>%6N 
<dd>
<p>microsecond (6 digits)</p>
</dd><dt>%9N 
<dd>
<p>nanosecond (9 digits)</p>
</dd></dl>
</dd><dt>%p 
<dd>
<p>Meridian indicator (AM or PM)</p>
</dd><dt>%P 
<dd>
<p>Meridian indicator (am or pm)</p>
</dd><dt>%r 
<dd>
<p>time, 12-hour (same as %I:%M:%S %p)</p>
</dd><dt>%R 
<dd>
<p>time, 24-hour (%H:%M)</p>
</dd><dt>%s 
<dd>
<p>Number of seconds since 1970-01-01 00:00:00 UTC.</p>
</dd><dt>%S 
<dd>
<p>Second of the minute (00..60)</p>
</dd><dt>%t 
<dd>
<p>Tab character (t)</p>
</dd><dt>%T 
<dd>
<p>time, 24-hour (%H:%M:%S)</p>
</dd><dt>%u 
<dd>
<p>Day of the week as a decimal, Monday being 1. (1..7)</p>
</dd><dt>%U 
<dd>
<p>Week number of the current year, starting with the first Sunday as the
first day of the first week (00..53)</p>
</dd><dt>%v 
<dd>
<p>VMS date (%e-%b-%Y)</p>
</dd><dt>%V 
<dd>
<p>Week number of year according to ISO 8601 (01..53)</p>
</dd><dt>%W 
<dd>
<p>Week  number  of the current year, starting with the first Monday as the
first day of the first week (00..53)</p>
</dd><dt>%w 
<dd>
<p>Day of the week (Sunday is 0, 0..6)</p>
</dd><dt>%x 
<dd>
<p>Preferred representation for the date alone, no time</p>
</dd><dt>%X 
<dd>
<p>Preferred representation for the time alone, no date</p>
</dd><dt>%y 
<dd>
<p>Year without a century (00..99)</p>
</dd><dt>%Y 
<dd>
<p>Year which may include century, if provided</p>
</dd><dt>%z 
<dd>
<p>Time zone as  hour offset from UTC (e.g. +0900)</p>
</dd><dt>%Z 
<dd>
<p>Time zone name</p>
</dd><dt>%% 
<dd>
<p>Literal % character</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt>ArgumentError</tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 427</span>

<span class='kw'>def</span> <span class='id identifier rubyid_strptime'>strptime</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='comma'>,</span> <span class='id identifier rubyid_format'>format</span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid__strptime'>_strptime</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='comma'>,</span> <span class='id identifier rubyid_format'>format</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid strptime format - `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format'>format</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_d'>d</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_seconds'>seconds</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:seconds</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_sec_fraction'>sec_fraction</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec_fraction</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='id identifier rubyid_sec_fraction'>sec_fraction</span> <span class='op'>*</span> <span class='int'>1000000</span>
      <span class='id identifier rubyid_usec'>usec</span> <span class='op'>*=</span> <span class='op'>-</span><span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_seconds'>seconds</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:zone</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_force_zone!'>force_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:year</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_make_time'>make_time</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mon</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mday</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:hour</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec_fraction</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='symbol'>:zone</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_now'>now</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_t'>t</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="xmlschema-class_method">
  <h3 class='signature'>
  .<strong>xmlschema</strong>(date)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parses <code>date</code> as a dateTime defined by the XML Schema and
converts it to a Time object.  The format is a restricted version of the
format defined by ISO 8601.</p>

<p>ArgumentError is raised if <code>date</code> is not compliant with the
format or if the Time class cannot represent specified date.</p>

<p>See <a href="#xmlschema-instance_method" title="Time#xmlschema (method)">#xmlschema</a> for more information on this format.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 568</span>

<span class='kw'>def</span> <span class='id identifier rubyid_xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id identifier rubyid_date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (-?\d+)-(\d\d)-(\d\d)
      T
      (\d\d):(\d\d):(\d\d)
      (\.\d+)?
      (Z|[+-]\d\d:\d\d)?
      \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_date'>date</span>
    <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_mon'>mon</span> <span class='op'>=</span> <span class='backref'>$2</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_day'>day</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_hour'>hour</span> <span class='op'>=</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>if</span> <span class='backref'>$7</span>
      <span class='id identifier rubyid_usec'>usec</span> <span class='op'>=</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='backref'>$7</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>1000000</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='backref'>$8</span>
      <span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='backref'>$8</span>
      <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span> <span class='op'>=</span>
        <span class='id identifier rubyid_apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_force_zone!'>force_zone!</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_off'>off</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_t'>t</span>
    <span class='kw'>else</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_mon'>mon</span><span class='comma'>,</span> <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='comma'>,</span> <span class='id identifier rubyid_usec'>usec</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid date: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="zone_offset-class_method">
  <h3 class='signature'>
  .<strong>zone_offset</strong>(zone, year = self.now.year)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the number of seconds the specified time zone differs from UTC.</p>

<p>Numeric time zones that include minutes, such as <code>-10:00</code> or
<code>+1330</code> will work, as will simpler hour-only time zones like
<code>-10</code> or <code>+13</code>.</p>

<p>Textual time zones listed in ZoneOffset are also supported.</p>

<p>If the time zone does not match any of the above, <code>zone_offset</code>
will check if the local time zone (both with and without potential Daylight
Saving Time changes being in effect) matches <code>zone</code>. Specifying
a value for <code>year</code> will change the year used to find the local
time zone.</p>

<p>If <code>zone_offset</code> is unable to determine the offset, nil will be
returned.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 134</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='id identifier rubyid_zone'>zone</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([+-])(\d\d):?(\d\d)\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_zone'>zone</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='backref'>$1</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>:</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='backref'>$2</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>+</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>60</span>
  <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[+-]\d\d\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_zone'>zone</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_zone'>zone</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>*</span> <span class='int'>3600</span>
  <span class='kw'>elsif</span> <span class='const'>ZoneOffset</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='const'>ZoneOffset</span><span class='lbracket'>[</span><span class='id identifier rubyid_zone'>zone</span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='int'>3600</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_zone'>zone</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='op'>==</span> <span class='id identifier rubyid_zone'>zone</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_utc_offset'>utc_offset</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_local'>local</span><span class='lparen'>(</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_zone'>zone</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='op'>==</span> <span class='id identifier rubyid_zone'>zone</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_utc_offset'>utc_offset</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_off'>off</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="zone_utc?-class_method">
  <h3 class='signature'>
  .<strong>zone_utc?</strong>(zone)  &#x21d2; <tt>Boolean</tt>  <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 151</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zone_utc?'>zone_utc?</span><span class='lparen'>(</span><span class='id identifier rubyid_zone'>zone</span><span class='rparen'>)</span>
  <span class='comment'># * +0000
</span>  <span class='comment'>#   In RFC 2822, +0000 indicate a time zone at Universal Time.
</span>  <span class='comment'>#   Europe/Lisbon is &quot;a time zone at Universal Time&quot; in Winter.
</span>  <span class='comment'>#   Atlantic/Reykjavik is &quot;a time zone at Universal Time&quot;.
</span>  <span class='comment'>#   Africa/Dakar is &quot;a time zone at Universal Time&quot;.
</span>  <span class='comment'>#   So +0000 is a local time such as Europe/London, etc.
</span>  <span class='comment'># * GMT
</span>  <span class='comment'>#   GMT is used as a time zone abbreviation in Europe/London,
</span>  <span class='comment'>#   Africa/Dakar, etc.
</span>  <span class='comment'>#   So it is a local time.
</span>  <span class='comment'>#
</span>  <span class='comment'># * -0000, -00:00
</span>  <span class='comment'>#   In RFC 2822, -0000 the date-time contains no information about the
</span>  <span class='comment'>#   local time zone.
</span>  <span class='comment'>#   In RFC 3339, -00:00 is used for the time in UTC is known,
</span>  <span class='comment'>#   but the offset to local time is unknown.
</span>  <span class='comment'>#   They are not appropriate for specific time zone such as
</span>  <span class='comment'>#   Europe/London because time zone neutral,
</span>  <span class='comment'>#   So -00:00 and -0000 are treated as UTC.
</span>  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?:-00:00|-0000|-00|UTC|Z|UT)\z</span><span class='regexp_end'>/i</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_zone'>zone</span>
    <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="httpdate-instance_method">
  <h3 class='signature first'>
  #<strong>httpdate</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string which represents the time as RFC 1123 date of HTTP-date
defined by RFC 2616:</p>

<pre class="code ruby"><code class="ruby">day-of-week, DD month-name CCYY hh:mm:ss GMT</code></pre>

<p>Note that the result is always UTC (GMT).</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


650
651
652
653
654
655
656</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 650</span>

<span class='kw'>def</span> <span class='id identifier rubyid_httpdate'>httpdate</span>
  <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span>
  <span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s, %02d %s %0*d %02d:%02d:%02d GMT</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='const'>RFC2822_DAY_NAME</span><span class='lbracket'>[</span><span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_wday'>wday</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='const'>RFC2822_MONTH_NAME</span><span class='lbracket'>[</span><span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_mon'>mon</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>5</span> <span class='op'>:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_sec'>sec</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="iso8601-instance_method">
  <h3 class='signature'>
  #<strong>iso8601</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string which represents the time as a dateTime defined by XML
Schema:</p>

<pre class="code ruby"><code class="ruby">CCYY-MM-DDThh:mm:ssTZD
CCYY-MM-DDThh:mm:ss.sssTZD</code></pre>

<p>where TZD is Z or [+-]hh:mm.</p>

<p>If self is a UTC time, Z is used as TZD.  [+-]hh:mm is used otherwise.</p>

<p><code>fractional_digits</code> specifies a number of digits to use for
fractional seconds.  Its default value is 0.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


682
683
684
685
686
687
688
689</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 682</span>

<span class='kw'>def</span> <span class='id identifier rubyid_xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id identifier rubyid_fraction_digits'>fraction_digits</span><span class='op'>=</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fraction_digits'>fraction_digits</span> <span class='op'>=</span> <span class='id identifier rubyid_fraction_digits'>fraction_digits</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%FT%T</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_fraction_digits'>fraction_digits</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fraction_digits'>fraction_digits</span><span class='embexpr_end'>}</span><span class='tstring_content'>N</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_utc?'>utc?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%:z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="rfc2822-instance_method">
  <h3 class='signature'>
  #<strong>rfc2822</strong>  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>rfc822</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string which represents the time as date-time defined by RFC
2822:</p>

<pre class="code ruby"><code class="ruby">day-of-week, DD month-name CCYY hh:mm:ss zone</code></pre>

<p>where zone is [+-]hhmm.</p>

<p>If <code>self</code> is a UTC time, -0000 is used as zone.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


615
616
617
618
619
620
621
622
623
624
625
626
627</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 615</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rfc2822'>rfc2822</span>
  <span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s, %02d %s %0*d %02d:%02d:%02d </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='const'>RFC2822_DAY_NAME</span><span class='lbracket'>[</span><span class='id identifier rubyid_wday'>wday</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='const'>RFC2822_MONTH_NAME</span><span class='lbracket'>[</span><span class='id identifier rubyid_mon'>mon</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>5</span> <span class='op'>:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span>
    <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_utc?'>utc?</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-0000</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_utc_offset'>utc_offset</span>
    <span class='id identifier rubyid_sign'>sign</span> <span class='op'>=</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>+</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s%02d%02d</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_sign'>sign</span><span class='comma'>,</span> <span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_off'>off</span><span class='period'>.</span><span class='id identifier rubyid_abs'>abs</span> <span class='op'>/</span> <span class='int'>60</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="rfc822-instance_method">
  <h3 class='signature'>
  #<strong>rfc822</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string which represents the time as date-time defined by RFC
2822:</p>

<pre class="code ruby"><code class="ruby">day-of-week, DD month-name CCYY hh:mm:ss zone</code></pre>

<p>where zone is [+-]hhmm.</p>

<p>If <code>self</code> is a UTC time, -0000 is used as zone.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class='source_code h'>
  <pre class='lines_num'>


628
629
630
631
632
633
634
635
636
637
638
639
640</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 628</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rfc2822'>rfc2822</span>
  <span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s, %02d %s %0*d %02d:%02d:%02d </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='const'>RFC2822_DAY_NAME</span><span class='lbracket'>[</span><span class='id identifier rubyid_wday'>wday</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='id identifier rubyid_day'>day</span><span class='comma'>,</span> <span class='const'>RFC2822_MONTH_NAME</span><span class='lbracket'>[</span><span class='id identifier rubyid_mon'>mon</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>5</span> <span class='op'>:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span>
    <span class='id identifier rubyid_hour'>hour</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_sec'>sec</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_utc?'>utc?</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-0000</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_off'>off</span> <span class='op'>=</span> <span class='id identifier rubyid_utc_offset'>utc_offset</span>
    <span class='id identifier rubyid_sign'>sign</span> <span class='op'>=</span> <span class='id identifier rubyid_off'>off</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>+</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s%02d%02d</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_sign'>sign</span><span class='comma'>,</span> <span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_off'>off</span><span class='period'>.</span><span class='id identifier rubyid_abs'>abs</span> <span class='op'>/</span> <span class='int'>60</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="xmlschema-instance_method">
  <h3 class='signature'>
  #<strong>xmlschema</strong>(fraction_digits = 0)  
  <span class='aliases'>Also known as:
    <span class='names'>
    <span>iso8601</span>
</span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a string which represents the time as a dateTime defined by XML
Schema:</p>

<pre class="code ruby"><code class="ruby">CCYY-MM-DDThh:mm:ssTZD
CCYY-MM-DDThh:mm:ss.sssTZD</code></pre>

<p>where TZD is Z or [+-]hh:mm.</p>

<p>If self is a UTC time, Z is used as TZD.  [+-]hh:mm is used otherwise.</p>

<p><code>fractional_digits</code> specifies a number of digits to use for
fractional seconds.  Its default value is 0.</p>

<p>You must require &#39;time&#39; to use this method.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


674
675
676
677
678
679
680
681</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'time.rb', line 674</span>

<span class='kw'>def</span> <span class='id identifier rubyid_xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id identifier rubyid_fraction_digits'>fraction_digits</span><span class='op'>=</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fraction_digits'>fraction_digits</span> <span class='op'>=</span> <span class='id identifier rubyid_fraction_digits'>fraction_digits</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%FT%T</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_fraction_digits'>fraction_digits</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fraction_digits'>fraction_digits</span><span class='embexpr_end'>}</span><span class='tstring_content'>N</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_utc?'>utc?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Z</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%:z</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>