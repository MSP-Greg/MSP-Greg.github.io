<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::RecordIdentifier &mdash; Rails 4.2.11.3</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActionView::RecordIdentifier",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Rails 4.2.11.3</a> &raquo; 
      <a href='../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>RecordIdentifier&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionView::RecordIdentifier</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="Base.html" title="ActionView::Base (class)">Base</a>,
          <a class='nodoc' href="Helpers.html" title="ActionView::Helpers (module)">Helpers</a>,
          <a href="Helpers/RecordTagHelper.html" title="ActionView::Helpers::RecordTagHelper (module)">Helpers::RecordTagHelper</a>,
          <a href="TestCase.html" title="ActionView::TestCase (class)">TestCase</a>,
          <a href="TestCase/Behavior.html" title="ActionView::TestCase::Behavior (module)">TestCase::Behavior</a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          <a href="ModelNaming.html" title="ActionView::ModelNaming (module)">ModelNaming</a>,
          self
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="ModelNaming.html" title="ActionView::ModelNaming (module)">ModelNaming</a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/actionview/lib/action_view/record_identifier.rb#L28'>actionview/lib/action_view/record_identifier.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>The record identifier encapsulates a number of naming conventions for dealing with records, like Active Records or pretty much any other model type that has an id. These patterns are then used to try elevate the view actions to a higher logical level.</p>

<pre class="code ruby"><code class="ruby"># routes
resources :posts

# view
&lt;%= div_for(post) do %&gt;    &lt;div id=&quot;post_45&quot; class=&quot;post&quot;&gt;
  &lt;%= post.body %&gt;           What a wonderful world!
&lt;% end %&gt;                  &lt;/div&gt;

# controller
def update
  post = Post.find(params[:id])
  post.update(params[:post])

  redirect_to(post) # Calls polymorphic_url(post) which in turn calls post_url(post)
end</code></pre>

<p>As the example above shows, you can stop caring to a large extent what the actual id of the post is. You just know that one is being assigned and that the subsequent calls in redirect_to expect that same naming convention and allows you to write less code if you follow it.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='JOIN-constant' class='summary_signature'>JOIN =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/actionview/lib/action_view/record_identifier.rb#L34-L34'># File 'actionview/lib/action_view/record_identifier.rb', line 34</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='NEW-constant' class='summary_signature'>NEW =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/actionview/lib/action_view/record_identifier.rb#L35-L35'># File 'actionview/lib/action_view/record_identifier.rb', line 35</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>new</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="ModelNaming.html" title="ActionView::ModelNaming (module)">ModelNaming</a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="ModelNaming.html#convert_to_model-instance_method" title="ActionView::ModelNaming#convert_to_model (method)">convert_to_model</a></td>
      <td><div class='inline'><p>Converts the given object to an <a href="../ActiveModel.html" title="ActiveModel (module)">::ActiveModel</a> compliant one.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="ModelNaming.html#model_name_from_record_or_class-instance_method" title="ActionView::ModelNaming#model_name_from_record_or_class (method)">model_name_from_record_or_class</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#dom_class-instance_method" title="#dom_class (instance method)">#<strong>dom_class</strong>(record_or_class, prefix = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The DOM class convention is to use the singular form of an object or class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dom_id-instance_method" title="#dom_id (instance method)">#<strong>dom_id</strong>(record, prefix = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The DOM id convention is to use the singular form of an object or class with the id following an underscore.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="ModelNaming.html" title="ActionView::ModelNaming (module)">ModelNaming</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="ModelNaming.html#convert_to_model-instance_method" title="ActionView::ModelNaming#convert_to_model (method)">#convert_to_model</a></td>
      <td><div class='inline'><p>Converts the given object to an <a href="../ActiveModel.html" title="ActiveModel (module)">::ActiveModel</a> compliant one.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="ModelNaming.html#model_name_from_record_or_class-instance_method" title="ActionView::ModelNaming#model_name_from_record_or_class (method)">#model_name_from_record_or_class</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="dom_class-instance_method">
  <h3 class='signature  first'>
    #<strong>dom_class</strong>(record_or_class, prefix = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The DOM class convention is to use the singular form of an object or class.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dom_class'>dom_class</span>(<span class='id identifier rubyid_post'>post</span>)   <span class='comment'># =&gt; &quot;post&quot;
</span><span class='id identifier rubyid_dom_class'>dom_class</span>(<span class='const'>Person</span>) <span class='comment'># =&gt; &quot;person&quot;</span></code></pre>

<p>If you need to address multiple instances of the same class in the same view, you can prefix the dom_class:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dom_class'>dom_class</span>(<span class='id identifier rubyid_post'>post</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_edit'>edit</span>)   <span class='comment'># =&gt; &quot;edit_post&quot;
</span><span class='id identifier rubyid_dom_class'>dom_class</span>(<span class='const'>Person</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_edit'>edit</span>) <span class='comment'># =&gt; &quot;edit_person&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/actionview/lib/action_view/record_identifier.rb#L46-L49'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='46' data-end='49'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/record_identifier.rb', line 46</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dom_class'>dom_class</span>(<span class='id identifier rubyid_record_or_class'>record_or_class</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_singular'>singular</span> <span class='op'>=</span> <span class='id identifier rubyid_model_name_from_record_or_class'>model_name_from_record_or_class</span>(<span class='id identifier rubyid_record_or_class'>record_or_class</span>).<span class='id identifier rubyid_param_key'>param_key</span>
  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#JOIN-constant" title="ActionView::RecordIdentifier::JOIN (constant)">JOIN</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_singular'>singular</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_singular'>singular</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dom_id-instance_method">
  <h3 class='signature '>
    #<strong>dom_id</strong>(record, prefix = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The DOM id convention is to use the singular form of an object or class with the id following an underscore. If no id is found, prefix with “new_” instead.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dom_id'>dom_id</span>(<span class='const'>Post</span>.<span class='id identifier rubyid_find'>find</span>(<span class='int'>45</span>))       <span class='comment'># =&gt; &quot;post_45&quot;
</span><span class='id identifier rubyid_dom_id'>dom_id</span>(<span class='const'>Post</span>.<span class='id identifier rubyid_new'>new</span>)            <span class='comment'># =&gt; &quot;new_post&quot;</span></code></pre>

<p>If you need to address multiple instances of the same class in the same view, you can prefix the dom_id:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dom_id'>dom_id</span>(<span class='const'>Post</span>.<span class='id identifier rubyid_find'>find</span>(<span class='int'>45</span>)<span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_edit'>edit</span>) <span class='comment'># =&gt; &quot;edit_post_45&quot;
</span><span class='id identifier rubyid_dom_id'>dom_id</span>(<span class='const'>Post</span>.<span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_custom'>custom</span>)    <span class='comment'># =&gt; &quot;custom_post&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/actionview/lib/action_view/record_identifier.rb#L61-L67'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='61' data-end='67'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/record_identifier.rb', line 61</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dom_id'>dom_id</span>(<span class='id identifier rubyid_record'>record</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_record_id'>record_id</span> <span class='op'>=</span> <span class='id identifier rubyid_record_key_for_dom_id'>record_key_for_dom_id</span>(<span class='id identifier rubyid_record'>record</span>)
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dom_class'><a href="#dom_class-instance_method" title="ActionView::RecordIdentifier#dom_class (method)">dom_class</a></span>(<span class='id identifier rubyid_record'>record</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span>)<span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#JOIN-constant" title="ActionView::RecordIdentifier::JOIN (constant)">JOIN</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_record_id'>record_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_dom_class'><a href="#dom_class-instance_method" title="ActionView::RecordIdentifier#dom_class (method)">dom_class</a></span>(<span class='id identifier rubyid_record'>record</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>||</span> <span class='const'><a href="#NEW-constant" title="ActionView::RecordIdentifier::NEW (constant)">NEW</a></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>