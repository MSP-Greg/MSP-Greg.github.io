<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveModel::Lint::Tests &mdash; Rails 4.2.11.3</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveModel::Lint::Tests",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails 4.2.11.3</a> &raquo; 
      <a href='../../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a> &raquo; 
        <a href="../Lint.html" title="ActiveModel::Lint (module)">Lint</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Tests&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActiveModel::Lint::Tests</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activemodel/lib/active_model/lint.rb#L22'>activemodel/lib/active_model/lint.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>You can test whether an object is compliant with the Active Model API by including <code>Tests</code> in your <a href="../TestCase.html" title="ActiveModel::TestCase (class)">::ActiveModel::TestCase</a>. It will include tests that tell you whether your object is fully compliant, or if not, which aspects of the API are not implemented.</p>

<p>Note an object is not required to implement all APIs in order to work with Action Pack. This module only intends to provide guidance in case you want all features out of the box.</p>

<p>These tests do not attempt to determine the semantic correctness of the returned values. For instance, you could implement <code>valid?</code> to always return <code>true</code>, and the tests would pass. It is up to you to ensure that the values are semantically meaningful.</p>

<p>Objects you pass in are expected to return a compliant object from a call to <code>to_model</code>. It is perfectly fine for <code>to_model</code> to return <code>self</code>.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#test_persisted%3F-instance_method" title="#test_persisted? (instance method)">#<strong>test_persisted?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Responds to <code>persisted?</code></p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#test_errors_aref-instance_method" title="#test_errors_aref (instance method)">#<strong>test_errors_aref</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Errors Testing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#test_model_naming-instance_method" title="#test_model_naming (instance method)">#<strong>test_model_naming</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Naming.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#test_to_key-instance_method" title="#test_to_key (instance method)">#<strong>test_to_key</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Responds to <code>to_key</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#test_to_param-instance_method" title="#test_to_param (instance method)">#<strong>test_to_param</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Responds to <code>to_param</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#test_to_partial_path-instance_method" title="#test_to_partial_path (instance method)">#<strong>test_to_partial_path</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Responds to <code>to_partial_path</code></p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="test_persisted?-instance_method">
  <h3 class='signature ro first'>
    #<strong>test_persisted?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Responds+to+-7Bpersisted-3F-7D">Responds to <code>persisted?</code></h4>

<p>Returns a boolean that specifies whether the object has been persisted yet. This is used when calculating the URL for an object. If the object is not persisted, a form for that object, for instance, will route to the create action. If it is persisted, a form for the object will routes to the update action.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activemodel/lib/active_model/lint.rb#L69-L72'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='69' data-end='72'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/lint.rb', line 69</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_test_persisted?'>test_persisted?</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_persisted?'>persisted?</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to persisted?</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_assert_boolean'>assert_boolean</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_persisted?'>persisted?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>persisted?</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="test_errors_aref-instance_method">
  <h3 class='signature  first'>
    #<strong>test_errors_aref</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Errors+Testing">Errors Testing</h4>

<p>Returns an object that implements [](attribute) defined which returns an <a href="../../Array.html" title="Array (class)">::Array</a> of Strings that are the errors for the attribute in question. If localization is used, the Strings should be localized for the current locale. If no error is present, this method should return an empty <a href="../../Array.html" title="Array (class)">::Array</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activemodel/lib/active_model/lint.rb#L97-L100'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='100'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/lint.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_test_errors_aref'>test_errors_aref</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_errors'>errors</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to errors</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_errors'>errors</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_hello'>hello</span>].<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>errors#[] should return an Array</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="test_model_naming-instance_method">
  <h3 class='signature '>
    #<strong>test_model_naming</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Naming">Naming</h4>

<p><code>Model.model_name</code> and <code>Model#model_name</code> must return a string with some convenience methods: # <code>:human</code>, <code>:singular</code> and <code>:plural</code>. Check <a href="../Naming.html" title="ActiveModel::Naming (module)">::ActiveModel::Naming</a> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activemodel/lib/active_model/lint.rb#L79-L89'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='79' data-end='89'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/lint.rb', line 79</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_test_model_naming'>test_model_naming</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_model_name'>model_name</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model class should respond to model_name</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_model_name'>model_name</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_model_name'>model_name</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model_name'>model_name</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_str'>to_str</span>)
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model_name'>model_name</span>.<span class='id identifier rubyid_human'>human</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_str'>to_str</span>)
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model_name'>model_name</span>.<span class='id identifier rubyid_singular'>singular</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_str'>to_str</span>)
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model_name'>model_name</span>.<span class='id identifier rubyid_plural'>plural</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_str'>to_str</span>)

  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_model_name'>model_name</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model instance should respond to model_name</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_model_name'>model_name</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_model_name'>model_name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="test_to_key-instance_method">
  <h3 class='signature '>
    #<strong>test_to_key</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Responds+to+-7Bto_key-7D">Responds to <code>to_key</code></h4>

<p>Returns an <a href="../../Enumerable.html" title="Enumerable (module)">::Enumerable</a> of all (primary) key attributes or nil if <code>model.persisted?</code> is false. This is used by <code>dom_id</code> to generate unique ids for the object.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activemodel/lib/active_model/lint.rb#L29-L33'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='33'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/lint.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_test_to_key'>test_to_key</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_key'>to_key</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to to_key</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_persisted?'>persisted?</span>() <span class='kw'>false</span> <span class='kw'>end</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_to_key'>to_key</span>.<span class='id identifier rubyid_nil?'>nil?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>to_key should return nil when `persisted?` returns false</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="test_to_param-instance_method">
  <h3 class='signature '>
    #<strong>test_to_param</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Responds+to+-7Bto_param-7D">Responds to <code>to_param</code></h4>

<p>Returns a string representing the object&#39;s key suitable for use in URLs or <code>nil</code> if <code>model.persisted?</code> is <code>false</code>.</p>

<p>Implementers can decide to either raise an exception or provide a default in case the record uses a composite primary key. There are no tests for this behavior in lint because it doesn&#39;t make sense to force any of the possible implementation strategies on the implementer. However, if the resource is not persisted?, then <code>to_param</code> should always return <code>nil</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activemodel/lib/active_model/lint.rb#L46-L51'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='46' data-end='51'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/lint.rb', line 46</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_test_to_param'>test_to_param</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_param'>to_param</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to to_param</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_to_key'>to_key</span>() [<span class='int'>1</span>] <span class='kw'>end</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_persisted?'>persisted?</span>() <span class='kw'>false</span> <span class='kw'>end</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_to_param'>to_param</span>.<span class='id identifier rubyid_nil?'>nil?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>to_param should return nil when `persisted?` returns false</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="test_to_partial_path-instance_method">
  <h3 class='signature '>
    #<strong>test_to_partial_path</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<h4 id="label-Responds+to+-7Bto_partial_path-7D">Responds to <code>to_partial_path</code></h4>

<p>Returns a string giving a relative path. This is used for looking up partials. For example, a BlogPost model might return “blog_posts/blog_post”</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activemodel/lib/active_model/lint.rb#L57-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='57' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/lint.rb', line 57</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_test_to_partial_path'>test_to_partial_path</span>
  <span class='id identifier rubyid_assert'>assert</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_partial_path'>to_partial_path</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to to_partial_path</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_assert_kind_of'>assert_kind_of</span> <span class='const'><a href="../../String.html" title="String (class)">String</a></span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_to_partial_path'>to_partial_path</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>