<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: ActiveRecord::ConnectionAdapters::TableDefinition &mdash; Rails 4.2.11.3</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::ConnectionAdapters::TableDefinition",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails 4.2.11.3</a> &raquo; 
      <a href='../../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
        <a href="../ConnectionAdapters.html" title="ActiveRecord::ConnectionAdapters (module)">ConnectionAdapters</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>TableDefinition&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: ActiveRecord::ConnectionAdapters::TableDefinition</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="PostgreSQL/TableDefinition.html" title="ActiveRecord::ConnectionAdapters::PostgreSQL::TableDefinition (class)">PostgreSQL::TableDefinition</a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L91'>activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Represents the schema of an SQL table in an abstract way. This class provides methods for manipulating the schema representation.</p>

<p>Inside migration files, the <code>t</code> object in <code>create_table</code> is actually of this type:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>SomeMigration</span> <span class='op'>&lt;</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Migration.html" title="ActiveRecord::Migration (class)">Migration</a></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_up'>up</span>
    <span class='id identifier rubyid_create_table'>create_table</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_class'>class</span>  <span class='comment'># =&gt; &quot;ActiveRecord::ConnectionAdapters::TableDefinition&quot;
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_down'>down</span>
    <span class='comment'>#...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>The table definitions The Columns are stored as a <a href="ColumnDefinition.html" title="ActiveRecord::ConnectionAdapters::ColumnDefinition (class)">ColumnDefinition</a> in the <a href="#columns-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#columns (method)">#columns</a> attribute.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(types, name, temporary, options, as = nil)  &#x21d2; TableDefinition </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#as-instance_method" title="#as (instance method)">#<strong>as</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#foreign_keys-instance_method" title="#foreign_keys (instance method)">#<strong>foreign_keys</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#indexes-instance_method" title="#indexes (instance method)">#<strong>indexes</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>An array of <a href="ColumnDefinition.html" title="ActiveRecord::ConnectionAdapters::ColumnDefinition (class)">ColumnDefinition</a> objects, representing the column changes that have been defined.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#temporary-instance_method" title="#temporary (instance method)">#<strong>temporary</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <a href="ColumnDefinition.html" title="ActiveRecord::ConnectionAdapters::ColumnDefinition (class)">ColumnDefinition</a> for the column with name <a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">#name</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#belongs_to-instance_method" title="#belongs_to (instance method)">#<strong>belongs_to</strong>(*args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#references-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#references (method)">#references</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#column-instance_method" title="#column (instance method)">#<strong>column</strong>(name, type, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Instantiates a new column for the table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#columns-instance_method" title="#columns (instance method)">#<strong>columns</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(column_name, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds index options to the indexes hash, keyed by column name This is primarily used to track indexes that need to be created after the table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#primary_key-instance_method" title="#primary_key (instance method)">#<strong>primary_key</strong>(name, type = :primary_key, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Appends a primary key definition to the table definition.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#references-instance_method" title="#references (instance method)">#<strong>references</strong>(*args)  </a>
      (also: #belongs_to)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds a reference.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remove_column-instance_method" title="#remove_column (instance method)">#<strong>remove_column</strong>(name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#timestamps-instance_method" title="#timestamps (instance method)">#<strong>timestamps</strong>(*args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Appends <code>:datetime</code> columns <code>:created_at</code> and <code>:updated_at</code> to the table.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(types, name, temporary, options, as = nil)  &#x21d2; <code>TableDefinition</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L99-L108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='99' data-end='108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 99</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_types'>types</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_temporary'><a href="#temporary-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#temporary (method)">temporary</a></span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span><span class='comma'>,</span> <span class='id identifier rubyid_as'><a href="#as-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#as (method)">as</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='ivar'>@columns_hash</span> <span class='op'>=</span> {}
  <span class='ivar'>@indexes</span> <span class='op'>=</span> {}
  <span class='ivar'>@foreign_keys</span> <span class='op'>=</span> []
  <span class='ivar'>@native</span> <span class='op'>=</span> <span class='id identifier rubyid_types'>types</span>
  <span class='ivar'>@temporary</span> <span class='op'>=</span> <span class='id identifier rubyid_temporary'><a href="#temporary-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#temporary (method)">temporary</a></span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>
  <span class='ivar'>@as</span> <span class='op'>=</span> <span class='id identifier rubyid_as'><a href="#as-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#as (method)">as</a></span>
  <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="as-instance_method">
  <h3 class='signature ro first'>
    #<strong>as</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L97-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_temporary'><a href="#temporary-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#temporary (method)">temporary</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_as'>as</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foreign_keys'><a href="#foreign_keys-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#foreign_keys (method)">foreign_keys</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="foreign_keys-instance_method">
  <h3 class='signature ro'>
    #<strong>foreign_keys</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L97-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_temporary'><a href="#temporary-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#temporary (method)">temporary</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_as'><a href="#as-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#as (method)">as</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foreign_keys'>foreign_keys</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="indexes-instance_method">
  <h3 class='signature rw'>
    #<strong>indexes</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>An array of <a href="ColumnDefinition.html" title="ActiveRecord::ConnectionAdapters::ColumnDefinition (class)">ColumnDefinition</a> objects, representing the column changes that have been defined.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L96-L96'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='96' data-end='96'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 96</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_indexes'>indexes</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature ro'>
    #<strong>name</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L97-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_temporary'><a href="#temporary-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#temporary (method)">temporary</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_as'><a href="#as-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#as (method)">as</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foreign_keys'><a href="#foreign_keys-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#foreign_keys (method)">foreign_keys</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options-instance_method">
  <h3 class='signature ro'>
    #<strong>options</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L97-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_temporary'><a href="#temporary-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#temporary (method)">temporary</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_as'><a href="#as-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#as (method)">as</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foreign_keys'><a href="#foreign_keys-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#foreign_keys (method)">foreign_keys</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="temporary-instance_method">
  <h3 class='signature ro'>
    #<strong>temporary</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L97-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_temporary'>temporary</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_as'><a href="#as-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#as (method)">as</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foreign_keys'><a href="#foreign_keys-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#foreign_keys (method)">foreign_keys</a></span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="[]-instance_method">
  <h3 class='signature  first'>
    #<strong>[]</strong>(name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <a href="ColumnDefinition.html" title="ActiveRecord::ConnectionAdapters::ColumnDefinition (class)">ColumnDefinition</a> for the column with name <a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">#name</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L119-L121'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='119' data-end='121'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 119</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>)
  <span class='ivar'>@columns_hash</span>[<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="belongs_to-instance_method">
  <h3 class='signature '>
    #<strong>belongs_to</strong>(*args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#references-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#references (method)">#references</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L333-L333'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='333' data-end='333'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 333</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbeg'>:</span><span class='id identifier rubyid_references'><a href="#references-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#references (method)">references</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="column-instance_method">
  <h3 class='signature '>
    #<strong>column</strong>(name, type, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Instantiates a new column for the table. The <code>type</code> parameter is normally one of the migrations native types, which is one of the following: <code>:primary_key</code>, <code>:string</code>, <code>:text</code>, <code>:integer</code>, <code>:float</code>, <code>:decimal</code>, <code>:datetime</code>, <code>:time</code>, <code>:date</code>, <code>:binary</code>, <code>:boolean</code>.</p>

<p>You may use a type not in this list as long as it is supported by your database (for example, “polygon” in MySQL), but this will not be database agnostic and should usually be avoided.</p>

<p>Available options are (none of these exists by default):</p>
<ul><li>
<p><code>:limit</code> - Requests a maximum column length. This is number of characters for <code>:string</code> and <code>:text</code> columns and number of bytes for <code>:binary</code> and <code>:integer</code> columns.</p>
</li><li>
<p><code>:default</code> - The column&#39;s default value. Use nil for NULL.</p>
</li><li>
<p><code>:null</code> - Allows or disallows <code>NULL</code> values in the column. This option could have been named <code>:null_allowed</code>.</p>
</li><li>
<p><code>:precision</code> - Specifies the precision for a <code>:decimal</code> column.</p>
</li><li>
<p><code>:scale</code> - Specifies the scale for a <code>:decimal</code> column.</p>
</li><li>
<p><code>:index</code> - Create an index for the column. Can be either <code>true</code> or an options hash.</p>
</li></ul>

<p>Note: The precision is the total number of significant digits and the scale is the number of digits that can be stored following the decimal point. For example, the number 123.45 has a precision of 5 and a scale of 2. A decimal with a precision of 5 and a scale of 2 can range from -999.99 to 999.99.</p>

<p>Please be aware of different RDBMS implementations behavior with <code>:decimal</code> columns:</p>
<ul><li>
<p>The SQL standard says the default scale should be 0, <code>:scale</code> &lt;= <code>:precision</code>, and makes no comments about the requirements of <code>:precision</code>.</p>
</li><li>
<p>MySQL: <code>:precision</code> [1..63], <code>:scale</code> [0..30]. Default is (10,0).</p>
</li><li>
<p>PostgreSQL: <code>:precision</code> [1..infinity], <code>:scale</code> [0..infinity]. No default.</p>
</li><li>
<p>SQLite2: Any <code>:precision</code> and <code>:scale</code> may be used. Internal storage as strings. No default.</p>
</li><li>
<p>SQLite3: No restrictions on <code>:precision</code> and <code>:scale</code>, but the maximum supported <code>:precision</code> is 16. No default.</p>
</li><li>
<p>Oracle: <code>:precision</code> [1..38], <code>:scale</code> [-84..127]. Default is (38,0).</p>
</li><li>
<p>DB2: <code>:precision</code> [1..63], <code>:scale</code> [0..62]. Default unknown.</p>
</li><li>
<p>SqlServer?: <code>:precision</code> [1..38], <code>:scale</code> [0..38]. Default (38,0).</p>
</li></ul>

<p>This method returns <code>self</code>.</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'># Assuming td is an instance of TableDefinition
</span><span class='id identifier rubyid_td'>td</span>.<span class='id identifier rubyid_column'>column</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_granted'>granted</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_boolean'>boolean</span>)
<span class='comment'># granted BOOLEAN
</span>
<span class='id identifier rubyid_td'>td</span>.<span class='id identifier rubyid_column'>column</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_picture'>picture</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_binary'>binary</span><span class='comma'>,</span> <span class='label'>limit:</span> <span class='int'>2</span>.<span class='id identifier rubyid_megabytes'>megabytes</span>)
<span class='comment'># =&gt; picture BLOB(2097152)
</span>
<span class='id identifier rubyid_td'>td</span>.<span class='id identifier rubyid_column'>column</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_sales_stage'>sales_stage</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='label'>limit:</span> <span class='int'>20</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>new</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>null:</span> <span class='kw'>false</span>)
<span class='comment'># =&gt; sales_stage VARCHAR(20) DEFAULT &#39;new&#39; NOT NULL
</span>
<span class='id identifier rubyid_td'>td</span>.<span class='id identifier rubyid_column'>column</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bill_gates_money'>bill_gates_money</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_decimal'>decimal</span><span class='comma'>,</span> <span class='label'>precision:</span> <span class='int'>15</span><span class='comma'>,</span> <span class='label'>scale:</span> <span class='int'>2</span>)
<span class='comment'># =&gt; bill_gates_money DECIMAL(15,2)
</span>
<span class='id identifier rubyid_td'>td</span>.<span class='id identifier rubyid_column'>column</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_sensor_reading'>sensor_reading</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_decimal'>decimal</span><span class='comma'>,</span> <span class='label'>precision:</span> <span class='int'>30</span><span class='comma'>,</span> <span class='label'>scale:</span> <span class='int'>20</span>)
<span class='comment'># =&gt; sensor_reading DECIMAL(30,20)
</span>
<span class='comment'># While &lt;tt&gt;:scale&lt;/tt&gt; defaults to zero on most databases, it
</span><span class='comment'># probably wouldn&#39;t hurt to include it.
</span><span class='id identifier rubyid_td'>td</span>.<span class='id identifier rubyid_column'>column</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_huge_integer'>huge_integer</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_decimal'>decimal</span><span class='comma'>,</span> <span class='label'>precision:</span> <span class='int'>30</span>)
<span class='comment'># =&gt; huge_integer DECIMAL(30)
</span>
<span class='comment'># Defines a column with a database-specific type.
</span><span class='id identifier rubyid_td'>td</span>.<span class='id identifier rubyid_column'>column</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>polygon</span><span class='tstring_end'>&#39;</span></span>)
<span class='comment'># =&gt; foo polygon</span></code></pre>

<h4 id="label-Short-hand+examples">Short-hand examples</h4>

<p>Instead of calling <code>column</code> directly, you can also work with the short-hand definitions for the default types. They use the type as the method name instead of as a parameter and allow for multiple columns to be defined in a single statement.</p>

<p>What can be written like this with the regular calls to column:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_create_table'>create_table</span> <span class='symbeg'>:</span><span class='id identifier rubyid_products'>products</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_column'>column</span> <span class='symbeg'>:</span><span class='id identifier rubyid_shop_id'>shop_id</span><span class='comma'>,</span>     <span class='symbeg'>:</span><span class='id identifier rubyid_integer'>integer</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_column'>column</span> <span class='symbeg'>:</span><span class='id identifier rubyid_creator_id'>creator_id</span><span class='comma'>,</span>  <span class='symbeg'>:</span><span class='id identifier rubyid_integer'>integer</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_column'>column</span> <span class='symbeg'>:</span><span class='id identifier rubyid_item_number'>item_number</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_string'>string</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_column'>column</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span>        <span class='symbeg'>:</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Untitled</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_column'>column</span> <span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span>       <span class='symbeg'>:</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Untitled</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_column'>column</span> <span class='symbeg'>:</span><span class='id identifier rubyid_created_at'>created_at</span><span class='comma'>,</span>  <span class='symbeg'>:</span><span class='id identifier rubyid_datetime'>datetime</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_column'>column</span> <span class='symbeg'>:</span><span class='id identifier rubyid_updated_at'>updated_at</span><span class='comma'>,</span>  <span class='symbeg'>:</span><span class='id identifier rubyid_datetime'>datetime</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_add_index'>add_index</span> <span class='symbeg'>:</span><span class='id identifier rubyid_products'>products</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_item_number'>item_number</span></code></pre>

<p>can also be written as follows using the short-hand:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_create_table'>create_table</span> <span class='symbeg'>:</span><span class='id identifier rubyid_products'>products</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_integer'>integer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_shop_id'>shop_id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_creator_id'>creator_id</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_string'>string</span>  <span class='symbeg'>:</span><span class='id identifier rubyid_item_number'>item_number</span><span class='comma'>,</span> <span class='label'>index:</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_string'>string</span>  <span class='symbeg'>:</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Untitled</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_timestamps'><a href="#timestamps-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#timestamps (method)">timestamps</a></span> <span class='label'>null:</span> <span class='kw'>false</span>
<span class='kw'>end</span></code></pre>

<p>There&#39;s a short-hand method for each of the type values declared at the top. And then there&#39;s <a href="#timestamps-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#timestamps (method)">#timestamps</a> that&#39;ll add <code>created_at</code> and <code>updated_at</code> as datetimes.</p>

<p><a href="#references-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#references (method)">#references</a> will add an appropriately-named _id column, plus a corresponding _type column if the <code>:polymorphic</code> option is supplied. If <code>:polymorphic</code> is a hash of options, these will be used when creating the <code>_type</code> column. The <code>:index</code> option will also create an index, similar to calling <code>add_index</code>. So what can be written like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_create_table'>create_table</span> <span class='symbeg'>:</span><span class='id identifier rubyid_taggings'>taggings</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_integer'>integer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tag_id'>tag_id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tagger_id'>tagger_id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_taggable_id'>taggable_id</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_string'>string</span>  <span class='symbeg'>:</span><span class='id identifier rubyid_tagger_type'>tagger_type</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_string'>string</span>  <span class='symbeg'>:</span><span class='id identifier rubyid_taggable_type'>taggable_type</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Photo</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_add_index'>add_index</span> <span class='symbeg'>:</span><span class='id identifier rubyid_taggings'>taggings</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tag_id'>tag_id</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index_taggings_on_tag_id</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_add_index'>add_index</span> <span class='symbeg'>:</span><span class='id identifier rubyid_taggings'>taggings</span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_tagger_id'>tagger_id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tagger_type'>tagger_type</span>]</code></pre>

<p>Can also be written as follows using references:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_create_table'>create_table</span> <span class='symbeg'>:</span><span class='id identifier rubyid_taggings'>taggings</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_references'><a href="#references-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#references (method)">references</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='label'>index:</span> { <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index_taggings_on_tag_id</span><span class='tstring_end'>&#39;</span></span> }
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_references'><a href="#references-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#references (method)">references</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_tagger'>tagger</span><span class='comma'>,</span> <span class='label'>polymorphic:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>index:</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_references'><a href="#references-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#references (method)">references</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_taggable'>taggable</span><span class='comma'>,</span> <span class='label'>polymorphic:</span> { <span class='label'>default:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Photo</span><span class='tstring_end'>&#39;</span></span> }
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L256-L269'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='256' data-end='269'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 256</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_column'>column</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_to_sym'>to_sym</span>
  <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>.<span class='id identifier rubyid_dup'>dup</span>

  <span class='kw'>if</span> <span class='ivar'>@columns_hash</span>[<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>] <span class='op'>&amp;&amp;</span> <span class='ivar'>@columns_hash</span>[<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>].<span class='id identifier rubyid_primary_key?'>primary_key?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>you can&#39;t redefine the primary key column &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;. To define a custom primary key, pass { id: false } to create_table.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_index_options'>index_options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_index'><a href="#index-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#index (method)">index</a></span>)
  <span class='id identifier rubyid_index'><a href="#index-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#index (method)">index</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_index_options'>index_options</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>) <span class='op'>?</span> <span class='id identifier rubyid_index_options'>index_options</span> <span class='op'>:</span> {}) <span class='kw'>if</span> <span class='id identifier rubyid_index_options'>index_options</span>
  <span class='ivar'>@columns_hash</span>[<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_new_column_definition'><a href="#new_column_definition-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#new_column_definition (method)">new_column_definition</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="columns-instance_method">
  <h3 class='signature '>
    #<strong>columns</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L110-L110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='110' data-end='110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_columns'>columns</span><span class='semicolon'>;</span> <span class='ivar'>@columns_hash</span>.<span class='id identifier rubyid_values'>values</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="index-instance_method">
  <h3 class='signature '>
    #<strong>index</strong>(column_name, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds index options to the indexes hash, keyed by column name This is primarily used to track indexes that need to be created after the table</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_index'>index</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_account_id'>account_id</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index_projects_on_account_id</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L287-L289'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='287' data-end='289'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_column_name'>column_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_indexes'><a href="#indexes-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#indexes (method)">indexes</a></span>[<span class='id identifier rubyid_column_name'>column_name</span>] <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="primary_key-instance_method">
  <h3 class='signature '>
    #<strong>primary_key</strong>(name, type = :primary_key, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Appends a primary key definition to the table definition. Can be called multiple times, but this is probably not a good idea.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L114-L116'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='114' data-end='116'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 114</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_primary_key'>primary_key</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_primary_key'>primary_key</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_column'><a href="#column-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#column (method)">column</a></span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_primary_key'>primary_key</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="references-instance_method">
  <h3 class='signature '>
    #<strong>references</strong>(*args)  
    <span class='aliases'>Also known as: <span class='names'>#belongs_to</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds a reference.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_references'>references</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_user'>user</span>)
<span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_belongs_to'><a href="#belongs_to-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#belongs_to (method)">belongs_to</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_supplier'>supplier</span><span class='comma'>,</span> <span class='label'>foreign_key:</span> <span class='kw'>true</span>)</code></pre>

<p>See <a href="SchemaStatements.html#add_reference-instance_method" title="ActiveRecord::ConnectionAdapters::SchemaStatements#add_reference (method)">SchemaStatements#add_reference</a> for details of the options you can use.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L312-L332'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='312' data-end='332'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 312</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_references'>references</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_extract_options!'>extract_options!</span>
  <span class='id identifier rubyid_polymorphic'>polymorphic</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_polymorphic'>polymorphic</span>)
  <span class='id identifier rubyid_index_options'>index_options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_index'><a href="#index-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#index (method)">index</a></span>)
  <span class='id identifier rubyid_foreign_key_options'>foreign_key_options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foreign_key'><a href="#foreign_key-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#foreign_key (method)">foreign_key</a></span>)
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_type'>type</span>) <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_integer'>integer</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_polymorphic'>polymorphic</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foreign_key_options'>foreign_key_options</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot add a foreign key on a polymorphic relation</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_col'>col</span><span class='op'>|</span>
    <span class='id identifier rubyid_column'><a href="#column-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#column (method)">column</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_col'>col</span><span class='embexpr_end'>}</span><span class='tstring_content'>_id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>)
    <span class='id identifier rubyid_column'><a href="#column-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#column (method)">column</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_col'>col</span><span class='embexpr_end'>}</span><span class='tstring_content'>_type</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_polymorphic'>polymorphic</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>) <span class='op'>?</span> <span class='id identifier rubyid_polymorphic'>polymorphic</span> <span class='op'>:</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_polymorphic'>polymorphic</span>
    <span class='id identifier rubyid_index'><a href="#index-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#index (method)">index</a></span>(<span class='id identifier rubyid_polymorphic'>polymorphic</span> <span class='op'>?</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>type</span><span class='words_sep'> </span><span class='tstring_content'>id</span><span class='tstring_end'>)</span></span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_col'>col</span><span class='embexpr_end'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t'>t</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> } <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_col'>col</span><span class='embexpr_end'>}</span><span class='tstring_content'>_id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_index_options'>index_options</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>) <span class='op'>?</span> <span class='id identifier rubyid_index_options'>index_options</span> <span class='op'>:</span> {}) <span class='kw'>if</span> <span class='id identifier rubyid_index_options'>index_options</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_foreign_key_options'>foreign_key_options</span>
      <span class='id identifier rubyid_to_table'>to_table</span> <span class='op'>=</span> <span class='const'><a href="../Base.html" title="ActiveRecord::Base (class)">Base</a></span>.<span class='id identifier rubyid_pluralize_table_names'><a href="../Base.html#pluralize_table_names-class_method" title="ActiveRecord::Base.pluralize_table_names (method)">pluralize_table_names</a></span> <span class='op'>?</span> <span class='id identifier rubyid_col'>col</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_pluralize'>pluralize</span> <span class='op'>:</span> <span class='id identifier rubyid_col'>col</span>.<span class='id identifier rubyid_to_s'>to_s</span>
      <span class='id identifier rubyid_foreign_key'><a href="#foreign_key-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#foreign_key (method)">foreign_key</a></span>(<span class='id identifier rubyid_to_table'>to_table</span><span class='comma'>,</span> <span class='id identifier rubyid_foreign_key_options'>foreign_key_options</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>) <span class='op'>?</span> <span class='id identifier rubyid_foreign_key_options'>foreign_key_options</span> <span class='op'>:</span> {})
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove_column-instance_method">
  <h3 class='signature '>
    #<strong>remove_column</strong>(name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L271-L273'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='271' data-end='273'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 271</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_column'>remove_column</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>)
  <span class='ivar'>@columns_hash</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="timestamps-instance_method">
  <h3 class='signature '>
    #<strong>timestamps</strong>(*args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Appends <code>:datetime</code> columns <code>:created_at</code> and <code>:updated_at</code> to the table. See <a href="SchemaStatements.html#add_timestamps-instance_method" title="ActiveRecord::ConnectionAdapters::SchemaStatements#add_timestamps (method)">SchemaStatements#add_timestamps</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_timestamps'>timestamps</span> <span class='label'>null:</span> <span class='kw'>false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v4.2.11.3/activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb#L299-L304'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='299' data-end='304'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb', line 299</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_timestamps'>timestamps</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_extract_options!'>extract_options!</span>
  <span class='id identifier rubyid_emit_warning_if_null_unspecified'>emit_warning_if_null_unspecified</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_timestamps'>timestamps</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>)
  <span class='id identifier rubyid_column'><a href="#column-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#column (method)">column</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_created_at'>created_at</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_datetime'>datetime</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>)
  <span class='id identifier rubyid_column'><a href="#column-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#column (method)">column</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_updated_at'>updated_at</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_datetime'>datetime</span><span class='comma'>,</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="ActiveRecord::ConnectionAdapters::TableDefinition#options (method)">options</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>