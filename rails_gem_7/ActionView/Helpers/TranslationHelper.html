<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::TranslationHelper &mdash; Rails 7.1.3.2</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::TranslationHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails 7.1.3.2</a> &raquo; 
      <a href='../../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
        <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>TranslationHelper&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionView::Helpers::TranslationHelper</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <span class='nodoc_h'>ActionDispatch::DebugView</span>,
          <a href="../Base.html" title="ActionView::Base (class)"><code>::ActionView::Base</code></a>,
          <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)"><code>::ActionView::Helpers</code></a>,
          <a href="../TestCase.html" title="ActionView::TestCase (class)"><code>::ActionView::TestCase</code></a>,
          <a href="../TestCase/Behavior.html" title="ActionView::TestCase::Behavior (module)"><code>::ActionView::TestCase::Behavior</code></a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a>,
          <a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)"><code>OutputSafetyHelper</code></a>,
          <a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)"><code>CaptureHelper</code></a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L9'>actionview/lib/action_view/helpers/translation_helper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-Action+View+Translation+Helpers">Action View Translation Helpers</h3>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='MISSING_TRANSLATION-constant' class='summary_signature priv'>MISSING_TRANSLATION =</span>
    <span class='note title private'>private</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L122-L122'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 122</a>    <pre class='code ruby'><span class='op'>-</span>(<span class='int'>2</span><span class='op'>**</span><span class='int'>60</span>)</pre>
  </li>
  <li>
    <span id='NO_DEFAULT-constant' class='summary_signature priv'>NO_DEFAULT =</span>
    <span class='note title private'>private</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L125-L125'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 125</a>    <pre class='code ruby'>[].<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="TagHelper.html#ARIA_PREFIXES-constant" title="ActionView::Helpers::TagHelper::ARIA_PREFIXES (constant)">ARIA_PREFIXES</a>, 
    <a href="TagHelper.html#BOOLEAN_ATTRIBUTES-constant" title="ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES (constant)">BOOLEAN_ATTRIBUTES</a>, 
    <a href="TagHelper.html#DATA_PREFIXES-constant" title="ActionView::Helpers::TagHelper::DATA_PREFIXES (constant)">DATA_PREFIXES</a>, 
    <a href="TagHelper.html#PRE_CONTENT_STRINGS-constant" title="ActionView::Helpers::TagHelper::PRE_CONTENT_STRINGS (constant)">PRE_CONTENT_STRINGS</a>, 
    <a href="TagHelper.html#TAG_TYPES-constant" title="ActionView::Helpers::TagHelper::TAG_TYPES (constant)">TAG_TYPES</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a></td>
      <td><div class='inline'><p>Define class methods from given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ActiveSupport/Concern.html#prepended-instance_method" title="ActiveSupport::Concern#prepended (method)">prepended</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#raise_on_missing_translations-instance_method" title="#raise_on_missing_translations (instance method)">#<strong>raise_on_missing_translations</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Specify whether an error should be raised for missing translations.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#l-instance_method" title="#l (instance method)">#<strong>l</strong>(object, **options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#localize-instance_method" title="ActionView::Helpers::TranslationHelper#localize (method)">#localize</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#localize-instance_method" title="#localize (instance method)">#<strong>localize</strong>(object, **options)  </a>
      (also: #l)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delegates to <code>I18n.localize</code> with no additional functionality.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#t-instance_method" title="#t (instance method)">#<strong>t</strong>(key, **options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#translate-instance_method" title="ActionView::Helpers::TranslationHelper#translate (method)">#translate</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#translate-instance_method" title="#translate (instance method)">#<strong>translate</strong>(key, **options)  </a>
      (also: #t)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delegates to <code>I18n#translate</code> but also performs three additional functions.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#cdata_section-instance_method" title="ActionView::Helpers::TagHelper#cdata_section (method)">#cdata_section</a></td>
      <td><div class='inline'><p>Returns a CDATA section with the given <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#class_names-instance_method" title="ActionView::Helpers::TagHelper#class_names (method)">#class_names</a></td>
      <td><div class='inline'><p>Alias for <a href="TagHelper.html#token_list-instance_method" title="ActionView::Helpers::TagHelper#token_list (method)">TagHelper#token_list</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#content_tag-instance_method" title="ActionView::Helpers::TagHelper#content_tag (method)">#content_tag</a></td>
      <td><div class='inline'><p>Returns an HTML block tag of type <code>name</code> surrounding the <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#escape_once-instance_method" title="ActionView::Helpers::TagHelper#escape_once (method)">#escape_once</a></td>
      <td><div class='inline'><p>Returns an escaped version of <code>html</code> without affecting existing escaped entities.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#tag-instance_method" title="ActionView::Helpers::TagHelper#tag (method)">#tag</a></td>
      <td><div class='inline'><p>Returns an HTML tag.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="TagHelper.html#token_list-instance_method" title="ActionView::Helpers::TagHelper#token_list (method)">#token_list</a></td>
      <td><div class='inline'><p>Returns a string of tokens built from <code>args</code>.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="OutputSafetyHelper.html" title="ActionView::Helpers::OutputSafetyHelper (module)"><code>OutputSafetyHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#raw-instance_method" title="ActionView::Helpers::OutputSafetyHelper#raw (method)">#raw</a></td>
      <td><div class='inline'><p>This method outputs without escaping a string.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">#safe_join</a></td>
      <td><div class='inline'><p>This method returns an HTML safe string similar to what <code>Array#join</code> would return.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="OutputSafetyHelper.html#to_sentence-instance_method" title="ActionView::Helpers::OutputSafetyHelper#to_sentence (method)">#to_sentence</a></td>
      <td><div class='inline'><p>Converts the array to a comma-separated sentence where the last element is joined by the connector word.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)"><code>CaptureHelper</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#capture-instance_method" title="ActionView::Helpers::CaptureHelper#capture (method)">#capture</a></td>
      <td><div class='inline'><p>The capture method extracts part of a template as a string object.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#content_for-instance_method" title="ActionView::Helpers::CaptureHelper#content_for (method)">#content_for</a></td>
      <td><div class='inline'><p>Calling <code>content_for</code> stores a block of markup in an identifier for later use.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#content_for%3F-instance_method" title="ActionView::Helpers::CaptureHelper#content_for? (method)">#content_for?</a></td>
      <td><div class='inline'><p><code>content_for?</code> checks whether any content has been captured yet using <code>content_for</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="CaptureHelper.html#provide-instance_method" title="ActionView::Helpers::CaptureHelper#provide (method)">#provide</a></td>
      <td><div class='inline'><p>The same as <code>content_for</code> but when used with streaming flushes straight back to the layout.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>DSL Calls</h2>
<section class='method_details first' id="included-dslcall">
<h3 class='signature'><strong>included</strong></h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L17-L19'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


17
18
19</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 17</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_included'>included</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_debug_missing_translation'><a href="../Helpers.html#debug_missing_translation-class_method" title="ActionView::Helpers.debug_missing_translation (method)">debug_missing_translation</a></span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="raise_on_missing_translations-instance_method">
  <h3 class='signature rw first'>
    #<strong>raise_on_missing_translations</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Specify whether an error should be raised for missing translations.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L15-L15'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='15' data-end='15'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 15</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_singleton_class'>singleton_class</span>.<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_raise_on_missing_translations'>raise_on_missing_translations</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="l-instance_method">
  <h3 class='signature  first'>
    #<strong>l</strong>(object, **options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#localize-instance_method" title="ActionView::Helpers::TranslationHelper#localize (method)">#localize</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L119-L119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='119' data-end='119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 119</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_l'>l</span> <span class='symbeg'>:</span><span class='id identifier rubyid_localize'><a href="#localize-instance_method" title="ActionView::Helpers::TranslationHelper#localize (method)">localize</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="localize-instance_method">
  <h3 class='signature '>
    #<strong>localize</strong>(object, **options)  
    <span class='aliases'>Also known as: <span class='names'>#l</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Delegates to <code>I18n.localize</code> with no additional functionality.</p>

<p>See <a href="https://www.rubydoc.info/gems/i18n/I18n/Backend/Base:localize">www.rubydoc.info/gems/i18n/I18n/Backend/Base:localize</a> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L116-L118'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='116' data-end='118'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 116</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_localize'>localize</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span>.<span class='id identifier rubyid_localize'>localize</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="t-instance_method">
  <h3 class='signature '>
    #<strong>t</strong>(key, **options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#translate-instance_method" title="ActionView::Helpers::TranslationHelper#translate (method)">#translate</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L110-L110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='110' data-end='110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_t'>t</span> <span class='symbeg'>:</span><span class='id identifier rubyid_translate'><a href="#translate-instance_method" title="ActionView::Helpers::TranslationHelper#translate (method)">translate</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="translate-instance_method">
  <h3 class='signature '>
    #<strong>translate</strong>(key, **options)  
    <span class='aliases'>Also known as: <span class='names'>#t</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Delegates to <code>I18n#translate</code> but also performs three additional functions.</p>

<p>First, it will ensure that any thrown <code>MissingTranslation</code> messages will be rendered as inline spans that:</p>
<ul><li>
<p>Have a <code>translation-missing</code> class applied</p>
</li><li>
<p>Contain the missing key as the value of the <code>title</code> attribute</p>
</li><li>
<p>Have a titleized version of the last key segment as text</p>
</li></ul>

<p>For example, the value returned for the missing translation key <code>&quot;blog.post.title&quot;</code> will be:</p>

<pre class="code xml"><code class="xml">&lt;span
  class=&quot;translation_missing&quot;
  title=&quot;translation missing: en.blog.post.title&quot;&gt;Title&lt;/span&gt;
</code></pre>

<p>This allows for views to display rather reasonable strings while still giving developers a way to find missing translations.</p>

<p>If you would prefer missing translations to raise an error, you can opt out of span-wrapping behavior globally by setting <code>config.i18n.raise_on_missing_translations = true</code> or individually by passing <code>raise: true</code> as an option to <code>translate</code>.</p>

<p>Second, if the key starts with a period <code>translate</code> will scope the key by the current partial. Calling <code>translate(&quot;.foo&quot;)</code> from the <code>people/index.html.erb</code> template is equivalent to calling <code>translate(&quot;people.index.foo&quot;)</code>. This makes it less repetitive to translate many keys within the same partial and provides a convention to scope keys consistently.</p>

<p>Third, the translation will be marked as <code>html_safe</code> if the key has the suffix “_html” or the last element of the key is “html”. Calling <code>translate(&quot;footer_html&quot;)</code> or <code>translate(&quot;footer.html&quot;)</code> will return an HTML safe string that won’t be escaped by other HTML helper methods. This naming convention helps to identify translations that include HTML tags so that you know what kind of output to expect when you call translate in a template and translators know which keys they can provide HTML values for.</p>

<p>To access the translated text along with the fully resolved translation key, <code>translate</code> accepts a block:</p>

<pre class="code xml"><code class="xml">&lt;%= translate(&quot;.relative_key&quot;) do |translation, resolved_key| %&gt;
  &lt;span title=&quot;&lt;%= resolved_key %&gt;&quot;&gt;&lt;%= translation %&gt;&lt;/span&gt;
&lt;% end %&gt;
</code></pre>

<p>This enables annotate translated text to be aware of the scope it was resolved against.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.1.3.2/actionview/lib/action_view/helpers/translation_helper.rb#L73-L109'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='73' data-end='109'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/translation_helper.rb', line 73</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_translate'>translate</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_translate'>translate</span>(<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>) } <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>)
  <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_key'>key</span><span class='op'>&amp;.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>unless</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span>)

  <span class='id identifier rubyid_alternatives'>alternatives</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span>)
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span>].<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>) <span class='op'>?</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span>).<span class='id identifier rubyid_compact'>compact</span> <span class='op'>:</span> [<span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_default'>default</span>)]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_raise'>raise</span>] <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_raise'>raise</span>].<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='const'>TranslationHelper</span>.<span class='id identifier rubyid_raise_on_missing_translations'><a href="#raise_on_missing_translations-instance_method" title="ActionView::Helpers::TranslationHelper#raise_on_missing_translations (method)">raise_on_missing_translations</a></span>
  <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='const'>MISSING_TRANSLATION</span>

  <span class='id identifier rubyid_translation'>translation</span> <span class='op'>=</span> <span class='kw'>while</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>||</span> <span class='id identifier rubyid_alternatives'>alternatives</span>.<span class='id identifier rubyid_present?'>present?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_alternatives'>alternatives</span>.<span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_raise'>raise</span>].<span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='const'>NO_DEFAULT</span> <span class='comment'># let I18n handle missing translation
</span>    <span class='kw'>end</span>

    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_key_by_partial'>scope_key_by_partial</span>(<span class='id identifier rubyid_key'>key</span>)

    <span class='id identifier rubyid_translated'>translated</span> <span class='op'>=</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../../ActiveSupport/HtmlSafeTranslation.html" title="ActiveSupport::HtmlSafeTranslation (module)">HtmlSafeTranslation</a></span>.<span class='id identifier rubyid_translate'><a href="../../ActiveSupport/HtmlSafeTranslation.html#translate-instance_method" title="ActiveSupport::HtmlSafeTranslation#translate (method)">translate</a></span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='id identifier rubyid_default'>default</span>)

    <span class='kw'>break</span> <span class='id identifier rubyid_translated'>translated</span> <span class='kw'>unless</span> <span class='id identifier rubyid_translated'>translated</span> <span class='op'>==</span> <span class='const'>MISSING_TRANSLATION</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_alternatives'>alternatives</span>.<span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_alternatives'>alternatives</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span>)
      <span class='kw'>break</span> <span class='id identifier rubyid_alternatives'>alternatives</span>.<span class='id identifier rubyid_first'>first</span> <span class='op'>&amp;&amp;</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span>.<span class='id identifier rubyid_translate'>translate</span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='id identifier rubyid_alternatives'>alternatives</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_first_key'>first_key</span> <span class='op'>||=</span> <span class='id identifier rubyid_key'>key</span>
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_alternatives'>alternatives</span><span class='op'>&amp;.</span><span class='id identifier rubyid_shift'>shift</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_first_key'>first_key</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_translation'>translation</span> <span class='op'>=</span> <span class='id identifier rubyid_missing_translation'>missing_translation</span>(<span class='id identifier rubyid_first_key'>first_key</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_first_key'>first_key</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_block_given?'>block_given?</span> <span class='op'>?</span> <span class='kw'>yield</span>(<span class='id identifier rubyid_translation'>translation</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>) <span class='op'>:</span> <span class='id identifier rubyid_translation'>translation</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>