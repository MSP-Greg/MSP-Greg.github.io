<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActionView::Helpers::OutputSafetyHelper &mdash; Rails 7.2.2.2</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActionView::Helpers::OutputSafetyHelper",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails 7.2.2.2</a> &raquo; 
      <a href='../../_index.html#alpha_O'>Index (O)</a> &raquo; 
        <a href="../../ActionView.html" title="ActionView (module)">ActionView</a> &raquo; 
        <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>OutputSafetyHelper&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActionView::Helpers::OutputSafetyHelper</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <span class='nodoc_h'>ActionDispatch::DebugView</span>,
          <a href="../Base.html" title="ActionView::Base (class)"><code>::ActionView::Base</code></a>,
          <a class='nodoc' href="../Helpers.html" title="ActionView::Helpers (module)"><code>::ActionView::Helpers</code></a>,
          <a href="AssetTagHelper.html" title="ActionView::Helpers::AssetTagHelper (module)"><code>AssetTagHelper</code></a>,
          <span class='nodoc_h'>ActionView::Helpers::DateTimeSelector</span>,
          <a href="DebugHelper.html" title="ActionView::Helpers::DebugHelper (module)"><code>DebugHelper</code></a>,
          <a href="FormHelper.html" title="ActionView::Helpers::FormHelper (module)"><code>FormHelper</code></a>,
          <a href="FormOptionsHelper.html" title="ActionView::Helpers::FormOptionsHelper (module)"><code>FormOptionsHelper</code></a>,
          <a href="FormTagHelper.html" title="ActionView::Helpers::FormTagHelper (module)"><code>FormTagHelper</code></a>,
          <a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)"><code>TagHelper</code></a>,
          <span class='nodoc_h'>ActionView::Helpers::TagHelper::TagBuilder</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::Base</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::CheckBox</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::CollectionCheckBoxes</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::CollectionRadioButtons</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::CollectionSelect</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::ColorField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::DateField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::DateSelect</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::DatetimeField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::DatetimeLocalField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::DatetimeSelect</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::EmailField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::FileField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::GroupedCollectionSelect</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::HiddenField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::Label</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::MonthField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::NumberField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::PasswordField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::RadioButton</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::RangeField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::SearchField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::Select</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::TelField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::TextArea</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::TextField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::TimeField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::TimeSelect</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::TimeZoneSelect</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::UrlField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::WeekField</span>,
          <span class='nodoc_h'>ActionView::Helpers::Tags::WeekdaySelect</span>,
          <a href="TextHelper.html" title="ActionView::Helpers::TextHelper (module)"><code>TextHelper</code></a>,
          <a href="TranslationHelper.html" title="ActionView::Helpers::TranslationHelper (module)"><code>TranslationHelper</code></a>,
          <a href="UrlHelper.html" title="ActionView::Helpers::UrlHelper (module)"><code>UrlHelper</code></a>,
          <a href="../TestCase.html" title="ActionView::TestCase (class)"><code>::ActionView::TestCase</code></a>,
          <a href="../TestCase/Behavior.html" title="ActionView::TestCase::Behavior (module)"><code>::ActionView::TestCase::Behavior</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/actionview/lib/action_view/helpers/output_safety_helper.rb#L8'>actionview/lib/action_view/helpers/output_safety_helper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-Action+View+Raw+Output+Helpers">Action View Raw Output Helpers</h3>

  </div>
</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#raw-instance_method" title="#raw (instance method)">#<strong>raw</strong>(stringish)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This method outputs without escaping a string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#safe_join-instance_method" title="#safe_join (instance method)">#<strong>safe_join</strong>(array, sep = $,)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This method returns an HTML safe string similar to what <code>Array#join</code> would return.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_sentence-instance_method" title="#to_sentence (instance method)">#<strong>to_sentence</strong>(array, options = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts the array to a comma-separated sentence where the last element is joined by the connector word.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="raw-instance_method">
  <h3 class='signature  first'>
    #<strong>raw</strong>(stringish)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This method outputs without escaping a string. Since escaping tags is now default, this can be used when you don’t want Rails to automatically escape tags. This is not recommended if the data is coming from the user’s input.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_raw'>raw</span> <span class='ivar'>@user</span>.<span class='id identifier rubyid_name'>name</span>
<span class='comment'># =&gt; &#39;Jimmy &lt;alert&gt;Tables&lt;/alert&gt;&#39;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/actionview/lib/action_view/helpers/output_safety_helper.rb#L18-L20'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='18' data-end='20'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/output_safety_helper.rb', line 18</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_raw'>raw</span>(<span class='id identifier rubyid_stringish'>stringish</span>)
  <span class='id identifier rubyid_stringish'>stringish</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="safe_join-instance_method">
  <h3 class='signature '>
    #<strong>safe_join</strong>(array, sep = $,)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This method returns an HTML safe string similar to what <code>Array#join</code> would return. The array is flattened, and all items, including the supplied separator, are HTML escaped unless they are HTML safe, and the returned string is marked as HTML safe.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_safe_join'>safe_join</span>([<span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_p'>p</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;bar&lt;/p&gt;</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;br&gt;</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;foo&lt;/p&gt;&amp;lt;br&amp;gt;&amp;lt;p&amp;gt;bar&amp;lt;/p&amp;gt;&quot;
</span>
<span class='id identifier rubyid_safe_join'>safe_join</span>([<span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_p'>p</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>)<span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_p'>p</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>)]<span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span>.<span class='id identifier rubyid_br'>br</span>)
<span class='comment'># =&gt; &quot;&lt;p&gt;foo&lt;/p&gt;&lt;br&gt;&lt;p&gt;bar&lt;/p&gt;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/actionview/lib/action_view/helpers/output_safety_helper.rb#L33-L37'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='33' data-end='37'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/output_safety_helper.rb', line 33</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_safe_join'>safe_join</span>(<span class='id identifier rubyid_array'>array</span><span class='comma'>,</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>=</span> <span class='gvar'>$,</span>)
  <span class='id identifier rubyid_sep'>sep</span> <span class='op'>=</span> <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span>.<span class='id identifier rubyid_unwrapped_html_escape'><a href="../../ActiveSupport/CoreExt/ERBUtil.html#unwrapped_html_escape-instance_method" title="ActiveSupport::CoreExt::ERBUtil#unwrapped_html_escape (method)">unwrapped_html_escape</a></span>(<span class='id identifier rubyid_sep'>sep</span>)

  <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_flatten'>flatten</span>.<span class='id identifier rubyid_map!'>map!</span> { <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span>.<span class='id identifier rubyid_unwrapped_html_escape'><a href="../../ActiveSupport/CoreExt/ERBUtil.html#unwrapped_html_escape-instance_method" title="ActiveSupport::CoreExt::ERBUtil#unwrapped_html_escape (method)">unwrapped_html_escape</a></span>(<span class='id identifier rubyid_i'>i</span>) }.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_sep'>sep</span>).<span class='id identifier rubyid_html_safe'>html_safe</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_sentence-instance_method">
  <h3 class='signature '>
    #<strong>to_sentence</strong>(array, options = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts the array to a comma-separated sentence where the last element is joined by the connector word. This is the html_safe-aware version of ActiveSupport’s <a href="https://api.rubyonrails.org/classes/Array.html#method-i-to_sentence" target="_parent" title="Array#to_sentence">Array#to_sentence</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/actionview/lib/action_view/helpers/output_safety_helper.rb#L43-L67'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='43' data-end='67'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'actionview/lib/action_view/helpers/output_safety_helper.rb', line 43</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_sentence'>to_sentence</span>(<span class='id identifier rubyid_array'>array</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_assert_valid_keys'>assert_valid_keys</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_words_connector'>words_connector</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_two_words_connector'>two_words_connector</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_last_word_connector'>last_word_connector</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_locale'>locale</span>)

  <span class='id identifier rubyid_default_connectors'>default_connectors</span> <span class='op'>=</span> {
    <span class='label'>words_connector:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>two_words_connector:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> and </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>last_word_connector:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, and </span><span class='tstring_end'>&quot;</span></span>
  }
  <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span>)
    <span class='id identifier rubyid_i18n_connectors'>i18n_connectors</span> <span class='op'>=</span> <span class='const'><a href="../../I18n.html" title="I18n (module)">I18n</a></span>.<span class='id identifier rubyid_translate'>translate</span>(<span class='symbeg'>:&#39;</span><span class='tstring_content'>support.array</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>locale:</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_locale'>locale</span>]<span class='comma'>,</span> <span class='label'>default:</span> {})
    <span class='id identifier rubyid_default_connectors'>default_connectors</span>.<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid_i18n_connectors'>i18n_connectors</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_default_connectors'>default_connectors</span>.<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid_options'>options</span>)

  <span class='kw'>case</span> <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_length'>length</span>
  <span class='kw'>when</span> <span class='int'>0</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_html_safe'>html_safe</span>
  <span class='kw'>when</span> <span class='int'>1</span>
    <span class='const'><a href="../../ERB.html" title="ERB (class)">ERB</a></span><span class='op'>::</span><span class='const'><a href="../../ERB/Util.html" title="ERB::Util (module)">Util</a></span>.<span class='id identifier rubyid_html_escape'><a href="../../ActiveSupport/CoreExt/ERBUtil.html#html_escape-instance_method" title="ActiveSupport::CoreExt::ERBUtil#html_escape (method)">html_escape</a></span>(<span class='id identifier rubyid_array'>array</span>[<span class='int'>0</span>])
  <span class='kw'>when</span> <span class='int'>2</span>
    <span class='id identifier rubyid_safe_join'><a href="#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">safe_join</a></span>([<span class='id identifier rubyid_array'>array</span>[<span class='int'>0</span>]<span class='comma'>,</span> <span class='id identifier rubyid_array'>array</span>[<span class='int'>1</span>]]<span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_two_words_connector'>two_words_connector</span>])
  <span class='kw'>else</span>
    <span class='id identifier rubyid_safe_join'><a href="#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">safe_join</a></span>([<span class='id identifier rubyid_safe_join'><a href="#safe_join-instance_method" title="ActionView::Helpers::OutputSafetyHelper#safe_join (method)">safe_join</a></span>(<span class='id identifier rubyid_array'>array</span>[<span class='int'>0</span><span class='op'>...</span><span class='op'>-</span><span class='int'>1</span>]<span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_words_connector'>words_connector</span>])<span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_last_word_connector'>last_word_connector</span>]<span class='comma'>,</span> <span class='id identifier rubyid_array'>array</span>[<span class='op'>-</span><span class='int'>1</span>]]<span class='comma'>,</span> <span class='kw'>nil</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>