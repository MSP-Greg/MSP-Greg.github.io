<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveModel::Validations &mdash; Rails 7.2.2.2</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveModel::Validations",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Rails 7.2.2.2</a> &raquo; 
      <a href='../_index.html#alpha_V'>Index (V)</a> &raquo; 
        <a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Validations&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActiveModel::Validations</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="Validations/Callbacks.html" title="ActiveModel::Validations::Callbacks (module)"><code>Callbacks</code></a>,
        <a href="Validations/ClassMethods.html" title="ActiveModel::Validations::ClassMethods (module)"><code>ClassMethods</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a class='nodoc' href="Validations/AcceptanceValidator.html" title="ActiveModel::Validations::AcceptanceValidator (class)"><code>AcceptanceValidator</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <span class='nodoc_h'>ActionText::Attachables::ContentAttachment</span>,
          <a href="../ActionText/AttachmentGallery.html" title="ActionText::AttachmentGallery (class)"><code>::ActionText::AttachmentGallery</code></a>,
          <a href="API.html" title="ActiveModel::API (module)"><code>API</code></a>,
          <a href="Model.html" title="ActiveModel::Model (module)"><code>Model</code></a>,
          <a href="../ActiveRecord/Base.html" title="ActiveRecord::Base (class)"><code>::ActiveRecord::Base</code></a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations.rb#L37'>activemodel/lib/active_model/validations.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/absence.rb#L4'>activemodel/lib/active_model/validations/absence.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/acceptance.rb#L4'>activemodel/lib/active_model/validations/acceptance.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/callbacks.rb#L4'>activemodel/lib/active_model/validations/callbacks.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/clusivity.rb#L7'>activemodel/lib/active_model/validations/clusivity.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/comparability.rb#L4'>activemodel/lib/active_model/validations/comparability.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/comparison.rb#L7'>activemodel/lib/active_model/validations/comparison.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/confirmation.rb#L4'>activemodel/lib/active_model/validations/confirmation.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/exclusion.rb#L6'>activemodel/lib/active_model/validations/exclusion.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/format.rb#L6'>activemodel/lib/active_model/validations/format.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/helper_methods.rb#L4'>activemodel/lib/active_model/validations/helper_methods.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/inclusion.rb#L6'>activemodel/lib/active_model/validations/inclusion.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/length.rb#L6'>activemodel/lib/active_model/validations/length.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/numericality.rb#L8'>activemodel/lib/active_model/validations/numericality.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/presence.rb#L4'>activemodel/lib/active_model/validations/presence.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/resolve_value.rb#L4'>activemodel/lib/active_model/validations/resolve_value.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/validates.rb#L6'>activemodel/lib/active_model/validations/validates.rb</a>,<br/> <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/with.rb#L6'>activemodel/lib/active_model/validations/with.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Provides a full validation framework to your objects.</p>

<p>A minimal implementation could be:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_first_name'>first_name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_last_name'>last_name</span>

  <span class='id identifier rubyid_validates_each'>validates_each</span> <span class='symbeg'>:</span><span class='id identifier rubyid_first_name'>first_name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_last_name'>last_name</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_record'>record</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_errors'><a href="#errors-instance_method" title="ActiveModel::Validations#errors (method)">errors</a></span>.<span class='id identifier rubyid_add'>add</span> <span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>starts with z.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>z</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Which provides you with the full standard validation stack that you know from Active Record:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_person'>person</span> <span class='op'>=</span> <span class='const'>Person</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_valid?'><a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">valid?</a></span>                   <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_invalid?'><a href="#invalid%3F-instance_method" title="ActiveModel::Validations#invalid? (method)">invalid?</a></span>                 <span class='comment'># =&gt; false
</span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_first_name'>first_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zoolander</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_valid?'><a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">valid?</a></span>                   <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_invalid?'><a href="#invalid%3F-instance_method" title="ActiveModel::Validations#invalid? (method)">invalid?</a></span>                 <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_errors'><a href="#errors-instance_method" title="ActiveModel::Validations#errors (method)">errors</a></span>.<span class='id identifier rubyid_messages'>messages</span>          <span class='comment'># =&gt; {first_name:[&quot;starts with z.&quot;]}</span></code></pre>

<p>Note that <code>Validations</code> automatically adds an <a href="#errors-instance_method" title="ActiveModel::Validations#errors (method)">#errors</a> method to your instances initialized with a new <a href="Errors.html" title="ActiveModel::Errors (class)"><code>Errors</code></a> object, so there is no need for you to do this manually.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a></td>
      <td><div class='inline'><p>Define class methods from given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Concern.html#prepended-instance_method" title="ActiveSupport::Concern#prepended (method)">prepended</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#errors-instance_method" title="#errors (instance method)">#<strong>errors</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <a href="Errors.html" title="ActiveModel::Errors (class)"><code>Errors</code></a> object that holds all information about attribute error messages.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#invalid%3F-instance_method" title="#invalid? (instance method)">#<strong>invalid?</strong>(context = nil)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Performs the opposite of <a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">#valid?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#read_attribute_for_validation-instance_method" title="#read_attribute_for_validation (instance method)">#<strong>read_attribute_for_validation</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Hook method defining how an attribute value should be retrieved.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#valid%3F-instance_method" title="#valid? (instance method)">#<strong>valid?</strong>(context = nil)  &#x21d2; Boolean </a>
      (also: #validate)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Runs all the specified validations and returns <code>true</code> if no errors were added otherwise <code>false</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#validate-instance_method" title="#validate (instance method)">#<strong>validate</strong>(context = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">#valid?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#validate!-instance_method" title="#validate! (instance method)">#<strong>validate!</strong>(context = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Runs all the validations within the specified context.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#validates_with-instance_method" title="#validates_with (instance method)">#<strong>validates_with</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Passes the record off to the class or classes specified and allows them to add errors based on more complex conditions.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>DSL Calls</h2>
<section class='method_details first' id="included-dslcall">
<h3 class='signature'><strong>included</strong></h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations.rb#L40-L72'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/validations.rb', line 40</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_included'>included</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'><a href="Naming.html" title="ActiveModel::Naming (module)">Naming</a></span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'><a href="Callbacks.html" title="ActiveModel::Callbacks (module)">Callbacks</a></span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'><a href="Translation.html" title="ActiveModel::Translation (module)">Translation</a></span>

  <span class='id identifier rubyid_extend'>extend</span>  <span class='const'><a href="Validations/HelperMethods.html" title="ActiveModel::Validations::HelperMethods (module)">HelperMethods</a></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="Validations/HelperMethods.html" title="ActiveModel::Validations::HelperMethods (module)">HelperMethods</a></span>

  <span class='comment'>##
</span>  <span class='comment'># :method: validation_context
</span>  <span class='comment'># Returns the context when running validations.
</span>  <span class='comment'>#
</span>  <span class='comment'># This is useful when running validations except a certain context (opposite to the on option).
</span>  <span class='comment'>#
</span>  <span class='comment'>#   class Person
</span>  <span class='comment'>#     include ActiveModel::Validations
</span>  <span class='comment'>#
</span>  <span class='comment'>#     attr_accessor :name
</span>  <span class='comment'>#     validates :name, presence: true, if: -&gt; { validation_context != :custom }
</span>  <span class='comment'>#   end
</span>  <span class='comment'>#
</span>  <span class='comment'>#   person = Person.new
</span>  <span class='comment'>#   person.valid?          #=&gt; false
</span>  <span class='comment'>#   person.valid?(:new)    #=&gt; false
</span>  <span class='comment'>#   person.valid?(:custom) #=&gt; true
</span>
  <span class='comment'>##
</span>  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_validation_context'>validation_context</span>
  <span class='id identifier rubyid_private'>private</span> <span class='symbeg'>:</span><span class='id identifier rubyid_validation_context='>validation_context=</span>
  <span class='id identifier rubyid_define_callbacks'>define_callbacks</span> <span class='symbeg'>:</span><span class='id identifier rubyid_validate'><a href="#validate-instance_method" title="ActiveModel::Validations#validate (method)">validate</a></span><span class='comma'>,</span> <span class='label'>scope:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbeg'>:</span><span class='id identifier rubyid__validators'>_validators</span><span class='comma'>,</span> <span class='label'>instance_writer:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='const'><a href="../Hash.html" title="Hash (class)">Hash</a></span>.<span class='id identifier rubyid_new'>new</span> { <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> [] }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="errors-instance_method">
  <h3 class='signature  first'>
    #<strong>errors</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <a href="Errors.html" title="ActiveModel::Errors (class)"><code>Errors</code></a> object that holds all information about attribute error messages.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_validates_presence_of'>validates_presence_of</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_person'>person</span> <span class='op'>=</span> <span class='const'>Person</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_valid?'><a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">valid?</a></span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_errors'>errors</span> <span class='comment'># =&gt; #&lt;ActiveModel::Errors:0x007fe603816640 @messages={name:[&quot;can&#39;t be blank&quot;]}&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations.rb#L330-L332'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='330' data-end='332'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/validations.rb', line 330</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_errors'>errors</span>
  <span class='ivar'>@errors</span> <span class='op'>||=</span> <span class='const'><a href="Errors.html" title="ActiveModel::Errors (class)">Errors</a></span>.<span class='id identifier rubyid_new'><a href="Errors.html#new-class_method" title="ActiveModel::Errors.new (method)">new</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="invalid?-instance_method">
  <h3 class='signature '>
    #<strong>invalid?</strong>(context = nil)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Performs the opposite of <a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">#valid?</a>. Returns <code>true</code> if errors were added, <code>false</code> otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_validates_presence_of'>validates_presence_of</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_person'>person</span> <span class='op'>=</span> <span class='const'>Person</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_invalid?'>invalid?</span> <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>david</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_invalid?'>invalid?</span> <span class='comment'># =&gt; false</span></code></pre>

<p>Context can optionally be supplied to define which callbacks to test against (the context is defined on the validations using <code>:on</code>).</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_validates_presence_of'>validates_presence_of</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>on:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_person'>person</span> <span class='op'>=</span> <span class='const'>Person</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_invalid?'>invalid?</span>       <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_invalid?'>invalid?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span>) <span class='comment'># =&gt; true</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations.rb#L402-L404'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='402' data-end='404'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/validations.rb', line 402</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_invalid?'>invalid?</span>(<span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='op'>!</span><span class='id identifier rubyid_valid?'><a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">valid?</a></span>(<span class='id identifier rubyid_context'>context</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_attribute_for_validation-instance_method">
  <h3 class='signature '>
    #<strong>read_attribute_for_validation</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Hook method defining how an attribute value should be retrieved. By default this is assumed to be an instance named after the attribute. Override this method in subclasses should you need to retrieve the value for a given attribute differently:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>MyClass</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> {})
    <span class='ivar'>@data</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_read_attribute_for_validation'>read_attribute_for_validation</span>(<span class='id identifier rubyid_key'>key</span>)
    <span class='ivar'>@data</span>[<span class='id identifier rubyid_key'>key</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations.rb#L431-L431'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='431' data-end='431'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/validations.rb', line 431</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_read_attribute_for_validation'>read_attribute_for_validation</span> <span class='symbeg'>:</span><span class='id identifier rubyid_send'>send</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="valid?-instance_method">
  <h3 class='signature '>
    #<strong>valid?</strong>(context = nil)  &#x21d2; <code>Boolean</code> 
    <span class='aliases'>Also known as: <span class='names'>#validate</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Runs all the specified validations and returns <code>true</code> if no errors were added otherwise <code>false</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_validates_presence_of'>validates_presence_of</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_person'>person</span> <span class='op'>=</span> <span class='const'>Person</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_valid?'>valid?</span> <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>david</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_valid?'>valid?</span> <span class='comment'># =&gt; true</span></code></pre>

<p>Context can optionally be supplied to define which callbacks to test against (the context is defined on the validations using <code>:on</code>).</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_validates_presence_of'>validates_presence_of</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>on:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_person'>person</span> <span class='op'>=</span> <span class='const'>Person</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_valid?'>valid?</span>       <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_valid?'>valid?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_new'>new</span>) <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations.rb#L363-L369'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='363' data-end='369'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/validations.rb', line 363</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_valid?'>valid?</span>(<span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_current_context'>current_context</span><span class='comma'>,</span> <span class='kw'>self</span>.<span class='id identifier rubyid_validation_context'>validation_context</span> <span class='op'>=</span> <span class='id identifier rubyid_validation_context'>validation_context</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span>
  <span class='id identifier rubyid_errors'><a href="#errors-instance_method" title="ActiveModel::Validations#errors (method)">errors</a></span>.<span class='id identifier rubyid_clear'>clear</span>
  <span class='id identifier rubyid_run_validations!'>run_validations!</span>
<span class='kw'>ensure</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_validation_context'>validation_context</span> <span class='op'>=</span> <span class='id identifier rubyid_current_context'>current_context</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate-instance_method">
  <h3 class='signature '>
    #<strong>validate</strong>(context = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">#valid?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations.rb#L371-L371'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='371' data-end='371'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/validations.rb', line 371</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_validate'>validate</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_valid?'><a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">valid?</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate!-instance_method">
  <h3 class='signature '>
    #<strong>validate!</strong>(context = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Runs all the validations within the specified context. Returns <code>true</code> if no errors are found, raises <a href="ValidationError.html" title="ActiveModel::ValidationError (class)"><code>ValidationError</code></a> otherwise.</p>

<p><code>Validations</code> with no <code>:on</code> option will run no matter the context. <code>Validations</code> with some <code>:on</code> option will only run in the specified context.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations.rb#L411-L413'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='411' data-end='413'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/validations.rb', line 411</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_validate!'>validate!</span>(<span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_valid?'><a href="#valid%3F-instance_method" title="ActiveModel::Validations#valid? (method)">valid?</a></span>(<span class='id identifier rubyid_context'>context</span>) <span class='op'>||</span> <span class='id identifier rubyid_raise_validation_error'>raise_validation_error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validates_with-instance_method">
  <h3 class='signature '>
    #<strong>validates_with</strong>(*args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Passes the record off to the class or classes specified and allows them to add errors based on more complex conditions.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='id identifier rubyid_validate'><a href="#validate-instance_method" title="ActiveModel::Validations#validate (method)">validate</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_instance_validations'>instance_validations</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_instance_validations'>instance_validations</span>
    <span class='id identifier rubyid_validates_with'>validates_with</span> <span class='const'>MyValidator</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Please consult the class method documentation for more information on creating your own validator.</p>

<p>You may also pass it multiple classes, like so:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'>Validations</span>

  <span class='id identifier rubyid_validate'><a href="#validate-instance_method" title="ActiveModel::Validations#validate (method)">validate</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_instance_validations'>instance_validations</span><span class='comma'>,</span> <span class='label'>on:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_create'>create</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_instance_validations'>instance_validations</span>
    <span class='id identifier rubyid_validates_with'>validates_with</span> <span class='const'>MyValidator</span><span class='comma'>,</span> <span class='const'>MyOtherValidator</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Standard configuration options (<code>:on</code>, <code>:if</code> and <code>:unless</code>), which are available on the class version of <code>validates_with</code>, should instead be placed on the <code>validates</code> method as these are applied and tested in the callback.</p>

<p>If you pass any additional configuration options, they will be passed to the class and available as <code>options</code>, please refer to the class version of this method for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activemodel/lib/active_model/validations/with.rb#L144-L152'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='144' data-end='152'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activemodel/lib/active_model/validations/with.rb', line 144</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_validates_with'>validates_with</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_extract_options!'>extract_options!</span>
  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='kw'>class</span>] <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>

  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='op'>|</span>
    <span class='id identifier rubyid_validator'>validator</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_dup'>dup</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='id identifier rubyid_validator'>validator</span>.<span class='id identifier rubyid_validate'><a href="#validate-instance_method" title="ActiveModel::Validations#validate (method)">validate</a></span>(<span class='kw'>self</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>