<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveRecord::Callbacks &mdash; Rails 7.2.2.2</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::Callbacks",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Rails 7.2.2.2</a> &raquo; 
      <a href='../_index.html#alpha_C'>Index (C)</a> &raquo; 
        <a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Callbacks&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActiveRecord::Callbacks</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="Callbacks/ClassMethods.html" title="ActiveRecord::Callbacks::ClassMethods (module)"><code>ClassMethods</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="Base.html" title="ActiveRecord::Base (class)"><code>Base</code></a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L278'>activerecord/lib/active_record/callbacks.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Callbacks are hooks into the life cycle of an Active Record object that allow you to trigger logic before or after a change in the object state. This can be used to make sure that associated and dependent objects are deleted when <a href="Persistence.html#destroy-instance_method" title="ActiveRecord::Persistence#destroy (method)">ActiveRecord::Base#destroy</a> is called (by overwriting <a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">#before_destroy</a>) or to massage attributes before they’re validated (by overwriting <code>before_validation</code>). As an example of the callbacks initiated, consider the <a href="Persistence.html#save-instance_method" title="ActiveRecord::Persistence#save (method)">ActiveRecord::Base#save</a> call for a new record:</p>
<ul><li>
<p>(-) <code>save</code></p>
</li><li>
<p>(-) <code>valid</code></p>
</li><li>
<p>(1) <code>before_validation</code></p>
</li><li>
<p>(-) <code>validate</code></p>
</li><li>
<p>(2) <code>after_validation</code></p>
</li><li>
<p>(3) <a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">#before_save</a></p>
</li><li>
<p>(4) <a href="#before_create-instance_method" title="ActiveRecord::Callbacks#before_create (method)">#before_create</a></p>
</li><li>
<p>(-) <code>create</code></p>
</li><li>
<p>(5) <a href="#after_create-instance_method" title="ActiveRecord::Callbacks#after_create (method)">#after_create</a></p>
</li><li>
<p>(6) <a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">#after_save</a></p>
</li><li>
<p>(7) <code>after_commit</code></p>
</li></ul>

<p>Also, an <code>after_rollback</code> callback can be configured to be triggered whenever a rollback is issued. Check out <a href="Transactions.html" title="ActiveRecord::Transactions (module)"><code>Transactions</code></a> for more details about <code>after_commit</code> and <code>after_rollback</code>.</p>

<p>Additionally, an <a href="#after_touch-instance_method" title="ActiveRecord::Callbacks#after_touch (method)">#after_touch</a> callback is triggered whenever an object is touched.</p>

<p>Lastly an <a href="#after_find-instance_method" title="ActiveRecord::Callbacks#after_find (method)">#after_find</a> and <a href="#after_initialize-instance_method" title="ActiveRecord::Callbacks#after_initialize (method)">#after_initialize</a> callback is triggered for each object that is found and instantiated by a finder, with <a href="#after_initialize-instance_method" title="ActiveRecord::Callbacks#after_initialize (method)">#after_initialize</a> being triggered after new objects are instantiated as well.</p>

<p>There are nineteen callbacks in total, which give a lot of control over how to react and prepare for each state in the Active Record life cycle. The sequence for calling <a href="Persistence.html#save-instance_method" title="ActiveRecord::Persistence#save (method)">ActiveRecord::Base#save</a> for an existing record is similar, except that each <code>_create</code> callback is replaced by the corresponding <code>_update</code> callback.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>CreditCard</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='comment'># Strip everything but digits, so the user can specify &quot;555 234 34&quot; or
</span>  <span class='comment'># &quot;5552-3434&quot; and both will mean &quot;55523434&quot;
</span>  <span class='id identifier rubyid_before_validation'>before_validation</span>(<span class='label'>on:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_create'>create</span>) <span class='kw'>do</span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_number'>number</span> <span class='op'>=</span> <span class='id identifier rubyid_number'>number</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[^0-9]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_attribute_present?'>attribute_present?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>number</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Subscription</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_before_create'><a href="#before_create-instance_method" title="ActiveRecord::Callbacks#before_create (method)">before_create</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_record_signup'>record_signup</span>

  <span class='id identifier rubyid_private'>private</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_record_signup'>record_signup</span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_signed_up_on'>signed_up_on</span> <span class='op'>=</span> <span class='const'><a href="../Date.html" title="Date (class)">Date</a></span>.<span class='id identifier rubyid_today'>today</span>
    <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Firm</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='comment'># Disables access to the system, for associated clients and people when the firm is destroyed
</span>  <span class='id identifier rubyid_before_destroy'><a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">before_destroy</a></span> { <span class='op'>|</span><span class='id identifier rubyid_record'>record</span><span class='op'>|</span> <span class='const'>Person</span>.<span class='id identifier rubyid_where'>where</span>(<span class='label'>firm_id:</span> <span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_id'>id</span>).<span class='id identifier rubyid_update_all'>update_all</span>(<span class='label'>access:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>disabled</span><span class='tstring_end'>&#39;</span></span>)   }
  <span class='id identifier rubyid_before_destroy'><a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">before_destroy</a></span> { <span class='op'>|</span><span class='id identifier rubyid_record'>record</span><span class='op'>|</span> <span class='const'>Client</span>.<span class='id identifier rubyid_where'>where</span>(<span class='label'>client_of:</span> <span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_id'>id</span>).<span class='id identifier rubyid_update_all'>update_all</span>(<span class='label'>access:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>disabled</span><span class='tstring_end'>&#39;</span></span>) }
<span class='kw'>end</span></code></pre>

<h3 id="label-Inheritable+callback+queues">Inheritable callback queues</h3>

<p>Besides the overwritable callback methods, it’s also possible to register callbacks through the use of the callback macros. Their main advantage is that the macros add behavior into a callback queue that is kept intact through an inheritance hierarchy.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Topic</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_before_destroy'><a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">before_destroy</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy_author'>destroy_author</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Reply</span> <span class='op'>&lt;</span> <span class='const'>Topic</span>
  <span class='id identifier rubyid_before_destroy'><a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">before_destroy</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy_readers'>destroy_readers</span>
<span class='kw'>end</span></code></pre>

<p>When <code>Topic#destroy</code> is run only <code>destroy_author</code> is called. When <code>Reply#destroy</code> is run, both <code>destroy_author</code> and <code>destroy_readers</code> are called.</p>

<p><strong>IMPORTANT:</strong> In order for inheritance to work for the callback queues, you must specify the callbacks before specifying the associations. Otherwise, you might trigger the loading of a child before the parent has registered the callbacks and they won’t be inherited.</p>

<h3 id="label-Types+of+callbacks">Types of callbacks</h3>

<p>There are three types of callbacks accepted by the callback macros: method references (symbol), callback objects, inline methods (using a proc). Method references and callback objects are the recommended approaches, inline methods using a proc are sometimes appropriate (such as for creating mix-ins).</p>

<p>The method reference callbacks work by specifying a protected or private method available in the object, like this:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Topic</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_before_destroy'><a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">before_destroy</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_delete_parents'>delete_parents</span>

  <span class='id identifier rubyid_private'>private</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_delete_parents'>delete_parents</span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_delete_by'>delete_by</span>(<span class='label'>parent_id:</span> <span class='id identifier rubyid_id'>id</span>)
    <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>The callback objects have methods named after the callback called with the record as the only parameter, such as:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>BankAccount</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_before_save'><a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">before_save</a></span>      <span class='const'>EncryptionWrapper</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span>       <span class='const'>EncryptionWrapper</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_after_initialize'><a href="#after_initialize-instance_method" title="ActiveRecord::Callbacks#after_initialize (method)">after_initialize</a></span> <span class='const'>EncryptionWrapper</span>.<span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>EncryptionWrapper</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_before_save'><a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">before_save</a></span>(<span class='id identifier rubyid_record'>record</span>)
    <span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_credit_card_number'>credit_card_number</span> <span class='op'>=</span> <span class='id identifier rubyid_encrypt'>encrypt</span>(<span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_credit_card_number'>credit_card_number</span>)
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span>(<span class='id identifier rubyid_record'>record</span>)
    <span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_credit_card_number'>credit_card_number</span> <span class='op'>=</span> <span class='id identifier rubyid_decrypt'>decrypt</span>(<span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_credit_card_number'>credit_card_number</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_initialize'><a href="#after_initialize-instance_method" title="ActiveRecord::Callbacks#after_initialize (method)">after_initialize</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span>

  <span class='id identifier rubyid_private'>private</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_encrypt'>encrypt</span>(<span class='id identifier rubyid_value'>value</span>)
      <span class='comment'># Secrecy is committed
</span>    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_decrypt'>decrypt</span>(<span class='id identifier rubyid_value'>value</span>)
      <span class='comment'># Secrecy is unveiled
</span>    <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>So you specify the object you want to be messaged on a given callback. When that callback is triggered, the object has a method by the name of the callback messaged. You can make these callbacks more flexible by passing in other initialization data such as the name of the attribute to work with:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>BankAccount</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_before_save'><a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">before_save</a></span>      <span class='const'>EncryptionWrapper</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>credit_card_number</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span>       <span class='const'>EncryptionWrapper</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>credit_card_number</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_after_initialize'><a href="#after_initialize-instance_method" title="ActiveRecord::Callbacks#after_initialize (method)">after_initialize</a></span> <span class='const'>EncryptionWrapper</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>credit_card_number</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>EncryptionWrapper</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_attribute'>attribute</span>)
    <span class='ivar'>@attribute</span> <span class='op'>=</span> <span class='id identifier rubyid_attribute'>attribute</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_before_save'><a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">before_save</a></span>(<span class='id identifier rubyid_record'>record</span>)
    <span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_send'>send</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@attribute</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_encrypt'>encrypt</span>(<span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_send'>send</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@attribute</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)))
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span>(<span class='id identifier rubyid_record'>record</span>)
    <span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_send'>send</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@attribute</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_decrypt'>decrypt</span>(<span class='id identifier rubyid_record'>record</span>.<span class='id identifier rubyid_send'>send</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@attribute</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)))
  <span class='kw'>end</span>

  <span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_initialize'><a href="#after_initialize-instance_method" title="ActiveRecord::Callbacks#after_initialize (method)">after_initialize</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span>

  <span class='id identifier rubyid_private'>private</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_encrypt'>encrypt</span>(<span class='id identifier rubyid_value'>value</span>)
      <span class='comment'># Secrecy is committed
</span>    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_decrypt'>decrypt</span>(<span class='id identifier rubyid_value'>value</span>)
      <span class='comment'># Secrecy is unveiled
</span>    <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<h3 id="label-before_validation-2A+returning+statements"><code>before_validation*</code> returning statements</h3>

<p>If the <code>before_validation</code> callback throws <code>:abort</code>, the process will be aborted and <a href="Persistence.html#save-instance_method" title="ActiveRecord::Persistence#save (method)">ActiveRecord::Base#save</a> will return <code>false</code>. If <a href="Persistence.html#save!-instance_method" title="ActiveRecord::Persistence#save! (method)">ActiveRecord::Base#save!</a> is called it will raise an <a href="RecordInvalid.html" title="ActiveRecord::RecordInvalid (class)"><code>RecordInvalid</code></a> exception. Nothing will be appended to the errors object.</p>

<h3 id="label-Canceling+callbacks">Canceling callbacks</h3>

<p>If a <code>before_*</code> callback throws <code>:abort</code>, all the later callbacks and the associated action are cancelled. Callbacks are generally run in the order they are defined, with the exception of callbacks defined as methods on the model, which are called last.</p>

<h3 id="label-Ordering+callbacks">Ordering callbacks</h3>

<p>Sometimes application code requires that callbacks execute in a specific order. For example, a <a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">#before_destroy</a> callback (<code>log_children</code> in this case) should be executed before records in the <code>children</code> association are destroyed by the <code>dependent: :destroy</code> option.</p>

<p>Let’s look at the code below:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Topic</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_children'>children</span><span class='comma'>,</span> <span class='label'>dependent:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy'><a href="#destroy-instance_method" title="ActiveRecord::Callbacks#destroy (method)">destroy</a></span>

  <span class='id identifier rubyid_before_destroy'><a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">before_destroy</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_log_children'>log_children</span>

  <span class='id identifier rubyid_private'>private</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_log_children'>log_children</span>
      <span class='comment'># Child processing
</span>    <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>In this case, the problem is that when the <a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">#before_destroy</a> callback is executed, records in the <code>children</code> association no longer exist because the <a href="Persistence.html#destroy-instance_method" title="ActiveRecord::Persistence#destroy (method)">ActiveRecord::Base#destroy</a> callback was executed first. You can use the <code>prepend</code> option on the <a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">#before_destroy</a> callback to avoid this.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Topic</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_children'>children</span><span class='comma'>,</span> <span class='label'>dependent:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy'><a href="#destroy-instance_method" title="ActiveRecord::Callbacks#destroy (method)">destroy</a></span>

  <span class='id identifier rubyid_before_destroy'><a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">before_destroy</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_log_children'>log_children</span><span class='comma'>,</span> <span class='label'>prepend:</span> <span class='kw'>true</span>

  <span class='id identifier rubyid_private'>private</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_log_children'>log_children</span>
      <span class='comment'># Child processing
</span>    <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>This way, the <a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">#before_destroy</a> is executed before the <code>dependent: :destroy</code> is called, and the data is still available.</p>

<p>Also, there are cases when you want several callbacks of the same type to be executed in order.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Topic</span> <span class='op'>&lt;</span> <span class='const'><a href="../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="Base.html" title="ActiveRecord::Base (class)">Base</a></span>
  <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbeg'>:</span><span class='id identifier rubyid_children'>children</span>

  <span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_log_children'>log_children</span>
  <span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_do_something_else'>do_something_else</span>

  <span class='id identifier rubyid_private'>private</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_log_children'>log_children</span>
      <span class='comment'># Child processing
</span>    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_do_something_else'>do_something_else</span>
      <span class='comment'># Something else
</span>    <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>In this case the <code>log_children</code> is executed before <code>do_something_else</code>. This applies to all non-transactional callbacks, and to <code>before_commit</code>.</p>

<p>For transactional <code>after_</code> callbacks (<code>after_commit</code>, <code>after_rollback</code>, etc), the order can be set via configuration.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_active_record'>active_record</span>.<span class='id identifier rubyid_run_after_transaction_callbacks_in_order_defined'><a href="../ActiveRecord.html#run_after_transaction_callbacks_in_order_defined-instance_method" title="ActiveRecord#run_after_transaction_callbacks_in_order_defined (method)">run_after_transaction_callbacks_in_order_defined</a></span> <span class='op'>=</span> <span class='kw'>false</span></code></pre>

<p>When set to <code>true</code> (the default from Rails 7.1), callbacks are executed in the order they are defined, just like the example above. When set to <code>false</code>, the order is reversed, so <code>do_something_else</code> is executed before <code>log_children</code>.</p>

<h3 id="label-Transactions">Transactions</h3>

<p>The entire callback chain of a <a href="Persistence.html#save-instance_method" title="ActiveRecord::Persistence#save (method)">#save</a>, <a href="Persistence.html#save!-instance_method" title="ActiveRecord::Persistence#save! (method)">#save!</a>, or <a href="Persistence.html#destroy-instance_method" title="ActiveRecord::Persistence#destroy (method)">#destroy</a> call runs within a transaction. That includes <code>after_*</code> hooks. If everything goes fine a <code>COMMIT</code> is executed once the chain has been completed.</p>

<p>If a <code>before_*</code> callback cancels the action a <code>ROLLBACK</code> is issued. You can also trigger a <code>ROLLBACK</code> raising an exception in any of the callbacks, including <code>after_*</code> hooks. Note, however, that in that case the client needs to be aware of it because an ordinary <a href="Persistence.html#save-instance_method" title="ActiveRecord::Persistence#save (method)">#save</a> will raise such exception instead of quietly returning <code>false</code>.</p>

<h3 id="label-Debugging+callbacks">Debugging callbacks</h3>

<p>The callback chain is accessible via the <code>_*_callbacks</code> method on an object. Active Model Callbacks support <code>:before</code>, <code>:after</code> and <code>:around</code> as values for the <code>kind</code> property. The <code>kind</code> property defines what part of the chain the callback runs in.</p>

<p>To find all callbacks in the <a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">#before_save</a> callback chain:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Topic</span>.<span class='id identifier rubyid__save_callbacks'>_save_callbacks</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span> <span class='id identifier rubyid_cb'>cb</span>.<span class='id identifier rubyid_kind'>kind</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_before'>before</span>) }</code></pre>

<p>Returns an array of callback objects that form the <a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">#before_save</a> chain.</p>

<p>To further check if the before_save chain contains a proc defined as <code>rest_when_dead</code> use the <code>filter</code> property of the callback object:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Topic</span>.<span class='id identifier rubyid__save_callbacks'>_save_callbacks</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span> <span class='id identifier rubyid_cb'>cb</span>.<span class='id identifier rubyid_kind'>kind</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_before'>before</span>) }.<span class='id identifier rubyid_collect'>collect</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_filter'>filter</span>).<span class='id identifier rubyid_include?'>include?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_rest_when_dead'>rest_when_dead</span>)</code></pre>

<p>Returns true or false depending on whether the proc is contained in the <a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">#before_save</a> callback chain on a Topic model.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='CALLBACKS-constant' class='summary_signature'>CALLBACKS =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L281-L286'># File 'activerecord/lib/active_record/callbacks.rb', line 281</a>    <pre class='code ruby'>[
  <span class='symbeg'>:</span><span class='id identifier rubyid_after_initialize'><a href="#after_initialize-instance_method" title="ActiveRecord::Callbacks#after_initialize (method)">after_initialize</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_find'><a href="#after_find-instance_method" title="ActiveRecord::Callbacks#after_find (method)">after_find</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_touch'><a href="#after_touch-instance_method" title="ActiveRecord::Callbacks#after_touch (method)">after_touch</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_before_validation'>before_validation</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_validation'>after_validation</span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_before_save'><a href="#before_save-instance_method" title="ActiveRecord::Callbacks#before_save (method)">before_save</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_around_save'><a href="#around_save-instance_method" title="ActiveRecord::Callbacks#around_save (method)">around_save</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_save'><a href="#after_save-instance_method" title="ActiveRecord::Callbacks#after_save (method)">after_save</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_before_create'><a href="#before_create-instance_method" title="ActiveRecord::Callbacks#before_create (method)">before_create</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_around_create'><a href="#around_create-instance_method" title="ActiveRecord::Callbacks#around_create (method)">around_create</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_after_create'><a href="#after_create-instance_method" title="ActiveRecord::Callbacks#after_create (method)">after_create</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_before_update'><a href="#before_update-instance_method" title="ActiveRecord::Callbacks#before_update (method)">before_update</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_around_update'><a href="#around_update-instance_method" title="ActiveRecord::Callbacks#around_update (method)">around_update</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_update'><a href="#after_update-instance_method" title="ActiveRecord::Callbacks#after_update (method)">after_update</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_before_destroy'><a href="#before_destroy-instance_method" title="ActiveRecord::Callbacks#before_destroy (method)">before_destroy</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_around_destroy'><a href="#around_destroy-instance_method" title="ActiveRecord::Callbacks#around_destroy (method)">around_destroy</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_destroy'><a href="#after_destroy-instance_method" title="ActiveRecord::Callbacks#after_destroy (method)">after_destroy</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_commit'>after_commit</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_rollback'>after_rollback</span>
]</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)"><code>::ActiveSupport::Concern</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Concern.html#class_methods-instance_method" title="ActiveSupport::Concern#class_methods (method)">class_methods</a></td>
      <td><div class='inline'><p>Define class methods from given block.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../ActiveSupport/Concern.html#prepended-instance_method" title="ActiveSupport::Concern#prepended (method)">prepended</a></td>
      <td><div class='inline'><p>Evaluate given block in context of base class, so that you can write class macros here.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#after_create-instance_method" title="#after_create (instance method)">#<strong>after_create</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called after a record is created.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_destroy-instance_method" title="#after_destroy (instance method)">#<strong>after_destroy</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called after a record is destroyed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_find-instance_method" title="#after_find (instance method)">#<strong>after_find</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called after a record is instantiated via a finder.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_initialize-instance_method" title="#after_initialize (instance method)">#<strong>after_initialize</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called after a record is instantiated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_save-instance_method" title="#after_save (instance method)">#<strong>after_save</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called after a record is saved.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_touch-instance_method" title="#after_touch (instance method)">#<strong>after_touch</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called after a record is touched.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_update-instance_method" title="#after_update (instance method)">#<strong>after_update</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called after a record is updated.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#around_create-instance_method" title="#around_create (instance method)">#<strong>around_create</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called around the creation of a record.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#around_destroy-instance_method" title="#around_destroy (instance method)">#<strong>around_destroy</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called around the destruction of a record.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#around_save-instance_method" title="#around_save (instance method)">#<strong>around_save</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called around the save of a record.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#around_update-instance_method" title="#around_update (instance method)">#<strong>around_update</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called around the update of a record.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before_create-instance_method" title="#before_create (instance method)">#<strong>before_create</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called before a record is created.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before_destroy-instance_method" title="#before_destroy (instance method)">#<strong>before_destroy</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called before a record is destroyed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before_save-instance_method" title="#before_save (instance method)">#<strong>before_save</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called before a record is saved.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before_update-instance_method" title="#before_update (instance method)">#<strong>before_update</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Registers a callback to be called before a record is updated.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>DSL Calls</h2>
<section class='method_details first' id="included-dslcall">
<h3 class='signature'><strong>included</strong></h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L412-L417'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num'>


412
413
414
415
416
417</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 412</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_included'>included</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span><span class='op'>::</span><span class='const'><a href="../ActiveModel/Validations.html" title="ActiveModel::Validations (module)">Validations</a></span><span class='op'>::</span><span class='const'><a href="../ActiveModel/Validations/Callbacks.html" title="ActiveModel::Validations::Callbacks (module)">Callbacks</a></span>

  <span class='id identifier rubyid_define_model_callbacks'>define_model_callbacks</span> <span class='symbeg'>:</span><span class='id identifier rubyid_initialize'>initialize</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_find'>find</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_touch'><a href="#touch-instance_method" title="ActiveRecord::Callbacks#touch (method)">touch</a></span><span class='comma'>,</span> <span class='label'>only:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after'>after</span>
  <span class='id identifier rubyid_define_model_callbacks'>define_model_callbacks</span> <span class='symbeg'>:</span><span class='id identifier rubyid_save'>save</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_create'>create</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_update'>update</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy'><a href="#destroy-instance_method" title="ActiveRecord::Callbacks#destroy (method)">destroy</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="after_create-instance_method">
  <h3 class='signature  first'>
    #<strong>after_create</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called after a record is created. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L356-L356'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='356' data-end='356'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 356</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_after_create'>after_create</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_destroy-instance_method">
  <h3 class='signature '>
    #<strong>after_destroy</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called after a record is destroyed. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L404-L404'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='404' data-end='404'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 404</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_after_destroy'>after_destroy</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_find-instance_method">
  <h3 class='signature '>
    #<strong>after_find</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called after a record is instantiated via a finder. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L300-L300'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='300' data-end='300'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 300</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_after_find'>after_find</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_initialize-instance_method">
  <h3 class='signature '>
    #<strong>after_initialize</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called after a record is instantiated. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L292-L292'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='292' data-end='292'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 292</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_after_initialize'>after_initialize</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_save-instance_method">
  <h3 class='signature '>
    #<strong>after_save</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called after a record is saved. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L332-L332'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='332' data-end='332'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 332</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_after_save'>after_save</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_touch-instance_method">
  <h3 class='signature '>
    #<strong>after_touch</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called after a record is touched. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L308-L308'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='308' data-end='308'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 308</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_after_touch'>after_touch</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_update-instance_method">
  <h3 class='signature '>
    #<strong>after_update</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called after a record is updated. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L380-L380'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='380' data-end='380'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 380</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_after_update'>after_update</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="around_create-instance_method">
  <h3 class='signature '>
    #<strong>around_create</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called around the creation of a record. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L348-L348'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='348' data-end='348'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 348</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_around_create'>around_create</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="around_destroy-instance_method">
  <h3 class='signature '>
    #<strong>around_destroy</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called around the destruction of a record. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L396-L396'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='396' data-end='396'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 396</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_around_destroy'>around_destroy</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="around_save-instance_method">
  <h3 class='signature '>
    #<strong>around_save</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called around the save of a record. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L324-L324'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='324' data-end='324'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 324</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_around_save'>around_save</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="around_update-instance_method">
  <h3 class='signature '>
    #<strong>around_update</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called around the update of a record. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L372-L372'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='372' data-end='372'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 372</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_around_update'>around_update</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before_create-instance_method">
  <h3 class='signature '>
    #<strong>before_create</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called before a record is created. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L340-L340'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='340' data-end='340'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 340</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_before_create'>before_create</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before_destroy-instance_method">
  <h3 class='signature '>
    #<strong>before_destroy</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called before a record is destroyed. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L388-L388'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='388' data-end='388'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 388</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_before_destroy'>before_destroy</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before_save-instance_method">
  <h3 class='signature '>
    #<strong>before_save</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called before a record is saved. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L316-L316'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='316' data-end='316'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 316</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_before_save'>before_save</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before_update-instance_method">
  <h3 class='signature '>
    #<strong>before_update</strong>(*args, &amp;block)    </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Registers a callback to be called before a record is updated. See <code>Callbacks</code> for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/callbacks.rb#L364-L364'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='364' data-end='364'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/callbacks.rb', line 364</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_rdoc_method'>rdoc_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span><span class='op'>:</span> <span class='id identifier rubyid_before_update'>before_update</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>