<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: ActiveRecord::Tasks::DatabaseTasks &mdash; Rails 7.2.2.2</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "ActiveRecord::Tasks::DatabaseTasks",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Rails 7.2.2.2</a> &raquo; 
      <a href='../../_index.html#alpha_D'>Index (D)</a> &raquo; 
        <a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a> &raquo; 
        <a href="../Tasks.html" title="ActiveRecord::Tasks (module)">Tasks</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>DatabaseTasks&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: ActiveRecord::Tasks::DatabaseTasks</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L40'>activerecord/lib/active_record/tasks/database_tasks.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-Active+Record+DatabaseTasks">Active Record DatabaseTasks</h3>

<p><code>DatabaseTasks</code> is a utility class, which encapsulates logic behind common tasks used to manage database and migrations.</p>

<p>The tasks defined here are used with Rails commands provided by Active Record.</p>

<p>In order to use <code>DatabaseTasks</code>, a few config values need to be set. All the needed config values are set by Rails already, so it’s necessary to do it only if you want to change the defaults or when you want to use Active Record outside of Rails (in such case after configuring the database tasks, you can also use the rake tasks defined in Active Record).</p>

<p>The possible config values are:</p>
<ul><li>
<p><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">#env</a>: current environment (like <a href="../../Rails.html#env-class_method" title="Rails.env (method)">Rails.env</a>).</p>
</li><li>
<p><a href="#database_configuration-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#database_configuration (method)">#database_configuration</a>: configuration of your databases (as in <code>config/database.yml</code>).</p>
</li><li>
<p><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">#db_dir</a>: your <code>db</code> directory.</p>
</li><li>
<p><a href="#fixtures_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#fixtures_path (method)">#fixtures_path</a>: a path to fixtures directory.</p>
</li><li>
<p><a href="#migrations_paths-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migrations_paths (method)">#migrations_paths</a>: a list of paths to directories with migrations.</p>
</li><li>
<p><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">#seed_loader</a>: an object which will load seeds, it needs to respond to the <a href="#load_seed-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#load_seed (method)">#load_seed</a> method.</p>
</li><li>
<p><a href="#root-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#root (method)">#root</a>: a path to the root of the application.</p>
</li></ul>

<p>Example usage of <code>DatabaseTasks</code> outside Rails could look as such:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Tasks.html" title="ActiveRecord::Tasks (module)">Tasks</a></span>
<span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_database_configuration'><a href="#database_configuration-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#database_configuration (method)">database_configuration</a></span> <span class='op'>=</span> <span class='const'>YAML</span>.<span class='id identifier rubyid_load_file'>load_file</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_database_config.yml</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>db</span><span class='tstring_end'>&#39;</span></span>
<span class='comment'># other settings...
</span>
<span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_create_current'><a href="#create_current-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#create_current (method)">create_current</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>production</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='LOCAL_HOSTS-constant' class='summary_signature'>LOCAL_HOSTS =</span>
    <br/>
    <a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L63-L63'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 63</a>    <pre class='code ruby'>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span>]</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#structure_dump_flags-class_method" title=".structure_dump_flags (class method)">.<strong>structure_dump_flags</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Extra flags passed to database CLI tool (mysqldump/pg_dump) when calling db:schema:dump It can be used as a string/array (the typical case) or a hash (when you use multiple adapters) Example:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#structure_load_flags-class_method" title=".structure_load_flags (class method)">.<strong>structure_load_flags</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Extra flags passed to database CLI tool when calling db:schema:load It can be used as a string/array (the typical case) or a hash (when you use multiple adapters).</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#database_configuration-instance_method" title="#database_configuration (instance method)">#<strong>database_configuration</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#db_dir-instance_method" title="#db_dir (instance method)">#<strong>db_dir</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#db_dir=-instance_method" title="#db_dir= (instance method)">#<strong>db_dir=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#env-instance_method" title="#env (instance method)">#<strong>env</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#env=-instance_method" title="#env= (instance method)">#<strong>env=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#fixtures_path-instance_method" title="#fixtures_path (instance method)">#<strong>fixtures_path</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#fixtures_path=-instance_method" title="#fixtures_path= (instance method)">#<strong>fixtures_path=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#migrations_paths-instance_method" title="#migrations_paths (instance method)">#<strong>migrations_paths</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#migrations_paths=-instance_method" title="#migrations_paths= (instance method)">#<strong>migrations_paths=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#root-instance_method" title="#root (instance method)">#<strong>root</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#root=-instance_method" title="#root= (instance method)">#<strong>root=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#seed_loader-instance_method" title="#seed_loader (instance method)">#<strong>seed_loader</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#seed_loader=-instance_method" title="#seed_loader= (instance method)">#<strong>seed_loader=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#cache_dump_filename-instance_method" title="#cache_dump_filename (instance method)">#<strong>cache_dump_filename</strong>(db_config_or_name, schema_cache_path: nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#charset-instance_method" title="#charset (instance method)">#<strong>charset</strong>(configuration, *arguments)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#charset_current-instance_method" title="#charset_current (instance method)">#<strong>charset_current</strong>(env_name = env, db_name = name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#check_protected_environments!-instance_method" title="#check_protected_environments! (instance method)">#<strong>check_protected_environments!</strong>(environment = env)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#check_schema_file-instance_method" title="#check_schema_file (instance method)">#<strong>check_schema_file</strong>(filename)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#check_target_version-instance_method" title="#check_target_version (instance method)">#<strong>check_target_version</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear_schema_cache-instance_method" title="#clear_schema_cache (instance method)">#<strong>clear_schema_cache</strong>(filename)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collation-instance_method" title="#collation (instance method)">#<strong>collation</strong>(configuration, *arguments)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#collation_current-instance_method" title="#collation_current (instance method)">#<strong>collation_current</strong>(env_name = env, db_name = name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>(configuration, *arguments)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#create_all-instance_method" title="#create_all (instance method)">#<strong>create_all</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#create_current-instance_method" title="#create_current (instance method)">#<strong>create_current</strong>(environment = env, name = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#drop-instance_method" title="#drop (instance method)">#<strong>drop</strong>(configuration, *arguments)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#drop_all-instance_method" title="#drop_all (instance method)">#<strong>drop_all</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#drop_current-instance_method" title="#drop_current (instance method)">#<strong>drop_current</strong>(environment = env)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dump_schema_cache-instance_method" title="#dump_schema_cache (instance method)">#<strong>dump_schema_cache</strong>(conn_or_pool, filename)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Dumps the schema cache in YAML format for the connection into the file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#load_schema_current-instance_method" title="#load_schema_current (instance method)">#<strong>load_schema_current</strong>(format = ActiveRecord.schema_format, file = nil, environment = env)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#load_seed-instance_method" title="#load_seed (instance method)">#<strong>load_seed</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#migrate-instance_method" title="#migrate (instance method)">#<strong>migrate</strong>(version = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#migrate_status-instance_method" title="#migrate_status (instance method)">#<strong>migrate_status</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepare_all-instance_method" title="#prepare_all (instance method)">#<strong>prepare_all</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#purge-instance_method" title="#purge (instance method)">#<strong>purge</strong>(configuration)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#purge_all-instance_method" title="#purge_all (instance method)">#<strong>purge_all</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#purge_current-instance_method" title="#purge_current (instance method)">#<strong>purge_current</strong>(environment = env)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#register_task-instance_method" title="#register_task (instance method)">#<strong>register_task</strong>(pattern, task)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#schema_dump_path-instance_method" title="#schema_dump_path (instance method)">#<strong>schema_dump_path</strong>(db_config, format = ActiveRecord.schema_format)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#schema_up_to_date%3F-instance_method" title="#schema_up_to_date? (instance method)">#<strong>schema_up_to_date?</strong>(configuration, format = ActiveRecord.schema_format, file = nil)  &#x21d2; Boolean </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#structure_dump-instance_method" title="#structure_dump (instance method)">#<strong>structure_dump</strong>(configuration, *arguments)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#structure_load-instance_method" title="#structure_load (instance method)">#<strong>structure_load</strong>(configuration, *arguments)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#target_version-instance_method" title="#target_version (instance method)">#<strong>target_version</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#truncate_all-instance_method" title="#truncate_all (instance method)">#<strong>truncate_all</strong>(environment = env)  </a>
    </span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="structure_dump_flags-class_method">
  <h3 class='signature rw first'>
    .<strong>structure_dump_flags</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extra flags passed to database CLI tool (mysqldump/pg_dump) when calling db:schema:dump It can be used as a string/array (the typical case) or a hash (when you use multiple adapters) Example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Tasks.html" title="ActiveRecord::Tasks (module)">Tasks</a></span><span class='op'>::</span><span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_structure_dump_flags'>structure_dump_flags</span> <span class='op'>=</span> {
  <span class='label'>mysql2:</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>--no-defaults</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>--skip-add-drop-table</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span>
  <span class='label'>postgres:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>--no-tablespaces</span><span class='tstring_end'>&#39;</span></span>
}</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L50-L50'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='50' data-end='50'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_structure_dump_flags'>structure_dump_flags</span><span class='comma'>,</span> <span class='label'>instance_accessor:</span> <span class='kw'>false</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="structure_load_flags-class_method">
  <h3 class='signature rw'>
    .<strong>structure_load_flags</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extra flags passed to database CLI tool when calling db:schema:load It can be used as a string/array (the typical case) or a hash (when you use multiple adapters)</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L56-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='56' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_structure_load_flags'>structure_load_flags</span><span class='comma'>,</span> <span class='label'>instance_accessor:</span> <span class='kw'>false</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="database_configuration-instance_method">
  <h3 class='signature rw first'>
    #<strong>database_configuration</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L61-L61'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='61' data-end='61'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 61</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_database_configuration'>database_configuration</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="db_dir-instance_method">
  <h3 class='signature rw'>
    #<strong>db_dir</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L83-L85'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='83' data-end='85'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 83</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_db_dir'>db_dir</span>
  <span class='ivar'>@db_dir</span> <span class='op'>||=</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_application'><a href="../../Rails.html#application-class_method" title="Rails.application (method)">application</a></span>.<span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_paths'>paths</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>db</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="db_dir=-instance_method">
  <h3 class='signature rw'>
    #<strong>db_dir=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L60-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_migrations_paths'><a href="#migrations_paths-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migrations_paths (method)">migrations_paths</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fixtures_path'><a href="#fixtures_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#fixtures_path (method)">fixtures_path</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_seed_loader'><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">seed_loader</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="env-instance_method">
  <h3 class='signature rw'>
    #<strong>env</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L103-L105'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='103' data-end='105'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 103</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_env'>env</span>
  <span class='ivar'>@env</span> <span class='op'>||=</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_env'><a href="../../Rails.html#env-class_method" title="Rails.env (method)">env</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="env=-instance_method">
  <h3 class='signature rw'>
    #<strong>env=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L60-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_migrations_paths'><a href="#migrations_paths-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migrations_paths (method)">migrations_paths</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fixtures_path'><a href="#fixtures_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#fixtures_path (method)">fixtures_path</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_seed_loader'><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">seed_loader</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fixtures_path-instance_method">
  <h3 class='signature rw'>
    #<strong>fixtures_path</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L91-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='91' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 91</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_fixtures_path'>fixtures_path</span>
  <span class='ivar'>@fixtures_path</span> <span class='op'>||=</span> <span class='kw'>if</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FIXTURES_PATH</span><span class='tstring_end'>&quot;</span></span>]
    <span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='comma'>,</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FIXTURES_PATH</span><span class='tstring_end'>&quot;</span></span>])
  <span class='kw'>else</span>
    <span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fixtures</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="fixtures_path=-instance_method">
  <h3 class='signature rw'>
    #<strong>fixtures_path=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L60-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_migrations_paths'><a href="#migrations_paths-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migrations_paths (method)">migrations_paths</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fixtures_path'><a href="#fixtures_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#fixtures_path (method)">fixtures_path</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_seed_loader'><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">seed_loader</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="migrations_paths-instance_method">
  <h3 class='signature rw'>
    #<strong>migrations_paths</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L87-L89'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='87' data-end='89'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 87</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_migrations_paths'>migrations_paths</span>
  <span class='ivar'>@migrations_paths</span> <span class='op'>||=</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_application'><a href="../../Rails.html#application-class_method" title="Rails.application (method)">application</a></span>.<span class='id identifier rubyid_paths'>paths</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>db/migrate</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="migrations_paths=-instance_method">
  <h3 class='signature rw'>
    #<strong>migrations_paths=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L60-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_migrations_paths'><a href="#migrations_paths-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migrations_paths (method)">migrations_paths</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fixtures_path'><a href="#fixtures_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#fixtures_path (method)">fixtures_path</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_seed_loader'><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">seed_loader</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="root-instance_method">
  <h3 class='signature rw'>
    #<strong>root</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L99-L101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='99' data-end='101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 99</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>
  <span class='ivar'>@root</span> <span class='op'>||=</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_root'><a href="../../Rails.html#root-class_method" title="Rails.root (method)">root</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="root=-instance_method">
  <h3 class='signature rw'>
    #<strong>root=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L60-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_migrations_paths'><a href="#migrations_paths-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migrations_paths (method)">migrations_paths</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fixtures_path'><a href="#fixtures_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#fixtures_path (method)">fixtures_path</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_seed_loader'><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">seed_loader</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="seed_loader-instance_method">
  <h3 class='signature rw'>
    #<strong>seed_loader</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L111-L113'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='111' data-end='113'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 111</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_seed_loader'>seed_loader</span>
  <span class='ivar'>@seed_loader</span> <span class='op'>||=</span> <span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_application'><a href="../../Rails.html#application-class_method" title="Rails.application (method)">application</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="seed_loader=-instance_method">
  <h3 class='signature rw'>
    #<strong>seed_loader=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L60-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_migrations_paths'><a href="#migrations_paths-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migrations_paths (method)">migrations_paths</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_fixtures_path'><a href="#fixtures_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#fixtures_path (method)">fixtures_path</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_root'><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_seed_loader'><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">seed_loader</a></span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="cache_dump_filename-instance_method">
  <h3 class='signature  first'>
    #<strong>cache_dump_filename</strong>(db_config_or_name, schema_cache_path: nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L460-L480'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='460' data-end='480'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 460</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_cache_dump_filename'>cache_dump_filename</span>(<span class='id identifier rubyid_db_config_or_name'>db_config_or_name</span><span class='comma'>,</span> <span class='label'>schema_cache_path:</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_db_config_or_name'>db_config_or_name</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../DatabaseConfigurations.html" title="ActiveRecord::DatabaseConfigurations (class)">DatabaseConfigurations</a></span><span class='op'>::</span><span class='const'><a href="../DatabaseConfigurations/DatabaseConfig.html" title="ActiveRecord::DatabaseConfigurations::DatabaseConfig (class)">DatabaseConfig</a></span>)
    <span class='id identifier rubyid_schema_cache_path'>schema_cache_path</span> <span class='op'>||</span>
      <span class='id identifier rubyid_db_config_or_name'>db_config_or_name</span>.<span class='id identifier rubyid_schema_cache_path'>schema_cache_path</span> <span class='op'>||</span>
      <span class='id identifier rubyid_schema_cache_env'>schema_cache_env</span> <span class='op'>||</span>
      <span class='id identifier rubyid_db_config_or_name'>db_config_or_name</span>.<span class='id identifier rubyid_default_schema_cache_path'>default_schema_cache_path</span>(<span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Tasks.html" title="ActiveRecord::Tasks (module)">Tasks</a></span><span class='op'>::</span><span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span>)
  <span class='kw'>else</span>
    <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_deprecator'><a href="../../ActiveRecord.html#deprecator-class_method" title="ActiveRecord.deprecator (method)">deprecator</a></span>.<span class='id identifier rubyid_warn'>warn</span>(<span class='heredoc_beg'>&lt;&lt;~MSG</span>.<span class='id identifier rubyid_squish'>squish</span>)
<span class='ignored_sp'>      </span><span class='tstring_content'>Passing a database name to `cache_dump_filename` is deprecated and will be removed in Rails 8.0. Pass a
</span><span class='ignored_sp'>      </span><span class='tstring_content'>`ActiveRecord::DatabaseConfigurations::DatabaseConfig` object instead.
</span><span class='heredoc_end'>    MSG
</span>
    <span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Base.html" title="ActiveRecord::Base (class)">Base</a></span>.<span class='id identifier rubyid_configurations'><a href="../Base.html#configurations-class_method" title="ActiveRecord::Base.configurations (method)">configurations</a></span>.<span class='id identifier rubyid_primary?'>primary?</span>(<span class='id identifier rubyid_db_config_or_name'>db_config_or_name</span>)
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>schema_cache.yml</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_db_config_or_name'>db_config_or_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_schema_cache.yml</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_schema_cache_path'>schema_cache_path</span> <span class='op'>||</span> <span class='id identifier rubyid_schema_cache_env'>schema_cache_env</span> <span class='op'>||</span> <span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_join'>join</span>(<span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Tasks.html" title="ActiveRecord::Tasks (module)">Tasks</a></span><span class='op'>::</span><span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="charset-instance_method">
  <h3 class='signature '>
    #<strong>charset</strong>(configuration, *arguments)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L324-L327'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='324' data-end='327'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 324</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_charset'>charset</span>(<span class='id identifier rubyid_configuration'>configuration</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_configuration'>resolve_configuration</span>(<span class='id identifier rubyid_configuration'>configuration</span>)
  <span class='id identifier rubyid_database_adapter_for'>database_adapter_for</span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>).<span class='id identifier rubyid_charset'>charset</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="charset_current-instance_method">
  <h3 class='signature '>
    #<strong>charset_current</strong>(env_name = env, db_name = name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L319-L322'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='319' data-end='322'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 319</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_charset_current'>charset_current</span>(<span class='id identifier rubyid_env_name'>env_name</span> <span class='op'>=</span> <span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='id identifier rubyid_db_name'>db_name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#name (method)">name</a></span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_configs_for'>configs_for</span>(<span class='label'>env_name:</span> <span class='id identifier rubyid_env_name'>env_name</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='id identifier rubyid_db_name'>db_name</span>)
  <span class='id identifier rubyid_charset'><a href="#charset-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#charset (method)">charset</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_protected_environments!-instance_method">
  <h3 class='signature '>
    #<strong>check_protected_environments!</strong>(environment = env)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L65-L71'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='65' data-end='71'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 65</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_protected_environments!'>check_protected_environments!</span>(<span class='id identifier rubyid_environment'>environment</span> <span class='op'>=</span> <span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DISABLE_DATABASE_ENVIRONMENT_CHECK</span><span class='tstring_end'>&quot;</span></span>]

  <span class='id identifier rubyid_configs_for'>configs_for</span>(<span class='label'>env_name:</span> <span class='id identifier rubyid_environment'>environment</span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span>
    <span class='id identifier rubyid_check_current_protected_environment!'>check_current_protected_environment!</span>(<span class='id identifier rubyid_db_config'>db_config</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_schema_file-instance_method">
  <h3 class='signature '>
    #<strong>check_schema_file</strong>(filename)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L490-L496'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='490' data-end='496'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 490</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_schema_file'>check_schema_file</span>(<span class='id identifier rubyid_filename'>filename</span>)
  <span class='kw'>unless</span> <span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_filename'>filename</span>)
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>%{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'> doesn&#39;t exist yet. Run `bin/rails db:migrate` to create it, then try again.</span><span class='tstring_end'>}</span></span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>%{</span><span class='tstring_content'> If you do not intend to use a database, you should instead alter </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_root'><a href="../../Rails.html#root-class_method" title="Rails.root (method)">root</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>/config/application.rb to limit the frameworks that will be loaded.</span><span class='tstring_end'>}</span></span> <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='op'>::</span><span class='const'><a href="../../Rails.html" title="Rails (module)">Rails</a></span>.<span class='id identifier rubyid_root'><a href="../../Rails.html#root-class_method" title="Rails.root (method)">root</a></span>)
    <span class='const'><a href="../../Kernel.html" title="Kernel (module)">Kernel</a></span>.<span class='id identifier rubyid_abort'>abort</span> <span class='id identifier rubyid_message'>message</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_target_version-instance_method">
  <h3 class='signature '>
    #<strong>check_target_version</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L309-L313'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='309' data-end='313'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 309</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_target_version'>check_target_version</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_target_version'><a href="#target_version-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#target_version (method)">target_version</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'><a href="../Migration.html" title="ActiveRecord::Migration (class)">Migration</a></span>.<span class='id identifier rubyid_valid_version_format?'><a href="../Migration.html#valid_version_format%3F-class_method" title="ActiveRecord::Migration.valid_version_format? (method)">valid_version_format?</a></span>(<span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VERSION</span><span class='tstring_end'>&quot;</span></span>])
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid format of target version: `VERSION=</span><span class='embexpr_beg'>#{</span><span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>VERSION</span><span class='tstring_end'>&#39;</span></span>]<span class='embexpr_end'>}</span><span class='tstring_content'>`</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear_schema_cache-instance_method">
  <h3 class='signature '>
    #<strong>clear_schema_cache</strong>(filename)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L516-L518'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='516' data-end='518'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 516</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_schema_cache'>clear_schema_cache</span>(<span class='id identifier rubyid_filename'>filename</span>)
  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_rm_f'>rm_f</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='label'>verbose:</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="collation-instance_method">
  <h3 class='signature '>
    #<strong>collation</strong>(configuration, *arguments)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L334-L337'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='334' data-end='337'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 334</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collation'>collation</span>(<span class='id identifier rubyid_configuration'>configuration</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_configuration'>resolve_configuration</span>(<span class='id identifier rubyid_configuration'>configuration</span>)
  <span class='id identifier rubyid_database_adapter_for'>database_adapter_for</span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>).<span class='id identifier rubyid_collation'>collation</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="collation_current-instance_method">
  <h3 class='signature '>
    #<strong>collation_current</strong>(env_name = env, db_name = name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L329-L332'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='329' data-end='332'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 329</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collation_current'>collation_current</span>(<span class='id identifier rubyid_env_name'>env_name</span> <span class='op'>=</span> <span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='id identifier rubyid_db_name'>db_name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#name (method)">name</a></span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_configs_for'>configs_for</span>(<span class='label'>env_name:</span> <span class='id identifier rubyid_env_name'>env_name</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='id identifier rubyid_db_name'>db_name</span>)
  <span class='id identifier rubyid_collation'><a href="#collation-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#collation (method)">collation</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create-instance_method">
  <h3 class='signature '>
    #<strong>create</strong>(configuration, *arguments)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L115-L125'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='115' data-end='125'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 115</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>(<span class='id identifier rubyid_configuration'>configuration</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_configuration'>resolve_configuration</span>(<span class='id identifier rubyid_configuration'>configuration</span>)
  <span class='id identifier rubyid_database_adapter_for'>database_adapter_for</span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>).<span class='id identifier rubyid_create'>create</span>
  <span class='gvar'>$stdout</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Created database &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_database'>database</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_verbose?'>verbose?</span>
<span class='kw'>rescue</span> <span class='const'><a href="../DatabaseAlreadyExists.html" title="ActiveRecord::DatabaseAlreadyExists (class)">DatabaseAlreadyExists</a></span>
  <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Database &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_database'>database</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; already exists</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_verbose?'>verbose?</span>
<span class='kw'>rescue</span> <span class='const'><a href="../../Exception.html" title="Exception (class)">Exception</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
  <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_error'>error</span>
  <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Couldn&#39;t create &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_database'>database</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; database. Please check your configuration.</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_all-instance_method">
  <h3 class='signature '>
    #<strong>create_all</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L127-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='127' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 127</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create_all'>create_all</span>
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_migration_connection'><a href="#migration_connection-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_connection (method)">migration_connection</a></span>.<span class='id identifier rubyid_pool'>pool</span>.<span class='id identifier rubyid_db_config'>db_config</span>

  <span class='id identifier rubyid_each_local_configuration'>each_local_configuration</span> { <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span> <span class='id identifier rubyid_create'><a href="#create-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#create (method)">create</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>) }

  <span class='id identifier rubyid_migration_class'><a href="#migration_class-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_class (method)">migration_class</a></span>.<span class='id identifier rubyid_establish_connection'>establish_connection</span>(<span class='id identifier rubyid_db_config'>db_config</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_current-instance_method">
  <h3 class='signature '>
    #<strong>create_current</strong>(environment = env, name = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L170-L174'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='170' data-end='174'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 170</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create_current'>create_current</span>(<span class='id identifier rubyid_environment'>environment</span> <span class='op'>=</span> <span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#name (method)">name</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_each_current_configuration'>each_current_configuration</span>(<span class='id identifier rubyid_environment'>environment</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#name (method)">name</a></span>) { <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span> <span class='id identifier rubyid_create'><a href="#create-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#create (method)">create</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>) }

  <span class='id identifier rubyid_migration_class'><a href="#migration_class-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_class (method)">migration_class</a></span>.<span class='id identifier rubyid_establish_connection'>establish_connection</span>(<span class='id identifier rubyid_environment'>environment</span>.<span class='id identifier rubyid_to_sym'>to_sym</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="drop-instance_method">
  <h3 class='signature '>
    #<strong>drop</strong>(configuration, *arguments)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L223-L233'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='223' data-end='233'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 223</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_drop'>drop</span>(<span class='id identifier rubyid_configuration'>configuration</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_configuration'>resolve_configuration</span>(<span class='id identifier rubyid_configuration'>configuration</span>)
  <span class='id identifier rubyid_database_adapter_for'>database_adapter_for</span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>).<span class='id identifier rubyid_drop'>drop</span>
  <span class='gvar'>$stdout</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dropped database &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_database'>database</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_verbose?'>verbose?</span>
<span class='kw'>rescue</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../NoDatabaseError.html" title="ActiveRecord::NoDatabaseError (class)">NoDatabaseError</a></span>
  <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Database &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_database'>database</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; does not exist</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>rescue</span> <span class='const'><a href="../../Exception.html" title="Exception (class)">Exception</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
  <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_error'>error</span>
  <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Couldn&#39;t drop database &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_database'>database</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="drop_all-instance_method">
  <h3 class='signature '>
    #<strong>drop_all</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L235-L237'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='235' data-end='237'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 235</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_drop_all'>drop_all</span>
  <span class='id identifier rubyid_each_local_configuration'>each_local_configuration</span> { <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span> <span class='id identifier rubyid_drop'><a href="#drop-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#drop (method)">drop</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="drop_current-instance_method">
  <h3 class='signature '>
    #<strong>drop_current</strong>(environment = env)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L239-L241'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='239' data-end='241'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 239</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_drop_current'>drop_current</span>(<span class='id identifier rubyid_environment'>environment</span> <span class='op'>=</span> <span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span>)
  <span class='id identifier rubyid_each_current_configuration'>each_current_configuration</span>(<span class='id identifier rubyid_environment'>environment</span>) { <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span> <span class='id identifier rubyid_drop'><a href="#drop-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#drop (method)">drop</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dump_schema_cache-instance_method">
  <h3 class='signature '>
    #<strong>dump_schema_cache</strong>(conn_or_pool, filename)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Dumps the schema cache in YAML format for the connection into the file</p>

<h4 id="label-Examples">Examples</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Tasks.html" title="ActiveRecord::Tasks (module)">Tasks</a></span><span class='op'>::</span><span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_dump_schema_cache'>dump_schema_cache</span>(<span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Base.html" title="ActiveRecord::Base (class)">Base</a></span>.<span class='id identifier rubyid_lease_connection'><a href="../ConnectionHandling.html#lease_connection-instance_method" title="ActiveRecord::ConnectionHandling#lease_connection (method)">lease_connection</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tmp/schema_dump.yaml</span><span class='tstring_end'>&quot;</span></span>)</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L512-L514'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='512' data-end='514'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 512</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dump_schema_cache'>dump_schema_cache</span>(<span class='id identifier rubyid_conn_or_pool'>conn_or_pool</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>)
  <span class='id identifier rubyid_conn_or_pool'>conn_or_pool</span>.<span class='id identifier rubyid_schema_cache'>schema_cache</span>.<span class='id identifier rubyid_dump_to'>dump_to</span>(<span class='id identifier rubyid_filename'>filename</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_schema_current-instance_method">
  <h3 class='signature '>
    #<strong>load_schema_current</strong>(format = ActiveRecord.schema_format, file = nil, environment = env)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L482-L488'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='482' data-end='488'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 482</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_schema_current'>load_schema_current</span>(<span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_schema_format'><a href="../../ActiveRecord.html#schema_format-class_method" title="ActiveRecord.schema_format (method)">schema_format</a></span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_environment'>environment</span> <span class='op'>=</span> <span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span>)
  <span class='id identifier rubyid_each_current_configuration'>each_current_configuration</span>(<span class='id identifier rubyid_environment'>environment</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span>
    <span class='id identifier rubyid_with_temporary_connection'><a href="#with_temporary_connection-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#with_temporary_connection (method)">with_temporary_connection</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>) <span class='kw'>do</span>
      <span class='id identifier rubyid_load_schema'><a href="#load_schema-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#load_schema (method)">load_schema</a></span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='id identifier rubyid_format'>format</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_seed-instance_method">
  <h3 class='signature '>
    #<strong>load_seed</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L498-L506'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='498' data-end='506'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 498</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load_seed'>load_seed</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_seed_loader'><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">seed_loader</a></span>
    <span class='id identifier rubyid_seed_loader'><a href="#seed_loader-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#seed_loader (method)">seed_loader</a></span>.<span class='id identifier rubyid_load_seed'>load_seed</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You tried to load seed data, but no seed loader is specified. Please specify seed </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loader with ActiveRecord::Tasks::DatabaseTasks.seed_loader = your_seed_loader\n</span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Seed loader should respond to load_seed method</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="migrate-instance_method">
  <h3 class='signature '>
    #<strong>migrate</strong>(version = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L256-L275'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='256' data-end='275'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 256</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_migrate'>migrate</span>(<span class='id identifier rubyid_version'><a href="../../ActiveRecord.html#version-class_method" title="ActiveRecord.version (method)">version</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SCOPE</span><span class='tstring_end'>&quot;</span></span>]
  <span class='id identifier rubyid_verbose_was'>verbose_was</span><span class='comma'>,</span> <span class='const'><a href="../Migration.html" title="ActiveRecord::Migration (class)">Migration</a></span>.<span class='id identifier rubyid_verbose'><a href="../Migration.html#verbose-class_method" title="ActiveRecord::Migration.verbose (method)">verbose</a></span> <span class='op'>=</span> <span class='const'><a href="../Migration.html" title="ActiveRecord::Migration (class)">Migration</a></span>.<span class='id identifier rubyid_verbose'><a href="../Migration.html#verbose-class_method" title="ActiveRecord::Migration.verbose (method)">verbose</a></span><span class='comma'>,</span> <span class='id identifier rubyid_verbose?'>verbose?</span>

  <span class='id identifier rubyid_check_target_version'><a href="#check_target_version-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#check_target_version (method)">check_target_version</a></span>

  <span class='id identifier rubyid_migration_connection_pool'><a href="#migration_connection_pool-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_connection_pool (method)">migration_connection_pool</a></span>.<span class='id identifier rubyid_migration_context'>migration_context</span>.<span class='id identifier rubyid_migrate'>migrate</span>(<span class='id identifier rubyid_target_version'><a href="#target_version-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#target_version (method)">target_version</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_migration'>migration</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_version'><a href="../../ActiveRecord.html#version-class_method" title="ActiveRecord.version (method)">version</a></span>.<span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_scope'>scope</span>.<span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>||</span> <span class='id identifier rubyid_scope'>scope</span> <span class='op'>==</span> <span class='id identifier rubyid_migration'>migration</span>.<span class='id identifier rubyid_scope'>scope</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_migration'>migration</span>.<span class='id identifier rubyid_version'><a href="../../ActiveRecord.html#version-class_method" title="ActiveRecord.version (method)">version</a></span> <span class='op'>==</span> <span class='id identifier rubyid_version'><a href="../../ActiveRecord.html#version-class_method" title="ActiveRecord.version (method)">version</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>.<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_migrations_ran'>migrations_ran</span><span class='op'>|</span>
    <span class='const'><a href="../Migration.html" title="ActiveRecord::Migration (class)">Migration</a></span>.<span class='id identifier rubyid_write'><a href="../Migration.html#write-instance_method" title="ActiveRecord::Migration#write (method)">write</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No migrations ran. (using </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_scope'>scope</span><span class='embexpr_end'>}</span><span class='tstring_content'> scope)</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_scope'>scope</span>.<span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_migrations_ran'>migrations_ran</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_migration_connection_pool'><a href="#migration_connection_pool-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_connection_pool (method)">migration_connection_pool</a></span>.<span class='id identifier rubyid_schema_cache'>schema_cache</span>.<span class='id identifier rubyid_clear!'>clear!</span>
<span class='kw'>ensure</span>
  <span class='const'><a href="../Migration.html" title="ActiveRecord::Migration (class)">Migration</a></span>.<span class='id identifier rubyid_verbose'><a href="../Migration.html#verbose-class_method" title="ActiveRecord::Migration.verbose (method)">verbose</a></span> <span class='op'>=</span> <span class='id identifier rubyid_verbose_was'>verbose_was</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="migrate_status-instance_method">
  <h3 class='signature '>
    #<strong>migrate_status</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L294-L307'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='294' data-end='307'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 294</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_migrate_status'>migrate_status</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_migration_connection_pool'><a href="#migration_connection_pool-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_connection_pool (method)">migration_connection_pool</a></span>.<span class='id identifier rubyid_schema_migration'>schema_migration</span>.<span class='id identifier rubyid_table_exists?'>table_exists?</span>
    <span class='const'><a href="../../Kernel.html" title="Kernel (module)">Kernel</a></span>.<span class='id identifier rubyid_abort'>abort</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Schema migrations table does not exist yet.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># output
</span>  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\ndatabase: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_migration_connection_pool'><a href="#migration_connection_pool-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_connection_pool (method)">migration_connection_pool</a></span>.<span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_database'>database</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Status</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>8</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Migration ID</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>14</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>  Migration Name</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>50</span>
  <span class='id identifier rubyid_migration_connection_pool'><a href="#migration_connection_pool-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_connection_pool (method)">migration_connection_pool</a></span>.<span class='id identifier rubyid_migration_context'>migration_context</span>.<span class='id identifier rubyid_migrations_status'>migrations_status</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='id identifier rubyid_version'><a href="../../ActiveRecord.html#version-class_method" title="ActiveRecord.version (method)">version</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#name (method)">name</a></span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_status'>status</span>.<span class='id identifier rubyid_center'>center</span>(<span class='int'>8</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'><a href="../../ActiveRecord.html#version-class_method" title="ActiveRecord.version (method)">version</a></span>.<span class='id identifier rubyid_ljust'>ljust</span>(<span class='int'>14</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature '>
    #<strong>name</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L107-L109'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='107' data-end='109'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 107</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@name</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>primary</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepare_all-instance_method">
  <h3 class='signature '>
    #<strong>prepare_all</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L176-L221'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='176' data-end='221'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 176</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prepare_all'>prepare_all</span>
  <span class='id identifier rubyid_seed'>seed</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_dump_db_configs'>dump_db_configs</span> <span class='op'>=</span> []

  <span class='id identifier rubyid_each_current_configuration'>each_current_configuration</span>(<span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span>
    <span class='id identifier rubyid_with_temporary_pool'>with_temporary_pool</span>(<span class='id identifier rubyid_db_config'>db_config</span>) <span class='kw'>do</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_database_initialized'>database_initialized</span> <span class='op'>=</span> <span class='id identifier rubyid_migration_connection_pool'><a href="#migration_connection_pool-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_connection_pool (method)">migration_connection_pool</a></span>.<span class='id identifier rubyid_schema_migration'>schema_migration</span>.<span class='id identifier rubyid_table_exists?'>table_exists?</span>
      <span class='kw'>rescue</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../NoDatabaseError.html" title="ActiveRecord::NoDatabaseError (class)">NoDatabaseError</a></span>
        <span class='id identifier rubyid_create'><a href="#create-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#create (method)">create</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>)
        <span class='kw'>retry</span>
      <span class='kw'>end</span>

      <span class='kw'>unless</span> <span class='id identifier rubyid_database_initialized'>database_initialized</span>
        <span class='kw'>if</span> <span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_schema_dump_path'><a href="#schema_dump_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#schema_dump_path (method)">schema_dump_path</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>))
          <span class='id identifier rubyid_load_schema'><a href="#load_schema-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#load_schema (method)">load_schema</a></span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_schema_format'><a href="../../ActiveRecord.html#schema_format-class_method" title="ActiveRecord.schema_format (method)">schema_format</a></span><span class='comma'>,</span> <span class='kw'>nil</span>)
        <span class='kw'>end</span>

        <span class='id identifier rubyid_seed'>seed</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_each_current_environment'>each_current_environment</span>(<span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_environment'>environment</span><span class='op'>|</span>
    <span class='id identifier rubyid_db_configs_with_versions'><a href="#db_configs_with_versions-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_configs_with_versions (method)">db_configs_with_versions</a></span>(<span class='id identifier rubyid_environment'>environment</span>).<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_version'><a href="../../ActiveRecord.html#version-class_method" title="ActiveRecord.version (method)">version</a></span><span class='comma'>,</span> <span class='id identifier rubyid_db_configs'>db_configs</span><span class='op'>|</span>
      <span class='id identifier rubyid_dump_db_configs'>dump_db_configs</span> <span class='op'>|=</span> <span class='id identifier rubyid_db_configs'>db_configs</span>

      <span class='id identifier rubyid_db_configs'>db_configs</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span>
        <span class='id identifier rubyid_with_temporary_pool'>with_temporary_pool</span>(<span class='id identifier rubyid_db_config'>db_config</span>) <span class='kw'>do</span>
          <span class='id identifier rubyid_migrate'><a href="#migrate-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migrate (method)">migrate</a></span>(<span class='id identifier rubyid_version'><a href="../../ActiveRecord.html#version-class_method" title="ActiveRecord.version (method)">version</a></span>)
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Dump schema for databases that were migrated.
</span>  <span class='kw'>if</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_dump_schema_after_migration'><a href="../../ActiveRecord.html#dump_schema_after_migration-class_method" title="ActiveRecord.dump_schema_after_migration (method)">dump_schema_after_migration</a></span>
    <span class='id identifier rubyid_dump_db_configs'>dump_db_configs</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span>
      <span class='id identifier rubyid_with_temporary_pool'>with_temporary_pool</span>(<span class='id identifier rubyid_db_config'>db_config</span>) <span class='kw'>do</span>
        <span class='id identifier rubyid_dump_schema'><a href="#dump_schema-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#dump_schema (method)">dump_schema</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_load_seed'><a href="#load_seed-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#load_seed (method)">load_seed</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_seed'>seed</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="purge-instance_method">
  <h3 class='signature '>
    #<strong>purge</strong>(configuration)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L339-L342'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='339' data-end='342'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 339</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_purge'>purge</span>(<span class='id identifier rubyid_configuration'>configuration</span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_configuration'>resolve_configuration</span>(<span class='id identifier rubyid_configuration'>configuration</span>)
  <span class='id identifier rubyid_database_adapter_for'>database_adapter_for</span>(<span class='id identifier rubyid_db_config'>db_config</span>).<span class='id identifier rubyid_purge'>purge</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="purge_all-instance_method">
  <h3 class='signature '>
    #<strong>purge_all</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L344-L346'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='344' data-end='346'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 344</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_purge_all'>purge_all</span>
  <span class='id identifier rubyid_each_local_configuration'>each_local_configuration</span> { <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span> <span class='id identifier rubyid_purge'><a href="#purge-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#purge (method)">purge</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="purge_current-instance_method">
  <h3 class='signature '>
    #<strong>purge_current</strong>(environment = env)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L348-L352'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='348' data-end='352'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 348</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_purge_current'>purge_current</span>(<span class='id identifier rubyid_environment'>environment</span> <span class='op'>=</span> <span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span>)
  <span class='id identifier rubyid_each_current_configuration'>each_current_configuration</span>(<span class='id identifier rubyid_environment'>environment</span>) { <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span> <span class='id identifier rubyid_purge'><a href="#purge-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#purge (method)">purge</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>) }

  <span class='id identifier rubyid_migration_class'><a href="#migration_class-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#migration_class (method)">migration_class</a></span>.<span class='id identifier rubyid_establish_connection'>establish_connection</span>(<span class='id identifier rubyid_environment'>environment</span>.<span class='id identifier rubyid_to_sym'>to_sym</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="register_task-instance_method">
  <h3 class='signature '>
    #<strong>register_task</strong>(pattern, task)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L73-L76'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='73' data-end='76'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 73</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_register_task'>register_task</span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_task'>task</span>)
  <span class='ivar'>@tasks</span> <span class='op'>||=</span> {}
  <span class='ivar'>@tasks</span>[<span class='id identifier rubyid_pattern'>pattern</span>] <span class='op'>=</span> <span class='id identifier rubyid_task'>task</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="schema_dump_path-instance_method">
  <h3 class='signature '>
    #<strong>schema_dump_path</strong>(db_config, format = ActiveRecord.schema_format)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L447-L458'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='447' data-end='458'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 447</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_schema_dump_path'>schema_dump_path</span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_schema_format'><a href="../../ActiveRecord.html#schema_format-class_method" title="ActiveRecord.schema_format (method)">schema_format</a></span>)
  <span class='kw'>return</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SCHEMA</span><span class='tstring_end'>&quot;</span></span>] <span class='kw'>if</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SCHEMA</span><span class='tstring_end'>&quot;</span></span>]

  <span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_schema_dump'>schema_dump</span>(<span class='id identifier rubyid_format'>format</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_filename'>filename</span>

  <span class='kw'>if</span> <span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='id identifier rubyid_filename'>filename</span>) <span class='op'>==</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Tasks.html" title="ActiveRecord::Tasks (module)">Tasks</a></span><span class='op'>::</span><span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span>
    <span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>else</span>
    <span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_join'>join</span>(<span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span><span class='op'>::</span><span class='const'><a href="../Tasks.html" title="ActiveRecord::Tasks (module)">Tasks</a></span><span class='op'>::</span><span class='const'>DatabaseTasks</span>.<span class='id identifier rubyid_db_dir'><a href="#db_dir-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#db_dir (method)">db_dir</a></span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="schema_up_to_date?-instance_method">
  <h3 class='signature '>
    #<strong>schema_up_to_date?</strong>(configuration, format = ActiveRecord.schema_format, file = nil)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L389-L403'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='389' data-end='403'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_schema_up_to_date?'>schema_up_to_date?</span>(<span class='id identifier rubyid_configuration'>configuration</span><span class='comma'>,</span> <span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='const'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span>.<span class='id identifier rubyid_schema_format'><a href="../../ActiveRecord.html#schema_format-class_method" title="ActiveRecord.schema_format (method)">schema_format</a></span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_configuration'>resolve_configuration</span>(<span class='id identifier rubyid_configuration'>configuration</span>)

  <span class='id identifier rubyid_file'>file</span> <span class='op'>||=</span> <span class='id identifier rubyid_schema_dump_path'><a href="#schema_dump_path-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#schema_dump_path (method)">schema_dump_path</a></span>(<span class='id identifier rubyid_db_config'>db_config</span>)

  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='id identifier rubyid_file'>file</span> <span class='op'>&amp;&amp;</span> <span class='const'><a href="../../File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_file'>file</span>)

  <span class='id identifier rubyid_with_temporary_pool'>with_temporary_pool</span>(<span class='id identifier rubyid_db_config'>db_config</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pool'>pool</span><span class='op'>|</span>
    <span class='id identifier rubyid_internal_metadata'>internal_metadata</span> <span class='op'>=</span> <span class='id identifier rubyid_pool'>pool</span>.<span class='id identifier rubyid_internal_metadata'>internal_metadata</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_internal_metadata'>internal_metadata</span>.<span class='id identifier rubyid_enabled?'>enabled?</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_internal_metadata'>internal_metadata</span>.<span class='id identifier rubyid_table_exists?'>table_exists?</span>

    <span class='id identifier rubyid_internal_metadata'>internal_metadata</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_schema_sha1'>schema_sha1</span>] <span class='op'>==</span> <span class='id identifier rubyid_schema_sha1'>schema_sha1</span>(<span class='id identifier rubyid_file'>file</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="structure_dump-instance_method">
  <h3 class='signature '>
    #<strong>structure_dump</strong>(configuration, *arguments)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L354-L359'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='354' data-end='359'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 354</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_structure_dump'>structure_dump</span>(<span class='id identifier rubyid_configuration'>configuration</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_configuration'>resolve_configuration</span>(<span class='id identifier rubyid_configuration'>configuration</span>)
  <span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='int'>0</span>)
  <span class='id identifier rubyid_flags'>flags</span> <span class='op'>=</span> <span class='id identifier rubyid_structure_dump_flags_for'>structure_dump_flags_for</span>(<span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_adapter'>adapter</span>)
  <span class='id identifier rubyid_database_adapter_for'>database_adapter_for</span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>).<span class='id identifier rubyid_structure_dump'>structure_dump</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="structure_load-instance_method">
  <h3 class='signature '>
    #<strong>structure_load</strong>(configuration, *arguments)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L361-L366'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='361' data-end='366'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 361</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_structure_load'>structure_load</span>(<span class='id identifier rubyid_configuration'>configuration</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>)
  <span class='id identifier rubyid_db_config'>db_config</span> <span class='op'>=</span> <span class='id identifier rubyid_resolve_configuration'>resolve_configuration</span>(<span class='id identifier rubyid_configuration'>configuration</span>)
  <span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='id identifier rubyid_arguments'>arguments</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='int'>0</span>)
  <span class='id identifier rubyid_flags'>flags</span> <span class='op'>=</span> <span class='id identifier rubyid_structure_load_flags_for'>structure_load_flags_for</span>(<span class='id identifier rubyid_db_config'>db_config</span>.<span class='id identifier rubyid_adapter'>adapter</span>)
  <span class='id identifier rubyid_database_adapter_for'>database_adapter_for</span>(<span class='id identifier rubyid_db_config'>db_config</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>).<span class='id identifier rubyid_structure_load'>structure_load</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="target_version-instance_method">
  <h3 class='signature '>
    #<strong>target_version</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L315-L317'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='315' data-end='317'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 315</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_target_version'>target_version</span>
  <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VERSION</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VERSION</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VERSION</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="truncate_all-instance_method">
  <h3 class='signature '>
    #<strong>truncate_all</strong>(environment = env)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v7.2.2.2/activerecord/lib/active_record/tasks/database_tasks.rb#L250-L254'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='250' data-end='254'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activerecord/lib/active_record/tasks/database_tasks.rb', line 250</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_truncate_all'>truncate_all</span>(<span class='id identifier rubyid_environment'>environment</span> <span class='op'>=</span> <span class='id identifier rubyid_env'><a href="#env-instance_method" title="ActiveRecord::Tasks::DatabaseTasks#env (method)">env</a></span>)
  <span class='id identifier rubyid_configs_for'>configs_for</span>(<span class='label'>env_name:</span> <span class='id identifier rubyid_environment'>environment</span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db_config'>db_config</span><span class='op'>|</span>
    <span class='id identifier rubyid_truncate_tables'>truncate_tables</span>(<span class='id identifier rubyid_db_config'>db_config</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>