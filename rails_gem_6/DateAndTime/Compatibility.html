<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: DateAndTime::Compatibility &mdash; Rails 6.1.7.7</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "DateAndTime::Compatibility",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Rails 6.1.7.7</a> &raquo; 
      <a href='../_index.html#alpha_C'>Index (C)</a> &raquo; 
        <a href="../DateAndTime.html" title="DateAndTime (module)">DateAndTime</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Compatibility&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: DateAndTime::Compatibility</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <span class='nodoc_h'>ActiveRecord::Type::Time::Value</span>,
          <a href="../ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)"><code>::ActiveSupport::TimeWithZone</code></a>,
          <a href="../DateTime.html" title="DateTime (class)"><code>::DateTime</code></a>,
          <a href="../Time.html" title="Time (class)"><code>::Time</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rails/rails/blob/v6.1.7.7/activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb#L6'>activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#preserve_timezone-class_method" title=".preserve_timezone (class method)">.<strong>preserve_timezone</strong>  </a>
      (also: #preserve_timezone)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>If true, <code>to_time</code> preserves the timezone offset of receiver.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#utc_to_local_returns_utc_offset_times-class_method" title=".utc_to_local_returns_utc_offset_times (class method)">.<strong>utc_to_local_returns_utc_offset_times</strong>  </a>
      (also: #utc_to_local_returns_utc_offset_times)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Change the output of <code>ActiveSupport::TimeZone.utc_to_local</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#preserve_timezone-instance_method" title="#preserve_timezone (instance method)">#<strong>preserve_timezone</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#utc_to_local_returns_utc_offset_times-instance_method" title="#utc_to_local_returns_utc_offset_times (instance method)">#<strong>utc_to_local_returns_utc_offset_times</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="preserve_timezone-class_method">
  <h3 class='signature rw first'>
    .<strong>preserve_timezone</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#preserve_timezone</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If true, <code>to_time</code> preserves the timezone offset of receiver.</p>

<p>NOTE: With Ruby 2.4+ the default for <code>to_time</code> changed from converting to the local system time, to preserving the offset of the receiver. For backwards compatibility we’re overriding this behavior, but new apps will have an initializer that sets this to true, because the new behavior is preferred.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v6.1.7.7/activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb#L14-L14'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='14' data-end='14'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb', line 14</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preserve_timezone'>preserve_timezone</span><span class='comma'>,</span> <span class='label'>instance_writer:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>false</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="utc_to_local_returns_utc_offset_times-class_method">
  <h3 class='signature rw'>
    .<strong>utc_to_local_returns_utc_offset_times</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#utc_to_local_returns_utc_offset_times</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Change the output of <code>ActiveSupport::TimeZone.utc_to_local</code>.</p>

<p>When <code>true</code>, it returns local times with an UTC offset, with <code>false</code> local times are returned as UTC.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Given this zone:
</span><span class='id identifier rubyid_zone'>zone</span> <span class='op'>=</span> <span class='const'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'><a href="../ActiveSupport/TimeZone.html" title="ActiveSupport::TimeZone (class)">TimeZone</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Eastern Time (US &amp; Canada)</span><span class='tstring_end'>&quot;</span></span>]

<span class='comment'># With `utc_to_local_returns_utc_offset_times = false`, local time is converted to UTC:
</span><span class='id identifier rubyid_zone'>zone</span>.<span class='id identifier rubyid_utc_to_local'>utc_to_local</span>(<span class='const'><a href="../Time.html" title="Time (class)">Time</a></span>.<span class='id identifier rubyid_utc'>utc</span>(<span class='int'>2000</span><span class='comma'>,</span> <span class='int'>1</span>)) <span class='comment'># =&gt; 1999-12-31 19:00:00 UTC
</span>
<span class='comment'># With `utc_to_local_returns_utc_offset_times = true`, local time is returned with UTC offset:
</span><span class='id identifier rubyid_zone'>zone</span>.<span class='id identifier rubyid_utc_to_local'>utc_to_local</span>(<span class='const'><a href="../Time.html" title="Time (class)">Time</a></span>.<span class='id identifier rubyid_utc'>utc</span>(<span class='int'>2000</span><span class='comma'>,</span> <span class='int'>1</span>)) <span class='comment'># =&gt; 1999-12-31 19:00:00 -0500</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v6.1.7.7/activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb#L29-L29'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='29'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc_to_local_returns_utc_offset_times'>utc_to_local_returns_utc_offset_times</span><span class='comma'>,</span> <span class='label'>instance_writer:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>false</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="preserve_timezone-instance_method">
  <h3 class='signature ro first'>
    #<strong>preserve_timezone</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v6.1.7.7/activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb#L14-L14'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='14' data-end='14'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb', line 14</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_preserve_timezone'>preserve_timezone</span><span class='comma'>,</span> <span class='label'>instance_writer:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>false</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="utc_to_local_returns_utc_offset_times-instance_method">
  <h3 class='signature ro'>
    #<strong>utc_to_local_returns_utc_offset_times</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rails/rails/blob/v6.1.7.7/activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb#L29-L29'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='29'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'activesupport/lib/active_support/core_ext/date_and_time/compatibility.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_mattr_accessor'>mattr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_utc_to_local_returns_utc_offset_times'>utc_to_local_returns_utc_offset_times</span><span class='comma'>,</span> <span class='label'>instance_writer:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='kw'>false</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>