<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RuboCop::Cop::Lint::UnmodifiedReduceAccumulator &mdash; RuboCop master</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RuboCop::Cop::Lint::UnmodifiedReduceAccumulator",
    relpath = '../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>RuboCop master</a> &raquo; 
      <a href='../../../_index.html#alpha_U'>Index (U)</a> &raquo; 
        <a href="../../../RuboCop.html" title="RuboCop (module)">RuboCop</a> &raquo; 
        <a href="../../Cop.html" title="RuboCop::Cop (module)">Cop</a> &raquo; 
        <a href="../Lint.html" title="RuboCop::Cop::Lint (module)">Lint</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>UnmodifiedReduceAccumulator&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: RuboCop::Cop::Lint::UnmodifiedReduceAccumulator</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Base.html" title="RuboCop::Cop::Base (class)"><code>::RuboCop::Cop::Base</code></a>,
          <a href="../../ExcludeLimit.html" title="RuboCop::ExcludeLimit (module)"><code>::RuboCop::ExcludeLimit</code></a>,
          NodePattern::Macros,
          RuboCop::AST::Sexp
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Base.html" title="RuboCop::Cop::Base (class)"><code>::RuboCop::Cop::Base</code></a>,
          <a href="../AutocorrectLogic.html" title="RuboCop::Cop::AutocorrectLogic (module)"><code>::RuboCop::Cop::AutocorrectLogic</code></a>,
          <a href="../IgnoredNode.html" title="RuboCop::Cop::IgnoredNode (module)"><code>::RuboCop::Cop::IgnoredNode</code></a>,
          <a href="../../Util.html" title="RuboCop::Util (module)"><code>::RuboCop::Util</code></a>,
          RuboCop::AST::Sexp
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Base.html" title="RuboCop::Cop::Base (class)">RuboCop::Cop::Base</a></span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'><a href="../Base.html" title="RuboCop::Cop::Base (class)">RuboCop::Cop::Base</a></li>
          <li class='next'>RuboCop::Cop::Lint::UnmodifiedReduceAccumulator</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L65'>lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    <div class="paragraph">
<p>Looks for <code>reduce</code> or <code>inject</code> blocks where the value returned (implicitly or
explicitly) does not include the accumulator. A block is considered valid as
long as at least one return value includes the accumulator.</p>
</div>
<div class="paragraph">
<p>If the accumulator is not included in the return value, then the entire
block will just return a transformation of the last element value, and
could be rewritten as such without a loop.</p>
</div>
<div class="paragraph">
<p>Also catches instances where an index of the accumulator is returned, as
this may change the type of object being retained.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For the purpose of reducing false positives, this cop only flags
returns in <code>reduce</code> blocks where the element is the only variable in
the expression (since we will not be able to tell what other variables
relate to via static analysis).
</td>
</tr>
</table>
</div>
  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code "#{object.source_type}"'><code><span class='comment'># bad
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_reduce'>reduce</span>(<span class='int'>0</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_acc'>acc</span><span class='comma'>,</span> <span class='id identifier rubyid_el'>el</span><span class='op'>|</span>
  <span class='id identifier rubyid_el'>el</span> <span class='op'>*</span> <span class='int'>2</span>
<span class='kw'>end</span>

<span class='comment'># bad, may raise a NoMethodError after the first iteration
</span><span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='tstring_end'>)</span></span>.<span class='id identifier rubyid_reduce'>reduce</span>({}) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_acc'>acc</span><span class='comma'>,</span> <span class='id identifier rubyid_letter'>letter</span><span class='op'>|</span>
  <span class='id identifier rubyid_acc'>acc</span>[<span class='id identifier rubyid_letter'>letter</span>] <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>

<span class='comment'># good
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>4</span>).<span class='id identifier rubyid_reduce'>reduce</span>(<span class='int'>0</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_acc'>acc</span><span class='comma'>,</span> <span class='id identifier rubyid_el'>el</span><span class='op'>|</span>
  <span class='id identifier rubyid_acc'>acc</span> <span class='op'>+</span> <span class='id identifier rubyid_el'>el</span> <span class='op'>*</span> <span class='int'>2</span>
<span class='kw'>end</span>

<span class='comment'># good, element is returned but modified using the accumulator
</span><span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_reduce'>reduce</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_acc'>acc</span><span class='comma'>,</span> <span class='id identifier rubyid_el'>el</span><span class='op'>|</span>
  <span class='id identifier rubyid_el'>el</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_acc'>acc</span>
  <span class='id identifier rubyid_el'>el</span>
<span class='kw'>end</span>

<span class='comment'># good, returns the accumulator instead of the index
</span><span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>a</span><span class='words_sep'> </span><span class='tstring_content'>b</span><span class='words_sep'> </span><span class='tstring_content'>c</span><span class='tstring_end'>)</span></span>.<span class='id identifier rubyid_reduce'>reduce</span>({}) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_acc'>acc</span><span class='comma'>,</span> <span class='id identifier rubyid_letter'>letter</span><span class='op'>|</span>
  <span class='id identifier rubyid_acc'>acc</span>[<span class='id identifier rubyid_letter'>letter</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_acc'>acc</span>
<span class='kw'>end</span>

<span class='comment'># good, at least one branch returns the accumulator
</span><span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_reduce'>reduce</span>(<span class='kw'>nil</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
  <span class='kw'>break</span> <span class='id identifier rubyid_result'>result</span> <span class='kw'>if</span> <span class='id identifier rubyid_something?'>something?</span>
  <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span>

<span class='comment'># good, recursive
</span><span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_reduce'>reduce</span>(<span class='kw'>self</span>) { <span class='op'>|</span><span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_result'>result</span>[<span class='id identifier rubyid_key'>key</span>] }

<span class='comment'># ignored as the return value cannot be determined
</span><span class='id identifier rubyid_enum'>enum</span>.<span class='id identifier rubyid_reduce'>reduce</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_acc'>acc</span><span class='comma'>,</span> <span class='id identifier rubyid_el'>el</span><span class='op'>|</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_acc'>acc</span><span class='comma'>,</span> <span class='id identifier rubyid_el'>el</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_x'>x</span>)
<span class='kw'>end</span></code></pre>
  </div>

</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='MSG-constant' class='summary_signature'>MSG =</span>
    <br/>
    <a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L66-L66'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 66</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ensure the accumulator `%&lt;accum&gt;s` will be modified by `%&lt;method&gt;s`.</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
  <li>
    <span id='MSG_INDEX-constant' class='summary_signature'>MSG_INDEX =</span>
    <br/>
    <a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L67-L67'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 67</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Do not return an element of the accumulator in `%&lt;method&gt;s`.</span><span class='tstring_end'>&#39;</span></span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="../Base.html" title="RuboCop::Cop::Base (class)"><code>::RuboCop::Cop::Base</code></a> - Inherited</h3>
  <p  class='inherited'>
    <a class='priv ' href="../Base.html#EMPTY_OFFENSES-constant" title="RuboCop::Cop::Base::EMPTY_OFFENSES (constant)">EMPTY_OFFENSES</a>, 
    <a href="../Base.html#RESTRICT_ON_SEND-constant" title="RuboCop::Cop::Base::RESTRICT_ON_SEND (constant)">RESTRICT_ON_SEND</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Base.html" title="RuboCop::Cop::Base (class)"><code>::RuboCop::Cop::Base</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ro' href="../Base.html#gem_requirements-class_method" title="RuboCop::Cop::Base.gem_requirements (method)">.gem_requirements</a>,
        <a class='i_m ro' href="../Base.html#lint%3F-class_method" title="RuboCop::Cop::Base.lint? (method)">.lint?</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Base.html#support_autocorrect%3F-class_method" title="RuboCop::Cop::Base.support_autocorrect? (method)">.support_autocorrect?</a></td>
      <td><div class='inline'><div class="paragraph"><p>Returns if class supports autocorrect.</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Base.html#support_multiple_source%3F-class_method" title="RuboCop::Cop::Base.support_multiple_source? (method)">.support_multiple_source?</a></td>
      <td><div class='inline'><div class="paragraph"><p>Override if your cop should be called repeatedly for multiple investigations Between calls to <code>on_new_investigation</code> and <code>on_investigation_end</code>, the result of <code>processed_source</code> will remain constant.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ro priv' href="../Base.html#builtin%3F-class_method" title="RuboCop::Cop::Base.builtin? (method)">.builtin?</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_Method_summary'>Class Method Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Base.html" title="RuboCop::Cop::Base (class)"><code>::RuboCop::Cop::Base</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#autocorrect_incompatible_with-class_method" title="RuboCop::Cop::Base.autocorrect_incompatible_with (method)">.autocorrect_incompatible_with</a></td>
      <td><div class='inline'><div class="paragraph"><p>List of cops that should not try to autocorrect at the same time as this cop.</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#badge-class_method" title="RuboCop::Cop::Base.badge (method)">.badge</a></td>
      <td><div class='inline'><div class="paragraph"><p>Naming.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m nodoc' href="../Base.html#callbacks_needed-class_method" title="RuboCop::Cop::Base.callbacks_needed (method)">.callbacks_needed</a>,
        <a class='i_m ' href="../Base.html#cop_name-class_method" title="RuboCop::Cop::Base.cop_name (method)">.cop_name</a>,
        <a class='i_m ' href="../Base.html#department-class_method" title="RuboCop::Cop::Base.department (method)">.department</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#documentation_url-class_method" title="RuboCop::Cop::Base.documentation_url (method)">.documentation_url</a></td>
      <td><div class='inline'><div class="paragraph"><p>Cops (other than builtin) are encouraged to implement this.</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#exclude_from_registry-class_method" title="RuboCop::Cop::Base.exclude_from_registry (method)">.exclude_from_registry</a></td>
      <td><div class='inline'><div class="paragraph"><p>Call for abstract Cop classes.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Base.html#inherited-class_method" title="RuboCop::Cop::Base.inherited (method)">.inherited</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#joining_forces-class_method" title="RuboCop::Cop::Base.joining_forces (method)">.joining_forces</a></td>
      <td><div class='inline'><div class="paragraph"><p>Override and return the Force class(es) you need to join.</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#match%3F-class_method" title="RuboCop::Cop::Base.match? (method)">.match?</a></td>
      <td><div class='inline'><div class="paragraph"><p>Returns true if the cop name or the cop namespace matches any of the given names.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Base.html#new-class_method" title="RuboCop::Cop::Base.new (method)">.new</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#requires_gem-class_method" title="RuboCop::Cop::Base.requires_gem (method)">.requires_gem</a></td>
      <td><div class='inline'><div class="paragraph"><p>Register a version requirement for the given gem name.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Base.html#restrict_on_send-class_method" title="RuboCop::Cop::Base.restrict_on_send (method)">.restrict_on_send</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../ExcludeLimit.html" title="RuboCop::ExcludeLimit (module)"><code>::RuboCop::ExcludeLimit</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../ExcludeLimit.html#exclude_limit-instance_method" title="RuboCop::ExcludeLimit#exclude_limit (method)">exclude_limit</a></td>
      <td><div class='inline'><div class="paragraph"><p>Sets up a configuration option to have an exclude limit tracked.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../../ExcludeLimit.html#transform-instance_method" title="RuboCop::ExcludeLimit#transform (method)">transform</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Base.html" title="RuboCop::Cop::Base (class)"><code>::RuboCop::Cop::Base</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ro' href="../Base.html#active_support_extensions_enabled%3F-instance_method" title="RuboCop::Cop::Base#active_support_extensions_enabled? (method)">#active_support_extensions_enabled?</a>,
        <a class='i_m ro nodoc' href="../Base.html#always_autocorrect%3F-instance_method" title="RuboCop::Cop::Base#always_autocorrect? (method)">#always_autocorrect?</a>,
        <a class='i_m ro' href="../Base.html#config-instance_method" title="RuboCop::Cop::Base#config (method)">#config</a>,
        <a class='i_m rw' href="../Base.html#config_to_allow_offenses-instance_method" title="RuboCop::Cop::Base#config_to_allow_offenses (method)">#config_to_allow_offenses</a>,
        <a class='i_m rw' href="../Base.html#config_to_allow_offenses=-instance_method" title="RuboCop::Cop::Base#config_to_allow_offenses= (method)">#config_to_allow_offenses=</a>,
        <a class='i_m ro nodoc' href="../Base.html#contextual_autocorrect%3F-instance_method" title="RuboCop::Cop::Base#contextual_autocorrect? (method)">#contextual_autocorrect?</a>,
        <a class='i_m ro' href="../Base.html#processed_source-instance_method" title="RuboCop::Cop::Base#processed_source (method)">#processed_source</a>,
        <a class='i_m ro priv' href="../Base.html#target_satisfies_all_gem_version_requirements%3F-instance_method" title="RuboCop::Cop::Base#target_satisfies_all_gem_version_requirements? (method)">#target_satisfies_all_gem_version_requirements?</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../AutocorrectLogic.html" title="RuboCop::Cop::AutocorrectLogic (module)"><code>::RuboCop::Cop::AutocorrectLogic</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ro' href="../AutocorrectLogic.html#autocorrect%3F-instance_method" title="RuboCop::Cop::AutocorrectLogic#autocorrect? (method)">#autocorrect?</a>,
        <a class='i_m ro' href="../AutocorrectLogic.html#autocorrect_enabled%3F-instance_method" title="RuboCop::Cop::AutocorrectLogic#autocorrect_enabled? (method)">#autocorrect_enabled?</a>,
        <a class='i_m ro' href="../AutocorrectLogic.html#autocorrect_requested%3F-instance_method" title="RuboCop::Cop::AutocorrectLogic#autocorrect_requested? (method)">#autocorrect_requested?</a>,
        <a class='i_m ro' href="../AutocorrectLogic.html#autocorrect_with_disable_uncorrectable%3F-instance_method" title="RuboCop::Cop::AutocorrectLogic#autocorrect_with_disable_uncorrectable? (method)">#autocorrect_with_disable_uncorrectable?</a>,
        <a class='i_m ro' href="../AutocorrectLogic.html#correctable%3F-instance_method" title="RuboCop::Cop::AutocorrectLogic#correctable? (method)">#correctable?</a>,
        <a class='i_m ro' href="../AutocorrectLogic.html#disable_uncorrectable%3F-instance_method" title="RuboCop::Cop::AutocorrectLogic#disable_uncorrectable? (method)">#disable_uncorrectable?</a>,
        <a class='i_m ro' href="../AutocorrectLogic.html#safe_autocorrect%3F-instance_method" title="RuboCop::Cop::AutocorrectLogic#safe_autocorrect? (method)">#safe_autocorrect?</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#accumulator_index%3F-instance_method" title="#accumulator_index? (instance method)">#<strong>accumulator_index?</strong>(node, accumulator_name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#element_modified%3F-instance_method" title="#element_modified? (instance method)">#<strong>element_modified?</strong>(node, element_name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#expression_values-instance_method" title="#expression_values (instance method)">#<strong>expression_values</strong>(node)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lvar_used%3F-instance_method" title="#lvar_used? (instance method)">#<strong>lvar_used?</strong>(node, name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_block-instance_method" title="#on_block (instance method)">#<strong>on_block</strong>(node)  </a>
      (also: #on_numblock)
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_numblock-instance_method" title="#on_numblock (instance method)">#<strong>on_numblock</strong>(node)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><div class="paragraph"><p>Alias for <a href="#on_block-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#on_block (method)">#on_block</a>.</p></div></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reduce_with_block%3F-instance_method" title="#reduce_with_block? (instance method)">#<strong>reduce_with_block?</strong>(node)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#acceptable_return%3F-instance_method" title="#acceptable_return? (instance method)">#<strong>acceptable_return?</strong>(return_val, element_name)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><div class="paragraph"><p>Determine if a return value is acceptable for the purposes of this cop If it is an expression containing the accumulator, it is acceptable Otherwise, it is only unacceptable if it contains the iterated element, since we otherwise do not have enough information to prevent false positives.</p></div></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#allowed_type%3F-instance_method" title="#allowed_type? (instance method)">#<strong>allowed_type?</strong>(parent_node)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><div class="paragraph"><p>Exclude <code>begin</code> nodes inside a <code>dstr</code> from being collected by <code>return_values</code>.</p></div></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#block_arg_name-instance_method" title="#block_arg_name (instance method)">#<strong>block_arg_name</strong>(node, index)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#check_return_values-instance_method" title="#check_return_values (instance method)">#<strong>check_return_values</strong>(block_node)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#potential_offense%3F-instance_method" title="#potential_offense? (instance method)">#<strong>potential_offense?</strong>(return_values, block_body, element_name, accumulator_name)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#return_values-instance_method" title="#return_values (instance method)">#<strong>return_values</strong>(block_body_node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><div class="paragraph"><p>Return values in a block are either the value given to next, the last line of a multiline block, or the only line of the block.</p></div></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#returned_accumulator_index-instance_method" title="#returned_accumulator_index (instance method)">#<strong>returned_accumulator_index</strong>(return_values, accumulator_name, element_name)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><div class="paragraph"><p>Look for an index of the accumulator being returned, except where the index is the element.</p></div></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#returns_accumulator_anywhere%3F-instance_method" title="#returns_accumulator_anywhere? (instance method)">#<strong>returns_accumulator_anywhere?</strong>(return_values, accumulator_name)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><div class="paragraph"><p>If the accumulator is used in any return value, the node is acceptable since the accumulator has a chance to change each iteration.</p></div></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Base.html" title="RuboCop::Cop::Base (class)"><code>::RuboCop::Cop::Base</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#add_global_offense-instance_method" title="RuboCop::Cop::Base#add_global_offense (method)">#add_global_offense</a></td>
      <td><div class='inline'><div class="paragraph"><p>Adds an offense that has no particular location.</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#add_offense-instance_method" title="RuboCop::Cop::Base#add_offense (method)">#add_offense</a></td>
      <td><div class='inline'><div class="paragraph"><p>Adds an offense on the specified range (or node with an expression) Unless that offense is disabled for this range, a corrector will be yielded to provide the cop the opportunity to autocorrect the offense.</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m nodoc' href="../Base.html#begin_investigation-instance_method" title="RuboCop::Cop::Base#begin_investigation (method)">#begin_investigation</a></td>
      <td><div class='inline'><div class="paragraph"><p>Called before any investigation.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m nodoc' href="../Base.html#callbacks_needed-instance_method" title="RuboCop::Cop::Base#callbacks_needed (method)">#callbacks_needed</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#cop_config-instance_method" title="RuboCop::Cop::Base#cop_config (method)">#cop_config</a></td>
      <td><div class='inline'><div class="paragraph"><p>Configuration Helpers.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Base.html#cop_name-instance_method" title="RuboCop::Cop::Base#cop_name (method)">#cop_name</a>,
        <a class='i_m ' href="../Base.html#excluded_file%3F-instance_method" title="RuboCop::Cop::Base#excluded_file? (method)">#excluded_file?</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#external_dependency_checksum-instance_method" title="RuboCop::Cop::Base#external_dependency_checksum (method)">#external_dependency_checksum</a></td>
      <td><div class='inline'><div class="paragraph"><p>This method should be overridden when a cop&#8217;s behavior depends on state that lives outside of these locations:</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#inspect-instance_method" title="RuboCop::Cop::Base#inspect (method)">#inspect</a></td>
      <td><div class='inline'></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#message-instance_method" title="RuboCop::Cop::Base#message (method)">#message</a></td>
      <td><div class='inline'><div class="paragraph"><p>Gets called if no message is specified when calling <code>add_offense</code> or <code>add_global_offense</code> Cops are discouraged to override this; instead pass your message directly.</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#name-instance_method" title="RuboCop::Cop::Base#name (method)">#name</a></td>
      <td><div class='inline'><div class="paragraph"><p>Alias for <a href="../Base.html#cop_name-instance_method" title="RuboCop::Cop::Base#cop_name (method)">Base#cop_name</a>.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m deprecated' href="../Base.html#offenses-instance_method" title="RuboCop::Cop::Base#offenses (method)">#offenses</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#on_investigation_end-instance_method" title="RuboCop::Cop::Base#on_investigation_end (method)">#on_investigation_end</a></td>
      <td><div class='inline'><div class="paragraph"><p>Called after all on_&#8230;&#8203;</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#on_new_investigation-instance_method" title="RuboCop::Cop::Base#on_new_investigation (method)">#on_new_investigation</a></td>
      <td><div class='inline'><div class="paragraph"><p>Called before all on_&#8230;&#8203;</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#on_other_file-instance_method" title="RuboCop::Cop::Base#on_other_file (method)">#on_other_file</a></td>
      <td><div class='inline'><div class="paragraph"><p>Called instead of all on_&#8230;&#8203;</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Base.html#parse-instance_method" title="RuboCop::Cop::Base#parse (method)">#parse</a></td>
      <td><div class='inline'><div class="paragraph"><p>There should be very limited reasons for a Cop to do it&#8217;s own parsing.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Base.html#parser_engine-instance_method" title="RuboCop::Cop::Base#parser_engine (method)">#parser_engine</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m nodoc' href="../Base.html#ready-instance_method" title="RuboCop::Cop::Base#ready (method)">#ready</a></td>
      <td><div class='inline'><div class="paragraph"><p>Called between investigations.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Base.html#relevant_file%3F-instance_method" title="RuboCop::Cop::Base#relevant_file? (method)">#relevant_file?</a>,
        <a class='i_m ' href="../Base.html#target_rails_version-instance_method" title="RuboCop::Cop::Base#target_rails_version (method)">#target_rails_version</a>,
        <a class='i_m ' href="../Base.html#target_ruby_version-instance_method" title="RuboCop::Cop::Base#target_ruby_version (method)">#target_ruby_version</a>,
        <a class='i_m priv' href="../Base.html#annotate-instance_method" title="RuboCop::Cop::Base#annotate (method)">#annotate</a>,
        <a class='i_m priv' href="../Base.html#apply_correction-instance_method" title="RuboCop::Cop::Base#apply_correction (method)">#apply_correction</a>,
        <a class='i_m priv' href="../Base.html#attempt_correction-instance_method" title="RuboCop::Cop::Base#attempt_correction (method)">#attempt_correction</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Base.html#callback_argument-instance_method" title="RuboCop::Cop::Base#callback_argument (method)">#callback_argument</a></td>
      <td><div class='inline'><div class="paragraph"><p>Reserved for Cop::Cop.</p></div></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Base.html#complete_investigation-instance_method" title="RuboCop::Cop::Base#complete_investigation (method)">#complete_investigation</a></td>
      <td><div class='inline'><div class="paragraph"><p>Called to complete an investigation.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Base.html#correct-instance_method" title="RuboCop::Cop::Base#correct (method)">#correct</a>,
        <a class='i_m priv' href="../Base.html#current_corrector-instance_method" title="RuboCop::Cop::Base#current_corrector (method)">#current_corrector</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Base.html#current_offense_locations-instance_method" title="RuboCop::Cop::Base#current_offense_locations (method)">#current_offense_locations</a></td>
      <td><div class='inline'><div class="paragraph"><p>Reserved for Commissioner:</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Base.html#current_offenses-instance_method" title="RuboCop::Cop::Base#current_offenses (method)">#current_offenses</a>,
        <a class='i_m priv' href="../Base.html#currently_disabled_lines-instance_method" title="RuboCop::Cop::Base#currently_disabled_lines (method)">#currently_disabled_lines</a>,
        <a class='i_m priv' href="../Base.html#custom_severity-instance_method" title="RuboCop::Cop::Base#custom_severity (method)">#custom_severity</a>,
        <a class='i_m priv' href="../Base.html#default_severity-instance_method" title="RuboCop::Cop::Base#default_severity (method)">#default_severity</a>,
        <a class='i_m priv' href="../Base.html#disable_uncorrectable-instance_method" title="RuboCop::Cop::Base#disable_uncorrectable (method)">#disable_uncorrectable</a>,
        <a class='i_m priv' href="../Base.html#enabled_line%3F-instance_method" title="RuboCop::Cop::Base#enabled_line? (method)">#enabled_line?</a>,
        <a class='i_m priv' href="../Base.html#file_name_matches_any%3F-instance_method" title="RuboCop::Cop::Base#file_name_matches_any? (method)">#file_name_matches_any?</a>,
        <a class='i_m priv' href="../Base.html#find_message-instance_method" title="RuboCop::Cop::Base#find_message (method)">#find_message</a>,
        <a class='i_m priv' href="../Base.html#find_severity-instance_method" title="RuboCop::Cop::Base#find_severity (method)">#find_severity</a>,
        <a class='i_m priv' href="../Base.html#range_for_original-instance_method" title="RuboCop::Cop::Base#range_for_original (method)">#range_for_original</a>,
        <a class='i_m priv' href="../Base.html#range_from_node_or_range-instance_method" title="RuboCop::Cop::Base#range_from_node_or_range (method)">#range_from_node_or_range</a>,
        <a class='i_m priv' href="../Base.html#reset_investigation-instance_method" title="RuboCop::Cop::Base#reset_investigation (method)">#reset_investigation</a>,
        <a class='i_m priv' href="../Base.html#use_corrector-instance_method" title="RuboCop::Cop::Base#use_corrector (method)">#use_corrector</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../AutocorrectLogic.html" title="RuboCop::Cop::AutocorrectLogic (module)"><code>::RuboCop::Cop::AutocorrectLogic</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../AutocorrectLogic.html#disable_offense-instance_method" title="RuboCop::Cop::AutocorrectLogic#disable_offense (method)">#disable_offense</a>,
        <a class='i_m priv' href="../AutocorrectLogic.html#disable_offense_at_end_of_line-instance_method" title="RuboCop::Cop::AutocorrectLogic#disable_offense_at_end_of_line (method)">#disable_offense_at_end_of_line</a>,
        <a class='i_m priv' href="../AutocorrectLogic.html#disable_offense_before_and_after-instance_method" title="RuboCop::Cop::AutocorrectLogic#disable_offense_before_and_after (method)">#disable_offense_before_and_after</a>,
        <a class='i_m priv' href="../AutocorrectLogic.html#disable_offense_with_eol_or_surround_comment-instance_method" title="RuboCop::Cop::AutocorrectLogic#disable_offense_with_eol_or_surround_comment (method)">#disable_offense_with_eol_or_surround_comment</a>,
        <a class='i_m priv' href="../AutocorrectLogic.html#max_line_length-instance_method" title="RuboCop::Cop::AutocorrectLogic#max_line_length (method)">#max_line_length</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../AutocorrectLogic.html#range_by_lines-instance_method" title="RuboCop::Cop::AutocorrectLogic#range_by_lines (method)">#range_by_lines</a></td>
      <td><div class='inline'><div class="paragraph"><p>Expand the given range to include all of any lines it covers.</p></div></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../AutocorrectLogic.html#range_of_first_line-instance_method" title="RuboCop::Cop::AutocorrectLogic#range_of_first_line (method)">#range_of_first_line</a>,
        <a class='i_m priv' href="../AutocorrectLogic.html#surrounding_heredoc-instance_method" title="RuboCop::Cop::AutocorrectLogic#surrounding_heredoc (method)">#surrounding_heredoc</a>,
        <a class='i_m priv' href="../AutocorrectLogic.html#surrounding_percent_array-instance_method" title="RuboCop::Cop::AutocorrectLogic#surrounding_percent_array (method)">#surrounding_percent_array</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../IgnoredNode.html" title="RuboCop::Cop::IgnoredNode (module)"><code>::RuboCop::Cop::IgnoredNode</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../IgnoredNode.html#ignore_node-instance_method" title="RuboCop::Cop::IgnoredNode#ignore_node (method)">#ignore_node</a>,
        <a class='i_m ' href="../IgnoredNode.html#ignored_node%3F-instance_method" title="RuboCop::Cop::IgnoredNode#ignored_node? (method)">#ignored_node?</a>,
        <a class='i_m ' href="../IgnoredNode.html#part_of_ignored_node%3F-instance_method" title="RuboCop::Cop::IgnoredNode#part_of_ignored_node? (method)">#part_of_ignored_node?</a>,
        <a class='i_m priv' href="../IgnoredNode.html#ignored_nodes-instance_method" title="RuboCop::Cop::IgnoredNode#ignored_nodes (method)">#ignored_nodes</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <p class='notice'>This class inherits a constructor from <a href="../Base.html#new-class_method" title="RuboCop::Cop::Base.new (method)">RuboCop::Cop::Base</a></p>
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="acceptable_return?-instance_method">
  <h3 class='signature priv first'>
    #<strong>acceptable_return?</strong>(return_val, element_name)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="paragraph">
<p>Determine if a return value is acceptable for the purposes of this cop
If it is an expression containing the accumulator, it is acceptable
Otherwise, it is only unacceptable if it contains the iterated element, since we
otherwise do not have enough information to prevent false positives.</p>
</div>
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L190-L195'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='190' data-end='195'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 190</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_acceptable_return?'>acceptable_return?</span>(<span class='id identifier rubyid_return_val'>return_val</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span>)
  <span class='id identifier rubyid_vars'>vars</span> <span class='op'>=</span> <span class='id identifier rubyid_expression_values'><a href="#expression_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#expression_values (method)">expression_values</a></span>(<span class='id identifier rubyid_return_val'>return_val</span>).<span class='id identifier rubyid_uniq'>uniq</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_vars'>vars</span>.<span class='id identifier rubyid_none?'>none?</span> <span class='op'>||</span> (<span class='id identifier rubyid_vars'>vars</span> <span class='op'>-</span> [<span class='id identifier rubyid_element_name'>element_name</span>]).<span class='id identifier rubyid_any?'>any?</span>

  <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="accumulator_index?-instance_method">
  <h3 class='signature '>
    #<strong>accumulator_index?</strong>(node, accumulator_name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L78-L80'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='78' data-end='80'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 78</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_def_node_matcher'>def_node_matcher</span> <span class='symbeg'>:</span><span class='id identifier rubyid_accumulator_index?'>accumulator_index?</span><span class='comma'>,</span> <span class='heredoc_beg'>&lt;&lt;~PATTERN</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>(send (lvar %1) {:[] :[]=} ...)
</span><span class='heredoc_end'>PATTERN</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="allowed_type?-instance_method">
  <h3 class='signature priv'>
    #<strong>allowed_type?</strong>(parent_node)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="paragraph">
<p>Exclude <code>begin</code> nodes inside a <code>dstr</code> from being collected by <code>return_values</code></p>
</div>
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L198-L200'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='198' data-end='200'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 198</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_allowed_type?'>allowed_type?</span>(<span class='id identifier rubyid_parent_node'>parent_node</span>)
  <span class='op'>!</span><span class='id identifier rubyid_parent_node'>parent_node</span>.<span class='id identifier rubyid_dstr_type?'>dstr_type?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="block_arg_name-instance_method">
  <h3 class='signature priv'>
    #<strong>block_arg_name</strong>(node, index)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L158-L160'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='158' data-end='160'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 158</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_block_arg_name'>block_arg_name</span>(<span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span>)
  <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_argument_list'>argument_list</span>[<span class='id identifier rubyid_index'>index</span>].<span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_return_values-instance_method">
  <h3 class='signature priv'>
    #<strong>check_return_values</strong>(block_node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L141-L156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='141' data-end='156'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_return_values'>check_return_values</span>(<span class='id identifier rubyid_block_node'>block_node</span>)
  <span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span> <span class='op'>=</span> <span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span>(<span class='id identifier rubyid_block_node'>block_node</span>.<span class='id identifier rubyid_body'>body</span>)
  <span class='id identifier rubyid_accumulator_name'>accumulator_name</span> <span class='op'>=</span> <span class='id identifier rubyid_block_arg_name'><a href="#block_arg_name-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#block_arg_name (method)">block_arg_name</a></span>(<span class='id identifier rubyid_block_node'>block_node</span><span class='comma'>,</span> <span class='int'>0</span>)
  <span class='id identifier rubyid_element_name'>element_name</span> <span class='op'>=</span> <span class='id identifier rubyid_block_arg_name'><a href="#block_arg_name-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#block_arg_name (method)">block_arg_name</a></span>(<span class='id identifier rubyid_block_node'>block_node</span><span class='comma'>,</span> <span class='int'>1</span>)
  <span class='id identifier rubyid_message_opts'>message_opts</span> <span class='op'>=</span> { <span class='label'>method:</span> <span class='id identifier rubyid_block_node'>block_node</span>.<span class='id identifier rubyid_method_name'>method_name</span><span class='comma'>,</span> <span class='label'>accum:</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span> }

  <span class='kw'>if</span> (<span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='id identifier rubyid_returned_accumulator_index'><a href="#returned_accumulator_index-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#returned_accumulator_index (method)">returned_accumulator_index</a></span>(<span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span><span class='comma'>,</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span>))
    <span class='id identifier rubyid_add_offense'>add_offense</span>(<span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='label'>message:</span> <span class='id identifier rubyid_format'>format</span>(<span class='const'><a href="#MSG_INDEX-constant" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator::MSG_INDEX (constant)">MSG_INDEX</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message_opts'>message_opts</span>))
  <span class='kw'>elsif</span> <span class='id identifier rubyid_potential_offense?'><a href="#potential_offense%3F-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#potential_offense? (method)">potential_offense?</a></span>(<span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span><span class='comma'>,</span> <span class='id identifier rubyid_block_node'>block_node</span>.<span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span><span class='comma'>,</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span>)
    <span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_return_val'>return_val</span><span class='op'>|</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_acceptable_return?'><a href="#acceptable_return%3F-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#acceptable_return? (method)">acceptable_return?</a></span>(<span class='id identifier rubyid_return_val'>return_val</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span>)
        <span class='id identifier rubyid_add_offense'>add_offense</span>(<span class='id identifier rubyid_return_val'>return_val</span><span class='comma'>,</span> <span class='label'>message:</span> <span class='id identifier rubyid_format'>format</span>(<span class='const'><a href="#MSG-constant" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator::MSG (constant)">MSG</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message_opts'>message_opts</span>))
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="element_modified?-instance_method">
  <h3 class='signature '>
    #<strong>element_modified?</strong>(node, element_name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L83-L90'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='83' data-end='90'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 83</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_def_node_search'>def_node_search</span> <span class='symbeg'>:</span><span class='id identifier rubyid_element_modified?'>element_modified?</span><span class='comma'>,</span> <span class='heredoc_beg'>&lt;&lt;~PATTERN</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>{
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (send _receiver !{:[] :[]=} &lt;`(lvar %1) `_ ...&gt;)               # method(el, ...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (send (lvar %1) _message &lt;{ivar gvar cvar lvar send} ...&gt;)     # el.method(...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (lvasgn %1 _)                                                  # el = ...
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (%RuboCop::AST::Node::SHORTHAND_ASSIGNMENTS (lvasgn %1) ... _) # el += ...
</span><span class='ignored_sp'>  </span><span class='tstring_content'>}
</span><span class='heredoc_end'>PATTERN</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expression_values-instance_method">
  <h3 class='signature '>
    #<strong>expression_values</strong>(node)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L104-L113'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='104' data-end='113'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 104</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_def_node_search'>def_node_search</span> <span class='symbeg'>:</span><span class='id identifier rubyid_expression_values'>expression_values</span><span class='comma'>,</span> <span class='heredoc_beg'>&lt;&lt;~PATTERN</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>{
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (%RuboCop::AST::Node::VARIABLES $_)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (%RuboCop::AST::Node::EQUALS_ASSIGNMENTS $_ ...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (send (%RuboCop::AST::Node::VARIABLES $_) :&lt;&lt; ...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  $(send _ _)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (dstr (begin {(%RuboCop::AST::Node::VARIABLES $_)}))
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (%RuboCop::AST::Node::SHORTHAND_ASSIGNMENTS (%RuboCop::AST::Node::EQUALS_ASSIGNMENTS $_) ...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>}
</span><span class='heredoc_end'>PATTERN</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lvar_used?-instance_method">
  <h3 class='signature '>
    #<strong>lvar_used?</strong>(node, name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L93-L101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='93' data-end='101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_def_node_matcher'>def_node_matcher</span> <span class='symbeg'>:</span><span class='id identifier rubyid_lvar_used?'>lvar_used?</span><span class='comma'>,</span> <span class='heredoc_beg'>&lt;&lt;~PATTERN</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>{
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (lvar %1)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (lvasgn %1 ...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (send (lvar %1) :&lt;&lt; ...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (dstr (begin (lvar %1)))
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (%RuboCop::AST::Node::SHORTHAND_ASSIGNMENTS (lvasgn %1))
</span><span class='ignored_sp'>  </span><span class='tstring_content'>}
</span><span class='heredoc_end'>PATTERN</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_block-instance_method">
  <h3 class='signature '>
    #<strong>on_block</strong>(node)  
    <span class='aliases'>Also known as: <span class='names'>#on_numblock</span></span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L115-L120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='115' data-end='120'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 115</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_block'>on_block</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_reduce_with_block?'><a href="#reduce_with_block%3F-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#reduce_with_block? (method)">reduce_with_block?</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_argument_list'>argument_list</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;=</span> <span class='int'>2</span>

  <span class='id identifier rubyid_check_return_values'><a href="#check_return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#check_return_values (method)">check_return_values</a></span>(<span class='id identifier rubyid_node'>node</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_numblock-instance_method">
  <h3 class='signature '>
    #<strong>on_numblock</strong>(node)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="paragraph">
<p>Alias for <a href="#on_block-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#on_block (method)">#on_block</a>.</p>
</div>
  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L121-L121'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='121' data-end='121'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 121</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_on_numblock'>on_numblock</span> <span class='id identifier rubyid_on_block'><a href="#on_block-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#on_block (method)">on_block</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="potential_offense?-instance_method">
  <h3 class='signature priv'>
    #<strong>potential_offense?</strong>(return_values, block_body, element_name, accumulator_name)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L175-L178'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='175' data-end='178'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 175</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_potential_offense?'>potential_offense?</span>(<span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span><span class='comma'>,</span> <span class='id identifier rubyid_block_body'>block_body</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span><span class='comma'>,</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span>)
  <span class='op'>!</span>(<span class='id identifier rubyid_element_modified?'><a href="#element_modified%3F-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#element_modified? (method)">element_modified?</a></span>(<span class='id identifier rubyid_block_body'>block_body</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span>) <span class='op'>||</span>
    <span class='id identifier rubyid_returns_accumulator_anywhere?'><a href="#returns_accumulator_anywhere%3F-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#returns_accumulator_anywhere? (method)">returns_accumulator_anywhere?</a></span>(<span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span><span class='comma'>,</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reduce_with_block?-instance_method">
  <h3 class='signature '>
    #<strong>reduce_with_block?</strong>(node)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L70-L75'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='70' data-end='75'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 70</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_def_node_matcher'>def_node_matcher</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reduce_with_block?'>reduce_with_block?</span><span class='comma'>,</span> <span class='heredoc_beg'>&lt;&lt;~PATTERN</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>{
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (block (call _recv {:reduce :inject} ...) args ...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>  (numblock (call _recv {:reduce :inject} ...) ...)
</span><span class='ignored_sp'>  </span><span class='tstring_content'>}
</span><span class='heredoc_end'>PATTERN</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="return_values-instance_method">
  <h3 class='signature priv'>
    #<strong>return_values</strong>(block_body_node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="paragraph">
<p>Return values in a block are either the value given to next,
the last line of a multiline block, or the only line of the block</p>
</div>
  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L127-L139'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='127' data-end='139'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 127</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_return_values'>return_values</span>(<span class='id identifier rubyid_block_body_node'>block_body_node</span>)
  <span class='id identifier rubyid_nodes'>nodes</span> <span class='op'>=</span> [<span class='id identifier rubyid_block_body_node'>block_body_node</span>.<span class='id identifier rubyid_begin_type?'>begin_type?</span> <span class='op'>?</span> <span class='id identifier rubyid_block_body_node'>block_body_node</span>.<span class='id identifier rubyid_child_nodes'>child_nodes</span>.<span class='id identifier rubyid_last'>last</span> <span class='op'>:</span> <span class='id identifier rubyid_block_body_node'>block_body_node</span>]

  <span class='id identifier rubyid_block_body_node'>block_body_node</span>.<span class='id identifier rubyid_each_descendant'>each_descendant</span>(<span class='symbeg'>:</span><span class='kw'>next</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='kw'>break</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
    <span class='comment'># Ignore `next`/`break` inside an inner block
</span>    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_each_ancestor'>each_ancestor</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_block'>block</span>).<span class='id identifier rubyid_first'>first</span> <span class='op'>!=</span> <span class='id identifier rubyid_block_body_node'>block_body_node</span>.<span class='id identifier rubyid_parent'>parent</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_first_argument'>first_argument</span>

    <span class='id identifier rubyid_nodes'>nodes</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_n'>n</span>.<span class='id identifier rubyid_first_argument'>first_argument</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_nodes'>nodes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="returned_accumulator_index-instance_method">
  <h3 class='signature priv'>
    #<strong>returned_accumulator_index</strong>(return_values, accumulator_name, element_name)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="paragraph">
<p>Look for an index of the accumulator being returned, except where the index
is the element.
This is always an offense, in order to try to catch potential exceptions
due to type mismatches</p>
</div>
  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L166-L173'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='166' data-end='173'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 166</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_returned_accumulator_index'>returned_accumulator_index</span>(<span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span><span class='comma'>,</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span>)
  <span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span>.<span class='id identifier rubyid_detect'>detect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_accumulator_index?'><a href="#accumulator_index%3F-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#accumulator_index? (method)">accumulator_index?</a></span>(<span class='id identifier rubyid_val'>val</span><span class='comma'>,</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span>)
    <span class='kw'>next</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span>.<span class='id identifier rubyid_method?'>method?</span>(<span class='symbeg'>:</span><span class='op'>[]=</span>)

    <span class='id identifier rubyid_val'>val</span>.<span class='id identifier rubyid_arguments'>arguments</span>.<span class='id identifier rubyid_none?'>none?</span> { <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span> <span class='id identifier rubyid_lvar_used?'><a href="#lvar_used%3F-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#lvar_used? (method)">lvar_used?</a></span>(<span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_element_name'>element_name</span>) }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="returns_accumulator_anywhere?-instance_method">
  <h3 class='signature priv'>
    #<strong>returns_accumulator_anywhere?</strong>(return_values, accumulator_name)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <div class="paragraph">
<p>If the accumulator is used in any return value, the node is acceptable since
the accumulator has a chance to change each iteration</p>
</div>
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rubocop-hq/rubocop/blob/master/lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb#L182-L184'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='182' data-end='184'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubocop/cop/lint/unmodified_reduce_accumulator.rb', line 182</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_returns_accumulator_anywhere?'>returns_accumulator_anywhere?</span>(<span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span><span class='comma'>,</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span>)
  <span class='id identifier rubyid_return_values'><a href="#return_values-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#return_values (method)">return_values</a></span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_node'>node</span><span class='op'>|</span> <span class='id identifier rubyid_lvar_used?'><a href="#lvar_used%3F-instance_method" title="RuboCop::Cop::Lint::UnmodifiedReduceAccumulator#lvar_used? (method)">lvar_used?</a></span>(<span class='id identifier rubyid_node'>node</span><span class='comma'>,</span> <span class='id identifier rubyid_accumulator_name'>accumulator_name</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>