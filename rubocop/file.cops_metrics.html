<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Cops Metrics &mdash; RuboCop master</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "cops_metrics",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>RuboCop master</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Cops Metrics&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<div class="sect1">
<h2 id="metricsabcsize">Metrics/AbcSize</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that the ABC size of methods is not higher than the
configured maximum. The ABC size is based on assignments, branches
(method calls), and conditions. See <a href="http://c2.com/cgi/wiki?AbcMetric" class="bare">http://c2.com/cgi/wiki?AbcMetric</a>
and <a href="https://en.wikipedia.org/wiki/ABC_Software_Metric" class="bare">https://en.wikipedia.org/wiki/ABC_Software_Metric</a>.</p>
</div>
<div class="paragraph">
<p>Interpreting ABC size:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&#8656; 17</code> satisfactory</p>
</li>
<li>
<p><code>18..30</code> unsatisfactory</p>
</li>
<li>
<p><code>&gt;</code> 30 dangerous</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can have repeated "attributes" calls count as a single "branch".
For this purpose, attributes are any method with no argument; no attempt
is meant to distinguish actual <code>attr_reader</code> from other methods.</p>
</div>
<div class="paragraph">
<p>This cop also takes into account <code>AllowedMethods</code> (defaults to <code>[]</code>)
And <code>AllowedPatterns</code> (defaults to <code>[]</code>)</p>
</div>
<div class="sect2">
<h3 id="examples-metricsabcsize">Examples</h3>
<div class="sect3">
<h4 id="countrepeatedattributes_-false-_default-is-true_-metricsabcsize">CountRepeatedAttributes: false (default is true)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># `model` and `current_user`, referenced 3 times each,
</span><span class='comment'># are each counted as only 1 branch each if
</span><span class='comment'># {CountRepeatedAttributes} is set to &#39;false&#39;
</span>
<span class='kw'>def</span> <span class='id identifier rubyid_search'>search</span>
  <span class='ivar'>@posts</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_active'>active</span>.<span class='id identifier rubyid_visible_by'>visible_by</span>(<span class='id identifier rubyid_current_user'>current_user</span>)
            .<span class='id identifier rubyid_search'>search</span>(<span class='id identifier rubyid_params'>params</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_q'>q</span>])
  <span class='ivar'>@posts</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_some_process'>some_process</span>(<span class='ivar'>@posts</span><span class='comma'>,</span> <span class='id identifier rubyid_current_user'>current_user</span>)
  <span class='ivar'>@posts</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span>.<span class='id identifier rubyid_another_process'>another_process</span>(<span class='ivar'>@posts</span><span class='comma'>,</span> <span class='id identifier rubyid_current_user'>current_user</span>)

  <span class='id identifier rubyid_render'>render</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pages/search/page</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricsabcsize">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountRepeatedAttributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>17</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-metricsabcsize">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.c2.com/?AbcMetric" class="bare">https://wiki.c2.com/?AbcMetric</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/ABC_Software_Metric" class="bare">https://en.wikipedia.org/wiki/ABC_Software_Metric</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricsblocklength">Metrics/BlockLength</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if the length of a block exceeds some maximum value.
Comment lines can optionally be ignored.
The maximum allowed length is configurable.
The cop can be configured to ignore blocks passed to certain methods.</p>
</div>
<div class="paragraph">
<p>You can set constructs you want to fold with <code>CountAsOne</code>.</p>
</div>
<div class="paragraph">
<p>Available are: 'array', 'hash', 'heredoc', and 'method_call'.
Each construct will be counted as one line regardless of its actual size.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This cop does not apply for <code>Struct</code> definitions.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <code>ExcludedMethods</code> configuration is deprecated and only kept
for backwards compatibility. Please use <code>AllowedMethods</code> and <code>AllowedPatterns</code>
instead. By default, there are no methods to allowed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-metricsblocklength">Examples</h3>
<div class="sect3">
<h4 id="countasone_-__array__-_hash__-_heredoc__-_method_call__-metricsblocklength">CountAsOne: ['array', 'hash', 'heredoc', 'method_call']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_something'>something</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> [         <span class='comment'># +1
</span>    <span class='int'>1</span><span class='comma'>,</span>
    <span class='int'>2</span>
  ]

  <span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> {          <span class='comment'># +1
</span>    <span class='label'>key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span>
  }

  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~HEREDOC</span>  <span class='comment'># +1
</span><span class='ignored_sp'>    </span><span class='tstring_content'>Heredoc
</span><span class='ignored_sp'>    </span><span class='tstring_content'>content.
</span><span class='heredoc_end'>  HEREDOC
</span>
  <span class='id identifier rubyid_foo'>foo</span>(              <span class='comment'># +1
</span>    <span class='int'>1</span><span class='comma'>,</span>
    <span class='int'>2</span>
  )
<span class='kw'>end</span>                 <span class='comment'># 4 points</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricsblocklength">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>25</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountAsOne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>refine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>**/*.gemspec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricsblocknesting">Metrics/BlockNesting</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.65</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for excessive nesting of conditional and looping constructs.</p>
</div>
<div class="paragraph">
<p>You can configure if blocks are considered using the <code>CountBlocks</code> and <code>CountModifierForms</code>
options. When both are set to <code>false</code> (the default) blocks and modifier forms are not
counted towards the nesting level. Set them to <code>true</code> to include these in the nesting level
calculation as well.</p>
</div>
<div class="paragraph">
<p>The maximum level of nesting allowed is configurable.</p>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricsblocknesting">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountBlocks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountModifierForms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-metricsblocknesting">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#three-is-the-number-thou-shalt-count" class="bare">https://rubystyle.guide#three-is-the-number-thou-shalt-count</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricsclasslength">Metrics/ClassLength</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if the length of a class exceeds some maximum value.
Comment lines can optionally be ignored.
The maximum allowed length is configurable.</p>
</div>
<div class="paragraph">
<p>You can set constructs you want to fold with <code>CountAsOne</code>.</p>
</div>
<div class="paragraph">
<p>Available are: 'array', 'hash', 'heredoc', and 'method_call'.
Each construct will be counted as one line regardless of its actual size.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This cop also applies for <code>Struct</code> definitions.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-metricsclasslength">Examples</h3>
<div class="sect3">
<h4 id="countasone_-__array__-_hash__-_heredoc__-_method_call__-metricsclasslength">CountAsOne: ['array', 'hash', 'heredoc', 'method_call']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='const'>ARRAY</span> <span class='op'>=</span> [         <span class='comment'># +1
</span>    <span class='int'>1</span><span class='comma'>,</span>
    <span class='int'>2</span>
  ]

  <span class='const'>HASH</span> <span class='op'>=</span> {          <span class='comment'># +1
</span>    <span class='label'>key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span>
  }

  <span class='const'>MSG</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~HEREDOC</span>  <span class='comment'># +1
</span><span class='ignored_sp'>    </span><span class='tstring_content'>Heredoc
</span><span class='ignored_sp'>    </span><span class='tstring_content'>content.
</span><span class='heredoc_end'>  HEREDOC
</span>
  <span class='id identifier rubyid_foo'>foo</span>(              <span class='comment'># +1
</span>    <span class='int'>1</span><span class='comma'>,</span>
    <span class='int'>2</span>
  )
<span class='kw'>end</span>                 <span class='comment'># 4 points</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricsclasslength">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountAsOne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricscollectionliterallength">Metrics/CollectionLiteralLength</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for literals with extremely many entries. This is indicative of
configuration or data that may be better extracted somewhere else, like
a database, fetched from an API, or read from a non-code file (CSV,
JSON, YAML, etc.).</p>
</div>
<div class="sect2">
<h3 id="examples-metricscollectionliterallength">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># Huge Array literal
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>999_999_999</span>]

<span class='comment'># bad
</span><span class='comment'># Huge Hash literal
</span>{ <span class='int'>1</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>999_999_999</span> <span class='op'>=&gt;</span> <span class='int'>999_999_999</span>}

<span class='comment'># bad
</span><span class='comment'># Huge Set &quot;literal&quot;
</span><span class='const'>Set</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>999_999_999</span>]

<span class='comment'># good
</span><span class='comment'># Reasonably sized Array literal
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>10</span>]

<span class='comment'># good
</span><span class='comment'># Reading huge Array from external data source
</span><span class='comment'># File.readlines(&#39;numbers.txt&#39;, chomp: true).map!(&amp;:to_i)
</span>
<span class='comment'># good
</span><span class='comment'># Reasonably sized Hash literal
</span>{ <span class='int'>1</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>10</span> <span class='op'>=&gt;</span> <span class='int'>10</span>}

<span class='comment'># good
</span><span class='comment'># Reading huge Hash from external data source
</span><span class='const'>CSV</span>.<span class='id identifier rubyid_foreach'>foreach</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>numbers.csv</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>).<span class='id identifier rubyid_each_with_object'>each_with_object</span>({}) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='op'>|</span>
  <span class='id identifier rubyid_hash'>hash</span>[<span class='id identifier rubyid_row'>row</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_to_i'>to_i</span>] <span class='op'>=</span> <span class='id identifier rubyid_row'>row</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_to_i'>to_i</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># Reasonably sized Set &quot;literal&quot;
</span><span class='const'>Set</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>10</span>]

<span class='comment'># good
</span><span class='comment'># Reading huge Set from external data source
</span><span class='const'>SomeFramework</span>.<span class='id identifier rubyid_config_for'>config_for</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_something'>something</span>)[<span class='symbeg'>:</span><span class='id identifier rubyid_numbers'>numbers</span>].<span class='id identifier rubyid_to_set'>to_set</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricscollectionliterallength">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LengthThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>250</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricscyclomaticcomplexity">Metrics/CyclomaticComplexity</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that the cyclomatic complexity of methods is not higher
than the configured maximum. The cyclomatic complexity is the number of
linearly independent paths through a method. The algorithm counts
decision points and adds one.</p>
</div>
<div class="paragraph">
<p>An if statement (or unless or ?:) increases the complexity by one. An
else branch does not, since it doesn&#8217;t add a decision point. The &amp;&amp;
operator (or keyword and) can be converted to a nested if statement,
and ||/or is shorthand for a sequence of ifs, so they also add one.
Loops can be said to have an exit condition, so they add one.
Blocks that are calls to builtin iteration methods
(e.g. <code>ary.map{&#8230;&#8203;}</code>) also add one, others are ignored.</p>
</div>
<div class="sect2">
<h3 id="examples-metricscyclomaticcomplexity">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_each_child_node'>each_child_node</span>(<span class='op'>*</span><span class='id identifier rubyid_types'>types</span>)               <span class='comment'># count begins: 1
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>                     <span class='comment'># unless: +1
</span>    <span class='kw'>return</span> <span class='id identifier rubyid_to_enum'>to_enum</span>(<span class='id identifier rubyid___method__'>__method__</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_types'>types</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_children'>children</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='op'>|</span>                <span class='comment'># each{}: +1
</span>    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_child'>child</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Node</span>)         <span class='comment'># unless: +1
</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_child'>child</span> <span class='kw'>if</span> <span class='id identifier rubyid_types'>types</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span>        <span class='comment'># if: +1, ||: +1
</span>                   <span class='id identifier rubyid_types'>types</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_child'>child</span>.<span class='id identifier rubyid_type'>type</span>)
  <span class='kw'>end</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>                                       <span class='comment'># total: 6</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricscyclomaticcomplexity">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricsmethodlength">Metrics/MethodLength</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if the length of a method exceeds some maximum value.
Comment lines can optionally be allowed.
The maximum allowed length is configurable.</p>
</div>
<div class="paragraph">
<p>You can set constructs you want to fold with <code>CountAsOne</code>.</p>
</div>
<div class="paragraph">
<p>Available are: 'array', 'hash', 'heredoc', and 'method_call'.
Each construct will be counted as one line regardless of its actual size.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <code>ExcludedMethods</code> and <code>IgnoredMethods</code> configuration is
deprecated and only kept for backwards compatibility.
Please use <code>AllowedMethods</code> and <code>AllowedPatterns</code> instead.
By default, there are no methods to allowed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-metricsmethodlength">Examples</h3>
<div class="sect3">
<h4 id="countasone_-__array__-_hash__-_heredoc__-_method_call__-metricsmethodlength">CountAsOne: ['array', 'hash', 'heredoc', 'method_call']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_m'>m</span>
  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> [       <span class='comment'># +1
</span>    <span class='int'>1</span><span class='comma'>,</span>
    <span class='int'>2</span>
  ]

  <span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> {        <span class='comment'># +1
</span>    <span class='label'>key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span>
  }

  <span class='heredoc_beg'>&lt;&lt;~HEREDOC</span>      <span class='comment'># +1
</span><span class='ignored_sp'>    </span><span class='tstring_content'>Heredoc
</span><span class='ignored_sp'>    </span><span class='tstring_content'>content.
</span><span class='heredoc_end'>  HEREDOC
</span>
  <span class='id identifier rubyid_foo'>foo</span>(            <span class='comment'># +1
</span>    <span class='int'>1</span><span class='comma'>,</span>
    <span class='int'>2</span>
  )
<span class='kw'>end</span>               <span class='comment'># 4 points</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricsmethodlength">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountAsOne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-metricsmethodlength">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#short-methods" class="bare">https://rubystyle.guide#short-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricsmodulelength">Metrics/ModuleLength</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if the length of a module exceeds some maximum value.
Comment lines can optionally be ignored.
The maximum allowed length is configurable.</p>
</div>
<div class="paragraph">
<p>You can set constructs you want to fold with <code>CountAsOne</code>.</p>
</div>
<div class="paragraph">
<p>Available are: 'array', 'hash', 'heredoc', and 'method_call'.
Each construct will be counted as one line regardless of its actual size.</p>
</div>
<div class="sect2">
<h3 id="examples-metricsmodulelength">Examples</h3>
<div class="sect3">
<h4 id="countasone_-__array__-_hash__-_heredoc__-_method_call__-metricsmodulelength">CountAsOne: ['array', 'hash', 'heredoc', 'method_call']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'>M</span>
  <span class='const'>ARRAY</span> <span class='op'>=</span> [         <span class='comment'># +1
</span>    <span class='int'>1</span><span class='comma'>,</span>
    <span class='int'>2</span>
  ]

  <span class='const'>HASH</span> <span class='op'>=</span> {          <span class='comment'># +1
</span>    <span class='label'>key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span>
  }

  <span class='const'>MSG</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~HEREDOC</span>  <span class='comment'># +1
</span><span class='ignored_sp'>    </span><span class='tstring_content'>Heredoc
</span><span class='ignored_sp'>    </span><span class='tstring_content'>content.
</span><span class='heredoc_end'>  HEREDOC
</span>
  <span class='id identifier rubyid_foo'>foo</span>(              <span class='comment'># +1
</span>    <span class='int'>1</span><span class='comma'>,</span>
    <span class='int'>2</span>
  )
<span class='kw'>end</span>                 <span class='comment'># 4 points</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricsmodulelength">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountAsOne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricsparameterlists">Metrics/ParameterLists</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for methods with too many parameters.</p>
</div>
<div class="paragraph">
<p>The maximum number of parameters is configurable.
Keyword arguments can optionally be excluded from the total count,
as they add less complexity than positional or optional parameters.</p>
</div>
<div class="paragraph">
<p>Any number of arguments for <code>initialize</code> method inside a block of
<code>Struct.new</code> and <code>Data.define</code> like this is always allowed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_one'>one</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_two'>two</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_three'>three</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_four'>four</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_five'>five</span><span class='comma'>,</span> <span class='label'>keyword_init:</span> <span class='kw'>true</span>) <span class='kw'>do</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='label'>one:</span><span class='comma'>,</span> <span class='label'>two:</span><span class='comma'>,</span> <span class='label'>three:</span><span class='comma'>,</span> <span class='label'>four:</span><span class='comma'>,</span> <span class='label'>five:</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This is because checking the number of arguments of the <code>initialize</code> method
does not make sense.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Explicit block argument <code>&amp;block</code> is not counted to prevent
erroneous change that is avoided by making block argument implicit.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This cop also checks for the maximum number of optional parameters.
This can be configured using the <code>MaxOptionalParameters</code> config option.</p>
</div>
<div class="sect2">
<h3 id="examples-metricsparameterlists">Examples</h3>
<div class="sect3">
<h4 id="max_-3-metricsparameterlists">Max: 3</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='int'>1</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="max_-2-metricsparameterlists">Max: 2</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='int'>1</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="countkeywordargs_-true-_default_-metricsparameterlists">CountKeywordArgs: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># counts keyword args towards the maximum
</span>
<span class='comment'># bad (assuming Max is 3)
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='label'>d:</span> <span class='int'>1</span>)
<span class='kw'>end</span>

<span class='comment'># good (assuming Max is 3)
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='label'>c:</span> <span class='int'>1</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="countkeywordargs_-false-metricsparameterlists">CountKeywordArgs: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># don&#39;t count keyword args towards the maximum
</span>
<span class='comment'># good (assuming Max is 3)
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='label'>d:</span> <span class='int'>1</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="maxoptionalparameters_-3-_default_-metricsparameterlists">MaxOptionalParameters: 3 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>2</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='int'>3</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="maxoptionalparameters_-2-metricsparameterlists">MaxOptionalParameters: 2</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>2</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='int'>3</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricsparameterlists">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountKeywordArgs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxOptionalParameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-metricsparameterlists">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#too-many-params" class="bare">https://rubystyle.guide#too-many-params</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metricsperceivedcomplexity">Metrics/PerceivedComplexity</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Tries to produce a complexity score that&#8217;s a measure of the
complexity the reader experiences when looking at a method. For that
reason it considers <code>when</code> nodes as something that doesn&#8217;t add as much
complexity as an <code>if</code> or a <code>&amp;&amp;</code>. Except if it&#8217;s one of those special
<code>case</code>/<code>when</code> constructs where there&#8217;s no expression after <code>case</code>. Then
the cop treats it as an <code>if</code>/<code>elsif</code>/<code>elsif</code>&#8230;&#8203; and lets all the <code>when</code>
nodes count. In contrast to the CyclomaticComplexity cop, this cop
considers <code>else</code> nodes as adding complexity.</p>
</div>
<div class="sect2">
<h3 id="examples-metricsperceivedcomplexity">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>                   <span class='comment'># 1
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_cond'>cond</span>                       <span class='comment'># 1
</span>    <span class='kw'>case</span> <span class='id identifier rubyid_var'>var</span>                    <span class='comment'># 2 (0.8 + 4 * 0.2, rounded)
</span>    <span class='kw'>when</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id identifier rubyid_func_one'>func_one</span>
    <span class='kw'>when</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id identifier rubyid_func_two'>func_two</span>
    <span class='kw'>when</span> <span class='int'>3</span> <span class='kw'>then</span> <span class='id identifier rubyid_func_three'>func_three</span>
    <span class='kw'>when</span> <span class='int'>4</span><span class='op'>..</span><span class='int'>10</span> <span class='kw'>then</span> <span class='id identifier rubyid_func_other'>func_other</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>                          <span class='comment'># 1
</span>    <span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>until</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_b'>b</span>   <span class='comment'># 2
</span>  <span class='kw'>end</span>                           <span class='comment'># ===
</span><span class='kw'>end</span>                             <span class='comment'># 7 complexity points</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-metricsperceivedcomplexity">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>