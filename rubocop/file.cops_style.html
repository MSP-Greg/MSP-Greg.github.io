<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Cops Style &mdash; RuboCop master</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "cops_style",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>RuboCop master</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Cops Style&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<div class="sect1">
<h2 id="_styleaccessmodifierdeclarations">Style/AccessModifierDeclarations</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Access modifiers should be declared to apply to a group of methods
or inline before each method, depending on configuration.
EnforcedStyle config covers only method definitions.
Applications of visibility methods to symbols can be controlled
using AllowModifiersOnSymbols config.</p>
</div>
<div class="sect2">
<h3 id="_safety">Safety</h3>
<div class="paragraph">
<p>Autocorrection is not safe, because the visibility of dynamically
defined methods can vary depending on the state determined by
the group access modifier.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_group_default">EnforcedStyle: group (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>

  <span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span><span class='semicolon'>;</span> <span class='kw'>end</span>
  <span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_baz'>baz</span><span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span><span class='semicolon'>;</span> <span class='kw'>end</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_baz'>baz</span><span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_inline">EnforcedStyle: inline</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span><span class='semicolon'>;</span> <span class='kw'>end</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_baz'>baz</span><span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>

  <span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span><span class='semicolon'>;</span> <span class='kw'>end</span>
  <span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_baz'>baz</span><span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowmodifiersonsymbols_true_default">AllowModifiersOnSymbols: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>

  <span class='id identifier rubyid_private'>private</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>

<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowmodifiersonsymbols_false">AllowModifiersOnSymbols: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>

  <span class='id identifier rubyid_private'>private</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>

<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>inline</code>, <code>group</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowModifiersOnSymbols</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleaccessorgrouping">Style/AccessorGrouping</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for grouping of accessors in <code>class</code> and <code>module</code> bodies.
By default it enforces accessors to be placed in grouped declarations,
but it can be configured to enforce separating them in multiple declarations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If there is a method call before the accessor method it is always allowed
as it might be intended like Sorbet.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_2">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_grouped_default">EnforcedStyle: grouped (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bax'>bax</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bax'>bax</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='comment'># may be intended comment for bar.
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>

  <span class='id identifier rubyid_sig'>sig</span> { <span class='id identifier rubyid_returns'>returns</span>(<span class='const'><a href="String.html" title="String (class)">String</a></span>) }
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bax'>bax</span>

  <span class='id identifier rubyid_may_be_intended_annotation'>may_be_intended_annotation</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_separated">EnforcedStyle: separated</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_2">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>grouped</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated</code>, <code>grouped</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylealias">Style/Alias</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of either <code>#alias</code> or <code>#alias_method</code>
depending on configuration.
It also flags uses of <code>alias :symbol</code> rather than <code>alias bareword</code>.</p>
</div>
<div class="paragraph">
<p>However, it will always enforce <code>method_alias</code> when used <code>alias</code>
in an instance method definition and in a singleton method definition.
If used in a block, always enforce <code>alias_method</code>
unless it is an <code>instance_eval</code> block.</p>
</div>
<div class="sect2">
<h3 id="_examples_3">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_prefer_alias_default">EnforcedStyle: prefer_alias (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='kw'>alias</span> <span class='id identifier rubyid_bar'>bar</span> <span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_prefer_alias_method">EnforcedStyle: prefer_alias_method</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>alias</span> <span class='id identifier rubyid_bar'>bar</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_3">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>prefer_alias</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>prefer_alias</code>, <code>prefer_alias_method</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#alias-method-lexically" class="bare">https://rubystyle.guide#alias-method-lexically</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleandor">Style/AndOr</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.21</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>and</code> and <code>or</code>, and suggests using <code>&amp;&amp;</code> and
<code>||</code> instead. It can be configured to check only in conditions or in
all contexts.</p>
</div>
<div class="sect2">
<h3 id="_safety_2">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because there is a different operator precedence
between logical operators (<code>&amp;&amp;</code> and <code>||</code>) and semantic operators (<code>and</code> and <code>or</code>),
and that might change the behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_4">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_conditionals_default">EnforcedStyle: conditionals (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span> <span class='kw'>and</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_save'>save</span> <span class='op'>&amp;&amp;</span> <span class='kw'>return</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_save'>save</span> <span class='kw'>and</span> <span class='kw'>return</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_always">EnforcedStyle: always</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_save'>save</span> <span class='kw'>and</span> <span class='kw'>return</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span> <span class='kw'>and</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_save'>save</span> <span class='op'>&amp;&amp;</span> <span class='kw'>return</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_4">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conditionals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code>, <code>conditionals</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_2">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-and-or-or" class="bare">https://rubystyle.guide#no-and-or-or</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleargumentsforwarding">Style/ArgumentsForwarding</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.58</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In Ruby 2.7, arguments forwarding has been added.</p>
</div>
<div class="paragraph">
<p>This cop identifies places where <code>do_something(*args, &amp;block)</code>
can be replaced by <code>do_something(&#8230;&#8203;)</code>.</p>
</div>
<div class="paragraph">
<p>In Ruby 3.1, anonymous block forwarding has been added.</p>
</div>
<div class="paragraph">
<p>This cop identifies places where <code>do_something(&amp;block)</code> can be replaced
by <code>do_something(&amp;)</code>; if desired, this functionality can be disabled
by setting <code>UseAnonymousForwarding: false</code>.</p>
</div>
<div class="paragraph">
<p>In Ruby 3.2, anonymous args/kwargs forwarding has been added.</p>
</div>
<div class="paragraph">
<p>This cop also identifies places where <code>use_args(<strong>args)</code>/<code>use_kwargs(<strong>kwargs)</code> can be
replaced by <code>use_args(</strong>)</code>/<code>use_kwargs(</strong>)</code>; if desired, this functionality can be disabled
by setting <code>UseAnonymousForwarding: false</code>.</p>
</div>
<div class="paragraph">
<p>And this cop has <code>RedundantRestArgumentNames</code>, <code>RedundantKeywordRestArgumentNames</code>,
and <code>RedundantBlockArgumentNames</code> options. This configuration is a list of redundant names
that are sufficient for anonymizing meaningless naming.</p>
</div>
<div class="paragraph">
<p>Meaningless names that are commonly used can be anonymized by default:
e.g., <code><strong>args</code>, <code></strong>*options</code>, <code>&amp;block</code>, and so on.</p>
</div>
<div class="paragraph">
<p>Names not on this list are likely to be meaningful and are allowed by default.</p>
</div>
<div class="sect2">
<h3 id="_examples_5">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>...</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>...</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_useanonymousforwarding_true_default_only_relevant_for_ruby_3_2">UseAnonymousForwarding: true (default, only relevant for Ruby &gt;= 3.2)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_args_only'>args_only</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_kwargs_only'>kwargs_only</span>(<span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span>)
  <span class='id identifier rubyid_block_only'>block_only</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='comma'>,</span> <span class='op'>**</span><span class='comma'>,</span> <span class='op'>&amp;</span>)
  <span class='id identifier rubyid_args_only'>args_only</span>(<span class='op'>*</span>)
  <span class='id identifier rubyid_kwargs_only'>kwargs_only</span>(<span class='op'>**</span>)
  <span class='id identifier rubyid_block_only'>block_only</span>(<span class='op'>&amp;</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_useanonymousforwarding_false_only_relevant_for_ruby_3_2">UseAnonymousForwarding: false (only relevant for Ruby &gt;= 3.2)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_args_only'>args_only</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_kwargs_only'>kwargs_only</span>(<span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span>)
  <span class='id identifier rubyid_block_only'>block_only</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowonlyrestargument_true_default_only_relevant_for_ruby_3_2">AllowOnlyRestArgument: true (default, only relevant for Ruby &lt; 3.2)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowonlyrestargument_false_only_relevant_for_ruby_3_2">AllowOnlyRestArgument: false (only relevant for Ruby &lt; 3.2)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># The following code can replace the arguments with `...`,
</span><span class='comment'># but it will change the behavior. Because `...` forwards block also.
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_redundantrestargumentnames_args_arguments_default">RedundantRestArgumentNames: ['args', 'arguments'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>*</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>*</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_redundantkeywordrestargumentnames_kwargs_options_opts_default">RedundantKeywordRestArgumentNames: ['kwargs', 'options', 'opts'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>**</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>**</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_redundantblockargumentnames_blk_block_proc_default">RedundantBlockArgumentNames: ['blk', 'block', 'proc'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - But it is good with `EnforcedStyle: explicit` set for {Naming/BlockForwarding}.
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='op'>&amp;</span>)
  <span class='id identifier rubyid_bar'>bar</span>(<span class='op'>&amp;</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_5">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowOnlyRestArgument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UseAnonymousForwarding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RedundantRestArgumentNames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>args</code>, <code>arguments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RedundantKeywordRestArgumentNames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kwargs</code>, <code>options</code>, <code>opts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RedundantBlockArgumentNames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>blk</code>, <code>block</code>, <code>proc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_3">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#arguments-forwarding" class="bare">https://rubystyle.guide#arguments-forwarding</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylearraycoercion">Style/ArrayCoercion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>Array()</code> instead of explicit <code>Array</code> check or <code>[*var]</code>.</p>
</div>
<div class="paragraph">
<p>The cop is disabled by default due to safety concerns.</p>
</div>
<div class="sect2">
<h3 id="_safety_3">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because a false positive may occur if
the argument of <code>Array()</code> is (or could be) nil or depending
on how the argument is handled by <code>Array()</code> (which can be
different than just wrapping the argument in an array).</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby">[<span class='kw'>nil</span>]             <span class='comment'>#=&gt; [nil]
</span><span class='const'>Array</span>(<span class='kw'>nil</span>)        <span class='comment'>#=&gt; []
</span>
[{<span class='label'>a:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>}]        <span class='comment'>#= [{a: &#39;b&#39;}]
</span><span class='const'>Array</span>({<span class='label'>a:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>})   <span class='comment'>#=&gt; [[:a, &#39;b&#39;]]
</span>
[<span class='const'>Time</span>.<span class='id identifier rubyid_now'>now</span>]        <span class='comment'>#=&gt; [#&lt;Time ...&gt;]
</span><span class='const'>Array</span>(<span class='const'>Time</span>.<span class='id identifier rubyid_now'>now</span>)   <span class='comment'>#=&gt; [14, 16, 14, 16, 9, 2021, 4, 259, true, &quot;EDT&quot;]</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_6">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_paths'>paths</span> <span class='op'>=</span> [<span class='id identifier rubyid_paths'>paths</span>] <span class='kw'>unless</span> <span class='id identifier rubyid_paths'>paths</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Array</span>)
<span class='id identifier rubyid_paths'>paths</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_path'>path</span>) }

<span class='comment'># bad (always creates a new Array instance)
</span>[<span class='op'>*</span><span class='id identifier rubyid_paths'>paths</span>].<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_path'>path</span>) }

<span class='comment'># good (and a bit more readable)
</span><span class='const'>Array</span>(<span class='id identifier rubyid_paths'>paths</span>).<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_path'>path</span>) }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_4">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#array-coercion" class="bare">https://rubystyle.guide#array-coercion</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylearrayfirstlast">Style/ArrayFirstLast</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies usages of <code>arr[0]</code> and <code>arr[-1]</code> and suggests to change
them to use <code>arr.first</code> and <code>arr.last</code> instead.</p>
</div>
<div class="paragraph">
<p>The cop is disabled by default due to safety concerns.</p>
</div>
<div class="sect2">
<h3 id="_safety_4">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because <code>[0]</code> or <code>[-1]</code> can be called on a Hash,
which returns a value for <code>0</code> or <code>-1</code> key, but changing these to use
<code>.first</code> or <code>.last</code> will return first/last tuple instead. Also, String
does not implement <code>first</code>/<code>last</code> methods.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_7">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_arr'>arr</span>[<span class='int'>0</span>]
<span class='id identifier rubyid_arr'>arr</span>[<span class='op'>-</span><span class='int'>1</span>]

<span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_first'>first</span>
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_last'>last</span>
<span class='id identifier rubyid_arr'>arr</span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='int'>2</span>
<span class='id identifier rubyid_arr'>arr</span>[<span class='int'>0</span>][<span class='op'>-</span><span class='int'>2</span>]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_5">References</h3>
<div class="ulist">
<ul>
<li>
<p>#first-and-last</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylearrayintersect">Style/ArrayIntersect</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 3.1
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In Ruby 3.1, <code>Array#intersect?</code> has been added.</p>
</div>
<div class="paragraph">
<p>This cop identifies places where <code>(array1 &amp; array2).any?</code>
can be replaced by <code>array1.intersect?(array2)</code>.</p>
</div>
<div class="paragraph">
<p>The <code>array1.intersect?(array2)</code> method is faster than
<code>(array1 &amp; array2).any?</code> and is more readable.</p>
</div>
<div class="paragraph">
<p>In cases like the following, compatibility is not ensured,
so it will not be detected when using block argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby">([<span class='int'>1</span>] <span class='op'>&amp;</span> [<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span>]).<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='kw'>false</span> }    <span class='comment'># =&gt; false
</span>[<span class='int'>1</span>].<span class='id identifier rubyid_intersect?'>intersect?</span>([<span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span>]) { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='kw'>false</span> } <span class='comment'># =&gt; true</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_safety_5">Safety</h3>
<div class="paragraph">
<p>This cop cannot guarantee that <code>array1</code> and <code>array2</code> are
actually arrays while method <code>intersect?</code> is for arrays only.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_8">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>(<span class='id identifier rubyid_array1'>array1</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_array2'>array2</span>).<span class='id identifier rubyid_any?'>any?</span>
(<span class='id identifier rubyid_array1'>array1</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_array2'>array2</span>).<span class='id identifier rubyid_empty?'>empty?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_array1'>array1</span>.<span class='id identifier rubyid_intersect?'>intersect?</span>(<span class='id identifier rubyid_array2'>array2</span>)
<span class='op'>!</span><span class='id identifier rubyid_array1'>array1</span>.<span class='id identifier rubyid_intersect?'>intersect?</span>(<span class='id identifier rubyid_array2'>array2</span>)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allcopsactivesupportextensionsenabled_false_default">AllCops:ActiveSupportExtensionsEnabled: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span>(<span class='id identifier rubyid_array1'>array1</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_array2'>array2</span>).<span class='id identifier rubyid_present?'>present?</span>
(<span class='id identifier rubyid_array1'>array1</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_array2'>array2</span>).<span class='id identifier rubyid_blank?'>blank?</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allcopsactivesupportextensionsenabled_true">AllCops:ActiveSupportExtensionsEnabled: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>(<span class='id identifier rubyid_array1'>array1</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_array2'>array2</span>).<span class='id identifier rubyid_present?'>present?</span>
(<span class='id identifier rubyid_array1'>array1</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_array2'>array2</span>).<span class='id identifier rubyid_blank?'>blank?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_array1'>array1</span>.<span class='id identifier rubyid_intersect?'>intersect?</span>(<span class='id identifier rubyid_array2'>array2</span>)
<span class='op'>!</span><span class='id identifier rubyid_array1'>array1</span>.<span class='id identifier rubyid_intersect?'>intersect?</span>(<span class='id identifier rubyid_array2'>array2</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylearrayjoin">Style/ArrayJoin</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.31</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of "*" as a substitute for <em>join</em>.</p>
</div>
<div class="paragraph">
<p>Not all cases can reliably checked, due to Ruby&#8217;s dynamic
types, so we consider only cases when the first argument is an
array literal or the second is a string literal.</p>
</div>
<div class="sect2">
<h3 id="_examples_9">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='tstring_end'>)</span></span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='tstring_end'>)</span></span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_6">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#array-join" class="bare">https://rubystyle.guide#array-join</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleasciicomments">Style/AsciiComments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.21</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for non-ascii (non-English) characters
in comments. You could set an array of allowed non-ascii chars in
<code>AllowedChars</code> attribute (copyright notice "©" by default).</p>
</div>
<div class="sect2">
<h3 id="_examples_10">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># Translates from English to 日本語。
</span>
<span class='comment'># good
</span><span class='comment'># Translates from English to Japanese</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_6">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedChars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>©</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_7">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#english-comments" class="bare">https://rubystyle.guide#english-comments</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleattr">Style/Attr</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of Module#attr.</p>
</div>
<div class="sect2">
<h3 id="_examples_11">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - creates a single attribute accessor (deprecated in Ruby 1.9)
</span><span class='id identifier rubyid_attr'>attr</span> <span class='symbeg'>:</span><span class='id identifier rubyid_something'>something</span><span class='comma'>,</span> <span class='kw'>true</span>
<span class='id identifier rubyid_attr'>attr</span> <span class='symbeg'>:</span><span class='id identifier rubyid_one'>one</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_two'>two</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_three'>three</span> <span class='comment'># behaves as attr_reader
</span>
<span class='comment'># good
</span><span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_something'>something</span>
<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_one'>one</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_two'>two</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_three'>three</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_8">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#attr" class="bare">https://rubystyle.guide#attr</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleautoresourcecleanup">Style/AutoResourceCleanup</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for cases when you could use a block
accepting version of a method that does automatic
resource cleanup.</p>
</div>
<div class="sect2">
<h3 id="_examples_12">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>file</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>file</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='const'>Tempfile</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>temp</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='const'>Tempfile</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>temp</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylebarepercentliterals">Style/BarePercentLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if usage of %() or %Q() matches configuration.</p>
</div>
<div class="sect2">
<h3 id="_examples_13">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_bare_percent_default">EnforcedStyle: bare_percent (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>%Q(</span><span class='tstring_content'>He said: &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_greeting'>greeting</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>)</span></span>
<span class='tstring'><span class='tstring_beg'>%q{</span><span class='tstring_content'>She said: &#39;Hi&#39;</span><span class='tstring_end'>}</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>He said: &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_greeting'>greeting</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>)</span></span>
<span class='tstring'><span class='tstring_beg'>%{</span><span class='tstring_content'>She said: &#39;Hi&#39;</span><span class='tstring_end'>}</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_percent_q">EnforcedStyle: percent_q</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>%|</span><span class='tstring_content'>He said: &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_greeting'>greeting</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>|</span></span>
<span class='tstring'><span class='tstring_beg'>%/</span><span class='tstring_content'>She said: &#39;Hi&#39;</span><span class='tstring_end'>/</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>%Q|</span><span class='tstring_content'>He said: &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_greeting'>greeting</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>|</span></span>
<span class='tstring'><span class='tstring_beg'>%q/</span><span class='tstring_content'>She said: &#39;Hi&#39;</span><span class='tstring_end'>/</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_7">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bare_percent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent_q</code>, <code>bare_percent</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_9">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-q-shorthand" class="bare">https://rubystyle.guide#percent-q-shorthand</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylebeginblock">Style/BeginBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for BEGIN blocks.</p>
</div>
<div class="sect2">
<h3 id="_examples_14">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>BEGIN</span> { <span class='id identifier rubyid_test'>test</span> }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_10">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-BEGIN-blocks" class="bare">https://rubystyle.guide#no-BEGIN-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylebisectedattraccessor">Style/BisectedAttrAccessor</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where <code>attr_reader</code> and <code>attr_writer</code>
for the same method can be combined into single <code>attr_accessor</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_15">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleblockcomments">Style/BlockComments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.23</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of block comments (=begin&#8230;&#8203;=end).</p>
</div>
<div class="sect2">
<h3 id="_examples_16">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='embdoc_beg'>=begin
</span><span class='embdoc'>Multiple lines
</span><span class='embdoc'>of comments...
</span><span class='embdoc_end'>=end
</span>
<span class='comment'># good
</span><span class='comment'># Multiple lines
</span><span class='comment'># of comments...</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_11">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-block-comments" class="bare">https://rubystyle.guide#no-block-comments</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleblockdelimiters">Style/BlockDelimiters</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for uses of braces or do/end around single line or
multi-line blocks.</p>
</div>
<div class="paragraph">
<p>Methods that can be either procedural or functional and cannot be
categorised from their usage alone is ignored.
<code>lambda</code>, <code>proc</code>, and <code>it</code> are their defaults.
Additional methods can be added to the <code>AllowedMethods</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_17">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_line_count_based_default">EnforcedStyle: line_count_based (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - single line block
</span><span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>/</span> <span class='int'>5</span> <span class='kw'>end</span>

<span class='comment'># good - single line block
</span><span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>/</span> <span class='int'>5</span> }

<span class='comment'># bad - multi-line block
</span><span class='id identifier rubyid_things'>things</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_thing'>thing</span><span class='op'>|</span>
  <span class='id identifier rubyid_something'>something</span> <span class='op'>=</span> <span class='id identifier rubyid_thing'>thing</span>.<span class='id identifier rubyid_some_method'>some_method</span>
  <span class='id identifier rubyid_process'>process</span>(<span class='id identifier rubyid_something'>something</span>)
}

<span class='comment'># good - multi-line block
</span><span class='id identifier rubyid_things'>things</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_thing'>thing</span><span class='op'>|</span>
  <span class='id identifier rubyid_something'>something</span> <span class='op'>=</span> <span class='id identifier rubyid_thing'>thing</span>.<span class='id identifier rubyid_some_method'>some_method</span>
  <span class='id identifier rubyid_process'>process</span>(<span class='id identifier rubyid_something'>something</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_semantic">EnforcedStyle: semantic</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># Prefer `do...end` over `{...}` for procedural blocks.
</span>
<span class='comment'># return value is used/assigned
</span><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='id identifier rubyid_x'>x</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_puts'>puts</span> (<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='id identifier rubyid_x'>x</span>
<span class='kw'>end</span>)

<span class='comment'># return value is not used out of scope
</span><span class='comment'># good
</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='id identifier rubyid_x'>x</span>
<span class='kw'>end</span>

<span class='comment'># Prefer `{...}` over `do...end` for functional blocks.
</span>
<span class='comment'># return value is not used out of scope
</span><span class='comment'># bad
</span><span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='id identifier rubyid_x'>x</span>
}

<span class='comment'># return value is used/assigned
</span><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='id identifier rubyid_x'>x</span>
}
<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='id identifier rubyid_x'>x</span>
}.<span class='id identifier rubyid_inspect'>inspect</span>

<span class='comment'># The AllowBracesOnProceduralOneLiners option is allowed unless the
</span><span class='comment'># EnforcedStyle is set to `semantic`. If so:
</span>
<span class='comment'># If the AllowBracesOnProceduralOneLiners option is unspecified, or
</span><span class='comment'># set to `false` or any other falsey value, then semantic purity is
</span><span class='comment'># maintained, so one-line procedural blocks must use do-end, not
</span><span class='comment'># braces.
</span>
<span class='comment'># bad
</span><span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_element'>element</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_element'>element</span> <span class='kw'>end</span>

<span class='comment'># If the AllowBracesOnProceduralOneLiners option is set to `true`, or
</span><span class='comment'># any other truthy value, then one-line procedural blocks may use
</span><span class='comment'># either style. (There is no setting for requiring braces on them.)
</span>
<span class='comment'># good
</span><span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_element'>element</span> }

<span class='comment'># also good
</span><span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_element'>element</span> <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_braces_for_chaining">EnforcedStyle: braces_for_chaining</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span>
  <span class='id identifier rubyid_word'>word</span>.<span class='id identifier rubyid_flip'>flip</span>.<span class='id identifier rubyid_flop'>flop</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span>
  <span class='id identifier rubyid_word'>word</span>.<span class='id identifier rubyid_flip'>flip</span>.<span class='id identifier rubyid_flop'>flop</span>
}.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_always_braces">EnforcedStyle: always_braces</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span>
  <span class='id identifier rubyid_word'>word</span>.<span class='id identifier rubyid_flip'>flip</span>.<span class='id identifier rubyid_flop'>flop</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span>
  <span class='id identifier rubyid_word'>word</span>.<span class='id identifier rubyid_flip'>flip</span>.<span class='id identifier rubyid_flop'>flop</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_bracesrequiredmethods_sig">BracesRequiredMethods: ['sig']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># Methods listed in the BracesRequiredMethods list, such as &#39;sig&#39;
</span><span class='comment'># in this example, will require `{...}` braces. This option takes
</span><span class='comment'># precedence over all other configurations except AllowedMethods.
</span>
<span class='comment'># bad
</span><span class='id identifier rubyid_sig'>sig</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_params'>params</span>(
    <span class='label'>foo:</span> <span class='id identifier rubyid_string'>string</span><span class='comma'>,</span>
  ).<span class='id identifier rubyid_void'>void</span>
<span class='kw'>end</span>
<span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_foo'>foo</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_sig'>sig</span> {
  <span class='id identifier rubyid_params'>params</span>(
    <span class='label'>foo:</span> <span class='id identifier rubyid_string'>string</span><span class='comma'>,</span>
  ).<span class='id identifier rubyid_void'>void</span>
}
<span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_foo'>foo</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_lambda_proc_it_default">AllowedMethods: ['lambda', 'proc', 'it' ] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>*</span> <span class='int'>100</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_default">AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_things'>things</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_thing'>thing</span><span class='op'>|</span>
  <span class='id identifier rubyid_something'>something</span> <span class='op'>=</span> <span class='id identifier rubyid_thing'>thing</span>.<span class='id identifier rubyid_some_method'>some_method</span>
  <span class='id identifier rubyid_process'>process</span>(<span class='id identifier rubyid_something'>something</span>)
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_map">AllowedPatterns: ['map']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_things'>things</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_thing'>thing</span><span class='op'>|</span>
  <span class='id identifier rubyid_something'>something</span> <span class='op'>=</span> <span class='id identifier rubyid_thing'>thing</span>.<span class='id identifier rubyid_some_method'>some_method</span>
  <span class='id identifier rubyid_process'>process</span>(<span class='id identifier rubyid_something'>something</span>)
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_8">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_count_based</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_count_based</code>, <code>semantic</code>, <code>braces_for_chaining</code>, <code>always_braces</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProceduralMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>benchmark</code>, <code>bm</code>, <code>bmbm</code>, <code>create</code>, <code>each_with_object</code>, <code>measure</code>, <code>new</code>, <code>realtime</code>, <code>tap</code>, <code>with_object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FunctionalMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>let</code>, <code>let!</code>, <code>subject</code>, <code>watch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lambda</code>, <code>proc</code>, <code>it</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowBracesOnProceduralOneLiners</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BracesRequiredMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_12">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#single-line-blocks" class="bare">https://rubystyle.guide#single-line-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecaseequality">Style/CaseEquality</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If <code>AllowOnSelfClass</code> option is enabled, the cop will ignore violations when the receiver of
the case equality operator is <code>self.class</code>. Note intermediate variables are not accepted.</p>
</div>
<div class="sect2">
<h3 id="_examples_18">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>100</span>) <span class='op'>===</span> <span class='int'>7</span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>something</span><span class='regexp_end'>/</span></span> <span class='op'>===</span> <span class='id identifier rubyid_some_string'>some_string</span>

<span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Array</span>)
(<span class='int'>1</span><span class='op'>..</span><span class='int'>100</span>).<span class='id identifier rubyid_include?'>include?</span>(<span class='int'>7</span>)
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>something</span><span class='regexp_end'>/</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='id identifier rubyid_some_string'>some_string</span>)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowonconstant_false_default">AllowOnConstant: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_something'>something</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowonconstant_true">AllowOnConstant: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_something'>something</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowonselfclass_false_default">AllowOnSelfClass: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>===</span> <span class='id identifier rubyid_something'>something</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowonselfclass_true">AllowOnSelfClass: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>===</span> <span class='id identifier rubyid_something'>something</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_9">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowOnConstant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowOnSelfClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_13">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-case-equality" class="bare">https://rubystyle.guide#no-case-equality</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecaselikeif">Style/CaseLikeIf</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>if-elsif</code> constructions
can be replaced with <code>case-when</code>.</p>
</div>
<div class="sect2">
<h3 id="_safety_6">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe. <code>case</code> statements use <code>===</code> for equality,
so if the original conditional used a different equality operator, the
behavior may be different.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_19">Examples</h3>
<div class="sect3">
<h4 id="_minbranchescount_3_default">MinBranchesCount: 3 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span>
  <span class='id identifier rubyid_perform_action'>perform_action</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inactive'>inactive</span> <span class='op'>||</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hibernating'>hibernating</span>
  <span class='id identifier rubyid_check_timeout'>check_timeout</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_invalid'>invalid</span>
  <span class='id identifier rubyid_report_invalid'>report_invalid</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_final_action'>final_action</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_status'>status</span>
<span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span>
  <span class='id identifier rubyid_perform_action'>perform_action</span>
<span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inactive'>inactive</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hibernating'>hibernating</span>
  <span class='id identifier rubyid_check_timeout'>check_timeout</span>
<span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_invalid'>invalid</span>
  <span class='id identifier rubyid_report_invalid'>report_invalid</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_final_action'>final_action</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_minbranchescount_4">MinBranchesCount: 4</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_active'>active</span>
  <span class='id identifier rubyid_perform_action'>perform_action</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inactive'>inactive</span> <span class='op'>||</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_hibernating'>hibernating</span>
  <span class='id identifier rubyid_check_timeout'>check_timeout</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_invalid'>invalid</span>
  <span class='id identifier rubyid_report_invalid'>report_invalid</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_final_action'>final_action</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_10">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinBranchesCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_14">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#case-vs-if-else" class="bare">https://rubystyle.guide#case-vs-if-else</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecharacterliteral">Style/CharacterLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the character literal ?x.
Starting with Ruby 1.9 character literals are
essentially one-character strings, so this syntax
is mostly redundant at this point.</p>
</div>
<div class="paragraph">
<p>? character literal can be used to express meta and control character.
That&#8217;s a good use case of ? literal so it doesn&#8217;t count it as an offense.</p>
</div>
<div class="sect2">
<h3 id="_examples_20">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='CHAR'>?x</span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good - control &amp; meta escapes
</span><span class='CHAR'>?\C-\M-d</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\C-\M-d</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># same as above</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_15">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-character-literals" class="bare">https://rubystyle.guide#no-character-literals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleclassandmodulechildren">Style/ClassAndModuleChildren</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks the style of children definitions at classes and
modules. Basically there are two different styles:</p>
</div>
<div class="paragraph">
<p>The compact style is only forced for classes/modules with one child.</p>
</div>
<div class="sect2">
<h3 id="_safety_7">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe.</p>
</div>
<div class="paragraph">
<p>Moving from compact to nested children requires knowledge of whether the
outer parent is a module or a class. Moving from nested to compact requires
verification that the outer parent is defined elsewhere. RuboCop does not
have the knowledge to perform either operation safely and thus requires
manual oversight.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_21">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_nested_default">EnforcedStyle: nested (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='comment'># have each child on its own line
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='kw'>class</span> <span class='const'>Bar</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_compact">EnforcedStyle: compact</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='comment'># combine definitions as much as possible
</span><span class='kw'>class</span> <span class='const'>Foo</span><span class='op'>::</span><span class='const'>Bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_11">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nested</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nested</code>, <code>compact</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_16">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#namespace-definition" class="bare">https://rubystyle.guide#namespace-definition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleclasscheck">Style/ClassCheck</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces consistent use of <code>Object#is_a?</code> or <code>Object#kind_of?</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_22">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_is_a_default">EnforcedStyle: is_a? (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Date</span>)
<span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Integer</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Date</span>)
<span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_kind_of">EnforcedStyle: kind_of?</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Time</span>)
<span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="String.html" title="String (class)">String</a></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'>Time</span>)
<span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'><a href="String.html" title="String (class)">String</a></span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_12">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_a?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_a?</code>, <code>kind_of?</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_17">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#is-a-vs-kind-of" class="bare">https://rubystyle.guide#is-a-vs-kind-of</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleclassequalitycomparison">Style/ClassEqualityComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.57</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>Object#instance_of?</code> instead of class comparison
for equality.
<code>==</code>, <code>equal?</code>, and <code>eql?</code> custom method definitions are allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="_safety_8">Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because there is no guarantee that
the constant <code>Foo</code> exists when autocorrecting <code>var.class.name == 'Foo'</code> to
<code>var.instance_of?(Foo)</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_23">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>Date</span>
<span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='const'>Date</span>)
<span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='const'>Date</span>)
<span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_var'>var</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'>Date</span>)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_equal_eql_default">AllowedMethods: ['==', 'equal?', 'eql?'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_class'>class</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_name'>name</span>)
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eql?'>eql?</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_class'>class</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_eql?'>eql?</span>(<span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_name'>name</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_default_2">AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_eq'>eq</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_eq'>eq</span>(<span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_class'>class</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_eq'>eq</span>(<span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_name'>name</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_eq">AllowedPatterns: ['eq']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_eq'>eq</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_eq'>eq</span>(<span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_class'>class</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_eq'>eq</span>(<span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_name'>name</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_13">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>==</code>, <code>equal?</code>, <code>eql?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_18">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#instance-of-vs-class-comparison" class="bare">https://rubystyle.guide#instance-of-vs-class-comparison</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleclassmethods">Style/ClassMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the class/module name instead of
self, when defining class/module methods.</p>
</div>
<div class="sect2">
<h3 id="_examples_24">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>def</span> <span class='const'>SomeClass</span>.<span class='id identifier rubyid_class_method'>class_method</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class_method'>class_method</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_19">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#def-self-class-methods" class="bare">https://rubystyle.guide#def-self-class-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleclassmethodsdefinitions">Style/ClassMethodsDefinitions</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces using <code>def self.method_name</code> or <code>class &lt;&lt; self</code> to define class methods.</p>
</div>
<div class="sect2">
<h3 id="_examples_25">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_def_self_default">EnforcedStyle: def_self (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_class_accessor'>class_accessor</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_class_method'>class_method</span>
      <span class='comment'># ...
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class_method'>class_method</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>

  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_class_accessor'>class_accessor</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good - contains private method
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_class_accessor'>class_accessor</span>

    <span class='id identifier rubyid_private'>private</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_private_class_method'>private_class_method</span>
      <span class='comment'># ...
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_self_class">EnforcedStyle: self_class</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class_method'>class_method</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_class_method'>class_method</span>
      <span class='comment'># ...
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_14">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>def_self</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>def_self</code>, <code>self_class</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_20">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#def-self-class-methods" class="bare">https://rubystyle.guide#def-self-class-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleclassvars">Style/ClassVars</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of class variables. Offenses
are signaled only on assignment to class variables to
reduce the number of offenses that would be reported.</p>
</div>
<div class="paragraph">
<p>You have to be careful when setting a value for a class
variable; if a class has been inherited, changing the
value of a class variable also affects the inheriting
classes. This means that it&#8217;s almost always better to
use a class instance variable instead.</p>
</div>
<div class="sect2">
<h3 id="_examples_26">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>A</span>
  <span class='cvar'>@@test</span> <span class='op'>=</span> <span class='int'>10</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>A</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_test'>test</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
    <span class='id identifier rubyid_class_variable_set'>class_variable_set</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>A</span><span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='const'>A</span>.<span class='id identifier rubyid_class_variable_set'>class_variable_set</span>(<span class='symbeg'>:</span><span class='cvar'>@@test</span><span class='comma'>,</span> <span class='int'>10</span>)

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>A</span>
  <span class='ivar'>@test</span> <span class='op'>=</span> <span class='int'>10</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>A</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
    <span class='cvar'>@@test</span> <span class='comment'># you can access class variable without offense
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>A</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_test'>test</span>(<span class='id identifier rubyid_name'>name</span>)
    <span class='id identifier rubyid_class_variable_get'>class_variable_get</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># you can access without offense
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_21">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-class-vars" class="bare">https://rubystyle.guide#no-class-vars</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecollectioncompact">Style/CollectionCompact</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where custom logic on rejection nils from arrays
and hashes can be replaced with <code>{Array,Hash}#{compact,compact!}</code>.</p>
</div>
<div class="sect2">
<h3 id="_safety_9">Safety</h3>
<div class="paragraph">
<p>It is unsafe by default because false positives may occur in the
<code>nil</code> check of block arguments to the receiver object. Additionally,
we can&#8217;t know the type of the receiver object for sure, which may
result in false positives as well.</p>
</div>
<div class="paragraph">
<p>For example, <code>[[1, 2], [3, nil]].reject { |first, second| second.nil? }</code>
and <code>[[1, 2], [3, nil]].compact</code> are not compatible. This will work fine
when the receiver is a hash object.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_27">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_reject'>reject</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_nil?'>nil?</span>)
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_nil?'>nil?</span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_nil?'>nil?</span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_grep_v'>grep_v</span>(<span class='kw'>nil</span>)
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_grep_v'>grep_v</span>(<span class='const'>NilClass</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_compact'>compact</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_reject!'>reject!</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_nil?'>nil?</span>)
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_delete_if'>delete_if</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_nil?'>nil?</span>)
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_reject!'>reject!</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_nil?'>nil?</span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_delete_if'>delete_if</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_nil?'>nil?</span> }
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_select!'>select!</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_nil?'>nil?</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_compact!'>compact!</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedreceivers_params">AllowedReceivers: ['params']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_params'>params</span>.<span class='id identifier rubyid_reject'>reject</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_nil?'>nil?</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_15">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedReceivers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecollectionmethods">Style/CollectionMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of consistent method names
from the Enumerable module.</p>
</div>
<div class="paragraph">
<p>You can customize the mapping from undesired method to desired method.</p>
</div>
<div class="paragraph">
<p>e.g. to use <code>detect</code> over <code>find</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='const'>Style</span><span class='op'>/</span><span class='const'>CollectionMethods</span><span class='op'>:</span>
  <span class='const'>PreferredMethods</span><span class='op'>:</span>
    <span class='id identifier rubyid_find'>find</span><span class='op'>:</span> <span class='id identifier rubyid_detect'>detect</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_safety_10">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it finds methods by name, without actually
being able to determine if the receiver is an Enumerable or not, so
this cop may register false positives.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_28">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># These examples are based on the default mapping for {PreferredMethods}.
</span>
<span class='comment'># bad
</span><span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_collect'>collect</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_collect!'>collect!</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_collect_concat'>collect_concat</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_inject'>inject</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_detect'>detect</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_find_all'>find_all</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_member?'>member?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_map'>map</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_map!'>map!</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_flat_map'>flat_map</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_reduce'>reduce</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_find'>find</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_select'>select</span>
<span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_include?'>include?</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_16">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreferredMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"collect"&#8658;"map", "collect!"&#8658;"map!", "collect_concat"&#8658;"flat_map", "inject"&#8658;"reduce", "detect"&#8658;"find", "find_all"&#8658;"select", "member?"&#8658;"include?"}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodsAcceptingSymbol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>inject</code>, <code>reduce</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_22">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#map-find-select-reduce-include-size" class="bare">https://rubystyle.guide#map-find-select-reduce-include-size</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecolonmethodcall">Style/ColonMethodCall</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for methods invoked via the <code>::</code> operator instead
of the <code>.</code> operator (like <code>FileUtils::rmdir</code> instead of <code>FileUtils.rmdir</code>).</p>
</div>
<div class="sect2">
<h3 id="_examples_29">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Timeout</span><span class='op'>::</span><span class='id identifier rubyid_timeout'>timeout</span>(<span class='int'>500</span>) { <span class='id identifier rubyid_do_something'>do_something</span> }
<span class='const'>FileUtils</span><span class='op'>::</span><span class='id identifier rubyid_rmdir'>rmdir</span>(<span class='id identifier rubyid_dir'>dir</span>)
<span class='const'>Marshal</span><span class='op'>::</span><span class='id identifier rubyid_dump'>dump</span>(<span class='id identifier rubyid_obj'>obj</span>)

<span class='comment'># good
</span><span class='const'>Timeout</span>.<span class='id identifier rubyid_timeout'>timeout</span>(<span class='int'>500</span>) { <span class='id identifier rubyid_do_something'>do_something</span> }
<span class='const'>FileUtils</span>.<span class='id identifier rubyid_rmdir'>rmdir</span>(<span class='id identifier rubyid_dir'>dir</span>)
<span class='const'>Marshal</span>.<span class='id identifier rubyid_dump'>dump</span>(<span class='id identifier rubyid_obj'>obj</span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_23">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#double-colons" class="bare">https://rubystyle.guide#double-colons</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecolonmethoddefinition">Style/ColonMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for class methods that are defined using the <code>::</code>
operator instead of the <code>.</code> operator.</p>
</div>
<div class="sect2">
<h3 id="_examples_30">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='kw'>self</span><span class='op'>::</span><span class='id identifier rubyid_bar'>bar</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_bar'>bar</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_24">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#colon-method-definition" class="bare">https://rubystyle.guide#colon-method-definition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecombinableloops">Style/CombinableLoops</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where multiple consecutive loops over the same data
can be combined into a single loop. It is very likely that combining them
will make the code more efficient and more concise.</p>
</div>
<div class="sect2">
<h3 id="_safety_11">Safety</h3>
<div class="paragraph">
<p>The cop is unsafe, because the first loop might modify state that the
second loop depends on; these two aren&#8217;t combinable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_31">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_method'>method</span>
  <span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_item'>item</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_do_something_else'>do_something_else</span>(<span class='id identifier rubyid_item'>item</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_method'>method</span>
  <span class='id identifier rubyid_items'>items</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_item'>item</span>)
    <span class='id identifier rubyid_do_something_else'>do_something_else</span>(<span class='id identifier rubyid_item'>item</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_method'>method</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_item'>item</span> <span class='kw'>in</span> <span class='id identifier rubyid_items'>items</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_item'>item</span>)
  <span class='kw'>end</span>

  <span class='kw'>for</span> <span class='id identifier rubyid_item'>item</span> <span class='kw'>in</span> <span class='id identifier rubyid_items'>items</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_do_something_else'>do_something_else</span>(<span class='id identifier rubyid_item'>item</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_method'>method</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_item'>item</span> <span class='kw'>in</span> <span class='id identifier rubyid_items'>items</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_item'>item</span>)
    <span class='id identifier rubyid_do_something_else'>do_something_else</span>(<span class='id identifier rubyid_item'>item</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_method'>method</span>
  <span class='id identifier rubyid_each_slice'>each_slice</span>(<span class='int'>2</span>) { <span class='op'>|</span><span class='id identifier rubyid_slice'>slice</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_slice'>slice</span>) }
  <span class='id identifier rubyid_each_slice'>each_slice</span>(<span class='int'>3</span>) { <span class='op'>|</span><span class='id identifier rubyid_slice'>slice</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_slice'>slice</span>) }
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecommandliteral">Style/CommandLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces using `` or %x around command literals.</p>
</div>
<div class="sect2">
<h3 id="_examples_32">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_backticks_default">EnforcedStyle: backticks (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_folders'>folders</span> <span class='op'>=</span> <span class='backtick'>%x(</span><span class='tstring_content'>find . -type d</span><span class='tstring_end'>)</span></span>.<span class='id identifier rubyid_split'>split</span>

<span class='comment'># bad
</span><span class='backtick'>%x(</span><span class='tstring_content'>
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
</span><span class='tstring_end'>)</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_folders'>folders</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>find . -type d</span><span class='tstring_end'>`</span></span>.<span class='id identifier rubyid_split'>split</span>

<span class='comment'># good
</span><span class='backtick'>`</span><span class='tstring_content'>
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
</span><span class='tstring_end'>`</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_mixed">EnforcedStyle: mixed</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_folders'>folders</span> <span class='op'>=</span> <span class='backtick'>%x(</span><span class='tstring_content'>find . -type d</span><span class='tstring_end'>)</span></span>.<span class='id identifier rubyid_split'>split</span>

<span class='comment'># bad
</span><span class='backtick'>`</span><span class='tstring_content'>
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
</span><span class='tstring_end'>`</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_folders'>folders</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>find . -type d</span><span class='tstring_end'>`</span></span>.<span class='id identifier rubyid_split'>split</span>

<span class='comment'># good
</span><span class='backtick'>%x(</span><span class='tstring_content'>
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
</span><span class='tstring_end'>)</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_percent_x">EnforcedStyle: percent_x</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_folders'>folders</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>find . -type d</span><span class='tstring_end'>`</span></span>.<span class='id identifier rubyid_split'>split</span>

<span class='comment'># bad
</span><span class='backtick'>`</span><span class='tstring_content'>
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
</span><span class='tstring_end'>`</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_folders'>folders</span> <span class='op'>=</span> <span class='backtick'>%x(</span><span class='tstring_content'>find . -type d</span><span class='tstring_end'>)</span></span>.<span class='id identifier rubyid_split'>split</span>

<span class='comment'># good
</span><span class='backtick'>%x(</span><span class='tstring_content'>
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
</span><span class='tstring_end'>)</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowinnerbackticks_false_default">AllowInnerBackticks: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># If `false`, the cop will always recommend using `%x` if one or more
</span><span class='comment'># backticks are found in the command string.
</span>
<span class='comment'># bad
</span><span class='backtick'>`</span><span class='tstring_content'>echo \`ls\`</span><span class='tstring_end'>`</span></span>

<span class='comment'># good
</span><span class='backtick'>%x(</span><span class='tstring_content'>echo `ls`</span><span class='tstring_end'>)</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowinnerbackticks_true">AllowInnerBackticks: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='backtick'>`</span><span class='tstring_content'>echo \`ls\`</span><span class='tstring_end'>`</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_17">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backticks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backticks</code>, <code>percent_x</code>, <code>mixed</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowInnerBackticks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_25">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-x" class="bare">https://rubystyle.guide#percent-x</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecommentannotation">Style/CommentAnnotation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that comment annotation keywords are written according
to guidelines.</p>
</div>
<div class="paragraph">
<p>Annotation keywords can be specified by overriding the cop&#8217;s <code>Keywords</code>
configuration. Keywords are allowed to be single words or phrases.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
With a multiline comment block (where each line is only a
comment), only the first line will be able to register an offense, even
if an annotation keyword starts another line. This is done to prevent
incorrect registering of keywords (eg. <code>review</code>) inside a paragraph as an
annotation.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_33">Examples</h3>
<div class="sect3">
<h4 id="_requirecolon_true_default">RequireColon: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># TODO make better
</span>
<span class='comment'># good
</span><span class='comment'># TODO: make better
</span>
<span class='comment'># bad
</span><span class='comment'># TODO:make better
</span>
<span class='comment'># good
</span><span class='comment'># TODO: make better
</span>
<span class='comment'># bad
</span><span class='comment'># fixme: does not work
</span>
<span class='comment'># good
</span><span class='comment'># FIXME: does not work
</span>
<span class='comment'># bad
</span><span class='comment'># Optimize does not work
</span>
<span class='comment'># good
</span><span class='comment'># OPTIMIZE: does not work</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_requirecolon_false">RequireColon: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># TODO: make better
</span>
<span class='comment'># good
</span><span class='comment'># TODO make better
</span>
<span class='comment'># bad
</span><span class='comment'># fixme does not work
</span>
<span class='comment'># good
</span><span class='comment'># FIXME does not work
</span>
<span class='comment'># bad
</span><span class='comment'># Optimize does not work
</span>
<span class='comment'># good
</span><span class='comment'># OPTIMIZE does not work</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_18">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keywords</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TODO</code>, <code>FIXME</code>, <code>OPTIMIZE</code>, <code>HACK</code>, <code>REVIEW</code>, <code>NOTE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequireColon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_26">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#annotate-keywords" class="bare">https://rubystyle.guide#annotate-keywords</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecommentedkeyword">Style/CommentedKeyword</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for comments put on the same line as some keywords.
These keywords are: <code>class</code>, <code>module</code>, <code>def</code>, <code>begin</code>, <code>end</code>.</p>
</div>
<div class="paragraph">
<p>Note that some comments
(<code>:nodoc:</code>, <code>:yields:</code>, <code>rubocop:disable</code> and <code>rubocop:todo</code>)
are allowed.</p>
</div>
<div class="paragraph">
<p>Autocorrection removes comments from <code>end</code> keyword and keeps comments
for <code>class</code>, <code>module</code>, <code>def</code> and <code>begin</code> above the keyword.</p>
</div>
<div class="sect2">
<h3 id="_safety_12">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because it may remove a comment that is
meaningful.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_34">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span> <span class='comment'># end if
</span>
<span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>X</span> <span class='comment'># comment
</span>  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_x'>x</span><span class='semicolon'>;</span> <span class='kw'>end</span> <span class='comment'># comment
</span>
<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>X</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_y'>y</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecomparableclamp">Style/ComparableClamp</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>Comparable#clamp</code> instead of comparison by minimum and maximum.</p>
</div>
<div class="paragraph">
<p>This cop supports autocorrection for <code>if/elsif/else</code> bad style only.
Because <code>ArgumentError</code> occurs if the minimum and maximum of <code>clamp</code> arguments are reversed.
When these are variables, it is not possible to determine which is the minimum and maximum:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby">[<span class='int'>1</span><span class='comma'>,</span> [<span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_max'>max</span>].<span class='id identifier rubyid_min'>min</span> <span class='comment'># =&gt; 1
</span><span class='int'>1</span>.<span class='id identifier rubyid_clamp'>clamp</span>(<span class='int'>3</span><span class='comma'>,</span> <span class='int'>1</span>)       <span class='comment'># =&gt; min argument must be smaller than max argument (ArgumentError)</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_examples_35">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>[[<span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_low'>low</span>].<span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='id identifier rubyid_high'>high</span>].<span class='id identifier rubyid_min'>min</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_low'>low</span>
  <span class='id identifier rubyid_low'>low</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_high'>high</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_x'>x</span>
  <span class='id identifier rubyid_high'>high</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_x'>x</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_clamp'>clamp</span>(<span class='id identifier rubyid_low'>low</span><span class='comma'>,</span> <span class='id identifier rubyid_high'>high</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleconcatarrayliterals">Style/ConcatArrayLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>Array#push(item)</code> instead of <code>Array#concat([item])</code>
to avoid redundant array literals.</p>
</div>
<div class="sect2">
<h3 id="_safety_13">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if the receiver
is not an <code>Array</code> object.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_36">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_concat'>concat</span>([<span class='id identifier rubyid_foo'>foo</span>])
<span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_concat'>concat</span>([<span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='id identifier rubyid_baz'>baz</span>])
<span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_concat'>concat</span>([<span class='id identifier rubyid_qux'>qux</span><span class='comma'>,</span> <span class='id identifier rubyid_quux'>quux</span>]<span class='comma'>,</span> [<span class='id identifier rubyid_corge'>corge</span>])

<span class='comment'># good
</span><span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_foo'>foo</span>)
<span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='id identifier rubyid_baz'>baz</span>)
<span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_qux'>qux</span><span class='comma'>,</span> <span class='id identifier rubyid_quux'>quux</span><span class='comma'>,</span> <span class='id identifier rubyid_corge'>corge</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleconditionalassignment">Style/ConditionalAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for <code>if</code> and <code>case</code> statements where each branch is used for
both the assignment and comparison of the same variable
when using the return of the condition can be used instead.</p>
</div>
<div class="sect2">
<h3 id="_examples_37">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_assign_to_condition_default">EnforcedStyle: assign_to_condition (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='kw'>end</span>

<span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>+=</span> <span class='int'>2</span>
<span class='kw'>end</span>

<span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_some_method'>some_method</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_some_other_method'>some_other_method</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
        <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='int'>2</span>
      <span class='kw'>end</span>

<span class='id identifier rubyid_bar'>bar</span> <span class='op'>+=</span> <span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
       <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
         <span class='int'>1</span>
       <span class='kw'>else</span>
         <span class='int'>2</span>
       <span class='kw'>end</span>

<span class='id identifier rubyid_bar'>bar</span> <span class='op'>&lt;&lt;</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
         <span class='id identifier rubyid_some_method'>some_method</span>
         <span class='int'>1</span>
       <span class='kw'>else</span>
         <span class='id identifier rubyid_some_other_method'>some_other_method</span>
         <span class='int'>2</span>
       <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_assign_inside_condition">EnforcedStyle: assign_inside_condition</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
        <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='int'>2</span>
      <span class='kw'>end</span>

<span class='id identifier rubyid_bar'>bar</span> <span class='op'>+=</span> <span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
       <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
         <span class='int'>1</span>
       <span class='kw'>else</span>
         <span class='int'>2</span>
       <span class='kw'>end</span>

<span class='id identifier rubyid_bar'>bar</span> <span class='op'>&lt;&lt;</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
         <span class='id identifier rubyid_some_method'>some_method</span>
         <span class='int'>1</span>
       <span class='kw'>else</span>
         <span class='id identifier rubyid_some_other_method'>some_other_method</span>
         <span class='int'>2</span>
       <span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='kw'>end</span>

<span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>+=</span> <span class='int'>2</span>
<span class='kw'>end</span>

<span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_some_method'>some_method</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_some_other_method'>some_other_method</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_19">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>assign_to_condition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>assign_to_condition</code>, <code>assign_inside_condition</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SingleLineConditionsOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IncludeTernaryExpressions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleconstantvisibility">Style/ConstantVisibility</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.66</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.10</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that constants defined in classes and modules have
an explicit visibility declaration. By default, Ruby makes all class-
and module constants public, which litters the public API of the
class or module. Explicitly declaring a visibility makes intent more
clear, and prevents outside actors from touching private state.</p>
</div>
<div class="sect2">
<h3 id="_examples_38">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='const'>BAR</span> <span class='op'>=</span> <span class='int'>42</span>
  <span class='const'>BAZ</span> <span class='op'>=</span> <span class='int'>43</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='const'>BAR</span> <span class='op'>=</span> <span class='int'>42</span>
  <span class='id identifier rubyid_private_constant'>private_constant</span> <span class='symbeg'>:</span><span class='const'>BAR</span>

  <span class='const'>BAZ</span> <span class='op'>=</span> <span class='int'>43</span>
  <span class='id identifier rubyid_public_constant'>public_constant</span> <span class='symbeg'>:</span><span class='const'>BAZ</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_ignoremodules_false_default">IgnoreModules: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='const'>MyClass</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span>()
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='const'>MyClass</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span>()
  <span class='id identifier rubyid_public_constant'>public_constant</span> <span class='symbeg'>:</span><span class='const'>MyClass</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ignoremodules_true">IgnoreModules: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='const'>MyClass</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span>()
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_20">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreModules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylecopyright">Style/Copyright</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check that a copyright notice was given in each source file.</p>
</div>
<div class="paragraph">
<p>The default regexp for an acceptable copyright notice can be found in
config/default.yml. The default can be changed as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">Style/Copyright:
  Notice: '^Copyright (\(c\) )?2\d{3} Acme Inc'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This regex string is treated as an unanchored regex. For each file
that RuboCop scans, a comment that matches this regex must be found or
an offense is reported.</p>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_21">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notice</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>^Copyright (\(c\) )?2[0-9]{3} .+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AutocorrectNotice</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">``</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledatainheritance">Style/DataInheritance</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 3.2
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.51</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for inheritance from <code>Data.define</code> to avoid creating the anonymous parent class.</p>
</div>
<div class="sect2">
<h3 id="_safety_14">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because it will change the inheritance
tree (e.g. return value of <code>Module#ancestors</code>) of the constant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_39">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Person</span> <span class='op'>&lt;</span> <span class='const'>Data</span>.<span class='id identifier rubyid_define'>define</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first_name'>first_name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_last_name'>last_name</span>)
  <span class='kw'>def</span> <span class='id identifier rubyid_age'>age</span>
    <span class='int'>42</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>Person</span> <span class='op'>=</span> <span class='const'>Data</span>.<span class='id identifier rubyid_define'>define</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first_name'>first_name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_last_name'>last_name</span>) <span class='kw'>do</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_age'>age</span>
    <span class='int'>42</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_27">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-extend-data-define" class="bare">https://rubystyle.guide#no-extend-data-define</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledatetime">Style/DateTime</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.92</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for consistent usage of the <code>DateTime</code> class over the
<code>Time</code> class. This cop is disabled by default since these classes,
although highly overlapping, have particularities that make them not
replaceable in certain situations when dealing with multiple timezones
and/or DST.</p>
</div>
<div class="sect2">
<h3 id="_safety_15">Safety</h3>
<div class="paragraph">
<p>Autocorrection is not safe, because <code>DateTime</code> and <code>Time</code> do not have
exactly the same behavior, although in most cases the autocorrection
will be fine.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_40">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - uses {DateTime} for current time
</span><span class='const'>DateTime</span>.<span class='id identifier rubyid_now'>now</span>

<span class='comment'># good - uses {Time} for current time
</span><span class='const'>Time</span>.<span class='id identifier rubyid_now'>now</span>

<span class='comment'># bad - uses {DateTime} for modern date
</span><span class='const'>DateTime</span>.<span class='id identifier rubyid_iso8601'>iso8601</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2016-06-29</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good - uses {Time} for modern date
</span><span class='const'>Time</span>.<span class='id identifier rubyid_iso8601'>iso8601</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2016-06-29</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good - uses {DateTime} with start argument for historical date
</span><span class='const'>DateTime</span>.<span class='id identifier rubyid_iso8601'>iso8601</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1751-04-23</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>Date</span><span class='op'>::</span><span class='const'>ENGLAND</span>)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowcoercion_false_default">AllowCoercion: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - coerces to {DateTime}
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_to_datetime'>to_datetime</span>

<span class='comment'># good - coerces to {Time}
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_to_time'>to_time</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowcoercion_true">AllowCoercion: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_to_datetime'>to_datetime</span>

<span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_to_time'>to_time</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_22">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowCoercion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_28">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#date-time" class="bare">https://rubystyle.guide#date-time</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledefwithparentheses">Style/DefWithParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for parentheses in the definition of a method,
that does not take any arguments. Both instance and
class/singleton methods are checked.</p>
</div>
<div class="sect2">
<h3 id="_examples_41">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>()
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>() <span class='op'>=</span> <span class='id identifier rubyid_do_something'>do_something</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_do_something'>do_something</span>

<span class='comment'># good (without parentheses it&#39;s a syntax error)
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>() <span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='const'>Baz</span>.<span class='id identifier rubyid_foo'>foo</span>()
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='const'>Baz</span>.<span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_29">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-parens" class="bare">https://rubystyle.guide#method-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledir">Style/Dir</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where the <code>#_\_dir\_\_</code> method can replace more
complex constructs to retrieve a canonicalized absolute path to the
current file.</p>
</div>
<div class="sect2">
<h3 id="_examples_42">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='kw'>__FILE__</span>))

<span class='comment'># bad
</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='const'>File</span>.<span class='id identifier rubyid_realpath'>realpath</span>(<span class='kw'>__FILE__</span>))

<span class='comment'># good
</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid___dir__'>__dir__</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledirempty">Style/DirEmpty</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prefer to use <code>Dir.empty?('path/to/dir')</code> when checking if a directory is empty.</p>
</div>
<div class="sect2">
<h3 id="_examples_43">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Dir</span>.<span class='id identifier rubyid_entries'>entries</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/dir</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>2</span>
<span class='const'>Dir</span>.<span class='id identifier rubyid_children'>children</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/dir</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_empty?'>empty?</span>
<span class='const'>Dir</span>.<span class='id identifier rubyid_children'>children</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/dir</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
<span class='const'>Dir</span>.<span class='id identifier rubyid_each_child'>each_child</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/dir</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_none?'>none?</span>

<span class='comment'># good
</span><span class='const'>Dir</span>.<span class='id identifier rubyid_empty?'>empty?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/dir</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledisablecopswithinsourcecodedirective">Style/DisableCopsWithinSourceCodeDirective</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.82</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects comments to enable/disable RuboCop.
This is useful if want to make sure that every RuboCop error gets fixed
and not quickly disabled with a comment.</p>
</div>
<div class="paragraph">
<p>Specific cops can be allowed with the <code>AllowedCops</code> configuration. Note that
if this configuration is set, <code>rubocop:disable all</code> is still disallowed.</p>
</div>
<div class="sect2">
<h3 id="_examples_44">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># rubocop:disable Metrics/AbcSize
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>end</span>
<span class='comment'># rubocop:enable Metrics/AbcSize
</span>
<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedcops_metricsabcsize">AllowedCops: [Metrics/AbcSize]</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='comment'># rubocop:disable Metrics/AbcSize
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>end</span>
<span class='comment'># rubocop:enable Metrics/AbcSize</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_23">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedCops</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledocumentdynamicevaldefinition">Style/DocumentDynamicEvalDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When using <code>class_eval</code> (or other <code>eval</code>) with string interpolation,
add a comment block showing its appearance if interpolated (a practice used in Rails code).</p>
</div>
<div class="sect2">
<h3 id="_examples_45">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># from activesupport/lib/active_support/core_ext/string/output_safety.rb
</span>
<span class='comment'># bad
</span><span class='const'>UNSAFE_STRING_METHODS</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>String</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='id identifier rubyid_unsafe_method'>unsafe_method</span>)
    <span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>(*params, &amp;block)
        to_str.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>(*params, &amp;block)
      end

      def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>!(*params)
        @dirty = true
        super
      end
</span><span class='heredoc_end'>    EOT
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good, inline comments in heredoc
</span><span class='const'>UNSAFE_STRING_METHODS</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>String</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='id identifier rubyid_unsafe_method'>unsafe_method</span>)
    <span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>(*params, &amp;block)       # def capitalize(*params, &amp;block)
        to_str.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>(*params, &amp;block)  #   to_str.capitalize(*params, &amp;block)
      end                                         # end

      def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>!(*params)              # def capitalize!(*params)
        @dirty = true                             #   @dirty = true
        super                                     #   super
      end                                         # end
</span><span class='heredoc_end'>    EOT
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good, block comments in heredoc
</span><span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='tstring_content'>  # def capitalize!(*params)
  #   @dirty = true
  #   super
  # end

  def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>!(*params)
    @dirty = true
    super
  end
</span><span class='heredoc_end'>EOT
</span>
<span class='comment'># good, block comments before heredoc
</span><span class='id identifier rubyid_class_eval'>class_eval</span>(
  <span class='comment'># def capitalize!(*params)
</span>  <span class='comment'>#   @dirty = true
</span>  <span class='comment'>#   super
</span>  <span class='comment'># end
</span>
  <span class='heredoc_beg'>&lt;&lt;-EOT</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='tstring_content'>    def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>!(*params)
      @dirty = true
      super
    end
</span><span class='heredoc_end'>  EOT
</span>)

<span class='comment'># bad - interpolated string without comment
</span><span class='id identifier rubyid_class_eval'>class_eval</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>!(*params); end</span><span class='tstring_end'>&quot;</span></span>)

<span class='comment'># good - with inline comment or replace it with block comment using heredoc
</span><span class='id identifier rubyid_class_eval'>class_eval</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unsafe_method'>unsafe_method</span><span class='embexpr_end'>}</span><span class='tstring_content'>!(*params); end # def capitalize!(*params); end</span><span class='tstring_end'>&quot;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_30">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#eval-comment-docs" class="bare">https://rubystyle.guide#eval-comment-docs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledocumentation">Style/Documentation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for missing top-level documentation of classes and
modules. Classes with no body are exempt from the check and so are
namespace modules - modules that have nothing in their bodies except
classes, other modules, constant definitions or constant visibility
declarations.</p>
</div>
<div class="paragraph">
<p>The documentation requirement is annulled if the class or module has
a <code><mark>:nodoc:</code> comment next to it. Likewise, <code></mark>:nodoc: all</code> does the
same for all its children.</p>
</div>
<div class="sect2">
<h3 id="_examples_46">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='kw'>module</span> <span class='const'>Math</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># Description/Explanation of Person class
</span><span class='kw'>class</span> <span class='const'>Person</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># allowed
</span>  <span class='comment'># Class without body
</span>  <span class='kw'>class</span> <span class='const'>Person</span>
  <span class='kw'>end</span>

  <span class='comment'># Namespace - A namespace can be a class or a module
</span>  <span class='comment'># Containing a class
</span>  <span class='kw'>module</span> <span class='const'>Namespace</span>
    <span class='comment'># Description/Explanation of Person class
</span>    <span class='kw'>class</span> <span class='const'>Person</span>
      <span class='comment'># ...
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Containing constant visibility declaration
</span>  <span class='kw'>module</span> <span class='const'>Namespace</span>
    <span class='kw'>class</span> <span class='const'>Private</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_private_constant'>private_constant</span> <span class='symbeg'>:</span><span class='const'>Private</span>
  <span class='kw'>end</span>

  <span class='comment'># Containing constant definition
</span>  <span class='kw'>module</span> <span class='const'>Namespace</span>
    <span class='const'>Public</span> <span class='op'>=</span> <span class='const'>Class</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>

  <span class='comment'># Macro calls
</span>  <span class='kw'>module</span> <span class='const'>Namespace</span>
    <span class='id identifier rubyid_extend'>extend</span> <span class='const'>Foo</span>
  <span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedconstants_classmethods">AllowedConstants: ['ClassMethods']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>A</span>
  <span class='kw'>module</span> <span class='const'>ClassMethods</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
 <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_24">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedConstants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec/**/*</code>, <code>test/**/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledocumentationmethod">Style/DocumentationMethod</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for missing documentation comment for public methods.
It can optionally be configured to also require documentation for
non-public methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This cop allows <code>initialize</code> method because <code>initialize</code> is
a special method called from <code>new</code>. In some programming languages
they are called constructor to distinguish it from method.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_47">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>
<span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_baz'>baz</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>module</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_baz'>baz</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span>

<span class='comment'># good
</span>
<span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='comment'># Documentation
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_baz'>baz</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>module</span> <span class='const'>Foo</span>
  <span class='comment'># Documentation
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_baz'>baz</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Documentation
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_requirefornonpublicmethods_false_default">RequireForNonPublicMethods: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_protected'>protected</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_do_something'>do_something</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_private'>private</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_do_something'>do_something</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_requirefornonpublicmethods_true">RequireForNonPublicMethods: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_protected'>protected</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_do_something'>do_something</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_private'>private</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_do_something'>do_something</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_protected'>protected</span>
  <span class='comment'># Documentation
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_do_something'>do_something</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_private'>private</span>
  <span class='comment'># Documentation
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_do_something'>do_something</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_25">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec/**/*</code>, <code>test/**/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequireForNonPublicMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledoublecopdisabledirective">Style/DoubleCopDisableDirective</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.73</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects double disable comments on one line. This is mostly to catch
automatically generated comments that need to be regenerated.</p>
</div>
<div class="sect2">
<h3 id="_examples_48">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_f'>f</span> <span class='comment'># rubocop:disable Style/For # rubocop:disable Metrics/AbcSize
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># rubocop:disable Metrics/AbcSize
</span><span class='kw'>def</span> <span class='id identifier rubyid_f'>f</span> <span class='comment'># rubocop:disable Style/For
</span><span class='kw'>end</span>
<span class='comment'># rubocop:enable Metrics/AbcSize
</span>
<span class='comment'># if both fit on one line
</span><span class='kw'>def</span> <span class='id identifier rubyid_f'>f</span> <span class='comment'># rubocop:disable Style/For, Metrics/AbcSize
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styledoublenegation">Style/DoubleNegation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of double negation (<code>!!</code>) to convert something to a boolean value.</p>
</div>
<div class="paragraph">
<p>When using <code>EnforcedStyle: allowed_in_returns</code>, allow double negation in contexts
that use boolean as a return value. When using <code>EnforcedStyle: forbidden</code>, double negation
should be forbidden always.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
when <code>something</code> is a boolean value
<code>!!something</code> and <code>!something.nil?</code> are not the same thing.
As you&#8217;re unlikely to write code that can accept values of any type
this is rarely a problem in practice.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_16">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe when the value is <code>false</code>, because the result
of the expression will change.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='op'>!</span><span class='op'>!</span><span class='kw'>false</span>     <span class='comment'>#=&gt; false
</span><span class='op'>!</span><span class='kw'>false</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'>#=&gt; true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_49">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_something'>something</span>

<span class='comment'># good
</span><span class='op'>!</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_nil?'>nil?</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_allowed_in_returns_default">EnforcedStyle: allowed_in_returns (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_return_value'>return_value</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_define_method'>define_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo?'>foo?</span> <span class='kw'>do</span>
  <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_return_value'>return_value</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_define_singleton_method'>define_singleton_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo?'>foo?</span> <span class='kw'>do</span>
  <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_return_value'>return_value</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_forbidden">EnforcedStyle: forbidden</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_return_value'>return_value</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_define_method'>define_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo?'>foo?</span> <span class='kw'>do</span>
  <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_return_value'>return_value</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_define_singleton_method'>define_singleton_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo?'>foo?</span> <span class='kw'>do</span>
  <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_return_value'>return_value</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_26">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allowed_in_returns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allowed_in_returns</code>, <code>forbidden</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_31">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-bang-bang" class="bare">https://rubystyle.guide#no-bang-bang</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleeachforsimpleloop">Style/EachForSimpleLoop</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for loops which iterate a constant number of times,
using a Range literal and <code>#each</code>. This can be done more readably using
<code>Integer#times</code>.</p>
</div>
<div class="paragraph">
<p>This check only applies if the block takes no parameters.</p>
</div>
<div class="sect2">
<h3 id="_examples_50">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>5</span>).<span class='id identifier rubyid_each'>each</span> { }

<span class='comment'># good
</span><span class='int'>5</span>.<span class='id identifier rubyid_times'>times</span> { }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>(<span class='int'>0</span><span class='op'>...</span><span class='int'>10</span>).<span class='id identifier rubyid_each'>each</span> {}

<span class='comment'># good
</span><span class='int'>10</span>.<span class='id identifier rubyid_times'>times</span> {}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleeachwithobject">Style/EachWithObject</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.42</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for inject / reduce calls where the passed in object is
returned at the end and so could be replaced by each_with_object without
the need to return the object at the end.</p>
</div>
<div class="paragraph">
<p>However, we can&#8217;t replace with each_with_object if the accumulator
parameter is assigned to within the block.</p>
</div>
<div class="sect2">
<h3 id="_examples_51">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_inject'>inject</span>({}) { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>[<span class='id identifier rubyid_e'>e</span>] <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span><span class='semicolon'>;</span> <span class='id identifier rubyid_a'>a</span> }

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_each_with_object'>each_with_object</span>({}) { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>[<span class='id identifier rubyid_e'>e</span>] <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleemptyblockparameter">Style/EmptyBlockParameter</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for pipes for empty block parameters. Pipes for empty
block parameters do not cause syntax errors, but they are redundant.</p>
</div>
<div class="sect2">
<h3 id="_examples_52">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='kw'>do</span> <span class='op'>|</span><span class='op'>|</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> { <span class='op'>|</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='kw'>do</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> { <span class='id identifier rubyid_do_something'>do_something</span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleemptycasecondition">Style/EmptyCaseCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for case statements with an empty condition.</p>
</div>
<div class="sect2">
<h3 id="_examples_53">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad:
</span><span class='kw'>case</span>
<span class='kw'>when</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x is 0</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>when</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y is 0</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>neither is 0</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='comment'># good:
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x is 0</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y is 0</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>neither is 0</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='comment'># good: (the case condition node is not empty)
</span><span class='kw'>case</span> <span class='id identifier rubyid_n'>n</span>
<span class='kw'>when</span> <span class='int'>0</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zero</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>when</span> <span class='int'>1</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>one</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>more</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleemptyelse">Style/EmptyElse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for empty else-clauses, possibly including comments and/or an
explicit <code>nil</code> depending on the EnforcedStyle.</p>
</div>
<div class="sect2">
<h3 id="_examples_54">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_both_default">EnforcedStyle: both (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># warn on empty else and else with nil in it
</span>
<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_empty">EnforcedStyle: empty</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># warn only on empty else
</span>
<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_nil">EnforcedStyle: nil</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># warn on else with nil in it
</span>
<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowcomments_false_default">AllowComments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># something comment
</span>  <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># something comment
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowcomments_true">AllowComments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># something comment
</span>  <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># something comment
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_27">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>empty</code>, <code>nil</code>, <code>both</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleemptyheredoc">Style/EmptyHeredoc</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for using empty heredoc to reduce redundancy.</p>
</div>
<div class="sect2">
<h3 id="_examples_55">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='heredoc_end'>EOS
</span>
<span class='heredoc_beg'>&lt;&lt;-EOS</span>
<span class='heredoc_end'>EOS
</span>
<span class='heredoc_beg'>&lt;&lt;EOS</span>
<span class='heredoc_end'>EOS
</span>
<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_do_something'>do_something</span>(<span class='heredoc_beg'>&lt;&lt;~EOS</span>)
<span class='heredoc_end'>EOS
</span>
<span class='id identifier rubyid_do_something'>do_something</span>(<span class='heredoc_beg'>&lt;&lt;-EOS</span>)
<span class='heredoc_end'>EOS
</span>
<span class='id identifier rubyid_do_something'>do_something</span>(<span class='heredoc_beg'>&lt;&lt;EOS</span>)
<span class='heredoc_end'>EOS
</span>
<span class='comment'># good
</span><span class='id identifier rubyid_do_something'>do_something</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleemptylambdaparameter">Style/EmptyLambdaParameter</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for parentheses for empty lambda parameters. Parentheses
for empty lambda parameters do not cause syntax errors, but they are
redundant.</p>
</div>
<div class="sect2">
<h3 id="_examples_56">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tlambda'>-&gt;</span> () <span class='tlambeg'>{</span> <span class='id identifier rubyid_do_something'>do_something</span> }

<span class='comment'># good
</span><span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_do_something'>do_something</span> }

<span class='comment'># good
</span><span class='tlambda'>-&gt;</span> (<span class='id identifier rubyid_arg'>arg</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_arg'>arg</span>) }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleemptyliteral">Style/EmptyLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of a method, the result of which
would be a literal, like an empty array, hash, or string.</p>
</div>
<div class="sect2">
<h3 id="_examples_57">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='const'>Hash</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'><a href="String.html" title="String (class)">String</a></span>.<span class='id identifier rubyid_new'>new</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> []
<span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> {}
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_32">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#literal-array-hash" class="bare">https://rubystyle.guide#literal-array-hash</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleemptymethod">Style/EmptyMethod</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the formatting of empty method definitions.
By default it enforces empty method definitions to go on a single
line (compact style), but it can be configured to enforce the <code>end</code>
to go on its own line (expanded style).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A method definition is not considered empty if it contains
comments.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Autocorrection will not be applied for the <code>compact</code> style
if the resulting code is longer than the <code>Max</code> configuration for
<code>Layout/LineLength</code>, but an offense will still be registered.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_58">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_compact_default">EnforcedStyle: compact (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)<span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)
  <span class='comment'># baz
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)<span class='semicolon'>;</span> <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_expanded">EnforcedStyle: expanded</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)<span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)<span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_28">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compact</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compact</code>, <code>expanded</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_33">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-single-line-methods" class="bare">https://rubystyle.guide#no-single-line-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleencoding">Style/Encoding</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks ensures source files have no utf-8 encoding comments.</p>
</div>
<div class="sect2">
<h3 id="_examples_59">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># encoding: UTF-8
</span><span class='comment'># coding: UTF-8
</span><span class='comment'># -*- coding: UTF-8 -*-</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_34">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#utf-8" class="bare">https://rubystyle.guide#utf-8</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleendblock">Style/EndBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for END blocks.</p>
</div>
<div class="sect2">
<h3 id="_examples_60">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>END</span> { <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Goodbye!</span><span class='tstring_end'>&#39;</span></span> }

<span class='comment'># good
</span><span class='id identifier rubyid_at_exit'>at_exit</span> { <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Goodbye!</span><span class='tstring_end'>&#39;</span></span> }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_35">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-END-blocks" class="bare">https://rubystyle.guide#no-END-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleendlessmethod">Style/EndlessMethod</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 3.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for endless methods.</p>
</div>
<div class="paragraph">
<p>It can enforce either the use of endless methods definitions
for single-lined method bodies, or disallow endless methods.</p>
</div>
<div class="paragraph">
<p>Other method definition types are not considered by this cop.</p>
</div>
<div class="paragraph">
<p>The supported styles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>allow_single_line (default) - only single line endless method definitions are allowed.</p>
</li>
<li>
<p>allow_always - all endless method definitions are allowed.</p>
</li>
<li>
<p>disallow - all endless method definitions are disallowed.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Incorrect endless method definitions will always be
corrected to a multi-line definition.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_61">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_allow_single_line_default">EnforcedStyle: allow_single_line (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>() <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>

<span class='comment'># bad, multi-line endless method
</span><span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>() <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_foo'>foo</span>
                   .<span class='id identifier rubyid_bar'>bar</span>
                   .<span class='id identifier rubyid_baz'>baz</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_allow_always">EnforcedStyle: allow_always</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>() <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>() <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_foo'>foo</span>
                   .<span class='id identifier rubyid_bar'>bar</span>
                   .<span class='id identifier rubyid_baz'>baz</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_disallow">EnforcedStyle: disallow</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>() <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>() <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_foo'>foo</span>
                   .<span class='id identifier rubyid_bar'>bar</span>
                   .<span class='id identifier rubyid_baz'>baz</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_29">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_single_line</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_single_line</code>, <code>allow_always</code>, <code>disallow</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_36">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#endless-methods" class="bare">https://rubystyle.guide#endless-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleenvhome">Style/EnvHome</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for consistent usage of <code>ENV['HOME']</code>. If <code>nil</code> is used as
the second argument of <code>ENV.fetch</code>, it is treated as a bad case like <code>ENV[]</code>.</p>
</div>
<div class="sect2">
<h3 id="_safety_17">Safety</h3>
<div class="paragraph">
<p>The cop is unsafe because the result when <code>nil</code> is assigned to <code>ENV['HOME']</code> changes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='kw'>nil</span>
<span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; nil
</span><span class='const'>Dir</span>.<span class='id identifier rubyid_home'>home</span>    <span class='comment'># =&gt; &#39;/home/foo&#39;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_62">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&#39;</span></span>]
<span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>nil</span>)

<span class='comment'># good
</span><span class='const'>Dir</span>.<span class='id identifier rubyid_home'>home</span>

<span class='comment'># good
</span><span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_default'>default</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleevalwithlocation">Style/EvalWithLocation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ensures that eval methods (<code>eval</code>, <code>instance_eval</code>, <code>class_eval</code>
and <code>module_eval</code>) are given filename and line number values (<code>_\_FILE\__</code>
and <code>\__LINE\_\_</code>). This data is used to ensure that any errors raised
within the evaluated code will be given the correct identification
in a backtrace.</p>
</div>
<div class="paragraph">
<p>The cop also checks that the line number given relative to <code>_\_LINE\_\_</code> is
correct.</p>
</div>
<div class="paragraph">
<p>This cop will autocorrect incorrect or missing filename and line number
values. However, if <code>eval</code> is called without a binding argument, the cop
will not attempt to automatically add a binding, or add filename and
line values.</p>
</div>
<div class="paragraph">
<p>This cop works only when a string literal is given as a code string.
No offense is reported if a string variable is given as below:</p>
</div>
<div class="sect2">
<h3 id="_examples_63">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_eval'>eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span>
<span class='tstring_content'>  def do_something
  end
</span><span class='heredoc_end'>RUBY
</span>
<span class='comment'># bad
</span><span class='const'>C</span>.<span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span>
<span class='tstring_content'>  def do_something
  end
</span><span class='heredoc_end'>RUBY
</span>
<span class='comment'># good
</span><span class='id identifier rubyid_eval'>eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span><span class='comma'>,</span> <span class='id identifier rubyid_binding'>binding</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='tstring_content'>  def do_something
  end
</span><span class='heredoc_end'>RUBY
</span>
<span class='comment'># good
</span><span class='const'>C</span>.<span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='tstring_content'>  def do_something
  end
</span><span class='heredoc_end'>RUBY</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># not checked
</span><span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span>
<span class='tstring_content'>  def do_something
  end
</span><span class='heredoc_end'>RUBY
</span><span class='id identifier rubyid_eval'>eval</span> <span class='id identifier rubyid_code'>code</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleevenodd">Style/EvenOdd</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where <code>Integer#even?</code> or <code>Integer#odd?</code>
can be used.</p>
</div>
<div class="sect2">
<h3 id="_examples_64">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>%</span> <span class='int'>2</span> <span class='op'>==</span> <span class='int'>0</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_even?'>even?</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_37">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#predicate-methods" class="bare">https://rubystyle.guide#predicate-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleexactregexpmatch">Style/ExactRegexpMatch</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for exact regexp match inside Regexp literals.</p>
</div>
<div class="sect2">
<h3 id="_examples_65">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Astring\z</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_string'>string</span> <span class='op'>===</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Astring\z</span><span class='regexp_end'>/</span></span>
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_match'>match</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Astring\z</span><span class='regexp_end'>/</span></span>)
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Astring\z</span><span class='regexp_end'>/</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>string</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>!~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Astring\z</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>string</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleexpandpatharguments">Style/ExpandPathArguments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for use of the <code>File.expand_path</code> arguments.
Likewise, it also checks for the <code>Pathname.new</code> argument.</p>
</div>
<div class="paragraph">
<p>Contrastive bad case and good case are alternately shown in
the following examples.</p>
</div>
<div class="sect2">
<h3 id="_examples_66">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>__FILE__</span>)

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='id identifier rubyid___dir__'>__dir__</span>)

<span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>../..</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>__FILE__</span>)

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid___dir__'>__dir__</span>)

<span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>__FILE__</span>)

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='kw'>__FILE__</span>)

<span class='comment'># bad
</span><span class='const'>Pathname</span>(<span class='kw'>__FILE__</span>).<span class='id identifier rubyid_parent'>parent</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>

<span class='comment'># good
</span><span class='const'>Pathname</span>(<span class='id identifier rubyid___dir__'>__dir__</span>).<span class='id identifier rubyid_expand_path'>expand_path</span>

<span class='comment'># bad
</span><span class='const'>Pathname</span>.<span class='id identifier rubyid_new'>new</span>(<span class='kw'>__FILE__</span>).<span class='id identifier rubyid_parent'>parent</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>

<span class='comment'># good
</span><span class='const'>Pathname</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid___dir__'>__dir__</span>).<span class='id identifier rubyid_expand_path'>expand_path</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleexplicitblockargument">Style/ExplicitBlockArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of explicit block argument to avoid writing
block literal that just passes its arguments to another block.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This cop only registers an offense if the block args match the
yield args exactly.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_67">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_with_tmp_dir'>with_tmp_dir</span>
  <span class='const'>Dir</span>.<span class='id identifier rubyid_mktmpdir'>mktmpdir</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tmp_dir'>tmp_dir</span><span class='op'>|</span>
    <span class='const'>Dir</span>.<span class='id identifier rubyid_chdir'>chdir</span>(<span class='id identifier rubyid_tmp_dir'>tmp_dir</span>) { <span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_dir'>dir</span> } <span class='comment'># block just passes arguments
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_nine_times'>nine_times</span>
  <span class='int'>9</span>.<span class='id identifier rubyid_times'>times</span> { <span class='kw'>yield</span> }
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_with_tmp_dir'>with_tmp_dir</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='const'>Dir</span>.<span class='id identifier rubyid_mktmpdir'>mktmpdir</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tmp_dir'>tmp_dir</span><span class='op'>|</span>
    <span class='const'>Dir</span>.<span class='id identifier rubyid_chdir'>chdir</span>(<span class='id identifier rubyid_tmp_dir'>tmp_dir</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_with_tmp_dir'>with_tmp_dir</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dir is accessible as a parameter and pwd is set: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_nine_times'>nine_times</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='int'>9</span>.<span class='id identifier rubyid_times'>times</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_38">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#block-argument" class="bare">https://rubystyle.guide#block-argument</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleexponentialnotation">Style/ExponentialNotation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.82</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces consistency when using exponential notation
for numbers in the code (eg 1.2e4). Different styles are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>scientific</code> which enforces a mantissa between 1 (inclusive) and 10 (exclusive).</p>
</li>
<li>
<p><code>engineering</code> which enforces the exponent to be a multiple of 3 and the mantissa
to be between 0.1 (inclusive) and 10 (exclusive).</p>
</li>
<li>
<p><code>integral</code> which enforces the mantissa to always be a whole number without
trailing zeroes.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_68">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_scientific_default">EnforcedStyle: scientific (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># Enforces a mantissa between 1 (inclusive) and 10 (exclusive).
</span>
<span class='comment'># bad
</span><span class='float'>10e6</span>
<span class='float'>0.3e4</span>
<span class='float'>11.7e5</span>
<span class='float'>3.14e0</span>

<span class='comment'># good
</span><span class='float'>1e7</span>
<span class='float'>3e3</span>
<span class='float'>1.17e6</span>
<span class='float'>3.14</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_engineering">EnforcedStyle: engineering</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># Enforces using multiple of 3 exponents,
</span><span class='comment'># mantissa should be between 0.1 (inclusive) and 1000 (exclusive)
</span>
<span class='comment'># bad
</span><span class='float'>3.2e7</span>
<span class='float'>0.1e5</span>
<span class='float'>12e5</span>
<span class='float'>1232e6</span>

<span class='comment'># good
</span><span class='float'>32e6</span>
<span class='float'>10e3</span>
<span class='float'>1.2e6</span>
<span class='float'>1.232e9</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_integral">EnforcedStyle: integral</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># Enforces the mantissa to have no decimal part and no
</span><span class='comment'># trailing zeroes.
</span>
<span class='comment'># bad
</span><span class='float'>3.2e7</span>
<span class='float'>0.1e5</span>
<span class='float'>120e4</span>

<span class='comment'># good
</span><span class='float'>32e6</span>
<span class='float'>1e4</span>
<span class='float'>12e5</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_30">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scientific</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scientific</code>, <code>engineering</code>, <code>integral</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_39">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#exponential-notation" class="bare">https://rubystyle.guide#exponential-notation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylefetchenvvar">Style/FetchEnvVar</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Suggests <code>ENV.fetch</code> for the replacement of <code>ENV[]</code>.
<code>ENV[]</code> silently fails and returns <code>nil</code> when the environment variable is unset,
which may cause unexpected behaviors when the developer forgets to set it.
On the other hand, <code>ENV.fetch</code> raises KeyError or returns the explicitly
specified default value.</p>
</div>
<div class="sect2">
<h3 id="_examples_69">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span>]

<span class='comment'># good
</span><span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># also good
</span><span class='op'>!</span><span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span>]
<span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>X</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_some_method'>some_method</span> <span class='comment'># (e.g. `.nil?`)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_31">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedVars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_40">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide/#hash-fetch-defaults" class="bare">https://rubystyle.guide/#hash-fetch-defaults</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylefileempty">Style/FileEmpty</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prefer to use <code>File.empty?('path/to/file')</code> when checking if a file is empty.</p>
</div>
<div class="sect2">
<h3 id="_safety_18">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because <code>File.size</code>, <code>File.read</code>, and <code>File.binread</code>
raise <code>ENOENT</code> exception when there is no file corresponding to the path,
while <code>File.empty?</code> does not raise an exception.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_70">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_zero?'>zero?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>File</span>.<span class='id identifier rubyid_size'>size</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>==</span> <span class='int'>0</span>
<span class='const'>File</span>.<span class='id identifier rubyid_size'>size</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>&gt;=</span> <span class='int'>0</span>
<span class='const'>File</span>.<span class='id identifier rubyid_size'>size</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_zero?'>zero?</span>
<span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_empty?'>empty?</span>
<span class='const'>File</span>.<span class='id identifier rubyid_binread'>binread</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>FileTest</span>.<span class='id identifier rubyid_zero?'>zero?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_empty?'>empty?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>FileTest</span>.<span class='id identifier rubyid_empty?'>empty?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/file</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylefileread">Style/FileRead</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Favor <code>File.(bin)read</code> convenience methods.</p>
</div>
<div class="sect2">
<h3 id="_examples_71">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'>## text mode
</span><span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span>).<span class='id identifier rubyid_read'>read</span>
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_read'>read</span>)
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span>) { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_read'>read</span> }
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_read'>read</span>
<span class='kw'>end</span>
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_read'>read</span>
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_read'>read</span>)
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_read'>read</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_filename'>filename</span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'>## binary mode
</span><span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_read'>read</span>
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_read'>read</span>)
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_read'>read</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_binread'>binread</span>(<span class='id identifier rubyid_filename'>filename</span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_41">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#file-read" class="bare">https://rubystyle.guide#file-read</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylefilewrite">Style/FileWrite</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Favor <code>File.(bin)write</code> convenience methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
There are different method signatures between <code>File.write</code> (class method)
and <code>File#write</code> (instance method). The following case will be allowed because
static analysis does not know the contents of the splat argument:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span>(<span class='op'>*</span><span class='id identifier rubyid_objects'>objects</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_examples_72">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'>## text mode
</span><span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_write'>write</span>(<span class='id identifier rubyid_content'>content</span>)
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span>(<span class='id identifier rubyid_content'>content</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_write'>write</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'>## binary mode
</span><span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_write'>write</span>(<span class='id identifier rubyid_content'>content</span>)
<span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span>(<span class='id identifier rubyid_content'>content</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_binwrite'>binwrite</span>(<span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_42">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#file-write" class="bare">https://rubystyle.guide#file-write</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylefloatdivision">Style/FloatDivision</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.72</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for division with integers coerced to floats.
It is recommended to either always use <code>fdiv</code> or coerce one side only.
This cop also provides other options for code consistency.</p>
</div>
<div class="sect2">
<h3 id="_safety_19">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because if the operand variable is a string object
then <code>.to_f</code> will be removed and an error will occur.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.2</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.4</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='comment'># Both `to_f` calls are required here</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_73">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_single_coerce_default">EnforcedStyle: single_coerce (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_left_coerce">EnforcedStyle: left_coerce</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_right_coerce">EnforcedStyle: right_coerce</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_fdiv">EnforcedStyle: fdiv</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_to_f'>to_f</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_fdiv'>fdiv</span>(<span class='id identifier rubyid_b'>b</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_32">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_coerce</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>left_coerce</code>, <code>right_coerce</code>, <code>single_coerce</code>, <code>fdiv</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_43">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#float-division" class="bare">https://rubystyle.guide#float-division</a></p>
</li>
<li>
<p><a href="https://blog.rubystyle.guide/ruby/2019/06/21/float-division.html" class="bare">https://blog.rubystyle.guide/ruby/2019/06/21/float-division.html</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylefor">Style/For</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.26</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of the <code>for</code> keyword or <code>each</code> method. The
preferred alternative is set in the EnforcedStyle configuration
parameter. An <code>each</code> call with a block on a single line is always
allowed.</p>
</div>
<div class="sect2">
<h3 id="_safety_20">Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because the scope of
variables is different between <code>each</code> and <code>for</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_74">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_each_default">EnforcedStyle: each (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_n'>n</span> <span class='kw'>in</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>] <span class='kw'>do</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_for">EnforcedStyle: for</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_n'>n</span> <span class='kw'>in</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>] <span class='kw'>do</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_n'>n</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_33">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>each</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>each</code>, <code>for</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_44">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-for-loops" class="bare">https://rubystyle.guide#no-for-loops</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleformatstring">Style/FormatString</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of a single string formatting utility.
Valid options include <code>Kernel#format</code>, <code>Kernel#sprintf</code>, and <code>String#%</code>.</p>
</div>
<div class="paragraph">
<p>The detection of <code>String#%</code> cannot be implemented in a reliable
manner for all cases, so only two scenarios are considered -
if the first argument is a string literal and if the second
argument is an array literal.</p>
</div>
<div class="paragraph">
<p>Autocorrection will be applied when using argument is a literal or known built-in conversion
methods such as <code>to_d</code>, <code>to_f</code>, <code>to_h</code>, <code>to_i</code>, <code>to_r</code>, <code>to_s</code>, and <code>to_sym</code> on variables,
provided that their return value is not an array. For example, when using <code>to_s</code>,
<code>'%s' % [1, 2, 3].to_s</code> can be autocorrected without any incompatibility:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]        <span class='comment'>#=&gt; &#39;1&#39;
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]) <span class='comment'>#=&gt; &#39;[1, 2, 3]&#39;
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_to_s'>to_s</span>   <span class='comment'>#=&gt; &#39;[1, 2, 3]&#39;</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_examples_75">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_format_default">EnforcedStyle: format (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_sprintf'>sprintf</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_sprintf">EnforcedStyle: sprintf</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_sprintf'>sprintf</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_percent">EnforcedStyle: percent</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_sprintf'>sprintf</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%10s</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_34">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>format</code>, <code>sprintf</code>, <code>percent</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_45">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#sprintf" class="bare">https://rubystyle.guide#sprintf</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleformatstringtoken">Style/FormatStringToken</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use a consistent style for named format string tokens.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>unannotated</code> style cop only works for strings
which are passed as arguments to those methods:
<code>printf</code>, <code>sprintf</code>, <code>format</code>, <code>%</code>.
The reason is that <em>unannotated</em> format is very similar
to encoded URLs or Date/Time formatting strings.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This cop can be customized allowed methods with <code>AllowedMethods</code>.
By default, there are no methods to allowed.</p>
</div>
<div class="paragraph">
<p>It is allowed to contain unannotated token
if the number of them is less than or equals to
<code>MaxUnannotatedPlaceholdersAllowed</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_76">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_annotated_default">EnforcedStyle: annotated (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%{greeting}</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>greeting:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%&lt;greeting&gt;s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>greeting:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_template">EnforcedStyle: template</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%&lt;greeting&gt;s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>greeting:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%{greeting}</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>greeting:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_unannotated">EnforcedStyle: unannotated</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%&lt;greeting&gt;s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>greeting:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%{greeting}</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>greeting:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_maxunannotatedplaceholdersallowed_0">MaxUnannotatedPlaceholdersAllowed: 0</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%06d</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>10</span>)
<span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s %s.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>world</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%&lt;number&gt;06d</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>number:</span> <span class='int'>10</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_maxunannotatedplaceholdersallowed_1_default">MaxUnannotatedPlaceholdersAllowed: 1 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s %s.</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>world</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%06d</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>10</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_default">AllowedMethods: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_redirect'>redirect</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo/%{bar_id}</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_redirect">AllowedMethods: [redirect]</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_redirect'>redirect</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo/%{bar_id}</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_default_3">AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_redirect'>redirect</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo/%{bar_id}</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_redirect">AllowedPatterns: ['redirect']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_redirect'>redirect</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo/%{bar_id}</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_35">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>annotated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>annotated</code>, <code>template</code>, <code>unannotated</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxUnannotatedPlaceholdersAllowed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylefrozenstringliteralcomment">Style/FrozenStringLiteralComment</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.3
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.79</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Helps you transition from mutable string literals
to frozen string literals.
It will add the <code># frozen_string_literal: true</code> magic comment to the top
of files to enable frozen string literals. Frozen string literals may be
default in future Ruby. The comment will be added below a shebang and
encoding comment. The frozen string literal comment is only valid in Ruby 2.3+.</p>
</div>
<div class="paragraph">
<p>Note that the cop will accept files where the comment exists but is set
to <code>false</code> instead of <code>true</code>.</p>
</div>
<div class="paragraph">
<p>To require a blank line after this comment, please see
<code>Layout/EmptyLineAfterMagicComment</code> cop.</p>
</div>
<div class="sect2">
<h3 id="_safety_21">Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe since any strings mutations will
change from being accepted to raising <code>FrozenError</code>, as all strings
will become frozen by default, and will need to be manually refactored.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_77">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_always_default">EnforcedStyle: always (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `always` style will always add the frozen string literal comment
</span><span class='comment'># to a file, regardless of the Ruby version or if `freeze` or `&lt;&lt;` are
</span><span class='comment'># called on a string literal.
</span><span class='comment'># bad
</span><span class='kw'>module</span> <span class='const'>Bar</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># frozen_string_literal: true
</span>
<span class='kw'>module</span> <span class='const'>Bar</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># frozen_string_literal: false
</span>
<span class='kw'>module</span> <span class='const'>Bar</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_never">EnforcedStyle: never</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `never` will enforce that the frozen string literal comment does
</span><span class='comment'># not exist in a file.
</span><span class='comment'># bad
</span><span class='comment'># frozen_string_literal: true
</span>
<span class='kw'>module</span> <span class='const'>Baz</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Baz</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_always_true">EnforcedStyle: always_true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `always_true` style enforces that the frozen string literal
</span><span class='comment'># comment is set to `true`. This is a stricter option than `always`
</span><span class='comment'># and forces projects to use frozen string literals.
</span><span class='comment'># bad
</span><span class='comment'># frozen_string_literal: false
</span>
<span class='kw'>module</span> <span class='const'>Baz</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>module</span> <span class='const'>Baz</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># frozen_string_literal: true
</span>
<span class='kw'>module</span> <span class='const'>Bar</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_36">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code>, <code>always_true</code>, <code>never</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleglobalstdstream">Style/GlobalStdStream</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>$stdout/$stderr/$stdin</code> instead of <code>STDOUT/STDERR/STDIN</code>.
<code>STDOUT/STDERR/STDIN</code> are constants, and while you can actually
reassign (possibly to redirect some stream) constants in Ruby, you&#8217;ll get
an interpreter warning if you do so.</p>
</div>
<div class="sect2">
<h3 id="_safety_22">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because <code>STDOUT</code> and <code>$stdout</code> may point to different
objects, for example.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_78">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>STDOUT</span>.<span class='id identifier rubyid_puts'>puts</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>)

<span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> { <span class='label'>out:</span> <span class='const'>STDOUT</span><span class='comma'>,</span> <span class='label'>key:</span> <span class='id identifier rubyid_value'>value</span> }

<span class='kw'>def</span> <span class='id identifier rubyid_m'>m</span>(<span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='const'>STDOUT</span>)
  <span class='id identifier rubyid_out'>out</span>.<span class='id identifier rubyid_puts'>puts</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='gvar'>$stdout</span>.<span class='id identifier rubyid_puts'>puts</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>)

<span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> { <span class='label'>out:</span> <span class='gvar'>$stdout</span><span class='comma'>,</span> <span class='label'>key:</span> <span class='id identifier rubyid_value'>value</span> }

<span class='kw'>def</span> <span class='id identifier rubyid_m'>m</span>(<span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='gvar'>$stdout</span>)
  <span class='id identifier rubyid_out'>out</span>.<span class='id identifier rubyid_puts'>puts</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_46">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#global-stdout" class="bare">https://rubystyle.guide#global-stdout</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleglobalvars">Style/GlobalVars</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of global variables.
It does not report offenses for built-in global variables.
Built-in global variables are allowed by default. Additionally
users can allow additional variables via the AllowedVariables option.</p>
</div>
<div class="paragraph">
<p>Note that backreferences like $1, $2, etc are not global variables.</p>
</div>
<div class="sect2">
<h3 id="_examples_79">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='gvar'>$foo</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='gvar'>$foo</span> <span class='op'>+</span> <span class='int'>5</span>

<span class='comment'># good
</span><span class='const'>FOO</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='gvar'>$stdin</span>.<span class='id identifier rubyid_read'>read</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_37">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedVariables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_47">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#instance-vars" class="bare">https://rubystyle.guide#instance-vars</a></p>
</li>
<li>
<p><a href="https://www.zenspider.com/ruby/quickref.html" class="bare">https://www.zenspider.com/ruby/quickref.html</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleguardclause">Style/GuardClause</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.31</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use a guard clause instead of wrapping the code inside a conditional
expression</p>
</div>
<div class="paragraph">
<p>A condition with an <code>elsif</code> or <code>else</code> branch is allowed unless
one of <code>return</code>, <code>break</code>, <code>next</code>, <code>raise</code>, or <code>fail</code> is used
in the body of the conditional expression.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Autocorrect works in most cases except with if-else statements
  that contain logical operators such as <code>foo || raise('exception')</code>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_80">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_something'>something</span>
    <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_something'>something</span>

  <span class='id identifier rubyid_work'>work</span>
<span class='kw'>end</span>

<span class='comment'># also good
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='id identifier rubyid_work'>work</span> <span class='kw'>if</span> <span class='id identifier rubyid_something'>something</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_something'>something</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exception</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_ok'>ok</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exception</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_something'>something</span>
<span class='id identifier rubyid_ok'>ok</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_something'>something</span>
  <span class='id identifier rubyid_foo'>foo</span> <span class='op'>||</span> <span class='id identifier rubyid_raise'>raise</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exception</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>else</span>
  <span class='id identifier rubyid_ok'>ok</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>||</span> <span class='id identifier rubyid_raise'>raise</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>exception</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_something'>something</span>
<span class='id identifier rubyid_ok'>ok</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_define_method'>define_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_test'>test</span>) <span class='kw'>do</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_something'>something</span>
    <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_define_method'>define_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_test'>test</span>) <span class='kw'>do</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_something'>something</span>

  <span class='id identifier rubyid_work'>work</span>
<span class='kw'>end</span>

<span class='comment'># also good
</span><span class='id identifier rubyid_define_method'>define_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_test'>test</span>) <span class='kw'>do</span>
  <span class='id identifier rubyid_work'>work</span> <span class='kw'>if</span> <span class='id identifier rubyid_something'>something</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowconsecutiveconditionals_false_default">AllowConsecutiveConditionals: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_foo?'>foo?</span>
    <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_bar?'>bar?</span>  <span class='comment'># &lt;- reports an offense
</span>    <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowconsecutiveconditionals_true">AllowConsecutiveConditionals: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_foo?'>foo?</span>
    <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_bar?'>bar?</span>
    <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_foo?'>foo?</span>
    <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_do_something'>do_something</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_bar?'>bar?</span>  <span class='comment'># &lt;- reports an offense
</span>    <span class='id identifier rubyid_work'>work</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_38">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinBodyLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowConsecutiveConditionals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_48">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-conditionals" class="bare">https://rubystyle.guide#no-nested-conditionals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylehashaslastarrayitem">Style/HashAsLastArrayItem</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for presence or absence of braces around hash literal as a last
array item depending on configuration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This cop will ignore arrays where all items are hashes, regardless of
EnforcedStyle.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_81">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_braces_default">EnforcedStyle: braces (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>one:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>two:</span> <span class='int'>2</span>]

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> { <span class='label'>one:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>two:</span> <span class='int'>2</span> }]

<span class='comment'># good
</span>[{ <span class='label'>one:</span> <span class='int'>1</span> }<span class='comma'>,</span> { <span class='label'>two:</span> <span class='int'>2</span> }]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_no_braces">EnforcedStyle: no_braces</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> { <span class='label'>one:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>two:</span> <span class='int'>2</span> }]

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>one:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>two:</span> <span class='int'>2</span>]

<span class='comment'># good
</span>[{ <span class='label'>one:</span> <span class='int'>1</span> }<span class='comma'>,</span> { <span class='label'>two:</span> <span class='int'>2</span> }]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_39">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>braces</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>braces</code>, <code>no_braces</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_49">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#hash-literal-as-last-array-item" class="bare">https://rubystyle.guide#hash-literal-as-last-array-item</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylehashconversion">Style/HashConversion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.55</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks the usage of pre-2.1 <code>Hash[args]</code> method of converting enumerables and
sequences of values to hashes.</p>
</div>
<div class="paragraph">
<p>Correction code from splat argument (<code>Hash[*ary]</code>) is not simply determined. For example,
<code>Hash[*ary]</code> can be replaced with <code>ary.each_slice(2).to_h</code> but it will be complicated.
So, <code>AllowSplatArgument</code> option is true by default to allow splat argument for simple code.</p>
</div>
<div class="sect2">
<h3 id="_safety_23">Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because <code>ArgumentError</code> occurs
if the number of elements is odd:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='const'>Hash</span>[[[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]<span class='comma'>,</span> [<span class='int'>3</span>]]] <span class='comment'>#=&gt; {1=&gt;2, 3=&gt;nil}
</span>[[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]<span class='comma'>,</span> [<span class='int'>5</span>]].<span class='id identifier rubyid_to_h'>to_h</span>  <span class='comment'>#=&gt; wrong array length at 1 (expected 2, was 1) (ArgumentError)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_82">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Hash</span>[<span class='id identifier rubyid_ary'>ary</span>]

<span class='comment'># good
</span><span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_to_h'>to_h</span>

<span class='comment'># bad
</span><span class='const'>Hash</span>[<span class='id identifier rubyid_key1'>key1</span><span class='comma'>,</span> <span class='id identifier rubyid_value1'>value1</span><span class='comma'>,</span> <span class='id identifier rubyid_key2'>key2</span><span class='comma'>,</span> <span class='id identifier rubyid_value2'>value2</span>]

<span class='comment'># good
</span>{<span class='id identifier rubyid_key1'>key1</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value1'>value1</span><span class='comma'>,</span> <span class='id identifier rubyid_key2'>key2</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value2'>value2</span>}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowsplatargument_true_default">AllowSplatArgument: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='const'>Hash</span>[<span class='op'>*</span><span class='id identifier rubyid_ary'>ary</span>]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowsplatargument_false">AllowSplatArgument: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Hash</span>[<span class='op'>*</span><span class='id identifier rubyid_ary'>ary</span>]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_40">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSplatArgument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_50">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#avoid-hash-constructor" class="bare">https://rubystyle.guide#avoid-hash-constructor</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylehasheachmethods">Style/HashEachMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>each_key</code> and <code>each_value</code> Hash methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you have an array of two-element arrays, you can put
  parentheses around the block arguments to indicate that you&#8217;re not
  working with a hash, and suppress RuboCop offenses.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_24">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is a <code>Hash</code>. The <code>AllowedReceivers</code> configuration can mitigate,
but not fully resolve, this safety issue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_83">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_k'>k</span> }
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_unused_value'>unused_value</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_k'>k</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_each_key'>each_key</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_k'>k</span> }

<span class='comment'># bad
</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_v'>v</span> }
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_unused_key'>unused_key</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_v'>v</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_each_value'>each_value</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_v'>v</span> }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedreceivers_execute">AllowedReceivers: ['execute']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_execute'>execute</span>(<span class='id identifier rubyid_sql'>sql</span>).<span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_v'>v</span> }
<span class='id identifier rubyid_execute'>execute</span>(<span class='id identifier rubyid_sql'>sql</span>).<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_v'>v</span> }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_41">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedReceivers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Thread.current</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_51">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#hash-each" class="bare">https://rubystyle.guide#hash-each</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylehashexcept">Style/HashExcept</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 3.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.39</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usages of <code>Hash#reject</code>, <code>Hash#select</code>, and <code>Hash#filter</code> methods
that can be replaced with <code>Hash#except</code> method.</p>
</div>
<div class="paragraph">
<p>This cop should only be enabled on Ruby version 3.0 or higher.
(<code>Hash#except</code> was added in Ruby 3.0.)</p>
</div>
<div class="paragraph">
<p>For safe detection, it is limited to commonly used string and symbol comparisons
when used <code>==</code>.
And do not check <code>Hash#delete_if</code> and <code>Hash#keep_if</code> to change receiver object.</p>
</div>
<div class="sect2">
<h3 id="_safety_25">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is a <code>Hash</code> or responds to the replacement method.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_84">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_reject'>reject</span> {<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> }
{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_select'>select</span> {<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> }
{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_filter'>filter</span> {<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span> }
{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_reject'>reject</span> {<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_k'>k</span>) }
{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_select'>select</span> {<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='op'>!</span><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_k'>k</span>) }
{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_filter'>filter</span> {<span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='op'>!</span><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_k'>k</span>) }

<span class='comment'># good
</span>{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_except'>except</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylehashlikecase">Style/HashLikeCase</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where <code>case-when</code> represents a simple 1:1
mapping and can be replaced with a hash lookup.</p>
</div>
<div class="sect2">
<h3 id="_examples_85">Examples</h3>
<div class="sect3">
<h4 id="_minbranchescount_3_default_2">MinBranchesCount: 3 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_country'>country</span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>europe</span><span class='tstring_end'>&#39;</span></span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://eu.example.com</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>america</span><span class='tstring_end'>&#39;</span></span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://us.example.com</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>australia</span><span class='tstring_end'>&#39;</span></span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://au.example.com</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>SITES</span> <span class='op'>=</span> {
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>europe</span><span class='tstring_end'>&#39;</span></span>    <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://eu.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>america</span><span class='tstring_end'>&#39;</span></span>   <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://us.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>australia</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://au.example.com</span><span class='tstring_end'>&#39;</span></span>
}
<span class='const'>SITES</span>[<span class='id identifier rubyid_country'>country</span>]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_minbranchescount_4_2">MinBranchesCount: 4</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_country'>country</span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>europe</span><span class='tstring_end'>&#39;</span></span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://eu.example.com</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>america</span><span class='tstring_end'>&#39;</span></span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://us.example.com</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>australia</span><span class='tstring_end'>&#39;</span></span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://au.example.com</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_42">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinBranchesCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylehashsyntax">Style/HashSyntax</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.24</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks hash literal syntax.</p>
</div>
<div class="paragraph">
<p>It can enforce either the use of the class hash rocket syntax or
the use of the newer Ruby 1.9 syntax (when applicable).</p>
</div>
<div class="paragraph">
<p>A separate offense is registered for each problematic pair.</p>
</div>
<div class="paragraph">
<p>The supported styles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ruby19 - forces use of the 1.9 syntax (e.g. <code>{a: 1}</code>) when hashes have
all symbols for keys</p>
</li>
<li>
<p>hash_rockets - forces use of hash rockets for all hashes</p>
</li>
<li>
<p>no_mixed_keys - simply checks for hashes with mixed syntaxes</p>
</li>
<li>
<p>ruby19_no_mixed_keys - forces use of ruby 1.9 syntax and forbids mixed
syntax hashes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This cop has <code>EnforcedShorthandSyntax</code> option.
It can enforce either the use of the explicit hash value syntax or
the use of Ruby 3.1&#8217;s hash value shorthand syntax.</p>
</div>
<div class="paragraph">
<p>The supported styles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>always - forces use of the 3.1 syntax (e.g. <code>foo:</code>)</p>
</li>
<li>
<p>never - forces use of explicit hash literal value</p>
</li>
<li>
<p>either - accepts both shorthand and explicit use of hash literal value</p>
</li>
<li>
<p>consistent - forces use of the 3.1 syntax only if all values can be omitted in the hash</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_86">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_ruby19_default">EnforcedStyle: ruby19 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=&gt;</span> <span class='int'>2</span>}
{<span class='label'>b:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span> <span class='op'>=&gt;</span> <span class='int'>2</span>}

<span class='comment'># good
</span>{<span class='label'>a:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>1</span>}
{<span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>2</span>} <span class='comment'># acceptable since &#39;d&#39; isn&#39;t a symbol
</span>{<span class='label'>d:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>e</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>2</span>} <span class='comment'># technically not forbidden</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_hash_rockets">EnforcedStyle: hash_rockets</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}
{<span class='label'>c:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>5</span>}

<span class='comment'># good
</span>{<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span> <span class='op'>=&gt;</span> <span class='int'>2</span>}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_no_mixed_keys">EnforcedStyle: no_mixed_keys</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}
{<span class='label'>c:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>2</span>}

<span class='comment'># good
</span>{<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span> <span class='op'>=&gt;</span> <span class='int'>2</span>}
{<span class='label'>c:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>d:</span> <span class='int'>2</span>}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_ruby19_no_mixed_keys">EnforcedStyle: ruby19_no_mixed_keys</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_b'>b</span> <span class='op'>=&gt;</span> <span class='int'>2</span>}
{<span class='label'>c:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>3</span>} <span class='comment'># should just use hash rockets
</span>
<span class='comment'># good
</span>{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}
{<span class='symbeg'>:</span><span class='id identifier rubyid_c'>c</span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>4</span>}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedshorthandsyntax_always_default">EnforcedShorthandSyntax: always (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='id identifier rubyid_bar'>bar</span>}

<span class='comment'># good
</span>{<span class='label'>foo:</span><span class='comma'>,</span> <span class='label'>bar:</span>}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedshorthandsyntax_never">EnforcedShorthandSyntax: never</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='label'>foo:</span><span class='comma'>,</span> <span class='label'>bar:</span>}

<span class='comment'># good
</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='id identifier rubyid_bar'>bar</span>}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedshorthandsyntax_either">EnforcedShorthandSyntax: either</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='id identifier rubyid_bar'>bar</span>}

<span class='comment'># good
</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='label'>bar:</span>}

<span class='comment'># good
</span>{<span class='label'>foo:</span><span class='comma'>,</span> <span class='label'>bar:</span>}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedshorthandsyntax_consistent">EnforcedShorthandSyntax: consistent</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - `foo` and `bar` values can be omitted
</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='id identifier rubyid_bar'>bar</span>}

<span class='comment'># bad - `bar` value can be omitted
</span>{<span class='label'>foo:</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='id identifier rubyid_bar'>bar</span>}

<span class='comment'># bad - mixed syntaxes
</span>{<span class='label'>foo:</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='id identifier rubyid_baz'>baz</span>}

<span class='comment'># good
</span>{<span class='label'>foo:</span><span class='comma'>,</span> <span class='label'>bar:</span>}

<span class='comment'># good - can&#39;t omit `baz`
</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='id identifier rubyid_baz'>baz</span>}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_43">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ruby19</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ruby19</code>, <code>hash_rockets</code>, <code>no_mixed_keys</code>, <code>ruby19_no_mixed_keys</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedShorthandSyntax</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code>, <code>never</code>, <code>either</code>, <code>consistent</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UseHashRocketsWithSymbolValues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreferHashRocketsForNonAlnumEndingSymbols</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_52">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#hash-literals" class="bare">https://rubystyle.guide#hash-literals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylehashtransformkeys">Style/HashTransformKeys</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.5
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of <code>_.each_with_object({}) {&#8230;&#8203;}</code>,
<code>\_.map {&#8230;&#8203;}.to_h</code>, and <code>Hash[\_.map {&#8230;&#8203;}]</code> that are actually just
transforming the keys of a hash, and tries to use a simpler &amp; faster
call to <code>transform_keys</code> instead.
It should only be enabled on Ruby version 2.5 or newer.
(<code>transform_keys</code> was added in Ruby 2.5.)</p>
</div>
<div class="sect2">
<h3 id="_safety_26">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if we are
transforming an enumerable of key-value-like pairs that isn&#8217;t actually
a hash, e.g.: <code>[[k1, v1], [k2, v2], &#8230;&#8203;]</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_87">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_each_with_object'>each_with_object</span>({}) { <span class='op'>|</span>(<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>)<span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_k'>k</span>)] <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span> }
<span class='const'>Hash</span>[{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_k'>k</span>)<span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>] }]
{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>] }.<span class='id identifier rubyid_to_h'>to_h</span>
{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_to_h'>to_h</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>] }

<span class='comment'># good
</span>{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_transform_keys'>transform_keys</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_k'>k</span>) }
{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_transform_keys'>transform_keys</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_to_s'>to_s</span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylehashtransformvalues">Style/HashTransformValues</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of <code>_.each_with_object({}) {&#8230;&#8203;}</code>,
<code>\_.map {&#8230;&#8203;}.to_h</code>, and <code>Hash[\_.map {&#8230;&#8203;}]</code> that are actually just
transforming the values of a hash, and tries to use a simpler &amp; faster
call to <code>transform_values</code> instead.</p>
</div>
<div class="sect2">
<h3 id="_safety_27">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if we are
transforming an enumerable of key-value-like pairs that isn&#8217;t actually
a hash, e.g.: <code>[[k1, v1], [k2, v2], &#8230;&#8203;]</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_88">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_each_with_object'>each_with_object</span>({}) { <span class='op'>|</span>(<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>)<span class='comma'>,</span> <span class='id identifier rubyid_h'>h</span><span class='op'>|</span> <span class='id identifier rubyid_h'>h</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_v'>v</span>) }
<span class='const'>Hash</span>[{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_v'>v</span>)] }]
{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='id identifier rubyid_v'>v</span>] }.<span class='id identifier rubyid_to_h'>to_h</span>
{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_to_h'>to_h</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='id identifier rubyid_v'>v</span>] }

<span class='comment'># good
</span>{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_transform_values'>transform_values</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_v'>v</span>) }
{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_transform_values'>transform_values</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='id identifier rubyid_v'>v</span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleidenticalconditionalbranches">Style/IdenticalConditionalBranches</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for identical expressions at the beginning or end of
each branch of a conditional expression. Such expressions should normally
be placed outside the conditional expression - before or after it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The cop is poorly named and some people might think that it actually
checks for duplicated conditional branches. The name will probably be changed
in a future major RuboCop release.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_28">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because changing the order of method invocations
may change the behavior of the code. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='id identifier rubyid_method_that_modifies_global_state'>method_that_modifies_global_state</span> <span class='comment'># 1
</span>  <span class='id identifier rubyid_method_that_relies_on_global_state'>method_that_relies_on_global_state</span> <span class='comment'># 2
</span>  <span class='id identifier rubyid_foo'>foo</span>                                <span class='comment'># 3
</span><span class='kw'>else</span>
  <span class='id identifier rubyid_method_that_relies_on_global_state'>method_that_relies_on_global_state</span> <span class='comment'># 2
</span>  <span class='id identifier rubyid_bar'>bar</span>                                <span class='comment'># 3
</span><span class='kw'>end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, <code>method_that_relies_on_global_state</code> will be moved before
<code>method_that_modifies_global_state</code>, which changes the behavior of the program.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_89">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
  <span class='id identifier rubyid_do_z'>do_z</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_do_y'>do_y</span>
  <span class='id identifier rubyid_do_z'>do_z</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_do_y'>do_y</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_do_z'>do_z</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_do_z'>do_z</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_do_z'>do_z</span>
  <span class='id identifier rubyid_do_y'>do_y</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_do_z'>do_z</span>
<span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_do_y'>do_y</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='int'>1</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>when</span> <span class='int'>2</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='int'>1</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
  <span class='id identifier rubyid_do_y'>do_y</span>
<span class='kw'>when</span> <span class='int'>2</span>
  <span class='comment'># nothing
</span><span class='kw'>else</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
  <span class='id identifier rubyid_do_z'>do_z</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>in</span> <span class='int'>1</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>in</span> <span class='int'>2</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>in</span> <span class='int'>1</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
  <span class='id identifier rubyid_do_y'>do_y</span>
<span class='kw'>in</span> <span class='int'>2</span>
  <span class='comment'># nothing
</span><span class='kw'>else</span>
  <span class='id identifier rubyid_do_x'>do_x</span>
  <span class='id identifier rubyid_do_z'>do_z</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleifinsideelse">Style/IfInsideElse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the <code>else</code> branch of a conditional consists solely of an <code>if</code> node,
it can be combined with the <code>else</code> to become an <code>elsif</code>.
This helps to keep the nesting level from getting too deep.</p>
</div>
<div class="sect2">
<h3 id="_examples_90">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='id identifier rubyid_action_a'>action_a</span>
<span class='kw'>else</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
    <span class='id identifier rubyid_action_b'>action_b</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_action_c'>action_c</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='id identifier rubyid_action_a'>action_a</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
  <span class='id identifier rubyid_action_b'>action_b</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_action_c'>action_c</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowifmodifier_false_default">AllowIfModifier: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='id identifier rubyid_action_a'>action_a</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_action_b'>action_b</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='id identifier rubyid_action_a'>action_a</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
  <span class='id identifier rubyid_action_b'>action_b</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowifmodifier_true">AllowIfModifier: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='id identifier rubyid_action_a'>action_a</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_action_b'>action_b</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='id identifier rubyid_action_a'>action_a</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
  <span class='id identifier rubyid_action_b'>action_b</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_44">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowIfModifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleifunlessmodifier">Style/IfUnlessModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>if</code> and <code>unless</code> statements that would fit on one line if
written as modifier <code>if</code>/<code>unless</code>. The cop also checks for modifier
<code>if</code>/<code>unless</code> lines that exceed the maximum line length.</p>
</div>
<div class="paragraph">
<p>The maximum line length is configured in the <code>Layout/LineLength</code>
cop. The tab size is configured in the <code>IndentationWidth</code> of the
<code>Layout/IndentationStyle</code> cop.</p>
</div>
<div class="paragraph">
<p>One-line pattern matching is always allowed. To ensure that there are few cases
where the match variable is not used, and to prevent oversights. The variable <code>x</code>
becomes undefined and raises <code>NameError</code> when the following example is changed to
the modifier form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> [<span class='int'>42</span>] <span class='kw'>in</span> [<span class='id identifier rubyid_x'>x</span>]
  <span class='id identifier rubyid_x'>x</span> <span class='comment'># `x` is undefined when using modifier form.
</span><span class='kw'>end</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It is allowed when <code>defined?</code> argument has an undefined value,
because using the modifier form causes the following incompatibility:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='id identifier rubyid_undefined_foo'>undefined_foo</span>)
  <span class='id identifier rubyid_undefined_foo'>undefined_foo</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default_value</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_undefined_foo'>undefined_foo</span> <span class='comment'># =&gt; &#39;default_value&#39;
</span>
<span class='id identifier rubyid_undefined_bar'>undefined_bar</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default_value</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='id identifier rubyid_undefined_bar'>undefined_bar</span>)
<span class='id identifier rubyid_undefined_bar'>undefined_bar</span> <span class='comment'># =&gt; nil</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_examples_91">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_do_stuff'>do_stuff</span>(<span class='id identifier rubyid_bar'>bar</span>)
<span class='kw'>end</span>

<span class='kw'>unless</span> <span class='id identifier rubyid_qux'>qux</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='const'>Foo</span>.<span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_do_something_with_a_long_name'>do_something_with_a_long_name</span>(<span class='id identifier rubyid_arg'>arg</span>) <span class='kw'>if</span> <span class='id identifier rubyid_long_condition_that_prevents_code_fit_on_single_line'>long_condition_that_prevents_code_fit_on_single_line</span>

<span class='comment'># good
</span><span class='id identifier rubyid_do_stuff'>do_stuff</span>(<span class='id identifier rubyid_bar'>bar</span>) <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
<span class='const'>Foo</span>.<span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>unless</span> <span class='id identifier rubyid_qux'>qux</span>.<span class='id identifier rubyid_empty?'>empty?</span>

<span class='kw'>if</span> <span class='id identifier rubyid_long_condition_that_prevents_code_fit_on_single_line'>long_condition_that_prevents_code_fit_on_single_line</span>
  <span class='id identifier rubyid_do_something_with_a_long_name'>do_something_with_a_long_name</span>(<span class='id identifier rubyid_arg'>arg</span>)
<span class='kw'>end</span>

<span class='kw'>if</span> <span class='id identifier rubyid_short_condition'>short_condition</span> <span class='comment'># a long comment that makes it too long if it were just a single line
</span>  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_53">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#if-as-a-modifier" class="bare">https://rubystyle.guide#if-as-a-modifier</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleifunlessmodifierofifunless">Style/IfUnlessModifierOfIfUnless</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for if and unless statements used as modifiers of other if or
unless statements.</p>
</div>
<div class="sect2">
<h3 id="_examples_92">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_tired?'>tired?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>go faster</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_running?'>running?</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_tired?'>tired?</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>please stop</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>else</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>keep going</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_running?'>running?</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_running?'>running?</span>
  <span class='id identifier rubyid_tired?'>tired?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>go faster</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleifwithbooleanliteralbranches">Style/IfWithBooleanLiteralBranches</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>if</code> with boolean literal branches.
It checks only conditions to return boolean value (<code>true</code> or <code>false</code>) for safe detection.
The conditions to be checked are comparison methods, predicate methods, and
double negation (!!).
<code>nonzero?</code> method is allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="paragraph">
<p>This cop targets only <code>if`s with a single `elsif</code> or <code>else</code> branch. The following
code will be allowed, because it has two <code>elsif</code> branches:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='kw'>true</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_baz'>baz</span>
  <span class='kw'>true</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_qux'>qux</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_quux'>quux</span> <span class='comment'># Single `elsif` is warned, but two or more `elsif`s are not.
</span>  <span class='kw'>true</span>
<span class='kw'>else</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_safety_29">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because there is no guarantee that all predicate methods
will return a boolean value. Those methods can be allowed with <code>AllowedMethods</code> config.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_93">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='id identifier rubyid_bar'>bar</span>
  <span class='kw'>true</span>
<span class='kw'>else</span>
  <span class='kw'>false</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='id identifier rubyid_bar'>bar</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_do_something?'>do_something?</span>
  <span class='kw'>true</span>
<span class='kw'>else</span>
  <span class='kw'>false</span>
<span class='kw'>end</span>

<span class='comment'># good (but potentially an unsafe correction)
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_do_something?'>do_something?</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_nonzero_default">AllowedMethods: ['nonzero?'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_num'>num</span>.<span class='id identifier rubyid_nonzero?'>nonzero?</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_45">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nonzero?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleifwithsemicolon">Style/IfWithSemicolon</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of semicolon in if statements.</p>
</div>
<div class="sect2">
<h3 id="_examples_94">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_some_condition'>some_condition</span><span class='semicolon'>;</span> <span class='id identifier rubyid_something'>something</span> <span class='kw'>else</span> <span class='id identifier rubyid_another_thing'>another_thing</span> <span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_some_condition'>some_condition</span> <span class='op'>?</span> <span class='id identifier rubyid_something'>something</span> <span class='op'>:</span> <span class='id identifier rubyid_another_thing'>another_thing</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_54">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-semicolon-ifs" class="bare">https://rubystyle.guide#no-semicolon-ifs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleimplicitruntimeerror">Style/ImplicitRuntimeError</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>raise</code> or <code>fail</code> statements which do not specify an
explicit exception class. (This raises a <code>RuntimeError</code>. Some projects
might prefer to use exception classes which more precisely identify the
nature of the error.)</p>
</div>
<div class="sect2">
<h3 id="_examples_95">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Error message here</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Error message here</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleinpatternthen">Style/InPatternThen</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>in;</code> uses in <code>case</code> expressions.</p>
</div>
<div class="sect2">
<h3 id="_examples_96">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_expression'>expression</span>
<span class='kw'>in</span> <span class='id identifier rubyid_pattern_a'>pattern_a</span><span class='semicolon'>;</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>in</span> <span class='id identifier rubyid_pattern_b'>pattern_b</span><span class='semicolon'>;</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_expression'>expression</span>
<span class='kw'>in</span> <span class='id identifier rubyid_pattern_a'>pattern_a</span> <span class='kw'>then</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>in</span> <span class='id identifier rubyid_pattern_b'>pattern_b</span> <span class='kw'>then</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_55">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-in-pattern-semicolons" class="bare">https://rubystyle.guide#no-in-pattern-semicolons</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleinfiniteloop">Style/InfiniteLoop</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use <code>Kernel#loop</code> for infinite loops.</p>
</div>
<div class="sect2">
<h3 id="_safety_30">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe as the rule should not necessarily apply if the loop
body might raise a <code>StopIteration</code> exception; contrary to other infinite
loops, <code>Kernel#loop</code> silently rescues that and returns <code>nil</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_97">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>while</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_work'>work</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_work'>work</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_56">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#infinite-loop" class="bare">https://rubystyle.guide#infinite-loop</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleinlinecomment">Style/InlineComment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing inline comments.</p>
</div>
<div class="sect2">
<h3 id="_examples_98">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='comment'># Standalone comment
</span>  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='comment'># Trailing inline comment
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleinversemethods">Style/InverseMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for usages of not (<code>not</code> or <code>!</code>) called on a method
when an inverse of that method can be used instead.</p>
</div>
<div class="paragraph">
<p>Methods that can be inverted by a not (<code>not</code> or <code>!</code>) should be defined
in <code>InverseMethods</code>.</p>
</div>
<div class="paragraph">
<p>Methods that are inverted by inverting the return
of the block that is passed to the method should be defined in
<code>InverseBlocks</code>.</p>
</div>
<div class="sect2">
<h3 id="_safety_31">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the method
and its inverse method are both defined on receiver, and also are
actually inverse of each other.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_99">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_none?'>none?</span>
<span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_even?'>even?</span> }
<span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_blank?'>blank?</span>
<span class='op'>!</span>(<span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='id identifier rubyid_bar'>bar</span>)
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_even?'>even?</span> }
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span> <span class='op'>!=</span> <span class='int'>7</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_none?'>none?</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_blank?'>blank?</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_even?'>even?</span> }
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>!=</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='op'>!</span><span class='op'>!</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\w+$</span><span class='regexp_end'>/</span></span>)
<span class='op'>!</span>(<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>&lt;</span> <span class='const'>Numeric</span>) <span class='comment'># Checking class hierarchy is allowed
</span><span class='comment'># Blocks with guard clauses are ignored:
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_zero?'>zero?</span>
  <span class='id identifier rubyid_f'>f</span> <span class='op'>!=</span> <span class='int'>1</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_46">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InverseMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{:any?&#8658;:none?, :even?&#8658;:odd?, :==&#8658;:!=, :=<sub>&#8658;:!</sub>, :&lt;&#8658;:&gt;=, :&gt;&#8658;:&#8656;}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InverseBlocks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{:select&#8658;:reject, :select!&#8658;:reject!}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleinvertibleunlesscondition">Style/InvertibleUnlessCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.50</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usages of <code>unless</code> which can be replaced by <code>if</code> with inverted condition.
Code without <code>unless</code> is easier to read, but that is subjective, so this cop
is disabled by default.</p>
</div>
<div class="paragraph">
<p>Methods that can be inverted should be defined in <code>InverseMethods</code>. Note that
the relationship of inverse methods needs to be defined in both directions.
For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">InverseMethods:
  :!=: :==
  :even?: :odd?
  :odd?: :even?</code></pre>
</div>
</div>
<div class="paragraph">
<p>will suggest both <code>even?</code> and <code>odd?</code> to be inverted, but only <code>!=</code> (and not <code>==</code>).</p>
</div>
<div class="sect2">
<h3 id="_safety_32">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the method
and its inverse method are both defined on receiver, and also are
actually inverse of each other.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_100">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad (simple condition)
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>!=</span> <span class='id identifier rubyid_y'>y</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;=</span> <span class='int'>10</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_even?'>even?</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> <span class='id identifier rubyid_odd?'>odd?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='id identifier rubyid_y'>y</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>10</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_odd?'>odd?</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_even?'>even?</span>

<span class='comment'># bad (complex condition)
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>!=</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>||</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_even?'>even?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_odd?'>odd?</span>

<span class='comment'># good (if)
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_condition'>condition</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_47">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InverseMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{:!=&#8658;:==, :&gt;&#8658;:&#8656;, :&#8656;&#8658;:&gt;, :&lt;&#8658;:&gt;=, :&gt;=&#8658;:&lt;, :!<sub>&#8658;:=</sub>, :zero?&#8658;:nonzero?, :nonzero?&#8658;:zero?, :any?&#8658;:none?, :none?&#8658;:any?, :even?&#8658;:odd?, :odd?&#8658;:even?}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleipaddresses">Style/IpAddresses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.91</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for hardcoded IP addresses, which can make code
brittle. IP addresses are likely to need to be changed when code
is deployed to a different server or environment, which may break
a deployment if forgotten. Prefer setting IP addresses in ENV or
other configuration.</p>
</div>
<div class="sect2">
<h3 id="_examples_101">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_ip_address'>ip_address</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>127.59.241.29</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_ip_address'>ip_address</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DEPLOYMENT_IP_ADDRESS</span><span class='tstring_end'>&#39;</span></span>]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_48">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedAddresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>::</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>**/*.gemfile</code>, <code>**/Gemfile</code>, <code>**/gems.rb</code>, <code>**/*.gemspec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylekeywordparametersorder">Style/KeywordParametersOrder</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces that optional keyword parameters are placed at the
end of the parameters list.</p>
</div>
<div class="paragraph">
<p>This improves readability, because when looking through the source,
it is expected to find required parameters at the beginning of parameters list
and optional parameters at the end.</p>
</div>
<div class="sect2">
<h3 id="_examples_102">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>(<span class='label'>first:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>second:</span><span class='comma'>,</span> <span class='label'>third:</span> <span class='int'>10</span>)
  <span class='comment'># body omitted
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>(<span class='label'>second:</span><span class='comma'>,</span> <span class='label'>first:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>third:</span> <span class='int'>10</span>)
  <span class='comment'># body omitted
</span><span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>do</span> <span class='op'>|</span><span class='label'>first:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>second:</span><span class='comma'>,</span> <span class='label'>third:</span> <span class='int'>10</span><span class='op'>|</span>
  <span class='comment'># body omitted
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>do</span> <span class='op'>|</span><span class='label'>second:</span><span class='comma'>,</span> <span class='label'>first:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>third:</span> <span class='int'>10</span><span class='op'>|</span>
  <span class='comment'># body omitted
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_57">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#keyword-parameters-order" class="bare">https://rubystyle.guide#keyword-parameters-order</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylelambda">Style/Lambda</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.40</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>(by default) checks for uses of the lambda literal syntax for
single line lambdas, and the method call syntax for multiline lambdas.
It is configurable to enforce one of the styles for both single line
and multiline lambdas as well.</p>
</div>
<div class="sect2">
<h3 id="_examples_103">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_line_count_dependent_default">EnforcedStyle: line_count_dependent (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_x'>x</span>) <span class='kw'>do</span>
      <span class='id identifier rubyid_x'>x</span>
    <span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_x'>x</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
      <span class='id identifier rubyid_x'>x</span>
    <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_lambda">EnforcedStyle: lambda</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_x'>x</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_x'>x</span>) <span class='kw'>do</span>
      <span class='id identifier rubyid_x'>x</span>
    <span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
      <span class='id identifier rubyid_x'>x</span>
    <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_literal">EnforcedStyle: literal</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
      <span class='id identifier rubyid_x'>x</span>
    <span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_x'>x</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_x'>x</span>) <span class='kw'>do</span>
      <span class='id identifier rubyid_x'>x</span>
    <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_49">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_count_dependent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_count_dependent</code>, <code>lambda</code>, <code>literal</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_58">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#lambda-multi-line" class="bare">https://rubystyle.guide#lambda-multi-line</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylelambdacall">Style/LambdaCall</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for use of the lambda.(args) syntax.</p>
</div>
<div class="sect2">
<h3 id="_examples_104">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_call_default">EnforcedStyle: call (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_lambda'>lambda</span>.(<span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_lambda'>lambda</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_braces">EnforcedStyle: braces</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_lambda'>lambda</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_lambda'>lambda</span>.(<span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_50">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>call</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>call</code>, <code>braces</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_59">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#proc-call" class="bare">https://rubystyle.guide#proc-call</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylelineendconcatenation">Style/LineEndConcatenation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.64</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for string literal concatenation at
the end of a line.</p>
</div>
<div class="sect2">
<h3 id="_safety_33">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the
receiver is a string, in which case replacing <code>&lt;&lt;</code> with <code>\</code>
would result in a syntax error.</p>
</div>
<div class="paragraph">
<p>For example, this would be a false positive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_array'>array</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_105">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_some_str'>some_str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ala</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span>
           <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bala</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_some_str'>some_str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ala</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span>
           <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bala</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_some_str'>some_str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ala</span><span class='tstring_end'>&#39;</span></span> \
           <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bala</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemagiccommentformat">Style/MagicCommentFormat</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ensures magic comments are written consistently throughout your code base.
Looks for discrepancies in separators (<code>-</code> vs <code>_</code>) and capitalization for
both magic comment directives and values.</p>
</div>
<div class="paragraph">
<p>Required capitalization can be set with the <code>DirectiveCapitalization</code> and
<code>ValueCapitalization</code> configuration keys.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If one of these configuration is set to nil, any capitalization is allowed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_106">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_snake_case_default">EnforcedStyle: snake_case (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `snake_case` style will enforce that the frozen string literal
</span><span class='comment'># comment is written in snake case. (Words separated by underscores)
</span><span class='comment'># bad
</span><span class='comment'># frozen-string-literal: true
</span>
<span class='kw'>module</span> <span class='const'>Bar</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># frozen_string_literal: false
</span>
<span class='kw'>module</span> <span class='const'>Bar</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_kebab_case">EnforcedStyle: kebab_case</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `kebab_case` style will enforce that the frozen string literal
</span><span class='comment'># comment is written in kebab case. (Words separated by hyphens)
</span><span class='comment'># bad
</span><span class='comment'># frozen_string_literal: true
</span>
<span class='kw'>module</span> <span class='const'>Baz</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># frozen-string-literal: true
</span>
<span class='kw'>module</span> <span class='const'>Baz</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_directivecapitalization_lowercase_default">DirectiveCapitalization: lowercase (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># FROZEN-STRING-LITERAL: true
</span>
<span class='comment'># good
</span><span class='comment'># frozen-string-literal: true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_directivecapitalization_uppercase">DirectiveCapitalization: uppercase</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># frozen-string-literal: true
</span>
<span class='comment'># good
</span><span class='comment'># FROZEN-STRING-LITERAL: true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_directivecapitalization_nil">DirectiveCapitalization: nil</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># any capitalization is accepted
</span>
<span class='comment'># good
</span><span class='comment'># frozen-string-literal: true
</span>
<span class='comment'># good
</span><span class='comment'># FROZEN-STRING-LITERAL: true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_valuecapitalization_nil_default">ValueCapitalization: nil (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># any capitalization is accepted
</span>
<span class='comment'># good
</span><span class='comment'># frozen-string-literal: true
</span>
<span class='comment'># good
</span><span class='comment'># frozen-string-literal: TRUE</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_valuecapitalization_lowercase">ValueCapitalization: lowercase</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># when a value is not given, any capitalization is accepted
</span>
<span class='comment'># bad
</span><span class='comment'># frozen-string-literal: TRUE
</span>
<span class='comment'># good
</span><span class='comment'># frozen-string-literal: TRUE</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_valuecapitalization_uppercase">ValueCapitalization: uppercase</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># frozen-string-literal: true
</span>
<span class='comment'># good
</span><span class='comment'># frozen-string-literal: TRUE</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_51">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>snake_case</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>snake_case</code>, <code>kebab_case</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DirectiveCapitalization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lowercase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueCapitalization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;none&gt;</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemapcompactwithconditionalblock">Style/MapCompactWithConditionalBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prefer <code>select</code> or <code>reject</code> over <code>map { &#8230;&#8203; }.compact</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_107">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_some_condition?'>some_condition?</span> <span class='op'>?</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>:</span> <span class='kw'>next</span> }.<span class='id identifier rubyid_compact'>compact</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_some_condition?'>some_condition?</span>
    <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>else</span>
    <span class='kw'>next</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_compact'>compact</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
  <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_some_condition?'>some_condition?</span>

  <span class='id identifier rubyid_e'>e</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_compact'>compact</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
  <span class='id identifier rubyid_e'>e</span> <span class='kw'>if</span> <span class='id identifier rubyid_some_condition?'>some_condition?</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_compact'>compact</span>

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_some_condition?'>some_condition?</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_some_condition?'>some_condition?</span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemapintoarray">Style/MapIntoArray</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.63</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usages of <code>each</code> with <code>&lt;&lt;</code>, <code>push</code>, or <code>append</code> which
can be replaced by <code>map</code>.</p>
</div>
<div class="paragraph">
<p>If <code>PreferredMethods</code> is configured for <code>map</code> in <code>Style/CollectionMethods</code>,
this cop uses the specified method for replacement.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The return value of <code>Enumerable#each</code> is <code>self</code>, whereas the
return value of <code>Enumerable#map</code> is an <code>Array</code>. They are not autocorrected
when a return value could be used because these types differ.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It only detects when the mapping destination is a local variable
initialized as an empty array and referred to only by the pushing operation.
This is because, if not, it&#8217;s challenging to statically guarantee that the
mapping destination variable remains an empty array:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> []
<span class='id identifier rubyid_src'>src</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>*</span> <span class='int'>2</span> } <span class='comment'># `&lt;&lt;` method may mutate `ret`
</span>
<span class='id identifier rubyid_dest'>dest</span> <span class='op'>=</span> []
<span class='id identifier rubyid_src'>src</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_dest'>dest</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_transform'>transform</span>(<span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='id identifier rubyid_dest'>dest</span>) } <span class='comment'># `transform` method may mutate `dest`</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_safety_34">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because not all objects that have an <code>each</code>
method also have a <code>map</code> method (e.g. yard). Additionally, for calls
with a block, not all objects that have a <code>map</code> method return an array
(e.g. <code>Enumerator::Lazy</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_108">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_dest'>dest</span> <span class='op'>=</span> []
<span class='id identifier rubyid_src'>src</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_dest'>dest</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>*</span> <span class='int'>2</span> }
<span class='id identifier rubyid_dest'>dest</span>

<span class='comment'># good
</span><span class='id identifier rubyid_dest'>dest</span> <span class='op'>=</span> <span class='id identifier rubyid_src'>src</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>*</span> <span class='int'>2</span> }

<span class='comment'># good - contains another operation
</span><span class='id identifier rubyid_dest'>dest</span> <span class='op'>=</span> []
<span class='id identifier rubyid_src'>src</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_dest'>dest</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_e'>e</span> <span class='op'>*</span> <span class='int'>2</span><span class='semicolon'>;</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span> }
<span class='id identifier rubyid_dest'>dest</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_60">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#functional-code" class="bare">https://rubystyle.guide#functional-code</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemaptohash">Style/MapToHash</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of <code>map.to_h</code> or <code>collect.to_h</code> that could be
written with just <code>to_h</code> in Ruby &gt;= 2.6.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>Style/HashTransformKeys</code> and <code>Style/HashTransformValues</code> will
also change this pattern if only hash keys or hash values are being
transformed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_35">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if the receiver
is not an <code>Enumerable</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_109">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='int'>2</span>] }.<span class='id identifier rubyid_to_h'>to_h</span>

<span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_to_h'>to_h</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='int'>2</span>] }

<span class='comment'># bad
</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_bar'>bar</span>}.<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_do_something'>do_something</span>] }.<span class='id identifier rubyid_to_h'>to_h</span>

<span class='comment'># good
</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_bar'>bar</span>}.<span class='id identifier rubyid_to_h'>to_h</span> { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> [<span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_do_something'>do_something</span>] }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemaptoset">Style/MapToSet</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of <code>map.to_set</code> or <code>collect.to_set</code> that could be
written with just <code>to_set</code>.</p>
</div>
<div class="sect2">
<h3 id="_safety_36">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if the receiver
is not an <code>Enumerable</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_110">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>*</span> <span class='int'>2</span> }.<span class='id identifier rubyid_to_set'>to_set</span>

<span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_to_set'>to_set</span> { <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>*</span> <span class='int'>2</span> }

<span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_to_s'>to_s</span> }.<span class='id identifier rubyid_to_set'>to_set</span>

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_to_set'>to_set</span> { <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_to_s'>to_s</span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemethodcallwithargsparentheses">Style/MethodCallWithArgsParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the presence (default) or absence of parentheses in
method calls containing parameters.</p>
</div>
<div class="paragraph">
<p>In the default style (require_parentheses), macro methods are allowed.
Additional methods can be added to the <code>AllowedMethods</code> or
<code>AllowedPatterns</code> list. These options are valid only in the default
style. Macros can be included by either setting <code>IgnoreMacros</code> to false
or adding specific macros to the <code>IncludedMacros</code> list.</p>
</div>
<div class="paragraph">
<p>Precedence of options is as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>AllowedMethods</code></p>
</li>
<li>
<p><code>AllowedPatterns</code></p>
</li>
<li>
<p><code>IncludedMacros</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If a method is listed in both <code>IncludedMacros</code> and <code>AllowedMethods</code>,
then the latter takes precedence (that is, the method is allowed).</p>
</div>
<div class="paragraph">
<p>In the alternative style (omit_parentheses), there are three additional
options.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>AllowParenthesesInChaining</code> is <code>false</code> by default. Setting it to
<code>true</code> allows the presence of parentheses in the last call during
method chaining.</p>
</li>
<li>
<p><code>AllowParenthesesInMultilineCall</code> is <code>false</code> by default. Setting it
to <code>true</code> allows the presence of parentheses in multi-line method
calls.</p>
</li>
<li>
<p><code>AllowParenthesesInCamelCaseMethod</code> is <code>false</code> by default. This
allows the presence of parentheses when calling a method whose name
begins with a capital letter and which has no arguments. Setting it
to <code>true</code> allows the presence of parentheses in such a method call
even with arguments.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The style of <code>omit_parentheses</code> allows parentheses in cases where
omitting them results in ambiguous or syntactically incorrect code.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Non-exhaustive list of examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Parentheses are required allowed in method calls with arguments inside
literals, logical operators, setting default values in position and
keyword arguments, chaining and more.</p>
</li>
<li>
<p>Parentheses are allowed in method calls with arguments inside
operators to avoid ambiguity.
triple-dot syntax introduced in Ruby 2.7 as omitting them starts an
endless range.</p>
</li>
<li>
<p>Parentheses are allowed when forwarding arguments with the
triple-dot syntax introduced in Ruby 2.7 as omitting them starts an
endless range.</p>
</li>
<li>
<p>Parentheses are required in calls with arguments when inside an
endless method definition introduced in Ruby 3.0.</p>
</li>
<li>
<p>Ruby 3.1&#8217;s hash omission syntax allows parentheses if the method call
is in conditionals and requires parentheses if the call
is not the value-returning expression. See
<a href="https://bugs.ruby-lang.org/issues/18396" class="bare">https://bugs.ruby-lang.org/issues/18396</a>.</p>
</li>
<li>
<p>Parentheses are required in anonymous arguments, keyword arguments
and block passing in Ruby 3.2.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_111">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_require_parentheses_default">EnforcedStyle: require_parentheses (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_e'>e</span>

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_e'>e</span>)

<span class='comment'># good
</span><span class='comment'># Operators don&#39;t need parens
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='id identifier rubyid_bar'>bar</span>

<span class='comment'># good
</span><span class='comment'># Setter methods don&#39;t need parens
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='id identifier rubyid_baz'>baz</span>

<span class='comment'># okay with `puts` listed in {AllowedMethods}
</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># okay with `^assert` listed in {AllowedPatterns}
</span><span class='id identifier rubyid_assert_equal'>assert_equal</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_omit_parentheses">EnforcedStyle: omit_parentheses</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_e'>e</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_e'>e</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_action'>action</span>.<span class='id identifier rubyid_enforce'>enforce</span>(<span class='label'>strict:</span> <span class='kw'>true</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_action'>action</span>.<span class='id identifier rubyid_enforce'>enforce</span> <span class='label'>strict:</span> <span class='kw'>true</span>

<span class='comment'># good
</span><span class='comment'># Parentheses are allowed for code that can be ambiguous without
</span><span class='comment'># them.
</span><span class='id identifier rubyid_action'>action</span>.<span class='id identifier rubyid_enforce'>enforce</span>(<span class='id identifier rubyid_condition'>condition</span>) <span class='op'>||</span> <span class='id identifier rubyid_other_condition'>other_condition</span>

<span class='comment'># good
</span><span class='comment'># Parentheses are allowed for calls that won&#39;t produce valid Ruby
</span><span class='comment'># without them.
</span><span class='kw'>yield</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_path'>path</span>)

<span class='comment'># good
</span><span class='comment'># Omitting the parentheses in Ruby 3.1 hash omission syntax can lead
</span><span class='comment'># to ambiguous code. We allow them in conditionals and non-last
</span><span class='comment'># expressions. See https://bugs.ruby-lang.org/issues/18396
</span><span class='kw'>if</span> <span class='id identifier rubyid_meets'>meets</span>(<span class='label'>criteria:</span><span class='comma'>,</span> <span class='label'>action:</span>)
  <span class='id identifier rubyid_safe_action'>safe_action</span>(<span class='id identifier rubyid_action'>action</span>) <span class='op'>||</span> <span class='id identifier rubyid_dangerous_action'>dangerous_action</span>(<span class='id identifier rubyid_action'>action</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ignoremacros_true_default">IgnoreMacros: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ignoremacros_false">IgnoreMacros: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowparenthesesinmultilinecall_false_default">AllowParenthesesInMultilineCall: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_enforce'>enforce</span>(
  <span class='label'>strict:</span> <span class='kw'>true</span>
)

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_enforce'>enforce</span> \
  <span class='label'>strict:</span> <span class='kw'>true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowparenthesesinmultilinecall_true">AllowParenthesesInMultilineCall: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_enforce'>enforce</span>(
  <span class='label'>strict:</span> <span class='kw'>true</span>
)

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_enforce'>enforce</span> \
  <span class='label'>strict:</span> <span class='kw'>true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowparenthesesinchaining_false_default">AllowParenthesesInChaining: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>().<span class='id identifier rubyid_bar'>bar</span>(<span class='int'>1</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>().<span class='id identifier rubyid_bar'>bar</span> <span class='int'>1</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowparenthesesinchaining_true">AllowParenthesesInChaining: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>().<span class='id identifier rubyid_bar'>bar</span>(<span class='int'>1</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>().<span class='id identifier rubyid_bar'>bar</span> <span class='int'>1</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowparenthesesincamelcasemethod_false_default">AllowParenthesesInCamelCaseMethod: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Array</span>(<span class='int'>1</span>)

<span class='comment'># good
</span><span class='const'>Array</span> <span class='int'>1</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowparenthesesincamelcasemethod_true">AllowParenthesesInCamelCaseMethod: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='const'>Array</span>(<span class='int'>1</span>)

<span class='comment'># good
</span><span class='const'>Array</span> <span class='int'>1</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowparenthesesinstringinterpolation_false_default">AllowParenthesesInStringInterpolation: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t'>t</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>this.is.bad</span><span class='tstring_end'>&#39;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t'>t</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>this.is.better</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowparenthesesinstringinterpolation_true">AllowParenthesesInStringInterpolation: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t'>t</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>this.is.good</span><span class='tstring_end'>&#39;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t'>t</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>this.is.also.good</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_52">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreMacros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IncludedMacros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowParenthesesInMultilineCall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowParenthesesInChaining</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowParenthesesInCamelCaseMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowParenthesesInStringInterpolation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code>, <code>omit_parentheses</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_61">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-invocation-parens" class="bare">https://rubystyle.guide#method-invocation-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemethodcallwithoutargsparentheses">Style/MethodCallWithoutArgsParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.55</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unwanted parentheses in parameterless method calls.</p>
</div>
<div class="paragraph">
<p>This cop can be customized allowed methods with <code>AllowedMethods</code>.
By default, there are no methods to allowed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This cop allows the use of <code>it()</code> without arguments in blocks,
as in <code>0.times { it() }</code>, following <code>Lint/ItWithoutArgumentsInBlock</code> cop.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_112">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_some_method'>some_method</span>()

<span class='comment'># good
</span><span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_some_method'>some_method</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_default_2">AllowedMethods: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_foo'>foo</span>()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_foo">AllowedMethods: [foo]</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_foo'>foo</span>()</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_53">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_62">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-invocation-parens" class="bare">https://rubystyle.guide#method-invocation-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemethodcalledondoendblock">Style/MethodCalledOnDoEndBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for methods called on a do&#8230;&#8203;end block. The point of
this check is that it&#8217;s easy to miss the call tacked on to the block
when reading code.</p>
</div>
<div class="sect2">
<h3 id="_examples_113">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_b'>b</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_c'>c</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> { <span class='id identifier rubyid_b'>b</span> }.<span class='id identifier rubyid_c'>c</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_b'>b</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_c'>c</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_63">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#single-line-blocks" class="bare">https://rubystyle.guide#single-line-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemethoddefparentheses">Style/MethodDefParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for parentheses around the arguments in method
definitions. Both instance and class/singleton methods are checked.</p>
</div>
<div class="paragraph">
<p>Regardless of style, parentheses are necessary for:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Endless methods</p>
</li>
<li>
<p>Argument lists containing a <code>forward-arg</code> (<code>&#8230;&#8203;</code>)</p>
</li>
<li>
<p>Argument lists containing an anonymous rest arguments forwarding (<code>*</code>)</p>
</li>
<li>
<p>Argument lists containing an anonymous keyword rest arguments forwarding (<code>**</code>)</p>
</li>
<li>
<p>Argument lists containing an anonymous block forwarding (<code>&amp;</code>)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Removing the parens would be a syntax error here.</p>
</div>
<div class="sect2">
<h3 id="_examples_114">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_require_parentheses_default_2">EnforcedStyle: require_parentheses (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `require_parentheses` style requires method definitions
</span><span class='comment'># to always use parentheses
</span>
<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span> <span class='id identifier rubyid_num1'>num1</span><span class='comma'>,</span> <span class='id identifier rubyid_num2'>num2</span>
  <span class='id identifier rubyid_num1'>num1</span> <span class='op'>+</span> <span class='id identifier rubyid_num2'>num2</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span> <span class='id identifier rubyid_descriptive_var_name'>descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_another_descriptive_var_name'>another_descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_last_descriptive_var_name'>last_descriptive_var_name</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_num1'>num1</span><span class='comma'>,</span> <span class='id identifier rubyid_num2'>num2</span>)
  <span class='id identifier rubyid_num1'>num1</span> <span class='op'>+</span> <span class='id identifier rubyid_num2'>num2</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_descriptive_var_name'>descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_another_descriptive_var_name'>another_descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_last_descriptive_var_name'>last_descriptive_var_name</span>)
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_require_no_parentheses">EnforcedStyle: require_no_parentheses</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `require_no_parentheses` style requires method definitions
</span><span class='comment'># to never use parentheses
</span>
<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_num1'>num1</span><span class='comma'>,</span> <span class='id identifier rubyid_num2'>num2</span>)
  <span class='id identifier rubyid_num1'>num1</span> <span class='op'>+</span> <span class='id identifier rubyid_num2'>num2</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_descriptive_var_name'>descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_another_descriptive_var_name'>another_descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_last_descriptive_var_name'>last_descriptive_var_name</span>)
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span> <span class='id identifier rubyid_num1'>num1</span><span class='comma'>,</span> <span class='id identifier rubyid_num2'>num2</span>
  <span class='id identifier rubyid_num1'>num1</span> <span class='op'>+</span> <span class='id identifier rubyid_num2'>num2</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span> <span class='id identifier rubyid_descriptive_var_name'>descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_another_descriptive_var_name'>another_descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_last_descriptive_var_name'>last_descriptive_var_name</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_require_no_parentheses_except_multiline">EnforcedStyle: require_no_parentheses_except_multiline</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `require_no_parentheses_except_multiline` style prefers no
</span><span class='comment'># parentheses when method definition arguments fit on single line,
</span><span class='comment'># but prefers parentheses when arguments span multiple lines.
</span>
<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_num1'>num1</span><span class='comma'>,</span> <span class='id identifier rubyid_num2'>num2</span>)
  <span class='id identifier rubyid_num1'>num1</span> <span class='op'>+</span> <span class='id identifier rubyid_num2'>num2</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span> <span class='id identifier rubyid_descriptive_var_name'>descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_another_descriptive_var_name'>another_descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_last_descriptive_var_name'>last_descriptive_var_name</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span> <span class='id identifier rubyid_num1'>num1</span><span class='comma'>,</span> <span class='id identifier rubyid_num2'>num2</span>
  <span class='id identifier rubyid_num1'>num1</span> <span class='op'>+</span> <span class='id identifier rubyid_num2'>num2</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_descriptive_var_name'>descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_another_descriptive_var_name'>another_descriptive_var_name</span><span class='comma'>,</span>
        <span class='id identifier rubyid_last_descriptive_var_name'>last_descriptive_var_name</span>)
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_54">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code>, <code>require_no_parentheses</code>, <code>require_no_parentheses_except_multiline</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_64">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-parens" class="bare">https://rubystyle.guide#method-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleminmax">Style/MinMax</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for potential uses of <code>Enumerable#minmax</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_115">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> [<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_max'>max</span>]
<span class='kw'>return</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_max'>max</span>

<span class='comment'># good
</span><span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_minmax'>minmax</span>
<span class='kw'>return</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_minmax'>minmax</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleminmaxcomparison">Style/MinMaxComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>max</code> or <code>min</code> instead of comparison for greater or less.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It can be used if you want to present limit or threshold in Ruby 2.7+.
That it is slow though. So autocorrection will apply generic <code>max</code> or <code>min</code>:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_clamp'>clamp</span>(<span class='id identifier rubyid_b'>b</span><span class='op'>..</span>) <span class='comment'># Same as `[a, b].max`
</span><span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_clamp'>clamp</span>(<span class='op'>..</span><span class='id identifier rubyid_b'>b</span>) <span class='comment'># Same as `[a, b].min`</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_safety_37">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because even if a value has <code>&lt;</code> or <code>&gt;</code> method,
it is not necessarily <code>Comparable</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_116">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>

<span class='comment'># good
</span>[<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>].<span class='id identifier rubyid_max'>max</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>

<span class='comment'># good
</span>[<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>].<span class='id identifier rubyid_min'>min</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemissingelse">Style/MissingElse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.38</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>if</code> expressions that do not have an <code>else</code> branch.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Pattern matching is allowed to have no <code>else</code> branch because unlike <code>if</code> and <code>case</code>,
it raises <code>NoMatchingPatternError</code> if the pattern doesn&#8217;t match and without having <code>else</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Supported styles are: if, case, both.</p>
</div>
<div class="sect2">
<h3 id="_examples_117">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_both_default_2">EnforcedStyle: both (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># warn when an `if` or `case` expression is missing an `else` branch.
</span>
<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_var'>var</span>
<span class='kw'>when</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># the content of `else` branch will be determined by Style/EmptyElse
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_var'>var</span>
<span class='kw'>when</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># the content of `else` branch will be determined by Style/EmptyElse
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_if">EnforcedStyle: if</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># warn when an `if` expression is missing an `else` branch.
</span>
<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># the content of `else` branch will be determined by Style/EmptyElse
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_var'>var</span>
<span class='kw'>when</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_var'>var</span>
<span class='kw'>when</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># the content of `else` branch will be determined by Style/EmptyElse
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_case">EnforcedStyle: case</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># warn when a `case` expression is missing an `else` branch.
</span>
<span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_var'>var</span>
<span class='kw'>when</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_var'>var</span>
<span class='kw'>when</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># the content of `else` branch will be determined by Style/EmptyElse
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_statement'>statement</span>
<span class='kw'>else</span>
  <span class='comment'># the content of `else` branch will be determined by Style/EmptyElse
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_55">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>if</code>, <code>case</code>, <code>both</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemissingrespondtomissing">Style/MissingRespondToMissing</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of <code>method_missing</code> without also
defining <code>respond_to_missing?</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_118">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_respond_to_missing?'>respond_to_missing?</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_include_private'>include_private</span>)
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_65">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-method-missing" class="bare">https://rubystyle.guide#no-method-missing</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemixingrouping">Style/MixinGrouping</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for grouping of mixins in <code>class</code> and <code>module</code> bodies.
By default it enforces mixins to be placed in separate declarations,
but it can be configured to enforce grouping them in one declaration.</p>
</div>
<div class="sect2">
<h3 id="_examples_119">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_separated_default">EnforcedStyle: separated (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'>Bar</span><span class='comma'>,</span> <span class='const'>Qox</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'>Qox</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'>Bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_grouped">EnforcedStyle: grouped</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='const'>Bar</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='const'>Qox</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='const'>Qox</span><span class='comma'>,</span> <span class='const'>Bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_56">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated</code>, <code>grouped</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_66">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#mixin-grouping" class="bare">https://rubystyle.guide#mixin-grouping</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemixinusage">Style/MixinUsage</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that <code>include</code>, <code>extend</code> and <code>prepend</code> statements appear
inside classes and modules, not at the top level, so as to not affect
the behavior of <code>Object</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_120">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_include'>include</span> <span class='const'>M</span>

<span class='kw'>class</span> <span class='const'>C</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_extend'>extend</span> <span class='const'>M</span>

<span class='kw'>class</span> <span class='const'>C</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_prepend'>prepend</span> <span class='const'>M</span>

<span class='kw'>class</span> <span class='const'>C</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>C</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'>M</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>C</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='const'>M</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>C</span>
  <span class='id identifier rubyid_prepend'>prepend</span> <span class='const'>M</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemodulefunction">Style/ModuleFunction</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.65</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for use of <code>extend self</code> or <code>module_function</code> in a module.</p>
</div>
<div class="paragraph">
<p>Supported styles are: <code>module_function</code> (default), <code>extend_self</code> and <code>forbidden</code>.</p>
</div>
<div class="paragraph">
<p>A couple of things to keep in mind:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>forbidden</code> style prohibits the usage of both styles</p>
</li>
<li>
<p>in default mode (<code>module_function</code>), the cop won&#8217;t be activated when the module
contains any private methods</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_safety_38">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe (and is disabled by default) because <code>extend self</code>
and <code>module_function</code> do not behave exactly the same.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_121">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_module_function_default">EnforcedStyle: module_function (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='kw'>self</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='id identifier rubyid_module_function'>module_function</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='kw'>self</span>
  <span class='comment'># ...
</span>  <span class='id identifier rubyid_private'>private</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_extend_self">EnforcedStyle: extend_self</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='id identifier rubyid_module_function'>module_function</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='kw'>self</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_forbidden_2">EnforcedStyle: forbidden</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='id identifier rubyid_module_function'>module_function</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='kw'>self</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='kw'>self</span>
  <span class='comment'># ...
</span>  <span class='id identifier rubyid_private'>private</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Test</span>
  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_57">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module_function</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module_function</code>, <code>extend_self</code>, <code>forbidden</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autocorrect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_67">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#module-function" class="bare">https://rubystyle.guide#module-function</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultilineblockchain">Style/MultilineBlockChain</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for chaining of a block after another block that spans
multiple lines.</p>
</div>
<div class="sect2">
<h3 id="_examples_122">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Thread</span>.<span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_alive?'>alive?</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_object_id'>object_id</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_alive_threads'>alive_threads</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_alive?'>alive?</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_alive_threads'>alive_threads</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
  <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_object_id'>object_id</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_68">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#single-line-blocks" class="bare">https://rubystyle.guide#single-line-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultilineifmodifier">Style/MultilineIfModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of if/unless modifiers with multiple-lines bodies.</p>
</div>
<div class="sect2">
<h3 id="_examples_123">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{
  <span class='label'>result:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>this should not happen</span><span class='tstring_end'>&#39;</span></span>
} <span class='kw'>unless</span> <span class='id identifier rubyid_cond'>cond</span>

<span class='comment'># good
</span>{ <span class='label'>result:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ok</span><span class='tstring_end'>&#39;</span></span> } <span class='kw'>if</span> <span class='id identifier rubyid_cond'>cond</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_69">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-multiline-if-modifiers" class="bare">https://rubystyle.guide#no-multiline-if-modifiers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultilineifthen">Style/MultilineIfThen</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.26</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the <code>then</code> keyword in multi-line if statements.</p>
</div>
<div class="sect2">
<h3 id="_examples_124">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='comment'># This is considered bad practice.
</span><span class='kw'>if</span> <span class='id identifier rubyid_cond'>cond</span> <span class='kw'>then</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># If statements can contain `then` on the same line.
</span><span class='kw'>if</span> <span class='id identifier rubyid_cond'>cond</span> <span class='kw'>then</span> <span class='id identifier rubyid_a'>a</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_cond'>cond</span> <span class='kw'>then</span> <span class='id identifier rubyid_b'>b</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_70">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-then" class="bare">https://rubystyle.guide#no-then</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultilineinpatternthen">Style/MultilineInPatternThen</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks uses of the <code>then</code> keyword in multi-line <code>in</code> statement.</p>
</div>
<div class="sect2">
<h3 id="_examples_125">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_expression'>expression</span>
<span class='kw'>in</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='kw'>then</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_expression'>expression</span>
<span class='kw'>in</span> <span class='id identifier rubyid_pattern'>pattern</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_expression'>expression</span>
<span class='kw'>in</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='kw'>then</span> <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_expression'>expression</span>
<span class='kw'>in</span> <span class='id identifier rubyid_pattern'>pattern</span> <span class='kw'>then</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_arg1'>arg1</span><span class='comma'>,</span>
                             <span class='id identifier rubyid_arg2'>arg2</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_71">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-then" class="bare">https://rubystyle.guide#no-then</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultilinememoization">Style/MultilineMemoization</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks expressions wrapping styles for multiline memoization.</p>
</div>
<div class="sect2">
<h3 id="_examples_126">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_keyword_default">EnforcedStyle: keyword (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>||=</span> (
  <span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_baz'>baz</span>
)

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>||=</span> <span class='kw'>begin</span>
  <span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_braces_2">EnforcedStyle: braces</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>||=</span> <span class='kw'>begin</span>
  <span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>||=</span> (
  <span class='id identifier rubyid_bar'>bar</span>
  <span class='id identifier rubyid_baz'>baz</span>
)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_58">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keyword</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keyword</code>, <code>braces</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultilinemethodsignature">Style/MultilineMethodSignature</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.59</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for method signatures that span multiple lines.</p>
</div>
<div class="sect2">
<h3 id="_examples_127">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span>
<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='id identifier rubyid_baz'>baz</span>)
<span class='kw'>end</span>

<span class='comment'># bad
</span>
<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span>
        <span class='id identifier rubyid_baz'>baz</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultilineternaryoperator">Style/MultilineTernaryOperator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for multi-line ternary op expressions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>return if &#8230;&#8203; else &#8230;&#8203; end</code> is syntax error. If <code>return</code> is used before
multiline ternary operator expression, it will be autocorrected to single-line
ternary operator. The same is true for <code>break</code>, <code>next</code>, and method call.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_128">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_cond'>cond</span> <span class='op'>?</span>
  <span class='id identifier rubyid_b'>b</span> <span class='op'>:</span> <span class='id identifier rubyid_c'>c</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_cond'>cond</span> <span class='op'>?</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>:</span>
    <span class='id identifier rubyid_c'>c</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_cond'>cond</span> <span class='op'>?</span>
    <span class='id identifier rubyid_b'>b</span> <span class='op'>:</span>
    <span class='id identifier rubyid_c'>c</span>

<span class='kw'>return</span> <span class='id identifier rubyid_cond'>cond</span> <span class='op'>?</span>
       <span class='id identifier rubyid_b'>b</span> <span class='op'>:</span>
       <span class='id identifier rubyid_c'>c</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_cond'>cond</span> <span class='op'>?</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>:</span> <span class='id identifier rubyid_c'>c</span>
<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_cond'>cond</span>
  <span class='id identifier rubyid_b'>b</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_c'>c</span>
<span class='kw'>end</span>

<span class='kw'>return</span> <span class='id identifier rubyid_cond'>cond</span> <span class='op'>?</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>:</span> <span class='id identifier rubyid_c'>c</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_72">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-multiline-ternary" class="bare">https://rubystyle.guide#no-multiline-ternary</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultilinewhenthen">Style/MultilineWhenThen</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.73</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks uses of the <code>then</code> keyword
in multi-line when statements.</p>
</div>
<div class="sect2">
<h3 id="_examples_129">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>then</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>then</span> <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>then</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_arg1'>arg1</span><span class='comma'>,</span>
                           <span class='id identifier rubyid_arg2'>arg2</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_73">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-then" class="bare">https://rubystyle.guide#no-then</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemultiplecomparison">Style/MultipleComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks against comparing a variable with multiple items, where
<code>Array#include?</code>, <code>Set#include?</code> or a <code>case</code> could be used instead
to avoid code repetition.
It accepts comparisons of multiple method calls to avoid unnecessary method calls
by default. It can be configured by <code>AllowMethodComparison</code> option.</p>
</div>
<div class="sect2">
<h3 id="_examples_130">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_a'>a</span>)

<span class='const'>VALUES</span> <span class='op'>=</span> <span class='const'>Set</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_freeze'>freeze</span>
<span class='comment'># elsewhere...
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='const'>VALUES</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_a'>a</span>)

<span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># accepted (but consider `case` as above)
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_lightweight'>lightweight</span> <span class='op'>||</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_heavyweight'>heavyweight</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowmethodcomparison_true_default">AllowMethodComparison: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_lightweight'>lightweight</span> <span class='op'>||</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_heavyweight'>heavyweight</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowmethodcomparison_false">AllowMethodComparison: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_lightweight'>lightweight</span> <span class='op'>||</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_heavyweight'>heavyweight</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> [<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_lightweight'>lightweight</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_heavyweight'>heavyweight</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_a'>a</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_comparisonsthreshold_2_default">ComparisonsThreshold: 2 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_comparisonsthreshold_3">ComparisonsThreshold: 3</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_59">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowMethodComparison</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ComparisonsThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylemutableconstant">Style/MutableConstant</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks whether some constant value isn&#8217;t a
mutable literal (e.g. array or hash).</p>
</div>
<div class="paragraph">
<p>Strict mode can be used to freeze all constants, rather than
just literals.
Strict mode is considered an experimental feature. It has not been
updated with an exhaustive list of all methods that will produce
frozen objects so there is a decent chance of getting some false
positives. Luckily, there is no harm in freezing an already
frozen object.</p>
</div>
<div class="paragraph">
<p>From Ruby 3.0, this cop honours the magic comment
'shareable_constant_value'. When this magic comment is set to any
acceptable value other than none, it will suppress the offenses
raised by this cop. It enforces frozen state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Regexp and Range literals are frozen objects since Ruby 3.0.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
From Ruby 3.0, interpolated strings are not frozen when
<code># frozen-string-literal: true</code> is used, so this cop enforces explicit
freezing for such strings.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
From Ruby 3.0, this cop allows explicit freezing of constants when
the <code>shareable_constant_value</code> directive is used.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_39">Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe since any mutations on objects that
are made frozen will change from being accepted to raising <code>FrozenError</code>,
and will need to be manually refactored.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_131">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_literals_default">EnforcedStyle: literals (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>CONST</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]

<span class='comment'># good
</span><span class='const'>CONST</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_freeze'>freeze</span>

<span class='comment'># good
</span><span class='const'>CONST</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~TESTING</span>.<span class='id identifier rubyid_freeze'>freeze</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>This is a heredoc
</span><span class='heredoc_end'>TESTING
</span>
<span class='comment'># good
</span><span class='const'>CONST</span> <span class='op'>=</span> <span class='const'>Something</span>.<span class='id identifier rubyid_new'>new</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_strict">EnforcedStyle: strict</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>CONST</span> <span class='op'>=</span> <span class='const'>Something</span>.<span class='id identifier rubyid_new'>new</span>

<span class='comment'># bad
</span><span class='const'>CONST</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>CONST</span> <span class='op'>=</span> <span class='const'>Something</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_freeze'>freeze</span>

<span class='comment'># good
</span><span class='const'>CONST</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_freeze'>freeze</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># Magic comment - shareable_constant_value: literal
</span>
<span class='comment'># bad
</span><span class='const'>CONST</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]

<span class='comment'># good
</span><span class='comment'># shareable_constant_value: literal
</span><span class='const'>CONST</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_60">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>literals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>literals</code>, <code>strict</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenegatedif">Style/NegatedIf</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of if with a negated condition. Only ifs
without else are considered. There are three different styles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>both</p>
</li>
<li>
<p>prefix</p>
</li>
<li>
<p>postfix</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_132">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_both_default_3">EnforcedStyle: both (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># enforces `unless` for `prefix` and `postfix` conditionals
</span>
<span class='comment'># bad
</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span>
<span class='kw'>unless</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>unless</span> <span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_prefix">EnforcedStyle: prefix</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># enforces `unless` for just `prefix` conditionals
</span>
<span class='comment'># bad
</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span>
<span class='kw'>unless</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_postfix">EnforcedStyle: postfix</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># enforces `unless` for just `postfix` conditionals
</span>
<span class='comment'># bad
</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>unless</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_61">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code>, <code>prefix</code>, <code>postfix</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_74">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#unless-for-negatives" class="bare">https://rubystyle.guide#unless-for-negatives</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenegatedifelsecondition">Style/NegatedIfElseCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>if-else</code> and ternary operators with a negated condition
which can be simplified by inverting condition and swapping branches.</p>
</div>
<div class="sect2">
<h3 id="_examples_133">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_x'>x</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_do_something_else'>do_something_else</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>
  <span class='id identifier rubyid_do_something_else'>do_something_else</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='op'>!</span><span class='id identifier rubyid_x'>x</span> <span class='op'>?</span> <span class='id identifier rubyid_do_something'>do_something</span> <span class='op'>:</span> <span class='id identifier rubyid_do_something_else'>do_something_else</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>?</span> <span class='id identifier rubyid_do_something_else'>do_something_else</span> <span class='op'>:</span> <span class='id identifier rubyid_do_something'>do_something</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenegatedunless">Style/NegatedUnless</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.69</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of unless with a negated condition. Only unless
without else are considered. There are three different styles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>both</p>
</li>
<li>
<p>prefix</p>
</li>
<li>
<p>postfix</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_134">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_both_default_4">EnforcedStyle: both (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># enforces `if` for `prefix` and `postfix` conditionals
</span>
<span class='comment'># bad
</span><span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_bar'>bar</span> <span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_prefix_2">EnforcedStyle: prefix</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># enforces `if` for just `prefix` conditionals
</span>
<span class='comment'># bad
</span><span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_bar'>bar</span> <span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_postfix_2">EnforcedStyle: postfix</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># enforces `if` for just `postfix` conditionals
</span>
<span class='comment'># bad
</span><span class='id identifier rubyid_bar'>bar</span> <span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_62">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code>, <code>prefix</code>, <code>postfix</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_75">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#if-for-negatives" class="bare">https://rubystyle.guide#if-for-negatives</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenegatedwhile">Style/NegatedWhile</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of while with a negated condition.</p>
</div>
<div class="sect2">
<h3 id="_examples_135">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>until</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_bar'>bar</span> <span class='kw'>until</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='id identifier rubyid_bar'>bar</span> <span class='kw'>while</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_baz'>baz</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_76">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#until-for-negatives" class="bare">https://rubystyle.guide#until-for-negatives</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenestedfiledirname">Style/NestedFileDirname</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 3.1
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for nested <code>File.dirname</code>.
It replaces nested <code>File.dirname</code> with the level argument introduced in Ruby 3.1.</p>
</div>
<div class="sect2">
<h3 id="_examples_136">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='id identifier rubyid_path'>path</span>))

<span class='comment'># good
</span><span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='int'>2</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenestedmodifier">Style/NestedModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for nested use of if, unless, while and until in their
modifier form.</p>
</div>
<div class="sect2">
<h3 id="_examples_137">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_something'>something</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span>

<span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span> <span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_a'>a</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_77">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-modifiers" class="bare">https://rubystyle.guide#no-nested-modifiers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenestedparenthesizedcalls">Style/NestedParenthesizedCalls</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.77</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unparenthesized method calls in the argument list
of a parenthesized method call.
<code>be</code>, <code>be_a</code>, <code>be_an</code>, <code>be_between</code>, <code>be_falsey</code>, <code>be_kind_of</code>, <code>be_instance_of</code>,
<code>be_truthy</code>, <code>be_within</code>, <code>eq</code>, <code>eql</code>, <code>end_with</code>, <code>include</code>, <code>match</code>, <code>raise_error</code>,
<code>respond_to</code>, and <code>start_with</code> methods are allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="_examples_138">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_method1'>method1</span>(<span class='id identifier rubyid_method2'>method2</span>(<span class='id identifier rubyid_arg'>arg</span>))

<span class='comment'># bad
</span><span class='id identifier rubyid_method1'>method1</span>(<span class='id identifier rubyid_method2'>method2</span> <span class='id identifier rubyid_arg'>arg</span>)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_foo_2">AllowedMethods: [foo]</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_method1'>method1</span>(<span class='id identifier rubyid_foo'>foo</span> <span class='id identifier rubyid_arg'>arg</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_63">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>be</code>, <code>be_a</code>, <code>be_an</code>, <code>be_between</code>, <code>be_falsey</code>, <code>be_kind_of</code>, <code>be_instance_of</code>, <code>be_truthy</code>, <code>be_within</code>, <code>eq</code>, <code>eql</code>, <code>end_with</code>, <code>include</code>, <code>match</code>, <code>raise_error</code>, <code>respond_to</code>, <code>start_with</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenestedternaryoperator">Style/NestedTernaryOperator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for nested ternary op expressions.</p>
</div>
<div class="sect2">
<h3 id="_examples_139">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>?</span> (<span class='id identifier rubyid_b'>b</span> <span class='op'>?</span> <span class='id identifier rubyid_b1'>b1</span> <span class='op'>:</span> <span class='id identifier rubyid_b2'>b2</span>) <span class='op'>:</span> <span class='id identifier rubyid_a2'>a2</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
  <span class='id identifier rubyid_b'>b</span> <span class='op'>?</span> <span class='id identifier rubyid_b1'>b1</span> <span class='op'>:</span> <span class='id identifier rubyid_b2'>b2</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_a2'>a2</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_78">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-ternary" class="bare">https://rubystyle.guide#no-nested-ternary</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenext">Style/Next</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use <code>next</code> to skip iteration instead of a condition at the end.</p>
</div>
<div class="sect2">
<h3 id="_examples_140">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_skip_modifier_ifs_default">EnforcedStyle: skip_modifier_ifs (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_a'>a</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
  <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='int'>1</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_a'>a</span>
<span class='kw'>end</span>

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_a'>a</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_always_2">EnforcedStyle: always</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># With `always` all conditions at the end of an iteration needs to be
</span><span class='comment'># replaced by next - with `skip_modifier_ifs` the modifier if like
</span><span class='comment'># this one are ignored: `[1, 2].each { |a| puts a if a == 1 }`
</span>
<span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_a'>a</span> <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='int'>1</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_a'>a</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
  <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='int'>1</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_a'>a</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_64">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip_modifier_ifs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip_modifier_ifs</code>, <code>always</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinBodyLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_79">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-conditionals" class="bare">https://rubystyle.guide#no-nested-conditionals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenilcomparison">Style/NilComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.59</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for comparison of something with nil using <code>==</code> and
<code>nil?</code>.</p>
</div>
<div class="paragraph">
<p>Supported styles are: predicate, comparison.</p>
</div>
<div class="sect2">
<h3 id="_examples_141">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_predicate_default">EnforcedStyle: predicate (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_comparison">EnforcedStyle: comparison</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='kw'>nil</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_65">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predicate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predicate</code>, <code>comparison</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_80">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#predicate-methods" class="bare">https://rubystyle.guide#predicate-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenillambda">Style/NilLambda</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.15</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for lambdas and procs that always return nil,
which can be replaced with an empty lambda or proc instead.</p>
</div>
<div class="sect2">
<h3 id="_examples_142">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='kw'>nil</span> }

<span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span>
  <span class='kw'>next</span> <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_proc'>proc</span> { <span class='kw'>nil</span> }

<span class='const'>Proc</span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
  <span class='kw'>break</span> <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span>}

<span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span>
<span class='kw'>end</span>

<span class='tlambda'>-&gt;</span> (<span class='id identifier rubyid_x'>x</span>) <span class='tlambeg'>{</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> }

<span class='id identifier rubyid_proc'>proc</span> {}

<span class='const'>Proc</span>.<span class='id identifier rubyid_new'>new</span> { <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenonnilcheck">Style/NonNilCheck</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for non-nil checks, which are usually redundant.</p>
</div>
<div class="paragraph">
<p>With <code>IncludeSemanticChanges</code> set to <code>false</code> by default, this cop
does not report offenses for <code>!x.nil?</code> and does no changes that might
change behavior.
Also <code>IncludeSemanticChanges</code> set to <code>false</code> with <code>EnforcedStyle: comparison</code> of
<code>Style/NilComparison</code> cop, this cop does not report offenses for <code>x != nil</code> and
does no changes to <code>!x.nil?</code> style.</p>
</div>
<div class="paragraph">
<p>With <code>IncludeSemanticChanges</code> set to <code>true</code>, this cop reports offenses
for <code>!x.nil?</code> and autocorrects that and <code>x != nil</code> to solely <code>x</code>, which
is <strong>usually</strong> OK, but might change behavior.</p>
</div>
<div class="sect2">
<h3 id="_examples_143">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>!=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>
<span class='kw'>end</span>

<span class='comment'># Non-nil checks are allowed if they are the final nodes of predicate.
</span><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_signed_in?'>signed_in?</span>
  <span class='op'>!</span><span class='id identifier rubyid_current_user'>current_user</span>.<span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_includesemanticchanges_false_default">IncludeSemanticChanges: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_includesemanticchanges_true">IncludeSemanticChanges: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_66">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IncludeSemanticChanges</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_81">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-non-nil-checks" class="bare">https://rubystyle.guide#no-non-nil-checks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenot">Style/Not</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the keyword <code>not</code> instead of <code>!</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_144">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - parentheses are required because of op precedence
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> (<span class='kw'>not</span> <span class='id identifier rubyid_something'>something</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_something'>something</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_82">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#bang-not-not" class="bare">https://rubystyle.guide#bang-not-not</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenumberedparameters">Style/NumberedParameters</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for numbered parameters.</p>
</div>
<div class="paragraph">
<p>It can either restrict the use of numbered parameters to
single-lined blocks, or disallow completely numbered parameters.</p>
</div>
<div class="sect2">
<h3 id="_examples_145">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_allow_single_line_default_2">EnforcedStyle: allow_single_line (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid__1'>_1</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_each'>each</span> { <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid__1'>_1</span> }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_disallow_2">EnforcedStyle: disallow</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_each'>each</span> { <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid__1'>_1</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_collection'>collection</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_item'>item</span> }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_67">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_single_line</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_single_line</code>, <code>disallow</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenumberedparameterslimit">Style/NumberedParametersLimit</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects use of an excessive amount of numbered parameters in a
single block. Having too many numbered parameters can make code too
cryptic and hard to read.</p>
</div>
<div class="paragraph">
<p>The cop defaults to registering an offense if there is more than 1 numbered
parameter but this maximum can be configured by setting <code>Max</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_146">Examples</h3>
<div class="sect3">
<h4 id="_max_1_default">Max: 1 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_use_multiple_numbered_parameters'>use_multiple_numbered_parameters</span> { <span class='id identifier rubyid__1'>_1</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid__2'>_2</span><span class='comma'>,</span> <span class='id identifier rubyid__3'>_3</span><span class='comma'>,</span> <span class='id identifier rubyid__4'>_4</span>) }

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each'>each</span> { <span class='id identifier rubyid_use_array_element_as_numbered_parameter'>use_array_element_as_numbered_parameter</span>(<span class='id identifier rubyid__1'>_1</span>) }
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_each'>each</span> { <span class='id identifier rubyid_use_only_hash_value_as_numbered_parameter'>use_only_hash_value_as_numbered_parameter</span>(<span class='id identifier rubyid__2'>_2</span>) }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_68">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenumericliteralprefix">Style/NumericLiteralPrefix</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for octal, hex, binary, and decimal literals using
uppercase prefixes and corrects them to lowercase prefix
or no prefix (in case of decimals).</p>
</div>
<div class="sect2">
<h3 id="_examples_147">Examples</h3>
<div class="sect3">
<h4 id="_enforcedoctalstyle_zero_with_o_default">EnforcedOctalStyle: zero_with_o (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - missing octal prefix
</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>01234</span>

<span class='comment'># bad - uppercase prefix
</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0O1234</span>
<span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0X12AB</span>
<span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0B10101</span>

<span class='comment'># bad - redundant decimal prefix
</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0D1234</span>
<span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0d1234</span>

<span class='comment'># good
</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0o1234</span>
<span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0x12AB</span>
<span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0b10101</span>
<span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>1234</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedoctalstyle_zero_only">EnforcedOctalStyle: zero_only</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0o1234</span>
<span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>0O1234</span>

<span class='comment'># good
</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=</span> <span class='int'>01234</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_69">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedOctalStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zero_with_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zero_with_o</code>, <code>zero_only</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_83">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#numeric-literal-prefixes" class="bare">https://rubystyle.guide#numeric-literal-prefixes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenumericliterals">Style/NumericLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for big numeric literals without <code>_</code> between groups
of digits in them.</p>
</div>
<div class="paragraph">
<p>Additional allowed patterns can be added by adding regexps to
the <code>AllowedPatterns</code> configuration. All regexps are treated
as anchored even if the patterns do not contain anchors (so
<code>\d{4}_\d{4}</code> will allow <code>1234_5678</code> but not <code>1234_5678_9012</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Even if <code>AllowedPatterns</code> are given, autocorrection will
only correct to the standard pattern of an <code>_</code> every 3 digits.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_148">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='int'>1000000</span>
<span class='int'>1_00_000</span>
<span class='int'>1_0000</span>

<span class='comment'># good
</span><span class='int'>1_000_000</span>
<span class='int'>1000</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_strict_false_default">Strict: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='int'>10_000_00</span> <span class='comment'># typical representation of $10,000 in cents</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_strict_true">Strict: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='int'>10_000_00</span> <span class='comment'># typical representation of $10,000 in cents</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowednumbers_3000">AllowedNumbers: [3000]</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='int'>3000</span> <span class='comment'># You can specify allowed numbers. (e.g. port number)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_70">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinDigits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Strict</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedNumbers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_84">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#underscores-in-numerics" class="bare">https://rubystyle.guide#underscores-in-numerics</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylenumericpredicate">Style/NumericPredicate</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.59</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usage of comparison operators (<code>==</code>,
<code>&gt;</code>, <code>&lt;</code>) to test numbers as zero, positive, or negative.
These can be replaced by their respective predicate methods.
This cop can also be configured to do the reverse.</p>
</div>
<div class="paragraph">
<p>This cop can be customized allowed methods with <code>AllowedMethods</code>.
By default, there are no methods to allowed.</p>
</div>
<div class="paragraph">
<p>This cop disregards <code>#nonzero?</code> as its value is truthy or falsey,
but not <code>true</code> and <code>false</code>, and thus not always interchangeable with
<code>!= 0</code>.</p>
</div>
<div class="paragraph">
<p>This cop allows comparisons to global variables, since they are often
populated with objects which can be compared with integers, but are
not themselves <code>Integer</code> polymorphic.</p>
</div>
<div class="sect2">
<h3 id="_safety_40">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
defines the predicates or can be compared to a number, which may lead
to a false positive for non-standard classes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_149">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_predicate_default_2">EnforcedStyle: predicate (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='int'>0</span>
<span class='int'>0</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span> <span class='op'>&gt;</span> <span class='int'>0</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_zero?'>zero?</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_negative?'>negative?</span>
<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span>.<span class='id identifier rubyid_positive?'>positive?</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_comparison_2">EnforcedStyle: comparison</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_zero?'>zero?</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_negative?'>negative?</span>
<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span>.<span class='id identifier rubyid_positive?'>positive?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='int'>0</span>
<span class='int'>0</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span> <span class='op'>&gt;</span> <span class='int'>0</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_default_with_enforcedstyle_predicate">AllowedMethods: [] (default) with EnforcedStyle: predicate</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='int'>0</span>
<span class='int'>0</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span> <span class='op'>&gt;</span> <span class='int'>0</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_with_enforcedstyle_predicate">AllowedMethods: [==] with EnforcedStyle: predicate</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='int'>0</span>

<span class='comment'># bad
</span><span class='int'>0</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span> <span class='op'>&gt;</span> <span class='int'>0</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_default_with_enforcedstyle_comparison">AllowedPatterns: [] (default) with EnforcedStyle: comparison</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_zero?'>zero?</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_negative?'>negative?</span>
<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span>.<span class='id identifier rubyid_positive?'>positive?</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_zero_with_enforcedstyle_predicate">AllowedPatterns: ['zero'] with EnforcedStyle: predicate</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_zero?'>zero?</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_negative?'>negative?</span>
<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span>.<span class='id identifier rubyid_positive?'>positive?</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_71">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predicate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predicate</code>, <code>comparison</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec/**/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_85">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#predicate-methods" class="bare">https://rubystyle.guide#predicate-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleobjectthen">Style/ObjectThen</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of consistent method names
<code>Object#yield_self</code> or <code>Object#then</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_150">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_then_default">EnforcedStyle: then (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_yield_self'>yield_self</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_do_something'>do_something</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_then'>then</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_do_something'>do_something</span> }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_yield_self">EnforcedStyle: yield_self</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_then'>then</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_do_something'>do_something</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_yield_self'>yield_self</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_do_something'>do_something</span> }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_72">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>then</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>then</code>, <code>yield_self</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_86">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#object-yield-self-vs-object-then" class="bare">https://rubystyle.guide#object-yield-self-vs-object-then</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleonelineconditional">Style/OneLineConditional</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of if/then/else/end constructs on a single line.
AlwaysCorrectToMultiline config option can be set to true to auto-convert all offenses to
multi-line constructs. When AlwaysCorrectToMultiline is false (default case) the
autocorrect will first try converting them to ternary operators.</p>
</div>
<div class="sect2">
<h3 id="_examples_151">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span> <span class='kw'>then</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>else</span> <span class='id identifier rubyid_baz'>baz</span> <span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>unless</span> <span class='id identifier rubyid_foo'>foo</span> <span class='kw'>then</span> <span class='id identifier rubyid_baz'>baz</span> <span class='kw'>else</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>?</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>:</span> <span class='id identifier rubyid_baz'>baz</span>

<span class='comment'># good
</span><span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span> <span class='kw'>then</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_73">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AlwaysCorrectToMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_87">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#ternary-operator" class="bare">https://rubystyle.guide#ternary-operator</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleopenstructuse">Style/OpenStructUse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.51</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Flags uses of OpenStruct, as it is now officially discouraged
to be used for performance, version compatibility, and potential security issues.</p>
</div>
<div class="sect2">
<h3 id="_safety_41">Safety</h3>
<div class="paragraph">
<p>Note that this cop may flag false positives; for instance, the following legal
use of a hand-rolled <code>OpenStruct</code> type would be considered an offense:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>module MyNamespace
  class OpenStruct # not the OpenStruct we're looking for
  end

  def new_struct
    OpenStruct.new # resolves to MyNamespace::OpenStruct
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_152">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_point'>point</span> <span class='op'>=</span> <span class='const'>OpenStruct</span>.<span class='id identifier rubyid_new'>new</span>(<span class='label'>x:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>1</span>)

<span class='comment'># good
</span><span class='const'>Point</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_y'>y</span>)
<span class='id identifier rubyid_point'>point</span> <span class='op'>=</span> <span class='const'>Point</span>.<span class='id identifier rubyid_new'>new</span>(<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span>)

<span class='comment'># also good
</span><span class='id identifier rubyid_point'>point</span> <span class='op'>=</span> { <span class='label'>x:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>1</span> }

<span class='comment'># bad
</span><span class='id identifier rubyid_test_double'>test_double</span> <span class='op'>=</span> <span class='const'>OpenStruct</span>.<span class='id identifier rubyid_new'>new</span>(<span class='label'>a:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good (assumes test using rspec-mocks)
</span><span class='id identifier rubyid_test_double'>test_double</span> <span class='op'>=</span> <span class='id identifier rubyid_double'>double</span>
<span class='id identifier rubyid_allow'>allow</span>(<span class='id identifier rubyid_test_double'>test_double</span>).<span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_receive'>receive</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_a'>a</span>).<span class='id identifier rubyid_and_return'>and_return</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_88">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.ruby-lang.org/en/3.0.0/OpenStruct.html#class-OpenStruct-label-Caveats" class="bare">https://docs.ruby-lang.org/en/3.0.0/OpenStruct.html#class-OpenStruct-label-Caveats</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleoperatormethodcall">Style/OperatorMethodCall</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant dot before operator method call.
The target operator methods are <code>|</code>, <code>^</code>, <code>&amp;</code>, <code>&lt;&#8658;</code>, <code>==</code>, <code>===</code>, <code>=~</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>,
<code>&#8656;</code>, <code>&lt;&lt;</code>, <code>&gt;&gt;</code>, <code>+</code>, <code>-</code>, <code><strong></code>, <code>/</code>, <code>%</code>, <code></strong>*</code>, <code>~</code>, <code>!</code>, <code>!=</code>, and <code>!~</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_153">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='op'>+</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='op'>&amp;</span> <span class='id identifier rubyid_bar'>bar</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>+</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_bar'>bar</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_89">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#operator-method-call" class="bare">https://rubystyle.guide#operator-method-call</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleoptionhash">Style/OptionHash</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for options hashes and discourages them if the
current Ruby version supports keyword arguments.</p>
</div>
<div class="sect2">
<h3 id="_examples_154">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_fry'>fry</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_temperature'>temperature</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_temperature'>temperature</span><span class='comma'>,</span> <span class='int'>300</span>)
  <span class='comment'># ...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_fry'>fry</span>(<span class='label'>temperature:</span> <span class='int'>300</span>)
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_74">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SuspiciousParamNames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>options</code>, <code>opts</code>, <code>args</code>, <code>params</code>, <code>parameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allowlist</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_90">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#keyword-arguments-vs-option-hashes" class="bare">https://rubystyle.guide#keyword-arguments-vs-option-hashes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleoptionalarguments">Style/OptionalArguments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for optional arguments to methods
that do not come at the end of the argument list.</p>
</div>
<div class="sect2">
<h3 id="_safety_42">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because changing a method signature will
implicitly change behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_155">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_baz'>baz</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='int'>1</span>)
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foobar'>foobar</span>(<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>2</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='int'>3</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_91">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#optional-arguments" class="bare">https://rubystyle.guide#optional-arguments</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleoptionalbooleanparameter">Style/OptionalBooleanParameter</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where keyword arguments can be used instead of
boolean arguments when defining methods. <code>respond_to_missing?</code> method is allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="_safety_43">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because changing a method signature will
implicitly change behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_156">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>(<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># bad - common hack before keyword args were introduced
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>(<span class='label'>bar:</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_some_method">AllowedMethods: ['some_method']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>(<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='kw'>false</span>)
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_75">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>respond_to_missing?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_92">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#boolean-keyword-arguments" class="bare">https://rubystyle.guide#boolean-keyword-arguments</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleorassignment">Style/OrAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for potential usage of the <code>||=</code> operator.</p>
</div>
<div class="sect2">
<h3 id="_examples_157">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>?</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bozhidar</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>
         <span class='id identifier rubyid_name'>name</span>
       <span class='kw'>else</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bozhidar</span><span class='tstring_end'>&#39;</span></span>
       <span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bozhidar</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bozhidar</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>

<span class='comment'># good - set name to &#39;Bozhidar&#39;, only if it&#39;s nil or false
</span><span class='id identifier rubyid_name'>name</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bozhidar</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_93">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#double-pipe-for-uninit" class="bare">https://rubystyle.guide#double-pipe-for-uninit</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleparallelassignment">Style/ParallelAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for simple usages of parallel assignment.
This will only complain when the number of variables
being assigned matched the number of assigning variables.</p>
</div>
<div class="sect2">
<h3 id="_examples_158">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>
<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>]

<span class='comment'># good
</span><span class='id identifier rubyid_one'>one</span><span class='comma'>,</span> <span class='id identifier rubyid_two'>two</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()
<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span>

<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='int'>3</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_94">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#parallel-assignment" class="bare">https://rubystyle.guide#parallel-assignment</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleparenthesesaroundcondition">Style/ParenthesesAroundCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.56</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of superfluous parentheses around the
condition of if/unless/while/until.</p>
</div>
<div class="paragraph">
<p><code>AllowSafeAssignment</code> option for safe assignment.
By safe assignment we mean putting parentheses around
an assignment to indicate "I know I&#8217;m using an assignment
as a condition. It&#8217;s not a mistake."</p>
</div>
<div class="sect2">
<h3 id="_examples_159">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>while</span> (<span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>10</span>)
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> (<span class='id identifier rubyid_bar'>bar</span> <span class='op'>||</span> <span class='id identifier rubyid_baz'>baz</span>)

<span class='kw'>if</span> (<span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>10</span>)
<span class='kw'>elsif</span> (<span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>3</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>while</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>10</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>||</span> <span class='id identifier rubyid_baz'>baz</span>

<span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>10</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>3</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowsafeassignment_true_default">AllowSafeAssignment: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> (<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='id identifier rubyid_baz'>baz</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowsafeassignment_false">AllowSafeAssignment: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>unless</span> (<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='id identifier rubyid_baz'>baz</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowinmultilineconditions_false_default">AllowInMultilineConditions: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> (<span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>10</span> <span class='op'>&amp;&amp;</span>
   <span class='id identifier rubyid_y'>y</span> <span class='op'>&gt;</span> <span class='int'>10</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span> <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>10</span> <span class='op'>&amp;&amp;</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>&gt;</span> <span class='int'>10</span>
 <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowinmultilineconditions_true">AllowInMultilineConditions: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>if</span> (<span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>10</span> <span class='op'>&amp;&amp;</span>
   <span class='id identifier rubyid_y'>y</span> <span class='op'>&gt;</span> <span class='int'>10</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_76">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSafeAssignment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowInMultilineConditions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_95">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-parens-around-condition" class="bare">https://rubystyle.guide#no-parens-around-condition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylepercentliteraldelimiters">Style/PercentLiteralDelimiters</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the consistent usage of <code>%</code>-literal delimiters.</p>
</div>
<div class="paragraph">
<p>Specify the 'default' key to set all preferred delimiters at once. You
can continue to specify individual preferred delimiters to override the
default.</p>
</div>
<div class="sect2">
<h3 id="_examples_160">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># Style/PercentLiteralDelimiters:
</span><span class='comment'>#   PreferredDelimiters:
</span><span class='comment'>#     default: &#39;[]&#39;
</span><span class='comment'>#     &#39;%i&#39;:    &#39;()&#39;
</span>
<span class='comment'># good
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>alpha</span><span class='words_sep'> </span><span class='tstring_content'>beta</span><span class='tstring_end'>]</span></span> <span class='op'>+</span> <span class='qsymbols'><span class='qsymbols_beg'>%i(</span><span class='tstring_content'>gamma</span><span class='words_sep'> </span><span class='tstring_content'>delta</span><span class='tstring_end'>)</span></span>

<span class='comment'># bad
</span><span class='words'><span class='words_beg'>%W(</span><span class='tstring_content'>alpha</span><span class='words_sep'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_beta'>beta</span><span class='embexpr_end'>}</span><span class='tstring_end'>)</span></span>

<span class='comment'># bad
</span><span class='symbols'><span class='symbols_beg'>%I(</span><span class='tstring_content'>alpha</span><span class='words_sep'> </span><span class='tstring_content'>beta</span><span class='tstring_end'>)</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_77">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreferredDelimiters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"default"&#8658;"()", "%i"&#8658;"[]", "%I"&#8658;"[]", "%r"&#8658;"{}", "%w"&#8658;"[]", "%W"&#8658;"[]"}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_96">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-literal-braces" class="bare">https://rubystyle.guide#percent-literal-braces</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylepercentqliterals">Style/PercentQLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usage of the %Q() syntax when %q() would do.</p>
</div>
<div class="sect2">
<h3 id="_examples_161">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_lower_case_q_default">EnforcedStyle: lower_case_q (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `lower_case_q` style prefers `%q` unless
</span><span class='comment'># interpolation is needed.
</span><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>%Q[</span><span class='tstring_content'>Mix the foo into the baz.</span><span class='tstring_end'>]</span></span>
<span class='tstring'><span class='tstring_beg'>%Q(</span><span class='tstring_content'>They all said: &#39;Hooray!&#39;</span><span class='tstring_end'>)</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>%q[</span><span class='tstring_content'>Mix the foo into the baz</span><span class='tstring_end'>]</span></span>
<span class='tstring'><span class='tstring_beg'>%q(</span><span class='tstring_content'>They all said: &#39;Hooray!&#39;</span><span class='tstring_end'>)</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_upper_case_q">EnforcedStyle: upper_case_q</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `upper_case_q` style requires the sole use of `%Q`.
</span><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>%q/</span><span class='tstring_content'>Mix the foo into the baz.</span><span class='tstring_end'>/</span></span>
<span class='tstring'><span class='tstring_beg'>%q{</span><span class='tstring_content'>They all said: &#39;Hooray!&#39;</span><span class='tstring_end'>}</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>%Q/</span><span class='tstring_content'>Mix the foo into the baz.</span><span class='tstring_end'>/</span></span>
<span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>They all said: &#39;Hooray!&#39;</span><span class='tstring_end'>}</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_78">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lower_case_q</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lower_case_q</code>, <code>upper_case_q</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleperlbackrefs">Style/PerlBackrefs</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of Perl-style regexp match
backreferences and their English versions like
$1, $2, $&amp;, &amp;+, $MATCH, $PREMATCH, etc.</p>
</div>
<div class="sect2">
<h3 id="_examples_162">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_puts'>puts</span> <span class='backref'>$1</span>

<span class='comment'># good
</span><span class='id identifier rubyid_puts'>puts</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_last_match'>last_match</span>(<span class='int'>1</span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_97">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-perl-regexp-last-matchers" class="bare">https://rubystyle.guide#no-perl-regexp-last-matchers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylepreferredhashmethods">Style/PreferredHashMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.70</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of methods <code>Hash#has_key?</code> and
<code>Hash#has_value?</code>, and suggests using <code>Hash#key?</code> and <code>Hash#value?</code> instead.</p>
</div>
<div class="paragraph">
<p>It is configurable to enforce the verbose method names, by using the
<code>EnforcedStyle: verbose</code> configuration.</p>
</div>
<div class="sect2">
<h3 id="_safety_44">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is a <code>Hash</code> or responds to the replacement methods.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_163">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_short_default">EnforcedStyle: short (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Hash</span><span class='comment'>#has_key?
</span><span class='const'>Hash</span><span class='comment'>#has_value?
</span>
<span class='comment'># good
</span><span class='const'>Hash</span><span class='comment'>#key?
</span><span class='const'>Hash</span><span class='comment'>#value?</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_verbose">EnforcedStyle: verbose</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Hash</span><span class='comment'>#key?
</span><span class='const'>Hash</span><span class='comment'>#value?
</span>
<span class='comment'># good
</span><span class='const'>Hash</span><span class='comment'>#has_key?
</span><span class='const'>Hash</span><span class='comment'>#has_value?</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_79">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>short</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>short</code>, <code>verbose</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_98">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#hash-key" class="bare">https://rubystyle.guide#hash-key</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleproc">Style/Proc</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.18</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of Proc.new where Kernel#proc
would be more appropriate.</p>
</div>
<div class="sect2">
<h3 id="_examples_164">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='const'>Proc</span>.<span class='id identifier rubyid_new'>new</span> { <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_n'>n</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> { <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_n'>n</span> }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_99">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#proc" class="bare">https://rubystyle.guide#proc</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylequotedsymbols">Style/QuotedSymbols</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if the quotes used for quoted symbols match the configured defaults.
By default uses the same configuration as <code>Style/StringLiterals</code>; if that
cop is not enabled, the default <code>EnforcedStyle</code> is <code>single_quotes</code>.</p>
</div>
<div class="paragraph">
<p>String interpolation is always kept in double quotes.</p>
</div>
<div class="paragraph">
<p>Note: <code>Lint/SymbolConversion</code> can be used in parallel to ensure that symbols
are not quoted that don&#8217;t need to be. This cop is for configuring the quoting
style to use for symbols that require quotes.</p>
</div>
<div class="sect2">
<h3 id="_examples_165">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_same_as_string_literals_default_single_quotes">EnforcedStyle: same_as_string_literals (default) / single_quotes</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='symbeg'>:&quot;</span><span class='tstring_content'>abc-def</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='symbeg'>:&#39;</span><span class='tstring_content'>abc-def</span><span class='tstring_end'>&#39;</span></span>
<span class='symbeg'>:&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='symbeg'>:&quot;</span><span class='tstring_content'>a\&#39;b</span><span class='tstring_end'>&quot;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_double_quotes">EnforcedStyle: double_quotes</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='symbeg'>:&#39;</span><span class='tstring_content'>abc-def</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='symbeg'>:&quot;</span><span class='tstring_content'>abc-def</span><span class='tstring_end'>&quot;</span></span>
<span class='symbeg'>:&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='symbeg'>:&quot;</span><span class='tstring_content'>a\&#39;b</span><span class='tstring_end'>&quot;</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_80">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>same_as_string_literals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>same_as_string_literals</code>, <code>single_quotes</code>, <code>double_quotes</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleraiseargs">Style/RaiseArgs</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks the args passed to <code>fail</code> and <code>raise</code>. For exploded
style (default), it recommends passing the exception class and message
to <code>raise</code>, rather than construct an instance of the error. It will
still allow passing just a message, or the construction of an error
with more than one argument.</p>
</div>
<div class="paragraph">
<p>The exploded style works identically, but with the addition that it
will also suggest constructing error objects when the exception is
passed multiple arguments.</p>
</div>
<div class="paragraph">
<p>The exploded style has an <code>AllowedCompactTypes</code> configuration
option that takes an Array of exception name Strings.</p>
</div>
<div class="sect2">
<h3 id="_safety_45">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because <code>raise Foo</code> calls <code>Foo.exception</code>, not <code>Foo.new</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_166">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_exploded_default">EnforcedStyle: exploded (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>StandardError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>MyCustomError</span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>MyCustomError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_arg1'>arg1</span><span class='comma'>,</span> <span class='id identifier rubyid_arg2'>arg2</span><span class='comma'>,</span> <span class='id identifier rubyid_arg3'>arg3</span>)
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>MyKwArgError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='label'>key1:</span> <span class='id identifier rubyid_val1'>val1</span><span class='comma'>,</span> <span class='label'>key2:</span> <span class='id identifier rubyid_val2'>val2</span>)

<span class='comment'># With {AllowedCompactTypes} set to [&#39;MyWrappedError&#39;]
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>MyWrappedError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_obj'>obj</span>)
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>MyWrappedError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_obj'>obj</span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_compact_2">EnforcedStyle: compact</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='id identifier rubyid_arg1'>arg1</span><span class='comma'>,</span> <span class='id identifier rubyid_arg2'>arg2</span><span class='comma'>,</span> <span class='id identifier rubyid_arg3'>arg3</span>

<span class='comment'># good
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>StandardError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>MyCustomError</span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>MyCustomError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_arg1'>arg1</span><span class='comma'>,</span> <span class='id identifier rubyid_arg2'>arg2</span><span class='comma'>,</span> <span class='id identifier rubyid_arg3'>arg3</span>)
<span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_81">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exploded</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compact</code>, <code>exploded</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedCompactTypes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_100">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#exception-class-messages" class="bare">https://rubystyle.guide#exception-class-messages</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylerandomwithoffset">Style/RandomWithOffset</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of randomly generated numbers,
added/subtracted with integer literals, as well as those with
Integer#succ and Integer#pred methods. Prefer using ranges instead,
as it clearly states the intentions.</p>
</div>
<div class="sect2">
<h3 id="_examples_167">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_rand'>rand</span>(<span class='int'>6</span>) <span class='op'>+</span> <span class='int'>1</span>
<span class='int'>1</span> <span class='op'>+</span> <span class='id identifier rubyid_rand'>rand</span>(<span class='int'>6</span>)
<span class='id identifier rubyid_rand'>rand</span>(<span class='int'>6</span>) <span class='op'>-</span> <span class='int'>1</span>
<span class='int'>1</span> <span class='op'>-</span> <span class='id identifier rubyid_rand'>rand</span>(<span class='int'>6</span>)
<span class='id identifier rubyid_rand'>rand</span>(<span class='int'>6</span>).<span class='id identifier rubyid_succ'>succ</span>
<span class='id identifier rubyid_rand'>rand</span>(<span class='int'>6</span>).<span class='id identifier rubyid_pred'>pred</span>
<span class='const'>Random</span>.<span class='id identifier rubyid_rand'>rand</span>(<span class='int'>6</span>) <span class='op'>+</span> <span class='int'>1</span>
<span class='const'>Kernel</span>.<span class='id identifier rubyid_rand'>rand</span>(<span class='int'>6</span>) <span class='op'>+</span> <span class='int'>1</span>
<span class='id identifier rubyid_rand'>rand</span>(<span class='int'>0</span><span class='op'>..</span><span class='int'>5</span>) <span class='op'>+</span> <span class='int'>1</span>

<span class='comment'># good
</span><span class='id identifier rubyid_rand'>rand</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>6</span>)
<span class='id identifier rubyid_rand'>rand</span>(<span class='int'>1</span><span class='op'>...</span><span class='int'>7</span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_101">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#random-numbers" class="bare">https://rubystyle.guide#random-numbers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantargument">Style/RedundantArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.55</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for a redundant argument passed to certain methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This cop is limited to methods with single parameter.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Method names and their redundant arguments can be configured like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">Methods:
  join: ''
  sum: 0
  split: ' '
  chomp: "\n"
  chomp!: "\n"
  foo: 2</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_safety_46">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because of the following limitations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This cop matches by method names only and hence cannot tell apart
methods with same name in different classes.</p>
</li>
<li>
<p>This cop may be unsafe if certain special global variables (e.g. <code>$;</code>, <code>$/</code>) are set.
That depends on the nature of the target methods, of course. For example, the default
argument to join is <code>$OUTPUT_FIELD_SEPARATOR</code> (or <code>$,</code>) rather than <code>''</code>, and if that
global is changed, <code>''</code> is no longer a redundant argument.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_examples_168">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_sum'>sum</span>(<span class='int'>0</span>)
<span class='id identifier rubyid_exit'>exit</span>(<span class='kw'>true</span>)
<span class='id identifier rubyid_exit!'>exit!</span>(<span class='kw'>false</span>)
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>first\nsecond</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_chomp'>chomp</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
<span class='const'>A</span>.<span class='id identifier rubyid_foo'>foo</span>(<span class='int'>2</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_join'>join</span>
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_join'>join</span>
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_sum'>sum</span>
<span class='id identifier rubyid_exit'>exit</span>
<span class='id identifier rubyid_exit!'>exit!</span>
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_split'>split</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>first second</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_chomp'>chomp</span>
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>
<span class='const'>A</span>.<span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_82">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Methods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"join"&#8658;"", "sum"&#8658;0, "exit"&#8658;true, "exit!"&#8658;false, "split"&#8658;" ", "chomp"&#8658;"\n", "chomp!"&#8658;"\n"}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantarrayconstructor">Style/RedundantArrayConstructor</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the instantiation of array using redundant <code>Array</code> constructor.
Autocorrect replaces to array literal which is the simplest and fastest.</p>
</div>
<div class="sect2">
<h3 id="_examples_169">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>([])
<span class='const'>Array</span>[]
<span class='const'>Array</span>([])
<span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>])
<span class='const'>Array</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>]
<span class='const'>Array</span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>])

<span class='comment'># good
</span>[]
[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>]
<span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>(<span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>Array</span>.<span class='id identifier rubyid_new'>new</span>(<span class='int'>3</span>) { <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantassignment">Style/RedundantAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant assignment before returning.</p>
</div>
<div class="sect2">
<h3 id="_examples_170">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_x'>x</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>
    <span class='id identifier rubyid_z'>z</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>
    <span class='id identifier rubyid_z'>z</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_y'>y</span>
    <span class='id identifier rubyid_z'>z</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span>
    <span class='id identifier rubyid_z'>z</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>
    <span class='id identifier rubyid_foo'>foo</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_y'>y</span>
    <span class='id identifier rubyid_bar'>bar</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantbegin">Style/RedundantBegin</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.21</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>begin</code> blocks.</p>
</div>
<div class="paragraph">
<p>Currently it checks for code like this:</p>
</div>
<div class="sect2">
<h3 id="_examples_171">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_redundant'>redundant</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_ala'>ala</span>
    <span class='id identifier rubyid_bala'>bala</span>
  <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_something'>something</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_preferred'>preferred</span>
  <span class='id identifier rubyid_ala'>ala</span>
  <span class='id identifier rubyid_bala'>bala</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_something'>something</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_do_something'>do_something</span>

<span class='comment'># bad
</span><span class='comment'># When using Ruby 2.5 or later.
</span><span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>do</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_something'>something</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
    <span class='id identifier rubyid_anything'>anything</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># In Ruby 2.5 or later, you can omit `begin` in `do-end` block.
</span><span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_something'>something</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
  <span class='id identifier rubyid_anything'>anything</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='comment'># Stabby lambdas don&#39;t support implicit `begin` in `do-end` blocks.
</span><span class='tlambda'>-&gt;</span> <span class='kw'>do</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_foo'>foo</span>
  <span class='kw'>rescue</span> <span class='const'>Bar</span>
    <span class='id identifier rubyid_baz'>baz</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_102">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#begin-implicit" class="bare">https://rubystyle.guide#begin-implicit</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantcapitalw">Style/RedundantCapitalW</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usage of the %W() syntax when %w() would do.</p>
</div>
<div class="sect2">
<h3 id="_examples_172">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='words'><span class='words_beg'>%W(</span><span class='tstring_content'>cat</span><span class='words_sep'> </span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>pig</span><span class='tstring_end'>)</span></span>
<span class='words'><span class='words_beg'>%W[</span><span class='tstring_content'>door</span><span class='words_sep'> </span><span class='tstring_content'>wall</span><span class='words_sep'> </span><span class='tstring_content'>floor</span><span class='tstring_end'>]</span></span>

<span class='comment'># good
</span><span class='qwords'><span class='qwords_beg'>%w/</span><span class='tstring_content'>swim</span><span class='words_sep'> </span><span class='tstring_content'>run</span><span class='words_sep'> </span><span class='tstring_content'>bike</span><span class='tstring_end'>/</span></span>
<span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>shirt</span><span class='words_sep'> </span><span class='tstring_content'>pants</span><span class='words_sep'> </span><span class='tstring_content'>shoes</span><span class='tstring_end'>]</span></span>
<span class='words'><span class='words_beg'>%W(</span><span class='tstring_content'>apple</span><span class='words_sep'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fruit'>fruit</span><span class='embexpr_end'>}</span><span class='words_sep'> </span><span class='tstring_content'>grape</span><span class='tstring_end'>)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantcondition">Style/RedundantCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unnecessary conditional expressions.</p>
</div>
<div class="sect2">
<h3 id="_examples_173">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>?</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>:</span> <span class='id identifier rubyid_c'>c</span>

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>||</span> <span class='id identifier rubyid_c'>c</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span>
  <span class='id identifier rubyid_b'>b</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_c'>c</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_b'>b</span> <span class='op'>||</span> <span class='id identifier rubyid_c'>c</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span>
  <span class='id identifier rubyid_b'>b</span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_cond'>cond</span>
  <span class='id identifier rubyid_c'>c</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantconditional">Style/RedundantConditional</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant returning of true/false in conditionals.</p>
</div>
<div class="sect2">
<h3 id="_examples_174">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='id identifier rubyid_y'>y</span>
  <span class='kw'>true</span>
<span class='kw'>else</span>
  <span class='kw'>false</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='id identifier rubyid_y'>y</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>?</span> <span class='kw'>false</span> <span class='op'>:</span> <span class='kw'>true</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>!=</span> <span class='id identifier rubyid_y'>y</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantconstantbase">Style/RedundantConstantBase</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Avoid redundant <code>::</code> prefix on constant.</p>
</div>
<div class="paragraph">
<p>How Ruby searches constant is a bit complicated, and it can often be difficult to
understand from the code whether the <code>::</code> is intended or not. Where <code>Module.nesting</code>
is empty, there is no need to prepend <code>::</code>, so it would be nice to consistently
avoid such meaningless <code>::</code> prefix to avoid confusion.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This cop is disabled if <code>Lint/ConstantResolution</code> cop is enabled to prevent
conflicting rules. Because it respects user configurations that want to enable
<code>Lint/ConstantResolution</code> cop which is disabled by default.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_175">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='op'>::</span><span class='const'>Const</span>

<span class='comment'># good
</span><span class='const'>Const</span>

<span class='comment'># bad
</span><span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
  <span class='op'>::</span><span class='const'>Const</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
  <span class='const'>Const</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>A</span>
  <span class='op'>::</span><span class='const'>Const</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>A</span>
  <span class='op'>::</span><span class='const'>Const</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantcurrentdirectoryinpath">Style/RedundantCurrentDirectoryInPath</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses a redundant current directory in path.</p>
</div>
<div class="sect2">
<h3 id="_examples_176">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>./path/to/feature</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path/to/feature</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantdoublesplathashbraces">Style/RedundantDoubleSplatHashBraces</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant uses of double splat hash braces.</p>
</div>
<div class="sect2">
<h3 id="_examples_177">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_do_something'>do_something</span>(<span class='op'>**</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='id identifier rubyid_qux'>qux</span>})

<span class='comment'># good
</span><span class='id identifier rubyid_do_something'>do_something</span>(<span class='label'>foo:</span> <span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='id identifier rubyid_qux'>qux</span>)

<span class='comment'># bad
</span><span class='id identifier rubyid_do_something'>do_something</span>(<span class='op'>**</span>{<span class='label'>foo:</span> <span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='id identifier rubyid_qux'>qux</span>}.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_options'>options</span>))

<span class='comment'># good
</span><span class='id identifier rubyid_do_something'>do_something</span>(<span class='label'>foo:</span> <span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='id identifier rubyid_qux'>qux</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundanteach">Style/RedundantEach</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.38</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>each</code>.</p>
</div>
<div class="sect2">
<h3 id="_safety_47">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if the receiver
is not an <code>Enumerator</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_178">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_v'>v</span>) }

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_v'>v</span>) }

<span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span>) }

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_with_index'>with_index</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span>) }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span>) }

<span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_each_with_object'>each_with_object</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) }

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_with_object'>with_object</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_each_with_object'>each_with_object</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantexception">Style/RedundantException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for RuntimeError as the argument of raise/fail.</p>
</div>
<div class="sect2">
<h3 id="_examples_179">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># bad - message is not a string
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='const'>Object</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'>Object</span>.<span class='id identifier rubyid_new'>new</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'>Object</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_to_s'>to_s</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_103">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-explicit-runtimeerror" class="bare">https://rubystyle.guide#no-explicit-runtimeerror</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantfetchblock">Style/RedundantFetchBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>fetch(key) { value }</code> can be replaced by <code>fetch(key, value)</code>.</p>
</div>
<div class="paragraph">
<p>In such cases <code>fetch(key, value)</code> method is faster than <code>fetch(key) { value }</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The block string <code>'value'</code> in <code>hash.fetch(:key) { 'value' }</code> is detected
when frozen string literal magic comment is enabled (i.e. <code># frozen_string_literal: true</code>),
but not when disabled.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_48">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
does not have a different implementation of <code>fetch</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_180">Examples</h3>
<div class="sect3">
<h4 id="_safeforconstants_false_default">SafeForConstants: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>) { <span class='int'>5</span> }
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>) { <span class='kw'>true</span> }
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>) { <span class='kw'>nil</span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='int'>5</span>) { <span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span> }
<span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>) { <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span> }

<span class='comment'># good
</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='int'>5</span>)
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='kw'>nil</span>)
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='int'>5</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>)
<span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_safeforconstants_true">SafeForConstants: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>) { <span class='const'>VALUE</span> }

<span class='comment'># good
</span><span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='const'>VALUE</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_83">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SafeForConstants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_104">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/fastruby/fast-ruby#hashfetch-with-argument-vs-hashfetch&#8212;&#8203;block-code" class="bare">https://github.com/fastruby/fast-ruby#hashfetch-with-argument-vs-hashfetch&#8212;&#8203;block-code</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantfileextensioninrequire">Style/RedundantFileExtensionInRequire</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of superfluous <code>.rb</code> extension in
the filename provided to <code>require</code> and <code>require_relative</code>.</p>
</div>
<div class="paragraph">
<p>Note: If the extension is omitted, Ruby tries adding '.rb', '.so',
      and so on to the name until found. If the file named cannot be found,
      a <code>LoadError</code> will be raised.
      There is an edge case where <code>foo.so</code> file is loaded instead of a <code>LoadError</code>
      if <code>foo.so</code> file exists when <code>require 'foo.rb'</code> will be changed to <code>require 'foo'</code>,
      but that seems harmless.</p>
</div>
<div class="sect2">
<h3 id="_examples_181">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo.rb</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>../foo.rb</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo.so</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>../foo</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>../foo.so</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_105">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-explicit-rb-to-require" class="bare">https://rubystyle.guide#no-explicit-rb-to-require</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantfilterchain">Style/RedundantFilterChain</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.57</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies usages of <code>any?</code>, <code>empty?</code> or <code>none?</code> predicate methods
chained to <code>select</code>/<code>filter</code>/<code>find_all</code> and change them to use predicate method instead.</p>
</div>
<div class="sect2">
<h3 id="_safety_49">Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because <code>array.select.any?</code> evaluates all elements
through the <code>select</code> method, while <code>array.any?</code> uses short-circuit evaluation.
In other words, <code>array.select.any?</code> guarantees the evaluation of every element,
but <code>array.any?</code> does not necessarily evaluate all of them.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_182">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }.<span class='id identifier rubyid_any?'>any?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }

<span class='comment'># bad
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }.<span class='id identifier rubyid_empty?'>empty?</span>
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }.<span class='id identifier rubyid_none?'>none?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_none?'>none?</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_relation'>relation</span>.<span class='id identifier rubyid_select'>select</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>).<span class='id identifier rubyid_any?'>any?</span>
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }.<span class='id identifier rubyid_any?'>any?</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_odd?'>odd?</span>)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allcopsactivesupportextensionsenabled_false_default_2">AllCops:ActiveSupportExtensionsEnabled: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }.<span class='id identifier rubyid_many?'>many?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }.<span class='id identifier rubyid_present?'>present?</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allcopsactivesupportextensionsenabled_true_2">AllCops:ActiveSupportExtensionsEnabled: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }.<span class='id identifier rubyid_many?'>many?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_many?'>many?</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }

<span class='comment'># bad
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }.<span class='id identifier rubyid_present?'>present?</span>

<span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>1</span> }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantfreeze">Style/RedundantFreeze</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.66</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for uses of <code>Object#freeze</code> on immutable objects.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Regexp and Range literals are frozen objects since Ruby 3.0.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
From Ruby 3.0, this cop allows explicit freezing of interpolated
string literals when <code># frozen-string-literal: true</code> is used.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_183">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>CONST</span> <span class='op'>=</span> <span class='int'>1</span>.<span class='id identifier rubyid_freeze'>freeze</span>

<span class='comment'># good
</span><span class='const'>CONST</span> <span class='op'>=</span> <span class='int'>1</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantheredocdelimiterquotes">Style/RedundantHeredocDelimiterQuotes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant heredoc delimiter quotes.</p>
</div>
<div class="sect2">
<h3 id="_examples_184">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_do_something'>do_something</span>(<span class='heredoc_beg'>&lt;&lt;~&#39;EOS&#39;</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>no string interpolation style text
</span><span class='heredoc_end'>EOS
</span>
<span class='comment'># good
</span><span class='id identifier rubyid_do_something'>do_something</span>(<span class='heredoc_beg'>&lt;&lt;~EOS</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>no string interpolation style text
</span><span class='heredoc_end'>EOS
</span>
<span class='id identifier rubyid_do_something'>do_something</span>(<span class='heredoc_beg'>&lt;&lt;~&#39;EOS&#39;</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>#{string_interpolation_style_text_not_evaluated}
</span><span class='heredoc_end'>EOS
</span>
<span class='id identifier rubyid_do_something'>do_something</span>(<span class='heredoc_beg'>&lt;&lt;~&#39;EOS&#39;</span>)
<span class='ignored_sp'>  </span><span class='tstring_content'>Preserve \
</span><span class='ignored_sp'>  </span><span class='tstring_content'>newlines
</span><span class='heredoc_end'>EOS</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantinitialize">Style/RedundantInitialize</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>initialize</code> methods that are redundant.</p>
</div>
<div class="paragraph">
<p>An initializer is redundant if it does not do anything, or if it only
calls <code>super</code> with the same arguments given to it. If the initializer takes
an argument that accepts multiple values (<code>restarg</code>, <code>kwrestarg</code>, etc.) it
will not register an offense, because it allows the initializer to take a different
number of arguments as its superclass potentially does.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If an initializer argument has a default value, RuboCop assumes it
to <strong>not</strong> be redundant.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Empty initializers are registered as offenses, but it is possible
to purposely create an empty <code>initialize</code> method to override a superclass&#8217;s
initializer.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_50">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because if subclass overrides <code>initialize</code> method with
a different arity than superclass.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_185">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='kw'>super</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>)
  <span class='kw'>super</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>)
  <span class='kw'>super</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
  <span class='kw'>super</span>
<span class='kw'>end</span>

<span class='comment'># good (different number of parameters)
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span>)
  <span class='kw'>super</span>(<span class='id identifier rubyid_a'>a</span>)
<span class='kw'>end</span>

<span class='comment'># good (default value)
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>5</span>)
  <span class='kw'>super</span>
<span class='kw'>end</span>

<span class='comment'># good (default value)
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>5</span>)
  <span class='kw'>super</span>
<span class='kw'>end</span>

<span class='comment'># good (changes the parameter requirements)
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='op'>*</span>)
<span class='kw'>end</span>

<span class='comment'># good (changes the parameter requirements)
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='op'>**</span>)
<span class='kw'>end</span>

<span class='comment'># good (changes the parameter requirements)
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='op'>...</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowcomments_true_default">AllowComments: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='comment'># Overriding to negate superclass `initialize` method.
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowcomments_false">AllowComments: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='comment'># Overriding to negate superclass `initialize` method.
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_84">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantinterpolation">Style/RedundantInterpolation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for strings that are just an interpolated expression.</p>
</div>
<div class="sect2">
<h3 id="_safety_51">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because when calling a destructive method to string,
the resulting string may have different behavior or raise <code>FrozenError</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># return &#39;ab&#39;
</span><span class='id identifier rubyid_x'>x</span>          <span class='comment'># return &#39;a&#39;
</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># return &#39;ab&#39;
</span><span class='id identifier rubyid_x'>x</span>          <span class='comment'># return &#39;ab&#39;
</span>
<span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_freeze'>freeze</span>
<span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># return &#39;ab&#39;.
</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># raise {FrozenError}.</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_186">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@var</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='ivar'>@var</span>.<span class='id identifier rubyid_to_s'>to_s</span>

<span class='comment'># good if @var is already a String
</span><span class='ivar'>@var</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantlinecontinuation">Style/RedundantLineContinuation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for redundant line continuation.</p>
</div>
<div class="paragraph">
<p>This cop marks a line continuation as redundant if removing the backslash
does not result in a syntax error.
However, a backslash at the end of a comment or
for string concatenation is not redundant and is not considered an offense.</p>
</div>
<div class="sect2">
<h3 id="_examples_187">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>. \
  <span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span> \
  <span class='op'>&amp;.</span><span class='id identifier rubyid_bar'>bar</span> \
    .<span class='id identifier rubyid_baz'>baz</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.
  <span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span>
  <span class='op'>&amp;.</span><span class='id identifier rubyid_bar'>bar</span>
    .<span class='id identifier rubyid_baz'>baz</span>

<span class='comment'># bad
</span>[<span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> \
  <span class='id identifier rubyid_bar'>bar</span>]
{<span class='label'>foo:</span> \
  <span class='id identifier rubyid_bar'>bar</span>}

<span class='comment'># good
</span>[<span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span>
  <span class='id identifier rubyid_bar'>bar</span>]
{<span class='label'>foo:</span>
  <span class='id identifier rubyid_bar'>bar</span>}

<span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> \
  <span class='id identifier rubyid_baz'>baz</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span>
  <span class='id identifier rubyid_baz'>baz</span>)

<span class='comment'># also good - backslash in string concatenation is not redundant
</span><span class='id identifier rubyid_foo'>foo</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span> \
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># also good - backslash at the end of a comment is not redundant
</span><span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='comment'># \
</span>  <span class='id identifier rubyid_baz'>baz</span>)

<span class='comment'># also good - backslash at the line following the newline begins with a + or -,
</span><span class='comment'># it is not redundant
</span><span class='int'>1</span> \
  <span class='op'>+</span> <span class='int'>2</span> \
    <span class='op'>-</span> <span class='int'>3</span>

<span class='comment'># also good - backslash with newline between the method name and its arguments,
</span><span class='comment'># it is not redundant.
</span><span class='id identifier rubyid_some_method'>some_method</span> \
  (<span class='id identifier rubyid_argument'>argument</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantparentheses">Style/RedundantParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant parentheses.</p>
</div>
<div class="sect2">
<h3 id="_examples_188">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>(<span class='id identifier rubyid_x'>x</span>) <span class='kw'>if</span> ((<span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_z'>z</span>).<span class='id identifier rubyid_nil?'>nil?</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span>.<span class='id identifier rubyid_z'>z</span>.<span class='id identifier rubyid_nil?'>nil?</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantpercentq">Style/RedundantPercentQ</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usage of the %q/%Q syntax when '' or "" would do.</p>
</div>
<div class="sect2">
<h3 id="_examples_189">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>%q(</span><span class='tstring_content'>Bruce Wayne</span><span class='tstring_end'>)</span></span>
<span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>%q(</span><span class='tstring_content'>8 o&#39;clock</span><span class='tstring_end'>)</span></span>
<span class='id identifier rubyid_question'>question</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>%q(</span><span class='tstring_content'>&quot;What did you say?&quot;</span><span class='tstring_end'>)</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bruce Wayne</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>8 o&#39;clock</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_question'>question</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;What did you say?&quot;</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_106">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-q" class="bare">https://rubystyle.guide#percent-q</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantregexpargument">Style/RedundantRegexpArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where argument can be replaced from
a deterministic regexp to a string.</p>
</div>
<div class="sect2">
<h3 id="_examples_190">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>f</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byteindex'>byteindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_byterindex'>byterindex</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_partition'>partition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rpartition'>rpartition</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>f</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantregexpcharacterclass">Style/RedundantRegexpCharacterClass</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.85</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unnecessary single-element Regexp character classes.</p>
</div>
<div class="sect2">
<h3 id="_examples_191">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[x]</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x</span><span class='regexp_end'>/</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\s]</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s</span><span class='regexp_end'>/</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/[b]</span><span class='regexp_end'>}</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/b</span><span class='regexp_end'>}</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[ab]</span><span class='regexp_end'>/</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantregexpconstructor">Style/RedundantRegexpConstructor</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the instantiation of regexp using redundant <code>Regexp.new</code> or <code>Regexp.compile</code>.
Autocorrect replaces to regexp literal which is the simplest and fastest.</p>
</div>
<div class="sect2">
<h3 id="_examples_192">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Regexp</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span>)
<span class='const'>Regexp</span>.<span class='id identifier rubyid_compile'>compile</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span>)

<span class='comment'># good
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span>
<span class='const'>Regexp</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>regexp</span><span class='tstring_end'>&#39;</span></span>)
<span class='const'>Regexp</span>.<span class='id identifier rubyid_compile'>compile</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>regexp</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantregexpescape">Style/RedundantRegexpEscape</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.85</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant escapes inside Regexp literals.</p>
</div>
<div class="sect2">
<h3 id="_examples_193">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>foo\/bar</span><span class='regexp_end'>}</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>foo/bar</span><span class='regexp_end'>}</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>foo\/bar</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='regexp_beg'>%r/</span><span class='tstring_content'>foo\/bar</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>foo\!bar</span><span class='regexp_end'>!</span></span>

<span class='comment'># bad
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>a\-b</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>a-b</span><span class='regexp_end'>/</span></span>

<span class='comment'># bad
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\+\-]\d</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[+\-]\d</span><span class='regexp_end'>/</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantreturn">Style/RedundantReturn</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>return</code> expressions.</p>
</div>
<div class="sect2">
<h3 id="_examples_194">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># These bad cases should be extended to handle methods whose body is
</span><span class='comment'># if/else or a case expression with a default branch.
</span>
<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_something'>something</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='id identifier rubyid_one'>one</span>
  <span class='id identifier rubyid_two'>two</span>
  <span class='id identifier rubyid_three'>three</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_something'>something</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_something'>something</span> <span class='kw'>if</span> <span class='id identifier rubyid_something_else'>something_else</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='id identifier rubyid_something'>something</span> <span class='kw'>if</span> <span class='id identifier rubyid_something_else'>something_else</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_y'>y</span>
  <span class='kw'>else</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowmultiplereturnvalues_false_default">AllowMultipleReturnValues: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowmultiplereturnvalues_true">AllowMultipleReturnValues: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_85">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowMultipleReturnValues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_107">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-explicit-return" class="bare">https://rubystyle.guide#no-explicit-return</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantself">Style/RedundantSelf</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant uses of <code>self</code>.</p>
</div>
<div class="paragraph">
<p>The usage of <code>self</code> is only needed when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sending a message to same object with zero arguments in
presence of a method name clash with an argument or a local
variable.</p>
</li>
<li>
<p>Calling an attribute writer to prevent a local variable assignment.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note, with using explicit self you can only send messages with public or
protected scope, you cannot send private messages this way.</p>
</div>
<div class="paragraph">
<p>Note we allow uses of <code>self</code> with operators because it would be awkward
otherwise. Also allows the use of <code>self.it</code> without arguments in blocks,
as in <code>0.times { self.it }</code>, following <code>Lint/ItWithoutArgumentsInBlock</code> cop.</p>
</div>
<div class="sect2">
<h3 id="_examples_195">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_bar'>bar</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_bar'>bar</span>  <span class='comment'># Resolves name clash with the argument.
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_bar'>bar</span>  <span class='comment'># Resolves name clash with the local variable.
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>x</span><span class='words_sep'> </span><span class='tstring_content'>y</span><span class='words_sep'> </span><span class='tstring_content'>z</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_bar'>bar</span><span class='op'>|</span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='op'>==</span> <span class='id identifier rubyid_bar'>bar</span>  <span class='comment'># Resolves name clash with argument of the block.
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_108">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-self-unless-required" class="bare">https://rubystyle.guide#no-self-unless-required</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantselfassignment">Style/RedundantSelfAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where redundant assignments are made for in place
modification methods.</p>
</div>
<div class="sect2">
<h3 id="_safety_52">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because it can produce false positives for
user defined methods having one of the expected names, but not modifying
its receiver in place.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_196">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_ary'>ary</span>)
<span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid_other'>other</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_foo'>foo</span>)
<span class='id identifier rubyid_args'>args</span> <span class='op'>+=</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid_other'>other</span>)

<span class='comment'># bad
</span><span class='kw'>self</span>.<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_ary'>ary</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_ary'>ary</span>)
<span class='kw'>self</span>.<span class='id identifier rubyid_foo'>foo</span> <span class='op'>+=</span> <span class='id identifier rubyid_ary'>ary</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantselfassignmentbranch">Style/RedundantSelfAssignmentBranch</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where conditional branch makes redundant self-assignment.</p>
</div>
<div class="paragraph">
<p>It only detects local variable because it may replace state of instance variable,
class variable, and global variable that have state across methods with <code>nil</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_197">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_condition'>condition</span> <span class='op'>?</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>:</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_condition'>condition</span> <span class='op'>?</span> <span class='id identifier rubyid_foo'>foo</span> <span class='op'>:</span> <span class='id identifier rubyid_bar'>bar</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>unless</span> <span class='id identifier rubyid_condition'>condition</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantsort">Style/RedundantSort</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies instances of sorting and then
taking only the first or last element. The same behavior can
be accomplished without a relatively expensive sort by using
<code>Enumerable#min</code> instead of sorting and taking the first
element and <code>Enumerable#max</code> instead of sorting and taking the
last element. Similarly, <code>Enumerable#min_by</code> and
<code>Enumerable#max_by</code> can replace <code>Enumerable#sort_by</code> calls
after which only the first or last element is used.</p>
</div>
<div class="sect2">
<h3 id="_safety_53">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because <code>sort&#8230;&#8203;last</code> and <code>max</code> may not return the
same element in all cases.</p>
</div>
<div class="paragraph">
<p>In an enumerable where there are multiple elements where <code>a &lt;&#8658; b == 0</code>,
or where the transformation done by the <code>sort_by</code> block has the
same result, <code>sort.last</code> and <code>max</code> (or <code>sort_by.last</code> and <code>max_by</code>)
will return different elements. <code>sort.last</code> will return the last
element but <code>max</code> will return the first element.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>MyString</span> <span class='op'>&lt;</span> <span class='const'><a href="String.html" title="String (class)">String</a></span><span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='id identifier rubyid_strings'>strings</span> <span class='op'>=</span> [<span class='const'>MyString</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test</span><span class='tstring_end'>&#39;</span></span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_strings'>strings</span>.<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_class'>class</span>   <span class='comment'>#=&gt; String
</span><span class='id identifier rubyid_strings'>strings</span>.<span class='id identifier rubyid_max'>max</span>.<span class='id identifier rubyid_class'>class</span>         <span class='comment'>#=&gt; MyString</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_words'>words</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w(</span><span class='tstring_content'>dog</span><span class='words_sep'> </span><span class='tstring_content'>horse</span><span class='words_sep'> </span><span class='tstring_content'>mouse</span><span class='tstring_end'>)</span></span>
<span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_sort_by'>sort_by</span> { <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span>.<span class='id identifier rubyid_length'>length</span> }.<span class='id identifier rubyid_last'>last</span>   <span class='comment'>#=&gt; &#39;mouse&#39;
</span><span class='id identifier rubyid_words'>words</span>.<span class='id identifier rubyid_max_by'>max_by</span> { <span class='op'>|</span><span class='id identifier rubyid_word'>word</span><span class='op'>|</span> <span class='id identifier rubyid_word'>word</span>.<span class='id identifier rubyid_length'>length</span> }         <span class='comment'>#=&gt; &#39;horse&#39;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_198">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_first'>first</span>
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sort'>sort</span>[<span class='int'>0</span>]
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_at'>at</span>(<span class='int'>0</span>)
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_slice'>slice</span>(<span class='int'>0</span>)

<span class='comment'># good
</span>[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_min'>min</span>

<span class='comment'># bad
</span>[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_last'>last</span>
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sort'>sort</span>[<span class='op'>-</span><span class='int'>1</span>]
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_at'>at</span>(<span class='op'>-</span><span class='int'>1</span>)
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sort'>sort</span>.<span class='id identifier rubyid_slice'>slice</span>(<span class='op'>-</span><span class='int'>1</span>)

<span class='comment'># good
</span>[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_max'>max</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>).<span class='id identifier rubyid_first'>first</span>
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)[<span class='int'>0</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>).<span class='id identifier rubyid_at'>at</span>(<span class='int'>0</span>)
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>).<span class='id identifier rubyid_slice'>slice</span>(<span class='int'>0</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_min_by'>min_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)

<span class='comment'># bad
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>).<span class='id identifier rubyid_last'>last</span>
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)[<span class='op'>-</span><span class='int'>1</span>]
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>).<span class='id identifier rubyid_at'>at</span>(<span class='op'>-</span><span class='int'>1</span>)
<span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_sort_by'>sort_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>).<span class='id identifier rubyid_slice'>slice</span>(<span class='op'>-</span><span class='int'>1</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_arr'>arr</span>.<span class='id identifier rubyid_max_by'>max_by</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantsortby">Style/RedundantSortBy</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>sort_by { &#8230;&#8203; }</code> can be replaced by
<code>sort</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_199">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_sort_by'>sort_by</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_sort_by'>sort_by</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_var'>var</span><span class='op'>|</span>
  <span class='id identifier rubyid_var'>var</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_sort'>sort</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleredundantstringescape">Style/RedundantStringEscape</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant escapes in string literals.</p>
</div>
<div class="sect2">
<h3 id="_examples_200">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad - no need to escape # without following {/$/@
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\#foo</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># bad - no need to escape single quotes inside double quoted string
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&#39;foo\&#39;</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># bad - heredocs are also checked for unnecessary escapes
</span><span class='heredoc_beg'>&lt;&lt;~STR</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>\#foo \&quot;foo\&quot;
</span><span class='heredoc_end'>STR
</span>
<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#foo</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\#{no_interpolation}</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;foo&#39;</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\
bar</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='heredoc_beg'>&lt;&lt;~STR</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>#foo &quot;foo&quot;
</span><span class='heredoc_end'>STR</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleregexpliteral">Style/RegexpLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces using <code>//</code> or <code>%r</code> around regular expressions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The following <code>%r</code> cases using a regexp starts with a blank or <code>=</code>
as a method argument allowed to prevent syntax errors.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_do_something'>do_something</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'> regexp</span><span class='regexp_end'>}</span></span> <span class='comment'># `do_something / regexp/` is an invalid syntax.
</span><span class='id identifier rubyid_do_something'>do_something</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>=regexp</span><span class='regexp_end'>}</span></span> <span class='comment'># `do_something /=regexp/` is an invalid syntax.</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_examples_201">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_slashes_default">EnforcedStyle: slashes (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_snake_case'>snake_case</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^[\dA-Z_]+$</span><span class='regexp_end'>}</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>
  foo
  (bar)
  (baz)
</span><span class='regexp_end'>}x</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_snake_case'>snake_case</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\dA-Z_]+$</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
  foo
  (bar)
  (baz)
</span><span class='regexp_end'>/x</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_percent_r">EnforcedStyle: percent_r</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_snake_case'>snake_case</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\dA-Z_]+$</span><span class='regexp_end'>/</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
  foo
  (bar)
  (baz)
</span><span class='regexp_end'>/x</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_snake_case'>snake_case</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^[\dA-Z_]+$</span><span class='regexp_end'>}</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>
  foo
  (bar)
  (baz)
</span><span class='regexp_end'>}x</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_mixed_2">EnforcedStyle: mixed</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_snake_case'>snake_case</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^[\dA-Z_]+$</span><span class='regexp_end'>}</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
  foo
  (bar)
  (baz)
</span><span class='regexp_end'>/x</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_snake_case'>snake_case</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\dA-Z_]+$</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>
  foo
  (bar)
  (baz)
</span><span class='regexp_end'>}x</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowinnerslashes_false_default">AllowInnerSlashes: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># If `false`, the cop will always recommend using `%r` if one or more
</span><span class='comment'># slashes are found in the regexp string.
</span>
<span class='comment'># bad
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>home\/</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>home/</span><span class='regexp_end'>}</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowinnerslashes_true">AllowInnerSlashes: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>home\/</span><span class='regexp_end'>/</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_86">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>slashes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>slashes</code>, <code>percent_r</code>, <code>mixed</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowInnerSlashes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_109">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-r" class="bare">https://rubystyle.guide#percent-r</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylerequireorder">Style/RequireOrder</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sort <code>require</code> and <code>require_relative</code> in alphabetical order.</p>
</div>
<div class="sect2">
<h3 id="_safety_54">Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because it will obviously change the execution order.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_202">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good (sorted within each section separated by a blank line)
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># bad
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>d</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylerescuemodifier">Style/RescueModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>rescue</code> in its modifier form is added for following
reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The syntax of modifier form <code>rescue</code> can be misleading because it
might lead us to believe that <code>rescue</code> handles the given exception
but it actually rescue all exceptions to return the given rescue
block. In this case, value returned by handle_error or
SomeException.</p>
</li>
<li>
<p>Modifier form <code>rescue</code> would rescue all the exceptions. It would
silently skip all exception or errors and handle the error.
Example: If <code>NoMethodError</code> is raised, modifier form rescue would
handle the exception.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_203">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_some_method'>some_method</span> <span class='kw'>rescue</span> <span class='id identifier rubyid_handle_error'>handle_error</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_some_method'>some_method</span> <span class='kw'>rescue</span> <span class='const'>SomeException</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_some_method'>some_method</span>
<span class='kw'>rescue</span>
  <span class='id identifier rubyid_handle_error'>handle_error</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_some_method'>some_method</span>
<span class='kw'>rescue</span> <span class='const'>SomeException</span>
  <span class='id identifier rubyid_handle_error'>handle_error</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_110">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-rescue-modifiers" class="bare">https://rubystyle.guide#no-rescue-modifiers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylerescuestandarderror">Style/RescueStandardError</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for rescuing <code>StandardError</code>. There are two supported
styles <code>implicit</code> and <code>explicit</code>. This cop will not register an offense
if any error other than <code>StandardError</code> is specified.</p>
</div>
<div class="sect2">
<h3 id="_examples_204">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_explicit_default">EnforcedStyle: explicit (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># `explicit` will enforce using `rescue StandardError`
</span><span class='comment'># instead of `rescue`.
</span>
<span class='comment'># bad
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>rescue</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>rescue</span> <span class='const'>OtherError</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='const'>SecurityError</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_implicit">EnforcedStyle: implicit</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># `implicit` will enforce using `rescue` instead of
</span><span class='comment'># `rescue StandardError`.
</span>
<span class='comment'># bad
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>rescue</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>rescue</span> <span class='const'>OtherError</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='const'>SecurityError</span>
  <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_87">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>explicit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>implicit</code>, <code>explicit</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylereturnnil">Style/ReturnNil</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces consistency between <code>return nil</code> and <code>return</code>.</p>
</div>
<div class="paragraph">
<p>This cop is disabled by default. Because there seems to be a perceived semantic difference
between <code>return</code> and <code>return nil</code>. The former can be seen as just halting evaluation,
while the latter might be used when the return value is of specific concern.</p>
</div>
<div class="paragraph">
<p>Supported styles are <code>return</code> and <code>return_nil</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_205">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_return_default">EnforcedStyle: return (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_return_nil">EnforcedStyle: return_nil</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_88">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>return</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>return</code>, <code>return_nil</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylereturnnilinpredicatemethoddefinition">Style/ReturnNilInPredicateMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if <code>return</code> or <code>return nil</code> is used in predicate method definitions.</p>
</div>
<div class="sect2">
<h3 id="_safety_55">Safety</h3>
<div class="paragraph">
<p>Autocorrection is marked as unsafe because the change of the return value
from <code>nil</code> to <code>false</code> could potentially lead to incompatibility issues.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_206">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>

  <span class='id identifier rubyid_do_something?'>do_something?</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>

  <span class='id identifier rubyid_do_something?'>do_something?</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>

  <span class='id identifier rubyid_do_something?'>do_something?</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_foo_3">AllowedMethods: ['foo?']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>

  <span class='id identifier rubyid_do_something?'>do_something?</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_foo">AllowedPatterns: [/foo/]</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span>

  <span class='id identifier rubyid_do_something?'>do_something?</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_89">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_111">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#bool-methods-qmark" class="bare">https://rubystyle.guide#bool-methods-qmark</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesafenavigation">Style/SafeNavigation</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.3
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.27</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Transforms usages of a method call safeguarded by a non <code>nil</code>
check for the variable whose method is being called to
safe navigation (<code>&amp;.</code>). If there is a method chain, all of the methods
in the chain need to be checked for safety, and all of the methods will
need to be changed to use safe navigation.</p>
</div>
<div class="paragraph">
<p>The default for <code>ConvertCodeThatCanStartToReturnNil</code> is <code>false</code>.
When configured to <code>true</code>, this will
check for code in the format <code>!foo.nil? &amp;&amp; foo.bar</code>. As it is written,
the return of this code is limited to <code>false</code> and whatever the return
of the method is. If this is converted to safe navigation,
<code>foo&amp;.bar</code> can start returning <code>nil</code> as well as what the method
returns.</p>
</div>
<div class="paragraph">
<p>The default for <code>MaxChainLength</code> is <code>2</code>
We have limited the cop to not register an offense for method chains
that exceed this option is set.</p>
</div>
<div class="sect2">
<h3 id="_safety_56">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because if a value is <code>false</code>, the resulting
code will have different behavior or raise an error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='id identifier rubyid_x'>x</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_foo'>foo</span>  <span class='comment'># return false
</span><span class='id identifier rubyid_x'>x</span><span class='op'>&amp;.</span><span class='id identifier rubyid_foo'>foo</span>      <span class='comment'># raises NoMethodError</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_207">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_param1'>param1</span><span class='comma'>,</span> <span class='id identifier rubyid_param2'>param2</span>) <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_something'>something</span> } <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_param'>param</span>) { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_something'>something</span> } <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_nil?'>nil?</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='kw'>unless</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_nil?'>nil?</span>

<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_param1'>param1</span><span class='comma'>,</span> <span class='id identifier rubyid_param2'>param2</span>)
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_something'>something</span> }
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_param'>param</span>) { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_something'>something</span> }

<span class='id identifier rubyid_foo'>foo</span> <span class='op'>?</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='op'>:</span> <span class='kw'>nil</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>
<span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='op'>:</span> <span class='kw'>nil</span>
<span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span><span class='op'>&amp;.</span><span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span><span class='op'>&amp;.</span><span class='id identifier rubyid_bar'>bar</span><span class='op'>&amp;.</span><span class='id identifier rubyid_baz'>baz</span>
<span class='id identifier rubyid_foo'>foo</span><span class='op'>&amp;.</span><span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_param1'>param1</span><span class='comma'>,</span> <span class='id identifier rubyid_param2'>param2</span>)
<span class='id identifier rubyid_foo'>foo</span><span class='op'>&amp;.</span><span class='id identifier rubyid_bar'>bar</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_something'>something</span> }
<span class='id identifier rubyid_foo'>foo</span><span class='op'>&amp;.</span><span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_param'>param</span>) { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_something'>something</span> }
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz'>baz</span>.<span class='id identifier rubyid_qux'>qux</span> <span class='comment'># method chain with more than 2 methods
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='comment'># method that `nil` responds to
</span>
<span class='comment'># Method calls that do not use `.`
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># When checking `foo&amp;.empty?` in a conditional, `foo` being `nil` will actually
</span><span class='comment'># do the opposite of what the author intends.
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_empty?'>empty?</span>

<span class='comment'># This could start returning `nil` as well as the return of the method
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>
<span class='op'>!</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>||</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span>

<span class='comment'># Methods that are used on assignment, arithmetic operation or
</span><span class='comment'># comparison should not be converted to use safe navigation
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_baz'>baz</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_baz'>baz</span> <span class='op'>+</span> <span class='id identifier rubyid_bar'>bar</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>if</span> <span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_90">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConvertCodeThatCanStartToReturnNil</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>present?</code>, <code>blank?</code>, <code>presence</code>, <code>try</code>, <code>try!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxChainLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesample">Style/Sample</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies usages of <code>shuffle.first</code>,
<code>shuffle.last</code>, and <code>shuffle[]</code> and change them to use
<code>sample</code> instead.</p>
</div>
<div class="sect2">
<h3 id="_examples_208">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>.<span class='id identifier rubyid_first'>first</span>
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>.<span class='id identifier rubyid_first'>first</span>(<span class='int'>2</span>)
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>.<span class='id identifier rubyid_last'>last</span>
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>.<span class='id identifier rubyid_at'>at</span>(<span class='int'>0</span>)
[<span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>.<span class='id identifier rubyid_slice'>slice</span>(<span class='int'>0</span>)
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>[<span class='int'>2</span>]
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span>]    <span class='comment'># sample(2) will do the same
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>[<span class='int'>0</span><span class='op'>..</span><span class='int'>2</span>]    <span class='comment'># sample(3) will do the same
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>(<span class='label'>random:</span> <span class='const'>Random</span>.<span class='id identifier rubyid_new'>new</span>).<span class='id identifier rubyid_first'>first</span>

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sample'>sample</span>
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_sample'>sample</span>(<span class='int'>3</span>)
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span>]    <span class='comment'># sample(3) might return a longer Array
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>3</span>]    <span class='comment'># sample(3) might return a longer Array
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>[<span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='id identifier rubyid_bar'>bar</span>]
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_shuffle'>shuffle</span>(<span class='label'>random:</span> <span class='const'>Random</span>.<span class='id identifier rubyid_new'>new</span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_112">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/fastruby/fast-ruby#arrayshufflefirst-vs-arraysample-code" class="bare">https://github.com/fastruby/fast-ruby#arrayshufflefirst-vs-arraysample-code</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleselectbyregexp">Style/SelectByRegexp</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for places where an subset of an Enumerable (array,
range, set, etc.; see note below) is calculated based on a <code>Regexp</code>
match, and suggests <code>grep</code> or <code>grep_v</code> instead.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Hashes do not behave as you may expect with <code>grep</code>, which
means that <code>hash.grep</code> is not equivalent to <code>hash.select</code>. Although
RuboCop is limited by static analysis, this cop attempts to avoid
registering an offense when the receiver is a hash (hash literal,
<code>Hash.new</code>, <code>Hash#[]</code>, or <code>to_h</code>/<code>to_hash</code>).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>grep</code> and <code>grep_v</code> were optimized when used without a block
in Ruby 3.0, but may be slower in previous versions.
See <a href="https://bugs.ruby-lang.org/issues/17030" class="bare">https://bugs.ruby-lang.org/issues/17030</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_57">Safety</h3>
<div class="paragraph">
<p>Autocorrection is marked as unsafe because <code>MatchData</code> will
not be created by <code>grep</code>, but may have previously been relied
upon after the <code>match?</code> or <code>=~</code> call.</p>
</div>
<div class="paragraph">
<p>Additionally, the cop cannot guarantee that the receiver of
<code>select</code> or <code>reject</code> is actually an array by static analysis,
so the correction may not be actually equivalent.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_209">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad (select or find_all)
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_match?'>match?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='id identifier rubyid_x'>x</span>) }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_select'>select</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_x'>x</span> }

<span class='comment'># bad (reject)
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_match?'>match?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span>.<span class='id identifier rubyid_match?'>match?</span>(<span class='id identifier rubyid_x'>x</span>) }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span> }
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>regexp</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_x'>x</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_grep'>grep</span>(<span class='id identifier rubyid_regexp'>regexp</span>)
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_grep_v'>grep_v</span>(<span class='id identifier rubyid_regexp'>regexp</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleselfassignment">Style/SelfAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use the shorthand for self-assignment.</p>
</div>
<div class="sect2">
<h3 id="_examples_210">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='int'>1</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>1</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_113">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#self-assignment" class="bare">https://rubystyle.guide#self-assignment</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesemicolon">Style/Semicolon</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for multiple expressions placed on the same line.
It also checks for lines terminated with a semicolon.</p>
</div>
<div class="paragraph">
<p>This cop has <code>AllowAsExpressionSeparator</code> configuration option.
It allows <code>;</code> to separate several expressions on the same line.</p>
</div>
<div class="sect2">
<h3 id="_examples_211">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='int'>1</span><span class='semicolon'>;</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>2</span><span class='semicolon'>;</span>
<span class='id identifier rubyid_baz'>baz</span> <span class='op'>=</span> <span class='int'>3</span><span class='semicolon'>;</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>2</span>
<span class='id identifier rubyid_baz'>baz</span> <span class='op'>=</span> <span class='int'>3</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowasexpressionseparator_false_default">AllowAsExpressionSeparator: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='int'>1</span><span class='semicolon'>;</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>2</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowasexpressionseparator_true">AllowAsExpressionSeparator: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='int'>1</span><span class='semicolon'>;</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='int'>2</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_91">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowAsExpressionSeparator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_114">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-semicolon" class="bare">https://rubystyle.guide#no-semicolon</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesend">Style/Send</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of the send method.</p>
</div>
<div class="sect2">
<h3 id="_examples_212">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>Foo</span>.<span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_bar'>bar</span>)
<span class='id identifier rubyid_quuz'>quuz</span>.<span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_fred'>fred</span>)

<span class='comment'># good
</span><span class='const'>Foo</span>.<span class='id identifier rubyid___send__'>__send__</span>(<span class='id identifier rubyid_bar'>bar</span>)
<span class='id identifier rubyid_quuz'>quuz</span>.<span class='id identifier rubyid_public_send'>public_send</span>(<span class='id identifier rubyid_fred'>fred</span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_115">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#prefer-public-send" class="bare">https://rubystyle.guide#prefer-public-send</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesignalexception">Style/SignalException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.37</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>fail</code> and <code>raise</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_213">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_only_raise_default">EnforcedStyle: only_raise (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `only_raise` style enforces the sole use of `raise`.
</span><span class='comment'># bad
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_fail'>fail</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_watch_out'>watch_out</span>
  <span class='id identifier rubyid_fail'>fail</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='const'>Kernel</span>.<span class='id identifier rubyid_fail'>fail</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_watch_out'>watch_out</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='const'>Kernel</span>.<span class='id identifier rubyid_raise'>raise</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_only_fail">EnforcedStyle: only_fail</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `only_fail` style enforces the sole use of `fail`.
</span><span class='comment'># bad
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_watch_out'>watch_out</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='const'>Kernel</span>.<span class='id identifier rubyid_raise'>raise</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_fail'>fail</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_watch_out'>watch_out</span>
  <span class='id identifier rubyid_fail'>fail</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='const'>Kernel</span>.<span class='id identifier rubyid_fail'>fail</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_semantic_2">EnforcedStyle: semantic</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># The `semantic` style enforces the use of `fail` to signal an
</span><span class='comment'># exception, then will use `raise` to trigger an offense after
</span><span class='comment'># it has been rescued.
</span><span class='comment'># bad
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_watch_out'>watch_out</span>
  <span class='comment'># Error thrown
</span><span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='id identifier rubyid_fail'>fail</span>
<span class='kw'>end</span>

<span class='const'>Kernel</span>.<span class='id identifier rubyid_fail'>fail</span>
<span class='const'>Kernel</span>.<span class='id identifier rubyid_raise'>raise</span>

<span class='comment'># good
</span><span class='kw'>begin</span>
  <span class='id identifier rubyid_fail'>fail</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='comment'># handle it
</span><span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_watch_out'>watch_out</span>
  <span class='id identifier rubyid_fail'>fail</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Preferably with descriptive message</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_explicit_receiver'>explicit_receiver</span>.<span class='id identifier rubyid_fail'>fail</span>
<span class='id identifier rubyid_explicit_receiver'>explicit_receiver</span>.<span class='id identifier rubyid_raise'>raise</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_92">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>only_raise</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>only_raise</code>, <code>only_fail</code>, <code>semantic</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_116">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#prefer-raise-over-fail" class="bare">https://rubystyle.guide#prefer-raise-over-fail</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesingleargumentdig">Style/SingleArgumentDig</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sometimes using <code>dig</code> method ends up with just a single
argument. In such cases, dig should be replaced with <code>[]</code>.</p>
</div>
<div class="paragraph">
<p>Since replacing <code>hash&amp;.dig(:key)</code> with <code>hash[:key]</code> could potentially lead to error,
calls to the <code>dig</code> method using safe navigation will be ignored.</p>
</div>
<div class="sect2">
<h3 id="_safety_58">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is an <code>Enumerable</code> or does not have a nonstandard implementation
of <code>dig</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_214">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{ <span class='label'>key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span> }.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>)
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_dig'>dig</span>(<span class='int'>0</span>)

<span class='comment'># good
</span>{ <span class='label'>key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span> }[<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>]
[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>][<span class='int'>0</span>]

<span class='comment'># good
</span>{ <span class='label'>key1:</span> { <span class='label'>key2:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span> } }.<span class='id identifier rubyid_dig'>dig</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_key1'>key1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_key2'>key2</span>)
[<span class='int'>1</span><span class='comma'>,</span> [<span class='int'>2</span><span class='comma'>,</span> [<span class='int'>3</span>]]].<span class='id identifier rubyid_dig'>dig</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_keys'>keys</span> <span class='op'>=</span> <span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>key1</span><span class='words_sep'> </span><span class='tstring_content'>key2</span><span class='tstring_end'>]</span></span>
{ <span class='label'>key1:</span> { <span class='label'>key2:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span> } }.<span class='id identifier rubyid_dig'>dig</span>(<span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesinglelineblockparams">Style/SingleLineBlockParams</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks whether the block parameters of a single-line
method accepting a block match the names specified via configuration.</p>
</div>
<div class="paragraph">
<p>For instance one can configure <code>reduce</code>(<code>inject</code>) to use |a, e| as
parameters.</p>
</div>
<div class="paragraph">
<p>Configuration option: Methods
Should be set to use this cop. Array of hashes, where each key is the
method name and value - array of argument names.</p>
</div>
<div class="sect2">
<h3 id="_examples_215">Examples</h3>
<div class="sect3">
<h4 id="_methods_reduce_wa_b">Methods: [<code>%w[a b]</code>]</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_reduce'>reduce</span> { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>+</span> <span class='id identifier rubyid_d'>d</span> }
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_reduce'>reduce</span> { <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid__d'>_d</span><span class='op'>|</span> <span class='int'>1</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_reduce'>reduce</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span> }
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_reduce'>reduce</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid__b'>_b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> }
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_reduce'>reduce</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> (<span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span>)<span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='id identifier rubyid_id'>id</span> }
<span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_reduce'>reduce</span> { <span class='kw'>true</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_reduce'>reduce</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_d'>d</span><span class='op'>|</span>
  <span class='id identifier rubyid_c'>c</span> <span class='op'>+</span> <span class='id identifier rubyid_d'>d</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_93">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Methods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"reduce"&#8658;["acc", "elem"]}</code>, <code>{"inject"&#8658;["acc", "elem"]}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesinglelinedoendblock">Style/SingleLineDoEndBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for single-line <code>do</code>&#8230;&#8203;<code>end</code> block.</p>
</div>
<div class="paragraph">
<p>In practice a single line <code>do</code>&#8230;&#8203;<code>end</code> is autocorrected when <code>EnforcedStyle: semantic</code>
in <code>Style/BlockDelimiters</code>. The autocorrection maintains the <code>do</code> &#8230;&#8203; <code>end</code> syntax to
preserve semantics and does not change it to <code>{</code>&#8230;&#8203;<code>}</code> block.</p>
</div>
<div class="sect2">
<h3 id="_examples_216">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span> <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_arg'>arg</span>) <span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
  <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_arg'>arg</span>)
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_arg'>arg</span>) <span class='kw'>do</span> <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_arg'>arg</span>) <span class='kw'>end</span>

<span class='comment'># good
</span><span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_arg'>arg</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_bar'>bar</span>(<span class='id identifier rubyid_arg'>arg</span>) }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_117">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#single-line-do-end-block" class="bare">https://rubystyle.guide#single-line-do-end-block</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesinglelinemethods">Style/SingleLineMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for single-line method definitions that contain a body.
It will accept single-line methods with no body.</p>
</div>
<div class="paragraph">
<p>Endless methods added in Ruby 3.0 are also accepted by this cop.</p>
</div>
<div class="paragraph">
<p>If <code>Style/EndlessMethod</code> is enabled with <code>EnforcedStyle: allow_single_line</code> or
<code>allow_always</code>, single-line methods will be autocorrected to endless
methods if there is only one statement in the body.</p>
</div>
<div class="sect2">
<h3 id="_examples_217">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span><span class='semicolon'>;</span> <span class='id identifier rubyid_body'>body</span> <span class='kw'>end</span>
<span class='kw'>def</span> <span class='id identifier rubyid_link_to'>link_to</span>(<span class='id identifier rubyid_url'>url</span>)<span class='semicolon'>;</span> {<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_url'>url</span>}<span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='kw'>def</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_columns'>columns</span><span class='semicolon'>;</span> <span class='kw'>super</span><span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_resource_class='>resource_class=</span>(<span class='id identifier rubyid_klass'>klass</span>)<span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='kw'>def</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_columns'>columns</span><span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>() <span class='op'>=</span> <span class='id identifier rubyid_body'>body</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowifmethodisempty_true_default">AllowIfMethodIsEmpty: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_no_op'>no_op</span><span class='semicolon'>;</span> <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowifmethodisempty_false">AllowIfMethodIsEmpty: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_no_op'>no_op</span><span class='semicolon'>;</span> <span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_94">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowIfMethodIsEmpty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_118">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-single-line-methods" class="bare">https://rubystyle.guide#no-single-line-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleslicingwithrange">Style/SlicingWithRange</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that arrays are not sliced with the redundant <code>ary[0..-1]</code>, replacing it with <code>ary</code>,
and ensures arrays are sliced with endless ranges instead of <code>ary[start..-1]</code> on Ruby 2.6+,
and with beginless ranges instead of <code>ary[nil..end]</code> on Ruby 2.7+.</p>
</div>
<div class="sect2">
<h3 id="_safety_59">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because <code>x..-1</code> and <code>x..</code> are only guaranteed to
be equivalent for <code>Array#[]</code>, <code>String#[]</code>, and the cop cannot determine what class
the receiver is.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sum'>sum</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> { <span class='op'>|</span><span class='id identifier rubyid_ary'>ary</span><span class='op'>|</span> <span class='id identifier rubyid_ary'>ary</span>.<span class='id identifier rubyid_sum'>sum</span> }
<span class='id identifier rubyid_sum'>sum</span>[<span class='op'>-</span><span class='int'>3</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>] <span class='comment'># =&gt; -6
</span><span class='id identifier rubyid_sum'>sum</span>[<span class='op'>-</span><span class='int'>3</span><span class='op'>..</span>] <span class='comment'># Hangs forever</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_218">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_items'>items</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
<span class='id identifier rubyid_items'>items</span>[<span class='int'>0</span><span class='op'>..</span><span class='kw'>nil</span>]
<span class='id identifier rubyid_items'>items</span>[<span class='int'>0</span><span class='op'>...</span><span class='kw'>nil</span>]

<span class='comment'># good
</span><span class='id identifier rubyid_items'>items</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_items'>items</span>[<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]   <span class='comment'># Ruby 2.6+
</span><span class='id identifier rubyid_items'>items</span>[<span class='int'>1</span><span class='op'>..</span><span class='kw'>nil</span>]  <span class='comment'># Ruby 2.6+
</span>
<span class='comment'># good
</span><span class='id identifier rubyid_items'>items</span>[<span class='int'>1</span><span class='op'>..</span>]     <span class='comment'># Ruby 2.6+
</span>
<span class='comment'># bad
</span><span class='id identifier rubyid_items'>items</span>[<span class='kw'>nil</span><span class='op'>..</span><span class='int'>42</span>] <span class='comment'># Ruby 2.7+
</span>
<span class='comment'># good
</span><span class='id identifier rubyid_items'>items</span>[<span class='op'>..</span><span class='int'>42</span>]    <span class='comment'># Ruby 2.7+
</span><span class='id identifier rubyid_items'>items</span>[<span class='int'>0</span><span class='op'>..</span><span class='int'>42</span>]   <span class='comment'># Ruby 2.7+</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_119">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#slicing-with-ranges" class="bare">https://rubystyle.guide#slicing-with-ranges</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesolenestedconditional">Style/SoleNestedConditional</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the branch of a conditional consists solely of a conditional node,
its conditions can be combined with the conditions of the outer branch.
This helps to keep the nesting level from getting too deep.</p>
</div>
<div class="sect2">
<h3 id="_examples_219">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
    <span class='id identifier rubyid_do_something'>do_something</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowmodifier_false_default">AllowModifier: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowmodifier_true">AllowModifier: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span>
  <span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_condition_b'>condition_b</span>
  <span class='id identifier rubyid_do_something'>do_something</span>
<span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition_a'>condition_a</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_95">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowModifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylespecialglobalvars">Style/SpecialGlobalVars</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of Perl-style global variables.
Correcting to global variables in the 'English' library
will add a require statement to the top of the file if
enabled by RequireEnglish config.</p>
</div>
<div class="paragraph">
<p>Like <code>use_perl_names</code> but allows builtin global vars.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$LOAD_PATH</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$LOADED_FEATURES</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$PROGRAM_NAME</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='const'>ARGV</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$:</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$&quot;</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$0</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$!</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$@</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$;</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$,</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$/</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$\</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$.</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$_</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$&gt;</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$&lt;</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$$</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$?</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$~</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$=</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$*</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_safety_60">Safety</h3>
<div class="paragraph">
<p>Autocorrection is marked as unsafe because if <code>RequireEnglish</code> is not
true, replacing perl-style variables with english variables will break.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_220">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_use_english_names_default">EnforcedStyle: use_english_names (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>English</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># or this could be in another file.
</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$LOAD_PATH</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$LOADED_FEATURES</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$PROGRAM_NAME</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$ERROR_INFO</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$ERROR_POSITION</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$FIELD_SEPARATOR</span> <span class='comment'># or $FS
</span><span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$OUTPUT_FIELD_SEPARATOR</span> <span class='comment'># or $OFS
</span><span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$INPUT_RECORD_SEPARATOR</span> <span class='comment'># or $RS
</span><span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$OUTPUT_RECORD_SEPARATOR</span> <span class='comment'># or $ORS
</span><span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$INPUT_LINE_NUMBER</span> <span class='comment'># or $NR
</span><span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$LAST_READ_LINE</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$DEFAULT_OUTPUT</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$DEFAULT_INPUT</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$PROCESS_ID</span> <span class='comment'># or $PID
</span><span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$CHILD_STATUS</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$LAST_MATCH_INFO</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$IGNORECASE</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$ARGV</span> <span class='comment'># or ARGV</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_use_perl_names">EnforcedStyle: use_perl_names</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$:</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$&quot;</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$0</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$!</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$@</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$;</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$,</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$/</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$\</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$.</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$_</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$&gt;</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$&lt;</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$$</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$?</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$~</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$=</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='gvar'>$*</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_use_builtin_english_names">EnforcedStyle: use_builtin_english_names</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_96">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequireEnglish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>use_english_names</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>use_perl_names</code>, <code>use_english_names</code>, <code>use_builtin_english_names</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_120">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-cryptic-perlisms" class="bare">https://rubystyle.guide#no-cryptic-perlisms</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestabbylambdaparentheses">Style/StabbyLambdaParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for parentheses around stabby lambda arguments.
There are two different styles. Defaults to <code>require_parentheses</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_221">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_require_parentheses_default_3">EnforcedStyle: require_parentheses (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tlambda'>-&gt;</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span><span class='id identifier rubyid_c'>c</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='id identifier rubyid_c'>c</span> }

<span class='comment'># good
</span><span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span><span class='id identifier rubyid_c'>c</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='id identifier rubyid_c'>c</span>}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_require_no_parentheses_2">EnforcedStyle: require_no_parentheses</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span><span class='id identifier rubyid_c'>c</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='id identifier rubyid_c'>c</span> }

<span class='comment'># good
</span><span class='tlambda'>-&gt;</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span><span class='id identifier rubyid_c'>c</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>+</span> <span class='id identifier rubyid_c'>c</span>}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_97">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code>, <code>require_no_parentheses</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_121">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#stabby-lambda-with-args" class="bare">https://rubystyle.guide#stabby-lambda-with-args</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestaticclass">Style/StaticClass</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where classes with only class methods can be
replaced with a module. Classes should be used only when it makes sense to create
instances out of them.</p>
</div>
<div class="sect2">
<h3 id="_safety_61">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because it is possible that this class is a parent
for some other subclass, monkey-patched with instance methods or
a dummy instance is instantiated from it somewhere.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_222">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_some_method'>some_method</span>
    <span class='comment'># body omitted
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_some_other_method'>some_other_method</span>
    <span class='comment'># body omitted
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>SomeModule</span>
  <span class='id identifier rubyid_module_function'>module_function</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>
    <span class='comment'># body omitted
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_some_other_method'>some_other_method</span>
    <span class='comment'># body omitted
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good - has instance method
</span><span class='kw'>class</span> <span class='const'>SomeClass</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_instance_method'>instance_method</span><span class='semicolon'>;</span> <span class='kw'>end</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class_method'>class_method</span><span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_122">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#modules-vs-classes" class="bare">https://rubystyle.guide#modules-vs-classes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestderrputs">Style/StderrPuts</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>$stderr.puts</code> can be replaced by
<code>warn</code>. The latter has the advantage of easily being disabled by,
the <code>-W0</code> interpreter flag or setting <code>$VERBOSE</code> to <code>nil</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_223">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_warn'>warn</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_123">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#warn" class="bare">https://rubystyle.guide#warn</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestringchars">Style/StringChars</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>String#split</code> with empty string or regexp literal argument.</p>
</div>
<div class="sect2">
<h3 id="_safety_62">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is actually a string. If another class has a <code>split</code> method with
different behavior, it would be registered as a false positive.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_224">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span>)
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)

<span class='comment'># good
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_chars'>chars</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_124">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#string-chars" class="bare">https://rubystyle.guide#string-chars</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestringconcatenation">Style/StringConcatenation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.18</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where string concatenation
can be replaced with string interpolation.</p>
</div>
<div class="paragraph">
<p>The cop can autocorrect simple cases but will skip autocorrecting
more complex cases where the resulting code would be harder to read.
In those cases, it might be useful to extract statements to local
variables or methods which you can then interpolate in a string.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When concatenation between two strings is broken over multiple
lines, this cop does not register an offense; instead,
<code>Style/LineEndConcatenation</code> will pick up the offense if enabled.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Two modes are supported:
1. <code>aggressive</code> style checks and corrects all occurrences of <code>` where
either the left or right side of `</code> is a string literal.
2. <code>conservative</code> style on the other hand, checks and corrects only if
left side (receiver of <code>+</code> method call) is a string literal.
This is useful when the receiver is some expression that returns string like <code>Pathname</code>
instead of a string literal.</p>
</div>
<div class="sect2">
<h3 id="_safety_63">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe in <code>aggressive</code> mode, as it cannot be guaranteed that
the receiver is actually a string, which can result in a false positive.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_225">Examples</h3>
<div class="sect3">
<h4 id="_mode_aggressive_default">Mode: aggressive (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_email_with_name'>email_with_name</span> <span class='op'>=</span> <span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> &lt;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_email'>email</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>Pathname</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_email_with_name'>email_with_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> &lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_email'>email</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_email_with_name'>email_with_name</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s &lt;%s&gt;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_email'>email</span>)
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Pathname</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_content'>test</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># accepted, line-end concatenation
</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>First</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Last</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mode_conservative">Mode: conservative</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_name'>name</span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_user'>user</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>!!</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>Pathname</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>test</span><span class='tstring_end'>&#39;</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_98">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aggressive</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_125">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#string-interpolation" class="bare">https://rubystyle.guide#string-interpolation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestringhashkeys">Style/StringHashKeys</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.75</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of strings as keys in hashes. The use of
symbols is preferred instead.</p>
</div>
<div class="sect2">
<h3 id="_safety_64">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because while symbols are preferred for hash keys,
there are instances when string keys are required.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_226">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>{ <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>one</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>two</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>three</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>3</span> }

<span class='comment'># good
</span>{ <span class='label'>one:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>two:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>three:</span> <span class='int'>3</span> }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_126">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#symbols-as-keys" class="bare">https://rubystyle.guide#symbols-as-keys</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestringliterals">Style/StringLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if uses of quotes match the configured preference.</p>
</div>
<div class="sect2">
<h3 id="_examples_227">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_single_quotes_default">EnforcedStyle: single_quotes (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No special symbols</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No string interpolation</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Just text</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No special symbols</span><span class='tstring_end'>&#39;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No string interpolation</span><span class='tstring_end'>&#39;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Just text</span><span class='tstring_end'>&#39;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Wait! What&#39;s </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_this'>this</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_double_quotes_2">EnforcedStyle: double_quotes</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Just some text</span><span class='tstring_end'>&#39;</span></span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No special chars or interpolation</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Just some text</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No special chars or interpolation</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Every string in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project'>project</span><span class='embexpr_end'>}</span><span class='tstring_content'> uses double_quotes</span><span class='tstring_end'>&quot;</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_99">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_quotes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_quotes</code>, <code>double_quotes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConsistentQuotesInMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_127">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#consistent-string-literals" class="bare">https://rubystyle.guide#consistent-string-literals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestringliteralsininterpolation">Style/StringLiteralsInInterpolation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that quotes inside string, symbol, and regexp interpolations
match the configured preference.</p>
</div>
<div class="sect2">
<h3 id="_examples_228">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_single_quotes_default_2">EnforcedStyle: single_quotes (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_symbol'>symbol</span> <span class='op'>=</span> <span class='symbeg'>:&quot;</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_heredoc'>heredoc</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~TEXT</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>TEXT
</span><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_symbol'>symbol</span> <span class='op'>=</span> <span class='symbeg'>:&quot;</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_heredoc'>heredoc</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~TEXT</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>TEXT
</span><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_double_quotes_3">EnforcedStyle: double_quotes</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_symbol'>symbol</span> <span class='op'>=</span> <span class='symbeg'>:&quot;</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_heredoc'>heredoc</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~TEXT</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>TEXT
</span><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span>

<span class='comment'># good
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_symbol'>symbol</span> <span class='op'>=</span> <span class='symbeg'>:&quot;</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_heredoc'>heredoc</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~TEXT</span>
<span class='ignored_sp'>  </span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>TEXT
</span><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Tests </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_success'>success</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PASS</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAIL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_100">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_quotes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_quotes</code>, <code>double_quotes</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestringmethods">Style/StringMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of consistent method names
from the String class.</p>
</div>
<div class="sect2">
<h3 id="_examples_229">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_intern'>intern</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>var</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unfavored_method'>unfavored_method</span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_to_sym'>to_sym</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>var</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_preferred_method'>preferred_method</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_101">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreferredMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"intern"&#8658;"to_sym"}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestrip">Style/Strip</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>lstrip.rstrip</code> can be replaced by
<code>strip</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_230">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_lstrip'>lstrip</span>.<span class='id identifier rubyid_rstrip'>rstrip</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_rstrip'>rstrip</span>.<span class='id identifier rubyid_lstrip'>lstrip</span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_strip'>strip</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylestructinheritance">Style/StructInheritance</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for inheritance from Struct.new.</p>
</div>
<div class="sect2">
<h3 id="_safety_65">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because it will change the inheritance
tree (e.g. return value of <code>Module#ancestors</code>) of the constant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_231">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Person</span> <span class='op'>&lt;</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first_name'>first_name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_last_name'>last_name</span>)
  <span class='kw'>def</span> <span class='id identifier rubyid_age'>age</span>
    <span class='int'>42</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>Person</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first_name'>first_name</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_last_name'>last_name</span>) <span class='kw'>do</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_age'>age</span>
    <span class='int'>42</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_128">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-extend-struct-new" class="bare">https://rubystyle.guide#no-extend-struct-new</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesuperwithargsparentheses">Style/SuperWithArgsParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the presence of parentheses in <code>super</code> containing arguments.</p>
</div>
<div class="paragraph">
<p><code>super</code> is a keyword and is provided as a distinct cop from those designed for method call.</p>
</div>
<div class="sect2">
<h3 id="_examples_232">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>super</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_age'>age</span>

<span class='comment'># good
</span><span class='kw'>super</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_age'>age</span>)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_129">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#super-with-args" class="bare">https://rubystyle.guide#super-with-args</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleswapvalues">Style/SwapValues</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of shorthand-style swapping of 2 variables.</p>
</div>
<div class="sect2">
<h3 id="_safety_66">Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe, because the temporary variable used to
swap variables will be removed, but may be referred to elsewhere.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_233">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>
<span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>
<span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='id identifier rubyid_tmp'>tmp</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_130">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#values-swapping" class="bare">https://rubystyle.guide#values-swapping</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesymbolarray">Style/SymbolArray</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for array literals made up of symbols that are not
using the %i() syntax.</p>
</div>
<div class="paragraph">
<p>Alternatively, it checks for symbol arrays using the %i() syntax on
projects which do not want to use that syntax, perhaps because they
support a version of Ruby lower than 2.0.</p>
</div>
<div class="paragraph">
<p>Configuration option: MinSize
If set, arrays with fewer elements than this value will not trigger the
cop. For example, a <code>MinSize</code> of <code>3</code> will not enforce a style on an
array of 2 or fewer elements.</p>
</div>
<div class="sect2">
<h3 id="_examples_234">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_percent_default">EnforcedStyle: percent (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='tstring_end'>]</span></span>

<span class='comment'># bad
</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>]

<span class='comment'># bad (contains spaces)
</span><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo\ bar</span><span class='words_sep'> </span><span class='tstring_content'>baz\ quux</span><span class='tstring_end'>]</span></span>

<span class='comment'># bad (contains [] with spaces)
</span><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>\[</span><span class='words_sep'> </span><span class='tstring_content'>\]</span><span class='tstring_end'>]</span></span>

<span class='comment'># bad (contains () with spaces)
</span><span class='qsymbols'><span class='qsymbols_beg'>%i(</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>\(</span><span class='words_sep'> </span><span class='tstring_content'>\)</span><span class='tstring_end'>)</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_brackets">EnforcedStyle: brackets</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>]

<span class='comment'># bad
</span><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='tstring_end'>]</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_102">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent</code>, <code>brackets</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_131">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-i" class="bare">https://rubystyle.guide#percent-i</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesymbolliteral">Style/SymbolLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks symbol literal syntax.</p>
</div>
<div class="sect2">
<h3 id="_examples_235">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='symbeg'>:&quot;</span><span class='tstring_content'>symbol</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='symbeg'>:</span><span class='id identifier rubyid_symbol'>symbol</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylesymbolproc">Style/SymbolProc</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use symbols as procs when possible.</p>
</div>
<div class="paragraph">
<p>If you prefer a style that allows block for method with arguments,
please set <code>true</code> to <code>AllowMethodsWithArguments</code>.
<code>define_method?</code> methods are allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="_safety_67">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because there is a difference that a <code>Proc</code>
generated from <code>Symbol#to_proc</code> behaves as a lambda, while
a <code>Proc</code> generated from a block does not.
For example, a lambda will raise an <code>ArgumentError</code> if the
number of arguments is wrong, but a non-lambda <code>Proc</code> will not.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_bar'>bar</span>
    <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_block'>block</span>.<span class='id identifier rubyid_call'>call</span>(<span class='const'>Foo</span>.<span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>

<span class='id identifier rubyid_call'>call</span> { <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_bar'>bar</span> }
<span class='comment'>#=&gt; :bar
</span><span class='id identifier rubyid_call'>call</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>)
<span class='comment'># ArgumentError: wrong number of arguments (given 1, expected 0)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It is also unsafe because <code>Symbol#to_proc</code> does not work with
<code>protected</code> methods which would otherwise be accessible.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Box</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
    <span class='ivar'>@secret</span> <span class='op'>=</span> <span class='id identifier rubyid_rand'>rand</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_normal_matches?'>normal_matches?</span>(<span class='op'>*</span><span class='id identifier rubyid_others'>others</span>)
    <span class='id identifier rubyid_others'>others</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_other'>other</span><span class='op'>|</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_secret'>secret</span> }.<span class='id identifier rubyid_any?'>any?</span>(<span class='id identifier rubyid_secret'>secret</span>)
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_symbol_to_proc_matches?'>symbol_to_proc_matches?</span>(<span class='op'>*</span><span class='id identifier rubyid_others'>others</span>)
    <span class='id identifier rubyid_others'>others</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_secret'>secret</span>).<span class='id identifier rubyid_any?'>any?</span>(<span class='id identifier rubyid_secret'>secret</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_protected'>protected</span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_secret'>secret</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_boxes'>boxes</span> <span class='op'>=</span> [<span class='const'>Box</span>.<span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='const'>Box</span>.<span class='id identifier rubyid_new'>new</span>]
<span class='const'>Box</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_normal_matches?'>normal_matches?</span>(<span class='op'>*</span><span class='id identifier rubyid_boxes'>boxes</span>)
<span class='comment'># =&gt; false
</span><span class='id identifier rubyid_boxes'>boxes</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_normal_matches?'>normal_matches?</span>(<span class='op'>*</span><span class='id identifier rubyid_boxes'>boxes</span>)
<span class='comment'># =&gt; true
</span><span class='const'>Box</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_symbol_to_proc_matches?'>symbol_to_proc_matches?</span>(<span class='op'>*</span><span class='id identifier rubyid_boxes'>boxes</span>)
<span class='comment'># =&gt; NoMethodError: protected method `secret&#39; called for #&lt;Box...&gt;
</span><span class='id identifier rubyid_boxes'>boxes</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_symbol_to_proc_matches?'>symbol_to_proc_matches?</span>(<span class='op'>*</span><span class='id identifier rubyid_boxes'>boxes</span>)
<span class='comment'># =&gt; NoMethodError: protected method `secret&#39; called for #&lt;Box...&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_236">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span> }
<span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_map'>map</span> { <span class='id identifier rubyid__1'>_1</span>.<span class='id identifier rubyid_upcase'>upcase</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_upcase'>upcase</span>)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allowmethodswitharguments_false_default">AllowMethodsWithArguments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_foo'>foo</span>) { <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_bar'>bar</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowmethodswitharguments_true">AllowMethodsWithArguments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_foo'>foo</span>) { <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_bar'>bar</span> }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowcomments_false_default_2">AllowComments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='comment'># some comment
</span>  <span class='comment'># some comment
</span>  <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span> <span class='comment'># some comment
</span>  <span class='comment'># some comment
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowcomments_true_2">AllowComments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good  - if there are comment in either position
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_do_something'>do_something</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='comment'># some comment
</span>  <span class='comment'># some comment
</span>  <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span> <span class='comment'># some comment
</span>  <span class='comment'># some comment
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_define_method_default">AllowedMethods: [define_method] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_define_method'>define_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) { <span class='op'>|</span><span class='id identifier rubyid_foo'>foo</span><span class='op'>|</span> <span class='id identifier rubyid_foo'>foo</span>.<span class='id identifier rubyid_bar'>bar</span> }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_default_4">AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span> }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedpatterns_map_default">AllowedPatterns: ['map'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_something'>something</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_upcase'>upcase</span> }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_103">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowMethodsWithArguments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>define_method</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleternaryparentheses">Style/TernaryParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.46</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of parentheses around ternary
conditions. It is configurable to enforce inclusion or omission of
parentheses using <code>EnforcedStyle</code>. Omission is only enforced when
removing the parentheses won&#8217;t cause a different behavior.</p>
</div>
<div class="paragraph">
<p><code>AllowSafeAssignment</code> option for safe assignment.
By safe assignment we mean putting parentheses around
an assignment to indicate "I know I&#8217;m using an assignment
as a condition. It&#8217;s not a mistake."</p>
</div>
<div class="sect2">
<h3 id="_examples_237">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_require_no_parentheses_default">EnforcedStyle: require_no_parentheses (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar?'>bar?</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz?'>baz?</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar'>bar</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_baz'>baz</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar?'>bar?</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz?'>baz?</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_baz'>baz</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_require_parentheses">EnforcedStyle: require_parentheses</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar?'>bar?</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz?'>baz?</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_baz'>baz</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar?'>bar?</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz?'>baz?</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar'>bar</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_baz'>baz</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_require_parentheses_when_complex">EnforcedStyle: require_parentheses_when_complex</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar?'>bar?</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz?'>baz?</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_baz'>baz</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar?'>bar?</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> <span class='id identifier rubyid_bar'>bar</span>.<span class='id identifier rubyid_baz?'>baz?</span> <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar'>bar</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_baz'>baz</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowsafeassignment_true_default_2">AllowSafeAssignment: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='id identifier rubyid_baz'>baz</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowsafeassignment_false_2">AllowSafeAssignment: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>=</span> (<span class='id identifier rubyid_bar'>bar</span> <span class='op'>=</span> <span class='id identifier rubyid_baz'>baz</span>) <span class='op'>?</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>:</span> <span class='id identifier rubyid_b'>b</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_104">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_no_parentheses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code>, <code>require_no_parentheses</code>, <code>require_parentheses_when_complex</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSafeAssignment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletoplevelmethoddefinition">Style/TopLevelMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Newcomers to ruby applications may write top-level methods,
when ideally they should be organized in appropriate classes or modules.
This cop looks for definitions of top-level methods and warns about them.</p>
</div>
<div class="paragraph">
<p>However for ruby scripts it is perfectly fine to use top-level methods.
Hence this cop is disabled by default.</p>
</div>
<div class="sect2">
<h3 id="_examples_238">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_some_method'>some_method</span>
<span class='kw'>end</span>

<span class='comment'># bad
</span><span class='id identifier rubyid_define_method'>define_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) { <span class='id identifier rubyid_puts'>puts</span> <span class='int'>1</span> }

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_some_method'>some_method</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='const'>Struct</span>.<span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_define_method'>define_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>) { <span class='id identifier rubyid_puts'>puts</span> <span class='int'>1</span> }
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_132">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#top-level-methods" class="bare">https://rubystyle.guide#top-level-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingbodyonclass">Style/TrailingBodyOnClass</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing code after the class definition.</p>
</div>
<div class="sect2">
<h3 id="_examples_239">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>class</span> <span class='const'>Foo</span><span class='semicolon'>;</span> <span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span><span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span><span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingbodyonmethoddefinition">Style/TrailingBodyOnMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing code after the method definition.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It always accepts endless method definitions that are basically on the same line.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_240">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span><span class='semicolon'>;</span> <span class='id identifier rubyid_do_stuff'>do_stuff</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_f'>f</span>(<span class='id identifier rubyid_x'>x</span>)<span class='semicolon'>;</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_b'>b</span>[<span class='label'>c:</span> <span class='id identifier rubyid_x'>x</span>]
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>
  <span class='id identifier rubyid_do_stuff'>do_stuff</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_f'>f</span>(<span class='id identifier rubyid_x'>x</span>)
  <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_b'>b</span>[<span class='label'>c:</span> <span class='id identifier rubyid_x'>x</span>]
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_endless_method'>endless_method</span> <span class='op'>=</span> <span class='id identifier rubyid_do_stuff'>do_stuff</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingbodyonmodule">Style/TrailingBodyOnModule</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing code after the module definition.</p>
</div>
<div class="sect2">
<h3 id="_examples_241">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>module</span> <span class='const'>Foo</span> <span class='id identifier rubyid_extend'>extend</span> <span class='kw'>self</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>module</span> <span class='const'>Foo</span>
  <span class='id identifier rubyid_extend'>extend</span> <span class='kw'>self</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingcommainarguments">Style/TrailingCommaInArguments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing comma in argument lists.
The supported styles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>consistent_comma</code>: Requires a comma after the last argument,
for all parenthesized method calls with arguments.</p>
</li>
<li>
<p><code>comma</code>: Requires a comma after the last argument, but only for
parenthesized method calls where each argument is on its own line.</p>
</li>
<li>
<p><code>no_comma</code>: Requires that there is no comma after the last
argument.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_242">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_consistent_comma">EnforcedStyleForMultiline: consistent_comma</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_method'>method</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='int'>3</span><span class='comma'>,</span>
)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span>
)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span>
  <span class='int'>2</span><span class='comma'>,</span>
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_comma">EnforcedStyleForMultiline: comma</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_method'>method</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>)

<span class='comment'># bad
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='int'>3</span><span class='comma'>,</span>
)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='int'>3</span>
)

<span class='comment'># bad
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span>
)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>
)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span>
  <span class='int'>2</span><span class='comma'>,</span>
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_no_comma_default">EnforcedStyleForMultiline: no_comma (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_method'>method</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>)

<span class='comment'># good
</span><span class='id identifier rubyid_method'>method</span>(
  <span class='int'>1</span><span class='comma'>,</span>
  <span class='int'>2</span>
)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_105">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyleForMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_comma</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>comma</code>, <code>consistent_comma</code>, <code>no_comma</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_133">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-trailing-params-comma" class="bare">https://rubystyle.guide#no-trailing-params-comma</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingcommainarrayliteral">Style/TrailingCommaInArrayLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing comma in array literals.
The configuration options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>consistent_comma</code>: Requires a comma after the
last item of all non-empty, multiline array literals.</p>
</li>
<li>
<p><code>comma</code>: Requires a comma after last item in an array,
but only when each item is on its own line.</p>
</li>
<li>
<p><code>no_comma</code>: Does not require a comma after the
last item in an array</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_243">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_consistent_comma_2">EnforcedStyleForMultiline: consistent_comma</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='int'>3</span><span class='comma'>,</span>
]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span>
]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span>
  <span class='int'>2</span><span class='comma'>,</span>
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_comma_2">EnforcedStyleForMultiline: comma</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>]

<span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='int'>3</span><span class='comma'>,</span>
]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='int'>3</span>
]

<span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span>
]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>
]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span>
  <span class='int'>2</span><span class='comma'>,</span>
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_no_comma_default_2">EnforcedStyleForMultiline: no_comma (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span>]

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> [
  <span class='int'>1</span><span class='comma'>,</span>
  <span class='int'>2</span>
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_106">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyleForMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_comma</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>comma</code>, <code>consistent_comma</code>, <code>no_comma</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_134">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-trailing-array-commas" class="bare">https://rubystyle.guide#no-trailing-array-commas</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingcommainblockargs">Style/TrailingCommaInBlockArgs</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks whether trailing commas in block arguments are
required. Blocks with only one argument and a trailing comma require
that comma to be present. Blocks with more than one argument never
require a trailing comma.</p>
</div>
<div class="sect2">
<h3 id="_safety_68">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because a trailing comma can indicate there are
more parameters that are not used.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># with a trailing comma
</span>{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span> }
<span class='comment'>#=&gt; [:foo, :bar, :baz]
</span>
<span class='comment'># without a trailing comma
</span>{<span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>baz:</span> <span class='int'>3</span>}.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span> }
<span class='comment'>#=&gt; [[:foo, 1], [:bar, 2], [:baz, 3]]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This can be fixed by replacing the trailing comma with a placeholder
argument (such as <code>|key, _value|</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_244">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_add'>add</span> { <span class='op'>|</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span><span class='op'>|</span> <span class='id identifier rubyid_foo'>foo</span> <span class='op'>+</span> <span class='id identifier rubyid_bar'>bar</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_add'>add</span> { <span class='op'>|</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='id identifier rubyid_bar'>bar</span><span class='op'>|</span> <span class='id identifier rubyid_foo'>foo</span> <span class='op'>+</span> <span class='id identifier rubyid_bar'>bar</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_add'>add</span> { <span class='op'>|</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span><span class='op'>|</span> <span class='id identifier rubyid_foo'>foo</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_add'>add</span> { <span class='id identifier rubyid_foo'>foo</span> }

<span class='comment'># bad
</span><span class='id identifier rubyid_add'>add</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='id identifier rubyid_bar'>bar</span><span class='comma'>,</span><span class='op'>|</span>
  <span class='id identifier rubyid_foo'>foo</span> <span class='op'>+</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_add'>add</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='id identifier rubyid_bar'>bar</span><span class='op'>|</span>
  <span class='id identifier rubyid_foo'>foo</span> <span class='op'>+</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_add'>add</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span><span class='op'>|</span>
  <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_add'>add</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_foo'>foo</span> <span class='op'>+</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingcommainhashliteral">Style/TrailingCommaInHashLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing comma in hash literals.
The configuration options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>consistent_comma</code>: Requires a comma after the
last item of all non-empty, multiline hash literals.</p>
</li>
<li>
<p><code>comma</code>: Requires a comma after the last item in a hash,
but only when each item is on its own line.</p>
</li>
<li>
<p><code>no_comma</code>: Does not require a comma after the
last item in a hash</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_examples_245">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_consistent_comma_3">EnforcedStyleForMultiline: consistent_comma</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> { <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> { <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='label'>qux:</span> <span class='int'>3</span><span class='comma'>,</span>
}

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>qux:</span> <span class='int'>3</span><span class='comma'>,</span>
}

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span>
  <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_comma_3">EnforcedStyleForMultiline: comma</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> { <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> { <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span> }

<span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='label'>qux:</span> <span class='int'>3</span><span class='comma'>,</span>
}

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span>
  <span class='label'>qux:</span> <span class='int'>3</span>
}

<span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>qux:</span> <span class='int'>3</span><span class='comma'>,</span>
}

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> <span class='label'>qux:</span> <span class='int'>3</span>
}

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span>
  <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyleformultiline_no_comma_default_3">EnforcedStyleForMultiline: no_comma (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> { <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='int'>2</span><span class='comma'>,</span> }

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> {
  <span class='label'>foo:</span> <span class='int'>1</span><span class='comma'>,</span>
  <span class='label'>bar:</span> <span class='int'>2</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_107">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyleForMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_comma</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>comma</code>, <code>consistent_comma</code>, <code>no_comma</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingmethodendstatement">Style/TrailingMethodEndStatement</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing code after the method definition.</p>
</div>
<div class="sect2">
<h3 id="_examples_246">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>
<span class='id identifier rubyid_do_stuff'>do_stuff</span><span class='semicolon'>;</span> <span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_do_this'>do_this</span>(<span class='id identifier rubyid_x'>x</span>)
  <span class='id identifier rubyid_baz'>baz</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_this'>this</span>(<span class='id identifier rubyid_x'>x</span>) } <span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_block'>block</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_bar'>bar</span>
  <span class='kw'>end</span> <span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_some_method'>some_method</span>
  <span class='id identifier rubyid_do_stuff'>do_stuff</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_do_this'>do_this</span>(<span class='id identifier rubyid_x'>x</span>)
  <span class='id identifier rubyid_baz'>baz</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_this'>this</span>(<span class='id identifier rubyid_x'>x</span>) }
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='id identifier rubyid_block'>block</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_bar'>bar</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrailingunderscorevariable">Style/TrailingUnderscoreVariable</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for extra underscores in variable assignment.</p>
</div>
<div class="sect2">
<h3 id="_examples_247">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()
<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()
<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()
<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()

<span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()
<span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()
<span class='op'>*</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()
<span class='comment'># =&gt; We need to know to not include 2 variables in a
</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()
<span class='comment'># =&gt; The correction `a, *b, = foo()` is a syntax error</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_allownamedunderscorevariables_true_default">AllowNamedUnderscoreVariables: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid__something'>_something</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allownamedunderscorevariables_false">AllowNamedUnderscoreVariables: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid__something'>_something</span> <span class='op'>=</span> <span class='id identifier rubyid_foo'>foo</span>()</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_108">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowNamedUnderscoreVariables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styletrivialaccessors">Style/TrivialAccessors</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.15</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for trivial reader/writer methods, that could
have been created with the attr_* family of functions automatically.
<code>to_ary</code>, <code>to_a</code>, <code>to_c</code>, <code>to_enum</code>, <code>to_h</code>, <code>to_hash</code>, <code>to_i</code>, <code>to_int</code>, <code>to_io</code>,
<code>to_open</code>, <code>to_path</code>, <code>to_proc</code>, <code>to_r</code>, <code>to_regexp</code>, <code>to_str</code>, <code>to_s</code>, and <code>to_sym</code> methods
are allowed by default. These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="_examples_248">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo'>foo</span>
  <span class='ivar'>@foo</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bar='>bar=</span>(<span class='id identifier rubyid_val'>val</span>)
  <span class='ivar'>@bar</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_baz'>baz</span>
  <span class='ivar'>@baz</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>

<span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_exactnamematch_true_default">ExactNameMatch: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@other_name</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_exactnamematch_false">ExactNameMatch: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@other_name</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowpredicates_true_default">AllowPredicates: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='ivar'>@foo</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowpredicates_false">AllowPredicates: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_foo?'>foo?</span>
  <span class='ivar'>@foo</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowdslwriters_true_default">AllowDSLWriters: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_on_exception'>on_exception</span>(<span class='id identifier rubyid_action'>action</span>)
  <span class='ivar'>@on_exception</span><span class='op'>=</span><span class='id identifier rubyid_action'>action</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowdslwriters_false">AllowDSLWriters: false</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='id identifier rubyid_on_exception'>on_exception</span>(<span class='id identifier rubyid_action'>action</span>)
  <span class='ivar'>@on_exception</span><span class='op'>=</span><span class='id identifier rubyid_action'>action</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_exception'>on_exception</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ignoreclassmethods_false_default">IgnoreClassMethods: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_foo'>foo</span>
  <span class='ivar'>@foo</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ignoreclassmethods_true">IgnoreClassMethods: true</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_foo'>foo</span>
  <span class='ivar'>@foo</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allowedmethods_allowed_method">AllowedMethods: ['allowed_method']</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='kw'>def</span> <span class='id identifier rubyid_allowed_method'>allowed_method</span>
  <span class='ivar'>@foo</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_109">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExactNameMatch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowPredicates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowDSLWriters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreClassMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>to_ary</code>, <code>to_a</code>, <code>to_c</code>, <code>to_enum</code>, <code>to_h</code>, <code>to_hash</code>, <code>to_i</code>, <code>to_int</code>, <code>to_io</code>, <code>to_open</code>, <code>to_path</code>, <code>to_proc</code>, <code>to_r</code>, <code>to_regexp</code>, <code>to_str</code>, <code>to_s</code>, <code>to_sym</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_135">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#attr_family" class="bare">https://rubystyle.guide#attr_family</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleunlesselse">Style/UnlessElse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for <code>unless</code> expressions with <code>else</code> clauses.</p>
</div>
<div class="sect2">
<h3 id="_examples_249">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>unless</span> <span class='id identifier rubyid_foo_bar'>foo_bar</span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='comment'># do something...
</span><span class='kw'>else</span>
  <span class='comment'># do a different thing...
</span><span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>if</span> <span class='id identifier rubyid_foo_bar'>foo_bar</span>.<span class='id identifier rubyid_present?'>present?</span>
  <span class='comment'># do something...
</span><span class='kw'>else</span>
  <span class='comment'># do a different thing...
</span><span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_136">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-else-with-unless" class="bare">https://rubystyle.guide#no-else-with-unless</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleunlesslogicaloperators">Style/UnlessLogicalOperators</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of logical operators in an <code>unless</code> condition.
It discourages such code, as the condition becomes more difficult
to read and understand.</p>
</div>
<div class="paragraph">
<p>This cop supports two styles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>forbid_mixed_logical_operators</code> (default)</p>
</li>
<li>
<p><code>forbid_logical_operators</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>forbid_mixed_logical_operators</code> style forbids the use of more than one type
of logical operators. This makes the <code>unless</code> condition easier to read
because either all conditions need to be met or any condition need to be met
in order for the expression to be truthy or falsey.</p>
</div>
<div class="paragraph">
<p><code>forbid_logical_operators</code> style forbids any use of logical operator.
This makes it even more easy to read the <code>unless</code> condition as
there is only one condition in the expression.</p>
</div>
<div class="sect2">
<h3 id="_examples_250">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_forbid_mixed_logical_operators_default">EnforcedStyle: forbid_mixed_logical_operators (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>||</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>||</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_b'>b</span> <span class='kw'>and</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>||</span> <span class='id identifier rubyid_b'>b</span> <span class='kw'>or</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_b'>b</span> <span class='kw'>or</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>||</span> <span class='id identifier rubyid_b'>b</span> <span class='kw'>and</span> <span class='id identifier rubyid_c'>c</span>

<span class='comment'># good
</span><span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>||</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>||</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='kw'>and</span> <span class='id identifier rubyid_b'>b</span> <span class='kw'>and</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='kw'>or</span> <span class='id identifier rubyid_b'>b</span> <span class='kw'>or</span> <span class='id identifier rubyid_c'>c</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a?'>a?</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_forbid_logical_operators">EnforcedStyle: forbid_logical_operators</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>||</span> <span class='id identifier rubyid_b'>b</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_b'>b</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='kw'>or</span> <span class='id identifier rubyid_b'>b</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span> <span class='kw'>and</span> <span class='id identifier rubyid_b'>b</span>

<span class='comment'># good
</span><span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a'>a</span>
<span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_a?'>a?</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_110">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forbid_mixed_logical_operators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forbid_mixed_logical_operators</code>, <code>forbid_logical_operators</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleunpackfirst">Style/UnpackFirst</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.54</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for accessing the first element of <code>String#unpack</code>
which can be replaced with the shorter method <code>unpack1</code>.</p>
</div>
<div class="sect2">
<h3 id="_examples_251">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h*</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_first'>first</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h*</span><span class='tstring_end'>&#39;</span></span>)[<span class='int'>0</span>]
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h*</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_slice'>slice</span>(<span class='int'>0</span>)
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack'>unpack</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h*</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_at'>at</span>(<span class='int'>0</span>)

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_unpack1'>unpack1</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>h*</span><span class='tstring_end'>&#39;</span></span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylevariableinterpolation">Style/VariableInterpolation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for variable interpolation (like "#@ivar").</p>
</div>
<div class="sect2">
<h3 id="_examples_252">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>His name is </span><span class='embvar'>#</span><span class='gvar'>$name</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>check </span><span class='embvar'>#</span><span class='gvar'>$pattern</span><span class='regexp_end'>/</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Let&#39;s go to the </span><span class='embvar'>#</span><span class='ivar'>@store</span><span class='tstring_end'>&quot;</span></span>

<span class='comment'># good
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>His name is </span><span class='embexpr_beg'>#{</span><span class='gvar'>$name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>check </span><span class='embexpr_beg'>#{</span><span class='gvar'>$pattern</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Let&#39;s go to the </span><span class='embexpr_beg'>#{</span><span class='ivar'>@store</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_137">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#curlies-interpolate" class="bare">https://rubystyle.guide#curlies-interpolate</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylewhenthen">Style/WhenThen</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>when;</code> uses in <code>case</code> expressions.</p>
</div>
<div class="sect2">
<h3 id="_examples_253">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='int'>1</span><span class='semicolon'>;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>when</span> <span class='int'>2</span><span class='semicolon'>;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>case</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='kw'>when</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>when</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_138">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-when-semicolons" class="bare">https://rubystyle.guide#no-when-semicolons</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylewhileuntildo">Style/WhileUntilDo</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>do</code> in multi-line <code>while/until</code> statements.</p>
</div>
<div class="sect2">
<h3 id="_examples_254">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>while</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_pop'>pop</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>while</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_any?'>any?</span>
  <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_pop'>pop</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>until</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_pop'>pop</span>)
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='kw'>until</span> <span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_do_something'>do_something</span>(<span class='id identifier rubyid_x'>x</span>.<span class='id identifier rubyid_pop'>pop</span>)
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_139">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-multiline-while-do" class="bare">https://rubystyle.guide#no-multiline-while-do</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylewhileuntilmodifier">Style/WhileUntilModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for while and until statements that would fit on one line
if written as a modifier while/until. The maximum line length is
configured in the <code>Layout/LineLength</code> cop.</p>
</div>
<div class="sect2">
<h3 id="_examples_255">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>while</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>10</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>while</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>10</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='kw'>until</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>10</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>1</span>
<span class='kw'>end</span>

<span class='comment'># good
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>until</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&gt;</span> <span class='int'>10</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>100</span> <span class='kw'>while</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>500</span> <span class='comment'># a long comment that makes code too long if it were a single line
</span>
<span class='comment'># good
</span><span class='kw'>while</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&lt;</span> <span class='int'>500</span> <span class='comment'># a long comment that makes code too long if it were a single line
</span>  <span class='id identifier rubyid_x'>x</span> <span class='op'>+=</span> <span class='int'>100</span>
<span class='kw'>end</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references_140">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#while-as-a-modifier" class="bare">https://rubystyle.guide#while-as-a-modifier</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylewordarray">Style/WordArray</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for array literals made up of word-like
strings, that are not using the %w() syntax.</p>
</div>
<div class="paragraph">
<p>Alternatively, it can check for uses of the %w() syntax, in projects
which do not want to include that syntax.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When using the <code>percent</code> style, %w() arrays containing a space
will be registered as offenses.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Configuration option: MinSize
If set, arrays with fewer elements than this value will not trigger the
cop. For example, a <code>MinSize</code> of <code>3</code> will not enforce a style on an
array of 2 or fewer elements.</p>
</div>
<div class="sect2">
<h3 id="_examples_256">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_percent_default_2">EnforcedStyle: percent (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='tstring_end'>]</span></span>

<span class='comment'># bad
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>]

<span class='comment'># bad (contains spaces)
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>foo\ bar</span><span class='words_sep'> </span><span class='tstring_content'>baz\ quux</span><span class='tstring_end'>]</span></span>

<span class='comment'># bad
</span>[
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>one</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>One</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span>
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>two</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Two</span><span class='tstring_end'>&#39;</span></span>]
]

<span class='comment'># good
</span>[
  <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>one</span><span class='words_sep'> </span><span class='tstring_content'>One</span><span class='tstring_end'>]</span></span><span class='comma'>,</span>
  <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>two</span><span class='words_sep'> </span><span class='tstring_content'>Two</span><span class='tstring_end'>]</span></span>
]

<span class='comment'># good (2d array containing spaces)
</span>[
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>one</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>One</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span>
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>two</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Two</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span>
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>forty two</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Forty Two</span><span class='tstring_end'>&#39;</span></span>]
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_brackets_2">EnforcedStyle: brackets</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># good
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>]

<span class='comment'># bad
</span><span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='tstring_end'>]</span></span>

<span class='comment'># good (contains spaces)
</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz quux</span><span class='tstring_end'>&#39;</span></span>]

<span class='comment'># good
</span>[
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>one</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>One</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span>
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>two</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Two</span><span class='tstring_end'>&#39;</span></span>]
]

<span class='comment'># bad
</span>[
  <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>one</span><span class='words_sep'> </span><span class='tstring_content'>One</span><span class='tstring_end'>]</span></span><span class='comma'>,</span>
  <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>two</span><span class='words_sep'> </span><span class='tstring_content'>Two</span><span class='tstring_end'>]</span></span>
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_111">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent</code>, <code>brackets</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WordRegex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(?-mix:\A(?:\p{Word}|\p{Word}-\p{Word}|\n|\t)+\z)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_141">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-w" class="bare">https://rubystyle.guide#percent-w</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleyamlfileread">Style/YAMLFileRead</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of <code>YAML.load</code>, <code>YAML.safe_load</code>, and <code>YAML.parse</code> with
<code>File.read</code> argument.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>YAML.safe_load_file</code> was introduced in Ruby 3.0.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_257">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='const'>YAML</span>.<span class='id identifier rubyid_load'>load</span>(<span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_path'>path</span>))
<span class='const'>YAML</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_path'>path</span>))

<span class='comment'># good
</span><span class='const'>YAML</span>.<span class='id identifier rubyid_load_file'>load_file</span>(<span class='id identifier rubyid_path'>path</span>)
<span class='const'>YAML</span>.<span class='id identifier rubyid_parse_file'>parse_file</span>(<span class='id identifier rubyid_path'>path</span>)

<span class='comment'># bad
</span><span class='const'>YAML</span>.<span class='id identifier rubyid_safe_load'>safe_load</span>(<span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_path'>path</span>)) <span class='comment'># Ruby 3.0 and newer
</span>
<span class='comment'># good
</span><span class='const'>YAML</span>.<span class='id identifier rubyid_safe_load_file'>safe_load_file</span>(<span class='id identifier rubyid_path'>path</span>)       <span class='comment'># Ruby 3.0 and newer</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleyodacondition">Style/YodaCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.75</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces or forbids Yoda conditions,
i.e. comparison operations where the order of expression is reversed.
eg. <code>5 == x</code></p>
</div>
<div class="sect2">
<h3 id="_safety_69">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because comparison operators can be defined
differently on different classes, and are not guaranteed to
have the same result if reversed.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>MyKlass</span>
  <span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='const'>MyKlass</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_obj'>obj</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>string</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'>#=&gt; true
</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>string</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_obj'>obj</span>   <span class='comment'>#=&gt; false</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_258">Examples</h3>
<div class="sect3">
<h4 id="_enforcedstyle_forbid_for_all_comparison_operators_default">EnforcedStyle: forbid_for_all_comparison_operators (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='int'>99</span> <span class='op'>==</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span> <span class='op'>!=</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='int'>42</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='int'>10</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_bar'>bar</span>
<span class='int'>99</span> <span class='op'>==</span> <span class='const'>CONST</span>

<span class='comment'># good
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='int'>99</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&lt;=</span> <span class='int'>42</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='op'>&gt;</span> <span class='int'>10</span>
<span class='const'>CONST</span> <span class='op'>==</span> <span class='int'>99</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_interpolation'>interpolation</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_interpolation'>interpolation</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span> <span class='op'>==</span> <span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_forbid_for_equality_operators_only">EnforcedStyle: forbid_for_equality_operators_only</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='int'>99</span> <span class='op'>==</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span> <span class='op'>!=</span> <span class='id identifier rubyid_foo'>foo</span>

<span class='comment'># good
</span><span class='int'>99</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='int'>3</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>5</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_require_for_all_comparison_operators">EnforcedStyle: require_for_all_comparison_operators</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='int'>99</span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_foo'>foo</span> <span class='op'>&lt;=</span> <span class='int'>42</span>
<span class='id identifier rubyid_bar'>bar</span> <span class='op'>&gt;</span> <span class='int'>10</span>

<span class='comment'># good
</span><span class='int'>99</span> <span class='op'>==</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span> <span class='op'>!=</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='int'>42</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='int'>10</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_bar'>bar</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enforcedstyle_require_for_equality_operators_only">EnforcedStyle: require_for_equality_operators_only</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='int'>99</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='int'>3</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>&lt;</span> <span class='int'>5</span>

<span class='comment'># good
</span><span class='int'>99</span> <span class='op'>==</span> <span class='id identifier rubyid_foo'>foo</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span> <span class='op'>!=</span> <span class='id identifier rubyid_foo'>foo</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_112">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forbid_for_all_comparison_operators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forbid_for_all_comparison_operators</code>, <code>forbid_for_equality_operators_only</code>, <code>require_for_all_comparison_operators</code>, <code>require_for_equality_operators_only</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_references_142">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Yoda_conditions" class="bare">https://en.wikipedia.org/wiki/Yoda_conditions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_styleyodaexpression">Style/YodaExpression</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.43</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Forbids Yoda expressions, i.e. binary operations (using <code>*</code>, <code>+</code>, <code>&amp;</code>, <code>|</code>,
and <code>^</code> operators) where the order of expression is reversed, eg. <code>1 + x</code>.
This cop complements <code>Style/YodaCondition</code> cop, which has a similar purpose.</p>
</div>
<div class="paragraph">
<p>This cop is disabled by default to respect user intentions such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_config'><a href="RuboCop/Ext/ProcessedSource.html#config-instance_method" title="RuboCop::Ext::ProcessedSource#config (method)">config</a></span>.<span class='id identifier rubyid_server_port'>server_port</span> <span class='op'>=</span> <span class='int'>9000</span> <span class='op'>+</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TEST_ENV_NUMBER</span><span class='tstring_end'>&quot;</span></span>].<span class='id identifier rubyid_to_i'>to_i</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_safety_70">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because binary operators can be defined
differently on different classes, and are not guaranteed to
have the same result if reversed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_259">Examples</h3>
<div class="sect3">
<h4 id="_supportedoperators_default">SupportedOperators: ['*', '+', '&amp;', '|', '^'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span><span class='int'>10</span> <span class='op'>*</span> <span class='id identifier rubyid_y'>y</span>
<span class='int'>1</span> <span class='op'>+</span> <span class='id identifier rubyid_x'>x</span>
<span class='int'>1</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_z'>z</span>
<span class='int'>1</span> <span class='op'>|</span> <span class='id identifier rubyid_x'>x</span>
<span class='int'>1</span> <span class='op'>^</span> <span class='id identifier rubyid_x'>x</span>
<span class='int'>1</span> <span class='op'>+</span> <span class='const'>CONST</span>

<span class='comment'># good
</span><span class='id identifier rubyid_y'>y</span> <span class='op'>*</span> <span class='int'>10</span>
<span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='id identifier rubyid_z'>z</span> <span class='op'>&amp;</span> <span class='int'>1</span>
<span class='id identifier rubyid_x'>x</span> <span class='op'>|</span> <span class='int'>1</span>
<span class='id identifier rubyid_x'>x</span> <span class='op'>^</span> <span class='int'>1</span>
<span class='const'>CONST</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='int'>60</span> <span class='op'>*</span> <span class='int'>24</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurable_attributes_113">Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stylezerolengthpredicate">Style/ZeroLengthPredicate</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.39</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for numeric comparisons that can be replaced
by a predicate method, such as <code>receiver.length == 0</code>,
<code>receiver.length &gt; 0</code>, and <code>receiver.length != 0</code>,
<code>receiver.length &lt; 1</code> and <code>receiver.size == 0</code> that can be
replaced by <code>receiver.empty?</code> and <code>!receiver.empty?</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>File</code>, <code>Tempfile</code>, and <code>StringIO</code> do not have <code>empty?</code>
so allow <code>size == 0</code> and <code>size.zero?</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_safety_71">Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
has an <code>empty?</code> method that is defined in terms of <code>length</code>. If there
is a non-standard class that redefines <code>length</code> or <code>empty?</code>, the cop
may register a false positive.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_260">Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="code ruby"><code class="ruby"><span class='comment'># bad
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>0</span>
<span class='int'>0</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foobar</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_length'>length</span>
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='int'>1</span>
{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span> <span class='int'>0</span>
<span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>0</span>
<span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>

<span class='comment'># good
</span>[<span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span>].<span class='id identifier rubyid_empty?'>empty?</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foobar</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_empty?'>empty?</span>
<span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_empty?'>empty?</span>
<span class='op'>!</span>{<span class='label'>a:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>2</span>}.<span class='id identifier rubyid_empty?'>empty?</span>
<span class='op'>!</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_empty?'>empty?</span>
<span class='op'>!</span><span class='id identifier rubyid_hash'>hash</span>.<span class='id identifier rubyid_empty?'>empty?</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>