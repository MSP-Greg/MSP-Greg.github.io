<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: RSpec::Support &mdash; RSpec main</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RSpec::Support",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>RSpec main</a> &raquo; 
      <a href='../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../RSpec.html" title="RSpec (module)">RSpec</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Support&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: RSpec::Support</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="Support/AllExceptionsExceptOnesWeMustNotRescue.html" title="RSpec::Support::AllExceptionsExceptOnesWeMustNotRescue (module)"><code>AllExceptionsExceptOnesWeMustNotRescue</code></a>,
        <a href="Support/FormattingSupport.html" title="RSpec::Support::FormattingSupport (module)"><code>FormattingSupport</code></a>,
        <a href="Support/FuzzyMatcher.html" title="RSpec::Support::FuzzyMatcher (module)"><code>FuzzyMatcher</code></a>,
        <a href="Support/InSubProcess.html" title="RSpec::Support::InSubProcess (module)"><code>InSubProcess</code></a>,
        <a href="Support/RecursiveConstMethods.html" title="RSpec::Support::RecursiveConstMethods (module)"><code>RecursiveConstMethods</code></a>,
        <a href="Support/ShellOut.html" title="RSpec::Support::ShellOut (module)"><code>ShellOut</code></a>,
        <a href="Support/Spec.html" title="RSpec::Support::Spec (module)"><code>Spec</code></a>,
        <a href="Support/Version.html" title="RSpec::Support::Version (module)"><code>Version</code></a>,
        <a href="Support/Warnings.html" title="RSpec::Support::Warnings (module)"><code>Warnings</code></a>,
        <a href="Support/WhitespaceChecks.html" title="RSpec::Support::WhitespaceChecks (module)"><code>WhitespaceChecks</code></a>,
        <a href="Support/WithIsolatedStdErr.html" title="RSpec::Support::WithIsolatedStdErr (module)"><code>WithIsolatedStdErr</code></a>,
        <a href="Support/WithKeywordsWhenNeeded.html" title="RSpec::Support::WithKeywordsWhenNeeded (module)"><code>WithKeywordsWhenNeeded</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Support/BlockSignature.html" title="RSpec::Support::BlockSignature (class)"><code>BlockSignature</code></a>,
        <a href="Support/ComparableVersion.html" title="RSpec::Support::ComparableVersion (class)"><code>ComparableVersion</code></a>,
        <a href="Support/Differ.html" title="RSpec::Support::Differ (class)"><code>Differ</code></a>,
        <a href="Support/DirectoryMaker.html" title="RSpec::Support::DirectoryMaker (class)"><code>DirectoryMaker</code></a>,
        <a href="Support/EncodedString.html" title="RSpec::Support::EncodedString (class)"><code>EncodedString</code></a>,
        <a href="Support/HunkGenerator.html" title="RSpec::Support::HunkGenerator (class)"><code>HunkGenerator</code></a>,
        <a href="Support/LooseSignatureVerifier.html" title="RSpec::Support::LooseSignatureVerifier (class)"><code>LooseSignatureVerifier</code></a>,
        <a href="Support/MethodSignature.html" title="RSpec::Support::MethodSignature (class)"><code>MethodSignature</code></a>,
        <a href="Support/MethodSignatureExpectation.html" title="RSpec::Support::MethodSignatureExpectation (class)"><code>MethodSignatureExpectation</code></a>,
        <a href="Support/MethodSignatureVerifier.html" title="RSpec::Support::MethodSignatureVerifier (class)"><code>MethodSignatureVerifier</code></a>,
        <a href="Support/Mutex.html" title="RSpec::Support::Mutex (class)"><code>Mutex</code></a>,
        <a href="Support/ObjectFormatter.html" title="RSpec::Support::ObjectFormatter (class)"><code>ObjectFormatter</code></a>,
        <a href="Support/ReentrantMutex.html" title="RSpec::Support::ReentrantMutex (class)"><code>ReentrantMutex</code></a>,
        <a href="Support/Source.html" title="RSpec::Support::Source (class)"><code>Source</code></a>,
        <a href="Support/StdErrSplitter.html" title="RSpec::Support::StdErrSplitter (class)"><code>StdErrSplitter</code></a>      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L4'>rspec-support/lib/rspec/support.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/comparable_version.rb#L4'>rspec-support/lib/rspec/support/comparable_version.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/differ.rb#L10'>rspec-support/lib/rspec/support/differ.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/directory_maker.rb#L6'>rspec-support/lib/rspec/support/directory_maker.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/encoded_string.rb#L4'>rspec-support/lib/rspec/support/encoded_string.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/fuzzy_matcher.rb#L4'>rspec-support/lib/rspec/support/fuzzy_matcher.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/hunk_generator.rb#L7'>rspec-support/lib/rspec/support/hunk_generator.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/matcher_definition.rb#L4'>rspec-support/lib/rspec/support/matcher_definition.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/method_signature_verifier.rb#L8'>rspec-support/lib/rspec/support/method_signature_verifier.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/mutex.rb#L4'>rspec-support/lib/rspec/support/mutex.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/object_formatter.rb#L6'>rspec-support/lib/rspec/support/object_formatter.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/recursive_const_methods.rb#L4'>rspec-support/lib/rspec/support/recursive_const_methods.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/reentrant_mutex.rb#L4'>rspec-support/lib/rspec/support/reentrant_mutex.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/source.rb#L7'>rspec-support/lib/rspec/support/source.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/spec.rb#L47'>rspec-support/lib/rspec/support/spec.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/version.rb#L4'>rspec-support/lib/rspec/support/version.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/warnings.rb#L7'>rspec-support/lib/rspec/support/warnings.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/with_keywords_when_needed.rb#L6'>rspec-support/lib/rspec/support/with_keywords_when_needed.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/source/location.rb#L4'>rspec-support/lib/rspec/support/source/location.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/source/node.rb#L6'>rspec-support/lib/rspec/support/source/node.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/source/token.rb#L6'>rspec-support/lib/rspec/support/source/token.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/spec/diff_helpers.rb#L6'>rspec-support/lib/rspec/support/spec/diff_helpers.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/spec/formatting_support.rb#L4'>rspec-support/lib/rspec/support/spec/formatting_support.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/spec/in_sub_process.rb#L4'>rspec-support/lib/rspec/support/spec/in_sub_process.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/spec/library_wide_checks.rb#L6'>rspec-support/lib/rspec/support/spec/library_wide_checks.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/spec/shell_out.rb#L8'>rspec-support/lib/rspec/support/spec/shell_out.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/spec/stderr_splitter.rb#L6'>rspec-support/lib/rspec/support/spec/stderr_splitter.rb</a>,<br/> <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/spec/with_isolated_stderr.rb#L4'>rspec-support/lib/rspec/support/spec/with_isolated_stderr.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DEFAULT_FAILURE_NOTIFIER-constant' class='summary_signature nodoc'>DEFAULT_FAILURE_NOTIFIER =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L110-L110'># File 'rspec-support/lib/rspec/support.rb', line 110</a>    <pre class='code ruby'><span class='id identifier rubyid_lambda'>lambda</span> { <span class='op'>|</span><span class='id identifier rubyid_failure'>failure</span><span class='comma'>,</span> <span class='id identifier rubyid__opts'>_opts</span><span class='op'>|</span> <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_failure'>failure</span> }</pre>
  </li>
  <li>
    <span id='DEFAULT_WARNING_NOTIFIER-constant' class='summary_signature nodoc'>DEFAULT_WARNING_NOTIFIER =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L137-L137'># File 'rspec-support/lib/rspec/support.rb', line 137</a>    <pre class='code ruby'><span class='id identifier rubyid_lambda'>lambda</span> { <span class='op'>|</span><span class='id identifier rubyid_warning'>warning</span><span class='op'>|</span> <span class='op'>::</span><span class='const'>Kernel</span>.<span class='id identifier rubyid_warn'>warn</span> <span class='id identifier rubyid_warning'>warning</span> }</pre>
  </li>
  <li>
    <span id='KERNEL_METHOD_METHOD-constant' class='summary_signature nodoc'>KERNEL_METHOD_METHOD =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L40-L40'># File 'rspec-support/lib/rspec/support.rb', line 40</a>    <pre class='code ruby'><span class='op'>::</span><span class='const'>Kernel</span>.<span class='id identifier rubyid_instance_method'>instance_method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_method'>method</span>)</pre>
  </li>
  <li>
    <span id='StrictSignatureVerifier-constant' class='summary_signature nodoc'>StrictSignatureVerifier =</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Figures out whether a given method can accept various arguments. Surprisingly non-trivial.</p>

  </div>
</div>
<div class='tags'>
  
</div>
    <a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/method_signature_verifier.rb#L389-L389'># File 'rspec-support/lib/rspec/support/method_signature_verifier.rb', line 389</a>    <pre class='code ruby'><span class='const'><a href="Support/MethodSignatureVerifier.html" title="RSpec::Support::MethodSignatureVerifier (class)">MethodSignatureVerifier</a></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#failure_notifier-class_method" title=".failure_notifier (class method)">.<strong>failure_notifier</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#failure_notifier=-class_method" title=".failure_notifier= (class method)">.<strong>failure_notifier=</strong>(callable)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#warning_notifier-class_method" title=".warning_notifier (class method)">.<strong>warning_notifier</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature rw nodoc'>
      <a href="#warning_notifier=-class_method" title=".warning_notifier= (class method)">.<strong>warning_notifier=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#class_of-class_method" title=".class_of (class method)">.<strong>class_of</strong>(object)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Used internally to get a class of a given object, even if it does not respond to #class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#define_optimized_require_for_rspec-class_method" title=".define_optimized_require_for_rspec (class method)">.<strong>define_optimized_require_for_rspec</strong>(lib, &amp;require_relative)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Defines a helper method that is optimized to require files from the named lib.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#deregister_matcher_definition-class_method" title=".deregister_matcher_definition (class method)">.<strong>deregister_matcher_definition</strong>(&amp;block)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Remove a previously registered matcher.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#is_a_matcher%3F-class_method" title=".is_a_matcher? (class method)">.<strong>is_a_matcher?</strong>(object)  &#x21d2; Boolean </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#matcher_definitions-class_method" title=".matcher_definitions (class method)">.<strong>matcher_definitions</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#method_handle_for-class_method" title=".method_handle_for (class method)">.<strong>method_handle_for</strong>(object, method_name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See additional method definition at line 54.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#notify_failure-class_method" title=".notify_failure (class method)">.<strong>notify_failure</strong>(failure, options = {})  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#register_matcher_definition-class_method" title=".register_matcher_definition (class method)">.<strong>register_matcher_definition</strong>(&amp;block)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Used internally to break cyclic dependency between mocks, expectations, and support.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#rspec_description_for_object-class_method" title=".rspec_description_for_object (class method)">.<strong>rspec_description_for_object</strong>(object)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>gives a string representation of an object for use in <a href="../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> descriptions.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#thread_local_data-class_method" title=".thread_local_data (class method)">.<strong>thread_local_data</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See additional method definition at line 95.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#with_failure_notifier-class_method" title=".with_failure_notifier (class method)">.<strong>with_failure_notifier</strong>(callable)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="failure_notifier-class_method">
  <h3 class='signature rw  nodoc first'>
    .<strong>failure_notifier</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L113-L115'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='113' data-end='115'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 113</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_failure_notifier'>failure_notifier</span>
  <span class='id identifier rubyid_thread_local_data'><a href="#thread_local_data-class_method" title="RSpec::Support.thread_local_data (method)">thread_local_data</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_failure_notifier'>failure_notifier</span>] <span class='op'>||</span> <span class='const'><a href="#DEFAULT_FAILURE_NOTIFIER-constant" title="RSpec::Support::DEFAULT_FAILURE_NOTIFIER (constant)">DEFAULT_FAILURE_NOTIFIER</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="failure_notifier=-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>failure_notifier=</strong>(callable)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L105-L107'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='105' data-end='107'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 105</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_failure_notifier='>failure_notifier=</span>(<span class='id identifier rubyid_callable'>callable</span>)
  <span class='id identifier rubyid_thread_local_data'><a href="#thread_local_data-class_method" title="RSpec::Support.thread_local_data (method)">thread_local_data</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_failure_notifier'><a href="#failure_notifier-class_method" title="RSpec::Support.failure_notifier (method)">failure_notifier</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_callable'>callable</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="warning_notifier-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>warning_notifier</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L140-L142'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='140' data-end='142'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 140</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_warning_notifier'>warning_notifier</span>
  <span class='ivar'>@warning_notifier</span> <span class='op'>||=</span> <span class='const'><a href="#DEFAULT_WARNING_NOTIFIER-constant" title="RSpec::Support::DEFAULT_WARNING_NOTIFIER (constant)">DEFAULT_WARNING_NOTIFIER</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="warning_notifier=-class_method">
  <h3 class='signature rw  nodoc'>
    .<strong>warning_notifier=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L133-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='133' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 133</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_warning_notifier'><a href="#warning_notifier-class_method" title="RSpec::Support.warning_notifier (method)">warning_notifier</a></span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="class_of-class_method">
  <h3 class='signature nodoc first'>
    .<strong>class_of</strong>(object)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Used internally to get a class of a given object, even if it does not respond to #class.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L86-L91'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='86' data-end='91'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 86</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class_of'>class_of</span>(<span class='id identifier rubyid_object'>object</span>)
  <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_class'>class</span>
<span class='kw'>rescue</span> <span class='const'>NoMethodError</span>
  <span class='id identifier rubyid_singleton_class'>singleton_class</span> <span class='op'>=</span> <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_object'>object</span><span class='semicolon'>;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>end</span>
  <span class='id identifier rubyid_singleton_class'>singleton_class</span>.<span class='id identifier rubyid_ancestors'>ancestors</span>.<span class='id identifier rubyid_find'>find</span> { <span class='op'>|</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_ancestor'>ancestor</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_singleton_class'>singleton_class</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_optimized_require_for_rspec-class_method">
  <h3 class='signature nodoc'>
    .<strong>define_optimized_require_for_rspec</strong>(lib, &amp;require_relative)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Defines a helper method that is optimized to require files from the named lib. The passed block MUST be ‘{ |f| require_relative f }` because for <code>require_relative</code> to work properly from within the named lib the line of code must be IN that lib.</p>

<p>‘require_relative` is preferred when available because it is always O(1), regardless of the number of dirs in $LOAD_PATH. <code>require</code>, on the other hand, does a linear O(N) search over the dirs in the $LOAD_PATH until it can resolve the file relative to one of the dirs.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L16-L33'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='16' data-end='33'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 16</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_define_optimized_require_for_rspec'>define_optimized_require_for_rspec</span>(<span class='id identifier rubyid_lib'>lib</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_require_relative'>require_relative</span>)
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>require_rspec_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib'>lib</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>if</span> <span class='const'>RUBY_PLATFORM</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>java</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'>Kernel</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_require'>require</span>)
    <span class='comment'># JRuby 9.1.17.0 has developed a regression for require
</span>    (<span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>end</span>).<span class='id identifier rubyid___send__'>__send__</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_define_method'>define_method</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='const'>Kernel</span>.<span class='id identifier rubyid_send'>send</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_require'>require</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rspec/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib'>lib</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='const'>Kernel</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_require_relative'>require_relative</span>)
    (<span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>end</span>).<span class='id identifier rubyid___send__'>__send__</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_define_method'>define_method</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_require_relative'>require_relative</span>.<span class='id identifier rubyid_call'>call</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib'>lib</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    (<span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>self</span><span class='semicolon'>;</span> <span class='kw'>end</span>).<span class='id identifier rubyid___send__'>__send__</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_define_method'>define_method</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rspec/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib'>lib</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="deregister_matcher_definition-class_method">
  <h3 class='signature nodoc'>
    .<strong>deregister_matcher_definition</strong>(&amp;block)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Remove a previously registered matcher. Useful for cleaning up after yourself in specs.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/matcher_definition.rb#L24-L26'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='26'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support/matcher_definition.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_deregister_matcher_definition'>deregister_matcher_definition</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_matcher_definitions'><a href="#matcher_definitions-class_method" title="RSpec::Support.matcher_definitions (method)">matcher_definitions</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="is_a_matcher?-class_method">
  <h3 class='signature nodoc'>
    .<strong>is_a_matcher?</strong>(object)  &#x21d2; <code>Boolean</code> 
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/matcher_definition.rb#L29-L31'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='31'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support/matcher_definition.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_is_a_matcher?'>is_a_matcher?</span>(<span class='id identifier rubyid_object'>object</span>)
  <span class='id identifier rubyid_matcher_definitions'><a href="#matcher_definitions-class_method" title="RSpec::Support.matcher_definitions (method)">matcher_definitions</a></span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_md'>md</span><span class='op'>|</span> <span class='id identifier rubyid_md'>md</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_object'>object</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="matcher_definitions-class_method">
  <h3 class='signature nodoc'>
    .<strong>matcher_definitions</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/matcher_definition.rb#L6-L8'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='6' data-end='8'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support/matcher_definition.rb', line 6</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_matcher_definitions'>matcher_definitions</span>
  <span class='ivar'>@matcher_definitions</span> <span class='op'>||=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="method_handle_for-class_method">
  <h3 class='signature '>
    .<strong>method_handle_for</strong>(object, method_name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See additional method definition at line 54.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L66-L76'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='66' data-end='76'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 66</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_method_handle_for'>method_handle_for</span>(<span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span>)
  <span class='const'><a href="#KERNEL_METHOD_METHOD-constant" title="RSpec::Support::KERNEL_METHOD_METHOD (constant)">KERNEL_METHOD_METHOD</a></span>.<span class='id identifier rubyid_bind'>bind</span>(<span class='id identifier rubyid_object'>object</span>).<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_method_name'>method_name</span>)
<span class='kw'>rescue</span> <span class='const'>NameError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_original'>original</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_handle'>handle</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_method'>method</span>(<span class='id identifier rubyid_method_name'>method_name</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_original'>original</span> <span class='kw'>unless</span> <span class='id identifier rubyid_handle'>handle</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Method</span>
    <span class='id identifier rubyid_handle'>handle</span>
  <span class='kw'>rescue</span> <span class='const'>Support</span><span class='op'>::</span><span class='const'><a href="Support/AllExceptionsExceptOnesWeMustNotRescue.html" title="RSpec::Support::AllExceptionsExceptOnesWeMustNotRescue (module)">AllExceptionsExceptOnesWeMustNotRescue</a></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_original'>original</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="notify_failure-class_method">
  <h3 class='signature nodoc'>
    .<strong>notify_failure</strong>(failure, options = {})  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L118-L120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='118' data-end='120'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 118</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_notify_failure'>notify_failure</span>(<span class='id identifier rubyid_failure'>failure</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span>{})
  <span class='id identifier rubyid_failure_notifier'><a href="#failure_notifier-class_method" title="RSpec::Support.failure_notifier (method)">failure_notifier</a></span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_failure'>failure</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="register_matcher_definition-class_method">
  <h3 class='signature nodoc'>
    .<strong>register_matcher_definition</strong>(&amp;block)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Used internally to break cyclic dependency between mocks, expectations, and support. We don’t currently have a consistent implementation of our matchers, though we are considering changing that: <a href="https://github.com/rspec/rspec-mocks/issues/513">github.com/rspec/rspec-mocks/issues/513</a></p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/matcher_definition.rb#L16-L18'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='16' data-end='18'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support/matcher_definition.rb', line 16</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_register_matcher_definition'>register_matcher_definition</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_matcher_definitions'><a href="#matcher_definitions-class_method" title="RSpec::Support.matcher_definitions (method)">matcher_definitions</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rspec_description_for_object-class_method">
  <h3 class='signature nodoc'>
    .<strong>rspec_description_for_object</strong>(object)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>gives a string representation of an object for use in <a href="../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> descriptions</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support/matcher_definition.rb#L36-L42'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='36' data-end='42'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support/matcher_definition.rb', line 36</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_rspec_description_for_object'>rspec_description_for_object</span>(<span class='id identifier rubyid_object'>object</span>)
  <span class='kw'>if</span> <span class='const'><a href="../RSpec.html" title="RSpec (module)">RSpec</a></span><span class='op'>::</span><span class='const'>Support</span>.<span class='id identifier rubyid_is_a_matcher?'><a href="#is_a_matcher%3F-class_method" title="RSpec::Support.is_a_matcher? (method)">is_a_matcher?</a></span>(<span class='id identifier rubyid_object'>object</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_description'>description</span>)
    <span class='id identifier rubyid_object'>object</span>.<span class='id identifier rubyid_description'>description</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_object'>object</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="thread_local_data-class_method">
  <h3 class='signature '>
    .<strong>thread_local_data</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See additional method definition at line 95.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L99-L101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='99' data-end='101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 99</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_thread_local_data'>thread_local_data</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>.<span class='id identifier rubyid_thread_variable_get'>thread_variable_get</span>(<span class='symbeg'>:</span><span class='id identifier rubyid___rspec'>__rspec</span>) <span class='op'>||</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>.<span class='id identifier rubyid_thread_variable_set'>thread_variable_set</span>(<span class='symbeg'>:</span><span class='id identifier rubyid___rspec'>__rspec</span><span class='comma'>,</span> {})
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_failure_notifier-class_method">
  <h3 class='signature nodoc'>
    .<strong>with_failure_notifier</strong>(callable)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-support/blob/main/lib/rspec/support.rb#L123-L129'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='123' data-end='129'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-support/lib/rspec/support.rb', line 123</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_with_failure_notifier'>with_failure_notifier</span>(<span class='id identifier rubyid_callable'>callable</span>)
  <span class='id identifier rubyid_orig_notifier'>orig_notifier</span> <span class='op'>=</span> <span class='id identifier rubyid_failure_notifier'><a href="#failure_notifier-class_method" title="RSpec::Support.failure_notifier (method)">failure_notifier</a></span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_failure_notifier'><a href="#failure_notifier-class_method" title="RSpec::Support.failure_notifier (method)">failure_notifier</a></span> <span class='op'>=</span> <span class='id identifier rubyid_callable'>callable</span>
  <span class='kw'>yield</span>
<span class='kw'>ensure</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_failure_notifier'><a href="#failure_notifier-class_method" title="RSpec::Support.failure_notifier (method)">failure_notifier</a></span> <span class='op'>=</span> <span class='id identifier rubyid_orig_notifier'>orig_notifier</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>