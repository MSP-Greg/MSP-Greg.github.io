<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: RSpec::Core::SharedExampleGroup &mdash; RSpec main</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RSpec::Core::SharedExampleGroup",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>RSpec main</a> &raquo; 
      <a href='../../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../../RSpec.html" title="RSpec (module)">RSpec</a> &raquo; 
        <a href="../Core.html" title="RSpec::Core (module)">Core</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SharedExampleGroup&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: RSpec::Core::SharedExampleGroup</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="SharedExampleGroup/TopLevelDSL.html" title="RSpec::Core::SharedExampleGroup::TopLevelDSL (module)"><code>TopLevelDSL</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="SharedExampleGroup/Registry.html" title="RSpec::Core::SharedExampleGroup::Registry (class)"><code>Registry</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Extended In:</div>
      <div class='box_11'>
        <a href="AnonymousExampleGroup.html" title="RSpec::Core::AnonymousExampleGroup (class)"><code>AnonymousExampleGroup</code></a>,
          <a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)"><code>ExampleGroup</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/shared_example_group.rb#L57'>rspec-core/lib/rspec/core/shared_example_group.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shared example groups let you define common context and/or common examples that you wish to use in multiple example groups.</p>

<p>When defined, the shared group block is stored for later evaluation. It can later be included in an example group either explicitly (using <code>include_examples</code>, <code>include_context</code> or <code>it_behaves_like</code>) or implicitly (via matching metadata).</p>

<p>Named shared example groups are scoped based on where they are defined. Shared groups defined in an example group are available for inclusion in that example group or any child example groups, but not in any parent or sibling example groups. Shared example groups defined at the top level can be included from any example group.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#shared_context-instance_method" title="#shared_context (instance method)">#<strong>shared_context</strong>(name, *args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#shared_examples-instance_method" title="RSpec::Core::SharedExampleGroup#shared_examples (method)">#shared_examples</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shared_examples-instance_method" title="#shared_examples (instance method)">#<strong>shared_examples</strong>(name, &amp;block)  </a>
      (also: #shared_context, #shared_examples_for)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Stores the block for later use.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shared_examples_for-instance_method" title="#shared_examples_for (instance method)">#<strong>shared_examples_for</strong>(name, *args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#shared_examples-instance_method" title="RSpec::Core::SharedExampleGroup#shared_examples (method)">#shared_examples</a>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="shared_context-instance_method">
  <h3 class='signature  first'>
    #<strong>shared_context</strong>(name, *args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#shared_examples-instance_method" title="RSpec::Core::SharedExampleGroup#shared_examples (method)">#shared_examples</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/shared_example_group.rb#L100-L100'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='100' data-end='100'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/shared_example_group.rb', line 100</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_shared_context'>shared_context</span>      <span class='id identifier rubyid_shared_examples'><a href="#shared_examples-instance_method" title="RSpec::Core::SharedExampleGroup#shared_examples (method)">shared_examples</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shared_examples-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>shared_examples</strong>(name, &amp;block)  </span>
      <span class='overload'>#<strong>shared_examples</strong>(name, metadata, &amp;block)  </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#shared_context, #shared_examples_for</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Stores the block for later use. The block will be evaluated in the context of an example group via <code>include_examples</code>, <code>include_context</code>, or <code>it_behaves_like</code>.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_shared_examples'>shared_examples</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>auditable</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stores an audit record on save!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_expect'><a href="../Mocks/ExampleMethods.html#expect-instance_method" title="RSpec::Mocks::ExampleMethods#expect (method)">expect</a></span> { <span class='id identifier rubyid_auditable'>auditable</span>.<span class='id identifier rubyid_save!'>save!</span> }.<span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_change'>change</span>(<span class='const'>Audit</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_count'>count</span>).<span class='id identifier rubyid_by'>by</span>(<span class='int'>1</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_describe'>describe</span> <span class='const'>Account</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_it_behaves_like'>it_behaves_like</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>auditable</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_let'>let</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_auditable'>auditable</span>) { <span class='const'>Account</span>.<span class='id identifier rubyid_new'>new</span> }
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
  </div>
  <p class='tag_title'>Overloads:</p>
  <ul class='overload'>

      <li class='overload_item'>
        <span class='signature'>#<strong>shared_examples</strong>(name, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>name</span>
    <span class='type'>(<code>String</code>, <code>Symbol</code>, <code>Module</code>)</span>
&mdash;    <div class='inline'>
<p>identifer to use when looking up this shared group</p>
</div>
  </li>
  <li>
    <span class='name'>block</span>
    <span class='type'></span>
&mdash;    <div class='inline'>
<p>The block to be eval’d</p>
</div>
  </li>
</ul>

</div>

      </li>

      <li class='overload_item'>
        <span class='signature'>#<strong>shared_examples</strong>(name, metadata, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>name</span>
    <span class='type'>(<code>String</code>, <code>Symbol</code>, <code>Module</code>)</span>
&mdash;    <div class='inline'>
<p>identifer to use when looking up this shared group</p>
</div>
  </li>
  <li>
    <span class='name'>metadata</span>
    <span class='type'>(<code>Array</code>&lt;<code>Symbol</code>&gt;, <code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>metadata to attach to this group; any example group or example with matching metadata will automatically include this shared example group.</p>
</div>
  </li>
  <li>
    <span class='name'>block</span>
    <span class='type'></span>
&mdash;    <div class='inline'>
<p>The block to be eval’d</p>
</div>
  </li>
</ul>

</div>

      </li>
  </ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><code>ExampleGroup.it_behaves_like</code></li>
          <li><a href="ExampleGroup.html#include_examples-class_method" title="RSpec::Core::ExampleGroup.include_examples (method)">ExampleGroup.include_examples</a></li>
          <li><a href="ExampleGroup.html#include_context-class_method" title="RSpec::Core::ExampleGroup.include_context (method)">ExampleGroup.include_context</a></li>
      </ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/shared_example_group.rb#L90-L99'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='90' data-end='99'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/shared_example_group.rb', line 90</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shared_examples'>shared_examples</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_top_level'>top_level</span> <span class='op'>=</span> <span class='kw'>self</span> <span class='op'>==</span> <span class='const'><a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)">ExampleGroup</a></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_top_level'>top_level</span> <span class='op'>&amp;&amp;</span> <span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span><span class='op'>::</span><span class='const'><a href="../Support.html" title="RSpec::Support (module)">Support</a></span>.<span class='id identifier rubyid_thread_local_data'><a href="../Support.html#thread_local_data-class_method" title="RSpec::Support.thread_local_data (method)">thread_local_data</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_in_example_group'>in_example_group</span>]
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Creating isolated shared examples from within a context is </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not allowed. Remove `RSpec.` prefix or move this to a </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>top-level scope.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_world'><a href="../../RSpec.html#world-class_method" title="RSpec.world (method)">world</a></span>.<span class='id identifier rubyid_shared_example_group_registry'>shared_example_group_registry</span>.<span class='id identifier rubyid_add'>add</span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shared_examples_for-instance_method">
  <h3 class='signature '>
    #<strong>shared_examples_for</strong>(name, *args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#shared_examples-instance_method" title="RSpec::Core::SharedExampleGroup#shared_examples (method)">#shared_examples</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/shared_example_group.rb#L101-L101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='101' data-end='101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/shared_example_group.rb', line 101</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_shared_examples_for'>shared_examples_for</span> <span class='id identifier rubyid_shared_examples'><a href="#shared_examples-instance_method" title="RSpec::Core::SharedExampleGroup#shared_examples (method)">shared_examples</a></span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>