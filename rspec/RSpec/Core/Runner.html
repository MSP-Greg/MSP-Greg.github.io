<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RSpec::Core::Runner &mdash; RSpec main</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RSpec::Core::Runner",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>RSpec main</a> &raquo; 
      <a href='../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../RSpec.html" title="RSpec (module)">RSpec</a> &raquo; 
        <a href="../Core.html" title="RSpec::Core (module)">Core</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Runner&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: RSpec::Core::Runner</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L4'>rspec-core/lib/rspec/core/runner.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Provides the main entry point to run a suite of <a href="../../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> examples.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#autorun_disabled%3F-class_method" title=".autorun_disabled? (class method)">.<strong>autorun_disabled?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#installed_at_exit%3F-class_method" title=".installed_at_exit? (class method)">.<strong>installed_at_exit?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#running_in_drb%3F-class_method" title=".running_in_drb? (class method)">.<strong>running_in_drb?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#autorun-class_method" title=".autorun (class method)">.<strong>autorun</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Register an <code>at_exit</code> hook that runs the suite when the process exits.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#disable_autorun!-class_method" title=".disable_autorun! (class method)">.<strong>disable_autorun!</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#handle_interrupt-class_method" title=".handle_interrupt (class method)">.<strong>handle_interrupt</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#invoke-class_method" title=".invoke (class method)">.<strong>invoke</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Runs the suite of specs and exits the process with an appropriate exit code.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(options, configuration = RSpec.configuration, world = RSpec.world)  &#x21d2; Runner </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#perform_at_exit-class_method" title=".perform_at_exit (class method)">.<strong>perform_at_exit</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#run-class_method" title=".run (class method)">.<strong>run</strong>(args, err = $stderr, out = $stdout)  &#x21d2; Fixnum </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Run a suite of <a href="../../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> examples.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#trap_interrupt-class_method" title=".trap_interrupt (class method)">.<strong>trap_interrupt</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#configuration-instance_method" title="#configuration (instance method)">#<strong>configuration</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#world-instance_method" title="#world (instance method)">#<strong>world</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#configure-instance_method" title="#configure (instance method)">#<strong>configure</strong>(err, out)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#exit_code-instance_method" title="#exit_code (instance method)">#<strong>exit_code</strong>(examples_passed = false)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>(err, out)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Configures and runs a spec suite.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#run_specs-instance_method" title="#run_specs (instance method)">#<strong>run_specs</strong>(example_groups)  &#x21d2; Fixnum </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Runs the provided example groups.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setup-instance_method" title="#setup (instance method)">#<strong>setup</strong>(err, out)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Wires together the various configuration objects and state holders.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#persist_example_statuses-instance_method" title="#persist_example_statuses (instance method)">#<strong>persist_example_statuses</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(options, configuration = RSpec.configuration, world = RSpec.world)  &#x21d2; <code>Runner</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L75-L79'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='75' data-end='79'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 75</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span><span class='comma'>,</span> <span class='id identifier rubyid_configuration'><a href="#configuration-instance_method" title="RSpec::Core::Runner#configuration (method)">configuration</a></span><span class='op'>=</span><span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_configuration'><a href="#configuration-instance_method" title="RSpec::Core::Runner#configuration (method)">configuration</a></span><span class='comma'>,</span> <span class='id identifier rubyid_world'><a href="#world-instance_method" title="RSpec::Core::Runner#world (method)">world</a></span><span class='op'>=</span><span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_world'><a href="#world-instance_method" title="RSpec::Core::Runner#world (method)">world</a></span>)
  <span class='ivar'>@options</span>       <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span>
  <span class='ivar'>@configuration</span> <span class='op'>=</span> <span class='id identifier rubyid_configuration'><a href="#configuration-instance_method" title="RSpec::Core::Runner#configuration (method)">configuration</a></span>
  <span class='ivar'>@world</span>         <span class='op'>=</span> <span class='id identifier rubyid_world'><a href="#world-instance_method" title="RSpec::Core::Runner#world (method)">world</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="autorun_disabled?-class_method">
  <h3 class='signature ro  nodoc first'>
    .<strong>autorun_disabled?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L141-L143'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='141' data-end='143'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_autorun_disabled?'>autorun_disabled?</span>
  <span class='ivar'>@autorun_disabled</span> <span class='op'>||=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="installed_at_exit?-class_method">
  <h3 class='signature ro  nodoc'>
    .<strong>installed_at_exit?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L146-L148'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='146' data-end='148'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 146</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_installed_at_exit?'>installed_at_exit?</span>
  <span class='ivar'>@installed_at_exit</span> <span class='op'>||=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="running_in_drb?-class_method">
  <h3 class='signature ro  nodoc'>
    .<strong>running_in_drb?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L151-L172'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='151' data-end='172'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 151</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_running_in_drb?'>running_in_drb?</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='const'>DRb</span>)

  <span class='id identifier rubyid_server'>server</span> <span class='op'>=</span> <span class='kw'>begin</span>
             <span class='const'>DRb</span>.<span class='id identifier rubyid_current_server'>current_server</span>
           <span class='kw'>rescue</span> <span class='const'>DRb</span><span class='op'>::</span><span class='const'>DRbServerNotFound</span>
             <span class='kw'>return</span> <span class='kw'>false</span>
           <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_server'>server</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_server'>server</span>.<span class='id identifier rubyid_alive?'>alive?</span>

  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>socket</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_local_ipv4'>local_ipv4</span> <span class='op'>=</span> <span class='kw'>begin</span>
                 <span class='const'>IPSocket</span>.<span class='id identifier rubyid_getaddress'>getaddress</span>(<span class='const'>Socket</span>.<span class='id identifier rubyid_gethostname'>gethostname</span>)
               <span class='kw'>rescue</span> <span class='const'>SocketError</span>
                 <span class='kw'>return</span> <span class='kw'>false</span>
               <span class='kw'>end</span>

  [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_local_ipv4'>local_ipv4</span>].<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_addr'>addr</span><span class='op'>|</span> <span class='id identifier rubyid_addr'>addr</span> <span class='op'>==</span> <span class='const'>URI</span>(<span class='const'>DRb</span>.<span class='id identifier rubyid_current_server'>current_server</span>.<span class='id identifier rubyid_uri'>uri</span>).<span class='id identifier rubyid_host'>host</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="autorun-class_method">
  <h3 class='signature  first'>
    .<strong>autorun</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This is not generally needed. The <code>rspec</code> command takes care of running examples for you without involving an <code>at_exit</code> hook. This is only needed if you are running specs using the <code>ruby</code> command, and even then, the normal way to invoke this is by requiring <code>rspec/autorun</code>.</p>
</div>
  </div>


<p>Register an <code>at_exit</code> hook that runs the suite when the process exits.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L16-L26'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='16' data-end='26'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 16</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_autorun'>autorun</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_autorun_disabled?'><a href="#autorun_disabled%3F-class_method" title="RSpec::Core::Runner.autorun_disabled? (method)">autorun_disabled?</a></span>
    <span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_deprecate'><a href="../Support/Warnings.html#deprecate-instance_method" title="RSpec::Support::Warnings#deprecate (method)">deprecate</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Requiring `rspec/autorun` when running RSpec via the `rspec` command</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>return</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_installed_at_exit?'><a href="#installed_at_exit%3F-class_method" title="RSpec::Core::Runner.installed_at_exit? (method)">installed_at_exit?</a></span> <span class='op'>||</span> <span class='id identifier rubyid_running_in_drb?'><a href="#running_in_drb%3F-class_method" title="RSpec::Core::Runner.running_in_drb? (method)">running_in_drb?</a></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_at_exit'>at_exit</span> { <span class='id identifier rubyid_perform_at_exit'><a href="#perform_at_exit-class_method" title="RSpec::Core::Runner.perform_at_exit (method)">perform_at_exit</a></span> }
  <span class='ivar'>@installed_at_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="disable_autorun!-class_method">
  <h3 class='signature nodoc'>
    .<strong>disable_autorun!</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L136-L138'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='136' data-end='138'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 136</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_disable_autorun!'>disable_autorun!</span>
  <span class='ivar'>@autorun_disabled</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="handle_interrupt-class_method">
  <h3 class='signature nodoc'>
    .<strong>handle_interrupt</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L180-L191'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='180' data-end='191'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 180</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_handle_interrupt'>handle_interrupt</span>
  <span class='kw'>if</span> <span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_world'><a href="../../RSpec.html#world-class_method" title="RSpec.world (method)">world</a></span>.<span class='id identifier rubyid_wants_to_quit'>wants_to_quit</span>
    <span class='id identifier rubyid_exit!'>exit!</span>(<span class='int'>1</span>)
  <span class='kw'>else</span>
    <span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_world'><a href="../../RSpec.html#world-class_method" title="RSpec.world (method)">world</a></span>.<span class='id identifier rubyid_wants_to_quit'>wants_to_quit</span> <span class='op'>=</span> <span class='kw'>true</span>

    <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span>(
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nRSpec is shutting down and will print the summary report... Interrupt again to force quit </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(warning: at_exit hooks will be skipped if you force quit).</span><span class='tstring_end'>&quot;</span></span>
    )
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="invoke-class_method">
  <h3 class='signature '>
    .<strong>invoke</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Runs the suite of specs and exits the process with an appropriate exit code.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L43-L47'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='43' data-end='47'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 43</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_invoke'>invoke</span>
  <span class='id identifier rubyid_disable_autorun!'><a href="#disable_autorun!-class_method" title="RSpec::Core::Runner.disable_autorun! (method)">disable_autorun!</a></span>
  <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='id identifier rubyid_run'><a href="#run-class_method" title="RSpec::Core::Runner.run (method)">run</a></span>(<span class='const'>ARGV</span><span class='comma'>,</span> <span class='gvar'>$stderr</span><span class='comma'>,</span> <span class='gvar'>$stdout</span>).<span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_exit'>exit</span>(<span class='id identifier rubyid_status'>status</span>) <span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>!=</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="perform_at_exit-class_method">
  <h3 class='signature nodoc'>
    .<strong>perform_at_exit</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L29-L39'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='39'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_perform_at_exit'>perform_at_exit</span>
  <span class='comment'># Don&#39;t bother running any specs and just let the program terminate
</span>  <span class='comment'># if we got here due to an unrescued exception (anything other than
</span>  <span class='comment'># SystemExit, which is raised when somebody calls Kernel#exit).
</span>  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='gvar'>$!</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='gvar'>$!</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>SystemExit</span>)

  <span class='comment'># We got here because either the end of the program was reached or
</span>  <span class='comment'># somebody called Kernel#exit. Run the specs and then override any
</span>  <span class='comment'># existing exit status with RSpec&#39;s exit status if any specs failed.
</span>  <span class='id identifier rubyid_invoke'><a href="#invoke-class_method" title="RSpec::Core::Runner.invoke (method)">invoke</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run-class_method">
  <h3 class='signature '>
    .<strong>run</strong>(args, err = $stderr, out = $stdout)  &#x21d2; <code>Fixnum</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Run a suite of <a href="../../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> examples. Does not exit.</p>

<p>This is used internally by <a href="../../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> to run a suite, but is available for use by any other automation tool.</p>

<p>If you want to run this multiple times in the same process, and you want files like <code>spec_helper.rb</code> to be reloaded, be sure to load <code>load</code> instead of <code>require</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>args</span>
    <span class='type'>(<code>Array</code>)</span>
&mdash;    <div class='inline'>
<p>command-line-supported arguments</p>
</div>
  </li>
  <li>
    <span class='name'>err</span>
    <span class='type'>(<code>IO</code>)</span>
    <em class='default'>(defaults to: <tt>$stderr</tt>)</em>
&mdash;    <div class='inline'>
<p>error stream</p>
</div>
  </li>
  <li>
    <span class='name'>out</span>
    <span class='type'>(<code>IO</code>)</span>
    <em class='default'>(defaults to: <tt>$stdout</tt>)</em>
&mdash;    <div class='inline'>
<p>output stream</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Fixnum</code>)</span>
&mdash;    <div class='inline'>
<p>exit status code. 0 if all specs passed, or the configured failure exit code (1 by default) if specs failed.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L64-L73'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='64' data-end='73'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 64</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_run'>run</span>(<span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_err'>err</span><span class='op'>=</span><span class='gvar'>$stderr</span><span class='comma'>,</span> <span class='id identifier rubyid_out'>out</span><span class='op'>=</span><span class='gvar'>$stdout</span>)
  <span class='id identifier rubyid_trap_interrupt'><a href="#trap_interrupt-class_method" title="RSpec::Core::Runner.trap_interrupt (method)">trap_interrupt</a></span>
  <span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span> <span class='op'>=</span> <span class='const'><a href="ConfigurationOptions.html" title="RSpec::Core::ConfigurationOptions (class)">ConfigurationOptions</a></span>.<span class='id identifier rubyid_new'><a href="ConfigurationOptions.html#new-class_method" title="RSpec::Core::ConfigurationOptions.new (method)">new</a></span>(<span class='id identifier rubyid_args'>args</span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span>.<span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_runner'>runner</span>]
    <span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span>.<span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_runner'>runner</span>].<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span><span class='comma'>,</span> <span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='id identifier rubyid_out'>out</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_new'><a href="#new-class_method" title="RSpec::Core::Runner.new (method)">new</a></span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span>).<span class='id identifier rubyid_run'>run</span>(<span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='id identifier rubyid_out'>out</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="trap_interrupt-class_method">
  <h3 class='signature nodoc'>
    .<strong>trap_interrupt</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L175-L177'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='175' data-end='177'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 175</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_trap_interrupt'>trap_interrupt</span>
  <span class='id identifier rubyid_trap'>trap</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>INT</span><span class='tstring_end'>&#39;</span></span>) { <span class='id identifier rubyid_handle_interrupt'><a href="#handle_interrupt-class_method" title="RSpec::Core::Runner.handle_interrupt (method)">handle_interrupt</a></span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="configuration-instance_method">
  <h3 class='signature ro  nodoc first'>
    #<strong>configuration</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L7-L7'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7' data-end='7'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 7</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_configuration'>configuration</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_world'><a href="#world-instance_method" title="RSpec::Core::Runner#world (method)">world</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>options</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L7-L7'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7' data-end='7'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 7</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_configuration'><a href="#configuration-instance_method" title="RSpec::Core::Runner#configuration (method)">configuration</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_world'><a href="#world-instance_method" title="RSpec::Core::Runner#world (method)">world</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="world-instance_method">
  <h3 class='signature ro  nodoc'>
    #<strong>world</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L7-L7'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='7' data-end='7'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 7</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'><a href="#options-instance_method" title="RSpec::Core::Runner#options (method)">options</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_configuration'><a href="#configuration-instance_method" title="RSpec::Core::Runner#configuration (method)">configuration</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_world'>world</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="configure-instance_method">
  <h3 class='signature nodoc first'>
    #<strong>configure</strong>(err, out)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L129-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='129' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 129</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_configure'>configure</span>(<span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='id identifier rubyid_out'>out</span>)
  <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_error_stream'>error_stream</span> <span class='op'>=</span> <span class='id identifier rubyid_err'>err</span>
  <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_output_stream'>output_stream</span> <span class='op'>=</span> <span class='id identifier rubyid_out'>out</span> <span class='kw'>if</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_output_stream'>output_stream</span> <span class='op'>==</span> <span class='gvar'>$stdout</span>
  <span class='ivar'>@options</span>.<span class='id identifier rubyid_configure'>configure</span>(<span class='ivar'>@configuration</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="exit_code-instance_method">
  <h3 class='signature nodoc'>
    #<strong>exit_code</strong>(examples_passed = false)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L194-L199'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='194' data-end='199'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 194</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_exit_code'>exit_code</span>(<span class='id identifier rubyid_examples_passed'>examples_passed</span><span class='op'>=</span><span class='kw'>false</span>)
  <span class='kw'>return</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_error_exit_code'>error_exit_code</span> <span class='op'>||</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_failure_exit_code'>failure_exit_code</span> <span class='kw'>if</span> <span class='ivar'>@world</span>.<span class='id identifier rubyid_non_example_failure'>non_example_failure</span>
  <span class='kw'>return</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_failure_exit_code'>failure_exit_code</span> <span class='kw'>unless</span> <span class='id identifier rubyid_examples_passed'>examples_passed</span>

  <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="persist_example_statuses-instance_method">
  <h3 class='signature priv'>
    #<strong>persist_example_statuses</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L203-L213'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='203' data-end='213'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 203</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_persist_example_statuses'>persist_example_statuses</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_dry_run'>dry_run</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> (<span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_example_status_persistence_file_path'>example_status_persistence_file_path</span>)

  <span class='const'><a href="ExampleStatusPersister.html" title="RSpec::Core::ExampleStatusPersister (class)">ExampleStatusPersister</a></span>.<span class='id identifier rubyid_persist'><a href="ExampleStatusPersister.html#persist-class_method" title="RSpec::Core::ExampleStatusPersister.persist (method)">persist</a></span>(<span class='ivar'>@world</span>.<span class='id identifier rubyid_all_examples'>all_examples</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>)
<span class='kw'>rescue</span> <span class='const'>SystemCallError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_warning'><a href="../Support/Warnings.html#warning-instance_method" title="RSpec::Support::Warnings#warning (method)">warning</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not write example statuses to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'> (configured as </span><span class='tstring_end'>&quot;</span></span> \
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`config.example_status_persistence_file_path`) due to a </span><span class='tstring_end'>&quot;</span></span> \
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>system error: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Please check that the config </span><span class='tstring_end'>&quot;</span></span> \
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>option is set to an accessible, valid file path</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_call_site'>call_site</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run-instance_method">
  <h3 class='signature '>
    #<strong>run</strong>(err, out)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Configures and runs a spec suite.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>err</span>
    <span class='type'>(<code>IO</code>)</span>
&mdash;    <div class='inline'>
<p>error stream</p>
</div>
  </li>
  <li>
    <span class='name'>out</span>
    <span class='type'>(<code>IO</code>)</span>
&mdash;    <div class='inline'>
<p>output stream</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L85-L92'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='85' data-end='92'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 85</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span>(<span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='id identifier rubyid_out'>out</span>)
  <span class='id identifier rubyid_setup'><a href="#setup-instance_method" title="RSpec::Core::Runner#setup (method)">setup</a></span>(<span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='id identifier rubyid_out'>out</span>)
  <span class='kw'>return</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_reporter'>reporter</span>.<span class='id identifier rubyid_exit_early'>exit_early</span>(<span class='id identifier rubyid_exit_code'><a href="#exit_code-instance_method" title="RSpec::Core::Runner#exit_code (method)">exit_code</a></span>) <span class='kw'>if</span> <span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_world'><a href="../../RSpec.html#world-class_method" title="RSpec.world (method)">world</a></span>.<span class='id identifier rubyid_wants_to_quit'>wants_to_quit</span>

  <span class='id identifier rubyid_run_specs'><a href="#run_specs-instance_method" title="RSpec::Core::Runner#run_specs (method)">run_specs</a></span>(<span class='ivar'>@world</span>.<span class='id identifier rubyid_ordered_example_groups'>ordered_example_groups</span>).<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_persist_example_statuses'><a href="#persist_example_statuses-instance_method" title="RSpec::Core::Runner#persist_example_statuses (method)">persist_example_statuses</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run_specs-instance_method">
  <h3 class='signature '>
    #<strong>run_specs</strong>(example_groups)  &#x21d2; <code>Fixnum</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Runs the provided example groups.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>example_groups</span>
    <span class='type'>(<code>Array</code>&lt;<a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)">RSpec::Core::ExampleGroup</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>groups to run</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Fixnum</code>)</span>
&mdash;    <div class='inline'>
<p>exit status code. 0 if all specs passed, or the configured failure exit code (1 by default) if specs failed.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L113-L126'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='113' data-end='126'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 113</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run_specs'>run_specs</span>(<span class='id identifier rubyid_example_groups'>example_groups</span>)
  <span class='id identifier rubyid_examples_count'>examples_count</span> <span class='op'>=</span> <span class='ivar'>@world</span>.<span class='id identifier rubyid_example_count'>example_count</span>(<span class='id identifier rubyid_example_groups'>example_groups</span>)
  <span class='id identifier rubyid_examples_passed'>examples_passed</span> <span class='op'>=</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_reporter'>reporter</span>.<span class='id identifier rubyid_report'>report</span>(<span class='id identifier rubyid_examples_count'>examples_count</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_reporter'>reporter</span><span class='op'>|</span>
    <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_with_suite_hooks'>with_suite_hooks</span> <span class='kw'>do</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_examples_count'>examples_count</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_fail_if_no_examples'>fail_if_no_examples</span>
        <span class='kw'>return</span> <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_failure_exit_code'>failure_exit_code</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_example_groups'>example_groups</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_g'>g</span><span class='op'>|</span> <span class='id identifier rubyid_g'>g</span>.<span class='id identifier rubyid_run'><a href="#run-class_method" title="RSpec::Core::Runner.run (method)">run</a></span>(<span class='id identifier rubyid_reporter'>reporter</span>) }.<span class='id identifier rubyid_all?'>all?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_exit_code'><a href="#exit_code-instance_method" title="RSpec::Core::Runner#exit_code (method)">exit_code</a></span>(<span class='id identifier rubyid_examples_passed'>examples_passed</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setup-instance_method">
  <h3 class='signature '>
    #<strong>setup</strong>(err, out)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Wires together the various configuration objects and state holders.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>err</span>
    <span class='type'>(<code>IO</code>)</span>
&mdash;    <div class='inline'>
<p>error stream</p>
</div>
  </li>
  <li>
    <span class='name'>out</span>
    <span class='type'>(<code>IO</code>)</span>
&mdash;    <div class='inline'>
<p>output stream</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/runner.rb#L98-L105'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='98' data-end='105'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/runner.rb', line 98</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_setup'>setup</span>(<span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='id identifier rubyid_out'>out</span>)
  <span class='id identifier rubyid_configure'><a href="#configure-instance_method" title="RSpec::Core::Runner#configure (method)">configure</a></span>(<span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='id identifier rubyid_out'>out</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_world'><a href="../../RSpec.html#world-class_method" title="RSpec.world (method)">world</a></span>.<span class='id identifier rubyid_wants_to_quit'>wants_to_quit</span>

  <span class='ivar'>@configuration</span>.<span class='id identifier rubyid_load_spec_files'>load_spec_files</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@world</span>.<span class='id identifier rubyid_announce_filters'>announce_filters</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>