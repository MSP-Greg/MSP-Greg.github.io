<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: RSpec::Core::Hooks &mdash; RSpec main</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RSpec::Core::Hooks",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>RSpec main</a> &raquo; 
      <a href='../../_index.html#alpha_H'>Index (H)</a> &raquo; 
        <a href="../../RSpec.html" title="RSpec (module)">RSpec</a> &raquo; 
        <a href="../Core.html" title="RSpec::Core (module)">Core</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Hooks&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: RSpec::Core::Hooks</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Hooks/AfterContextHook.html" title="RSpec::Core::Hooks::AfterContextHook (class)"><code>AfterContextHook</code></a>,
        <a href="Hooks/AfterHook.html" title="RSpec::Core::Hooks::AfterHook (class)"><code>AfterHook</code></a>,
        <a href="Hooks/AroundHook.html" title="RSpec::Core::Hooks::AroundHook (class)"><code>AroundHook</code></a>,
        <a href="Hooks/BeforeHook.html" title="RSpec::Core::Hooks::BeforeHook (class)"><code>BeforeHook</code></a>,
        <a href="Hooks/Hook.html" title="RSpec::Core::Hooks::Hook (class)"><code>Hook</code></a>,
        <a href="Hooks/HookCollections.html" title="RSpec::Core::Hooks::HookCollections (class)"><code>HookCollections</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Extended In:</div>
      <div class='box_11'>
        <a href="AnonymousExampleGroup.html" title="RSpec::Core::AnonymousExampleGroup (class)"><code>AnonymousExampleGroup</code></a>,
          <a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)"><code>ExampleGroup</code></a>
      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="Configuration.html" title="RSpec::Core::Configuration (class)"><code>Configuration</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L9'>rspec-core/lib/rspec/core/hooks.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Provides ‘before`, <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> and <a href="#around-instance_method" title="RSpec::Core::Hooks#around (method)">#around</a> hooks as a means of supporting common setup and teardown. This module is extended onto <a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)"><code>ExampleGroup</code></a>, making the methods available from any <code>describe</code> or <code>context</code> block and included in <a href="Configuration.html" title="RSpec::Core::Configuration (class)"><code>Configuration</code></a>, making them available off of the configuration object to define global setup or teardown logic.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#after-instance_method" title="#after (instance method)">#<strong>after</strong>(&amp;block)  </a>
      (also: #prepend_after)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Declare a block of code to be run after each example (using ‘:example`) or once after all examples n the context (using <code>:context</code>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#append_after-instance_method" title="#append_after (instance method)">#<strong>append_after</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds ‘block` to the back of the list of <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> blocks in the same scope (`:example`, <code>:context</code>, or <code>:suite</code>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#append_before-instance_method" title="#append_before (instance method)">#<strong>append_before</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#around-instance_method" title="#around (instance method)">#<strong>around</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Declare a block of code, parts of which will be run before and parts after the example.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before-instance_method" title="#before (instance method)">#<strong>before</strong>(&amp;block)  </a>
      (also: #append_before)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Declare a block of code to be run before each example (using ‘:example`) or once before any example (using <code>:context</code>).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#hooks-instance_method" title="#hooks (instance method)">#<strong>hooks</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Holds the various registered hooks.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepend_after-instance_method" title="#prepend_after (instance method)">#<strong>prepend_after</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prepend_before-instance_method" title="#prepend_before (instance method)">#<strong>prepend_before</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds ‘block` to the front of the list of <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> blocks in the same scope (`:example`, <code>:context</code>, or <code>:suite</code>).</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="after-instance_method">
  <h3 class='signature  first'>
    <div class='inline-block'>
      <span class='overload'>#<strong>after</strong>(&amp;block)  </span>
      <span class='overload'>#<strong>after</strong>(scope, &amp;block)  </span>
      <span class='overload'>#<strong>after</strong>(scope, *conditions, &amp;block)  </span>
      <span class='overload'>#<strong>after</strong>(conditions, &amp;block)  </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#prepend_after</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The ‘:example` and <code>:context</code> scopes are also available as <code>:each</code> and <code>:all</code>, respectively. Use whichever you prefer.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The ‘:suite` scope is only supported for hooks registered on <a href="../../RSpec.html#configuration-class_method" title="RSpec.configuration (method)">RSpec.configuration</a> since they exist independently of any example or example group.</p>
</div>
  </div>


<p>Declare a block of code to be run after each example (using ‘:example`) or once after all examples n the context (using <code>:context</code>). See <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> for more information about ordering.</p>

<h4 id="label-Exceptions">Exceptions</h4>

<p>‘after` hooks are guaranteed to run even when there are exceptions in <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> hooks or examples. When an exception is raised in an after block, the exception is captured for later reporting, and subsequent <code>after</code> blocks are run.</p>

<h4 id="label-Order">Order</h4>

<p>‘after` hooks are stored in three scopes, which are run in order: <code>:example</code>, <code>:context</code>, and <code>:suite</code>. They can also be declared in several different places: <a href="../../RSpec.html#configure-class_method" title="RSpec.configure (method)">RSpec.configure</a>, a parent group, the current group. They are run in the following order:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_after'>after</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>) <span class='comment'># Declared in the current group.
</span><span class='id identifier rubyid_after'>after</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>) <span class='comment'># Declared in a parent group.
</span><span class='id identifier rubyid_after'>after</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>) <span class='comment'># Declared in RSpec.configure.
</span><span class='id identifier rubyid_after'>after</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_context'>context</span>) <span class='comment'># Declared in the current group.
</span><span class='id identifier rubyid_after'>after</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_context'>context</span>) <span class='comment'># Declared in a parent group.
</span><span class='id identifier rubyid_after'>after</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_context'>context</span>) <span class='comment'># Declared in RSpec.configure.
</span><span class='id identifier rubyid_after'>after</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_suite'>suite</span>)   <span class='comment'># Declared in RSpec.configure.</span></code></pre>

<p>This is the reverse of the order in which ‘before` hooks are run. Similarly, if more than one <code>after</code> is declared within any example group, they are run in reverse order of that in which they are declared. Also <a href="#around-instance_method" title="RSpec::Core::Hooks#around (method)">#around</a> hooks will run after any <code>after</code> example hooks are invoked but before any <code>after</code> context hooks.</p>

  </div>
</div>
<div class='tags'>
    <p class='tag_title'>Overloads:</p>
  <ul class='overload'>


      <li class='overload_item'>
        <span class='signature'>#<strong>after</strong>(scope, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>scope</span>
    <span class='type'>(<code>Symbol</code>)</span>
&mdash;    <div class='inline'>
<p>‘:example`, <code>:context</code>, or <code>:suite</code> (defaults to <code>:example</code>)</p>
</div>
  </li>
</ul>

</div>

      </li>

      <li class='overload_item'>
        <span class='signature'>#<strong>after</strong>(scope, *conditions, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>scope</span>
    <span class='type'>(<code>Symbol</code>)</span>
&mdash;    <div class='inline'>
<p>‘:example`, <code>:context</code>, or <code>:suite</code> (defaults to <code>:example</code>)</p>
</div>
  </li>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<code>Array</code>&lt;<code>Symbol</code>&gt;, <code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>constrains this hook to examples matching these conditions e.g. ‘after(:example, <code>:ui</code> =&gt; true) { … }` will only run with examples or groups declared with `:ui =&gt; true`. Symbols will be transformed into hash entries with <code>true</code> values.</p>
</div>
  </li>
</ul>

</div>

      </li>

      <li class='overload_item'>
        <span class='signature'>#<strong>after</strong>(conditions, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>constrains this hook to examples matching these conditions e.g. ‘after(:example, <code>:ui</code> =&gt; true) { … }` will only run with examples or groups declared with `:ui =&gt; true`.</p>
</div>
  </li>
</ul>

</div>

      </li>
  </ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a></li>
          <li><a href="#around-instance_method" title="RSpec::Core::Hooks#around (method)">#around</a></li>
          <li><a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)"><code>ExampleGroup</code></a></li>
          <li><a href="SharedContext.html" title="RSpec::Core::SharedContext (module)"><code>SharedContext</code></a></li>
          <li><a href="SharedExampleGroup.html" title="RSpec::Core::SharedExampleGroup (module)"><code>SharedExampleGroup</code></a></li>
          <li><a href="Configuration.html" title="RSpec::Core::Configuration (class)"><code>Configuration</code></a></li>
      </ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L277-L279'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='277' data-end='279'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/hooks.rb', line 277</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_after'>after</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_hooks'><a href="#hooks-instance_method" title="RSpec::Core::Hooks#hooks (method)">hooks</a></span>.<span class='id identifier rubyid_register'>register</span> <span class='symbeg'>:</span><span class='id identifier rubyid_prepend'>prepend</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after'>after</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="append_after-instance_method">
  <h3 class='signature '>
    #<strong>append_after</strong>(*args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds ‘block` to the back of the list of <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> blocks in the same scope (`:example`, <code>:context</code>, or <code>:suite</code>).</p>

<p>See <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> for scoping semantics.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L287-L289'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='287' data-end='289'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/hooks.rb', line 287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_append_after'>append_after</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_hooks'><a href="#hooks-instance_method" title="RSpec::Core::Hooks#hooks (method)">hooks</a></span>.<span class='id identifier rubyid_register'>register</span> <span class='symbeg'>:</span><span class='id identifier rubyid_append'>append</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after'><a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">after</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="append_before-instance_method">
  <h3 class='signature '>
    #<strong>append_before</strong>(*args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L204-L204'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='204' data-end='204'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/hooks.rb', line 204</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_append_before'>append_before</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_before'><a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">before</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="around-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>around</strong>(&amp;block)  </span>
      <span class='overload'>#<strong>around</strong>(scope, &amp;block)  </span>
      <span class='overload'>#<strong>around</strong>(scope, *conditions, &amp;block)  </span>
      <span class='overload'>#<strong>around</strong>(conditions, &amp;block)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>the syntax of ‘around` is similar to that of <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> and <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> but the semantics are quite different. <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> and <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> hooks are run in the context of the examples with which they are associated, whereas <code>around</code> hooks are actually responsible for running the examples. Consequently, <code>around</code> hooks do not have direct access to resources that are made available within the examples and their associated <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> and <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> hooks.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>‘:example`/`:each` is the only supported scope.</p>
</div>
  </div>


<p>Declare a block of code, parts of which will be run before and parts after the example. It is your responsibility to run the example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_around'>around</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ex'>ex</span><span class='op'>|</span>
  <span class='comment'># Do some stuff before.
</span>  <span class='id identifier rubyid_ex'>ex</span>.<span class='id identifier rubyid_run'>run</span>
  <span class='comment'># Do some stuff after.
</span><span class='kw'>end</span></code></pre>

<p>The yielded example aliases ‘run` with <code>call</code>, which lets you treat it like a <code>Proc</code>. This is especially handy when working with libraries that manage their own setup and teardown using a block or proc syntax, e.g.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_around'>around</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>) {<span class='op'>|</span><span class='id identifier rubyid_ex'>ex</span><span class='op'>|</span> <span class='const'>Database</span>.<span class='id identifier rubyid_transaction'>transaction</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_ex'>ex</span>)}
<span class='id identifier rubyid_around'>around</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>) {<span class='op'>|</span><span class='id identifier rubyid_ex'>ex</span><span class='op'>|</span> <span class='const'>FakeFS</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_ex'>ex</span>)}</code></pre>

<h4 id="label-Order">Order</h4>

<p>The ‘around` hooks execute surrounding an example and its hooks.</p>

<p>This means after any ‘before` context hooks, but before any <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> example hooks, and similarly after any <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> example hooks but before any <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a> context hooks.</p>

<p>They are not a synonym for ‘before`/`after`.</p>

  </div>
</div>
<div class='tags'>
    <p class='tag_title'>Overloads:</p>
  <ul class='overload'>


      <li class='overload_item'>
        <span class='signature'>#<strong>around</strong>(scope, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>scope</span>
    <span class='type'>(<code>Symbol</code>)</span>
&mdash;    <div class='inline'>
<p>‘:example` (defaults to <code>:example</code>) present for syntax parity with <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> and <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a>, but `:example`/`:each` is the only supported value.</p>
</div>
  </li>
</ul>

</div>

      </li>

      <li class='overload_item'>
        <span class='signature'>#<strong>around</strong>(scope, *conditions, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>scope</span>
    <span class='type'>(<code>Symbol</code>)</span>
&mdash;    <div class='inline'>
<p>‘:example` (defaults to <code>:example</code>) present for syntax parity with <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> and <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a>, but `:example`/`:each` is the only supported value.</p>
</div>
  </li>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<code>Array</code>&lt;<code>Symbol</code>&gt;, <code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>constrains this hook to examples matching these conditions e.g. ‘around(:example, <code>:ui</code> =&gt; true) { … }` will only run with examples or groups declared with `:ui =&gt; true`. Symbols will be transformed into hash entries with <code>true</code> values.</p>
</div>
  </li>
</ul>

</div>

      </li>

      <li class='overload_item'>
        <span class='signature'>#<strong>around</strong>(conditions, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>constrains this hook to examples matching these conditions e.g. ‘around(:example, <code>:ui</code> =&gt; true) { … }` will only run with examples or groups declared with `:ui =&gt; true`.</p>
</div>
  </li>
</ul>

</div>

      </li>
  </ul>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<a href="Example.html" title="RSpec::Core::Example (class)">Example</a>)</span>
&mdash;    <div class='inline'>
<p>the example to run</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L349-L351'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='349' data-end='351'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/hooks.rb', line 349</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_around'>around</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_hooks'><a href="#hooks-instance_method" title="RSpec::Core::Hooks#hooks (method)">hooks</a></span>.<span class='id identifier rubyid_register'>register</span> <span class='symbeg'>:</span><span class='id identifier rubyid_prepend'>prepend</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_around'>around</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>before</strong>(&amp;block)  </span>
      <span class='overload'>#<strong>before</strong>(scope, &amp;block)  </span>
      <span class='overload'>#<strong>before</strong>(scope, *conditions, &amp;block)  </span>
      <span class='overload'>#<strong>before</strong>(conditions, &amp;block)  </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#append_before</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The ‘:example` and <code>:context</code> scopes are also available as <code>:each</code> and <code>:all</code>, respectively. Use whichever you prefer.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The ‘:suite` scope is only supported for hooks registered on <a href="../../RSpec.html#configuration-class_method" title="RSpec.configuration (method)">RSpec.configuration</a> since they exist independently of any example or example group.</p>
</div>
  </div>


<p>Declare a block of code to be run before each example (using ‘:example`) or once before any example (using <code>:context</code>). These are usually declared directly in the <a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)"><code>ExampleGroup</code></a> to which they apply, but they can also be shared across multiple groups.</p>

<p>You can also use ‘before(:suite)` to run a block of code before any example groups are run. This should be declared in <a href="../../RSpec.html#configure-class_method" title="RSpec.configure (method)">RSpec.configure</a>.</p>

<p>Instance variables declared in ‘before(:example)` or <code>before(:context)</code> are accessible within each example.</p>

<h4 id="label-Order">Order</h4>

<p>‘before` hooks are stored in three scopes, which are run in order: <code>:suite</code>, <code>:context</code>, and <code>:example</code>. They can also be declared in several different places: <a href="../../RSpec.html#configure-class_method" title="RSpec.configure (method)">RSpec.configure</a>, a parent group, the current group. They are run in the following order:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_suite'>suite</span>)    <span class='comment'># Declared in RSpec.configure.
</span><span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_context'>context</span>)  <span class='comment'># Declared in RSpec.configure.
</span><span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_context'>context</span>)  <span class='comment'># Declared in a parent group.
</span><span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_context'>context</span>)  <span class='comment'># Declared in the current group.
</span><span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>)  <span class='comment'># Declared in RSpec.configure.
</span><span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>)  <span class='comment'># Declared in a parent group.
</span><span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>)  <span class='comment'># Declared in the current group.</span></code></pre>

<p>If more than one ‘before` is declared within any one example group, they are run in the order in which they are declared. Any <a href="#around-instance_method" title="RSpec::Core::Hooks#around (method)">#around</a> hooks will execute after <code>before</code> context hooks but before any <code>before</code> example hook regardless of where they are declared.</p>

<h4 id="label-Conditions">Conditions</h4>

<p>When you add a conditions hash to ‘before(:example)` or <code>before(:context)</code>, <a href="../../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> will only apply that hook to groups or examples that match the conditions. e.g.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_configure'><a href="../../RSpec.html#configure-class_method" title="RSpec.configure (method)">configure</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span>
  <span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_authorized'>authorized</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_log_in_as'>log_in_as</span> <span class='symbeg'>:</span><span class='id identifier rubyid_authorized_user'>authorized_user</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_describe'>describe</span> <span class='const'>Something</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_authorized'>authorized</span> <span class='op'>=&gt;</span> <span class='kw'>true</span> <span class='kw'>do</span>
  <span class='comment'># The before hook will run in before each example in this group.
</span><span class='kw'>end</span>

<span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_describe'>describe</span> <span class='const'>SomethingElse</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>does something</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_authorized'>authorized</span> <span class='op'>=&gt;</span> <span class='kw'>true</span> <span class='kw'>do</span>
    <span class='comment'># The before hook will run before this example.
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>does something else</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='comment'># The hook will not run before this example.
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<p>Note that filtered config ‘:context` hooks can still be applied to individual examples that have matching metadata. Just like Ruby’s object model is that every object has a singleton class which has only a single instance, RSpec’s model is that every example has a singleton example group containing just the one example.</p>

<h4 id="label-Warning-3A+-60before-28-3Asuite-2C+-3Awith+-3D-3E+-3Aconditions-29-60">Warning: ‘before(:suite, :with =&gt; :conditions)`</h4>

<p>The conditions hash is used to match against specific examples. Since ‘before(:suite)` is not run in relation to any specific example or group, conditions passed along with <code>:suite</code> are effectively ignored.</p>

<h4 id="label-Exceptions">Exceptions</h4>

<p>When an exception is raised in a ‘before` block, <a href="../../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> skips any subsequent <code>before</code> blocks and the example, but runs all of the <code>after(:example)</code> and <code>after(:context)</code> hooks.</p>

<h4 id="label-Warning-3A+implicit+before+blocks">Warning: implicit before blocks</h4>

<p>‘before` hooks can also be declared in shared contexts which get included implicitly either by you or by extension libraries. Since <a href="../../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> runs these in the order in which they are declared within each scope, load order matters, and can lead to confusing results when one before block depends on state that is prepared in another before block that gets run later.</p>

<h4 id="label-Warning-3A+-60before-28-3Acontext-29-60">Warning: ‘before(:context)`</h4>

<p>It is very tempting to use ‘before(:context)` to speed things up, but we recommend that you avoid this as there are a number of gotchas, as well as things that simply don’t work.</p>

<h5 id="label-Context">Context</h5>

<p>‘before(:context)` is run in an example that is generated to provide group context for the block.</p>

<h5 id="label-Instance+variables">Instance variables</h5>

<p>Instance variables declared in ‘before(:context)` are shared across all the examples in the group. This means that each example can change the state of a shared object, resulting in an ordering dependency that can make it difficult to reason about failures.</p>

<h5 id="label-Unsupported+RSpec+constructs">Unsupported RSpec constructs</h5>

<p><a href="../../RSpec.html" title="RSpec (module)"><code>::RSpec</code></a> has several constructs that reset state between each example automatically. These are not intended for use from within ‘before(:context)`:</p>

<pre class="code ruby"><code class="ruby"><span class='op'>*</span> <span class='backtick'>`</span><span class='tstring_content'>let</span><span class='tstring_end'>`</span></span> <span class='id identifier rubyid_declarations'>declarations</span>
<span class='op'>*</span> <span class='backtick'>`</span><span class='tstring_content'>subject</span><span class='tstring_end'>`</span></span> <span class='id identifier rubyid_declarations'>declarations</span>
<span class='op'>*</span> <span class='const'>Any</span> <span class='id identifier rubyid_mocking'>mocking</span><span class='comma'>,</span> <span class='id identifier rubyid_stubbing'>stubbing</span> <span class='kw'>or</span> <span class='id identifier rubyid_test'>test</span> <span class='id identifier rubyid_double'><a href="../Mocks/ExampleMethods.html#double-instance_method" title="RSpec::Mocks::ExampleMethods#double (method)">double</a></span> <span class='id identifier rubyid_declaration'>declaration</span></code></pre>

<h4 id="label-other+frameworks">other frameworks</h4>

<p>Mock object frameworks and database transaction managers (like ActiveRecord) are typically designed around the idea of setting up before an example, running that one example, and then tearing down. This means that mocks and stubs can (sometimes) be declared in ‘before(:context)`, but get torn down before the first real example is ever run.</p>

<p>You <em>can</em> create database-backed model objects in a ‘before(:context)` in rspec-rails, but it will not be wrapped in a transaction for you, so you are on your own to clean up in an <code>after(:context)</code> block.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>before(:example) declared in an <a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)"><code>ExampleGroup</code></a></p>
</div></p>
      <pre class='example code ruby'><code><span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_describe'>describe</span> <span class='const'>Thing</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_example'>example</span>) <span class='kw'>do</span>
    <span class='ivar'>@thing</span> <span class='op'>=</span> <span class='const'>Thing</span>.<span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>does something</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='comment'># Here you can access @thing.
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>before(:context) declared in an <a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)"><code>ExampleGroup</code></a></p>
</div></p>
      <pre class='example code ruby'><code><span class='const'><a href="../../RSpec.html" title="RSpec (module)">RSpec</a></span>.<span class='id identifier rubyid_describe'>describe</span> <span class='const'><a href="Parser.html" title="RSpec::Core::Parser (class)">Parser</a></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_before'>before</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_context'>context</span>) <span class='kw'>do</span>
    <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_file_to_parse'>file_to_parse</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_write'>write</span> <span class='heredoc_beg'>&lt;&lt;-CONTENT</span>
<span class='tstring_content'>        stuff in the file
</span><span class='heredoc_end'>      CONTENT
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_it'>it</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>parses the file</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='const'><a href="Parser.html" title="RSpec::Core::Parser (class)">Parser</a></span>.<span class='id identifier rubyid_parse'><a href="Parser.html#parse-class_method" title="RSpec::Core::Parser.parse (method)">parse</a></span>(<span class='id identifier rubyid_file_to_parse'>file_to_parse</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_after'><a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">after</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_context'>context</span>) <span class='kw'>do</span>
    <span class='const'>File</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_file_to_parse'>file_to_parse</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
  </div>
  <p class='tag_title'>Overloads:</p>
  <ul class='overload'>


      <li class='overload_item'>
        <span class='signature'>#<strong>before</strong>(scope, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>scope</span>
    <span class='type'>(<code>Symbol</code>)</span>
&mdash;    <div class='inline'>
<p>‘:example`, <code>:context</code>, or <code>:suite</code> (defaults to <code>:example</code>)</p>
</div>
  </li>
</ul>

</div>

      </li>

      <li class='overload_item'>
        <span class='signature'>#<strong>before</strong>(scope, *conditions, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>scope</span>
    <span class='type'>(<code>Symbol</code>)</span>
&mdash;    <div class='inline'>
<p>‘:example`, <code>:context</code>, or <code>:suite</code> (defaults to <code>:example</code>)</p>
</div>
  </li>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<code>Array</code>&lt;<code>Symbol</code>&gt;, <code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>constrains this hook to examples matching these conditions e.g. ‘before(:example, <code>:ui</code> =&gt; true) { … }` will only run with examples or groups declared with `:ui =&gt; true`. Symbols will be transformed into hash entries with <code>true</code> values.</p>
</div>
  </li>
</ul>

</div>

      </li>

      <li class='overload_item'>
        <span class='signature'>#<strong>before</strong>(conditions, &amp;block)  </span>
        <div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>constrains this hook to examples matching these conditions e.g. ‘before(:example, <code>:ui</code> =&gt; true) { … }` will only run with examples or groups declared with `:ui =&gt; true`.</p>
</div>
  </li>
</ul>

</div>

      </li>
  </ul>
  <p class='tag_title'>See Also:</p>
  <ul class='see'>
      <li><a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a></li>
          <li><a href="#around-instance_method" title="RSpec::Core::Hooks#around (method)">#around</a></li>
          <li><a href="ExampleGroup.html" title="RSpec::Core::ExampleGroup (class)"><code>ExampleGroup</code></a></li>
          <li><a href="SharedContext.html" title="RSpec::Core::SharedContext (module)"><code>SharedContext</code></a></li>
          <li><a href="SharedExampleGroup.html" title="RSpec::Core::SharedExampleGroup (module)"><code>SharedExampleGroup</code></a></li>
          <li><a href="Configuration.html" title="RSpec::Core::Configuration (class)"><code>Configuration</code></a></li>
      </ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L200-L202'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='200' data-end='202'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/hooks.rb', line 200</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_before'>before</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_hooks'><a href="#hooks-instance_method" title="RSpec::Core::Hooks#hooks (method)">hooks</a></span>.<span class='id identifier rubyid_register'>register</span> <span class='symbeg'>:</span><span class='id identifier rubyid_append'>append</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_before'>before</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="hooks-instance_method">
  <h3 class='signature nodoc'>
    #<strong>hooks</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Holds the various registered hooks.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L355-L357'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='355' data-end='357'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/hooks.rb', line 355</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_hooks'>hooks</span>
  <span class='ivar'>@hooks</span> <span class='op'>||=</span> <span class='const'><a href="Hooks/HookCollections.html" title="RSpec::Core::Hooks::HookCollections (class)">HookCollections</a></span>.<span class='id identifier rubyid_new'><a href="Hooks/HookCollections.html#new-class_method" title="RSpec::Core::Hooks::HookCollections.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='const'><a href="FilterableItemRepository.html" title="RSpec::Core::FilterableItemRepository (module)">FilterableItemRepository</a></span><span class='op'>::</span><span class='const'><a href="FilterableItemRepository/UpdateOptimized.html" title="RSpec::Core::FilterableItemRepository::UpdateOptimized (class)">UpdateOptimized</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepend_after-instance_method">
  <h3 class='signature '>
    #<strong>prepend_after</strong>(*args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">#after</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L281-L281'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='281' data-end='281'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/hooks.rb', line 281</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_prepend_after'>prepend_after</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after'><a href="#after-instance_method" title="RSpec::Core::Hooks#after (method)">after</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepend_before-instance_method">
  <h3 class='signature '>
    #<strong>prepend_before</strong>(*args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds ‘block` to the front of the list of <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> blocks in the same scope (`:example`, <code>:context</code>, or <code>:suite</code>).</p>

<p>See <a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">#before</a> for scoping semantics.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/rspec/rspec-core/blob/main/lib/rspec/core/hooks.rb#L210-L212'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='210' data-end='212'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'rspec-core/lib/rspec/core/hooks.rb', line 210</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prepend_before'>prepend_before</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_hooks'><a href="#hooks-instance_method" title="RSpec::Core::Hooks#hooks (method)">hooks</a></span>.<span class='id identifier rubyid_register'>register</span> <span class='symbeg'>:</span><span class='id identifier rubyid_prepend'>prepend</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_before'><a href="#before-instance_method" title="RSpec::Core::Hooks#before (method)">before</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>