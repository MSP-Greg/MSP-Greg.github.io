<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Capybara::Queries::BaseQuery &mdash; Capybara master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Capybara::Queries::BaseQuery",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Capybara master</a> &raquo; 
      <a href='../../_index.html#alpha_B'>Index (B)</a> &raquo; 
        <a href="../../Capybara.html" title="Capybara (module)">Capybara</a> &raquo; 
        <a class='nodoc' href="../Queries.html" title="Capybara::Queries (module)">Queries</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>BaseQuery&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Capybara::Queries::BaseQuery  <span class='private note title'>Private</span>
</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="ActiveElementQuery.html" title="Capybara::Queries::ActiveElementQuery (class)">ActiveElementQuery</a>, <a href="AncestorQuery.html" title="Capybara::Queries::AncestorQuery (class)">AncestorQuery</a>, <a href="CurrentPathQuery.html" title="Capybara::Queries::CurrentPathQuery (class)">CurrentPathQuery</a>, <a href="MatchQuery.html" title="Capybara::Queries::MatchQuery (class)">MatchQuery</a>, <a href="SelectorQuery.html" title="Capybara::Queries::SelectorQuery (class)">SelectorQuery</a>, <a href="SiblingQuery.html" title="Capybara::Queries::SiblingQuery (class)">SiblingQuery</a>, <a href="StyleQuery.html" title="Capybara::Queries::StyleQuery (class)">StyleQuery</a>, <a href="TextQuery.html" title="Capybara::Queries::TextQuery (class)">TextQuery</a>, <a href="TitleQuery.html" title="Capybara::Queries::TitleQuery (class)">TitleQuery</a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L6'>lib/capybara/queries/base_query.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='COUNT_KEYS-constant' class='summary_signature'>COUNT_KEYS =</span>
    <br/>
    <a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L7-L7'># File 'lib/capybara/queries/base_query.rb', line 7</a>    <pre class='code ruby'><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='tstring_content'>count</span><span class='words_sep'> </span><span class='tstring_content'>minimum</span><span class='words_sep'> </span><span class='tstring_content'>maximum</span><span class='words_sep'> </span><span class='tstring_content'>between</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(options)  &#x21d2; BaseQuery </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wait-class_method" title=".wait (class method)">.<strong>wait</strong>(options, default = Capybara.default_max_wait_time)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#expects_none%3F-instance_method" title="#expects_none? (instance method)">#<strong>expects_none?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks if a count of 0 is valid for the query Returns false if query does not have any count options specified.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_options-instance_method" title="#session_options (instance method)">#<strong>session_options</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#session_options=-instance_method" title="#session_options= (instance method)">#<strong>session_options=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#count_specified%3F-instance_method" title="#count_specified? (instance method)">#<strong>count_specified?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#failure_message-instance_method" title="#failure_message (instance method)">#<strong>failure_message</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Generates a failure message from the query description and count options.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#matches_count%3F-instance_method" title="#matches_count? (instance method)">#<strong>matches_count?</strong>(count)  &#x21d2; Boolean </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks if the given count matches the query count options.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#negative_failure_message-instance_method" title="#negative_failure_message (instance method)">#<strong>negative_failure_message</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#wait-instance_method" title="#wait (instance method)">#<strong>wait</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#assert_valid_keys-instance_method" title="#assert_valid_keys (instance method)">#<strong>assert_valid_keys</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#count_message-instance_method" title="#count_message (instance method)">#<strong>count_message</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#occurrences-instance_method" title="#occurrences (instance method)">#<strong>occurrences</strong>(count)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(options)  &#x21d2; <code>BaseQuery</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L12-L14'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='12' data-end='14'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 12</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>)
  <span class='ivar'>@session_options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_session_options'><a href="#session_options-instance_method" title="Capybara::Queries::BaseQuery#session_options (method)">session_options</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="wait-class_method">
  <h3 class='signature  first'>
    .<strong>wait</strong>(options, default = Capybara.default_max_wait_time)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L24-L29'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='29'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span><span class='comma'>,</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='const'><a href="../../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_default_max_wait_time'><a href="../../Capybara.html#default_max_wait_time-class_method" title="Capybara.default_max_wait_time (method)">default_max_wait_time</a></span>)
  <span class='comment'># if no value or nil for the :wait option is passed it should default to the default
</span>  <span class='id identifier rubyid_wait'>wait</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_wait'>wait</span><span class='comma'>,</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_wait'>wait</span> <span class='op'>=</span> <span class='id identifier rubyid_default'>default</span> <span class='kw'>if</span> <span class='id identifier rubyid_wait'>wait</span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_wait'>wait</span> <span class='op'>||</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="count_specified?-instance_method">
  <h3 class='signature ro priv first'>
    #<strong>count_specified?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L72-L74'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='72' data-end='74'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 72</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_count_specified?'>count_specified?</span>
  <span class='const'><a href="#COUNT_KEYS-constant" title="Capybara::Queries::BaseQuery::COUNT_KEYS (constant)">COUNT_KEYS</a></span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>.<span class='id identifier rubyid_key?'>key?</span> <span class='id identifier rubyid_key'>key</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="expects_none?-instance_method">
  <h3 class='signature ro'>
    #<strong>expects_none?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks if a count of 0 is valid for the query Returns false if query does not have any count options specified.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L36-L38'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='36' data-end='38'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 36</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_expects_none?'>expects_none?</span>
  <span class='id identifier rubyid_count_specified?'><a href="#count_specified%3F-instance_method" title="Capybara::Queries::BaseQuery#count_specified? (method)">count_specified?</a></span> <span class='op'>?</span> <span class='id identifier rubyid_matches_count?'><a href="#matches_count%3F-instance_method" title="Capybara::Queries::BaseQuery#matches_count? (method)">matches_count?</a></span>(<span class='int'>0</span>) <span class='op'>:</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options-instance_method">
  <h3 class='signature ro'>
    #<strong>options</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L9-L9'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9' data-end='9'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 9</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'>options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="session_options-instance_method">
  <h3 class='signature rw'>
    #<strong>session_options</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L16-L18'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='16' data-end='18'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 16</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_session_options'>session_options</span>
  <span class='ivar'>@session_options</span> <span class='op'>||</span> <span class='const'><a href="../../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_session_options'><a href="../../Capybara.html#session_options-class_method" title="Capybara.session_options (method)">session_options</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="session_options=-instance_method">
  <h3 class='signature rw'>
    #<strong>session_options=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L10-L10'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='10' data-end='10'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 10</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_session_options'><a href="#session_options-instance_method" title="Capybara::Queries::BaseQuery#session_options (method)">session_options</a></span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="assert_valid_keys-instance_method">
  <h3 class='signature priv first'>
    #<strong>assert_valid_keys</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L96-L103'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='96' data-end='103'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 96</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_assert_valid_keys'>assert_valid_keys</span>
  <span class='id identifier rubyid_invalid_keys'>invalid_keys</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_keys'>keys</span> <span class='op'>-</span> <span class='id identifier rubyid_valid_keys'>valid_keys</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_invalid_keys'>invalid_keys</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_invalid_names'>invalid_names</span> <span class='op'>=</span> <span class='id identifier rubyid_invalid_keys'>invalid_keys</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_inspect'>inspect</span>).<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_valid_names'>valid_names</span> <span class='op'>=</span> <span class='id identifier rubyid_valid_keys'>valid_keys</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_inspect'>inspect</span>).<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid option(s) </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_invalid_names'>invalid_names</span><span class='embexpr_end'>}</span><span class='tstring_content'>, should be one of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_valid_names'>valid_names</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="count_message-instance_method">
  <h3 class='signature priv'>
    #<strong>count_message</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L76-L90'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='76' data-end='90'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 76</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_count_message'>count_message</span>
  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_count'>count</span><span class='comma'>,</span> <span class='id identifier rubyid_between'>between</span><span class='comma'>,</span> <span class='id identifier rubyid_maximum'>maximum</span><span class='comma'>,</span> <span class='id identifier rubyid_minimum'>minimum</span> <span class='op'>=</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_count'>count</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_between'>between</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_maximum'>maximum</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_minimum'>minimum</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_count'>count</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_occurrences'><a href="#occurrences-instance_method" title="Capybara::Queries::BaseQuery#occurrences (method)">occurrences</a></span> <span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_between'>between</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> between </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_between'>between</span>.<span class='id identifier rubyid_begin'>begin</span> <span class='op'>?</span> <span class='id identifier rubyid_between'>between</span>.<span class='id identifier rubyid_first'>first</span> <span class='op'>:</span> <span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'> and </span><span class='tstring_end'>&quot;</span></span> \
               <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_between'>between</span>.<span class='id identifier rubyid_end'>end</span> <span class='op'>?</span> <span class='id identifier rubyid_between'>between</span>.<span class='id identifier rubyid_last'>last</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>infinite</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'> times</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_maximum'>maximum</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> at most </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_occurrences'><a href="#occurrences-instance_method" title="Capybara::Queries::BaseQuery#occurrences (method)">occurrences</a></span> <span class='id identifier rubyid_maximum'>maximum</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_minimum'>minimum</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> at least </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_occurrences'><a href="#occurrences-instance_method" title="Capybara::Queries::BaseQuery#occurrences (method)">occurrences</a></span> <span class='id identifier rubyid_minimum'>minimum</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_message'>message</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="failure_message-instance_method">
  <h3 class='signature '>
    #<strong>failure_message</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generates a failure message from the query description and count options.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L62-L64'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='62' data-end='64'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_failure_message'>failure_message</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected to find </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_description'>description</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_count_message'><a href="#count_message-instance_method" title="Capybara::Queries::BaseQuery#count_message (method)">count_message</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="matches_count?-instance_method">
  <h3 class='signature '>
    #<strong>matches_count?</strong>(count)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks if the given count matches the query count options. Defaults to true if no count options are specified. If multiple count options exist, it tests that all conditions are met; however, if <code>:count</code> is specified, all other options are ignored.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>count</span>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'>
<p>The actual number. Should be coercible via Integer()</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L49-L56'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='49' data-end='56'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 49</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_matches_count?'>matches_count?</span>(<span class='id identifier rubyid_count'>count</span>)
  <span class='kw'>return</span> (<span class='const'>Integer</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_count'>count</span>]) <span class='op'>==</span> <span class='id identifier rubyid_count'>count</span>) <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_count'>count</span>]
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_maximum'>maximum</span>] <span class='op'>&amp;&amp;</span> (<span class='const'>Integer</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_maximum'>maximum</span>]) <span class='op'>&lt;</span> <span class='id identifier rubyid_count'>count</span>)
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_minimum'>minimum</span>] <span class='op'>&amp;&amp;</span> (<span class='const'>Integer</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_minimum'>minimum</span>]) <span class='op'>&gt;</span> <span class='id identifier rubyid_count'>count</span>)
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_between'>between</span>] <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_between'>between</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_count'>count</span>)

  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="negative_failure_message-instance_method">
  <h3 class='signature '>
    #<strong>negative_failure_message</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L66-L68'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='66' data-end='68'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 66</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_negative_failure_message'>negative_failure_message</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected not to find </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_description'>description</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_count_message'><a href="#count_message-instance_method" title="Capybara::Queries::BaseQuery#count_message (method)">count_message</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="occurrences-instance_method">
  <h3 class='signature priv'>
    #<strong>occurrences</strong>(count)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L92-L94'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='92' data-end='94'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 92</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_occurrences'>occurrences</span>(<span class='id identifier rubyid_count'>count</span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="../Helpers.html" title="Capybara::Helpers (module)">Helpers</a></span>.<span class='id identifier rubyid_declension'><a href="../Helpers.html#declension-class_method" title="Capybara::Helpers.declension (method)">declension</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>time</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>times</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_count'>count</span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="wait-instance_method">
  <h3 class='signature '>
    #<strong>wait</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/queries/base_query.rb#L20-L22'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='20' data-end='22'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/queries/base_query.rb', line 20</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_wait'>wait</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_wait'>wait</span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Capybara::Queries::BaseQuery#options (method)">options</a></span><span class='comma'>,</span> <span class='id identifier rubyid_session_options'><a href="#session_options-instance_method" title="Capybara::Queries::BaseQuery#session_options (method)">session_options</a></span>.<span class='id identifier rubyid_default_max_wait_time'><a href="../../Capybara.html#default_max_wait_time-class_method" title="Capybara.default_max_wait_time (method)">default_max_wait_time</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>