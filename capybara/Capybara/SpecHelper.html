<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Capybara::SpecHelper &mdash; Capybara master</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Capybara::SpecHelper",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Capybara master</a> &raquo; 
      <a href='../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../Capybara.html" title="Capybara (module)">Capybara</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SpecHelper&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Capybara::SpecHelper</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L13'>lib/capybara/spec/spec_helper.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#configure-class_method" title=".configure (class method)">.<strong>configure</strong>(config)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#filter-class_method" title=".filter (class method)">.<strong>filter</strong>(requires, metadata)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset!-class_method" title=".reset! (class method)">.<strong>reset!</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset_threadsafe-class_method" title=".reset_threadsafe (class method)">.<strong>reset_threadsafe</strong>(bool: false, session: nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#run_specs-class_method" title=".run_specs (class method)">.<strong>run_specs</strong>(session, name, **options, &amp;filter_block)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#spec-class_method" title=".spec (class method)">.<strong>spec</strong>(name, *options, &amp;block)  </a>
    </span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#be_an_invalid_element_error-instance_method" title="#be_an_invalid_element_error (instance method)">#<strong>be_an_invalid_element_error</strong>(session)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#extract_content_type-instance_method" title="#extract_content_type (instance method)">#<strong>extract_content_type</strong>(session)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#extract_results-instance_method" title="#extract_results (instance method)">#<strong>extract_results</strong>(session)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quietly-instance_method" title="#quietly (instance method)">#<strong>quietly</strong>(&amp;block)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#silence_stream-instance_method" title="#silence_stream (instance method)">#<strong>silence_stream</strong>(stream)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#with_os_path_separators-instance_method" title="#with_os_path_separators (instance method)">#<strong>with_os_path_separators</strong>(path)  </a>
    </span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="configure-class_method">
  <h3 class='signature  first'>
    .<strong>configure</strong>(config)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L15-L20'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='15' data-end='20'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 15</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_configure'>configure</span>(<span class='id identifier rubyid_config'><a href="../Capybara.html#config-class_method" title="Capybara.config (method)">config</a></span>)
  <span class='id identifier rubyid_config'><a href="../Capybara.html#config-class_method" title="Capybara.config (method)">config</a></span>.<span class='id identifier rubyid_filter_run_excluding'>filter_run_excluding</span> <span class='label'>requires:</span> <span class='id identifier rubyid_method'>method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_filter'><a href="#filter-class_method" title="Capybara::SpecHelper.filter (method)">filter</a></span>).<span class='id identifier rubyid_to_proc'>to_proc</span>
  <span class='id identifier rubyid_config'><a href="../Capybara.html#config-class_method" title="Capybara.config (method)">config</a></span>.<span class='id identifier rubyid_before'>before</span> { <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'>SpecHelper</span>.<span class='id identifier rubyid_reset!'><a href="#reset!-class_method" title="Capybara::SpecHelper.reset! (method)">reset!</a></span> }
  <span class='id identifier rubyid_config'><a href="../Capybara.html#config-class_method" title="Capybara.config (method)">config</a></span>.<span class='id identifier rubyid_after'>after</span> { <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'>SpecHelper</span>.<span class='id identifier rubyid_reset!'><a href="#reset!-class_method" title="Capybara::SpecHelper.reset! (method)">reset!</a></span> }
  <span class='id identifier rubyid_config'><a href="../Capybara.html#config-class_method" title="Capybara.config (method)">config</a></span>.<span class='id identifier rubyid_shared_context_metadata_behavior'>shared_context_metadata_behavior</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_apply_to_host_groups'>apply_to_host_groups</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="filter-class_method">
  <h3 class='signature '>
    .<strong>filter</strong>(requires, metadata)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L45-L53'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='45' data-end='53'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_filter'>filter</span>(<span class='id identifier rubyid_requires'>requires</span><span class='comma'>,</span> <span class='id identifier rubyid_metadata'>metadata</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_requires'>requires</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_metadata'>metadata</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_capybara_skip'>capybara_skip</span>]
    <span class='id identifier rubyid_requires'>requires</span>.<span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_require'>require</span><span class='op'>|</span>
      <span class='id identifier rubyid_metadata'>metadata</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_capybara_skip'>capybara_skip</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_require'>require</span>)
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset!-class_method">
  <h3 class='signature '>
    .<strong>reset!</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L22-L43'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='22' data-end='43'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 22</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset!'>reset!</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_app'><a href="../Capybara.html#app-class_method" title="Capybara.app (method)">app</a></span> <span class='op'>=</span> <span class='const'><a href="../TestApp.html" title="TestApp (class)">TestApp</a></span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_app_host'><a href="../Capybara.html#app_host-class_method" title="Capybara.app_host (method)">app_host</a></span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_default_selector'><a href="../Capybara.html#default_selector-class_method" title="Capybara.default_selector (method)">default_selector</a></span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_xpath'>xpath</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_default_max_wait_time'><a href="../Capybara.html#default_max_wait_time-class_method" title="Capybara.default_max_wait_time (method)">default_max_wait_time</a></span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_default_retry_interval'>default_retry_interval</span> <span class='op'>=</span> <span class='float'>0.01</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_ignore_hidden_elements'>ignore_hidden_elements</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_exact'>exact</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_raise_server_errors'>raise_server_errors</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_visible_text_only'>visible_text_only</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_smart'>smart</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_enable_aria_label'>enable_aria_label</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_enable_aria_role'>enable_aria_role</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_default_set_options'>default_set_options</span> <span class='op'>=</span> {}
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_disable_animation'>disable_animation</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_test_id'>test_id</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_predicates_wait'>predicates_wait</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_default_normalize_ws'>default_normalize_ws</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_use_html5_parsing'><a href="../Capybara.html#use_html5_parsing-class_method" title="Capybara.use_html5_parsing (method)">use_html5_parsing</a></span> <span class='op'>=</span> <span class='op'>!</span><span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTML5_PARSING</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_w3c_click_offset'>w3c_click_offset</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_reset_threadsafe'><a href="#reset_threadsafe-class_method" title="Capybara::SpecHelper.reset_threadsafe (method)">reset_threadsafe</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset_threadsafe-class_method">
  <h3 class='signature '>
    .<strong>reset_threadsafe</strong>(bool: false, session: nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L95-L101'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='95' data-end='101'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 95</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_threadsafe'>reset_threadsafe</span>(<span class='label'>bool:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>session:</span> <span class='kw'>nil</span>)
  <span class='comment'># Work around limit on when threadsafe can be changed
</span>  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Session.html" title="Capybara::Session (class)">Session</a></span>.<span class='id identifier rubyid_class_variable_set'>class_variable_set</span>(<span class='symbeg'>:</span><span class='cvar'>@@instance_created</span><span class='comma'>,</span> <span class='kw'>false</span>) <span class='comment'># rubocop:disable Style/ClassVars
</span>  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_threadsafe'><a href="../Capybara.html#threadsafe-class_method" title="Capybara.threadsafe (method)">threadsafe</a></span> <span class='op'>=</span> <span class='id identifier rubyid_bool'>bool</span>
  <span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_current_session'><a href="../Capybara.html#current_session-class_method" title="Capybara.current_session (method)">current_session</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_current_session'><a href="../Capybara.html#current_session-class_method" title="Capybara.current_session (method)">current_session</a></span>)
  <span class='id identifier rubyid_session'>session</span><span class='op'>&amp;.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span>(<span class='symbeg'>:</span><span class='ivar'>@config</span><span class='comma'>,</span> <span class='kw'>nil</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run_specs-class_method">
  <h3 class='signature '>
    .<strong>run_specs</strong>(session, name, **options, &amp;filter_block)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L60-L93'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='93'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_run_specs'>run_specs</span>(<span class='id identifier rubyid_session'>session</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_filter_block'>filter_block</span>)
  <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='ivar'>@specs</span>
  <span class='const'>RSpec</span>.<span class='id identifier rubyid_describe'>describe</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Session.html" title="Capybara::Session (class)">Session</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'>SpecHelper</span>
    <span class='id identifier rubyid_include'>include</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="RSpecMatchers.html" title="Capybara::RSpecMatchers (module)">RSpecMatchers</a></span>

    <span class='id identifier rubyid_before'>before</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_example'>example</span><span class='op'>|</span>
      <span class='ivar'>@session</span> <span class='op'>=</span> <span class='id identifier rubyid_session'>session</span>
      <span class='id identifier rubyid_instance_exec'>instance_exec</span>(<span class='id identifier rubyid_example'>example</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_filter_block'>filter_block</span>) <span class='kw'>if</span> <span class='id identifier rubyid_filter_block'>filter_block</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_after'>after</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_reset_session!'>reset_session!</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_before'>before</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each'>each</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_psc'>psc</span> <span class='kw'>do</span>
      <span class='const'>SpecHelper</span>.<span class='id identifier rubyid_reset_threadsafe'><a href="#reset_threadsafe-class_method" title="Capybara::SpecHelper.reset_threadsafe (method)">reset_threadsafe</a></span>(<span class='label'>bool:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>session:</span> <span class='id identifier rubyid_session'>session</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_after'>after</span> <span class='label'>psc:</span> <span class='kw'>true</span> <span class='kw'>do</span>
      <span class='const'>SpecHelper</span>.<span class='id identifier rubyid_reset_threadsafe'><a href="#reset_threadsafe-class_method" title="Capybara::SpecHelper.reset_threadsafe (method)">reset_threadsafe</a></span>(<span class='label'>session:</span> <span class='id identifier rubyid_session'>session</span>)
    <span class='kw'>end</span>

    <span class='id identifier rubyid_before'>before</span> <span class='symbeg'>:</span><span class='id identifier rubyid_each'>each</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_exact_false'>exact_false</span> <span class='kw'>do</span>
      <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_exact'>exact</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_specs'>specs</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec_name'>spec_name</span><span class='comma'>,</span> <span class='id identifier rubyid_spec_options'>spec_options</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
      <span class='id identifier rubyid_describe'>describe</span> <span class='id identifier rubyid_spec_name'>spec_name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_spec_options'>spec_options</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_class_eval'>class_eval</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="spec-class_method">
  <h3 class='signature '>
    .<strong>spec</strong>(name, *options, &amp;block)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L55-L58'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='55' data-end='58'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 55</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_spec'>spec</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@specs</span> <span class='op'>||=</span> []
  <span class='ivar'>@specs</span> <span class='op'>&lt;&lt;</span> [<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="be_an_invalid_element_error-instance_method">
  <h3 class='signature  first'>
    #<strong>be_an_invalid_element_error</strong>(session)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L131-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='131' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 131</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_be_an_invalid_element_error'>be_an_invalid_element_error</span>(<span class='id identifier rubyid_session'>session</span>)
  <span class='id identifier rubyid_satisfy'>satisfy</span> { <span class='op'>|</span><span class='id identifier rubyid_error'>error</span><span class='op'>|</span> <span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_driver'>driver</span>.<span class='id identifier rubyid_invalid_element_errors'>invalid_element_errors</span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_error'>error</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='id identifier rubyid_e'>e</span> } }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extract_content_type-instance_method">
  <h3 class='signature '>
    #<strong>extract_content_type</strong>(session)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L126-L129'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='126' data-end='129'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 126</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_content_type'>extract_content_type</span>(<span class='id identifier rubyid_session'>session</span>)
  <span class='id identifier rubyid_expect'>expect</span>(<span class='id identifier rubyid_session'>session</span>).<span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_have_xpath'>have_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//pre[@id=&#39;content_type&#39;]</span><span class='tstring_end'>&quot;</span></span>)
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="../Capybara.html#HTML-class_method" title="Capybara.HTML (method)">HTML</a></span>(<span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_body'>body</span>).<span class='id identifier rubyid_xpath'>xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//pre[@id=&#39;content_type&#39;]</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_text'>text</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extract_results-instance_method">
  <h3 class='signature '>
    #<strong>extract_results</strong>(session)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L119-L124'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='119' data-end='124'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 119</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_results'>extract_results</span>(<span class='id identifier rubyid_session'>session</span>)
  <span class='id identifier rubyid_expect'>expect</span>(<span class='id identifier rubyid_session'>session</span>).<span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_have_xpath'>have_xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//pre[@id=&#39;results&#39;]</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_perms'>perms</span> <span class='op'>=</span> [(<span class='op'>::</span><span class='const'>Sinatra</span><span class='op'>::</span><span class='const'>IndifferentHash</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='op'>::</span><span class='const'>Sinatra</span><span class='op'>::</span><span class='const'>IndifferentHash</span>)].<span class='id identifier rubyid_compact'>compact</span>
  <span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="../Capybara.html#HTML-class_method" title="Capybara.HTML (method)">HTML</a></span>(<span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_body'>body</span>).<span class='id identifier rubyid_xpath'>xpath</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>//pre[@id=&#39;results&#39;]</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_inner_html'>inner_html</span>.<span class='id identifier rubyid_lstrip'>lstrip</span>
  <span class='const'>YAML</span>.<span class='id identifier rubyid_safe_load'>safe_load</span> <span class='id identifier rubyid_results'>results</span><span class='comma'>,</span> <span class='label'>permitted_classes:</span> <span class='id identifier rubyid_perms'>perms</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quietly-instance_method">
  <h3 class='signature '>
    #<strong>quietly</strong>(&amp;block)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L113-L117'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='113' data-end='117'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 113</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quietly'>quietly</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_silence_stream'><a href="#silence_stream-instance_method" title="Capybara::SpecHelper#silence_stream (method)">silence_stream</a></span>(<span class='gvar'>$stdout</span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_silence_stream'><a href="#silence_stream-instance_method" title="Capybara::SpecHelper#silence_stream (method)">silence_stream</a></span>(<span class='gvar'>$stderr</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="silence_stream-instance_method">
  <h3 class='signature '>
    #<strong>silence_stream</strong>(stream)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L104-L111'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='104' data-end='111'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 104</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_silence_stream'>silence_stream</span>(<span class='id identifier rubyid_stream'>stream</span>)
  <span class='id identifier rubyid_old_stream'>old_stream</span> <span class='op'>=</span> <span class='id identifier rubyid_stream'>stream</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_stream'>stream</span>.<span class='id identifier rubyid_reopen'>reopen</span>(<span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>host_os</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_match?'>match?</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>rmswin|mingw</span><span class='regexp_end'>/</span></span>) <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NUL:</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_stream'>stream</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>yield</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_stream'>stream</span>.<span class='id identifier rubyid_reopen'>reopen</span>(<span class='id identifier rubyid_old_stream'>old_stream</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_os_path_separators-instance_method">
  <h3 class='signature '>
    #<strong>with_os_path_separators</strong>(path)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/spec/spec_helper.rb#L135-L137'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='135' data-end='137'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/spec/spec_helper.rb', line 135</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_os_path_separators'>with_os_path_separators</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='const'>Gem</span>.<span class='id identifier rubyid_win_platform?'>win_platform?</span> <span class='op'>?</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>:</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>