<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Capybara::Session &mdash; Capybara master</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Capybara::Session",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Capybara master</a> &raquo; 
      <a href='../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../Capybara.html" title="Capybara (module)">Capybara</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Session&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Capybara::Session</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Minitest/Expectations.html" title="Capybara::Minitest::Expectations (module)"><code>Minitest::Expectations</code></a>,
          <a href="SessionMatchers.html" title="Capybara::SessionMatchers (module)"><code>SessionMatchers</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L38'>lib/capybara/session.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/minitest/spec.rb#L269'>lib/capybara/minitest/spec.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>The <code>Session</code> class represents a single user’s interaction with the system. The <code>Session</code> can use any of the underlying drivers. A session can be initialized manually like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'>Session</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Capybara::Session.new (method)">new</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_culerity'>culerity</span><span class='comma'>,</span> <span class='const'>MyRackApp</span>)</code></pre>

<p>The application given as the second argument is optional. When running <a href="../Capybara.html" title="Capybara (module)"><code>::Capybara</code></a> against an external page, you might want to leave it out:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'>Session</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Capybara::Session.new (method)">new</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_culerity'>culerity</span>)
<span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_visit'><a href="#visit-instance_method" title="Capybara::Session#visit (method)">visit</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.google.com</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>When <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">threadsafe</a> is <code>true</code> the sessions options will be initially set to the current values of the global options and a configuration block can be passed to the session initializer. For available options see <a href="Config.html#OPTIONS-constant" title="Capybara::Config::OPTIONS (constant)">Config::OPTIONS</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'>Session</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Capybara::Session.new (method)">new</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span><span class='comma'>,</span> <span class='const'>MyRackApp</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span><span class='op'>|</span>
  <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_app_host'><a href="../Capybara.html#app_host-class_method" title="Capybara.app_host (method)">app_host</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my_host.dev</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>

<p>The <code>Session</code> provides a number of methods for controlling the navigation of the page, such as <a href="#visit-instance_method" title="Capybara::Session#visit (method)">#visit</a>, <a href="#current_path-instance_method" title="Capybara::Session#current_path (method)">#current_path</a>, and so on. It also delegates a number of methods to a <code>Capybara::Document</code>, representing the current <a href="../Capybara.html#HTML-class_method" title="Capybara.HTML (method)">HTML</a> document. This allows interaction:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_fill_in'>fill_in</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>q</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>with:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Capybara</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_click_button'>click_button</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Search</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_expect'>expect</span>(<span class='id identifier rubyid_session'>session</span>).<span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_have_content'>have_content</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Capybara</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>When using <code>capybara/dsl</code>, the <code>Session</code> is initialized automatically for you.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DOCUMENT_METHODS-constant' class='summary_signature nodoc'>DOCUMENT_METHODS =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L58-L60'># File 'lib/capybara/session.rb', line 58</a>    <pre class='code ruby'><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>title</span><span class='words_sep'> </span><span class='tstring_content'>assert_title</span><span class='words_sep'> </span><span class='tstring_content'>assert_no_title</span><span class='words_sep'> </span><span class='tstring_content'>has_title?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_title?</span><span class='words_sep'>
</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='DSL_METHODS-constant' class='summary_signature'>DSL_METHODS =</span>
    <br/>
    <a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L74-L74'># File 'lib/capybara/session.rb', line 74</a>    <pre class='code ruby'><span class='const'><a href="#NODE_METHODS-constant" title="Capybara::Session::NODE_METHODS (constant)">NODE_METHODS</a></span> <span class='op'>+</span> <span class='const'><a href="#SESSION_METHODS-constant" title="Capybara::Session::SESSION_METHODS (constant)">SESSION_METHODS</a></span> <span class='op'>+</span> <span class='const'><a href="#MODAL_METHODS-constant" title="Capybara::Session::MODAL_METHODS (constant)">MODAL_METHODS</a></span></pre>
  </li>
  <li>
    <span id='MODAL_METHODS-constant' class='summary_signature'>MODAL_METHODS =</span>
    <br/>
    <a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L71-L73'># File 'lib/capybara/session.rb', line 71</a>    <pre class='code ruby'><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>accept_alert</span><span class='words_sep'> </span><span class='tstring_content'>accept_confirm</span><span class='words_sep'> </span><span class='tstring_content'>dismiss_confirm</span><span class='words_sep'> </span><span class='tstring_content'>accept_prompt</span><span class='words_sep'> </span><span class='tstring_content'>dismiss_prompt</span><span class='words_sep'>
</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='NODE_METHODS-constant' class='summary_signature'>NODE_METHODS =</span>
    <br/>
    <a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L41-L56'># File 'lib/capybara/session.rb', line 41</a>    <pre class='code ruby'><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>all</span><span class='words_sep'> </span><span class='tstring_content'>first</span><span class='words_sep'> </span><span class='tstring_content'>attach_file</span><span class='words_sep'> </span><span class='tstring_content'>text</span><span class='words_sep'> </span><span class='tstring_content'>check</span><span class='words_sep'> </span><span class='tstring_content'>choose</span><span class='words_sep'> </span><span class='tstring_content'>scroll_to</span><span class='words_sep'> </span><span class='tstring_content'>scroll_by</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>click</span><span class='words_sep'> </span><span class='tstring_content'>double_click</span><span class='words_sep'> </span><span class='tstring_content'>right_click</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>click_link_or_button</span><span class='words_sep'> </span><span class='tstring_content'>click_button</span><span class='words_sep'> </span><span class='tstring_content'>click_link</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>fill_in</span><span class='words_sep'> </span><span class='tstring_content'>find</span><span class='words_sep'> </span><span class='tstring_content'>find_all</span><span class='words_sep'> </span><span class='tstring_content'>find_button</span><span class='words_sep'> </span><span class='tstring_content'>find_by_id</span><span class='words_sep'> </span><span class='tstring_content'>find_field</span><span class='words_sep'> </span><span class='tstring_content'>find_link</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>has_content?</span><span class='words_sep'> </span><span class='tstring_content'>has_text?</span><span class='words_sep'> </span><span class='tstring_content'>has_css?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_content?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_text?</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>has_no_css?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_xpath?</span><span class='words_sep'> </span><span class='tstring_content'>has_xpath?</span><span class='words_sep'> </span><span class='tstring_content'>select</span><span class='words_sep'> </span><span class='tstring_content'>uncheck</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>has_element?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_element?</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>has_link?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_link?</span><span class='words_sep'> </span><span class='tstring_content'>has_button?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_button?</span><span class='words_sep'> </span><span class='tstring_content'>has_field?</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>has_no_field?</span><span class='words_sep'> </span><span class='tstring_content'>has_checked_field?</span><span class='words_sep'> </span><span class='tstring_content'>has_unchecked_field?</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>has_no_table?</span><span class='words_sep'> </span><span class='tstring_content'>has_table?</span><span class='words_sep'> </span><span class='tstring_content'>unselect</span><span class='words_sep'> </span><span class='tstring_content'>has_select?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_select?</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>has_selector?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_selector?</span><span class='words_sep'> </span><span class='tstring_content'>click_on</span><span class='words_sep'> </span><span class='tstring_content'>has_no_checked_field?</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>has_no_unchecked_field?</span><span class='words_sep'> </span><span class='tstring_content'>query</span><span class='words_sep'> </span><span class='tstring_content'>assert_selector</span><span class='words_sep'> </span><span class='tstring_content'>assert_no_selector</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>assert_all_of_selectors</span><span class='words_sep'> </span><span class='tstring_content'>assert_none_of_selectors</span><span class='words_sep'> </span><span class='tstring_content'>assert_any_of_selectors</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>refute_selector</span><span class='words_sep'> </span><span class='tstring_content'>assert_text</span><span class='words_sep'> </span><span class='tstring_content'>assert_no_text</span><span class='words_sep'>
</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='SESSION_METHODS-constant' class='summary_signature'>SESSION_METHODS =</span>
    <br/>
    <a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L61-L70'># File 'lib/capybara/session.rb', line 61</a>    <pre class='code ruby'><span class='qsymbols'><span class='qsymbols_beg'>%i[</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>body</span><span class='words_sep'> </span><span class='tstring_content'>html</span><span class='words_sep'> </span><span class='tstring_content'>source</span><span class='words_sep'> </span><span class='tstring_content'>current_url</span><span class='words_sep'> </span><span class='tstring_content'>current_host</span><span class='words_sep'> </span><span class='tstring_content'>current_path</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>execute_script</span><span class='words_sep'> </span><span class='tstring_content'>evaluate_script</span><span class='words_sep'> </span><span class='tstring_content'>evaluate_async_script</span><span class='words_sep'> </span><span class='tstring_content'>visit</span><span class='words_sep'> </span><span class='tstring_content'>refresh</span><span class='words_sep'> </span><span class='tstring_content'>go_back</span><span class='words_sep'> </span><span class='tstring_content'>go_forward</span><span class='words_sep'> </span><span class='tstring_content'>send_keys</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>within</span><span class='words_sep'> </span><span class='tstring_content'>within_element</span><span class='words_sep'> </span><span class='tstring_content'>within_fieldset</span><span class='words_sep'> </span><span class='tstring_content'>within_table</span><span class='words_sep'> </span><span class='tstring_content'>within_frame</span><span class='words_sep'> </span><span class='tstring_content'>switch_to_frame</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>current_window</span><span class='words_sep'> </span><span class='tstring_content'>windows</span><span class='words_sep'> </span><span class='tstring_content'>open_new_window</span><span class='words_sep'> </span><span class='tstring_content'>switch_to_window</span><span class='words_sep'> </span><span class='tstring_content'>within_window</span><span class='words_sep'> </span><span class='tstring_content'>window_opened_by</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>save_page</span><span class='words_sep'> </span><span class='tstring_content'>save_and_open_page</span><span class='words_sep'> </span><span class='tstring_content'>save_screenshot</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>save_and_open_screenshot</span><span class='words_sep'> </span><span class='tstring_content'>reset_session!</span><span class='words_sep'> </span><span class='tstring_content'>response_headers</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>status_code</span><span class='words_sep'> </span><span class='tstring_content'>current_scope</span><span class='words_sep'>
</span><span class='words_sep'>  </span><span class='tstring_content'>assert_current_path</span><span class='words_sep'> </span><span class='tstring_content'>assert_no_current_path</span><span class='words_sep'> </span><span class='tstring_content'>has_current_path?</span><span class='words_sep'> </span><span class='tstring_content'>has_no_current_path?</span><span class='words_sep'>
</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_freeze'>freeze</span> <span class='op'>+</span> <span class='const'><a href="#DOCUMENT_METHODS-constant" title="Capybara::Session::DOCUMENT_METHODS (constant)">DOCUMENT_METHODS</a></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#instance_created%3F-class_method" title=".instance_created? (class method)">.<strong>instance_created?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(mode, app = nil)  &#x21d2; Session </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#app-instance_method" title="#app (instance method)">#<strong>app</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#mode-instance_method" title="#mode (instance method)">#<strong>mode</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#server-instance_method" title="#server (instance method)">#<strong>server</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#synchronized-instance_method" title="#synchronized (instance method)">#<strong>synchronized</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#accept_alert-instance_method" title="#accept_alert (instance method)">#<strong>accept_alert</strong>(text, **options) { ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the block, accepting a alert.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#accept_confirm-instance_method" title="#accept_confirm (instance method)">#<strong>accept_confirm</strong>(text, **options) { ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the block, accepting a confirm.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#accept_prompt-instance_method" title="#accept_prompt (instance method)">#<strong>accept_prompt</strong>(text, **options) { ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the block, accepting a prompt, optionally responding to the prompt.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#active_element-instance_method" title="#active_element (instance method)">#<strong>active_element</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the element with focus.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#body-instance_method" title="#body (instance method)">#<strong>body</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#html-instance_method" title="Capybara::Session#html (method)">#html</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#cleanup!-instance_method" title="#cleanup! (instance method)">#<strong>cleanup!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#reset!-instance_method" title="Capybara::Session#reset! (method)">#reset!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#config-instance_method" title="#config (instance method)">#<strong>config</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#configure-instance_method" title="#configure (instance method)">#<strong>configure</strong> {|config| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Accepts a block to set the configuration options if <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">threadsafe</a> is <code>true</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#current_host-instance_method" title="#current_host (instance method)">#<strong>current_host</strong>  &#x21d2; String </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#current_path-instance_method" title="#current_path (instance method)">#<strong>current_path</strong>  &#x21d2; String </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#current_scope-instance_method" title="#current_scope (instance method)">#<strong>current_scope</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#current_url-instance_method" title="#current_url (instance method)">#<strong>current_url</strong>  &#x21d2; String </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#current_window-instance_method" title="#current_window (instance method)">#<strong>current_window</strong>  &#x21d2; Capybara::Window </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dismiss_confirm-instance_method" title="#dismiss_confirm (instance method)">#<strong>dismiss_confirm</strong>(text, **options) { ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the block, dismissing a confirm.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dismiss_prompt-instance_method" title="#dismiss_prompt (instance method)">#<strong>dismiss_prompt</strong>(text, **options) { ... } &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the block, dismissing a prompt.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#document-instance_method" title="#document (instance method)">#<strong>document</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#driver-instance_method" title="#driver (instance method)">#<strong>driver</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#evaluate_async_script-instance_method" title="#evaluate_async_script (instance method)">#<strong>evaluate_async_script</strong>(script, *args)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Evaluate the given JavaScript and obtain the result from a callback function which will be passed as the last argument to the script.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#evaluate_script-instance_method" title="#evaluate_script (instance method)">#<strong>evaluate_script</strong>(script, *args)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Evaluate the given JavaScript and return the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#execute_script-instance_method" title="#execute_script (instance method)">#<strong>execute_script</strong>(script, *args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the given script, not returning a result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#go_back-instance_method" title="#go_back (instance method)">#<strong>go_back</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Move back a single entry in the browser’s history.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#go_forward-instance_method" title="#go_forward (instance method)">#<strong>go_forward</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Move forward a single entry in the browser’s history.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#html-instance_method" title="#html (instance method)">#<strong>html</strong>  &#x21d2; String </a>
      (also: #body, #source)
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#open_new_window-instance_method" title="#open_new_window (instance method)">#<strong>open_new_window</strong>(kind = :tab)  &#x21d2; Capybara::Window </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Open a new window.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quit-instance_method" title="#quit (instance method)">#<strong>quit</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Disconnect from the current driver.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#raise_server_error!-instance_method" title="#raise_server_error! (instance method)">#<strong>raise_server_error!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Raise errors encountered in the server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#refresh-instance_method" title="#refresh (instance method)">#<strong>refresh</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Refresh the page.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset!-instance_method" title="#reset! (instance method)">#<strong>reset!</strong>  </a>
      (also: #cleanup!, #reset_session!)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Reset the session (i.e. remove cookies and navigate to blank page).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset_session!-instance_method" title="#reset_session! (instance method)">#<strong>reset_session!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#reset!-instance_method" title="Capybara::Session#reset! (method)">#reset!</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#response_headers-instance_method" title="#response_headers (instance method)">#<strong>response_headers</strong>  &#x21d2; Hash&lt;String, String&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a hash of response headers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#save_and_open_page-instance_method" title="#save_and_open_page (instance method)">#<strong>save_and_open_page</strong>(path = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Save a snapshot of the page and open it in a browser for inspection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#save_and_open_screenshot-instance_method" title="#save_and_open_screenshot (instance method)">#<strong>save_and_open_screenshot</strong>(path = nil, **options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Save a screenshot of the page and open it for inspection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#save_page-instance_method" title="#save_page (instance method)">#<strong>save_page</strong>(path = nil)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Save a snapshot of the page.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#save_screenshot-instance_method" title="#save_screenshot (instance method)">#<strong>save_screenshot</strong>(path = nil, **options)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Save a screenshot of page.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#send_keys-instance_method" title="#send_keys (instance method)">#<strong>send_keys</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#server_url-instance_method" title="#server_url (instance method)">#<strong>server_url</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#source-instance_method" title="#source (instance method)">#<strong>source</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#html-instance_method" title="Capybara::Session#html (method)">#html</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#status_code-instance_method" title="#status_code (instance method)">#<strong>status_code</strong>  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the current HTTP status code as an integer.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#switch_to_frame-instance_method" title="#switch_to_frame (instance method)">#<strong>switch_to_frame</strong>(element)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Switch to the given frame.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#switch_to_window-instance_method" title="#switch_to_window (instance method)">#<strong>switch_to_window</strong>(&amp;block)  &#x21d2; Capybara::Window </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Switch to the given window.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#using_wait_time-instance_method" title="#using_wait_time (instance method)">#<strong>using_wait_time</strong>(seconds, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Yield a block using a specific maximum wait time.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#visit-instance_method" title="#visit (instance method)">#<strong>visit</strong>(visit_uri)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Navigate to the given URL.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#window_opened_by-instance_method" title="#window_opened_by (instance method)">#<strong>window_opened_by</strong>(**options, &amp;block)  &#x21d2; Capybara::Window </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the window that has been opened by the passed block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#windows-instance_method" title="#windows (instance method)">#<strong>windows</strong>  &#x21d2; Array&lt;Capybara::Window&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get all opened windows.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#within-instance_method" title="#within (instance method)">#<strong>within</strong>(*find_args)  </a>
      (also: #within_element)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Executes the given block within the context of a node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#within_element-instance_method" title="#within_element (instance method)">#<strong>within_element</strong>(*args, **kw_args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#within-instance_method" title="Capybara::Session#within (method)">#within</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#within_fieldset-instance_method" title="#within_fieldset (instance method)">#<strong>within_fieldset</strong>(locator, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the given block within the a specific fieldset given the id or legend of that fieldset.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#within_frame-instance_method" title="#within_frame (instance method)">#<strong>within_frame</strong>(element)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the given block within the given iframe using given frame, frame name/id or index.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#within_table-instance_method" title="#within_table (instance method)">#<strong>within_table</strong>(locator, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Execute the given block within the a specific table given the id or caption of that table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#within_window-instance_method" title="#within_window (instance method)">#<strong>within_window</strong>(window) { do_something })  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This method does the following:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#_find_frame-instance_method" title="#_find_frame (instance method)">#<strong>_find_frame</strong>(*args, **kw_args)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#_switch_to_window-instance_method" title="#_switch_to_window (instance method)">#<strong>_switch_to_window</strong>(window = nil, **options, &amp;window_locator)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#_switch_to_window_by_locator-instance_method" title="#_switch_to_window_by_locator (instance method)">#<strong>_switch_to_window_by_locator</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#accept_modal-instance_method" title="#accept_modal (instance method)">#<strong>accept_modal</strong>(type, text_or_options, options, &amp;blk)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#adjust_server_port-instance_method" title="#adjust_server_port (instance method)">#<strong>adjust_server_port</strong>(uri)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#default_fn-instance_method" title="#default_fn (instance method)">#<strong>default_fn</strong>(extension)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#dismiss_modal-instance_method" title="#dismiss_modal (instance method)">#<strong>dismiss_modal</strong>(type, text_or_options, options, &amp;blk)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#driver_args-instance_method" title="#driver_args (instance method)">#<strong>driver_args</strong>(args)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#element_script_result-instance_method" title="#element_script_result (instance method)">#<strong>element_script_result</strong>(arg)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#modal_options-instance_method" title="#modal_options (instance method)">#<strong>modal_options</strong>(text = nil, **options)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#open_file-instance_method" title="#open_file (instance method)">#<strong>open_file</strong>(path)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#prepare_path-instance_method" title="#prepare_path (instance method)">#<strong>prepare_path</strong>(path, extension)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#scopes-instance_method" title="#scopes (instance method)">#<strong>scopes</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#synchronize_windows-instance_method" title="#synchronize_windows (instance method)">#<strong>synchronize_windows</strong>(options, &amp;block)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="Minitest/Expectations.html" title="Capybara::Minitest::Expectations (module)"><code>Minitest::Expectations</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_all_of_selectors-instance_method" title="Capybara::Minitest::Expectations#must_have_all_of_selectors (method)">#must_have_all_of_selectors</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#assert_all_of_selectors-instance_method" title="Capybara::Node::Matchers#assert_all_of_selectors (method)">Node::Matchers#assert_all_of_selectors</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_ancestor-instance_method" title="Capybara::Minitest::Expectations#must_have_ancestor (method)">#must_have_ancestor</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_ancestor%3F-instance_method" title="Capybara::Node::Matchers#has_ancestor? (method)">Node::Matchers#has_ancestor?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_any_of_selectors-instance_method" title="Capybara::Minitest::Expectations#must_have_any_of_selectors (method)">#must_have_any_of_selectors</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#assert_any_of_selectors-instance_method" title="Capybara::Node::Matchers#assert_any_of_selectors (method)">Node::Matchers#assert_any_of_selectors</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_button-instance_method" title="Capybara::Minitest::Expectations#must_have_button (method)">#must_have_button</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_button%3F-instance_method" title="Capybara::Node::Matchers#has_button? (method)">Node::Matchers#has_button?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_checked_field-instance_method" title="Capybara::Minitest::Expectations#must_have_checked_field (method)">#must_have_checked_field</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_checked_field%3F-instance_method" title="Capybara::Node::Matchers#has_checked_field? (method)">Node::Matchers#has_checked_field?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_content-instance_method" title="Capybara::Minitest::Expectations#must_have_content (method)">#must_have_content</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_content%3F-instance_method" title="Capybara::Node::Matchers#has_content? (method)">Node::Matchers#has_content?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_css-instance_method" title="Capybara::Minitest::Expectations#must_have_css (method)">#must_have_css</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_css%3F-instance_method" title="Capybara::Node::Matchers#has_css? (method)">Node::Matchers#has_css?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_current_path-instance_method" title="Capybara::Minitest::Expectations#must_have_current_path (method)">#must_have_current_path</a></td>
      <td><div class='inline'><p>See <a href="SessionMatchers.html#has_current_path%3F-instance_method" title="Capybara::SessionMatchers#has_current_path? (method)">SessionMatchers#has_current_path?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_element-instance_method" title="Capybara::Minitest::Expectations#must_have_element (method)">#must_have_element</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_element%3F-instance_method" title="Capybara::Node::Matchers#has_element? (method)">Node::Matchers#has_element?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_field-instance_method" title="Capybara::Minitest::Expectations#must_have_field (method)">#must_have_field</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_field%3F-instance_method" title="Capybara::Node::Matchers#has_field? (method)">Node::Matchers#has_field?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_link-instance_method" title="Capybara::Minitest::Expectations#must_have_link (method)">#must_have_link</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_link%3F-instance_method" title="Capybara::Node::Matchers#has_link? (method)">Node::Matchers#has_link?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_none_of_selectors-instance_method" title="Capybara::Minitest::Expectations#must_have_none_of_selectors (method)">#must_have_none_of_selectors</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#assert_none_of_selectors-instance_method" title="Capybara::Node::Matchers#assert_none_of_selectors (method)">Node::Matchers#assert_none_of_selectors</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_select-instance_method" title="Capybara::Minitest::Expectations#must_have_select (method)">#must_have_select</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_select%3F-instance_method" title="Capybara::Node::Matchers#has_select? (method)">Node::Matchers#has_select?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_selector-instance_method" title="Capybara::Minitest::Expectations#must_have_selector (method)">#must_have_selector</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_selector%3F-instance_method" title="Capybara::Node::Matchers#has_selector? (method)">Node::Matchers#has_selector?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_sibling-instance_method" title="Capybara::Minitest::Expectations#must_have_sibling (method)">#must_have_sibling</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_sibling%3F-instance_method" title="Capybara::Node::Matchers#has_sibling? (method)">Node::Matchers#has_sibling?</a></p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m deprecated' href="Minitest/Expectations.html#must_have_style-instance_method" title="Capybara::Minitest::Expectations#must_have_style (method)">#must_have_style</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_table-instance_method" title="Capybara::Minitest::Expectations#must_have_table (method)">#must_have_table</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_table%3F-instance_method" title="Capybara::Node::Matchers#has_table? (method)">Node::Matchers#has_table?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_text-instance_method" title="Capybara::Minitest::Expectations#must_have_text (method)">#must_have_text</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_text%3F-instance_method" title="Capybara::Node::Matchers#has_text? (method)">Node::Matchers#has_text?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_title-instance_method" title="Capybara::Minitest::Expectations#must_have_title (method)">#must_have_title</a></td>
      <td><div class='inline'><p>See <a href="Node/DocumentMatchers.html#has_title%3F-instance_method" title="Capybara::Node::DocumentMatchers#has_title? (method)">Node::DocumentMatchers#has_title?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_unchecked_field-instance_method" title="Capybara::Minitest::Expectations#must_have_unchecked_field (method)">#must_have_unchecked_field</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_unchecked_field%3F-instance_method" title="Capybara::Node::Matchers#has_unchecked_field? (method)">Node::Matchers#has_unchecked_field?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_have_xpath-instance_method" title="Capybara::Minitest::Expectations#must_have_xpath (method)">#must_have_xpath</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_xpath%3F-instance_method" title="Capybara::Node::Matchers#has_xpath? (method)">Node::Matchers#has_xpath?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#must_match_style-instance_method" title="Capybara::Minitest::Expectations#must_match_style (method)">#must_match_style</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#matches_style%3F-instance_method" title="Capybara::Node::Matchers#matches_style? (method)">Node::Matchers#matches_style?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_button-instance_method" title="Capybara::Minitest::Expectations#wont_have_button (method)">#wont_have_button</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_button%3F-instance_method" title="Capybara::Node::Matchers#has_no_button? (method)">Node::Matchers#has_no_button?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_checked_field-instance_method" title="Capybara::Minitest::Expectations#wont_have_checked_field (method)">#wont_have_checked_field</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_checked_field%3F-instance_method" title="Capybara::Node::Matchers#has_no_checked_field? (method)">Node::Matchers#has_no_checked_field?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_content-instance_method" title="Capybara::Minitest::Expectations#wont_have_content (method)">#wont_have_content</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_content%3F-instance_method" title="Capybara::Node::Matchers#has_no_content? (method)">Node::Matchers#has_no_content?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_css-instance_method" title="Capybara::Minitest::Expectations#wont_have_css (method)">#wont_have_css</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_css%3F-instance_method" title="Capybara::Node::Matchers#has_no_css? (method)">Node::Matchers#has_no_css?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_current_path-instance_method" title="Capybara::Minitest::Expectations#wont_have_current_path (method)">#wont_have_current_path</a></td>
      <td><div class='inline'><p>See <a href="SessionMatchers.html#has_no_current_path%3F-instance_method" title="Capybara::SessionMatchers#has_no_current_path? (method)">SessionMatchers#has_no_current_path?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_element-instance_method" title="Capybara::Minitest::Expectations#wont_have_element (method)">#wont_have_element</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_element%3F-instance_method" title="Capybara::Node::Matchers#has_no_element? (method)">Node::Matchers#has_no_element?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_field-instance_method" title="Capybara::Minitest::Expectations#wont_have_field (method)">#wont_have_field</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_field%3F-instance_method" title="Capybara::Node::Matchers#has_no_field? (method)">Node::Matchers#has_no_field?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_link-instance_method" title="Capybara::Minitest::Expectations#wont_have_link (method)">#wont_have_link</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_link%3F-instance_method" title="Capybara::Node::Matchers#has_no_link? (method)">Node::Matchers#has_no_link?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_select-instance_method" title="Capybara::Minitest::Expectations#wont_have_select (method)">#wont_have_select</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_select%3F-instance_method" title="Capybara::Node::Matchers#has_no_select? (method)">Node::Matchers#has_no_select?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_selector-instance_method" title="Capybara::Minitest::Expectations#wont_have_selector (method)">#wont_have_selector</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_selector%3F-instance_method" title="Capybara::Node::Matchers#has_no_selector? (method)">Node::Matchers#has_no_selector?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_table-instance_method" title="Capybara::Minitest::Expectations#wont_have_table (method)">#wont_have_table</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_table%3F-instance_method" title="Capybara::Node::Matchers#has_no_table? (method)">Node::Matchers#has_no_table?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_text-instance_method" title="Capybara::Minitest::Expectations#wont_have_text (method)">#wont_have_text</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_text%3F-instance_method" title="Capybara::Node::Matchers#has_no_text? (method)">Node::Matchers#has_no_text?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_title-instance_method" title="Capybara::Minitest::Expectations#wont_have_title (method)">#wont_have_title</a></td>
      <td><div class='inline'><p>See <a href="Node/DocumentMatchers.html#has_no_title%3F-instance_method" title="Capybara::Node::DocumentMatchers#has_no_title? (method)">Node::DocumentMatchers#has_no_title?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_unchecked_field-instance_method" title="Capybara::Minitest::Expectations#wont_have_unchecked_field (method)">#wont_have_unchecked_field</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_unchecked_field%3F-instance_method" title="Capybara::Node::Matchers#has_no_unchecked_field? (method)">Node::Matchers#has_no_unchecked_field?</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Minitest/Expectations.html#wont_have_xpath-instance_method" title="Capybara::Minitest::Expectations#wont_have_xpath (method)">#wont_have_xpath</a></td>
      <td><div class='inline'><p>See <a href="Node/Matchers.html#has_no_xpath%3F-instance_method" title="Capybara::Node::Matchers#has_no_xpath? (method)">Node::Matchers#has_no_xpath?</a></p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="SessionMatchers.html" title="Capybara::SessionMatchers (module)"><code>SessionMatchers</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SessionMatchers.html#assert_current_path-instance_method" title="Capybara::SessionMatchers#assert_current_path (method)">#assert_current_path</a></td>
      <td><div class='inline'><p>Asserts that the page has the given path.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SessionMatchers.html#assert_no_current_path-instance_method" title="Capybara::SessionMatchers#assert_no_current_path (method)">#assert_no_current_path</a></td>
      <td><div class='inline'><p>Asserts that the page doesn’t have the given path.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SessionMatchers.html#has_current_path%3F-instance_method" title="Capybara::SessionMatchers#has_current_path? (method)">#has_current_path?</a></td>
      <td><div class='inline'><p>Checks if the page has the given path.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="SessionMatchers.html#has_no_current_path%3F-instance_method" title="Capybara::SessionMatchers#has_no_current_path? (method)">#has_no_current_path?</a></td>
      <td><div class='inline'><p>Checks if the page doesn’t have the given path.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="SessionMatchers.html#_verify_current_path-instance_method" title="Capybara::SessionMatchers#_verify_current_path (method)">#_verify_current_path</a>,
        <a class='i_m priv' href="SessionMatchers.html#make_predicate-instance_method" title="Capybara::SessionMatchers#make_predicate (method)">#make_predicate</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(mode, app = nil)  &#x21d2; <code>Session</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L79-L98'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='79' data-end='98'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 79</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="Capybara::Session#mode (method)">mode</a></span><span class='comma'>,</span> <span class='id identifier rubyid_app'><a href="#app-instance_method" title="Capybara::Session#app (method)">app</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_app'><a href="#app-instance_method" title="Capybara::Session#app (method)">app</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'><a href="#app-instance_method" title="Capybara::Session#app (method)">app</a></span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>The second parameter to Session::new should be a rack app if passed.</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='cvar'>@@instance_created</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='comment'># rubocop:disable Style/ClassVars
</span>  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="Capybara::Session#mode (method)">mode</a></span>
  <span class='ivar'>@app</span> <span class='op'>=</span> <span class='id identifier rubyid_app'><a href="#app-instance_method" title="Capybara::Session#app (method)">app</a></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A configuration block is only accepted when Capybara.threadsafe == true</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_threadsafe'><a href="../Capybara.html#threadsafe-class_method" title="Capybara.threadsafe (method)">threadsafe</a></span>

    <span class='kw'>yield</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>
  <span class='kw'>end</span>
  <span class='ivar'>@server</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_run_server'>run_server</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@app</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_needs_server?'>needs_server?</span>
    <span class='id identifier rubyid_server_options'>server_options</span> <span class='op'>=</span> { <span class='label'>port:</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_server_port'>server_port</span><span class='comma'>,</span> <span class='label'>host:</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_server_host'>server_host</span><span class='comma'>,</span> <span class='label'>reportable_errors:</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_server_errors'>server_errors</span> }
    <span class='id identifier rubyid_server_options'>server_options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_extra_middleware'>extra_middleware</span>] <span class='op'>=</span> [<span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Server.html" title="Capybara::Server (class)">Server</a></span><span class='op'>::</span><span class='const'><a href="Server/AnimationDisabler.html" title="Capybara::Server::AnimationDisabler (class)">AnimationDisabler</a></span>] <span class='kw'>if</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_disable_animation'>disable_animation</span>
    <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Server.html" title="Capybara::Server (class)">Server</a></span>.<span class='id identifier rubyid_new'><a href="Server.html#new-class_method" title="Capybara::Server.new (method)">new</a></span>(<span class='ivar'>@app</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_server_options'>server_options</span>).<span class='id identifier rubyid_boot'><a href="Server.html#boot-instance_method" title="Capybara::Server#boot (method)">boot</a></span>
  <span class='kw'>end</span>
  <span class='ivar'>@touched</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="instance_created?-class_method">
  <h3 class='signature ro first'>
    .<strong>instance_created?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L825-L827'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='825' data-end='827'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 825</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_instance_created?'>instance_created?</span>
  <span class='cvar'>@@instance_created</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="app-instance_method">
  <h3 class='signature ro first'>
    #<strong>app</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L76-L76'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='76' data-end='76'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 76</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="Capybara::Session#mode (method)">mode</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_server'><a href="#server-instance_method" title="Capybara::Session#server (method)">server</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="mode-instance_method">
  <h3 class='signature ro'>
    #<strong>mode</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L76-L76'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='76' data-end='76'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 76</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_app'><a href="#app-instance_method" title="Capybara::Session#app (method)">app</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_server'><a href="#server-instance_method" title="Capybara::Session#server (method)">server</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="server-instance_method">
  <h3 class='signature ro'>
    #<strong>server</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L76-L76'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='76' data-end='76'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 76</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="Capybara::Session#mode (method)">mode</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_app'><a href="#app-instance_method" title="Capybara::Session#app (method)">app</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_server'>server</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="synchronized-instance_method">
  <h3 class='signature rw'>
    #<strong>synchronized</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L77-L77'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='77' data-end='77'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 77</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_synchronized'>synchronized</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="_find_frame-instance_method">
  <h3 class='signature priv first'>
    #<strong>_find_frame</strong>(*args, **kw_args)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L902-L916'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='902' data-end='916'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 902</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__find_frame'>_find_frame</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kw_args'>kw_args</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
  <span class='kw'>when</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="Capybara::Node (module)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node/Element.html" title="Capybara::Node::Element (class)">Element</a></span>
    <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
  <span class='kw'>when</span> <span class='const'>String</span><span class='comma'>,</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_find'>find</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kw_args'>kw_args</span>)
  <span class='kw'>when</span> <span class='const'>Symbol</span>
    <span class='id identifier rubyid_find'>find</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kw_args'>kw_args</span>)
  <span class='kw'>when</span> <span class='const'>Integer</span>
    <span class='id identifier rubyid_idx'>idx</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
    <span class='id identifier rubyid_all'>all</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span> <span class='label'>minimum:</span> <span class='id identifier rubyid_idx'>idx</span> <span class='op'>+</span> <span class='int'>1</span>)[<span class='id identifier rubyid_idx'>idx</span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_switch_to_window-instance_method">
  <h3 class='signature priv'>
    #<strong>_switch_to_window</strong>(window = nil, **options, &amp;window_locator)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ScopeError.html" title="Capybara::ScopeError (class)">Capybara::ScopeError</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L918-L936'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='918' data-end='936'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 918</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__switch_to_window'>_switch_to_window</span>(<span class='id identifier rubyid_window'>window</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_window_locator'>window_locator</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="ScopeError.html" title="Capybara::ScopeError (class)">ScopeError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Window cannot be switched inside a `within_frame` block</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="ScopeError.html" title="Capybara::ScopeError (class)">ScopeError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Window cannot be switched inside a `within` block</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_nil?'>nil?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_window'>window</span>
    <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_switch_to_window'><a href="#switch_to_window-instance_method" title="Capybara::Session#switch_to_window (method)">switch_to_window</a></span>(<span class='id identifier rubyid_window'>window</span>.<span class='id identifier rubyid_handle'>handle</span>)
    <span class='id identifier rubyid_window'>window</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_synchronize_windows'><a href="#synchronize_windows-instance_method" title="Capybara::Session#synchronize_windows (method)">synchronize_windows</a></span>(<span class='id identifier rubyid_options'>options</span>) <span class='kw'>do</span>
      <span class='id identifier rubyid_original_window_handle'>original_window_handle</span> <span class='op'>=</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_current_window_handle'>current_window_handle</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid__switch_to_window_by_locator'><a href="#_switch_to_window_by_locator-instance_method" title="Capybara::Session#_switch_to_window_by_locator (method)">_switch_to_window_by_locator</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_window_locator'>window_locator</span>)
      <span class='kw'>rescue</span> <span class='const'>StandardError</span>
        <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_switch_to_window'><a href="#switch_to_window-instance_method" title="Capybara::Session#switch_to_window (method)">switch_to_window</a></span>(<span class='id identifier rubyid_original_window_handle'>original_window_handle</span>)
        <span class='id identifier rubyid_raise'>raise</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_switch_to_window_by_locator-instance_method">
  <h3 class='signature priv'>
    #<strong>_switch_to_window_by_locator</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="WindowError.html" title="Capybara::WindowError (class)">Capybara::WindowError</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L938-L944'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='938' data-end='944'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 938</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__switch_to_window_by_locator'>_switch_to_window_by_locator</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_window_handles'>window_handles</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_handle'>handle</span><span class='op'>|</span>
    <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_switch_to_window'><a href="#switch_to_window-instance_method" title="Capybara::Session#switch_to_window (method)">switch_to_window</a></span> <span class='id identifier rubyid_handle'>handle</span>
    <span class='kw'>return</span> <span class='const'><a href="Window.html" title="Capybara::Window (class)">Window</a></span>.<span class='id identifier rubyid_new'><a href="Window.html#new-class_method" title="Capybara::Window.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_handle'>handle</span>) <span class='kw'>if</span> <span class='kw'>yield</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="WindowError.html" title="Capybara::WindowError (class)">WindowError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Could not find a window matching block/lambda</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="accept_alert-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>accept_alert</strong>(text, **options) { ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>accept_alert</strong>(**options) { ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the block, accepting a alert.</p>

<p>Expects a block whose actions will trigger the display modal to appear.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_accept_alert'>accept_alert</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_click_link'>click_link</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>link that triggers appearance of system modal</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>the message shown in the modal</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ModalNotFound.html" title="Capybara::ModalNotFound (class)">Capybara::ModalNotFound</a>)</span>
&mdash;    <div class='inline'>
<p>if modal dialog hasn’t been found</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L659-L661'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='659' data-end='661'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 659</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_alert'>accept_alert</span>(<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_accept_modal'><a href="#accept_modal-instance_method" title="Capybara::Session#accept_modal (method)">accept_modal</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_alert'>alert</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="accept_confirm-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>accept_confirm</strong>(text, **options) { ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>accept_confirm</strong>(**options) { ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the block, accepting a confirm.</p>

<p>Expects a block whose actions will trigger the display modal to appear.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_accept_confirm'>accept_confirm</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_click_link'>click_link</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>link that triggers appearance of system modal</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>the message shown in the modal</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ModalNotFound.html" title="Capybara::ModalNotFound (class)">Capybara::ModalNotFound</a>)</span>
&mdash;    <div class='inline'>
<p>if modal dialog hasn’t been found</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L669-L671'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='669' data-end='671'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 669</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_confirm'>accept_confirm</span>(<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_accept_modal'><a href="#accept_modal-instance_method" title="Capybara::Session#accept_modal (method)">accept_modal</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_confirm'>confirm</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="accept_modal-instance_method">
  <h3 class='signature priv'>
    #<strong>accept_modal</strong>(type, text_or_options, options, &amp;blk)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L849-L851'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='849' data-end='851'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 849</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_modal'>accept_modal</span>(<span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_text_or_options'>text_or_options</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_accept_modal'>accept_modal</span>(<span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_modal_options'><a href="#modal_options-instance_method" title="Capybara::Session#modal_options (method)">modal_options</a></span>(<span class='id identifier rubyid_text_or_options'>text_or_options</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="accept_prompt-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>accept_prompt</strong>(text, **options) { ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>accept_prompt</strong>(**options) { ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the block, accepting a prompt, optionally responding to the prompt.</p>

<p>Expects a block whose actions will trigger the display modal to appear.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_accept_prompt'>accept_prompt</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_click_link'>click_link</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>link that triggers appearance of system modal</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>a customizable set of options</p>
</div>
  </li>
</ul>
    <p class='tag_title'>Options Hash (<tt>**options</tt>):</p>
    <ul class='option'>
        <li>
          <span class='name'>:with</span>
          <span class='type'>(<code>String</code>)</span>
            &mdash; <div class='inline'>
<p>Response to provide to the prompt</p>
</div>        </li>
    </ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>the message shown in the modal</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ModalNotFound.html" title="Capybara::ModalNotFound (class)">Capybara::ModalNotFound</a>)</span>
&mdash;    <div class='inline'>
<p>if modal dialog hasn’t been found</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L690-L692'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='690' data-end='692'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 690</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_prompt'>accept_prompt</span>(<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_accept_modal'><a href="#accept_modal-instance_method" title="Capybara::Session#accept_modal (method)">accept_modal</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_prompt'>prompt</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="active_element-instance_method">
  <h3 class='signature '>
    #<strong>active_element</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the element with focus.</p>

<p>Not supported by Rack Test</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L323-L325'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='323' data-end='325'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 323</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_active_element'>active_element</span>
  <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Queries.html" title="Capybara::Queries (module)">Queries</a></span><span class='op'>::</span><span class='const'><a href="Queries/ActiveElementQuery.html" title="Capybara::Queries::ActiveElementQuery (class)">ActiveElementQuery</a></span>.<span class='id identifier rubyid_new'><a href="Queries/ActiveElementQuery.html#new-class_method" title="Capybara::Queries::ActiveElementQuery.new (method)">new</a></span>.<span class='id identifier rubyid_resolve_for'><a href="Queries/ActiveElementQuery.html#resolve_for-instance_method" title="Capybara::Queries::ActiveElementQuery#resolve_for (method)">resolve_for</a></span>(<span class='kw'>self</span>)[<span class='int'>0</span>].<span class='id identifier rubyid_tap'>tap</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_allow_reload!'>allow_reload!</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="adjust_server_port-instance_method">
  <h3 class='signature priv'>
    #<strong>adjust_server_port</strong>(uri)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L898-L900'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='898' data-end='900'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 898</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_adjust_server_port'>adjust_server_port</span>(<span class='id identifier rubyid_uri'>uri</span>)
  <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_port'>port</span> <span class='op'>||=</span> <span class='ivar'>@server</span>.<span class='id identifier rubyid_port'>port</span> <span class='kw'>if</span> <span class='ivar'>@server</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_always_include_port'><a href="../Capybara.html#always_include_port-class_method" title="Capybara.always_include_port (method)">always_include_port</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="body-instance_method">
  <h3 class='signature '>
    #<strong>body</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#html-instance_method" title="Capybara::Session#html (method)">#html</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L200-L200'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='200' data-end='200'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 200</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_html'><a href="#html-instance_method" title="Capybara::Session#html (method)">html</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="cleanup!-instance_method">
  <h3 class='signature '>
    #<strong>cleanup!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#reset!-instance_method" title="Capybara::Session#reset! (method)">#reset!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L140-L140'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='140' data-end='140'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 140</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cleanup!'>cleanup!</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reset!'><a href="#reset!-instance_method" title="Capybara::Session#reset! (method)">reset!</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="config-instance_method">
  <h3 class='signature '>
    #<strong>config</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L829-L835'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='829' data-end='835'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 829</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_config'>config</span>
  <span class='ivar'>@config</span> <span class='op'>||=</span> <span class='kw'>if</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_threadsafe'><a href="../Capybara.html#threadsafe-class_method" title="Capybara.threadsafe (method)">threadsafe</a></span>
    <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_session_options'><a href="../Capybara.html#session_options-class_method" title="Capybara.session_options (method)">session_options</a></span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>else</span>
    <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="ReadOnlySessionConfig.html" title="Capybara::ReadOnlySessionConfig (class)">ReadOnlySessionConfig</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Capybara::Session.new (method)">new</a></span>(<span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_session_options'><a href="../Capybara.html#session_options-class_method" title="Capybara.session_options (method)">session_options</a></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="configure-instance_method">
  <h3 class='signature '>
    #<strong>configure</strong> {|config| ... } 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Accepts a block to set the configuration options if <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">threadsafe</a> is <code>true</code>. Note that some options only have an effect if set at initialization time, so look at the configuration block that can be passed to the initializer too.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<a href="#config-instance_method" title="Capybara::Session#config (method)">config</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L819-L823'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='819' data-end='823'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 819</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_configure'>configure</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Session configuration is only supported when Capybara.threadsafe == true</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_threadsafe'><a href="../Capybara.html#threadsafe-class_method" title="Capybara.threadsafe (method)">threadsafe</a></span>

  <span class='kw'>yield</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_host-instance_method">
  <h3 class='signature '>
    #<strong>current_host</strong>  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>Host of the current page</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L222-L225'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='222' data-end='225'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 222</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_host'>current_host</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_current_url'><a href="#current_url-instance_method" title="Capybara::Session#current_url (method)">current_url</a></span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_scheme'>scheme</span><span class='embexpr_end'>}</span><span class='tstring_content'>://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_uri'>uri</span>.<span class='id identifier rubyid_host'>host</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_path-instance_method">
  <h3 class='signature '>
    #<strong>current_path</strong>  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>Path of the current page, without any domain information</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L207-L216'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='207' data-end='216'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 207</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_path'>current_path</span>
  <span class='comment'># Addressable parsing is more lenient than URI
</span>  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>Addressable</span><span class='op'>::</span><span class='const'>URI</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_current_url'><a href="#current_url-instance_method" title="Capybara::Session#current_url (method)">current_url</a></span>)

  <span class='comment'># Addressable doesn&#39;t support opaque URIs - we want nil here
</span>  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_uri'>uri</span><span class='op'>&amp;.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>about</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span><span class='op'>&amp;.</span><span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_path'>path</span> <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span><span class='op'>&amp;.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_scope-instance_method">
  <h3 class='signature '>
    #<strong>current_scope</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L791-L794'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='791' data-end='794'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 791</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_scope'>current_scope</span>
  <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_last'>last</span>
  [<span class='kw'>nil</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_scope'>scope</span>) <span class='op'>?</span> <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Capybara::Session#document (method)">document</a></span> <span class='op'>:</span> <span class='id identifier rubyid_scope'>scope</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_url-instance_method">
  <h3 class='signature '>
    #<strong>current_url</strong>  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>Fully qualified URL of the current page</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L231-L233'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='231' data-end='233'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 231</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_url'>current_url</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_current_url'>current_url</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="current_window-instance_method">
  <h3 class='signature '>
    #<strong>current_window</strong>  &#x21d2; <a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a>)</span>
&mdash;    <div class='inline'>
<p>current window</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L460-L462'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='460' data-end='462'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 460</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_current_window'>current_window</span>
  <span class='const'><a href="Window.html" title="Capybara::Window (class)">Window</a></span>.<span class='id identifier rubyid_new'><a href="Window.html#new-class_method" title="Capybara::Window.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_current_window_handle'>current_window_handle</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_fn-instance_method">
  <h3 class='signature priv'>
    #<strong>default_fn</strong>(extension)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L876-L879'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='876' data-end='879'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 876</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_default_fn'>default_fn</span>(<span class='id identifier rubyid_extension'>extension</span>)
  <span class='id identifier rubyid_timestamp'>timestamp</span> <span class='op'>=</span> <span class='const'>Time</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Capybara::Session.new (method)">new</a></span>.<span class='id identifier rubyid_strftime'>strftime</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y%m%d%H%M%S</span><span class='tstring_end'>&#39;</span></span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>capybara-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_timestamp'>timestamp</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rand'>rand</span>(<span class='int'>10</span><span class='op'>**</span><span class='int'>10</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dismiss_confirm-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>dismiss_confirm</strong>(text, **options) { ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>dismiss_confirm</strong>(**options) { ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the block, dismissing a confirm.</p>

<p>Expects a block whose actions will trigger the display modal to appear.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_dismiss_confirm'>dismiss_confirm</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_click_link'>click_link</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>link that triggers appearance of system modal</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>the message shown in the modal</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ModalNotFound.html" title="Capybara::ModalNotFound (class)">Capybara::ModalNotFound</a>)</span>
&mdash;    <div class='inline'>
<p>if modal dialog hasn’t been found</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L679-L681'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='679' data-end='681'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 679</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dismiss_confirm'>dismiss_confirm</span>(<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_dismiss_modal'><a href="#dismiss_modal-instance_method" title="Capybara::Session#dismiss_modal (method)">dismiss_modal</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_confirm'>confirm</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dismiss_modal-instance_method">
  <h3 class='signature priv'>
    #<strong>dismiss_modal</strong>(type, text_or_options, options, &amp;blk)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L853-L855'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='853' data-end='855'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 853</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dismiss_modal'>dismiss_modal</span>(<span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_text_or_options'>text_or_options</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_dismiss_modal'>dismiss_modal</span>(<span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_modal_options'><a href="#modal_options-instance_method" title="Capybara::Session#modal_options (method)">modal_options</a></span>(<span class='id identifier rubyid_text_or_options'>text_or_options</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dismiss_prompt-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>dismiss_prompt</strong>(text, **options) { ... } &#x21d2; <code>String</code> </span>
      <span class='overload'>#<strong>dismiss_prompt</strong>(**options) { ... } &#x21d2; <code>String</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the block, dismissing a prompt.</p>

<p>Expects a block whose actions will trigger the display modal to appear.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_dismiss_prompt'>dismiss_prompt</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_click_link'>click_link</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>link that triggers appearance of system modal</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>the message shown in the modal</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ModalNotFound.html" title="Capybara::ModalNotFound (class)">Capybara::ModalNotFound</a>)</span>
&mdash;    <div class='inline'>
<p>if modal dialog hasn’t been found</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L700-L702'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='700' data-end='702'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 700</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dismiss_prompt'>dismiss_prompt</span>(<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_dismiss_modal'><a href="#dismiss_modal-instance_method" title="Capybara::Session#dismiss_modal (method)">dismiss_modal</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_prompt'>prompt</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="document-instance_method">
  <h3 class='signature '>
    #<strong>document</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L766-L768'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='766' data-end='768'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 766</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_document'>document</span>
  <span class='ivar'>@document</span> <span class='op'>||=</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="Capybara::Node (module)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node/Document.html" title="Capybara::Node::Document (class)">Document</a></span>.<span class='id identifier rubyid_new'><a href="Node/Base.html#new-class_method" title="Capybara::Node::Base.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="driver-instance_method">
  <h3 class='signature '>
    #<strong>driver</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L100-L110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='100' data-end='110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 100</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_driver'>driver</span>
  <span class='ivar'>@driver</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='kw'>unless</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_drivers'><a href="../Capybara.html#drivers-class_method" title="Capybara.drivers (method)">drivers</a></span>[<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="Capybara::Session#mode (method)">mode</a></span>]
      <span class='id identifier rubyid_other_drivers'>other_drivers</span> <span class='op'>=</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_drivers'><a href="../Capybara.html#drivers-class_method" title="Capybara.drivers (method)">drivers</a></span>.<span class='id identifier rubyid_names'>names</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="Capybara::Session#inspect (method)">inspect</a></span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="DriverNotFoundError.html" title="Capybara::DriverNotFoundError (class)">DriverNotFoundError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no driver called </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="Capybara::Session#mode (method)">mode</a></span>.<span class='id identifier rubyid_inspect'><a href="#inspect-instance_method" title="Capybara::Session#inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> was found, available drivers: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_other_drivers'>other_drivers</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_driver'>driver</span> <span class='op'>=</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_drivers'><a href="../Capybara.html#drivers-class_method" title="Capybara.drivers (method)">drivers</a></span>[<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="Capybara::Session#mode (method)">mode</a></span>].<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_app'><a href="#app-instance_method" title="Capybara::Session#app (method)">app</a></span>)
    <span class='id identifier rubyid_driver'>driver</span>.<span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_driver'>driver</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_session='>session=</span>)
    <span class='id identifier rubyid_driver'>driver</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="driver_args-instance_method">
  <h3 class='signature priv'>
    #<strong>driver_args</strong>(args)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L845-L847'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='845' data-end='847'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 845</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_driver_args'>driver_args</span>(<span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span> <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="Capybara::Node (module)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node/Element.html" title="Capybara::Node::Element (class)">Element</a></span>) <span class='op'>?</span> <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_base'>base</span> <span class='op'>:</span> <span class='id identifier rubyid_arg'>arg</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="element_script_result-instance_method">
  <h3 class='signature priv'>
    #<strong>element_script_result</strong>(arg)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L885-L896'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='885' data-end='896'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 885</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_element_script_result'>element_script_result</span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_arg'>arg</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_subarg'>subarg</span><span class='op'>|</span> <span class='id identifier rubyid_element_script_result'>element_script_result</span>(<span class='id identifier rubyid_subarg'>subarg</span>) }
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_transform_values!'>transform_values!</span> { <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_element_script_result'>element_script_result</span>(<span class='id identifier rubyid_value'>value</span>) }
  <span class='kw'>when</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Driver.html" title="Capybara::Driver (module)">Driver</a></span><span class='op'>::</span><span class='const'><a href="Driver/Node.html" title="Capybara::Driver::Node (class)">Node</a></span>
    <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="Capybara::Node (module)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node/Element.html" title="Capybara::Node::Element (class)">Element</a></span>.<span class='id identifier rubyid_new'><a href="Node/Element.html#new-class_method" title="Capybara::Node::Element.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_arg'>arg</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="evaluate_async_script-instance_method">
  <h3 class='signature '>
    #<strong>evaluate_async_script</strong>(script, *args)  &#x21d2; <code>Object</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Evaluate the given JavaScript and obtain the result from a callback function which will be passed as the last argument to the script.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>script</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>A string of JavaScript to evaluate</p>
</div>
  </li>
  <li>
    <span class='name'>args</span>
    <span class='type'></span>
&mdash;    <div class='inline'>
<p>Optional arguments that will be passed to the script</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'>
<p>The result of the evaluated JavaScript (may be driver specific)</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L633-L637'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='633' data-end='637'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 633</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_async_script'>evaluate_async_script</span>(<span class='id identifier rubyid_script'>script</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='ivar'>@touched</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_evaluate_async_script'>evaluate_async_script</span>(<span class='id identifier rubyid_script'>script</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_driver_args'><a href="#driver_args-instance_method" title="Capybara::Session#driver_args (method)">driver_args</a></span>(<span class='id identifier rubyid_args'>args</span>))
  <span class='id identifier rubyid_element_script_result'><a href="#element_script_result-instance_method" title="Capybara::Session#element_script_result (method)">element_script_result</a></span>(<span class='id identifier rubyid_result'>result</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="evaluate_script-instance_method">
  <h3 class='signature '>
    #<strong>evaluate_script</strong>(script, *args)  &#x21d2; <code>Object</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Evaluate the given JavaScript and return the result. Be careful when using this with scripts that return complex objects, such as jQuery statements. <a href="#execute_script-instance_method" title="Capybara::Session#execute_script (method)">#execute_script</a> might be a better alternative.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>script</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>A string of JavaScript to evaluate</p>
</div>
  </li>
  <li>
    <span class='name'>args</span>
    <span class='type'></span>
&mdash;    <div class='inline'>
<p>Optional arguments that will be passed to the script</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'>
<p>The result of the evaluated JavaScript (may be driver specific)</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L619-L623'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='619' data-end='623'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 619</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_script'>evaluate_script</span>(<span class='id identifier rubyid_script'>script</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='ivar'>@touched</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_evaluate_script'>evaluate_script</span>(<span class='id identifier rubyid_script'>script</span>.<span class='id identifier rubyid_strip'>strip</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_driver_args'><a href="#driver_args-instance_method" title="Capybara::Session#driver_args (method)">driver_args</a></span>(<span class='id identifier rubyid_args'>args</span>))
  <span class='id identifier rubyid_element_script_result'><a href="#element_script_result-instance_method" title="Capybara::Session#element_script_result (method)">element_script_result</a></span>(<span class='id identifier rubyid_result'>result</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="execute_script-instance_method">
  <h3 class='signature '>
    #<strong>execute_script</strong>(script, *args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the given script, not returning a result. This is useful for scripts that return complex objects, such as jQuery statements. <code>#execute_script</code> should be used over <a href="#evaluate_script-instance_method" title="Capybara::Session#evaluate_script (method)">#evaluate_script</a> whenever possible.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>script</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>A string of JavaScript to execute</p>
</div>
  </li>
  <li>
    <span class='name'>args</span>
    <span class='type'></span>
&mdash;    <div class='inline'>
<p>Optional arguments that will be passed to the script. <a href="Driver.html" title="Capybara::Driver (module)"><code>Driver</code></a> support for this is optional and types of objects supported may differ between drivers</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L604-L607'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='604' data-end='607'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 604</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_execute_script'>execute_script</span>(<span class='id identifier rubyid_script'>script</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='ivar'>@touched</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_execute_script'>execute_script</span>(<span class='id identifier rubyid_script'>script</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_driver_args'><a href="#driver_args-instance_method" title="Capybara::Session#driver_args (method)">driver_args</a></span>(<span class='id identifier rubyid_args'>args</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="go_back-instance_method">
  <h3 class='signature '>
    #<strong>go_back</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Move back a single entry in the browser’s history.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L297-L299'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='297' data-end='299'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 297</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_go_back'>go_back</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_go_back'>go_back</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="go_forward-instance_method">
  <h3 class='signature '>
    #<strong>go_forward</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Move forward a single entry in the browser’s history.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L305-L307'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='305' data-end='307'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 305</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_go_forward'>go_forward</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_go_forward'>go_forward</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="html-instance_method">
  <h3 class='signature '>
    #<strong>html</strong>  &#x21d2; <code>String</code> 
    <span class='aliases'>Also known as: <span class='names'>#body, #source</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>A snapshot of the DOM of the current document, as it looks right now (potentially modified by JavaScript).</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L197-L199'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='197' data-end='199'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 197</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_html'>html</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_html'>html</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L787-L789'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='787' data-end='789'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 787</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>#&lt;Capybara::Session&gt;</span><span class='tstring_end'>)</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="modal_options-instance_method">
  <h3 class='signature priv'>
    #<strong>modal_options</strong>(text = nil, **options)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L857-L861'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='857' data-end='861'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 857</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_modal_options'>modal_options</span>(<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>||=</span> <span class='id identifier rubyid_text'>text</span> <span class='kw'>unless</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_wait'>wait</span>] <span class='op'>||=</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_default_max_wait_time'><a href="../Capybara.html#default_max_wait_time-class_method" title="Capybara.default_max_wait_time (method)">default_max_wait_time</a></span>
  <span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="open_file-instance_method">
  <h3 class='signature priv'>
    #<strong>open_file</strong>(path)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L863-L868'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='863' data-end='868'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 863</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_open_file'>open_file</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>launchy</span><span class='tstring_end'>&#39;</span></span>
  <span class='const'>Launchy</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_path'>path</span>)
<span class='kw'>rescue</span> <span class='const'>LoadError</span>
  <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>File saved to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>.\nPlease install the launchy gem to open the file automatically.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="open_new_window-instance_method">
  <h3 class='signature '>
    #<strong>open_new_window</strong>(kind = :tab)  &#x21d2; <a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Open a new window. The current window doesn’t change as the result of this call. It should be switched to explicitly.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a>)</span>
&mdash;    <div class='inline'>
<p>window that has been opened</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L484-L492'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='484' data-end='492'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 484</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_open_new_window'>open_new_window</span>(<span class='id identifier rubyid_kind'>kind</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tab'>tab</span>)
  <span class='id identifier rubyid_window_opened_by'><a href="#window_opened_by-instance_method" title="Capybara::Session#window_opened_by (method)">window_opened_by</a></span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_method'>method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_open_new_window'>open_new_window</span>).<span class='id identifier rubyid_arity'>arity</span>.<span class='id identifier rubyid_zero?'>zero?</span>
      <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_open_new_window'>open_new_window</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_open_new_window'>open_new_window</span>(<span class='id identifier rubyid_kind'>kind</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepare_path-instance_method">
  <h3 class='signature priv'>
    #<strong>prepare_path</strong>(path, extension)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L870-L874'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='870' data-end='874'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 870</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prepare_path'>prepare_path</span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_extension'>extension</span>)
  <span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='id identifier rubyid_path'>path</span> <span class='op'>||</span> <span class='id identifier rubyid_default_fn'><a href="#default_fn-instance_method" title="Capybara::Session#default_fn (method)">default_fn</a></span>(<span class='id identifier rubyid_extension'>extension</span>)<span class='comma'>,</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_save_path'>save_path</span>).<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p_path'>p_path</span><span class='op'>|</span>
    <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span>(<span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='id identifier rubyid_p_path'>p_path</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quit-instance_method">
  <h3 class='signature '>
    #<strong>quit</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Disconnect from the current driver. A new driver will be instantiated on the next interaction.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L147-L152'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='147' data-end='152'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 147</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quit'>quit</span>
  <span class='ivar'>@driver</span>.<span class='id identifier rubyid_quit'>quit</span> <span class='kw'>if</span> <span class='ivar'>@driver</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_quit'>quit</span>
  <span class='ivar'>@document</span> <span class='op'>=</span> <span class='ivar'>@driver</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@touched</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@server</span><span class='op'>&amp;.</span><span class='id identifier rubyid_reset_error!'>reset_error!</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="raise_server_error!-instance_method">
  <h3 class='signature '>
    #<strong>raise_server_error!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Raise errors encountered in the server.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L158-L171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='158' data-end='171'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 158</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_raise_server_error!'>raise_server_error!</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='ivar'>@server</span><span class='op'>&amp;.</span><span class='id identifier rubyid_error'>error</span>

  <span class='comment'># Force an explanation for the error being raised as the exception cause
</span>  <span class='kw'>begin</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_raise_server_errors'>raise_server_errors</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="CapybaraError.html" title="Capybara::CapybaraError (class)">CapybaraError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your application server raised an error - It has been raised in your test code because Capybara.raise_server_errors == true</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'><a href="CapybaraError.html" title="Capybara::CapybaraError (class)">CapybaraError</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_capy_error'>capy_error</span> <span class='comment'># rubocop:disable Naming/RescuedExceptionsVariableName
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='ivar'>@server</span>.<span class='id identifier rubyid_error'>error</span><span class='comma'>,</span> <span class='label'>cause:</span> <span class='id identifier rubyid_capy_error'>capy_error</span>
  <span class='kw'>ensure</span>
    <span class='ivar'>@server</span>.<span class='id identifier rubyid_reset_error!'>reset_error!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="refresh-instance_method">
  <h3 class='signature '>
    #<strong>refresh</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Refresh the page.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L288-L291'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='288' data-end='291'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 288</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_refresh'>refresh</span>
  <span class='id identifier rubyid_raise_server_error!'><a href="#raise_server_error!-instance_method" title="Capybara::Session#raise_server_error! (method)">raise_server_error!</a></span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_refresh'>refresh</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset!-instance_method">
  <h3 class='signature '>
    #<strong>reset!</strong>  
    <span class='aliases'>Also known as: <span class='names'>#cleanup!, #reset_session!</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Reset the session (i.e. remove cookies and navigate to blank page).</p>

<p>This method does not:</p>
<ul><li>
<p>accept modal dialogs if they are present (Selenium driver now does, others may not)</p>
</li><li>
<p>clear browser cache/HTML 5 local storage/IndexedDB/Web SQL database/etc.</p>
</li><li>
<p>modify state of the driver/underlying browser in any other way</p>
</li></ul>

<p>as doing so will result in performance downsides and it’s not needed to do everything from the list above for most apps.</p>

<p>If you want to do anything from the list above on a general basis you can:</p>
<ul><li>
<p>write RSpec/Cucumber/etc. after hook</p>
</li><li>
<p>monkeypatch this method</p>
</li><li>
<p>use Ruby’s <code>prepend</code> method</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L130-L139'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='130' data-end='139'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 130</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset!'>reset!</span>
  <span class='kw'>if</span> <span class='ivar'>@touched</span>
    <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_reset!'>reset!</span>
    <span class='ivar'>@touched</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_switch_to_frame'><a href="#switch_to_frame-instance_method" title="Capybara::Session#switch_to_frame (method)">switch_to_frame</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_top'>top</span>) <span class='kw'>rescue</span> <span class='kw'>nil</span> <span class='comment'># rubocop:disable Style/RescueModifier
</span>    <span class='ivar'>@scopes</span> <span class='op'>=</span> [<span class='kw'>nil</span>]
  <span class='kw'>end</span>
  <span class='ivar'>@server</span><span class='op'>&amp;.</span><span class='id identifier rubyid_wait_for_pending_requests'>wait_for_pending_requests</span>
  <span class='id identifier rubyid_raise_server_error!'><a href="#raise_server_error!-instance_method" title="Capybara::Session#raise_server_error! (method)">raise_server_error!</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset_session!-instance_method">
  <h3 class='signature '>
    #<strong>reset_session!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#reset!-instance_method" title="Capybara::Session#reset! (method)">#reset!</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L141-L141'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='141' data-end='141'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reset_session!'>reset_session!</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_reset!'><a href="#reset!-instance_method" title="Capybara::Session#reset! (method)">reset!</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="response_headers-instance_method">
  <h3 class='signature '>
    #<strong>response_headers</strong>  &#x21d2; <code>Hash</code>&lt;<code>String</code>, <code>String</code>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a hash of response headers. Not supported by all drivers (e.g. <a href="Selenium.html" title="Capybara::Selenium (module)"><code>Selenium</code></a>).</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Hash</code>&lt;<code>String</code>, <code>String</code>&gt;)</span>
&mdash;    <div class='inline'>
<p>A hash of response headers.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L179-L181'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='179' data-end='181'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 179</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_response_headers'>response_headers</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_response_headers'>response_headers</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_and_open_page-instance_method">
  <h3 class='signature '>
    #<strong>save_and_open_page</strong>(path = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Save a snapshot of the page and open it in a browser for inspection.</p>

<p>If invoked without arguments it will save file to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">save_path</a> and file will be given randomly generated filename. If invoked with a relative path the path will be relative to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">save_path</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>path</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>the path to where it should be saved</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L732-L734'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='732' data-end='734'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 732</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_save_and_open_page'>save_and_open_page</span>(<span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_save_page'><a href="#save_page-instance_method" title="Capybara::Session#save_page (method)">save_page</a></span>(<span class='id identifier rubyid_path'>path</span>).<span class='id identifier rubyid_tap'>tap</span> { <span class='op'>|</span><span class='id identifier rubyid_s_path'>s_path</span><span class='op'>|</span> <span class='id identifier rubyid_open_file'><a href="#open_file-instance_method" title="Capybara::Session#open_file (method)">open_file</a></span>(<span class='id identifier rubyid_s_path'>s_path</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_and_open_screenshot-instance_method">
  <h3 class='signature '>
    #<strong>save_and_open_screenshot</strong>(path = nil, **options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Save a screenshot of the page and open it for inspection.</p>

<p>If invoked without arguments it will save file to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">save_path</a> and file will be given randomly generated filename. If invoked with a relative path the path will be relative to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">save_path</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>path</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>the path to where it should be saved</p>
</div>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>a customizable set of options</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L762-L764'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='762' data-end='764'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 762</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_save_and_open_screenshot'>save_and_open_screenshot</span>(<span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_save_screenshot'><a href="#save_screenshot-instance_method" title="Capybara::Session#save_screenshot (method)">save_screenshot</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>).<span class='id identifier rubyid_tap'>tap</span> { <span class='op'>|</span><span class='id identifier rubyid_s_path'>s_path</span><span class='op'>|</span> <span class='id identifier rubyid_open_file'><a href="#open_file-instance_method" title="Capybara::Session#open_file (method)">open_file</a></span>(<span class='id identifier rubyid_s_path'>s_path</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_page-instance_method">
  <h3 class='signature '>
    #<strong>save_page</strong>(path = nil)  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Save a snapshot of the page. If <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">asset_host</a> is set it will inject <code>base</code> tag pointing to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">asset_host</a>.</p>

<p>If invoked without arguments it will save file to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">save_path</a> and file will be given randomly generated filename. If invoked with a relative path the path will be relative to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">save_path</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>path</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>the path to where it should be saved</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>the path to which the file was saved</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L716-L720'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='716' data-end='720'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 716</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_save_page'>save_page</span>(<span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_prepare_path'><a href="#prepare_path-instance_method" title="Capybara::Session#prepare_path (method)">prepare_path</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>html</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p_path'>p_path</span><span class='op'>|</span>
    <span class='const'>File</span>.<span class='id identifier rubyid_write'>write</span>(<span class='id identifier rubyid_p_path'>p_path</span><span class='comma'>,</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Helpers.html" title="Capybara::Helpers (module)">Helpers</a></span>.<span class='id identifier rubyid_inject_asset_host'><a href="Helpers.html#inject_asset_host-class_method" title="Capybara::Helpers.inject_asset_host (method)">inject_asset_host</a></span>(<span class='id identifier rubyid_body'><a href="#body-instance_method" title="Capybara::Session#body (method)">body</a></span><span class='comma'>,</span> <span class='label'>host:</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_asset_host'>asset_host</span>)<span class='comma'>,</span> <span class='label'>mode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="save_screenshot-instance_method">
  <h3 class='signature '>
    #<strong>save_screenshot</strong>(path = nil, **options)  &#x21d2; <code>String</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Save a screenshot of page.</p>

<p>If invoked without arguments it will save file to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">save_path</a> and file will be given randomly generated filename. If invoked with a relative path the path will be relative to <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">save_path</a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>path</span>
    <span class='type'>(<code>String</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>the path to where it should be saved</p>
</div>
  </li>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<code>Hash</code>)</span>
&mdash;    <div class='inline'>
<p>a customizable set of options</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>the path to which the file was saved</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L747-L749'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='747' data-end='749'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 747</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_save_screenshot'>save_screenshot</span>(<span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_prepare_path'><a href="#prepare_path-instance_method" title="Capybara::Session#prepare_path (method)">prepare_path</a></span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>png</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_tap'>tap</span> { <span class='op'>|</span><span class='id identifier rubyid_p_path'>p_path</span><span class='op'>|</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_save_screenshot'>save_screenshot</span>(<span class='id identifier rubyid_p_path'>p_path</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scopes-instance_method">
  <h3 class='signature priv'>
    #<strong>scopes</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L881-L883'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='881' data-end='883'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 881</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scopes'>scopes</span>
  <span class='ivar'>@scopes</span> <span class='op'>||=</span> [<span class='kw'>nil</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_keys-instance_method">
  <h3 class='signature '>
    #<strong>send_keys</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L313-L315'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='313' data-end='315'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 313</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_keys'>send_keys</span>(<span class='op'>...</span>)
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_send_keys'>send_keys</span>(<span class='op'>...</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="server_url-instance_method">
  <h3 class='signature '>
    #<strong>server_url</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L837-L839'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='837' data-end='839'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 837</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_server_url'>server_url</span>
  <span class='ivar'>@server</span><span class='op'>&amp;.</span><span class='id identifier rubyid_base_url'>base_url</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="source-instance_method">
  <h3 class='signature '>
    #<strong>source</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#html-instance_method" title="Capybara::Session#html (method)">#html</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L201-L201'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='201' data-end='201'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 201</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_html'><a href="#html-instance_method" title="Capybara::Session#html (method)">html</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="status_code-instance_method">
  <h3 class='signature '>
    #<strong>status_code</strong>  &#x21d2; <code>Integer</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the current HTTP status code as an integer. Not supported by all drivers (e.g. <a href="Selenium.html" title="Capybara::Selenium (module)"><code>Selenium</code></a>).</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Integer</code>)</span>
&mdash;    <div class='inline'>
<p>Current HTTP status code</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L189-L191'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='189' data-end='191'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 189</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_status_code'>status_code</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_status_code'>status_code</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="switch_to_frame-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>switch_to_frame</strong>(element)  </span>
      <span class='overload'>#<strong>switch_to_frame</strong>(location)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Switch to the given frame.</p>

<p>If you use this method you are responsible for making sure you switch back to the parent frame when done in the frame changed to. <a href="#within_frame-instance_method" title="Capybara::Session#within_frame (method)">#within_frame</a> is preferred over this method and should be used when possible. May not be supported by all drivers.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L408-L434'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='408' data-end='434'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 408</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_switch_to_frame'>switch_to_frame</span>(<span class='id identifier rubyid_frame'>frame</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_frame'>frame</span>
  <span class='kw'>when</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Node.html" title="Capybara::Node (module)">Node</a></span><span class='op'>::</span><span class='const'><a href="Node/Element.html" title="Capybara::Node::Element (class)">Element</a></span>
    <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_switch_to_frame'>switch_to_frame</span>(<span class='id identifier rubyid_frame'>frame</span>)
    <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_push'>push</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span>)
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parent'>parent</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_last'>last</span> <span class='op'>!=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="ScopeError.html" title="Capybara::ScopeError (class)">ScopeError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`switch_to_frame(:parent)` cannot be called from inside a descendant frame&#39;s </span><span class='tstring_end'>&quot;</span></span> \
                                  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`within` block.</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_pop'>pop</span>
    <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_switch_to_frame'>switch_to_frame</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_parent'>parent</span>)
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_top'>top</span>
    <span class='id identifier rubyid_idx'>idx</span> <span class='op'>=</span> <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_index'>index</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span>)
    <span class='id identifier rubyid_top_level_scopes'>top_level_scopes</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span> <span class='kw'>nil</span>]
    <span class='kw'>if</span> <span class='id identifier rubyid_idx'>idx</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_slice'>slice</span>(<span class='id identifier rubyid_idx'>idx</span><span class='op'>..</span>).<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_scope'>scope</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_top_level_scopes'>top_level_scopes</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_scope'>scope</span>) }
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="ScopeError.html" title="Capybara::ScopeError (class)">ScopeError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`switch_to_frame(:top)` cannot be called from inside a descendant frame&#39;s </span><span class='tstring_end'>&quot;</span></span> \
                                    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`within` block.</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_slice!'>slice!</span>(<span class='id identifier rubyid_idx'>idx</span><span class='op'>..</span>)
      <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_switch_to_frame'>switch_to_frame</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_top'>top</span>)
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>You must provide a frame element, :parent, or :top when calling switch_to_frame</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="switch_to_window-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>switch_to_window</strong>(&amp;block)  &#x21d2; <a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a> </span>
      <span class='overload'>#<strong>switch_to_window</strong>(window)  &#x21d2; <a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Switch to the given window.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a>)</span>
&mdash;    <div class='inline'>
<p>window that has been switched to</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ScopeError.html" title="Capybara::ScopeError (class)">Capybara::ScopeError</a>)</span>
&mdash;    <div class='inline'>
<p>if this method is invoked inside <a href="#within-instance_method" title="Capybara::Session#within (method)">#within</a> or <a href="#within_frame-instance_method" title="Capybara::Session#within_frame (method)">#within_frame</a> methods</p>
</div>
  </li>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
&mdash;    <div class='inline'>
<p>if both or neither arguments were provided</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L512-L522'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='512' data-end='522'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 512</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_switch_to_window'>switch_to_window</span>(<span class='id identifier rubyid_window'>window</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_window_locator'>window_locator</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`switch_to_window` can take either a block or a window, not both</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_window'>window</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_window_locator'>window_locator</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`switch_to_window`: either window or block should be provided</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_window'>window</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_window_locator'>window_locator</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="ScopeError.html" title="Capybara::ScopeError (class)">ScopeError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`switch_to_window` is not supposed to be invoked from </span><span class='tstring_end'>&#39;</span></span> \
                                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`within` or `within_frame` blocks.</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid__switch_to_window'><a href="#_switch_to_window-instance_method" title="Capybara::Session#_switch_to_window (method)">_switch_to_window</a></span>(<span class='id identifier rubyid_window'>window</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_window_locator'>window_locator</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="synchronize_windows-instance_method">
  <h3 class='signature priv'>
    #<strong>synchronize_windows</strong>(options, &amp;block)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L946-L949'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='946' data-end='949'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 946</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_synchronize_windows'>synchronize_windows</span>(<span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_wait_time'>wait_time</span> <span class='op'>=</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Queries.html" title="Capybara::Queries (module)">Queries</a></span><span class='op'>::</span><span class='const'><a href="Queries/BaseQuery.html" title="Capybara::Queries::BaseQuery (class)">BaseQuery</a></span>.<span class='id identifier rubyid_wait'><a href="Queries/BaseQuery.html#wait-class_method" title="Capybara::Queries::BaseQuery.wait (method)">wait</a></span>(<span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_default_max_wait_time'><a href="../Capybara.html#default_max_wait_time-class_method" title="Capybara.default_max_wait_time (method)">default_max_wait_time</a></span>)
  <span class='id identifier rubyid_document'><a href="#document-instance_method" title="Capybara::Session#document (method)">document</a></span>.<span class='id identifier rubyid_synchronize'>synchronize</span>(<span class='id identifier rubyid_wait_time'>wait_time</span><span class='comma'>,</span> <span class='label'>errors:</span> [<span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="WindowError.html" title="Capybara::WindowError (class)">WindowError</a></span>]<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="using_wait_time-instance_method">
  <h3 class='signature '>
    #<strong>using_wait_time</strong>(seconds, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Yield a block using a specific maximum wait time.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L800-L812'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='800' data-end='812'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 800</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_using_wait_time'>using_wait_time</span>(<span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>if</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_threadsafe'><a href="../Capybara.html#threadsafe-class_method" title="Capybara.threadsafe (method)">threadsafe</a></span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_previous_wait_time'>previous_wait_time</span> <span class='op'>=</span> <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_default_max_wait_time'><a href="../Capybara.html#default_max_wait_time-class_method" title="Capybara.default_max_wait_time (method)">default_max_wait_time</a></span>
      <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_default_max_wait_time'><a href="../Capybara.html#default_max_wait_time-class_method" title="Capybara.default_max_wait_time (method)">default_max_wait_time</a></span> <span class='op'>=</span> <span class='id identifier rubyid_seconds'>seconds</span>
      <span class='kw'>yield</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_default_max_wait_time'><a href="../Capybara.html#default_max_wait_time-class_method" title="Capybara.default_max_wait_time (method)">default_max_wait_time</a></span> <span class='op'>=</span> <span class='id identifier rubyid_previous_wait_time'>previous_wait_time</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_using_wait_time'><a href="../Capybara.html#using_wait_time-class_method" title="Capybara.using_wait_time (method)">using_wait_time</a></span>(<span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="visit-instance_method">
  <h3 class='signature '>
    #<strong>visit</strong>(visit_uri)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Navigate to the given URL. The URL can either be a relative URL or an absolute URL The behaviour of either depends on the driver.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_visit'>visit</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/foo</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_visit'>visit</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://google.com</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

<p>For drivers which can run against an external application, such as the selenium driver giving an absolute URL will navigate to that page. This allows testing applications running on remote servers. For these drivers, setting <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">app_host</a> will make the remote server the default. For example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span>.<span class='id identifier rubyid_app_host'><a href="../Capybara.html#app_host-class_method" title="Capybara.app_host (method)">app_host</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://google.com</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_session'>session</span>.<span class='id identifier rubyid_visit'>visit</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># visits the google homepage</span></code></pre>

<p>If <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">always_include_port</a> is set to <code>true</code> and this session is running against a rack application, then the port that the rack application is running on will automatically be inserted into the URL. Supposing the app is running on port <code>4567</code>, doing something like:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_visit'>visit</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://google.com/test</span><span class='tstring_end'>&quot;</span></span>)</code></pre>

<p>Will actually navigate to <code>http://google.com:4567/test</code>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>visit_uri</span>
    <span class='type'>(#<code>to_s</code>)</span>
&mdash;    <div class='inline'>
<p>The URL to navigate to. The parameter will be cast to a String.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L261-L282'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='261' data-end='282'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 261</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_visit'>visit</span>(<span class='id identifier rubyid_visit_uri'>visit_uri</span>)
  <span class='id identifier rubyid_raise_server_error!'><a href="#raise_server_error!-instance_method" title="Capybara::Session#raise_server_error! (method)">raise_server_error!</a></span>
  <span class='ivar'>@touched</span> <span class='op'>=</span> <span class='kw'>true</span>

  <span class='id identifier rubyid_visit_uri'>visit_uri</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>Addressable</span><span class='op'>::</span><span class='const'>URI</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_visit_uri'>visit_uri</span>.<span class='id identifier rubyid_to_s'>to_s</span>)
  <span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>Addressable</span><span class='op'>::</span><span class='const'>URI</span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_config'><a href="#config-instance_method" title="Capybara::Session#config (method)">config</a></span>.<span class='id identifier rubyid_app_host'><a href="../Capybara.html#app_host-class_method" title="Capybara.app_host (method)">app_host</a></span> <span class='op'>||</span> <span class='id identifier rubyid_server_url'><a href="#server_url-instance_method" title="Capybara::Session#server_url (method)">server_url</a></span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>&amp;&amp;</span> [<span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_visit_uri'>visit_uri</span>.<span class='id identifier rubyid_scheme'>scheme</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_visit_uri'>visit_uri</span>.<span class='id identifier rubyid_relative?'>relative?</span>
      <span class='id identifier rubyid_visit_uri_parts'>visit_uri_parts</span> <span class='op'>=</span> <span class='id identifier rubyid_visit_uri'>visit_uri</span>.<span class='id identifier rubyid_to_hash'>to_hash</span>.<span class='id identifier rubyid_compact'>compact</span>

      <span class='comment'># Useful to people deploying to a subdirectory
</span>      <span class='comment'># and/or single page apps where only the url fragment changes
</span>      <span class='id identifier rubyid_visit_uri_parts'>visit_uri_parts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_path'>path</span>] <span class='op'>=</span> <span class='id identifier rubyid_base_uri'>base_uri</span>.<span class='id identifier rubyid_path'>path</span> <span class='op'>+</span> <span class='id identifier rubyid_visit_uri'>visit_uri</span>.<span class='id identifier rubyid_path'>path</span>

      <span class='id identifier rubyid_visit_uri'>visit_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_base_uri'>base_uri</span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_visit_uri_parts'>visit_uri_parts</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_adjust_server_port'><a href="#adjust_server_port-instance_method" title="Capybara::Session#adjust_server_port (method)">adjust_server_port</a></span>(<span class='id identifier rubyid_visit_uri'>visit_uri</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_visit'>visit</span>(<span class='id identifier rubyid_visit_uri'>visit_uri</span>.<span class='id identifier rubyid_to_s'>to_s</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="window_opened_by-instance_method">
  <h3 class='signature '>
    #<strong>window_opened_by</strong>(**options, &amp;block)  &#x21d2; <a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the window that has been opened by the passed block. It will wait for it to be opened (in the same way as other <a href="../Capybara.html" title="Capybara (module)"><code>::Capybara</code></a> methods wait). It’s better to use this method than <code>windows.last</code> <a href="https://dvcs.w3.org/hg/webdriver/raw-file/default/webdriver-spec.html#h_note_10" target="_parent" title="as order of windows isn’t defined in some drivers">as order of windows isn’t defined in some drivers</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L581-L593'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='581' data-end='593'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 581</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_window_opened_by'>window_opened_by</span>(<span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_old_handles'>old_handles</span> <span class='op'>=</span> <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_window_handles'>window_handles</span>
  <span class='kw'>yield</span>

  <span class='id identifier rubyid_synchronize_windows'><a href="#synchronize_windows-instance_method" title="Capybara::Session#synchronize_windows (method)">synchronize_windows</a></span>(<span class='id identifier rubyid_options'>options</span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_opened_handles'>opened_handles</span> <span class='op'>=</span> (<span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_window_handles'>window_handles</span> <span class='op'>-</span> <span class='id identifier rubyid_old_handles'>old_handles</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_opened_handles'>opened_handles</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>!=</span> <span class='int'>1</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="WindowError.html" title="Capybara::WindowError (class)">WindowError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>block passed to #window_opened_by </span><span class='tstring_end'>&#39;</span></span> \
                                   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>opened </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opened_handles'>opened_handles</span>.<span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> windows instead of 1</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='const'><a href="Window.html" title="Capybara::Window (class)">Window</a></span>.<span class='id identifier rubyid_new'><a href="Window.html#new-class_method" title="Capybara::Window.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_opened_handles'>opened_handles</span>.<span class='id identifier rubyid_first'>first</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="windows-instance_method">
  <h3 class='signature '>
    #<strong>windows</strong>  &#x21d2; <code>Array</code>&lt;<a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get all opened windows. The order of windows in returned array is not defined. The driver may sort windows by their creation time but it’s not required.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Array</code>&lt;<a href="Window.html" title="Capybara::Window (class)">Capybara::Window</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>an array of all windows</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L471-L475'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='471' data-end='475'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 471</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_windows'>windows</span>
  <span class='id identifier rubyid_driver'><a href="#driver-instance_method" title="Capybara::Session#driver (method)">driver</a></span>.<span class='id identifier rubyid_window_handles'>window_handles</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_handle'>handle</span><span class='op'>|</span>
    <span class='const'><a href="Window.html" title="Capybara::Window (class)">Window</a></span>.<span class='id identifier rubyid_new'><a href="Window.html#new-class_method" title="Capybara::Window.new (method)">new</a></span>(<span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_handle'>handle</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="within-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>within</strong>(*find_args)  </span>
      <span class='overload'>#<strong>within</strong>(a_node)  </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#within_element</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Executes the given block within the context of a node. <code>#within</code> takes the same options as <a href="Node/Finders.html#find-instance_method" title="Capybara::Node::Finders#find (method)">#find</a>, as well as a block. For the duration of the block, any command to <a href="../Capybara.html" title="Capybara (module)"><code>::Capybara</code></a> will be handled as though it were scoped to the given element.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_within'>within</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_xpath'>xpath</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.//div[@id=&quot;delivery-address&quot;]</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span>
  <span class='id identifier rubyid_fill_in'>fill_in</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Street</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>with:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12 Main Street</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span></code></pre>

<p>Just as with <code>#find</code>, if multiple elements match the selector given to <code>#within</code>, an error will be raised, and just as with <code>#find</code>, this behaviour can be controlled through the <code>:match</code> and <code>:exact</code> options.</p>

<p>It is possible to omit the first parameter, in that case, the selector is assumed to be of the type set in <a href="../Capybara.html#configure-class_method" title="Capybara.configure (method)">default_selector</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_within'>within</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>div#delivery-address</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span>
  <span class='id identifier rubyid_fill_in'>fill_in</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Street</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>with:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12 Main Street</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span></code></pre>

<p>Note that a lot of uses of <code>#within</code> can be replaced more succinctly with chaining:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_find'>find</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>div#delivery-address</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_fill_in'>fill_in</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Street</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>with:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12 Main Street</span><span class='tstring_end'>&#39;</span></span>)</code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ElementNotFound.html" title="Capybara::ElementNotFound (class)">Capybara::ElementNotFound</a>)</span>
&mdash;    <div class='inline'>
<p>If the scope can’t be found before time expires</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L362-L370'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='362' data-end='370'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 362</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_within'>within</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kw_args'>kw_args</span>)
  <span class='id identifier rubyid_new_scope'>new_scope</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_to_capybara_node'>to_capybara_node</span>) <span class='op'>?</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_to_capybara_node'>to_capybara_node</span> <span class='op'>:</span> <span class='id identifier rubyid_find'>find</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kw_args'>kw_args</span>)
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_new_scope'>new_scope</span>)
    <span class='kw'>yield</span> <span class='id identifier rubyid_new_scope'>new_scope</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_pop'>pop</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="within_element-instance_method">
  <h3 class='signature '>
    #<strong>within_element</strong>(*args, **kw_args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#within-instance_method" title="Capybara::Session#within (method)">#within</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L371-L371'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='371' data-end='371'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 371</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_within_element'>within_element</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_within'><a href="#within-instance_method" title="Capybara::Session#within (method)">within</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="within_fieldset-instance_method">
  <h3 class='signature '>
    #<strong>within_fieldset</strong>(locator, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the given block within the a specific fieldset given the id or legend of that fieldset.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>locator</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>Id or legend of the fieldset</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L379-L381'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='379' data-end='381'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 379</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_within_fieldset'>within_fieldset</span>(<span class='id identifier rubyid_locator'>locator</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_within'><a href="#within-instance_method" title="Capybara::Session#within (method)">within</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_fieldset'>fieldset</span><span class='comma'>,</span> <span class='id identifier rubyid_locator'>locator</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="within_frame-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>within_frame</strong>(element)  </span>
      <span class='overload'>#<strong>within_frame</strong>([kind = :frame], locator, **options)  </span>
      <span class='overload'>#<strong>within_frame</strong>(index)  </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the given block within the given iframe using given frame, frame name/id or index. May not be supported by all drivers.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L448-L455'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='448' data-end='455'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 448</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_within_frame'>within_frame</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kw_args'>kw_args</span>)
  <span class='id identifier rubyid_switch_to_frame'><a href="#switch_to_frame-instance_method" title="Capybara::Session#switch_to_frame (method)">switch_to_frame</a></span>(<span class='id identifier rubyid__find_frame'><a href="#_find_frame-instance_method" title="Capybara::Session#_find_frame (method)">_find_frame</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kw_args'>kw_args</span>))
  <span class='kw'>begin</span>
    <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_switch_to_frame'><a href="#switch_to_frame-instance_method" title="Capybara::Session#switch_to_frame (method)">switch_to_frame</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_parent'>parent</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="within_table-instance_method">
  <h3 class='signature '>
    #<strong>within_table</strong>(locator, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Execute the given block within the a specific table given the id or caption of that table.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>locator</span>
    <span class='type'>(<code>String</code>)</span>
&mdash;    <div class='inline'>
<p>Id or caption of the table</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L389-L391'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='389' data-end='391'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_within_table'>within_table</span>(<span class='id identifier rubyid_locator'>locator</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_within'><a href="#within-instance_method" title="Capybara::Session#within (method)">within</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_locator'>locator</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="within_window-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>within_window</strong>(window) { do_something })  &#x21d2; <code>Object</code> </span>
      <span class='overload'>#<strong>within_window</strong>(proc_or_lambda) { do_something })  &#x21d2; <code>Object</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This method does the following:</p>
<ol><li>
<p>Switches to the given window (it can be located by window instance/lambda/string).</p>
</li><li>
<p>Executes the given block (within window located at previous step).</p>
</li><li>
<p>Switches back (this step will be invoked even if an exception occurs at the second step).</p>
</li></ol>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'></span>
    <div class='inline'>
<p>value returned by the block</p>
</div>
  </li>
</ul>
<p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="ScopeError.html" title="Capybara::ScopeError (class)">Capybara::ScopeError</a>)</span>
&mdash;    <div class='inline'>
<p>if this method is invoked inside <a href="#within_frame-instance_method" title="Capybara::Session#within_frame (method)">#within_frame</a> method</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/teamcapybara/capybara/blob/master/lib/capybara/session.rb#L545-L566'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='545' data-end='566'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/capybara/session.rb', line 545</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_within_window'>within_window</span>(<span class='id identifier rubyid_window_or_proc'>window_or_proc</span>)
  <span class='id identifier rubyid_original'>original</span> <span class='op'>=</span> <span class='id identifier rubyid_current_window'><a href="#current_window-instance_method" title="Capybara::Session#current_window (method)">current_window</a></span>
  <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span> <span class='op'>&lt;&lt;</span> <span class='kw'>nil</span>
  <span class='kw'>begin</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_window_or_proc'>window_or_proc</span>
    <span class='kw'>when</span> <span class='const'><a href="../Capybara.html" title="Capybara (module)">Capybara</a></span><span class='op'>::</span><span class='const'><a href="Window.html" title="Capybara::Window (class)">Window</a></span>
      <span class='id identifier rubyid__switch_to_window'><a href="#_switch_to_window-instance_method" title="Capybara::Session#_switch_to_window (method)">_switch_to_window</a></span>(<span class='id identifier rubyid_window_or_proc'>window_or_proc</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_original'>original</span> <span class='op'>==</span> <span class='id identifier rubyid_window_or_proc'>window_or_proc</span>
    <span class='kw'>when</span> <span class='const'>Proc</span>
      <span class='id identifier rubyid__switch_to_window'><a href="#_switch_to_window-instance_method" title="Capybara::Session#_switch_to_window (method)">_switch_to_window</a></span> { <span class='id identifier rubyid_window_or_proc'>window_or_proc</span>.<span class='id identifier rubyid_call'>call</span> }
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>`#within_window` requires a `Capybara::Window` instance or a lambda</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>begin</span>
      <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid__switch_to_window'><a href="#_switch_to_window-instance_method" title="Capybara::Session#_switch_to_window (method)">_switch_to_window</a></span>(<span class='id identifier rubyid_original'>original</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_original'>original</span> <span class='op'>==</span> <span class='id identifier rubyid_window_or_proc'>window_or_proc</span>
    <span class='kw'>end</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_scopes'><a href="#scopes-instance_method" title="Capybara::Session#scopes (method)">scopes</a></span>.<span class='id identifier rubyid_pop'>pop</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>