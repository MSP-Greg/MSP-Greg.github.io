<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: MiniTest::Unit &mdash; minitest Ruby-2.0.0 p648</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "MiniTest::Unit",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.0.0</a> &raquo; 
          <a href='../index.html'>minitest</a> &raquo; 
          <a href='../_index.html'>Index (U)</a> &raquo; 
          <a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a> &raquo; 
          <span class='title'>Unit</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: MiniTest::Unit</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="../Object.html" title="Object (class)">Object</a></span>
      <ul class='fullTree'>
        <li><a href="../Object.html" title="Object (class)">Object</a></li>
        <li class='next'>MiniTest::Unit</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <a href="Unit/Deprecated.html" title="MiniTest::Unit::Deprecated (module)">Deprecated</a>,
    <a href="Unit/Guard.html" title="MiniTest::Unit::Guard (module)">Guard</a>,
    <a href="Unit/LifecycleHooks.html" title="MiniTest::Unit::LifecycleHooks (module)">LifecycleHooks</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <a href="Unit/TestCase.html" title="MiniTest::Unit::TestCase (class)">TestCase</a>
    </td>
  </tr>




  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/benchmark.rb#L11'>lib/minitest/benchmark.rb</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L739'>lib/minitest/unit.rb</a></span>
</div>  </td>
  </tr>
</table>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='after_tests-classvariable'>
      @@after_tests =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='out-classvariable'>
      @@out =
    </dt>
    <dd>
            <pre class='code'><span class='gvar'>$stdout</span></pre>
    </dd>
    <dt id='VERSION-constant'>
      VERSION =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>4.3.2</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#assertion_count-instance_method" title="#assertion_count (instance method)">#<strong>assertion_count</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#errors-instance_method" title="#errors (instance method)">#<strong>errors</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#failures-instance_method" title="#failures (instance method)">#<strong>failures</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Lazy accessor for options.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#skips-instance_method" title="#skips (instance method)">#<strong>skips</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#after_tests-class_method" title=".after_tests (class method)">.<strong>after_tests</strong>(&amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>A simple hook allowing you to run a block of code after <em>all</em> of the
tests are done.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#autorun-class_method" title=".autorun (class method)">.<strong>autorun</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Registers <a href="" title="MiniTest::Unit (class)">Unit</a> to run tests at process exit</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#output-class_method" title=".output (class method)">.<strong>output</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the stream to use for output.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#output%3D-class_method" title=".output= (class method)">.<strong>output=</strong>(stream)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets <a href="" title="MiniTest::Unit (class)">Unit</a> to write output to <code>stream</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#plugins-class_method" title=".plugins (class method)">.<strong>plugins</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return all plugins&#39; run methods (methods that start with “run_”).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#runner-class_method" title=".runner (class method)">.<strong>runner</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the <a href="" title="MiniTest::Unit (class)">Unit</a> subclass instance that will be used to run the
tests.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#runner%3D-class_method" title=".runner= (class method)">.<strong>runner=</strong>(runner)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Tells <a href="" title="MiniTest::Unit (class)">Unit</a> to delegate to <code>runner</code>, an instance of a
<a href="" title="MiniTest::Unit (class)">Unit</a> subclass, when <a href="#run-instance_method" title="MiniTest::Unit#run (method)">#run</a> is called.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#_run-instance_method" title="#_run (instance method)">#<strong>_run</strong>(args = [])  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Top level driver, controls all output and filtering.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_run_anything-instance_method" title="#_run_anything (instance method)">#<strong>_run_anything</strong>(type)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Runner for a given <code>type</code> (eg, test vs bench).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_run_suite-instance_method" title="#_run_suite (instance method)">#<strong>_run_suite</strong>(suite, type)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Run a single <code>suite</code> for a given <code>type</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#_run_suites-instance_method" title="#_run_suites (instance method)">#<strong>_run_suites</strong>(suites, type)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Runs all the <code>suites</code> for a given <code>type</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#output-instance_method" title="#output (instance method)">#<strong>output</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return the IO for output.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#puke-instance_method" title="#puke (instance method)">#<strong>puke</strong>(klass, meth, e)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes status for failed test <code>meth</code> in <code>klass</code> which
finished with exception <code>e</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#record-instance_method" title="#record (instance method)">#<strong>record</strong>(suite, method, assertions, time, error)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Record the result of a single run.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>(args = [])  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Begins the full test run.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#run_tests-instance_method" title="#run_tests (instance method)">#<strong>run_tests</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Runs test suites matching <code>filter</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#status-instance_method" title="#status (instance method)">#<strong>status</strong>(io = self.output)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes status to <code>io</code></p>
</div>
      </span>
    </li>
  </ul>


<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="assertion_count-instance_method">
  <h3 class='signature first'>
  #<strong>assertion_count</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L743'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


743</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 743</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:test_count</span><span class='comma'>,</span> <span class='symbol'>:assertion_count</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="errors-instance_method">
  <h3 class='signature'>
  #<strong>errors</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L742'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


742</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 742</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:report</span><span class='comma'>,</span> <span class='symbol'>:failures</span><span class='comma'>,</span> <span class='symbol'>:errors</span><span class='comma'>,</span> <span class='symbol'>:skips</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="failures-instance_method">
  <h3 class='signature'>
  #<strong>failures</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L742'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


742</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 742</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:report</span><span class='comma'>,</span> <span class='symbol'>:failures</span><span class='comma'>,</span> <span class='symbol'>:errors</span><span class='comma'>,</span> <span class='symbol'>:skips</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="options-instance_method">
  <h3 class='signature'>
  #<strong>options</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Lazy accessor for options.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L752'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


752
753
754</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 752</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options'>options</span>
  <span class='ivar'>@options</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="skips-instance_method">
  <h3 class='signature'>
  #<strong>skips</strong>  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L742'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


742</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 742</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:report</span><span class='comma'>,</span> <span class='symbol'>:failures</span><span class='comma'>,</span> <span class='symbol'>:errors</span><span class='comma'>,</span> <span class='symbol'>:skips</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="after_tests-class_method">
  <h3 class='signature first'>
  .<strong>after_tests</strong>(&amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A simple hook allowing you to run a block of code after <em>all</em> of the
tests are done. Eg:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="" title="MiniTest::Unit (class)">Unit</a></span><span class='period'>.</span><span class='id identifier rubyid_after_tests'>after_tests</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_p'>p</span> <span class='gvar'>$debugging_info</span> <span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L766'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


766
767
768</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 766</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_after_tests'>after_tests</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='cvar'>@@after_tests</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="autorun-class_method">
  <h3 class='signature'>
  .<strong>autorun</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Registers <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> to run tests at process exit</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L773'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 773</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_autorun'>autorun</span>
  <span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span>
    <span class='comment'># don&#39;t run if there was a non-exit exception
</span>    <span class='kw'>next</span> <span class='kw'>if</span> <span class='gvar'>$!</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>SystemExit</span>

    <span class='comment'># the order here is important. The at_exit handler must be
</span>    <span class='comment'># installed before anyone else gets a chance to install their
</span>    <span class='comment'># own, that way we can be assured that our exit will be last
</span>    <span class='comment'># to run (at_exit stacks).
</span>    <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span>
      <span class='cvar'>@@after_tests</span><span class='period'>.</span><span class='id identifier rubyid_reverse_each'>reverse_each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:call</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='rbrace'>}</span>

    <span class='id identifier rubyid_exit_code'>exit_code</span> <span class='op'>=</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="" title="MiniTest::Unit (class)">Unit</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="#new-class_method" title="MiniTest::Unit.new (method)">new</a></span><span class='period'>.</span><span class='id identifier rubyid_run'><a href="#run-instance_method" title="MiniTest::Unit#run (method)">run</a></span> <span class='const'>ARGV</span>
  <span class='rbrace'>}</span> <span class='kw'>unless</span> <span class='cvar'>@@installed_at_exit</span>
  <span class='cvar'>@@installed_at_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="output-class_method">
  <h3 class='signature'>
  .<strong>output</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the stream to use for output.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L797'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


797
798
799</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 797</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
  <span class='cvar'>@@out</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="output=-class_method">
  <h3 class='signature'>
  .<strong>output=</strong>(stream)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> to write output to <code>stream</code>.  $stdout is
the default output</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L805'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


805
806
807</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 805</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output='>output=</span> <span class='id identifier rubyid_stream'>stream</span>
  <span class='cvar'>@@out</span> <span class='op'>=</span> <span class='id identifier rubyid_stream'>stream</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="plugins-class_method">
  <h3 class='signature'>
  .<strong>plugins</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return all plugins&#39; run methods (methods that start with “run_”).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L829'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


829
830
831
832
833</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 829</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_plugins'>plugins</span>
  <span class='cvar'>@@plugins</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>run_tests</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>+</span>
                 <span class='id identifier rubyid_public_instance_methods'>public_instance_methods</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span>
                 <span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^run_</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="runner-class_method">
  <h3 class='signature'>
  .<strong>runner</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> subclass instance that will be used to run the
tests. A <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> instance is the default runner.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L822'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


822
823
824</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 822</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_runner'>runner</span>
  <span class='cvar'>@@runner</span> <span class='op'>||=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="runner=-class_method">
  <h3 class='signature'>
  .<strong>runner=</strong>(runner)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Tells <a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> to delegate to <code>runner</code>, an instance of a
<a href="" title="MiniTest::Unit (class)">MiniTest::Unit</a> subclass, when <a href="#run-instance_method" title="MiniTest::Unit#run (method)">#run</a> is called.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L813'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


813
814
815</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 813</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_runner='>runner=</span> <span class='id identifier rubyid_runner'>runner</span>
  <span class='cvar'>@@runner</span> <span class='op'>=</span> <span class='id identifier rubyid_runner'>runner</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="_run-instance_method">
  <h3 class='signature first'>
  #<strong>_run</strong>(args = [])  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Top level driver, controls all output and filtering.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L1041'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 1041</span>

<span class='kw'>def</span> <span class='id identifier rubyid__run'>_run</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_process_args'>process_args</span> <span class='id identifier rubyid_args'>args</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run options: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_help'>help</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_plugins'>plugins</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_plugin'>plugin</span><span class='op'>|</span>
    <span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_plugin'>plugin</span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_report'>report</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_failures'>failures</span> <span class='op'>+</span> <span class='id identifier rubyid_errors'>errors</span> <span class='kw'>if</span> <span class='ivar'>@test_count</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='comment'># or return nil...
</span><span class='kw'>rescue</span> <span class='const'>Interrupt</span>
  <span class='id identifier rubyid_abort'>abort</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Interrupted</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_run_anything-instance_method">
  <h3 class='signature'>
  #<strong>_run_anything</strong>(type)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Runner for a given <code>type</code> (eg, test vs bench).</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L853'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 853</span>

<span class='kw'>def</span> <span class='id identifier rubyid__run_anything'>_run_anything</span> <span class='id identifier rubyid_type'>type</span>
  <span class='id identifier rubyid_suites'>suites</span> <span class='op'>=</span> <span class='const'><a href="Unit/TestCase.html" title="MiniTest::Unit::TestCase (class)">TestCase</a></span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>_suites</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_suites'>suites</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>

  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># Running </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>s:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span>

  <span class='ivar'>@test_count</span><span class='comma'>,</span> <span class='ivar'>@assertion_count</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>
  <span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:sync=</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># stupid emacs
</span>  <span class='id identifier rubyid_old_sync'>old_sync</span><span class='comma'>,</span> <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_sync'>sync</span><span class='comma'>,</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_sync'>sync</span>

  <span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid__run_suites'>_run_suites</span> <span class='id identifier rubyid_suites'>suites</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span>

  <span class='ivar'>@test_count</span>      <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sum'>sum</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_tc'>tc</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span><span class='op'>|</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='id identifier rubyid_tc'>tc</span> <span class='rbrace'>}</span>
  <span class='ivar'>@assertion_count</span> <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sum'>sum</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_ac'>ac</span><span class='rparen'>)</span><span class='op'>|</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='id identifier rubyid_ac'>ac</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='id identifier rubyid_old_sync'>old_sync</span> <span class='kw'>if</span> <span class='id identifier rubyid_sync'>sync</span>

  <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_start'>start</span>

  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Finished </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>s in %.6fs, %.4f tests/s, %.4f assertions/s.</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_test_count'>test_count</span> <span class='op'>/</span> <span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_assertion_count'>assertion_count</span> <span class='op'>/</span> <span class='id identifier rubyid_t'>t</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_report'>report</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n%3d) %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_puts'>puts</span>

  <span class='id identifier rubyid_status'>status</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_run_suite-instance_method">
  <h3 class='signature'>
  #<strong>_run_suite</strong>(suite, type)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Run a single <code>suite</code> for a given <code>type</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L905'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


905
906
907
908
909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 905</span>

<span class='kw'>def</span> <span class='id identifier rubyid__run_suite'>_run_suite</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span>
  <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>_suite_header</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='id identifier rubyid_suite'>suite</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='id identifier rubyid_header'>header</span>

  <span class='id identifier rubyid_filter'>filter</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:filter</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/./</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_filter'>filter</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='backref'>$1</span> <span class='kw'>if</span> <span class='id identifier rubyid_filter'>filter</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\/(.*)\/</span><span class='regexp_end'>/</span></span>

  <span class='id identifier rubyid_assertions'>assertions</span> <span class='op'>=</span> <span class='id identifier rubyid_suite'>suite</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>_methods</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='id identifier rubyid_filter'>filter</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
    <span class='id identifier rubyid_inst'>inst</span> <span class='op'>=</span> <span class='id identifier rubyid_suite'>suite</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_method'>method</span>
    <span class='id identifier rubyid_inst'>inst</span><span class='period'>.</span><span class='id identifier rubyid__assertions'>_assertions</span> <span class='op'>=</span> <span class='int'>0</span>

    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suite'>suite</span><span class='embexpr_end'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_content'> = </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@verbose</span>

    <span class='id identifier rubyid_start_time'>start_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='kw'>if</span> <span class='ivar'>@verbose</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_inst'>inst</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span> <span class='kw'>self</span>

    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%.2f s = </span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_start_time'>start_time</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@verbose</span>
    <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_result'>result</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>if</span> <span class='ivar'>@verbose</span>

    <span class='id identifier rubyid_inst'>inst</span><span class='period'>.</span><span class='id identifier rubyid__assertions'>_assertions</span>
  <span class='rbrace'>}</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_assertions'>assertions</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='id identifier rubyid_assertions'>assertions</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sum'>sum</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_sum'>sum</span> <span class='op'>+</span> <span class='id identifier rubyid_n'>n</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="_run_suites-instance_method">
  <h3 class='signature'>
  #<strong>_run_suites</strong>(suites, type)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Runs all the <code>suites</code> for a given <code>type</code>. Runs suites
declaring a test_order of <code>:parallel</code> in parallel, and
everything else serial.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L895'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


895
896
897
898
899
900</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 895</span>

<span class='kw'>def</span> <span class='id identifier rubyid__run_suites'>_run_suites</span> <span class='id identifier rubyid_suites'>suites</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span>
  <span class='id identifier rubyid_parallel'>parallel</span><span class='comma'>,</span> <span class='id identifier rubyid_serial'>serial</span> <span class='op'>=</span> <span class='id identifier rubyid_suites'>suites</span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_test_order'>test_order</span> <span class='op'>==</span> <span class='symbol'>:parallel</span> <span class='rbrace'>}</span>

  <span class='const'><a href="../ParallelEach.html" title="ParallelEach (class)">ParallelEach</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="../ParallelEach.html#new-class_method" title="ParallelEach.new (method)">new</a></span><span class='lparen'>(</span><span class='id identifier rubyid_parallel'>parallel</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_suite'>suite</span><span class='op'>|</span> <span class='id identifier rubyid__run_suite'>_run_suite</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rbrace'>}</span> <span class='op'>+</span>
    <span class='id identifier rubyid_serial'>serial</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_suite'>suite</span><span class='op'>|</span> <span class='id identifier rubyid__run_suite'>_run_suite</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="output-instance_method">
  <h3 class='signature'>
  #<strong>output</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the IO for output.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L838'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


838
839
840</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 838</span>

<span class='kw'>def</span> <span class='id identifier rubyid_output'>output</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="puke-instance_method">
  <h3 class='signature'>
  #<strong>puke</strong>(klass, meth, e)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes status for failed test <code>meth</code> in <code>klass</code> which
finished with exception <code>e</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L959'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 959</span>

<span class='kw'>def</span> <span class='id identifier rubyid_puke'>puke</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>when</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="Skip.html" title="MiniTest::Skip (class)">Skip</a></span> <span class='kw'>then</span>
        <span class='ivar'>@skips</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>S</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@verbose</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skipped:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_meth'>meth</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_content'>) [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span> <span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_content'>]:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>when</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="Assertion.html" title="MiniTest::Assertion (class)">Assertion</a></span> <span class='kw'>then</span>
        <span class='ivar'>@failures</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failure:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_meth'>meth</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_content'>) [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_location'>location</span> <span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_content'>]:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='ivar'>@errors</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_bt'>bt</span> <span class='op'>=</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='id identifier rubyid_filter_backtrace'><a href="../MiniTest.html#filter_backtrace-class_method" title="MiniTest.filter_backtrace (method)">filter_backtrace</a></span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n    </span><span class='tstring_end'>&quot;</span></span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_meth'>meth</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_content'>):\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n    </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bt'>bt</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
  <span class='ivar'>@report</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_e'>e</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="record-instance_method">
  <h3 class='signature'>
  #<strong>record</strong>(suite, method, assertions, time, error)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Record the result of a single run. Makes it very easy to gather
information. Eg:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>StatisticsRecorder</span> <span class='op'>&lt;</span> <span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="" title="MiniTest::Unit (class)">Unit</a></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_record'>record</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_assertions'>assertions</span><span class='comma'>,</span> <span class='id identifier rubyid_time'>time</span><span class='comma'>,</span> <span class='id identifier rubyid_error'>error</span>
    <span class='comment'># ... record the results somewhere ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='const'><a href="../MiniTest.html" title="MiniTest (module)">MiniTest</a></span><span class='op'>::</span><span class='const'><a href="" title="MiniTest::Unit (class)">Unit</a></span><span class='period'>.</span><span class='id identifier rubyid_runner'><a href="#runner-class_method" title="MiniTest::Unit.runner (method)">runner</a></span> <span class='op'>=</span> <span class='const'>StatisticsRecorder</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L943'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


943
944</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 943</span>

<span class='kw'>def</span> <span class='id identifier rubyid_record'>record</span> <span class='id identifier rubyid_suite'>suite</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_assertions'>assertions</span><span class='comma'>,</span> <span class='id identifier rubyid_time'>time</span><span class='comma'>,</span> <span class='id identifier rubyid_error'>error</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="run-instance_method">
  <h3 class='signature'>
  #<strong>run</strong>(args = [])  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Begins the full test run. Delegates to <code>runner</code>&#39;s <a href="#_run-instance_method" title="MiniTest::Unit#_run (method)">#_run</a>
method.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L1034'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1034
1035
1036</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 1034</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid__run'>_run</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="run_tests-instance_method">
  <h3 class='signature'>
  #<strong>run_tests</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Runs test suites matching <code>filter</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L1059'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1059
1060
1061</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 1059</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_tests'>run_tests</span>
  <span class='id identifier rubyid__run_anything'>_run_anything</span> <span class='symbol'>:test</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="status-instance_method">
  <h3 class='signature'>
  #<strong>status</strong>(io = self.output)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes status to <code>io</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/minitest/unit.rb#L1066'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


1066
1067
1068
1069</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/minitest/unit.rb', line 1066</span>

<span class='kw'>def</span> <span class='id identifier rubyid_status'>status</span> <span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
  <span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%d tests, %d assertions, %d failures, %d errors, %d skips</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_format'>format</span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_test_count'>test_count</span><span class='comma'>,</span> <span class='id identifier rubyid_assertion_count'>assertion_count</span><span class='comma'>,</span> <span class='id identifier rubyid_failures'>failures</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span><span class='comma'>,</span> <span class='id identifier rubyid_skips'>skips</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>