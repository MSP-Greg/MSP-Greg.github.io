<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::Markup::ToHtmlSnippet &mdash; rdoc Ruby-2.0.0 p648</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "RDoc::Markup::ToHtmlSnippet",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../../index.html'>Home</a> &raquo; 
          <a href='../../../index.html'>Ruby-2.0.0</a> &raquo; 
          <a href='../../index.html'>rdoc</a> &raquo; 
          <a href='../../_index.html'>Index (T)</a> &raquo; 
          <a href="../../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
          <a href="../Markup.html" title="RDoc::Markup (class)">Markup</a> &raquo; 
          <span class='title'>ToHtmlSnippet</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: RDoc::Markup::ToHtmlSnippet</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'><a href="ToHtml.html" title="RDoc::Markup::ToHtml (class)">ToHtml</a></span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'><a href="Formatter.html" title="RDoc::Markup::Formatter (class)">Formatter</a></li>
        <li class='next'><a href="ToHtml.html" title="RDoc::Markup::ToHtml (class)">ToHtml</a></li>
        <li class='next'>RDoc::Markup::ToHtmlSnippet</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>





  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L4'>lib/rdoc/markup/to_html_snippet.rb</a></div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Outputs RDoc markup as paragraphs with inline markup only.</p>


  </div>
</div>
<div class="tags">
  
</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants inherited
     from <a href="ToHtml.html" title="RDoc::Markup::ToHtml (class)">ToHtml</a></h3>
  <p class="inherited"><a href="ToHtml.html#LIST_TYPE_TO_HTML-constant" title="RDoc::Markup::ToHtml::LIST_TYPE_TO_HTML (constant)">RDoc::Markup::ToHtml::LIST_TYPE_TO_HTML</a></p>

  
  
  <h3 class="inherited">Constants included
     from <a href="../Text.html" title="RDoc::Text (module)">Text</a></h3>
  <p class="inherited"><a href="../Text.html#MARKUP_FORMAT-constant" title="RDoc::Text::MARKUP_FORMAT (constant)">Text::MARKUP_FORMAT</a>, <a href="../Text.html#TO_HTML_CHARACTERS-constant" title="RDoc::Text::TO_HTML_CHARACTERS (constant)">Text::TO_HTML_CHARACTERS</a></p>

<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#character_limit-instance_method" title="#character_limit (instance method)">#<strong>character_limit</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>After this many characters the input will be cut off.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#characters-instance_method" title="#characters (instance method)">#<strong>characters</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The number of characters seen so far.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#mask-instance_method" title="#mask (instance method)">#<strong>mask</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The attribute bitmask</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#paragraph_limit-instance_method" title="#paragraph_limit (instance method)">#<strong>paragraph_limit</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>After this many paragraphs the input will be cut off.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#paragraphs-instance_method" title="#paragraphs (instance method)">#<strong>paragraphs</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Count of paragraphs found</p>
</div>
      </span>
    </li>
  </ul>


  
  
  <h3 class="inherited">Attributes inherited from <a href="ToHtml.html" title="RDoc::Markup::ToHtml (class)">ToHtml</a></h3>
  <p class="inherited"><a href="ToHtml.html#code_object-instance_method" title="RDoc::Markup::ToHtml#code_object (method)">#code_object</a>, <a href="ToHtml.html#from_path-instance_method" title="RDoc::Markup::ToHtml#from_path (method)">#from_path</a>, <a href="ToHtml.html#in_list_entry-instance_method" title="RDoc::Markup::ToHtml#in_list_entry (method)">#in_list_entry</a>, <a href="ToHtml.html#list-instance_method" title="RDoc::Markup::ToHtml#list (method)">#list</a>, <a href="ToHtml.html#res-instance_method" title="RDoc::Markup::ToHtml#res (method)">#res</a></p>

<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(options, characters = 100, paragraphs = 3, markup = nil)  &#x21d2; ToHtmlSnippet </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new ToHtmlSnippet formatter that will cut off the input on the
next word boundary after the given number of <code>characters</code> or
<code>paragraphs</code> of text have been encountered.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#accept_heading-instance_method" title="#accept_heading (instance method)">#<strong>accept_heading</strong>(heading)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds <code>heading</code> to the output as a paragraph</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_list_item_end-instance_method" title="#accept_list_item_end (instance method)">#<strong>accept_list_item_end</strong>(list_item)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Finishes consumption of <code>list_item</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_list_item_start-instance_method" title="#accept_list_item_start (instance method)">#<strong>accept_list_item_start</strong>(list_item)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Prepares the visitor for consuming <code>list_item</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_list_start-instance_method" title="#accept_list_start (instance method)">#<strong>accept_list_start</strong>(list)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Prepares the visitor for consuming <code>list</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_paragraph-instance_method" title="#accept_paragraph (instance method)">#<strong>accept_paragraph</strong>(paragraph)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_raw-instance_method" title="#accept_raw (instance method)">#<strong>accept_raw</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Raw sections are untrusted and ignored</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_rule-instance_method" title="#accept_rule (instance method)">#<strong>accept_rule</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Rules are ignored</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#accept_verbatim-instance_method" title="#accept_verbatim (instance method)">#<strong>accept_verbatim</strong>(verbatim)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Adds <code>verbatim</code> to the output</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#add_paragraph-instance_method" title="#add_paragraph (instance method)">#<strong>add_paragraph</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Throws <code>:done</code> when paragraph_limit paragraphs have been
encountered</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#convert-instance_method" title="#convert (instance method)">#<strong>convert</strong>(content)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Marks up <code>content</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#convert_flow-instance_method" title="#convert_flow (instance method)">#<strong>convert_flow</strong>(flow)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Converts flow items <code>flow</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gen_url-instance_method" title="#gen_url (instance method)">#<strong>gen_url</strong>(url, text)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns just the text of <code>link</code>, <code>url</code> is only used
to determine the link type.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#handle_special_CROSSREF-instance_method" title="#handle_special_CROSSREF (instance method)">#<strong>handle_special_CROSSREF</strong>(special)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Removes escaping from the cross-references in <code>special</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#handle_special_HARD_BREAK-instance_method" title="#handle_special_HARD_BREAK (instance method)">#<strong>handle_special_HARD_BREAK</strong>(special)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p><code>special</code> is a <code><br></code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#html_list_name-instance_method" title="#html_list_name (instance method)">#<strong>html_list_name</strong>(list_type, open_tag)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>In snippets, there are no lists</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#list_item_start-instance_method" title="#list_item_start (instance method)">#<strong>list_item_start</strong>(list_item, list_type)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Lists are paragraphs, but notes and labels have a separator</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#off_tags-instance_method" title="#off_tags (instance method)">#<strong>off_tags</strong>(res, item)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Maintains a bitmask to allow HTML elements to be closed properly.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#on_tags-instance_method" title="#on_tags (instance method)">#<strong>on_tags</strong>(res, item)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Maintains a bitmask to allow HTML elements to be closed properly.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#start_accepting-instance_method" title="#start_accepting (instance method)">#<strong>start_accepting</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Prepares the visitor for HTML snippet generation</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#truncate-instance_method" title="#truncate (instance method)">#<strong>truncate</strong>(text)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Truncates <code>text</code> at the end of the first word after the
character_limit.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="ToHtml.html" title="RDoc::Markup::ToHtml (class)">ToHtml</a></h3>
  <p class="inherited"><a href="ToHtml.html#accept_blank_line-instance_method" title="RDoc::Markup::ToHtml#accept_blank_line (method)">#accept_blank_line</a>, <a href="ToHtml.html#accept_block_quote-instance_method" title="RDoc::Markup::ToHtml#accept_block_quote (method)">#accept_block_quote</a>, <a href="ToHtml.html#accept_list_end-instance_method" title="RDoc::Markup::ToHtml#accept_list_end (method)">#accept_list_end</a>, <a href="ToHtml.html#convert_string-instance_method" title="RDoc::Markup::ToHtml#convert_string (method)">#convert_string</a>, <a href="ToHtml.html#end_accepting-instance_method" title="RDoc::Markup::ToHtml#end_accepting (method)">#end_accepting</a>, <a href="ToHtml.html#handle_special_HYPERLINK-instance_method" title="RDoc::Markup::ToHtml#handle_special_HYPERLINK (method)">#handle_special_HYPERLINK</a>, <a href="ToHtml.html#handle_special_RDOCLINK-instance_method" title="RDoc::Markup::ToHtml#handle_special_RDOCLINK (method)">#handle_special_RDOCLINK</a>, <a href="ToHtml.html#handle_special_TIDYLINK-instance_method" title="RDoc::Markup::ToHtml#handle_special_TIDYLINK (method)">#handle_special_TIDYLINK</a>, <a href="ToHtml.html#init_tags-instance_method" title="RDoc::Markup::ToHtml#init_tags (method)">#init_tags</a>, <a href="ToHtml.html#list_end_for-instance_method" title="RDoc::Markup::ToHtml#list_end_for (method)">#list_end_for</a>, <a href="ToHtml.html#parseable%3F-instance_method" title="RDoc::Markup::ToHtml#parseable? (method)">#parseable?</a>, <a href="ToHtml.html#to_html-instance_method" title="RDoc::Markup::ToHtml#to_html (method)">#to_html</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../Text.html" title="RDoc::Text (module)">Text</a></h3>
  <p class="inherited"><a href="../Text.html#encode_fallback-class_method" title="RDoc::Text.encode_fallback (method)">.encode_fallback</a>, <a href="../Text.html#expand_tabs-instance_method" title="RDoc::Text#expand_tabs (method)">#expand_tabs</a>, <a href="../Text.html#flush_left-instance_method" title="RDoc::Text#flush_left (method)">#flush_left</a>, <a href="../Text.html#markup-instance_method" title="RDoc::Text#markup (method)">#markup</a>, <a href="../Text.html#normalize_comment-instance_method" title="RDoc::Text#normalize_comment (method)">#normalize_comment</a>, <a href="../Text.html#parse-instance_method" title="RDoc::Text#parse (method)">#parse</a>, <a href="../Text.html#snippet-instance_method" title="RDoc::Text#snippet (method)">#snippet</a>, <a href="../Text.html#strip_hashes-instance_method" title="RDoc::Text#strip_hashes (method)">#strip_hashes</a>, <a href="../Text.html#strip_newlines-instance_method" title="RDoc::Text#strip_newlines (method)">#strip_newlines</a>, <a href="../Text.html#strip_stars-instance_method" title="RDoc::Text#strip_stars (method)">#strip_stars</a>, <a href="../Text.html#to_html-instance_method" title="RDoc::Text#to_html (method)">#to_html</a>, <a href="../Text.html#wrap-instance_method" title="RDoc::Text#wrap (method)">#wrap</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="Formatter.html" title="RDoc::Markup::Formatter (class)">Formatter</a></h3>
  <p class="inherited"><a href="Formatter.html#accept_document-instance_method" title="RDoc::Markup::Formatter#accept_document (method)">#accept_document</a>, <a href="Formatter.html#add_special_RDOCLINK-instance_method" title="RDoc::Markup::Formatter#add_special_RDOCLINK (method)">#add_special_RDOCLINK</a>, <a href="Formatter.html#add_special_TIDYLINK-instance_method" title="RDoc::Markup::Formatter#add_special_TIDYLINK (method)">#add_special_TIDYLINK</a>, <a href="Formatter.html#add_tag-instance_method" title="RDoc::Markup::Formatter#add_tag (method)">#add_tag</a>, <a href="Formatter.html#annotate-instance_method" title="RDoc::Markup::Formatter#annotate (method)">#annotate</a>, <a href="Formatter.html#convert_special-instance_method" title="RDoc::Markup::Formatter#convert_special (method)">#convert_special</a>, <a href="Formatter.html#convert_string-instance_method" title="RDoc::Markup::Formatter#convert_string (method)">#convert_string</a>, <a href="Formatter.html#gen_relative_url-class_method" title="RDoc::Markup::Formatter.gen_relative_url (method)">.gen_relative_url</a>, <a href="Formatter.html#ignore-instance_method" title="RDoc::Markup::Formatter#ignore (method)">#ignore</a>, <a href="Formatter.html#in_tt%3F-instance_method" title="RDoc::Markup::Formatter#in_tt? (method)">#in_tt?</a>, <a href="Formatter.html#parse_url-instance_method" title="RDoc::Markup::Formatter#parse_url (method)">#parse_url</a>, <a href="Formatter.html#tt%3F-instance_method" title="RDoc::Markup::Formatter#tt? (method)">#tt?</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(options, characters = 100, paragraphs = 3, markup = nil)  &#x21d2; <tt><a href="" title="RDoc::Markup::ToHtmlSnippet (class)">ToHtmlSnippet</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new ToHtmlSnippet formatter that will cut off the input on the
next word boundary after the given number of <code>characters</code> or
<code>paragraphs</code> of text have been encountered.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L36'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


36
37
38
39
40
41
42
43
44
45
46
47</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_characters'>characters</span> <span class='op'>=</span> <span class='int'>100</span><span class='comma'>,</span> <span class='id identifier rubyid_paragraphs'>paragraphs</span> <span class='op'>=</span> <span class='int'>3</span><span class='comma'>,</span> <span class='id identifier rubyid_markup'>markup</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>super</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_markup'>markup</span>

  <span class='ivar'>@character_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_characters'>characters</span>
  <span class='ivar'>@paragraph_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_paragraphs'>paragraphs</span>

  <span class='ivar'>@characters</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@mask</span>       <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@paragraphs</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='ivar'>@markup</span><span class='period'>.</span><span class='id identifier rubyid_add_special'>add_special</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>CrossReference</span><span class='op'>::</span><span class='const'>CROSSREF_REGEXP</span><span class='comma'>,</span> <span class='symbol'>:CROSSREF</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="character_limit-instance_method">
  <h3 class='signature first'>
  #<strong>character_limit</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>After this many characters the input will be cut off.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L9'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 9</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:character_limit</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="characters-instance_method">
  <h3 class='signature'>
  #<strong>characters</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The number of characters seen so far.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L14'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


14</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 14</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:characters</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="mask-instance_method">
  <h3 class='signature'>
  #<strong>mask</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The attribute bitmask</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L19'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


19</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 19</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:mask</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="paragraph_limit-instance_method">
  <h3 class='signature'>
  #<strong>paragraph_limit</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>After this many paragraphs the input will be cut off.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L24'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


24</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 24</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:paragraph_limit</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="paragraphs-instance_method">
  <h3 class='signature'>
  #<strong>paragraphs</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Count of paragraphs found</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L29'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


29</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 29</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:paragraphs</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="accept_heading-instance_method">
  <h3 class='signature first'>
  #<strong>accept_heading</strong>(heading)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds <code>heading</code> to the output as a paragraph</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L52'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


52
53
54
55
56</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_heading'>accept_heading</span> <span class='id identifier rubyid_heading'>heading</span>
  <span class='ivar'>@res</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to_html'>to_html</span> <span class='id identifier rubyid_heading'>heading</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_add_paragraph'>add_paragraph</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_list_item_end-instance_method">
  <h3 class='signature'>
  #<strong>accept_list_item_end</strong>(list_item)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Finishes consumption of <code>list_item</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L81'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


81
82</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 81</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_list_item_end'>accept_list_item_end</span> <span class='id identifier rubyid_list_item'>list_item</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_list_item_start-instance_method">
  <h3 class='signature'>
  #<strong>accept_list_item_start</strong>(list_item)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Prepares the visitor for consuming <code>list_item</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L87'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


87
88
89</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 87</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_list_item_start'>accept_list_item_start</span> <span class='id identifier rubyid_list_item'>list_item</span>
  <span class='ivar'>@res</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_list_item_start'>list_item_start</span><span class='lparen'>(</span><span class='id identifier rubyid_list_item'>list_item</span><span class='comma'>,</span> <span class='ivar'>@list</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_list_start-instance_method">
  <h3 class='signature'>
  #<strong>accept_list_start</strong>(list)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Prepares the visitor for consuming <code>list</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L94'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


94
95
96
97
98</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 94</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_list_start'>accept_list_start</span> <span class='id identifier rubyid_list'>list</span>
  <span class='ivar'>@list</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
  <span class='ivar'>@res</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_html_list_name'>html_list_name</span><span class='lparen'>(</span><span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='ivar'>@in_list_entry</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_paragraph-instance_method">
  <h3 class='signature'>
  #<strong>accept_paragraph</strong>(paragraph)  
</h3>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L68'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


68
69
70
71
72
73
74
75
76</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_paragraph'>accept_paragraph</span> <span class='id identifier rubyid_paragraph'>paragraph</span>
  <span class='id identifier rubyid_para'>para</span> <span class='op'>=</span> <span class='ivar'>@in_list_entry</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_paragraph'>paragraph</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='ivar'>@hard_break</span>

  <span class='ivar'>@res</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_para'>para</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_wrap'>wrap</span> <span class='id identifier rubyid_to_html'>to_html</span> <span class='id identifier rubyid_text'>text</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_add_paragraph'>add_paragraph</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_raw-instance_method">
  <h3 class='signature'>
  #<strong>accept_raw</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Raw sections are untrusted and ignored</p>


  </div>
</div>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L61'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


61</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 61</span>

<span class='kw'>alias</span> <span class='id identifier rubyid_accept_raw'>accept_raw</span> <span class='id identifier rubyid_ignore'>ignore</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_rule-instance_method">
  <h3 class='signature'>
  #<strong>accept_rule</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Rules are ignored</p>


  </div>
</div>
  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L66'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


66</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 66</span>

<span class='kw'>alias</span> <span class='id identifier rubyid_accept_rule'>accept_rule</span> <span class='id identifier rubyid_ignore'>ignore</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="accept_verbatim-instance_method">
  <h3 class='signature'>
  #<strong>accept_verbatim</strong>(verbatim)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Adds <code>verbatim</code> to the output</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L103'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


103
104
105
106
107
108
109
110
111
112
113</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accept_verbatim'>accept_verbatim</span> <span class='id identifier rubyid_verbatim'>verbatim</span>
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbol'>:done</span> <span class='kw'>if</span> <span class='ivar'>@characters</span> <span class='op'>&gt;=</span> <span class='ivar'>@character_limit</span>
  <span class='id identifier rubyid_input'>input</span> <span class='op'>=</span> <span class='id identifier rubyid_verbatim'>verbatim</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_rstrip'>rstrip</span>

  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_truncate'>truncate</span> <span class='id identifier rubyid_input'>input</span>
  <span class='id identifier rubyid_text'>text</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> ...</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_text'>text</span> <span class='op'>==</span> <span class='id identifier rubyid_input'>input</span>

  <span class='kw'>super</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Markup</span><span class='op'>::</span><span class='const'>Verbatim</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_text'>text</span>

  <span class='id identifier rubyid_add_paragraph'>add_paragraph</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="add_paragraph-instance_method">
  <h3 class='signature'>
  #<strong>add_paragraph</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Throws <code>:done</code> when paragraph_limit paragraphs have been
encountered</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L194'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


194
195
196
197
198</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_paragraph'>add_paragraph</span>
  <span class='ivar'>@paragraphs</span> <span class='op'>+=</span> <span class='int'>1</span>

  <span class='id identifier rubyid_throw'>throw</span> <span class='symbol'>:done</span> <span class='kw'>if</span> <span class='ivar'>@paragraphs</span> <span class='op'>&gt;=</span> <span class='ivar'>@paragraph_limit</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="convert-instance_method">
  <h3 class='signature'>
  #<strong>convert</strong>(content)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Marks up <code>content</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L203'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


203
204
205
206
207
208
209</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 203</span>

<span class='kw'>def</span> <span class='id identifier rubyid_convert'>convert</span> <span class='id identifier rubyid_content'>content</span>
  <span class='id identifier rubyid_catch'>catch</span> <span class='symbol'>:done</span> <span class='kw'>do</span>
    <span class='kw'>return</span> <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_end_accepting'>end_accepting</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="convert_flow-instance_method">
  <h3 class='signature'>
  #<strong>convert_flow</strong>(flow)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Converts flow items <code>flow</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L214'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 214</span>

<span class='kw'>def</span> <span class='id identifier rubyid_convert_flow'>convert_flow</span> <span class='id identifier rubyid_flow'>flow</span>
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbol'>:done</span> <span class='kw'>if</span> <span class='ivar'>@characters</span> <span class='op'>&gt;=</span> <span class='ivar'>@character_limit</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@mask</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='id identifier rubyid_flow'>flow</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_item'>item</span>
    <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Markup</span><span class='op'>::</span><span class='const'>AttrChanger</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_off_tags'>off_tags</span> <span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span>
      <span class='id identifier rubyid_on_tags'>on_tags</span>  <span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span>
    <span class='kw'>when</span> <span class='const'>String</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_convert_string'>convert_string</span> <span class='id identifier rubyid_item'>item</span>
      <span class='id identifier rubyid_res'>res</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Markup</span><span class='op'>::</span><span class='const'>Special</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_convert_special'>convert_special</span> <span class='id identifier rubyid_item'>item</span>
      <span class='id identifier rubyid_res'>res</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown flow element: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='ivar'>@characters</span> <span class='op'>&gt;=</span> <span class='ivar'>@character_limit</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_off_tags'>off_tags</span> <span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Markup</span><span class='op'>::</span><span class='const'>AttrChanger</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='ivar'>@mask</span><span class='rparen'>)</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> ...</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='ivar'>@characters</span> <span class='op'>&gt;=</span> <span class='ivar'>@character_limit</span>

  <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gen_url-instance_method">
  <h3 class='signature'>
  #<strong>gen_url</strong>(url, text)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns just the text of <code>link</code>, <code>url</code> is only used
to determine the link type.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L167'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 167</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gen_url'>gen_url</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^rdoc-label:([^:]*)(?::(.*))?</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>link</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_url'>url</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([A-Za-z]+):(.*)</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='backref'>$1</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>or</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>or</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>link</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>and</span>
     <span class='id identifier rubyid_url'>url</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.(gif|png|jpg|jpeg|bmp)$</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r%</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>:/*</span><span class='regexp_end'>%</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="handle_special_CROSSREF-instance_method">
  <h3 class='signature'>
  #<strong>handle_special_CROSSREF</strong>(special)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes escaping from the cross-references in <code>special</code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L127'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


127
128
129</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_special_CROSSREF'>handle_special_CROSSREF</span> <span class='id identifier rubyid_special'>special</span>
  <span class='id identifier rubyid_special'>special</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\\</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="handle_special_HARD_BREAK-instance_method">
  <h3 class='signature'>
  #<strong>handle_special_HARD_BREAK</strong>(special)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p><code>special</code> is a <code><br></code></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L134'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


134
135
136
137</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 134</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_special_HARD_BREAK'>handle_special_HARD_BREAK</span> <span class='id identifier rubyid_special'>special</span>
  <span class='ivar'>@characters</span> <span class='op'>-=</span> <span class='int'>4</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;br&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="html_list_name-instance_method">
  <h3 class='signature'>
  #<strong>html_list_name</strong>(list_type, open_tag)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>In snippets, there are no lists</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L187'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


187
188
189</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 187</span>

<span class='kw'>def</span> <span class='id identifier rubyid_html_list_name'>html_list_name</span> <span class='id identifier rubyid_list_type'>list_type</span><span class='comma'>,</span> <span class='id identifier rubyid_open_tag'>open_tag</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="list_item_start-instance_method">
  <h3 class='signature'>
  #<strong>list_item_start</strong>(list_item, list_type)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Lists are paragraphs, but notes and labels have a separator</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L142'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_item_start'>list_item_start</span> <span class='id identifier rubyid_list_item'>list_item</span><span class='comma'>,</span> <span class='id identifier rubyid_list_type'>list_type</span>
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbol'>:done</span> <span class='kw'>if</span> <span class='ivar'>@characters</span> <span class='op'>&gt;=</span> <span class='ivar'>@character_limit</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_list_type'>list_type</span>
  <span class='kw'>when</span> <span class='symbol'>:BULLET</span><span class='comma'>,</span> <span class='symbol'>:LALPHA</span><span class='comma'>,</span> <span class='symbol'>:NUMBER</span><span class='comma'>,</span> <span class='symbol'>:UALPHA</span> <span class='kw'>then</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:LABEL</span><span class='comma'>,</span> <span class='symbol'>:NOTE</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_labels'>labels</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_list_item'>list_item</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_label'>label</span><span class='op'>|</span>
      <span class='id identifier rubyid_to_html'>to_html</span> <span class='id identifier rubyid_label'>label</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span>

    <span class='id identifier rubyid_labels'>labels</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> &amp;mdash; </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_labels'>labels</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_labels'>labels</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@characters</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='comment'># try to include the label
</span>    <span class='id identifier rubyid_start'>start</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>Error</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid list type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_list_type'>list_type</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="off_tags-instance_method">
  <h3 class='signature'>
  #<strong>off_tags</strong>(res, item)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Maintains a bitmask to allow HTML elements to be closed properly.  See
<a href="Formatter.html" title="RDoc::Markup::Formatter (class)">Formatter</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L260'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


260
261
262
263
264</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 260</span>

<span class='kw'>def</span> <span class='id identifier rubyid_off_tags'>off_tags</span> <span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span>
  <span class='ivar'>@mask</span> <span class='op'>^=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_turn_off'>turn_off</span>

  <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="on_tags-instance_method">
  <h3 class='signature'>
  #<strong>on_tags</strong>(res, item)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Maintains a bitmask to allow HTML elements to be closed properly.  See
<a href="Formatter.html" title="RDoc::Markup::Formatter (class)">Formatter</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L250'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


250
251
252
253
254</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 250</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_tags'>on_tags</span> <span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span>
  <span class='ivar'>@mask</span> <span class='op'>^=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_turn_on'>turn_on</span>

  <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="start_accepting-instance_method">
  <h3 class='signature'>
  #<strong>start_accepting</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Prepares the visitor for HTML snippet generation</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L118'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


118
119
120
121
122</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_accepting'>start_accepting</span>
  <span class='kw'>super</span>

  <span class='ivar'>@characters</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="truncate-instance_method">
  <h3 class='signature'>
  #<strong>truncate</strong>(text)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Truncates <code>text</code> at the end of the first word after the
character_limit.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rdoc/markup/to_html_snippet.rb#L269'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


269
270
271
272
273
274
275
276
277
278
279
280
281</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'lib/rdoc/markup/to_html_snippet.rb', line 269</span>

<span class='kw'>def</span> <span class='id identifier rubyid_truncate'>truncate</span> <span class='id identifier rubyid_text'>text</span>
  <span class='id identifier rubyid_length'>length</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='id identifier rubyid_characters'>characters</span> <span class='op'>=</span> <span class='ivar'>@characters</span>
  <span class='ivar'>@characters</span> <span class='op'>+=</span> <span class='id identifier rubyid_length'>length</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_text'>text</span> <span class='kw'>if</span> <span class='ivar'>@characters</span> <span class='op'>&lt;</span> <span class='ivar'>@character_limit</span>

  <span class='id identifier rubyid_remaining'>remaining</span> <span class='op'>=</span> <span class='ivar'>@character_limit</span> <span class='op'>-</span> <span class='id identifier rubyid_characters'>characters</span>

  <span class='id identifier rubyid_text'>text</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(.{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remaining'>remaining</span><span class='embexpr_end'>}</span><span class='tstring_content'>,}?)(\s|$)</span><span class='regexp_end'>/m</span></span> <span class='comment'># TODO word-break instead of \s?
</span>
  <span class='backref'>$1</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>