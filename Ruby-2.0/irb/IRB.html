<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: IRB &mdash; irb Ruby-2.0.0 p247</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "IRB",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.0.0</a> &raquo; 
          <a href='index.html'>irb</a> &raquo; 
          <a href='_index.html'>Index (I)</a> &raquo; 
          <span class='title'>IRB</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: IRB</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>

  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <a href="IRB/ContextExtender.html" title="IRB::ContextExtender (module)">ContextExtender</a>,
    <a href="IRB/ExtendCommand.html" title="IRB::ExtendCommand (module)">ExtendCommand</a>,
    <a href="IRB/ExtendCommandBundle.html" title="IRB::ExtendCommandBundle (module)">ExtendCommandBundle</a>,
    <a href="IRB/HistorySavingAbility.html" title="IRB::HistorySavingAbility (module)">HistorySavingAbility</a>,
    <a href="IRB/InputCompletor.html" title="IRB::InputCompletor (module)">InputCompletor</a>,
    <a href="IRB/IrbLoader.html" title="IRB::IrbLoader (module)">IrbLoader</a>,
    <a href="IRB/MethodExtender.html" title="IRB::MethodExtender (module)">MethodExtender</a>,
    <a href="IRB/Notifier.html" title="IRB::Notifier (module)">Notifier</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <a href="IRB/Context.html" title="IRB::Context (class)">Context</a>,
    <a href="IRB/DefaultEncodings.html" title="IRB::DefaultEncodings (class)">DefaultEncodings</a>,
    <a href="IRB/FileInputMethod.html" title="IRB::FileInputMethod (class)">FileInputMethod</a>,
    <a href="IRB/Frame.html" title="IRB::Frame (class)">Frame</a>,
    <a href="IRB/History.html" title="IRB::History (class)">History</a>,
    <a href="IRB/InputMethod.html" title="IRB::InputMethod (class)">InputMethod</a>,
    <a href="IRB/Inspector.html" title="IRB::Inspector (class)">Inspector</a>,
    <a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a>,
    <a href="IRB/JobManager.html" title="IRB::JobManager (class)">JobManager</a>,
    <a href="IRB/Locale.html" title="IRB::Locale (class)">Locale</a>,
    <a href="IRB/OutputMethod.html" title="IRB::OutputMethod (class)">OutputMethod</a>,
    <a href="IRB/SLex.html" title="IRB::SLex (class)">SLex</a>,
    <a href="IRB/StdioInputMethod.html" title="IRB::StdioInputMethod (class)">StdioInputMethod</a>,
    <a href="IRB/StdioOutputMethod.html" title="IRB::StdioOutputMethod (class)">StdioOutputMethod</a>,
    <a href="IRB/WorkSpace.html" title="IRB::WorkSpace (class)">WorkSpace</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Exceptions:</td>
    <td>
      <a href="IRB/Abort.html" title="IRB::Abort (class)">Abort</a>,
    <a href="IRB/LoadAbort.html" title="IRB::LoadAbort (class)">LoadAbort</a>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Extended by:</td>
    <td>Exception2MessageMapper
    </td>
  </tr>



  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
irb.rb<span class='defines'>,<br />irb/completion.rb,<br /> irb/context.rb,<br /> irb/extend-command.rb,<br /> irb/frame.rb,<br /> irb/help.rb,<br /> irb/init.rb,<br /> irb/input-method.rb,<br /> irb/inspector.rb,<br /> irb/locale.rb,<br /> irb/magic-file.rb,<br /> irb/notifier.rb,<br /> irb/output-method.rb,<br /> irb/slex.rb,<br /> irb/version.rb,<br /> irb/workspace.rb,<br /> irb/cmd/chws.rb,<br /> irb/cmd/fork.rb,<br /> irb/cmd/help.rb,<br /> irb/cmd/load.rb,<br /> irb/cmd/nop.rb,<br /> irb/cmd/pushws.rb,<br /> irb/cmd/subirb.rb,<br /> irb/ext/change-ws.rb,<br /> irb/ext/history.rb,<br /> irb/ext/loader.rb,<br /> irb/ext/math-mode.rb,<br /> irb/ext/multi-irb.rb,<br /> irb/ext/save-history.rb,<br /> irb/ext/tracer.rb,<br /> irb/ext/use-loader.rb,<br /> irb/ext/workspaces.rb,<br /> irb/lc/error.rb,<br /> irb/lc/ja/encoding_aliases.rb,<br /> irb/lc/ja/error.rb</span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>IRB stands for “interactive ruby” and is a tool to interactively execute
ruby expressions read from the standard input.</p>

<p>The <code>irb</code> command from your shell will start the interpreter.</p>

<h3 id="label-Usage">Usage</h3>

<p>Use of irb is easy if you know ruby.</p>

<p>When executing irb, prompts are displayed as follows. Then, enter the ruby
expression. An input is executed when it is syntactically complete.</p>

<pre class="code ruby"><code class="ruby">$ irb
irb(main):001:0&gt; 1+2
#=&gt; 3
irb(main):002:0&gt; class Foo
irb(main):003:1&gt;  def foo
irb(main):004:2&gt;    print 1
irb(main):005:2&gt;  end
irb(main):006:1&gt; end
#=&gt; nil</code></pre>

<p>The Readline extension module can be used with irb. Use of Readline is
default if it&#39;s installed.</p>

<h3 id="label-Command+line+options">Command line options</h3>

<pre class="code ruby"><code class="ruby">Usage:  irb.rb [options] [programfile] [arguments]
  -f                Suppress read of ~/.irbrc
  -m                Bc mode (load mathn, fraction or matrix are available)
  -d                Set $DEBUG to true (same as `ruby -d&#39;)
  -r load-module    Same as `ruby -r&#39;
  -I path           Specify $LOAD_PATH directory
  -U                Same as `ruby -U`
  -E enc            Same as `ruby -E`
  -w                Same as `ruby -w`
  -W[level=2]       Same as `ruby -W`
  --inspect         Use `inspect&#39; for output (default except for bc mode)
  --noinspect       Don&#39;t use inspect for output
  --readline        Use Readline extension module
  --noreadline      Don&#39;t use Readline extension module
  --prompt prompt-mode
  --prompt-mode prompt-mode
                    Switch prompt mode. Pre-defined prompt modes are
                    `default&#39;, `simple&#39;, `xmp&#39; and `inf-ruby&#39;
  --inf-ruby-mode   Use prompt appropriate for inf-ruby-mode on emacs.
                    Suppresses --readline.
  --simple-prompt   Simple prompt mode
  --noprompt        No prompt mode
  --tracer          Display trace for each execution of commands.
  --back-trace-limit n
                    Display backtrace top n and tail n. The default
                    value is 16.
  --irb_debug n     Set internal debug level to n (not for popular use)
  -v, --version     Print the version of irb</code></pre>

<h3 id="label-Configuration">Configuration</h3>

<p>IRB reads from <code>~/.irbrc</code> when it&#39;s invoked.</p>

<p>If <code>~/.irbrc</code> doesn&#39;t exist, <code>irb</code> will try to
read in the following order:</p>
<ul><li>
<p><code>.irbrc</code></p>
</li><li>
<p><code>irb.rc</code></p>
</li><li>
<p><code>_irbrc</code></p>
</li><li>
<p><code>$irbrc</code></p>
</li></ul>

<p>The following are alternatives to the command line options. To use them
type as follows in an <code>irb</code> session:</p>

<pre class="code ruby"><code class="ruby">IRB.conf[:IRB_NAME]=&quot;irb&quot;
IRB.conf[:MATH_MODE]=false
IRB.conf[:INSPECT_MODE]=nil
IRB.conf[:IRB_RC] = nil
IRB.conf[:BACK_TRACE_LIMIT]=16
IRB.conf[:USE_LOADER] = false
IRB.conf[:USE_READLINE] = nil
IRB.conf[:USE_TRACER] = false
IRB.conf[:IGNORE_SIGINT] = true
IRB.conf[:IGNORE_EOF] = false
IRB.conf[:PROMPT_MODE] = :DEFALUT
IRB.conf[:PROMPT] = {...}
IRB.conf[:DEBUG_LEVEL]=0</code></pre>

<h4 id="label-Auto+indentation">Auto indentation</h4>

<p>To enable auto-indent mode in irb, add the following to your
<code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='lbracket'>[</span><span class='symbol'>:AUTO_INDENT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
</code></pre>

<h4 id="label-Autocompletion">Autocompletion</h4>

<p>To enable autocompletion for irb, add the following to your
<code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>irb/completion</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<h4 id="label-History">History</h4>

<p>By default, irb disables history and will not store any commands you used.</p>

<p>If you want to enable history, add the following to your
<code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='lbracket'>[</span><span class='symbol'>:SAVE_HISTORY</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>1000</span>
</code></pre>

<p>This will now store the last 1000 commands in <code>~/.irb_history</code>.</p>

<p>See <a href="IRB/Context.html#save_history%3D-instance_method" title="IRB::Context#save_history= (method)">Context#save_history=</a> for more information.</p>

<h3 id="label-Customizing+the+IRB+Prompt">Customizing the IRB Prompt</h3>

<p>In order to customize the prompt, you can change the following Hash:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT</span><span class='rbracket'>]</span>
</code></pre>

<p>This example can be used in your <code>.irbrc</code></p>

<pre class="code ruby"><code class="ruby">IRB.conf[:PROMPT][:MY_PROMPT] = { # name of prompt mode
  :AUTO_INDENT =&gt; true            # enables auto-indent mode
  :PROMPT_I =&gt; nil,    # normal prompt
  :PROMPT_S =&gt; nil,    # prompt for continuated strings
  :PROMPT_C =&gt; nil,    # prompt for continuated statement
  :RETURN =&gt; &quot;    ==&gt;%s\n&quot;  # format to return value
}

IRB.conf[:PROMPT_MODE] = :MY_PROMPT</code></pre>

<p>Or, invoke irb with the above prompt mode by:</p>

<pre class="code ruby"><code class="ruby">irb --prompt my-prompt</code></pre>

<p>Constants <code>PROMPT_I</code>, <code>PROMPT_S</code> and
<code>PROMPT_C</code> specify the format. In the prompt specification, some
special strings are available:</p>

<pre class="code ruby"><code class="ruby">%N    # command name which is running
%m    # to_s of main object (self)
%M    # inspect of main object (self)
%l    # type of string(&quot;, &#39;, /, ]), `]&#39; is inner %w[...]
%NNi  # indent level. NN is degits and means as same as printf(&quot;%NNd&quot;).
      # It can be ommited
%NNn  # line number.
%%    # %</code></pre>

<p>For instance, the default prompt mode is defined as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT_MODE</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:DEFAULT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='symbol'>:PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbol'>:PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbol'>:PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbol'>:RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># used to printf
</span><span class='rbrace'>}</span>
</code></pre>

<p>irb comes with a number of available modes:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># :NULL:
</span><span class='comment'>#   :PROMPT_I:
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'># :DEFAULT:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_S: ! &#39;%N(%m):%03n:%i%l &#39;
</span><span class='comment'>#   :PROMPT_C: ! &#39;%N(%m):%03n:%i* &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     =&gt; %s
</span><span class='comment'># :CLASSIC:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_S: ! &#39;%N(%m):%03n:%i%l &#39;
</span><span class='comment'>#   :PROMPT_C: ! &#39;%N(%m):%03n:%i* &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'># :SIMPLE:
</span><span class='comment'>#   :PROMPT_I: ! &#39;&gt;&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;&gt;&gt; &#39;
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C: ! &#39;?&gt; &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     =&gt; %s
</span><span class='comment'># :INF_RUBY:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'>#   :AUTO_INDENT: true
</span><span class='comment'># :XMP:
</span><span class='comment'>#   :PROMPT_I:
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |2
</span><span class='comment'>#         ==&gt;%s
</span></code></pre>

<h3 id="label-Restrictions">Restrictions</h3>

<p>Because irb evaluates input immediately after it is syntactically complete,
the results may be slightly different than directly using ruby.</p>

<h3 id="label-IRB+Sessions">IRB Sessions</h3>

<p>IRB has a special feature, that allows you to manage many sessions at once.</p>

<p>You can create new sessions with <a href="#irb-class_method" title="IRB.irb (method)">IRB.irb</a>, and get a list of current
sessions with the <code>jobs</code> command in the prompt.</p>

<h4 id="label-Commands">Commands</h4>

<p>JobManager provides commands to handle the current sessions:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_jobs'>jobs</span>    <span class='comment'># List of current sessions
</span><span class='id identifier rubyid_fg'>fg</span>      <span class='comment'># Switches to the session of the given number
</span><span class='id identifier rubyid_kill'>kill</span>    <span class='comment'># Kills the session with the given number
</span></code></pre>

<p>The <code>exit</code> command, or <a href="#irb_exit-class_method" title="IRB.irb_exit (method)">IRB.irb_exit</a>, will quit the current
session and call any exit hooks with <a href="#irb_at_exit-class_method" title="IRB.irb_at_exit (method)">IRB.irb_at_exit</a>.</p>

<p>A few commands for loading files within the session are also available:</p>
<dl class="rdoc-list note-list"><dt><code>source</code>
<dd>
<p>Loads a given file in the current session and displays the source lines,
see IrbLoader#source_file</p>
</dd><dt><code>irb_load</code>
<dd>
<p>Loads the given file similarly to Kernel#load, see IrbLoader#irb_load</p>
</dd><dt><code>irb_require</code>
<dd>
<p>Loads the given file similarly to Kernel#require</p>
</dd></dl>

<h4 id="label-Configuration">Configuration</h4>

<p>The command line options, or <a href="#conf-class_method" title="IRB.conf (method)">IRB.conf</a>, specify the default behavior of
<a href="#irb-class_method" title="IRB.irb (method)">IRB.irb</a>.</p>

<p>On the other hand, each conf in IRB@Command<code>line</code>options is used
to individually configure <a href="#irb-class_method" title="IRB.irb (method)">IRB.irb</a>.</p>

<p>If a proc is set for <a href=":IRB_RC">IRB.conf</a>, its will be invoked
after execution of that proc with the context of the current session as its
argument. Each session can be configured using this mechanism.</p>

<h4 id="label-Session+variables">Session variables</h4>

<p>There are a few variables in every Irb session that can come in handy:</p>
<dl class="rdoc-list note-list"><dt><code>_</code>
<dd>
<p>The value command executed, as a local variable</p>
</dd><dt><code>__</code>
<dd>
<p>The history of evaluated commands</p>
</dd><dt><code>__[line_no]</code>
<dd>
<p>Returns the evaluation value at the given line number,
<code>line_no</code>. If <code>line_no</code> is a negative, the return
value <code>line_no</code> many lines before the most recent return value.</p>
</dd></dl>

<h4 id="label-Example+using+IRB+Sessions">Example using IRB Sessions</h4>

<pre class="code ruby"><code class="ruby"># invoke a new session
irb(main):001:0&gt; irb
# list open sessions
irb.1(main):001:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : stop)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : running)

# change the active session
irb.1(main):002:0&gt; fg 0
# define class Foo in top-level session
irb(main):002:0&gt; class Foo;end
# invoke a new session with the context of Foo
irb(main):003:0&gt; irb Foo
# define Foo#foo
irb.2(Foo):001:0&gt; def foo
irb.2(Foo):002:1&gt;   print 1
irb.2(Foo):003:1&gt; end

# change the active session
irb.2(Foo):004:0&gt; fg 0
# list open sessions
irb(main):004:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : running)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : stop)
  #2-&gt;irb#2 on Foo (#&lt;Thread:0x4011d54c&gt; : stop)
# check if Foo#foo is available
irb(main):005:0&gt; Foo.instance_methods #=&gt; [:foo, ...]

# change the active sesssion
irb(main):006:0&gt; fg 2
# define Foo#bar in the context of Foo
irb.2(Foo):005:0&gt; def bar
irb.2(Foo):006:1&gt;  print &quot;bar&quot;
irb.2(Foo):007:1&gt; end
irb.2(Foo):010:0&gt;  Foo.instance_methods #=&gt; [:bar, :foo, ...]

# change the active session
irb.2(Foo):011:0&gt; fg 0
irb(main):007:0&gt; f = Foo.new  #=&gt; #&lt;Foo:0x4010af3c&gt;
# invoke a new session with the context of f (instance of Foo)
irb(main):008:0&gt; irb f
# list open sessions
irb.3(&lt;Foo:0x4010af3c&gt;):001:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : stop)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : stop)
  #2-&gt;irb#2 on Foo (#&lt;Thread:0x4011d54c&gt; : stop)
  #3-&gt;irb#3 on #&lt;Foo:0x4010af3c&gt; (#&lt;Thread:0x4010a1e0&gt; : running)
# evaluate f.foo
irb.3(&lt;Foo:0x4010af3c&gt;):002:0&gt; foo #=&gt; 1 =&gt; nil
# evaluate f.bar
irb.3(&lt;Foo:0x4010af3c&gt;):003:0&gt; bar #=&gt; bar =&gt; nil
# kill jobs 1, 2, and 3
irb.3(&lt;Foo:0x4010af3c&gt;):004:0&gt; kill 1, 2, 3
# list open sesssions, should only include main session
irb(main):009:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : running)
# quit irb
irb(main):010:0&gt; exit</code></pre>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='FEATURE_IOPT_CHANGE_VERSION-constant'>
      FEATURE_IOPT_CHANGE_VERSION =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.9.0</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
    <dt id='IRBRC_EXT-constant'>
      IRBRC_EXT =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rc</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
    <dt id='STDIN_FILE_NAME-constant'>
      STDIN_FILE_NAME =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(line)</span><span class='tstring_end'>&quot;</span></span></pre>
    </dd>
  </dl>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#conf-class_method" title=".conf (class method)">.<strong>conf</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Displays current configuration.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#CurrentContext-class_method" title=".CurrentContext (class method)"><strong>CurrentContext</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The current <a href="IRB/Context.html" title="IRB::Context (class)">Context</a> of the session, see <a href="#conf-class_method" title="IRB.conf (method)">IRB.conf</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#delete_caller-class_method" title=".delete_caller (class method)">.<strong>delete_caller</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#init_config-class_method" title=".init_config (class method)">.<strong>init_config</strong>(ap_path)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#init_error-class_method" title=".init_error (class method)">.<strong>init_error</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#initialize_tracer-class_method" title=".initialize_tracer (class method)">.<strong>initialize_tracer</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>initialize tracing function</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-class_method" title=".inspect (class method)">.<strong>inspect</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#Inspector-class_method" title=".Inspector (class method)"><strong>Inspector</strong>(inspect, init = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Convenience method to create a new Inspector, using the given
<code>inspect</code> proc, and optional <code>init</code> proc and passes
them to <a href="IRB/Inspector.html#new-class_method" title="IRB::Inspector.new (method)">Inspector.new</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#irb-class_method" title=".irb (class method)">.<strong>irb</strong>(file = nil, *main)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates a new IRB session, see <a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">Irb.new</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#irb_abort-class_method" title=".irb_abort (class method)">.<strong>irb_abort</strong>(irb, exception = Abort)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Aborts then interrupts irb.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#irb_at_exit-class_method" title=".irb_at_exit (class method)">.<strong>irb_at_exit</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Calls each event hook of <a href=":AT_EXIT">IRB.conf</a> when the current
session quits.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#irb_exit-class_method" title=".irb_exit (class method)">.<strong>irb_exit</strong>(irb, ret)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Quits irb</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#JobManager-class_method" title=".JobManager (class method)"><strong>JobManager</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The current JobManager in the session</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#load_modules-class_method" title=".load_modules (class method)">.<strong>load_modules</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>loading modules</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse_opts-class_method" title=".parse_opts (class method)">.<strong>parse_opts</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>option analyzing</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#print_usage-class_method" title=".print_usage (class method)">.<strong>print_usage</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Outputs the irb help message, see IRB@Command<code>line</code>options.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rc_file-class_method" title=".rc_file (class method)">.<strong>rc_file</strong>(ext = IRBRC_EXT)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#rc_file_generators-class_method" title=".rc_file_generators (class method)">.<strong>rc_file_generators</strong> {|proc{|rc| home+&quot;/.irb#{rc}&quot;}| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>enumerate possible rc-file base name generators</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#run_config-class_method" title=".run_config (class method)">.<strong>run_config</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>running config</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#set_encoding-class_method" title=".set_encoding (class method)">.<strong>set_encoding</strong>(extern, intern = nil)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#setup-class_method" title=".setup (class method)">.<strong>setup</strong>(ap_path)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>initialize config</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#start-class_method" title=".start (class method)">.<strong>start</strong>(ap_path = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Initializes IRB and creates a new <a href="#irb-class_method" title="IRB.irb (method)">IRB.irb</a> object at the
<code>TOPLEVEL_BINDING</code></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#version-class_method" title=".version (class method)">.<strong>version</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the current version of IRB, including release version and last
updated date.</p>
</div>
      </span>
    </li>
  </ul>



  <h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="conf-class_method">
  <h3 class='signature first'>
  .<strong>conf</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Displays current configuration.</p>

<p>Modifing the configuration is achieved by sending a message to <a href="#conf-class_method" title="IRB.conf (method)">conf</a>.</p>

<p>See IRB@Configuration for more information.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


353
354
355</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb.rb', line 353</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span>
  <span class='ivar'>@CONF</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="CurrentContext-class_method">
  <h3 class='signature'>
  <strong>CurrentContext</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The current <a href="IRB/Context.html" title="IRB::Context (class)">Context</a> of the session, see <a href="#conf-class_method" title="IRB.conf (method)">conf</a></p>

<pre class="code ruby"><code class="ruby">irb
irb(main):001:0&gt; IRB.CurrentContext.irb_name = &quot;foo&quot;
foo(main):002:0&gt; IRB.conf[:MAIN_CONTEXT].irb_name #=&gt; &quot;foo&quot;</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


372
373
374</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb.rb', line 372</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='const'>CurrentContext</span>
  <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='lbracket'>[</span><span class='symbol'>:MAIN_CONTEXT</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="delete_caller-class_method">
  <h3 class='signature'>
  .<strong>delete_caller</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


111
112</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/workspace.rb', line 111</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_delete_caller'>delete_caller</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="init_config-class_method">
  <h3 class='signature'>
  .<strong>init_config</strong>(ap_path)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 28</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_init_config'>init_config</span><span class='lparen'>(</span><span class='id identifier rubyid_ap_path'>ap_path</span><span class='rparen'>)</span>
  <span class='comment'># class instance variables
</span>  <span class='ivar'>@TRACER_INITIALIZED</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='comment'># default configurations
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_ap_path'>ap_path</span> <span class='kw'>and</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:AP_NAME</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_ap_path'>ap_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:AP_NAME</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IRB_NAME</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IRB_LIB_PATH</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:RC</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:LOAD_MODULES</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IRB_RC</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:MATH_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:USE_READLINE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>ReadlineInputMethod</span><span class='rparen'>)</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:INSPECT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:USE_TRACER</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:USE_LOADER</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IGNORE_SIGINT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IGNORE_EOF</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:ECHO</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:VERBOSE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:EVAL_HISTORY</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:SAVE_HISTORY</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:BACK_TRACE_LIMIT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>16</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:NULL</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
	<span class='symbol'>:PROMPT_I</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_N</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:DEFAULT</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
	<span class='symbol'>:PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_N</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; %s\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:CLASSIC</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
	<span class='symbol'>:PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_N</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:SIMPLE</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
	<span class='symbol'>:PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_N</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; %s\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:INF_RUBY</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
	<span class='symbol'>:PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
<span class='comment'>#	:PROMPT_N =&gt; &quot;%N(%m):%03n:%i&gt; &quot;,
</span>	<span class='symbol'>:PROMPT_N</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
	<span class='symbol'>:AUTO_INDENT</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:XMP</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
	<span class='symbol'>:PROMPT_I</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_N</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
	<span class='symbol'>:RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    ==&gt;%s\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'>STDIN</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span> <span class='op'>?</span> <span class='symbol'>:DEFAULT</span> <span class='op'>:</span> <span class='symbol'>:NULL</span><span class='rparen'>)</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:AUTO_INDENT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:CONTEXT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>3</span> <span class='comment'># use binding in function on TOPLEVEL_BINDING
</span>  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:SINGLE_IRB</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>

<span class='comment'>#    @CONF[:LC_MESSAGES] = &quot;en&quot;
</span>  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:LC_MESSAGES</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Locale</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:AT_EXIT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:DEBUG_LEVEL</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="init_error-class_method">
  <h3 class='signature'>
  .<strong>init_error</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


121
122
123</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 121</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_init_error'>init_error</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:LC_MESSAGES</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/error.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="initialize_tracer-class_method">
  <h3 class='signature'>
  .<strong>initialize_tracer</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>initialize tracing function</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


16
17
18
19
20
21
22
23</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/ext/tracer.rb', line 16</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_initialize_tracer'>initialize_tracer</span>
  <span class='const'>Tracer</span><span class='period'>.</span><span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'>Tracer</span><span class='period'>.</span><span class='id identifier rubyid_add_filter'>add_filter</span> <span class='lbrace'>{</span>
    <span class='op'>|</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_binding'>binding</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_rests'>rests</span><span class='op'>|</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_quote'>quote</span><span class='lparen'>(</span><span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IRB_LIB_PATH</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_file'>file</span> <span class='kw'>and</span>
	<span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb.rb</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inspect-class_method">
  <h3 class='signature'>
  .<strong>inspect</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb.rb', line 683</span>

<span class='kw'>def</span> <span class='ivar'>@CONF</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:VERSION</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>in</span> <span class='id identifier rubyid_sort'>sort</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='id identifier rubyid_a2'>a2</span><span class='op'>|</span> <span class='id identifier rubyid_a1'>a1</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id2name'>id2name</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a2'>a2</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id2name'>id2name</span><span class='rbrace'>}</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_k'>k</span>
    <span class='kw'>when</span> <span class='symbol'>:MAIN_CONTEXT</span><span class='comma'>,</span> <span class='symbol'>:__TMP__EHV__</span>
      <span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]=...myself...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_id2name'>id2name</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='symbol'>:PROMPT</span>
      <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span>
        <span class='op'>|</span><span class='id identifier rubyid_kk'>kk</span><span class='comma'>,</span> <span class='id identifier rubyid_vv'>vv</span><span class='op'>|</span>
        <span class='id identifier rubyid_ss'>ss</span> <span class='op'>=</span> <span class='id identifier rubyid_vv'>vv</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_kkk'>kkk</span><span class='comma'>,</span> <span class='id identifier rubyid_vvv'>vvv</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_kkk'>kkk</span><span class='period'>.</span><span class='id identifier rubyid_id2name'>id2name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_vvv'>vvv</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:%s=&gt;{%s}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_kk'>kk</span><span class='period'>.</span><span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_ss'>ss</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='rbrace'>}</span>
      <span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]={%s}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]=%s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="Inspector-class_method">
  <h3 class='signature'>
  <strong>Inspector</strong>(inspect, init = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convenience method to create a new Inspector, using the given
<code>inspect</code> proc, and optional <code>init</code> proc and passes
them to <a href="IRB/Inspector.html#new-class_method" title="IRB::Inspector.new (method)">IRB::Inspector.new</a></p>

<pre class="code ruby"><code class="ruby">irb(main):001:0&gt; ins = IRB::Inspector(proc{ |v| &quot;omg! #{v}&quot; })
irb(main):001:0&gt; IRB.CurrentContext.inspect_mode = ins # =&gt; omg! #&lt;IRB::Inspector:0x007f46f7ba7d28&gt;
irb(main):001:0&gt; &quot;what?&quot; #=&gt; omg! what?</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


23
24
25</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/inspector.rb', line 23</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='op'>::</span><span class='const'>Inspector</span><span class='lparen'>(</span><span class='id identifier rubyid_inspect'>inspect</span><span class='comma'>,</span> <span class='id identifier rubyid_init'>init</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'>Inspector</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_inspect'>inspect</span><span class='comma'>,</span> <span class='id identifier rubyid_init'>init</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="irb-class_method">
  <h3 class='signature'>
  .<strong>irb</strong>(file = nil, *main)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates a new IRB session, see <a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">IRB::Irb.new</a>.</p>

<p>The optional <code>file</code> argument is given to <a href="IRB/Context.html#new-class_method" title="IRB::Context.new (method)">IRB::Context.new</a>, along
with the workspace created with the remaining arguments, see
<a href="IRB/WorkSpace.html#new-class_method" title="IRB::WorkSpace.new (method)">IRB::WorkSpace.new</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/ext/multi-irb.rb', line 191</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_irb'>irb</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_main'>main</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_workspace'>workspace</span> <span class='op'>=</span> <span class='const'>WorkSpace</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_main'>main</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parent_thread'>parent_thread</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
	<span class='id identifier rubyid_irb'>irb</span> <span class='op'>=</span> <span class='const'>Irb</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_workspace'>workspace</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span>
	<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Subirb can&#39;t start with context(self): </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_workspace'>workspace</span><span class='period'>.</span><span class='id identifier rubyid_main'>main</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>return to main irb\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_pass'>pass</span>
	<span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_main'>main</span><span class='period'>.</span><span class='id identifier rubyid_wakeup'>wakeup</span>
	<span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_exit'>exit</span>
    <span class='kw'>end</span>
    <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IRB_RC</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_irb'>irb</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IRB_RC</span><span class='rbracket'>]</span>
    <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='id identifier rubyid_irb'>irb</span><span class='rparen'>)</span>
    <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='id identifier rubyid_irb'>irb</span>
    <span class='kw'>begin</span>
	<span class='id identifier rubyid_system_exit'>system_exit</span> <span class='op'>=</span> <span class='kw'>false</span>
	<span class='id identifier rubyid_catch'>catch</span><span class='lparen'>(</span><span class='symbol'>:IRB_EXIT</span><span class='rparen'>)</span> <span class='kw'>do</span>
 <span class='id identifier rubyid_irb'>irb</span><span class='period'>.</span><span class='id identifier rubyid_eval_input'>eval_input</span>
	<span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>SystemExit</span>
	<span class='id identifier rubyid_system_exit'>system_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
	<span class='id identifier rubyid_raise'>raise</span>
	<span class='comment'>#fail
</span>    <span class='kw'>ensure</span>
	<span class='kw'>unless</span> <span class='id identifier rubyid_system_exit'>system_exit</span>
 <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_irb'>irb</span><span class='rparen'>)</span>
 <span class='kw'>if</span> <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>==</span> <span class='id identifier rubyid_irb'>irb</span>
   <span class='kw'>if</span> <span class='id identifier rubyid_parent_thread'>parent_thread</span><span class='period'>.</span><span class='id identifier rubyid_alive?'>alive?</span>
     <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_irb'>irb</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_thread'>parent_thread</span><span class='rparen'>)</span>
     <span class='id identifier rubyid_parent_thread'>parent_thread</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span>
   <span class='kw'>else</span>
     <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_main_irb'>main_irb</span>
     <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_main_thread'>main_thread</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span>
   <span class='kw'>end</span>
 <span class='kw'>end</span>
	<span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
  <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span><span class='period'>.</span><span class='id identifier rubyid_irb'>irb</span><span class='lparen'>(</span><span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="irb_abort-class_method">
  <h3 class='signature'>
  .<strong>irb_abort</strong>(irb, exception = Abort)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Aborts then interrupts irb.</p>

<p>Will raise an Abort exception, or the given <code>exception</code>.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


418
419
420
421
422
423
424</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb.rb', line 418</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_irb_abort'>irb_abort</span><span class='lparen'>(</span><span class='id identifier rubyid_irb'>irb</span><span class='comma'>,</span> <span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='const'>Abort</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='const'>Thread</span>
    <span class='id identifier rubyid_irb'>irb</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_thread'>thread</span><span class='period'>.</span><span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abort then interrupt!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abort then interrupt!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="irb_at_exit-class_method">
  <h3 class='signature'>
  .<strong>irb_at_exit</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Calls each event hook of <a href=":AT_EXIT">IRB.conf</a> when the current
session quits.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


406
407
408</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb.rb', line 406</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_irb_at_exit'>irb_at_exit</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:AT_EXIT</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_hook'>hook</span><span class='op'>|</span> <span class='id identifier rubyid_hook'>hook</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="irb_exit-class_method">
  <h3 class='signature'>
  .<strong>irb_exit</strong>(irb, ret)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Quits irb</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


411
412
413</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb.rb', line 411</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_irb_exit'>irb_exit</span><span class='lparen'>(</span><span class='id identifier rubyid_irb'>irb</span><span class='comma'>,</span> <span class='id identifier rubyid_ret'>ret</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbol'>:IRB_EXIT</span><span class='comma'>,</span> <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="JobManager-class_method">
  <h3 class='signature'>
  <strong>JobManager</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The current JobManager in the session</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


178
179
180</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/ext/multi-irb.rb', line 178</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='const'>JobManager</span>
  <span class='ivar'>@JobManager</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="load_modules-class_method">
  <h3 class='signature'>
  .<strong>load_modules</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>loading modules</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


283
284
285
286
287
288
289
290
291</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 283</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_load_modules'>load_modules</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_m'>m</span> <span class='kw'>in</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:LOAD_MODULES</span><span class='rbracket'>]</span>
    <span class='kw'>begin</span>
	<span class='id identifier rubyid_require'>require</span> <span class='id identifier rubyid_m'>m</span>
    <span class='kw'>rescue</span> <span class='const'>LoadError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
	<span class='id identifier rubyid_warn'>warn</span> <span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_err'>err</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse_opts-class_method">
  <h3 class='signature'>
  .<strong>parse_opts</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>option analyzing</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 128</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_parse_opts'>parse_opts</span>
  <span class='id identifier rubyid_load_path'>load_path</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-f</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:RC</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-m</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:MATH_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-d</span><span class='tstring_end'>&quot;</span></span>
	<span class='gvar'>$DEBUG</span> <span class='op'>=</span> <span class='kw'>true</span>
	<span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-w</span><span class='tstring_end'>&quot;</span></span>
	<span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-W(.+)?</span><span class='regexp_end'>/</span></span>
	<span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
	<span class='kw'>case</span> <span class='id identifier rubyid_opt'>opt</span>
	<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
 <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>nil</span>
	<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
 <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>false</span>
	<span class='kw'>else</span>
 <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
	<span class='kw'>end</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-r(.+)?</span><span class='regexp_end'>/</span></span>
	<span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:LOAD_MODULES</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_opt'>opt</span> <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-I(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
	<span class='id identifier rubyid_load_path'>load_path</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-U</span><span class='tstring_end'>&#39;</span></span>
	<span class='id identifier rubyid_set_encoding'>set_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-E(.+)?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--encoding(?:=(.+))?</span><span class='regexp_end'>/</span></span>
	<span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
	<span class='id identifier rubyid_set_encoding'>set_encoding</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inspect</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
 <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:INSPECT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
	<span class='kw'>else</span>
 <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:INSPECT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
	<span class='kw'>end</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noinspect</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:INSPECT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--readline</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:USE_READLINE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noreadline</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:USE_READLINE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--echo</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:ECHO</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noecho</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:ECHO</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:VERBOSE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noverbose</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:VERBOSE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--prompt-mode(?:=(.+))?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--prompt(?:=(.+))?</span><span class='regexp_end'>/</span></span>
	<span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
	<span class='id identifier rubyid_prompt_mode'>prompt_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_intern'>intern</span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prompt_mode'>prompt_mode</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noprompt</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='symbol'>:NULL</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inf-ruby-mode</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='symbol'>:INF_RUBY</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--sample-book-mode</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--simple-prompt</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='symbol'>:SIMPLE</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tracer</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:USE_TRACER</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--back-trace-limit(?:=(.+))?</span><span class='regexp_end'>/</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:BACK_TRACE_LIMIT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='backref'>$1</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--context-mode(?:=(.+))?</span><span class='regexp_end'>/</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:CONTEXT_MODE</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='backref'>$1</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--single-irb</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:SINGLE_IRB</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--irb_debug(?:=(.+))?</span><span class='regexp_end'>/</span></span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:DEBUG_LEVEL</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='backref'>$1</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-v</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_print'>print</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_exit'>exit</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/help</span><span class='tstring_end'>&quot;</span></span>
	<span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_print_usage'>print_usage</span>
	<span class='id identifier rubyid_exit'>exit</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
 <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:SCRIPT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
 <span class='gvar'>$0</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
	<span class='kw'>end</span>
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-</span><span class='regexp_end'>/</span></span>
	<span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_fail'>fail</span> <span class='const'>UnrecognizedSwitch</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>else</span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:SCRIPT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
	<span class='gvar'>$0</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
	<span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='const'>RUBY_VERSION</span> <span class='op'>&gt;=</span> <span class='const'>FEATURE_IOPT_CHANGE_VERSION</span>
    <span class='id identifier rubyid_load_path'>load_path</span><span class='period'>.</span><span class='id identifier rubyid_collect!'>collect!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
	<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\.\/</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>?</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>:</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_load_path'>load_path</span><span class='rparen'>)</span>

<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="print_usage-class_method">
  <h3 class='signature'>
  .<strong>print_usage</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Outputs the irb help message, see IRB@Command<code>line</code>options.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/help.rb', line 16</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_print_usage'>print_usage</span>
  <span class='id identifier rubyid_lc'>lc</span> <span class='op'>=</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_conf'>conf</span><span class='lbracket'>[</span><span class='symbol'>:LC_MESSAGES</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_lc'>lc</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/help-message</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'>IRB</span><span class='op'>::</span><span class='const'>MagicFile</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_each_line'>each_line</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span>
	<span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l'>l</span>
 <span class='id identifier rubyid_lc'>lc</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_l'>l</span> <span class='kw'>unless</span> <span class='id identifier rubyid_space_line'>space_line</span>
 <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>true</span>
 <span class='kw'>next</span>
	<span class='kw'>end</span>
	<span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>false</span>

	<span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>#.*$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
 <span class='kw'>next</span> <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l'>l</span>
	<span class='id identifier rubyid_lc'>lc</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_l'>l</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rc_file-class_method">
  <h3 class='signature'>
  .<strong>rc_file</strong>(ext = IRBRC_EXT)  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 249</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_rc_file'>rc_file</span><span class='lparen'>(</span><span class='id identifier rubyid_ext'>ext</span> <span class='op'>=</span> <span class='const'>IRBRC_EXT</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:RC_NAME_GENERATOR</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_rc_file_generators'>rc_file_generators</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rcgen'>rcgen</span><span class='op'>|</span>
	<span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:RC_NAME_GENERATOR</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_rcgen'>rcgen</span>
	<span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_rcgen'>rcgen</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='const'>IRBRC_EXT</span><span class='rparen'>)</span><span class='rparen'>)</span>
 <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:RC_NAME_GENERATOR</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_rcgen'>rcgen</span>
 <span class='kw'>break</span>
	<span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_rc_file'>rc_file</span> <span class='op'>=</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:RC_NAME_GENERATOR</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_ext'>ext</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rc_file'>rc_file</span>
  <span class='kw'>else</span>
    <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_fail'>fail</span> <span class='const'>IllegalRCNameGenerator</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="rc_file_generators-class_method">
  <h3 class='signature'>
  .<strong>rc_file_generators</strong> {|proc{|rc| home+&quot;/.irb#{rc}&quot;}| ... } 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>enumerate possible rc-file base name generators</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<tt>proc{|rc| home+"/.<a href="#irb-class_method" title="IRB.irb (method)">irb</a>#{rc}"}</tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


268
269
270
271
272
273
274
275
276
277
278
279
280</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 268</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_rc_file_generators'>rc_file_generators</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_irbrc'>irbrc</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>IRBRC</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_rc'>rc</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rc</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_irbrc'>irbrc</span> <span class='op'>:</span> <span class='id identifier rubyid_irbrc'>irbrc</span><span class='op'>+</span><span class='id identifier rubyid_rc'>rc</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_home'>home</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_home'>home</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/.irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_home'>home</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_home'>home</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/.irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_home'>home</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A_?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_home'>home</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/_irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_home'>home</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/$irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="run_config-class_method">
  <h3 class='signature'>
  .<strong>run_config</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>running config</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


233
234
235
236
237
238
239
240
241
242
243
244
245
246</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 233</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_run_config'>run_config</span>
  <span class='kw'>if</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:RC</span><span class='rbracket'>]</span>
    <span class='kw'>begin</span>
	<span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_rc_file'>rc_file</span>
    <span class='kw'>rescue</span> <span class='const'>LoadError</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span>
    <span class='kw'>rescue</span> <span class='comment'># StandardError, ScriptError
</span>	<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>load error: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc_file'>rc_file</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_print'>print</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='gvar'>$!</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>for</span> <span class='id identifier rubyid_err'>err</span> <span class='kw'>in</span> <span class='gvar'>$@</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='gvar'>$@</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>2</span><span class='rbracket'>]</span>
 <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_err'>err</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="set_encoding-class_method">
  <h3 class='signature'>
  .<strong>set_encoding</strong>(extern, intern = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


297
298
299
300
301
302
303
304
305
306
307
308</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 297</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_encoding'>set_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_extern'>extern</span><span class='comma'>,</span> <span class='id identifier rubyid_intern'>intern</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_verbose'>verbose</span><span class='comma'>,</span> <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='gvar'>$VERBOSE</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='const'>Encoding</span><span class='period'>.</span><span class='id identifier rubyid_default_external'>default_external</span> <span class='op'>=</span> <span class='id identifier rubyid_extern'>extern</span> <span class='kw'>unless</span> <span class='id identifier rubyid_extern'>extern</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_extern'>extern</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='const'>Encoding</span><span class='period'>.</span><span class='id identifier rubyid_default_internal'>default_internal</span> <span class='op'>=</span> <span class='id identifier rubyid_intern'>intern</span> <span class='kw'>unless</span> <span class='id identifier rubyid_intern'>intern</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_intern'>intern</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:ENCODINGS</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>IRB</span><span class='op'>::</span><span class='const'>DefaultEncodings</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_extern'>extern</span><span class='comma'>,</span> <span class='id identifier rubyid_intern'>intern</span><span class='rparen'>)</span>
  <span class='lbracket'>[</span><span class='gvar'>$stdin</span><span class='comma'>,</span> <span class='gvar'>$stdout</span><span class='comma'>,</span> <span class='gvar'>$stderr</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
	<span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_set_encoding'>set_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_extern'>extern</span><span class='comma'>,</span> <span class='id identifier rubyid_intern'>intern</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:LC_MESSAGES</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_extern'>extern</span><span class='rparen'>)</span>
<span class='kw'>ensure</span>
  <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='id identifier rubyid_verbose'>verbose</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="setup-class_method">
  <h3 class='signature'>
  .<strong>setup</strong>(ap_path)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>initialize config</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


15
16
17
18
19
20
21
22
23
24
25</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb/init.rb', line 15</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_setup'>setup</span><span class='lparen'>(</span><span class='id identifier rubyid_ap_path'>ap_path</span><span class='rparen'>)</span>
  <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_init_config'>init_config</span><span class='lparen'>(</span><span class='id identifier rubyid_ap_path'>ap_path</span><span class='rparen'>)</span>
  <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_init_error'>init_error</span>
  <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_parse_opts'>parse_opts</span>
  <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_run_config'>run_config</span>
  <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_load_modules'>load_modules</span>

  <span class='kw'>unless</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT_MODE</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
    <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_fail'>fail</span><span class='lparen'>(</span><span class='const'>UndefinedPromptMode</span><span class='comma'>,</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:PROMPT_MODE</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="start-class_method">
  <h3 class='signature'>
  .<strong>start</strong>(ap_path = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Initializes IRB and creates a new <a href="#irb-class_method" title="IRB.irb (method)">irb</a> object at the
<code>TOPLEVEL_BINDING</code></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb.rb', line 377</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_ap_path'>ap_path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='gvar'>$0</span> <span class='op'>=</span> <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_ap_path'>ap_path</span>

  <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_setup'>setup</span><span class='lparen'>(</span><span class='id identifier rubyid_ap_path'>ap_path</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:SCRIPT</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_irb'>irb</span> <span class='op'>=</span> <span class='const'>Irb</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:SCRIPT</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_irb'>irb</span> <span class='op'>=</span> <span class='const'>Irb</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>

  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IRB_RC</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_irb'>irb</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:IRB_RC</span><span class='rbracket'>]</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:MAIN_CONTEXT</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_irb'>irb</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span>

  <span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SIGINT</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_irb'>irb</span><span class='period'>.</span><span class='id identifier rubyid_signal_handle'>signal_handle</span>
  <span class='kw'>end</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_catch'>catch</span><span class='lparen'>(</span><span class='symbol'>:IRB_EXIT</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_irb'>irb</span><span class='period'>.</span><span class='id identifier rubyid_eval_input'>eval_input</span>
    <span class='kw'>end</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_irb_at_exit'>irb_at_exit</span>
  <span class='kw'>end</span>
<span class='comment'>#    print &quot;\n&quot;
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="version-class_method">
  <h3 class='signature'>
  .<strong>version</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the current version of IRB, including release version and last
updated date.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


359
360
361
362
363
364
365</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'irb.rb', line 359</span>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:VERSION</span><span class='rbracket'>]</span> <span class='kw'>then</span> <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>end</span>

  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/version</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_rv'>rv</span> <span class='op'>=</span> <span class='ivar'>@RELEASE_VERSION</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.0</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@CONF</span><span class='lbracket'>[</span><span class='symbol'>:VERSION</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb %s(%s)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rv'>rv</span><span class='comma'>,</span> <span class='ivar'>@LAST_UPDATE_DATE</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>