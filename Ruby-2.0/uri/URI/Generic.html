<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: URI::Generic &mdash; uri Ruby-2.0.0 p247</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "URI::Generic",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.0.0</a> &raquo; 
          <a href='../index.html'>uri</a> &raquo; 
          <a href='../_index.html'>Index (G)</a> &raquo; 
          <a href="../URI.html" title="URI (module)">URI</a> &raquo; 
          <span class='title'>Generic</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: URI::Generic</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>URI::Generic</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Includes:</td>
    <td><a href="../URI.html" title="URI (module)">URI</a>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Direct Subclasses:</td>
    <td>
      <a href="FTP.html" title="URI::FTP (class)">FTP</a>, <a href="HTTP.html" title="URI::HTTP (class)">HTTP</a>, <a href="LDAP.html" title="URI::LDAP (class)">LDAP</a>, <a href="MailTo.html" title="URI::MailTo (class)">MailTo</a>
    </td>
  </tr>


  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
uri/generic.rb</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Base class for all URI classes. Implements generic URI syntax as per RFC
2396.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='to_s-classvariable'>
      @@to_s =
    </dt>
    <dd>
            <pre class='code'><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_instance_method'>instance_method</span><span class='lparen'>(</span><span class='symbol'>:to_s</span><span class='rparen'>)</span></pre>
    </dd>
    <dt id='COMPONENT-constant'>
      COMPONENT =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>An Array of the available components for <a href="" title="URI::Generic (class)">URI::Generic</a></p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbracket'>[</span>
  <span class='symbol'>:scheme</span><span class='comma'>,</span>
  <span class='symbol'>:userinfo</span><span class='comma'>,</span> <span class='symbol'>:host</span><span class='comma'>,</span> <span class='symbol'>:port</span><span class='comma'>,</span> <span class='symbol'>:registry</span><span class='comma'>,</span>
  <span class='symbol'>:path</span><span class='comma'>,</span> <span class='symbol'>:opaque</span><span class='comma'>,</span>
  <span class='symbol'>:query</span><span class='comma'>,</span>
  <span class='symbol'>:fragment</span>
<span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='DEFAULT_PORT-constant'>
      DEFAULT_PORT =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>A Default port of nil for <a href="" title="URI::Generic (class)">URI::Generic</a></p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='kw'>nil</span></pre>
    </dd>
    <dt id='USE_REGISTRY-constant'>
      USE_REGISTRY =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Default to not use the registry for a <a href="" title="URI::Generic (class)">URI::Generic</a></p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='kw'>false</span></pre>
    </dd>
  </dl>



  
  
  <h3 class="inherited">Constants included
     from <a href="../URI.html" title="URI (module)">URI</a></h3>
  <p class="inherited"><a href="../URI.html#DEFAULT_PARSER-constant" title="URI::DEFAULT_PARSER (constant)">DEFAULT_PARSER</a>, <a href="../URI.html#HTML5ASCIIINCOMPAT-constant" title="URI::HTML5ASCIIINCOMPAT (constant)">HTML5ASCIIINCOMPAT</a>, <a href="../URI.html#TBLDECWWWCOMP_-constant" title="URI::TBLDECWWWCOMP_ (constant)">TBLDECWWWCOMP_</a>, <a href="../URI.html#TBLENCWWWCOMP_-constant" title="URI::TBLENCWWWCOMP_ (constant)">TBLENCWWWCOMP_</a>, <a href="../URI.html#VERSION-constant" title="URI::VERSION (constant)">VERSION</a>, <a href="../URI.html#VERSION_CODE-constant" title="URI::VERSION_CODE (constant)">VERSION_CODE</a>, <a href="../URI.html#WFKV_-constant" title="URI::WFKV_ (constant)">WFKV_</a></p>

<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#fragment-instance_method" title="#fragment (instance method)">#<strong>fragment</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the fragment component of the URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#fragment%3D-instance_method" title="#fragment= (instance method)">#<strong>fragment=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#host-instance_method" title="#host (instance method)">#<strong>host</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the host component of the URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#host%3D-instance_method" title="#host= (instance method)">#<strong>host=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#opaque-instance_method" title="#opaque (instance method)">#<strong>opaque</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the opaque part of the URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#opaque%3D-instance_method" title="#opaque= (instance method)">#<strong>opaque=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the path component of the URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path%3D-instance_method" title="#path= (instance method)">#<strong>path=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the port component of the URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#port%3D-instance_method" title="#port= (instance method)">#<strong>port=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#query-instance_method" title="#query (instance method)">#<strong>query</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the query component of the URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#query%3D-instance_method" title="#query= (instance method)">#<strong>query=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#registry-instance_method" title="#registry (instance method)">#<strong>registry</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the registry component of the URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#registry%3D-instance_method" title="#registry= (instance method)">#<strong>registry=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#scheme-instance_method" title="#scheme (instance method)">#<strong>scheme</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the scheme component of the URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#scheme%3D-instance_method" title="#scheme= (instance method)">#<strong>scheme=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#build-class_method" title=".build (class method)">.<strong>build</strong>(args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Synopsis">Synopsis</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#build2-class_method" title=".build2 (class method)">.<strong>build2</strong>(args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Synopsis">Synopsis</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#component-class_method" title=".component (class method)">.<strong>component</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Components of the URI in the order.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_port-class_method" title=".default_port (class method)">.<strong>default_port</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns default port</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(scheme, userinfo, host, port, registry, path, opaque, query, fragment, parser = DEFAULT_PARSER, arg_check = false)  &#x21d2; Generic </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#use_registry-class_method" title=".use_registry (class method)">.<strong>use_registry</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns whether a registry of naming authorities are being used.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>(oth)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#merge-instance_method" title="URI::Generic#merge (method)">#merge</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#--instance_method" title="#- (instance method)">#<strong>-</strong>(oth)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#route_from-instance_method" title="URI::Generic#route_from (method)">#route_from</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#%3D%3D-instance_method" title="#== (instance method)">#<strong>==</strong>(oth)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Compares to URI&#39;s</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#absolute-instance_method" title="#absolute (instance method)">#<strong>absolute</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#absolute%3F-instance_method" title="URI::Generic#absolute? (method)">#absolute?</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#absolute%3F-instance_method" title="#absolute? (instance method)">#<strong>absolute?</strong>  &#x21d2; Boolean </a>
        (also: #absolute)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Checks if URI is an absolute one</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_fragment-instance_method" title="#check_fragment (instance method)">#<strong>check_fragment</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the fragment <code>v</code> component against the <a href="Parser.html" title="URI::Parser (class)">Parser</a>
Regexp for :FRAGMENT</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_host-instance_method" title="#check_host (instance method)">#<strong>check_host</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the host <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :HOST</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_opaque-instance_method" title="#check_opaque (instance method)">#<strong>check_opaque</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the opaque <code>v</code> component for RFC2396 compliance and
against the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :OPAQUE</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_password-instance_method" title="#check_password (instance method)">#<strong>check_password</strong>(v, user = @user)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the password <code>v</code> component for RFC2396 compliance and
against the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :USERINFO</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_path-instance_method" title="#check_path (instance method)">#<strong>check_path</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the path <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :ABS_PATH and :REL_PATH</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_port-instance_method" title="#check_port (instance method)">#<strong>check_port</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the port <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :PORT</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_query-instance_method" title="#check_query (instance method)">#<strong>check_query</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the query <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :QUERY</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_registry-instance_method" title="#check_registry (instance method)">#<strong>check_registry</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the registry <code>v</code> component for RFC2396 compliance and
against the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :REGISTRY</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_scheme-instance_method" title="#check_scheme (instance method)">#<strong>check_scheme</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the scheme <code>v</code> component against the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp
for :SCHEME</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_user-instance_method" title="#check_user (instance method)">#<strong>check_user</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the user <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :USERINFO</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_userinfo-instance_method" title="#check_userinfo (instance method)">#<strong>check_userinfo</strong>(user, password = nil)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>check the <code>user</code> and <code>password</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#coerce-instance_method" title="#coerce (instance method)">#<strong>coerce</strong>(oth)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#component-instance_method" title="#component (instance method)">#<strong>component</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Components of the URI in the order.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_port-instance_method" title="#default_port (instance method)">#<strong>default_port</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns default port</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(oth)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#escape_userpass-instance_method" title="#escape_userpass (instance method)">#<strong>escape_userpass</strong>(v)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>escapes &#39;user:password&#39; <code>v</code> based on RFC 1738 section
3.1</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#find_proxy-instance_method" title="#find_proxy (instance method)">#<strong>find_proxy</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns a proxy URI.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hierarchical%3F-instance_method" title="#hierarchical? (instance method)">#<strong>hierarchical?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Checks if URI has a path</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hostname-instance_method" title="#hostname (instance method)">#<strong>hostname</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>extract the host part of the URI and unwrap brackets for IPv6 addresses.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#hostname%3D-instance_method" title="#hostname= (instance method)">#<strong>hostname=</strong>(v)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>set the host part of the URI as the argument with brackets for IPv6
addresses.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'></div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#merge-instance_method" title="#merge (instance method)">#<strong>merge</strong>(oth)  </a>
        (also: #+)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#merge%21-instance_method" title="#merge! (instance method)">#<strong>merge!</strong>(oth)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#merge0-instance_method" title="#merge0 (instance method)">#<strong>merge0</strong>(oth)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>return base and rel.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#merge_path-instance_method" title="#merge_path (instance method)">#<strong>merge_path</strong>(base, rel)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Merges a base path <code>base</code>, with relative path <code>rel</code>,
returns a modified base path.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#normalize-instance_method" title="#normalize (instance method)">#<strong>normalize</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns normalized URI</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#normalize%21-instance_method" title="#normalize! (instance method)">#<strong>normalize!</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Destructive version of <a href="#normalize-instance_method" title="URI::Generic#normalize (method)">#normalize</a></p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parser-instance_method" title="#parser (instance method)">#<strong>parser</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the parser to be used.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#password-instance_method" title="#password (instance method)">#<strong>password</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the password component</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#password%3D-instance_method" title="#password= (instance method)">#<strong>password=</strong>(password)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path_query-instance_method" title="#path_query (instance method)">#<strong>path_query</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the assemble String with path and query components</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#relative%3F-instance_method" title="#relative? (instance method)">#<strong>relative?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Checks if URI is relative</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#replace%21-instance_method" title="#replace! (instance method)">#<strong>replace!</strong>(oth)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>replace self by other URI object</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#route_from-instance_method" title="#route_from (instance method)">#<strong>route_from</strong>(oth)  </a>
        (also: #-)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#route_from0-instance_method" title="#route_from0 (instance method)">#<strong>route_from0</strong>(oth)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>:stopdoc:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#route_from_path-instance_method" title="#route_from_path (instance method)">#<strong>route_from_path</strong>(src, dst)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>:stopdoc:</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#route_to-instance_method" title="#route_to (instance method)">#<strong>route_to</strong>(oth)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong>(*components)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Args</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#split_path-instance_method" title="#split_path (instance method)">#<strong>split_path</strong>(path)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns an Array of the path split on &#39;/&#39;</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#split_userinfo-instance_method" title="#split_userinfo (instance method)">#<strong>split_userinfo</strong>(ui)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the userinfo <code>ui</code> as user, password if properly formated
as &#39;user:password&#39;</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Constructs String from URI</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#user-instance_method" title="#user (instance method)">#<strong>user</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the user component</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#user%3D-instance_method" title="#user= (instance method)">#<strong>user=</strong>(user)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Args">Args</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#userinfo-instance_method" title="#userinfo (instance method)">#<strong>userinfo</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the userinfo, either as &#39;user&#39; or &#39;user:password&#39;</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#userinfo%3D-instance_method" title="#userinfo= (instance method)">#<strong>userinfo=</strong>(userinfo)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Sets userinfo, argument is string like &#39;name:pass&#39;</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../URI.html" title="URI (module)">URI</a></h3>
  <p class="inherited"><a href="../URI.html#decode_www_form-class_method" title="URI.decode_www_form (method)">.decode_www_form</a>, <a href="../URI.html#decode_www_form_component-class_method" title="URI.decode_www_form_component (method)">.decode_www_form_component</a>, <a href="../URI.html#encode_www_form-class_method" title="URI.encode_www_form (method)">.encode_www_form</a>, <a href="../URI.html#encode_www_form_component-class_method" title="URI.encode_www_form_component (method)">.encode_www_form_component</a>, <a href="../URI.html#extract-class_method" title="URI.extract (method)">.extract</a>, <a href="../URI.html#join-class_method" title="URI.join (method)">.join</a>, <a href="../URI.html#parse-class_method" title="URI.parse (method)">.parse</a>, <a href="../URI.html#regexp-class_method" title="URI.regexp (method)">.regexp</a>, <a href="../URI.html#scheme_list-class_method" title="URI.scheme_list (method)">.scheme_list</a>, <a href="../URI.html#split-class_method" title="URI.split (method)">.split</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Escape.html" title="URI::Escape (module)">Escape</a></h3>
  <p class="inherited"><a href="Escape.html#escape-instance_method" title="URI::Escape#escape (method)">#escape</a>, <a href="Escape.html#unescape-instance_method" title="URI::Escape#unescape (method)">#unescape</a></p>

  
  
  
  
  
  <h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(scheme, userinfo, host, port, registry, path, opaque, query, fragment, parser = DEFAULT_PARSER, arg_check = false)  &#x21d2; <tt><a href="" title="URI::Generic (class)">Generic</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>scheme</code>
<dd>
<p>Protocol scheme, i.e. &#39;http&#39;,&#39;ftp&#39;,&#39;mailto&#39; and so
on.</p>
</dd><dt><code>userinfo</code>
<dd>
<p>User name and password, i.e. &#39;sdmitry:bla&#39;</p>
</dd><dt><code>host</code>
<dd>
<p>Server host name</p>
</dd><dt><code>port</code>
<dd>
<p>Server port</p>
</dd><dt><code>registry</code>
<dd>
<p>Registry of naming authorities.</p>
</dd><dt><code>path</code>
<dd>
<p>Path on server</p>
</dd><dt><code>opaque</code>
<dd>
<p>Opaque part</p>
</dd><dt><code>query</code>
<dd>
<p>Query data</p>
</dd><dt><code>fragment</code>
<dd>
<p>A part of URI after &#39;#&#39; sign</p>
</dd><dt><code>parser</code>
<dd>
<p>Parser for internal use [URI::DEFAULT_PARSER by default]</p>
</dd><dt><code>arg_check</code>
<dd>
<p>Check arguments [false by default]</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Creates a new <a href="" title="URI::Generic (class)">URI::Generic</a> instance from â€œgeneric&#39;&#39; components
without check.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_scheme'>scheme</span><span class='comma'>,</span>
               <span class='id identifier rubyid_userinfo'>userinfo</span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='id identifier rubyid_registry'>registry</span><span class='comma'>,</span>
               <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opaque'>opaque</span><span class='comma'>,</span>
               <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span>
               <span class='id identifier rubyid_fragment'>fragment</span><span class='comma'>,</span>
               <span class='id identifier rubyid_parser'>parser</span> <span class='op'>=</span> <span class='const'>DEFAULT_PARSER</span><span class='comma'>,</span>
               <span class='id identifier rubyid_arg_check'>arg_check</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='ivar'>@scheme</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@user</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@password</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@host</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@port</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@path</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@query</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@opaque</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@registry</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@fragment</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@parser</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span> <span class='op'>==</span> <span class='const'>DEFAULT_PARSER</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_parser'>parser</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_arg_check'>arg_check</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>=</span> <span class='id identifier rubyid_scheme'>scheme</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span> <span class='op'>=</span> <span class='id identifier rubyid_userinfo'>userinfo</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_port'>port</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_opaque'>opaque</span> <span class='op'>=</span> <span class='id identifier rubyid_opaque'>opaque</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span> <span class='op'>=</span> <span class='id identifier rubyid_registry'>registry</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span> <span class='op'>=</span> <span class='id identifier rubyid_fragment'>fragment</span>
  <span class='kw'>else</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_scheme'>set_scheme</span><span class='lparen'>(</span><span class='id identifier rubyid_scheme'>scheme</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_userinfo'>set_userinfo</span><span class='lparen'>(</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_host'>set_host</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_port'>set_port</span><span class='lparen'>(</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_query'>set_query</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_opaque'>set_opaque</span><span class='lparen'>(</span><span class='id identifier rubyid_opaque'>opaque</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_registry'>set_registry</span><span class='lparen'>(</span><span class='id identifier rubyid_registry'>registry</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_fragment'>set_fragment</span><span class='lparen'>(</span><span class='id identifier rubyid_fragment'>fragment</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='ivar'>@registry</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_use_registry'>use_registry</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the scheme </span><span class='embexpr_beg'>#{</span><span class='ivar'>@scheme</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not accept registry part: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@registry</span><span class='embexpr_end'>}</span><span class='tstring_content'> (or bad hostname?)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@scheme</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='kw'>if</span> <span class='ivar'>@scheme</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@path</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@opaque</span> <span class='comment'># (see RFC2396 Section 5.2)
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_port'>set_port</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_port'>default_port</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_port'>default_port</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@port</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="fragment-instance_method">
  <h3 class='signature first'>
  #<strong>fragment</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the fragment component of the URI.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo/bar/baz?search=FooBar#ponies</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span> <span class='comment'>#=&gt; &quot;ponies&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


292</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 292</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:fragment</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="fragment=-instance_method">
  <h3 class='signature'>
  #<strong>fragment=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the fragment component <code>v</code>. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_fragment</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com/?id=25#time=1305212049</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>time=1305212086</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt;  &quot;time=1305212086&quot;
</span><span class='id identifier rubyid_uri'>uri</span>
<span class='comment'>#=&gt; #&lt;URI::HTTP:0x000000007a81f8 URL:http://my.example.com/?id=25#time=1305212086&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1041
1042
1043
1044
1045</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1041</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fragment='>fragment=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_fragment'>check_fragment</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_fragment'>set_fragment</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="host-instance_method">
  <h3 class='signature'>
  #<strong>host</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the host component of the URI.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo/bar/baz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='comment'>#=&gt; &quot;foo&quot;
</span></code></pre>

<p>It returns nil if no host component.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mailto:foo@example.org</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='comment'>#=&gt; nil
</span></code></pre>

<p>The component doesn&#39;t contains the port number.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo:8080/bar/baz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='comment'>#=&gt; &quot;foo&quot;
</span></code></pre>

<p>Since IPv6 addresses are wrapped by brackets in URIs, this method returns
IPv6 addresses wrapped by brackets. This form is not appropriate to pass
socket methods such as <code>TCPSocket.open</code>. If unwrapped host names are
required, use â€œhostnameâ€ method.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://[::1]/bar/baz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='comment'>#=&gt; &quot;[::1]&quot;
</span><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://[::1]/bar/baz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_hostname'>hostname</span> <span class='comment'>#=&gt; &quot;::1&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


250</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 250</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:host</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="host=-instance_method">
  <h3 class='signature'>
  #<strong>host=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the host component <code>v</code>. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_host</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo.com</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt;  &quot;foo.com&quot;
</span><span class='id identifier rubyid_uri'>uri</span>
<span class='comment'>#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:http://foo.com&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


645
646
647
648
649</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 645</span>

<span class='kw'>def</span> <span class='id identifier rubyid_host='>host=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_host'>check_host</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_host'>set_host</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="opaque-instance_method">
  <h3 class='signature'>
  #<strong>opaque</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the opaque part of the URI.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mailto:foo@example.org</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_opaque'>opaque</span> <span class='comment'>#=&gt; &quot;foo@example.org&quot;
</span></code></pre>

<p>Portion of the path that does make use of the slash &#39;/&#39;. The path
typically refers to the absolute path and the opaque part.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='id identifier rubyid_see'>see</span> <span class='const'>RFC2396</span> <span class='const'>Section</span> <span class='int'>3</span> <span class='kw'>and</span> <span class='float'>5.2</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


286</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 286</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:opaque</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="opaque=-instance_method">
  <h3 class='signature'>
  #<strong>opaque=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the opaque component <code>v</code>. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_opaque</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


988
989
990
991
992</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 988</span>

<span class='kw'>def</span> <span class='id identifier rubyid_opaque='>opaque=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_opaque'>check_opaque</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_opaque'>set_opaque</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path-instance_method">
  <h3 class='signature'>
  #<strong>path</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the path component of the URI.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo/bar/baz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='comment'>#=&gt; &quot;/bar/baz&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


270</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 270</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:path</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path=-instance_method">
  <h3 class='signature'>
  #<strong>path=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the path component <code>v</code>. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_path</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com/pub/files</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/faq/</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt;  &quot;/faq/&quot;
</span><span class='id identifier rubyid_uri'>uri</span>
<span class='comment'>#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:http://my.example.com/faq/&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


870
871
872
873
874</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 870</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path='>path=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_path'>check_path</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="port-instance_method">
  <h3 class='signature'>
  #<strong>port</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the port component of the URI.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo/bar/baz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span> <span class='comment'>#=&gt; &quot;80&quot;
</span>
<span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo:8080/bar/baz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span> <span class='comment'>#=&gt; &quot;8080&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


258</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 258</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:port</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="port=-instance_method">
  <h3 class='signature'>
  #<strong>port=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the port component <code>v</code>. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_port</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='int'>8080</span>
<span class='comment'># =&gt;  8080
</span><span class='id identifier rubyid_uri'>uri</span>
<span class='comment'>#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:http://my.example.com:8080&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


744
745
746
747
748</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 744</span>

<span class='kw'>def</span> <span class='id identifier rubyid_port='>port=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_port'>check_port</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_port'>set_port</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_port'>port</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="query-instance_method">
  <h3 class='signature'>
  #<strong>query</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the query component of the URI.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo/bar/baz?search=FooBar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='comment'>#=&gt; &quot;search=FooBar&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


276</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 276</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:query</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="query=-instance_method">
  <h3 class='signature'>
  #<strong>query=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the query component <code>v</code>. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_query</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com/?id=25</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id=1</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt;  &quot;id=1&quot;
</span><span class='id identifier rubyid_uri'>uri</span>
<span class='comment'>#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:http://my.example.com/?id=1&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


935
936
937
938
939</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 935</span>

<span class='kw'>def</span> <span class='id identifier rubyid_query='>query=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_query'>check_query</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_query'>set_query</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="registry-instance_method">
  <h3 class='signature'>
  #<strong>registry</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the registry component of the URI.</p>

<pre class="code ruby"><code class="ruby"><span class='lparen'>(</span><span class='id identifier rubyid_see'>see</span> <span class='const'>RFC2396</span> <span class='const'>Section</span> <span class='float'>3.2</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


264</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 264</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:registry</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="registry=-instance_method">
  <h3 class='signature'>
  #<strong>registry=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the registry component <code>v</code>. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_registry</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


797
798
799
800
801</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 797</span>

<span class='kw'>def</span> <span class='id identifier rubyid_registry='>registry=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_registry'>check_registry</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_registry'>set_registry</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="scheme-instance_method">
  <h3 class='signature'>
  #<strong>scheme</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the scheme component of the URI.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo/bar/baz</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='comment'>#=&gt; &quot;http&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


228</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 228</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:scheme</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="scheme=-instance_method">
  <h3 class='signature'>
  #<strong>scheme=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the scheme component <code>v</code>. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_scheme</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt;  &quot;https&quot;
</span><span class='id identifier rubyid_uri'>uri</span>
<span class='comment'>#=&gt; #&lt;URI::HTTP:0x000000008e89e8 URL:https://my.example.com&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


370
371
372
373
374</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 370</span>

<span class='kw'>def</span> <span class='id identifier rubyid_scheme='>scheme=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_scheme'>check_scheme</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_scheme'>set_scheme</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="build-class_method">
  <h3 class='signature first'>
  .<strong>build</strong>(args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Synopsis">Synopsis</h2>

<p>See <code>#new</code></p>

<h2 id="label-Description">Description</h2>

<p>Creates a new <a href="" title="URI::Generic (class)">URI::Generic</a> instance from components of <a href="" title="URI::Generic (class)">URI::Generic</a>
with check.  Components are: scheme, userinfo, host, port, registry, path,
opaque, query and fragment. You can provide arguments either by an Array or
a Hash. See <code>#new</code> for hash keys to use or for order of array items.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 121</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
      <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='op'>::</span><span class='const'>URI</span><span class='op'>::</span><span class='const'>Generic</span><span class='op'>::</span><span class='const'>COMPONENT</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>URI</span><span class='op'>::</span><span class='const'>Generic</span><span class='op'>::</span><span class='const'>COMPONENT</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='id identifier rubyid_c'>c</span><span class='rbracket'>]</span>
      <span class='kw'>else</span>
        <span class='kw'>nil</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_component'>component</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_component'>component</span> <span class='kw'>rescue</span> <span class='op'>::</span><span class='const'>URI</span><span class='op'>::</span><span class='const'>Generic</span><span class='op'>::</span><span class='const'>COMPONENT</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected Array of or Hash of components of </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>&lt;&lt;</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>&lt;&lt;</span> <span class='kw'>true</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_tmp'>tmp</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="build2-class_method">
  <h3 class='signature'>
  .<strong>build2</strong>(args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Synopsis">Synopsis</h2>

<p>See <code>#new</code></p>

<h2 id="label-Description">Description</h2>

<p>At first, tries to create a new <a href="" title="URI::Generic (class)">URI::Generic</a> instance using
<a href="" title="URI::Generic (class)">URI::Generic</a>::build. But, if exception <a href="InvalidComponentError.html" title="URI::InvalidComponentError (class)">InvalidComponentError</a> is
raised, then it <a href="Escape.html" title="URI::Escape (module)">Escape</a>.escape all URI components and tries again.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 83</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_build2'>build2</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>InvalidComponentError</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
          <span class='const'>DEFAULT_PARSER</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_x'>x</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='id identifier rubyid_tmp'>tmp</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>
            <span class='const'>DEFAULT_PARSER</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_value'>value</span>
          <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_tmp'>tmp</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="component-class_method">
  <h3 class='signature'>
  .<strong>component</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Components of the URI in the order.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


54
55
56</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 54</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_component'>component</span>
  <span class='kw'>self</span><span class='op'>::</span><span class='const'>COMPONENT</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_port-class_method">
  <h3 class='signature'>
  .<strong>default_port</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns default port</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


29
30
31</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 29</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_port'>default_port</span>
  <span class='kw'>self</span><span class='op'>::</span><span class='const'>DEFAULT_PORT</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="use_registry-class_method">
  <h3 class='signature'>
  .<strong>use_registry</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns whether a registry of naming authorities are being used.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


67
68
69</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 67</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_use_registry'>use_registry</span>
  <span class='kw'>self</span><span class='op'>::</span><span class='const'>USE_REGISTRY</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="+-instance_method">
  <h3 class='signature first'>
  #<strong>+</strong>(oth)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#merge-instance_method" title="URI::Generic#merge (method)">#merge</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="--instance_method">
  <h3 class='signature'>
  #<strong>-</strong>(oth)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#route_from-instance_method" title="URI::Generic#route_from (method)">#route_from</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="==-instance_method">
  <h3 class='signature'>
  #<strong>==</strong>(oth)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Compares to URI&#39;s</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1498
1499
1500
1501
1502
1503
1504</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1498</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_normalize'>normalize</span><span class='period'>.</span><span class='id identifier rubyid_component_ary'>component_ary</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_normalize'>normalize</span><span class='period'>.</span><span class='id identifier rubyid_component_ary'>component_ary</span>
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="absolute-instance_method">
  <h3 class='signature'>
  #<strong>absolute</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#absolute%3F-instance_method" title="URI::Generic#absolute? (method)">#absolute?</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="absolute?-instance_method">
  <h3 class='signature'>
  #<strong>absolute?</strong>  &#x21d2; <tt>Boolean</tt> 
  <span class='aliases'>Also known as: <span class='names'><span>absolute</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Checks if URI is an absolute one</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1061
1062
1063
1064
1065
1066
1067</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1061</span>

<span class='kw'>def</span> <span class='id identifier rubyid_absolute?'>absolute?</span>
  <span class='kw'>if</span> <span class='ivar'>@scheme</span>
    <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_fragment-instance_method">
  <h3 class='signature'>
  #<strong>check_fragment</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the fragment <code>v</code> component against the <a href="Parser.html" title="URI::Parser (class)">Parser</a>
Regexp for :FRAGMENT</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


997
998
999
1000
1001
1002
1003
1004
1005
1006</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 997</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_fragment'>check_fragment</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>unless</span> <span class='id identifier rubyid_v'>v</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:FRAGMENT</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected fragment component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_host-instance_method">
  <h3 class='signature'>
  #<strong>check_host</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the host <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :HOST</p>

<p>Can not have a registry or opaque component defined, with a host component
defined.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


598
599
600
601
602
603
604
605
606
607
608
609
610</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 598</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_host'>check_host</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>unless</span> <span class='id identifier rubyid_v'>v</span>

  <span class='kw'>if</span> <span class='ivar'>@registry</span> <span class='op'>||</span> <span class='ivar'>@opaque</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can not set host with registry or opaque</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:HOST</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected host component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_opaque-instance_method">
  <h3 class='signature'>
  #<strong>check_opaque</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the opaque <code>v</code> component for RFC2396 compliance and
against the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :OPAQUE</p>

<p>Can not have a host, port, user or path component defined, with an opaque
component defined.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 948</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_opaque'>check_opaque</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>unless</span> <span class='id identifier rubyid_v'>v</span>

  <span class='comment'># raise if both hier and opaque are not nil, because:
</span>  <span class='comment'># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )
</span>  <span class='comment'># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]
</span>  <span class='kw'>if</span> <span class='ivar'>@host</span> <span class='op'>||</span> <span class='ivar'>@port</span> <span class='op'>||</span> <span class='ivar'>@user</span> <span class='op'>||</span> <span class='ivar'>@path</span>  <span class='comment'># userinfo = @user + &#39;:&#39; + @password
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can not set opaque with host, port, userinfo or path</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:OPAQUE</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected opaque component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_password-instance_method">
  <h3 class='signature'>
  #<strong>check_password</strong>(v, user = @user)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the password <code>v</code> component for RFC2396 compliance and
against the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :USERINFO</p>

<p>Can not have a registry or opaque component defined, with a user component
defined.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 427</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_password'>check_password</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='ivar'>@user</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@registry</span> <span class='op'>||</span> <span class='ivar'>@opaque</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can not set password with registry or opaque</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>unless</span> <span class='id identifier rubyid_v'>v</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_user'>user</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>password component depends user component</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:USERINFO</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected user component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_path-instance_method">
  <h3 class='signature'>
  #<strong>check_path</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the path <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :ABS_PATH and :REL_PATH</p>

<p>Can not have a opaque component defined, with a path component defined.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 811</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_path'>check_path</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='comment'># raise if both hier and opaque are not nil, because:
</span>  <span class='comment'># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )
</span>  <span class='comment'># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@opaque</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path conflicts with opaque</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># If scheme is ftp, path may be relative.
</span>  <span class='comment'># See RFC 1738 section 3.2.2, and RFC 2396.
</span>  <span class='kw'>if</span> <span class='ivar'>@scheme</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@scheme</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ftp</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:ABS_PATH</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected absolute path component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:ABS_PATH</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:REL_PATH</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected relative path component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_port-instance_method">
  <h3 class='signature'>
  #<strong>check_port</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the port <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :PORT</p>

<p>Can not have a registry or opaque component defined, with a port component
defined.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


690
691
692
693
694
695
696
697
698
699
700
701
702</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 690</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_port'>check_port</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>unless</span> <span class='id identifier rubyid_v'>v</span>

  <span class='kw'>if</span> <span class='ivar'>@registry</span> <span class='op'>||</span> <span class='ivar'>@opaque</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can not set port with registry or opaque</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Fixnum</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:PORT</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected port component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_query-instance_method">
  <h3 class='signature'>
  #<strong>check_query</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the query <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :QUERY</p>

<p>Can not have a opaque component defined, with a query component defined.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


883
884
885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 883</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_query'>check_query</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>unless</span> <span class='id identifier rubyid_v'>v</span>

  <span class='comment'># raise if both hier and opaque are not nil, because:
</span>  <span class='comment'># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )
</span>  <span class='comment'># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]
</span>  <span class='kw'>if</span> <span class='ivar'>@opaque</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>query conflicts with opaque</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:QUERY</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected query component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_registry-instance_method">
  <h3 class='signature'>
  #<strong>check_registry</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the registry <code>v</code> component for RFC2396 compliance and
against the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :REGISTRY</p>

<p>Can not have a host, port or user component defined, with a registry
component defined.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 757</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_registry'>check_registry</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>unless</span> <span class='id identifier rubyid_v'>v</span>

  <span class='comment'># raise if both server and registry are not nil, because:
</span>  <span class='comment'># authority     = server | reg_name
</span>  <span class='comment'># server        = [ [ userinfo &quot;@&quot; ] hostport ]
</span>  <span class='kw'>if</span> <span class='ivar'>@host</span> <span class='op'>||</span> <span class='ivar'>@port</span> <span class='op'>||</span> <span class='ivar'>@user</span> <span class='comment'># userinfo = @user + &#39;:&#39; + @password
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can not set registry with host, port, or userinfo</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:REGISTRY</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected registry component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_scheme-instance_method">
  <h3 class='signature'>
  #<strong>check_scheme</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the scheme <code>v</code> component against the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp
for :SCHEME</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


328
329
330
331
332
333
334
335</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 328</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_scheme'>check_scheme</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:SCHEME</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected scheme component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_user-instance_method">
  <h3 class='signature'>
  #<strong>check_user</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the user <code>v</code> component for RFC2396 compliance and against
the <a href="Parser.html" title="URI::Parser (class)">Parser</a> Regexp for :USERINFO</p>

<p>Can not have a registry or opaque component defined, with a user component
defined.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


403
404
405
406
407
408
409
410
411
412
413
414
415
416
417</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 403</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_user'>check_user</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@registry</span> <span class='op'>||</span> <span class='ivar'>@opaque</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can not set user with registry or opaque</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>unless</span> <span class='id identifier rubyid_v'>v</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lbracket'>[</span><span class='symbol'>:USERINFO</span><span class='rbracket'>]</span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>InvalidComponentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad component(expected userinfo component or user component): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_userinfo-instance_method">
  <h3 class='signature'>
  #<strong>check_userinfo</strong>(user, password = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>check the <code>user</code> and <code>password</code>.</p>

<p>If <code>password</code> is not provided, then <code>user</code> is split,
using <a href="" title="URI::Generic (class)">URI::Generic</a>.split_userinfo, to pull <code>user</code> and
+password.</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_user, <a href="" title="URI::Generic (class)">URI::Generic</a>.check_password</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


385
386
387
388
389
390
391
392
393</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 385</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_userinfo'>check_userinfo</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_password'>password</span>
    <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='id identifier rubyid_split_userinfo'>split_userinfo</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_check_user'>check_user</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_password'>check_password</span><span class='lparen'>(</span><span class='id identifier rubyid_password'>password</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="coerce-instance_method">
  <h3 class='signature'>
  #<strong>coerce</strong>(oth)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>URI or String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_attempt'>attempt</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_other'>other</span> <span class='const'>URI</span> <span class='op'>&lt;</span><span class='id identifier rubyid_code'>code</span><span class='op'>&gt;</span><span class='id identifier rubyid_oth'>oth</span><span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>code&gt;
</span></span></code></pre>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_coerce'>coerce</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://foo.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; [#&lt;URI::HTTP:0x00000000bcb028 URL:http://foo.com/&gt;, #&lt;URI::HTTP:0x00000000d92178 URL:http://my.example.com&gt;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1589
1590
1591
1592
1593
1594
1595
1596
1597
1598</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1589</span>

<span class='kw'>def</span> <span class='id identifier rubyid_coerce'>coerce</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_oth'>oth</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='id identifier rubyid_oth'>oth</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_oth'>oth</span><span class='comma'>,</span> <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="component-instance_method">
  <h3 class='signature'>
  #<strong>component</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Components of the URI in the order.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


321
322
323</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 321</span>

<span class='kw'>def</span> <span class='id identifier rubyid_component'>component</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_component'>component</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="default_port-instance_method">
  <h3 class='signature'>
  #<strong>default_port</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns default port</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


36
37
38</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_default_port'>default_port</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_default_port'>default_port</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="eql?-instance_method">
  <h3 class='signature'>
  #<strong>eql?</strong>(oth)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1510
1511
1512
1513
1514</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1510</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>&amp;&amp;</span>
  <span class='id identifier rubyid_parser'>parser</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_parser'>parser</span> <span class='op'>&amp;&amp;</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_component_ary'>component_ary</span><span class='period'>.</span><span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_component_ary'>component_ary</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="escape_userpass-instance_method">
  <h3 class='signature'>
  #<strong>escape_userpass</strong>(v)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>escapes &#39;user:password&#39; <code>v</code> based on RFC 1738 section
3.1</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


565
566
567</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 565</span>

<span class='kw'>def</span> <span class='id identifier rubyid_escape_userpass'>escape_userpass</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[@:\/]</span><span class='regexp_end'>/o</span></span><span class='rparen'>)</span> <span class='comment'># RFC 1738 section 3.1 #/
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="find_proxy-instance_method">
  <h3 class='signature'>
  #<strong>find_proxy</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns a proxy URI. The proxy URI is obtained from environment variables
such as http_proxy, ftp_proxy, no_proxy, etc. If there is no proper proxy,
nil is returned.</p>

<p>Note that capitalized variables (HTTP_PROXY, FTP_PROXY, NO_PROXY, etc.) are
examined too.</p>

<p>But http_proxy and HTTP_PROXY is treated specially under CGI environment.
It&#39;s because HTTP_PROXY may be set by Proxy: header. So HTTP_PROXY is
not used. http_proxy is not used too if the variable is case insensitive.
CGI_HTTP_PROXY can be used instead.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1613
1614
1615
1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634
1635
1636
1637
1638
1639
1640
1641
1642
1643
1644
1645
1646
1647
1648
1649
1650
1651
1652
1653
1654
1655
1656
1657
1658
1659
1660
1661
1662
1663
1664
1665
1666
1667
1668
1669
1670
1671
1672
1673
1674</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1613</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_proxy'>find_proxy</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_proxy</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http_proxy</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>REQUEST_METHOD</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'># CGI?
</span>    <span class='comment'># HTTP_PROXY conflicts with *_proxy for proxy settings and
</span>    <span class='comment'># HTTP_* for header information in CGI.
</span>    <span class='comment'># So it should be careful to use it.
</span>    <span class='id identifier rubyid_pairs'>pairs</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Ahttp_proxy\z</span><span class='regexp_end'>/i</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_k'>k</span> <span class='rbrace'>}</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_pairs'>pairs</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>when</span> <span class='int'>0</span> <span class='comment'># no proxy setting anyway.
</span>      <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>when</span> <span class='int'>1</span>
      <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='id identifier rubyid_pairs'>pairs</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_k'>k</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http_proxy</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='comment'># http_proxy is safe to use because ENV is case sensitive.
</span>        <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span> <span class='comment'># http_proxy is safe to use because ENV is case sensitive.
</span>      <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_proxy_uri'>proxy_uri</span>
      <span class='comment'># Use CGI_HTTP_PROXY.  cf. libwww-perl.
</span>      <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CGI_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http_proxy</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>The environment variable HTTP_PROXY is discouraged.  Use http_proxy.</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hostname'>hostname</span>
    <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>socket</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='const'>IPSocket</span><span class='period'>.</span><span class='id identifier rubyid_getaddress'>getaddress</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_hostname'>hostname</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A127\.|\A::1\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_addr'>addr</span>
    <span class='kw'>rescue</span> <span class='const'>SocketError</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_proxy_uri'>proxy_uri</span>
    <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_proxy_uri'>proxy_uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no_proxy</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_no_proxy'>no_proxy</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_no_proxy'>no_proxy</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([^:,]*)(?::(\d+))?</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\A|\.)</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_quote'>quote</span> <span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'>\z</span><span class='regexp_end'>/i</span></span> <span class='op'>=~</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='op'>&amp;&amp;</span>
           <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_port'>port</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span> <span class='op'>==</span> <span class='id identifier rubyid_port'>port</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_proxy_uri'>proxy_uri</span> <span class='op'>=</span> <span class='kw'>nil</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_proxy_uri'>proxy_uri</span>
  <span class='kw'>else</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hash-instance_method">
  <h3 class='signature'>
  #<strong>hash</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1506
1507
1508</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1506</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hash'>hash</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_component_ary'>component_ary</span><span class='period'>.</span><span class='id identifier rubyid_hash'>hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hierarchical?-instance_method">
  <h3 class='signature'>
  #<strong>hierarchical?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Checks if URI has a path</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1050
1051
1052
1053
1054
1055
1056</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1050</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hierarchical?'>hierarchical?</span>
  <span class='kw'>if</span> <span class='ivar'>@path</span>
    <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hostname-instance_method">
  <h3 class='signature'>
  #<strong>hostname</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>extract the host part of the URI and unwrap brackets for IPv6 addresses.</p>

<p>This method is same as <a href="#host-instance_method" title="URI::Generic#host (method)">#host</a> except brackets for IPv6 (andn
future IP) addresses are removed.</p>

<p>u = URI(â€œhttp://[::1]/barâ€) p u.hostname      #=&gt; â€œ::1â€ p u.host        
#=&gt; â€œ[::1]â€</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


660
661
662
663</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 660</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hostname'>hostname</span>
  <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\[(.*)\]\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>?</span> <span class='backref'>$1</span> <span class='op'>:</span> <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="hostname=-instance_method">
  <h3 class='signature'>
  #<strong>hostname=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>set the host part of the URI as the argument with brackets for IPv6
addresses.</p>

<p>This method is same as <a href="#host%3D-instance_method" title="URI::Generic#host= (method)">#host=</a> except the argument can be bare
IPv6 address.</p>

<p>u = URI(â€œ<a href="http://foo/bar">foo/bar</a>â€) p u.to_s                 
#=&gt; â€œ<a href="http://foo/bar">foo/bar</a>â€ u.hostname = â€œ::1â€ p u.to_s  
#=&gt; â€œ<a href="http://[::1]/bar">[::1]/bar</a>â€</p>

<p>If the arugument seems IPv6 address, it is wrapped by brackets.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


678
679
680
681</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 678</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hostname='>hostname=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\[.*\]\z</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>:</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_v'>v</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  #<strong>inspect</strong>  
</h3>
<div class='source_code h'>
  <pre class='lines_num'>


1566
1567
1568</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1566</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='cvar'>@@to_s</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;\z</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> URL:</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="merge-instance_method">
  <h3 class='signature'>
  #<strong>merge</strong>(oth)  
  <span class='aliases'>Also known as: <span class='names'><span>+</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p>URI or String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Merges two URI&#39;s.</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/main.rbx?page=1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt;  #&lt;URI::HTTP:0x2021f3b0 URL:http://my.example.com/main.rbx?page=1&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1199
1200
1201
1202
1203
1204
1205
1206
1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236
1237</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1199</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_base'>base</span><span class='comma'>,</span> <span class='id identifier rubyid_rel'>rel</span> <span class='op'>=</span> <span class='id identifier rubyid_merge0'>merge0</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_base'>base</span> <span class='op'>==</span> <span class='id identifier rubyid_rel'>rel</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_base'>base</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_authority'>authority</span> <span class='op'>=</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span> <span class='op'>||</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='op'>||</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span>

  <span class='comment'># RFC2396, Section 5.2, 2)
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_authority'>authority</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span>
    <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_fragment'>set_fragment</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_base'>base</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_query'>set_query</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_fragment'>set_fragment</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>

  <span class='comment'># RFC2396, Section 5.2, 4)
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_authority'>authority</span>
    <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='id identifier rubyid_merge_path'>merge_path</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='kw'>else</span>
    <span class='comment'># RFC2396, Section 5.2, 4)
</span>    <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='kw'>end</span>

  <span class='comment'># RFC2396, Section 5.2, 7)
</span>  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_userinfo'>set_userinfo</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span>
  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_host'>set_host</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='rparen'>)</span>         <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>
  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_port'>set_port</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>         <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span>
  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_query'>set_query</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>       <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span>
  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_set_fragment'>set_fragment</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_base'>base</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="merge!-instance_method">
  <h3 class='signature'>
  #<strong>merge!</strong>(oth)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p>URI or String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Destructive form of <a href="#merge-instance_method" title="URI::Generic#merge (method)">#merge</a></p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://my.example.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/main.rbx?page=1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_uri'>uri</span>
<span class='comment'># =&gt;  #&lt;URI::HTTP:0x2021f3b0 URL:http://my.example.com/main.rbx?page=1&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1171
1172
1173
1174
1175
1176
1177
1178
1179</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1171</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='kw'>self</span> <span class='op'>==</span> <span class='id identifier rubyid_t'>t</span>
    <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_replace!'>replace!</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='rparen'>)</span>
    <span class='kw'>self</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="merge0-instance_method">
  <h3 class='signature'>
  #<strong>merge0</strong>(oth)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>return base and rel. you can modify `base&#39;, but can not `rel&#39;.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1242
1243
1244
1245
1246
1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258
1259
1260
1261
1262</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1242</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge0'>merge0</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_oth'>oth</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:convert_to_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_relative?'>relative?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_relative?'>relative?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>BadURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>both URI are relative</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_absolute?'>absolute?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_absolute?'>absolute?</span>
    <span class='comment'>#raise BadURIError,
</span>    <span class='comment'>#  &quot;both URI are absolute&quot;
</span>    <span class='comment'># hmm... should return oth for usability?
</span>    <span class='kw'>return</span> <span class='id identifier rubyid_oth'>oth</span><span class='comma'>,</span> <span class='id identifier rubyid_oth'>oth</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_absolute?'>absolute?</span>
    <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='comma'>,</span> <span class='id identifier rubyid_oth'>oth</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_oth'>oth</span><span class='comma'>,</span> <span class='id identifier rubyid_oth'>oth</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="merge_path-instance_method">
  <h3 class='signature'>
  #<strong>merge_path</strong>(base, rel)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Merges a base path <code>base</code>, with relative path <code>rel</code>,
returns a modified base path.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1089</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge_path'>merge_path</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='comma'>,</span> <span class='id identifier rubyid_rel'>rel</span><span class='rparen'>)</span>

  <span class='comment'># RFC2396, Section 5.2, 5)
</span>  <span class='comment'># RFC2396, Section 5.2, 6)
</span>  <span class='id identifier rubyid_base_path'>base_path</span> <span class='op'>=</span> <span class='id identifier rubyid_split_path'>split_path</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rel_path'>rel_path</span>  <span class='op'>=</span> <span class='id identifier rubyid_split_path'>split_path</span><span class='lparen'>(</span><span class='id identifier rubyid_rel'>rel</span><span class='rparen'>)</span>

  <span class='comment'># RFC2396, Section 5.2, 6), a)
</span>  <span class='id identifier rubyid_base_path'>base_path</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>while</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_slice!'>slice!</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_first'>first</span> <span class='op'>=</span> <span class='id identifier rubyid_rel_path'>rel_path</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span> <span class='kw'>and</span> <span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_rel_path'>rel_path</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
  <span class='kw'>end</span>

  <span class='comment'># RFC2396, Section 5.2, 6), c)
</span>  <span class='comment'># RFC2396, Section 5.2, 6), d)
</span>  <span class='id identifier rubyid_rel_path'>rel_path</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel_path'>rel_path</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_rel_path'>rel_path</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_rel_path'>rel_path</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='comment'># RFC2396, Section 5.2, 6), e)
</span>  <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_rel_path'>rel_path</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span>
        <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_x'>x</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_add_trailer_slash'>add_trailer_slash</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_base_path'>base_path</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='comment'># keep &#39;/&#39; for root directory
</span>  <span class='kw'>elsif</span> <span class='id identifier rubyid_add_trailer_slash'>add_trailer_slash</span>
    <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
  <span class='kw'>end</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span>
      <span class='comment'># RFC2396, Section 4
</span>      <span class='comment'># a .. or . in an absolute path has no special meaning
</span>      <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='kw'>else</span>
      <span class='comment'># if x == &#39;..&#39;
</span>      <span class='comment'>#   valid absolute (but abnormal) path &quot;/../...&quot;
</span>      <span class='comment'># else
</span>      <span class='comment'>#   valid absolute path
</span>      <span class='comment'># end
</span>      <span class='id identifier rubyid_base_path'>base_path</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_x'>x</span>
      <span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> <span class='id identifier rubyid_base_path'>base_path</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_t'>t</span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_add_trailer_slash'>add_trailer_slash</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_add_trailer_slash'>add_trailer_slash</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_base_path'>base_path</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="normalize-instance_method">
  <h3 class='signature'>
  #<strong>normalize</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns normalized URI</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1420
1421
1422
1423
1424</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1420</span>

<span class='kw'>def</span> <span class='id identifier rubyid_normalize'>normalize</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_normalize!'>normalize!</span>
  <span class='id identifier rubyid_uri'>uri</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="normalize!-instance_method">
  <h3 class='signature'>
  #<strong>normalize!</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Destructive version of <a href="#normalize-instance_method" title="URI::Generic#normalize (method)">#normalize</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1429</span>

<span class='kw'>def</span> <span class='id identifier rubyid_normalize!'>normalize!</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>!=</span> <span class='id identifier rubyid_scheme'>scheme</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_set_scheme'>set_scheme</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_host'>host</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_host'>host</span> <span class='op'>!=</span> <span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_set_host'>set_host</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parser-instance_method">
  <h3 class='signature'>
  #<strong>parser</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the parser to be used.</p>

<p>Unless a <a href="Parser.html" title="URI::Parser (class)">Parser</a> is defined, then DEFAULT_PARSER is used.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


298
299
300
301
302
303
304</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 298</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parser'>parser</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='kw'>defined?</span><span class='lparen'>(</span><span class='ivar'>@parser</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='op'>!</span><span class='ivar'>@parser</span>
    <span class='const'>DEFAULT_PARSER</span>
  <span class='kw'>else</span>
    <span class='ivar'>@parser</span> <span class='op'>||</span> <span class='const'>DEFAULT_PARSER</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="password-instance_method">
  <h3 class='signature'>
  #<strong>password</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the password component</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


587
588
589</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 587</span>

<span class='kw'>def</span> <span class='id identifier rubyid_password'>password</span>
  <span class='ivar'>@password</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="password=-instance_method">
  <h3 class='signature'>
  #<strong>password=</strong>(password)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the <code>password</code> component. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_password</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://john:S3nsit1ve@my.example.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>V3ry_S3nsit1ve</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt;  &quot;V3ry_S3nsit1ve&quot;
</span><span class='id identifier rubyid_uri'>uri</span>
<span class='comment'>#=&gt; #&lt;URI::HTTP:0x00000000881d90 URL:http://john:V3ry_S3nsit1ve@my.example.com&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


512
513
514
515
516</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 512</span>

<span class='kw'>def</span> <span class='id identifier rubyid_password='>password=</span><span class='lparen'>(</span><span class='id identifier rubyid_password'>password</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_password'>check_password</span><span class='lparen'>(</span><span class='id identifier rubyid_password'>password</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_password'>set_password</span><span class='lparen'>(</span><span class='id identifier rubyid_password'>password</span><span class='rparen'>)</span>
  <span class='comment'># returns password
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path_query-instance_method">
  <h3 class='signature'>
  #<strong>path_query</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the assemble String with path and query components</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1442
1443
1444
1445
1446
1447
1448</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1442</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path_query'>path_query</span>
  <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='ivar'>@path</span>
  <span class='kw'>if</span> <span class='ivar'>@query</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>?</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='ivar'>@query</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="relative?-instance_method">
  <h3 class='signature'>
  #<strong>relative?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Checks if URI is relative</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1073
1074
1075</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1073</span>

<span class='kw'>def</span> <span class='id identifier rubyid_relative?'>relative?</span>
  <span class='op'>!</span><span class='id identifier rubyid_absolute?'>absolute?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="replace!-instance_method">
  <h3 class='signature'>
  #<strong>replace!</strong>(oth)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>replace self by other URI object</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


307
308
309
310
311
312
313
314
315</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 307</span>

<span class='kw'>def</span> <span class='id identifier rubyid_replace!'>replace!</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>!=</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> object</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_c'>c</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="route_from-instance_method">
  <h3 class='signature'>
  #<strong>route_from</strong>(oth)  
  <span class='aliases'>Also known as: <span class='names'><span>-</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p>URI or String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Calculates relative path from oth to self</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://my.example.com/main.rbx?page=1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_route_from'>route_from</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://my.example.com</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;URI::Generic:0x20218858 URL:/main.rbx?page=1&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1373</span>

<span class='kw'>def</span> <span class='id identifier rubyid_route_from'>route_from</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='comment'># you can modify `rel&#39;, but can not `oth&#39;.
</span>  <span class='kw'>begin</span>
    <span class='id identifier rubyid_oth'>oth</span><span class='comma'>,</span> <span class='id identifier rubyid_rel'>rel</span> <span class='op'>=</span> <span class='id identifier rubyid_route_from0'>route_from0</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_oth'>oth</span> <span class='op'>==</span> <span class='id identifier rubyid_rel'>rel</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rel'>rel</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='id identifier rubyid_route_from_path'>route_from_path</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>./</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span>
    <span class='comment'># &quot;./?foo&quot; -&gt; &quot;?foo&quot;
</span>    <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_rel'>rel</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="route_from0-instance_method">
  <h3 class='signature'>
  #<strong>route_from0</strong>(oth)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:stopdoc:</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1305
1306
1307
1308
1309
1310
1311
1312
1313
1314
1315
1316
1317
1318
1319
1320
1321
1322
1323
1324
1325
1326
1327
1328
1329
1330
1331
1332
1333
1334
1335
1336
1337
1338
1339
1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1305</span>

<span class='kw'>def</span> <span class='id identifier rubyid_route_from0'>route_from0</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_oth'>oth</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:convert_to_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_relative?'>relative?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>BadURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>relative URI: </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_relative?'>relative?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>BadURIError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>relative URI: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_oth'>oth</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>!=</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span>
    <span class='kw'>return</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rel'>rel</span> <span class='op'>=</span> <span class='const'>URI</span><span class='op'>::</span><span class='const'>Generic</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='comment'># it is relative URI
</span>                         <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='comma'>,</span>
                         <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_opaque'>opaque</span><span class='comma'>,</span>
                         <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span><span class='comma'>,</span> <span class='id identifier rubyid_parser'>parser</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span> <span class='op'>!=</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span> <span class='op'>||</span>
      <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>!=</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>||</span>
      <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span> <span class='op'>!=</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span>

    <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_port'>set_port</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_default_port'>default_port</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rel'>rel</span><span class='comma'>,</span> <span class='id identifier rubyid_rel'>rel</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_userinfo'>set_userinfo</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_host'>set_host</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_port'>set_port</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_path'>set_path</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_query'>set_query</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rel'>rel</span><span class='comma'>,</span> <span class='id identifier rubyid_rel'>rel</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_opaque'>opaque</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_opaque'>opaque</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_opaque'>opaque</span>
    <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_opaque'>set_opaque</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_set_query'>set_query</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rel'>rel</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>==</span> <span class='id identifier rubyid_oth'>oth</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rel'>rel</span><span class='comma'>,</span> <span class='id identifier rubyid_rel'>rel</span>
  <span class='kw'>end</span>

  <span class='comment'># you can modify `rel&#39;, but can not `oth&#39;.
</span>  <span class='kw'>return</span> <span class='id identifier rubyid_oth'>oth</span><span class='comma'>,</span> <span class='id identifier rubyid_rel'>rel</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="route_from_path-instance_method">
  <h3 class='signature'>
  #<strong>route_from_path</strong>(src, dst)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:stopdoc:</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281
1282
1283
1284
1285
1286
1287
1288
1289
1290
1291
1292
1293
1294
1295
1296
1297
1298
1299
1300</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1266</span>

<span class='kw'>def</span> <span class='id identifier rubyid_route_from_path'>route_from_path</span><span class='lparen'>(</span><span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='id identifier rubyid_dst'>dst</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='kw'>when</span> <span class='id identifier rubyid_src'>src</span>
    <span class='comment'># RFC2396, Section 4.2
</span>    <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:\A|/)\.\.?(?:/|\z)</span><span class='regexp_end'>}</span></span>
    <span class='comment'># dst has abnormal absolute path,
</span>    <span class='comment'># like &quot;/./&quot;, &quot;/../&quot;, &quot;/x/../&quot;, ...
</span>    <span class='kw'>return</span> <span class='id identifier rubyid_dst'>dst</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_src_path'>src_path</span> <span class='op'>=</span> <span class='id identifier rubyid_src'>src</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:\A|[^/]+)/</span><span class='regexp_end'>}</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dst_path'>dst_path</span> <span class='op'>=</span> <span class='id identifier rubyid_dst'>dst</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(?:\A|[^/]+)/?</span><span class='regexp_end'>}</span></span><span class='rparen'>)</span>

  <span class='comment'># discard same parts
</span>  <span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_dst_path'>dst_path</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dst_path'>dst_path</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>==</span> <span class='id identifier rubyid_src_path'>src_path</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_src_path'>src_path</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_dst_path'>dst_path</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='id identifier rubyid_dst_path'>dst_path</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>

  <span class='comment'># calculate
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_src_path'>src_path</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>./</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_dst_path'>dst_path</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'># (see RFC2396 Section 5)
</span>      <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>./</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_tmp'>tmp</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_tmp'>tmp</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>../</span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_src_path'>src_path</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='id identifier rubyid_tmp'>tmp</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="route_to-instance_method">
  <h3 class='signature'>
  #<strong>route_to</strong>(oth)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p>URI or String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Calculates relative path to oth from self</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://my.example.com</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_route_to'>route_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://my.example.com/main.rbx?page=1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;URI::Generic:0x2020c2f6 URL:/main.rbx?page=1&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1413
1414
1415</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1413</span>

<span class='kw'>def</span> <span class='id identifier rubyid_route_to'>route_to</span><span class='lparen'>(</span><span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parser'>parser</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:convert_to_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_oth'>oth</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_route_from'>route_from</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="select-instance_method">
  <h3 class='signature'>
  #<strong>select</strong>(*components)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Args</p>
<dl class="rdoc-list note-list"><dt><code>components</code>
<dd>
<p>Multiple Symbol arguments defined in URI::HTTP</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Selects specified components from URI</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://myuser:mypass@my.example.com/test.rbx</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='symbol'>:userinfo</span><span class='comma'>,</span> <span class='symbol'>:host</span><span class='comma'>,</span> <span class='symbol'>:path</span><span class='rparen'>)</span>
<span class='comment'># =&gt; [&quot;myuser:mypass&quot;, &quot;my.example.com&quot;, &quot;/test.rbx&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1554
1555
1556
1557
1558
1559
1560
1561
1562
1563</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1554</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_components'>components</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_components'>components</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected of components of </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="split_path-instance_method">
  <h3 class='signature'>
  #<strong>split_path</strong>(path)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns an Array of the path split on &#39;/&#39;</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1080
1081
1082</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1080</span>

<span class='kw'>def</span> <span class='id identifier rubyid_split_path'>split_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/+</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="split_userinfo-instance_method">
  <h3 class='signature'>
  #<strong>split_userinfo</strong>(ui)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the userinfo <code>ui</code> as user, password if properly formated
as &#39;user:password&#39;</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


556
557
558
559
560
561</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 556</span>

<span class='kw'>def</span> <span class='id identifier rubyid_split_userinfo'>split_userinfo</span><span class='lparen'>(</span><span class='id identifier rubyid_ui'>ui</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ui'>ui</span>
  <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='id identifier rubyid_ui'>ui</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>:</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="to_s-instance_method">
  <h3 class='signature'>
  #<strong>to_s</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Constructs String from URI</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1454
1455
1456
1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467
1468
1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485
1486
1487
1488
1489
1490
1491
1492
1493</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 1454</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>if</span> <span class='ivar'>@scheme</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@scheme</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@opaque</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@opaque</span>

  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='ivar'>@registry</span>
      <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@registry</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='ivar'>@host</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_userinfo'>userinfo</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>@</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='ivar'>@host</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@host</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='ivar'>@port</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@port</span> <span class='op'>!=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_port'>default_port</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@port</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_path_query'>path_query</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@fragment</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@fragment</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="user-instance_method">
  <h3 class='signature'>
  #<strong>user</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the user component</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


582
583
584</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 582</span>

<span class='kw'>def</span> <span class='id identifier rubyid_user'>user</span>
  <span class='ivar'>@user</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="user=-instance_method">
  <h3 class='signature'>
  #<strong>user=</strong>(user)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>public setter for the <code>user</code> component. (with validation)</p>

<p>see also <a href="" title="URI::Generic (class)">URI::Generic</a>.check_user</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://john:S3nsit1ve@my.example.com</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sam</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'># =&gt;  &quot;sam&quot;
</span><span class='id identifier rubyid_uri'>uri</span>
<span class='comment'>#=&gt; #&lt;URI::HTTP:0x00000000881d90 URL:http://sam:V3ry_S3nsit1ve@my.example.com&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


483
484
485
486
487</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 483</span>

<span class='kw'>def</span> <span class='id identifier rubyid_user='>user=</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_user'>check_user</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_user'>set_user</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='comment'># returns user
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="userinfo-instance_method">
  <h3 class='signature'>
  #<strong>userinfo</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the userinfo, either as &#39;user&#39; or &#39;user:password&#39;</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


571
572
573
574
575
576
577
578
579</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 571</span>

<span class='kw'>def</span> <span class='id identifier rubyid_userinfo'>userinfo</span>
  <span class='kw'>if</span> <span class='ivar'>@user</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>nil</span>
  <span class='kw'>elsif</span> <span class='ivar'>@password</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='ivar'>@user</span>
  <span class='kw'>else</span>
    <span class='ivar'>@user</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='ivar'>@password</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="userinfo=-instance_method">
  <h3 class='signature'>
  #<strong>userinfo=</strong>(userinfo)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Sets userinfo, argument is string like &#39;name:pass&#39;</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


451
452
453
454
455
456
457
458</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/generic.rb', line 451</span>

<span class='kw'>def</span> <span class='id identifier rubyid_userinfo='>userinfo=</span><span class='lparen'>(</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_userinfo'>userinfo</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_check_userinfo'>check_userinfo</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_set_userinfo'>set_userinfo</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_userinfo'>userinfo</span><span class='rparen'>)</span>
  <span class='comment'># returns userinfo
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>