<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: URI &mdash; uri Ruby-2.0.0 p247</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "URI",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.0.0</a> &raquo; 
          <a href='index.html'>uri</a> &raquo; 
          <a href='_index.html'>Index (U)</a> &raquo; 
          <span class='title'>URI</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='module'>

<h1>Module: URI</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>

  <tr>
    <td class='box_1'>Child Modules:</td>
    <td>
      <a href="URI/Escape.html" title="URI::Escape (module)">Escape</a>,
    <a href="URI/REGEXP.html" title="URI::REGEXP (module)">REGEXP</a>,
    <a href="URI/Util.html" title="URI::Util (module)">Util</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Classes:</td>
    <td>
      <a href="URI/FTP.html" title="URI::FTP (class)">FTP</a>,
    <a href="URI/Generic.html" title="URI::Generic (class)">Generic</a>,
    <a href="URI/HTTP.html" title="URI::HTTP (class)">HTTP</a>,
    <a href="URI/HTTPS.html" title="URI::HTTPS (class)">HTTPS</a>,
    <a href="URI/LDAP.html" title="URI::LDAP (class)">LDAP</a>,
    <a href="URI/LDAPS.html" title="URI::LDAPS (class)">LDAPS</a>,
    <a href="URI/MailTo.html" title="URI::MailTo (class)">MailTo</a>,
    <a href="URI/Parser.html" title="URI::Parser (class)">Parser</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Child Exceptions:</td>
    <td>
      <a href="URI/BadURIError.html" title="URI::BadURIError (class)">BadURIError</a>,
    <a href="URI/Error.html" title="URI::Error (class)">Error</a>,
    <a href="URI/InvalidComponentError.html" title="URI::InvalidComponentError (class)">InvalidComponentError</a>,
    <a href="URI/InvalidURIError.html" title="URI::InvalidURIError (class)">InvalidURIError</a>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Extended by:</td>
    <td><a href="URI/Escape.html" title="URI::Escape (module)">Escape</a>
    </td>
  </tr>
  <tr>
    <td class='box_1'>Includes:</td>
    <td><a href="URI/REGEXP.html" title="URI::REGEXP (module)">REGEXP</a>
    </td>
  </tr>


  <tr>
    <td class='box_1'>Included in:</td>
    <td><a href="URI/Generic.html" title="URI::Generic (class)">Generic</a>
    </td>
  </tr>

  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
uri.rb<span class='defines'>,<br />uri/common.rb,<br /> uri/ftp.rb,<br /> uri/generic.rb,<br /> uri/http.rb,<br /> uri/https.rb,<br /> uri/ldap.rb,<br /> uri/ldaps.rb,<br /> uri/mailto.rb</span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>URI is a module providing classes to handle Uniform Resource Identifiers
(<a href="http://tools.ietf.org/html/rfc2396">RFC2396</a>)</p>

<h3 id="label-Features">Features</h3>
<ul><li>
<p>Uniform handling of handling URIs</p>
</li><li>
<p>Flexibility to introduce custom URI schemes</p>
</li><li>
<p>Flexibility to have an alternate <a href="URI/Parser.html" title="URI::Parser (class)">Parser</a> (or just different patterns
and regexp&#39;s)</p>
</li></ul>

<h3 id="label-Basic+example">Basic example</h3>

<pre class="code ruby"><code class="ruby">require &#39;uri&#39;

uri = URI(&quot;http://foo.com/posts?id=30&amp;limit=5#time=1305298413&quot;)
#=&gt; #&lt;URI::HTTP:0x00000000b14880
      URL:http://foo.com/posts?id=30&amp;limit=5#time=1305298413&gt;
uri.scheme
#=&gt; &quot;http&quot;
uri.host
#=&gt; &quot;foo.com&quot;
uri.path
#=&gt; &quot;/posts&quot;
uri.query
#=&gt; &quot;id=30&amp;limit=5&quot;
uri.fragment
#=&gt; &quot;time=1305298413&quot;

uri.to_s
#=&gt; &quot;http://foo.com/posts?id=30&amp;limit=5#time=1305298413&quot;</code></pre>

<h3 id="label-Adding+custom+URIs">Adding custom URIs</h3>

<pre class="code ruby"><code class="ruby">module URI
  class RSYNC &lt; Generic
    DEFAULT_PORT = 873
  end
  @@schemes[&#39;RSYNC&#39;] = RSYNC
end
#=&gt; URI::RSYNC

URI.scheme_list
#=&gt; {&quot;FTP&quot;=&gt;URI::FTP, &quot;HTTP&quot;=&gt;URI::HTTP, &quot;HTTPS&quot;=&gt;URI::HTTPS,
     &quot;LDAP&quot;=&gt;URI::LDAP, &quot;LDAPS&quot;=&gt;URI::LDAPS, &quot;MAILTO&quot;=&gt;URI::MailTo,
     &quot;RSYNC&quot;=&gt;URI::RSYNC}

uri = URI(&quot;rsync://rsync.foo.com&quot;)
#=&gt; #&lt;URI::RSYNC:0x00000000f648c8 URL:rsync://rsync.foo.com&gt;</code></pre>

<h3 id="label-RFC+References">RFC References</h3>

<p>A good place to view an RFC spec is <a
href="http://www.ietf.org/rfc.html">www.ietf.org/rfc.html</a></p>

<p>Here is a list of all related RFC&#39;s.</p>
<ul><li>
<p><a href="http://tools.ietf.org/html/rfc822">RFC822</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc1738">RFC1738</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2255">RFC2255</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2368">RFC2368</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2373">RFC2373</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2396">RFC2396</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc2732">RFC2732</a></p>
</li><li>
<p><a href="http://tools.ietf.org/html/rfc3986">RFC3986</a></p>
</li></ul>

<h3 id="label-Class+tree">Class tree</h3>
<ul><li>
<p><a href="URI/Generic.html" title="URI::Generic (class)">Generic</a> (in uri/generic.rb)</p>
<ul><li>
<p>URI::FTP - (in uri/ftp.rb)</p>
</li><li>
<p>URI::HTTP - (in uri/http.rb)</p>
<ul><li>
<p>URI::HTTPS - (in uri/https.rb)</p>
</li></ul>
</li><li>
<p>URI::LDAP - (in uri/ldap.rb)</p>
<ul><li>
<p>URI::LDAPS - (in uri/ldaps.rb)</p>
</li></ul>
</li><li>
<p>URI::MailTo - (in uri/mailto.rb)</p>
</li></ul>
</li><li>
<p><a href="URI/Parser.html" title="URI::Parser (class)">Parser</a> - (in uri/common.rb)</p>
</li><li>
<p><a href="URI/REGEXP.html" title="URI::REGEXP (module)">REGEXP</a> - (in uri/common.rb)</p>
<ul><li>
<p>URI::REGEXP::PATTERN - (in uri/common.rb)</p>
</li></ul>
</li><li>
<p><a href="URI/Util.html" title="URI::Util (module)">Util</a> - (in uri/common.rb)</p>
</li><li>
<p><a href="URI/Escape.html" title="URI::Escape (module)">Escape</a> - (in uri/common.rb)</p>
</li><li>
<p><a href="URI/Error.html" title="URI::Error (class)">Error</a> - (in uri/common.rb)</p>
<ul><li>
<p>URI::InvalidURIError - (in uri/common.rb)</p>
</li><li>
<p>URI::InvalidComponentError - (in uri/common.rb)</p>
</li><li>
<p>URI::BadURIError - (in uri/common.rb)</p>
</li></ul>
</li></ul>

<h3 id="label-Copyright+Info">Copyright Info</h3>
<dl class="rdoc-list note-list"><dt>Author
<dd>
<p>Akira Yamada &lt;akira@ruby-lang.org&gt;</p>
</dd><dt>Documentation
<dd>
<p>Akira Yamada &lt;akira@ruby-lang.org&gt; Dmitry V. Sabanin
&lt;sdmitry@lrn.ru&gt; Vincent Batts &lt;vbatts@hashbangbash.com&gt;</p>
</dd><dt>License
<dd>
<p>Copyright © 2001 akira yamada &lt;akira@ruby-lang.org&gt; You can
redistribute it and/or modify it under the same term as Ruby.</p>
</dd><dt>Revision
<dd>
<p>$Id: uri.rb 31555 2011-05-13 20:03:21Z drbrain $</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='schemes-classvariable'>
      @@schemes =
    </dt>
    <dd>
            <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='DEFAULT_PARSER-constant'>
      DEFAULT_PARSER =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p><a href="URI/Parser.html" title="URI::Parser (class)">Parser</a>.new</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre>
    </dd>
    <dt id='HTML5ASCIIINCOMPAT-constant'>
      HTML5ASCIIINCOMPAT =
    </dt>
    <dd>
            <pre class='code'><span class='lbracket'>[</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_7</span><span class='comma'>,</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_16BE</span><span class='comma'>,</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_16LE</span><span class='comma'>,</span>
<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_32BE</span><span class='comma'>,</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_32LE</span><span class='rbracket'>]</span></pre>
    </dd>
    <dt id='TBLDECWWWCOMP_-constant'>
      TBLDECWWWCOMP_ =
    </dt>
    <dd>
            <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='TBLENCWWWCOMP_-constant'>
      TBLENCWWWCOMP_ =
    </dt>
    <dd>
            <pre class='code'><span class='lbrace'>{</span><span class='rbrace'>}</span></pre>
    </dd>
    <dt id='VERSION-constant'>
      VERSION =
    </dt>
    <dd>
            <pre class='code'><span class='const'>VERSION_CODE</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>..</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='VERSION_CODE-constant'>
      VERSION_CODE =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>:stopdoc:</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>000911</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre>
    </dd>
    <dt id='WFKV_-constant'>
      WFKV_ =
    </dt>
    <dd>
            <pre class='code'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(?:[^%#=;&amp;]*(?:%\h\h[^%#=;&amp;]*)*)</span><span class='tstring_end'>&#39;</span></span></pre>
    </dd>
  </dl>





<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#decode_www_form-class_method" title=".decode_www_form (class method)">.<strong>decode_www_form</strong>(str, enc = Encoding::UTF_8)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Decode URL-encoded form data from given <code>str</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#decode_www_form_component-class_method" title=".decode_www_form_component (class method)">.<strong>decode_www_form_component</strong>(str, enc = Encoding::UTF_8)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Decode given <code>str</code> of URL-encoded form data.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#encode_www_form-class_method" title=".encode_www_form (class method)">.<strong>encode_www_form</strong>(enum)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generate URL-encoded form data from given <code>enum</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#encode_www_form_component-class_method" title=".encode_www_form_component (class method)">.<strong>encode_www_form_component</strong>(str)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Encode given <code>str</code> to URL-encoded form data.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract-class_method" title=".extract (class method)">.<strong>extract</strong>(str, schemes = nil, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Synopsis">Synopsis</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#join-class_method" title=".join (class method)">.<strong>join</strong>(*str)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Synopsis">Synopsis</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#parse-class_method" title=".parse (class method)">.<strong>parse</strong>(uri)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Synopsis">Synopsis</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#regexp-class_method" title=".regexp (class method)">.<strong>regexp</strong>(schemes = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Synopsis">Synopsis</h2>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#scheme_list-class_method" title=".scheme_list (class method)">.<strong>scheme_list</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns a Hash of the defined schemes</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#split-class_method" title=".split (class method)">.<strong>split</strong>(uri)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<h2 id="label-Synopsis">Synopsis</h2>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="URI/Escape.html" title="URI::Escape (module)">Escape</a></h3>
  <p class="inherited"><a href="URI/Escape.html#escape-instance_method" title="URI::Escape#escape (method)">escape</a>, <a href="URI/Escape.html#unescape-instance_method" title="URI::Escape#unescape (method)">unescape</a></p>

  
  
  
  
  
  <h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="decode_www_form-class_method">
  <h3 class='signature first'>
  .<strong>decode_www_form</strong>(str, enc = Encoding::UTF_8)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Decode URL-encoded form data from given <code>str</code>.</p>

<p>This decodes application/x-www-form-urlencoded data and returns array of
key-value array. This internally uses <a href="#decode_www_form_component-class_method" title="URI.decode_www_form_component (method)">decode_www_form_component</a>.</p>

<p><em>charset</em> hack is not supported now because the mapping from given
charset to Ruby&#39;s encoding is not clear yet. see also <a
href="http://www.w3.org/TR/html5/syntax.html#character-encodings-0">www.w3.org/TR/html5/syntax.html#character-encodings-0</a></p>

<p>This refers <a
href="http://www.w3.org/TR/html5/forms.html#url-encoded-form-data">www.w3.org/TR/html5/forms.html#url-encoded-form-data</a></p>

<p>ary = URI.decode_www_form(“a=1&amp;a=2&amp;b=3”) p ary                 
#=&gt; [[&#39;a&#39;, &#39;1&#39;], [&#39;a&#39;, &#39;2&#39;],
[&#39;b&#39;, &#39;3&#39;]] p ary.assoc(&#39;a&#39;).last  #=&gt;
&#39;1&#39; p ary.assoc(&#39;b&#39;).last  #=&gt; &#39;3&#39; p
ary.rassoc(&#39;a&#39;).last #=&gt; &#39;2&#39; p <a href="ary">Hash</a>   
# =&gt; <code>“a”=>“2”,</code></p>

<p>See <a href="#decode_www_form_component-class_method" title="URI.decode_www_form_component (method)">decode_www_form_component</a>, <a href="#encode_www_form-class_method" title="URI.encode_www_form (method)">encode_www_form</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


972
973
974
975
976
977
978
979
980
981
982</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 972</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_decode_www_form'>decode_www_form</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_enc'>enc</span><span class='op'>=</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>unless</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A</span><span class='embexpr_beg'>#{</span><span class='const'>WFKV_</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='const'>WFKV_</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?:[;&amp;]</span><span class='embexpr_beg'>#{</span><span class='const'>WFKV_</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='const'>WFKV_</span><span class='embexpr_end'>}</span><span class='tstring_content'>)*\z</span><span class='regexp_end'>/o</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_str'>str</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid data of application/x-www-form-urlencoded (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='backref'>$&amp;</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([^=;&amp;]+)=([^;&amp;]*)</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_ary'>ary</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_decode_www_form_component'>decode_www_form_component</span><span class='lparen'>(</span><span class='backref'>$1</span><span class='comma'>,</span> <span class='id identifier rubyid_enc'>enc</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_decode_www_form_component'>decode_www_form_component</span><span class='lparen'>(</span><span class='backref'>$2</span><span class='comma'>,</span> <span class='id identifier rubyid_enc'>enc</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ary'>ary</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="decode_www_form_component-class_method">
  <h3 class='signature'>
  .<strong>decode_www_form_component</strong>(str, enc = Encoding::UTF_8)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Decode given <code>str</code> of URL-encoded form data.</p>

<p>This decodes + to SP.</p>

<p>See <a href="#encode_www_form_component-class_method" title="URI.encode_www_form_component (method)">encode_www_form_component</a>, <a href="#decode_www_form-class_method" title="URI.decode_www_form (method)">decode_www_form</a></p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt>ArgumentError</tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


897
898
899
900</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 897</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_decode_www_form_component'>decode_www_form_component</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_enc'>enc</span><span class='op'>=</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid %-encoding (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[^%]*(?:%\h\h[^%]*)*\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_str'>str</span>
  <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\+|%\h\h</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'>TBLDECWWWCOMP_</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='id identifier rubyid_enc'>enc</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="encode_www_form-class_method">
  <h3 class='signature'>
  .<strong>encode_www_form</strong>(enum)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generate URL-encoded form data from given <code>enum</code>.</p>

<p>This generates application/x-www-form-urlencoded data defined in HTML5 from
given an Enumerable object.</p>

<p>This internally uses URI.encode_www_form_component(str).</p>

<p>This method doesn&#39;t convert the encoding of given items, so convert
them before call this method if you want to send data as other than
original encoding or mixed encoding data. (Strings which are encoded in an
HTML5 ASCII incompatible encoding are converted to UTF-8.)</p>

<p>This method doesn&#39;t handle files.  When you send a file, use
multipart/form-data.</p>

<p>This is an implementation of <a
href="http://www.w3.org/TR/html5/forms.html#url-encoded-form-data">www.w3.org/TR/html5/forms.html#url-encoded-form-data</a></p>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_encode_www_form'>encode_www_form</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lang</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; &quot;q=ruby&amp;lang=en&quot;
</span><span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_encode_www_form'>encode_www_form</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>q</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lang</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; &quot;q=ruby&amp;lang=en&quot;
</span><span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_encode_www_form'>encode_www_form</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>q</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>perl</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lang</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; &quot;q=ruby&amp;q=perl&amp;lang=en&quot;
</span><span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_encode_www_form'>encode_www_form</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>perl</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lang</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>en</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; &quot;q=ruby&amp;q=perl&amp;lang=en&quot;
</span></code></pre>

<p>See <a href="#encode_www_form_component-class_method" title="URI.encode_www_form_component (method)">encode_www_form_component</a>, <a href="#decode_www_form-class_method" title="URI.decode_www_form (method)">decode_www_form</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 930</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_encode_www_form'>encode_www_form</span><span class='lparen'>(</span><span class='id identifier rubyid_enum'>enum</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_encode_www_form_component'>encode_www_form_component</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_ary</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_to_ary'>to_ary</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_encode_www_form_component'>encode_www_form_component</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
        <span class='kw'>unless</span> <span class='id identifier rubyid_w'>w</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
          <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span>
          <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_encode_www_form_component'>encode_www_form_component</span><span class='lparen'>(</span><span class='id identifier rubyid_w'>w</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_encode_www_form_component'>encode_www_form_component</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_encode_www_form_component'>encode_www_form_component</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="encode_www_form_component-class_method">
  <h3 class='signature'>
  .<strong>encode_www_form_component</strong>(str)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Encode given <code>str</code> to URL-encoded form data.</p>

<p>This method doesn&#39;t convert *, -, ., 0-9, A-Z, _, a-z, but does convert
SP (ASCII space) to + and converts others to %XX.</p>

<p>This is an implementation of <a
href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#url-encoded-form-data">www.w3.org/TR/html5/association-of-controls-and-forms.html#url-encoded-form-data</a></p>

<p>See <a href="#decode_www_form_component-class_method" title="URI.decode_www_form_component (method)">decode_www_form_component</a>, <a href="#encode_www_form-class_method" title="URI.encode_www_form (method)">encode_www_form</a></p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


880
881
882
883
884
885
886
887
888
889
890</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 880</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_encode_www_form_component'>encode_www_form_component</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>if</span> <span class='const'>HTML5ASCIIINCOMPAT</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_encode'>encode</span><span class='lparen'>(</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>ASCII_8BIT</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[^*\-.0-9A-Z_a-z]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'>TBLENCWWWCOMP_</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>US_ASCII</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extract-class_method">
  <h3 class='signature'>
  .<strong>extract</strong>(str, schemes = nil, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Synopsis">Synopsis</h2>

<pre class="code ruby"><code class="ruby">URI::extract(str[, schemes][,&amp;blk])</code></pre>

<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>str</code>
<dd>
<p>String to extract URIs from.</p>
</dd><dt><code>schemes</code>
<dd>
<p>Limit URI matching to a specific schemes.</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Extracts URIs from a string. If block given, iterates through all matched
URIs. Returns nil if block given or array with matches.</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&quot;</span></span>

<span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text here http://foo.example.org/bla and here mailto:test@example.com and here also.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; [&quot;http://foo.example.com/bla&quot;, &quot;mailto:test@example.com&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


812
813
814</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 812</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_schemes'>schemes</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'>DEFAULT_PARSER</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_schemes'>schemes</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="join-class_method">
  <h3 class='signature'>
  .<strong>join</strong>(*str)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Synopsis">Synopsis</h2>

<pre class="code ruby"><code class="ruby">URI::join(str[, str, ...])</code></pre>

<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>str</code>
<dd>
<p>String(s) to work with</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Joins URIs.</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_p'>p</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>main.rbx</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; #&lt;URI::HTTP:0x2022ac02 URL:http://localhost/main.rbx&gt;
</span>
<span class='id identifier rubyid_p'>p</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; #&lt;URI::HTTP:0x01ab80a0 URL:http://example.com/foo&gt;
</span>
<span class='id identifier rubyid_p'>p</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/bar</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; #&lt;URI::HTTP:0x01aaf0b0 URL:http://example.com/bar&gt;
</span>
<span class='id identifier rubyid_p'>p</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; #&lt;URI::HTTP:0x801a92af0 URL:http://example.com/bar&gt;
</span>
<span class='id identifier rubyid_p'>p</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/foo/</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; #&lt;URI::HTTP:0x80135a3a0 URL:http://example.com/foo/bar&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


784
785
786</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 784</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
  <span class='const'>DEFAULT_PARSER</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="parse-class_method">
  <h3 class='signature'>
  .<strong>parse</strong>(uri)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Synopsis">Synopsis</h2>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_uri_str'>uri_str</span><span class='rparen'>)</span>
</code></pre>

<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>uri_str</code>
<dd>
<p>String with URI.</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Creates one of the URI&#39;s subclasses instance from the string.</p>

<h2 id="label-Raises">Raises</h2>

<p><a href="URI/InvalidURIError.html" title="URI::InvalidURIError (class)">InvalidURIError</a></p>

<pre class="code ruby"><code class="ruby">Raised if URI given is not a correct one.</code></pre>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.ruby-lang.org/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_uri'>uri</span>
<span class='comment'># =&gt; #&lt;URI::HTTP:0x202281be URL:http://www.ruby-lang.org/&gt;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span>
<span class='comment'># =&gt; &quot;http&quot;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>
<span class='comment'># =&gt; &quot;www.ruby-lang.org&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


746
747
748</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 746</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
  <span class='const'>DEFAULT_PARSER</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="regexp-class_method">
  <h3 class='signature'>
  .<strong>regexp</strong>(schemes = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Synopsis">Synopsis</h2>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_match_schemes'>match_schemes</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>match_schemes</code>
<dd>
<p>Array of schemes. If given, resulting regexp matches to URIs whose scheme
is one of the match_schemes.</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Returns a Regexp object which matches to URI-like strings. The Regexp
object returned by this method includes arbitrary number of capture group
(parentheses).  Never rely on it&#39;s number.</p>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby">require &#39;uri&#39;

# extract first URI from html_string
html_string.slice(URI.regexp)

# remove ftp URIs
html_string.sub(URI.regexp([&#39;ftp&#39;])

# You should not rely on the number of parentheses
html_string.scan(URI.regexp) do |*matches|
  p $&amp;
end</code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


847
848
849</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 847</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span><span class='lparen'>(</span><span class='id identifier rubyid_schemes'>schemes</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'>DEFAULT_PARSER</span><span class='period'>.</span><span class='id identifier rubyid_make_regexp'>make_regexp</span><span class='lparen'>(</span><span class='id identifier rubyid_schemes'>schemes</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="scheme_list-class_method">
  <h3 class='signature'>
  .<strong>scheme_list</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a Hash of the defined schemes</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


659
660
661</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 659</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scheme_list'>scheme_list</span>
  <span class='cvar'>@@schemes</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="split-class_method">
  <h3 class='signature'>
  .<strong>split</strong>(uri)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<h2 id="label-Synopsis">Synopsis</h2>

<pre class="code ruby"><code class="ruby"><span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
</code></pre>

<h2 id="label-Args">Args</h2>
<dl class="rdoc-list note-list"><dt><code>uri</code>
<dd>
<p>String with URI.</p>
</dd></dl>

<h2 id="label-Description">Description</h2>

<p>Splits the string on following parts and returns array with result:</p>

<pre class="code ruby"><code class="ruby">* Scheme
* Userinfo
* Host
* Port
* Registry
* Path
* Opaque
* Query
* Fragment</code></pre>

<h2 id="label-Usage">Usage</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uri</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_p'>p</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.ruby-lang.org/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># =&gt; [&quot;http&quot;, nil, &quot;www.ruby-lang.org&quot;, nil, nil, &quot;/&quot;, nil, nil, nil]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


711
712
713</pre>
  <div class='lines_code'>
<pre class='code ruby'
<span class='info file'># File 'uri/common.rb', line 711</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
  <span class='const'>DEFAULT_PARSER</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.0 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>