<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: DRb::DRbServer &mdash; drb Ruby-2.0.0 p247</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "DRb::DRbServer",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.0.0</a> &raquo; 
          <a href='../index.html'>drb</a> &raquo; 
          <a href='../_index.html'>Index (D)</a> &raquo; 
        #  <a href="../DRb.html" title="DRb (module)">DRb</a> &raquo; 
          <span class='title'>DRbServer</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: DRb::DRbServer</h1>

<div class="box_info">
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class='inheritName'>Object</span>
        <ul class='fullTree'>
          <li>Object</li>
            <li class='next'>DRb::DRbServer</li>
        </ul>
        <a href='#' class='inheritanceTree'>show all</a>
    </dd>
  </dl>



  <dl>
    <dt>Defined in:</dt>
    <dd>drb/drb.rb<span class='defines'>,<br />
  drb/invokemethod.rb</span>
</dd>
  </dl>
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Class representing a drb server instance.</p>

<p>A DRbServer must be running in the local process before any incoming dRuby
calls can be accepted, or any local objects can be passed as dRuby
references to remote processes, even if those local objects are never
actually called remotely. You do not need to start a DRbServer in the local
process if you are only making outgoing dRuby calls passing marshalled
parameters.</p>

<p>Unless multiple servers are being used, the local DRbServer is normally
started by calling <a href="../DRb.html#start_service-class_method" title="DRb.start_service (method)">start_service</a>.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2>Defined Under Namespace</h2>

  <p class='children'><strong class='modules'>Modules:</strong>
    <a href="DRbServer/InvokeMethod18Mixin.html" title="DRb::DRbServer::InvokeMethod18Mixin (module)">InvokeMethod18Mixin</a>
  </p>
  <p class='children'><strong class='classes'>Classes:</strong>
    <a href="DRbServer/InvokeMethod.html" title="DRb::DRbServer::InvokeMethod (class)">InvokeMethod</a>
  </p>

<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='acl-classvariable'>
      @@acl =
    </dt>
    <dd>
            <pre class='code'><span class='kw'>nil</span></pre>
    </dd>
    <dt id='argc_limit-classvariable'>
      @@argc_limit =
    </dt>
    <dd>
            <pre class='code'><span class='int'>256</span></pre>
    </dd>
    <dt id='idconv-classvariable'>
      @@idconv =
    </dt>
    <dd>
            <pre class='code'><span class='const'>DRbIdConv</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre>
    </dd>
    <dt id='load_limit-classvariable'>
      @@load_limit =
    </dt>
    <dd>
            <pre class='code'><span class='int'>256</span> <span class='op'>*</span> <span class='int'>102400</span></pre>
    </dd>
    <dt id='safe_level-classvariable'>
      @@safe_level =
    </dt>
    <dd>
            <pre class='code'><span class='int'>0</span></pre>
    </dd>
    <dt id='secondary_server-classvariable'>
      @@secondary_server =
    </dt>
    <dd>
            <pre class='code'><span class='kw'>nil</span></pre>
    </dd>
    <dt id='verbose-classvariable'>
      @@verbose =
    </dt>
    <dd>
            <pre class='code'><span class='kw'>false</span></pre>
    </dd>
    <dt id='INSECURE_METHOD-constant'>
      INSECURE_METHOD =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>List of insecure methods.</p>

<p>These methods are not callable via dRuby.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='lbracket'>[</span>
  <span class='symbol'>:__send__</span>
<span class='rbracket'>]</span></pre>
    </dd>
  </dl>



<h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#config-instance_method" title="#config (instance method)">#<strong>config</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The configuration of this DRbServer</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#front-instance_method" title="#front (instance method)">#<strong>front</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The front object of the DRbServer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#safe_level-instance_method" title="#safe_level (instance method)">#<strong>safe_level</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The safe level for this server.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#thread-instance_method" title="#thread (instance method)">#<strong>thread</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The main thread of this DRbServer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#uri-instance_method" title="#uri (instance method)">#<strong>uri</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The URI of this DRbServer.</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#default_acl-class_method" title=".default_acl (class method)">.<strong>default_acl</strong>(acl)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the default access control list to <code>acl</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_argc_limit-class_method" title=".default_argc_limit (class method)">.<strong>default_argc_limit</strong>(argc)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the default value for the :argc_limit option.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_id_conv-class_method" title=".default_id_conv (class method)">.<strong>default_id_conv</strong>(idconv)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the default value for the :id_conv option.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_load_limit-class_method" title=".default_load_limit (class method)">.<strong>default_load_limit</strong>(sz)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the default value for the :load_limit option.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#default_safe_level-class_method" title=".default_safe_level (class method)">.<strong>default_safe_level</strong>(level)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the default safe level to <code>level</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(uri = nil, front = nil, config_or_acl = nil)  &#x21d2; DRbServer </a>
      </span>
      <span class='note title constructor'>constructor</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Create a new DRbServer instance.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#verbose-class_method" title=".verbose (class method)">.<strong>verbose</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Get the default value of the :verbose option.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#verbose%3D-class_method" title=".verbose= (class method)">.<strong>verbose=</strong>(on)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set the default value of the :verbose option.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#alive%3F-instance_method" title="#alive? (instance method)">#<strong>alive?</strong>  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Is this server alive?</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#any_to_s-instance_method" title="#any_to_s (instance method)">#<strong>any_to_s</strong>(obj)  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Coerce an object to a string, providing our own representation if to_s is
not defined for the object.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_insecure_method-instance_method" title="#check_insecure_method (instance method)">#<strong>check_insecure_method</strong>(obj, msg_id)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Check that a method is callable via dRuby.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#here%3F-instance_method" title="#here? (instance method)">#<strong>here?</strong>(uri)  &#x21d2; Boolean </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Is <code>uri</code> the URI for this server?</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#insecure_method%3F-instance_method" title="#insecure_method? (instance method)">#<strong>insecure_method?</strong>(msg_id)  &#x21d2; Boolean </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Has a method been included in the list of insecure methods?</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#main_loop-instance_method" title="#main_loop (instance method)">#<strong>main_loop</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>The main loop performed by a DRbServer&#39;s internal thread.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>  </a>
      </span>
      <span class='note title private'>private</span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Starts the DRb main loop in a new thread.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#stop_service-instance_method" title="#stop_service (instance method)">#<strong>stop_service</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Stop this server.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_id-instance_method" title="#to_id (instance method)">#<strong>to_id</strong>(obj)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Convert a local object to a dRuby reference.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_obj-instance_method" title="#to_obj (instance method)">#<strong>to_obj</strong>(ref)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Convert a dRuby reference to the local object it refers to.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#verbose-instance_method" title="#verbose (instance method)">#<strong>verbose</strong>  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Get whether the server is in verbose mode.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#verbose%3D-instance_method" title="#verbose= (instance method)">#<strong>verbose=</strong>(v)  </a>
      </span>
      

      <span class='summary_desc'>
        <div class='inline'>
<p>Set whether to operate in verbose mode.</p>
</div>
      </span>
    </li>
  </ul>

<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(uri = nil, front = nil, config_or_acl = nil)  &#x21d2; <tt><a href="" title="DRb::DRbServer (class)">DRbServer</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a new DRbServer instance.</p>

<p><code>uri</code> is the URI to bind to.  This is normally of the form
&#39;druby://&lt;hostname&gt;:&lt;port&gt;&#39; where &lt;hostname&gt; is a
hostname of the local machine.  If nil, then the system&#39;s default
hostname will be bound to, on a port selected by the system; these value
can be retrieved from the <code>uri</code> attribute.  &#39;druby:&#39;
specifies the default dRuby transport protocol: another protocol, such as
&#39;drbunix:&#39;, can be specified instead.</p>

<p><code>front</code> is the front object for the server, that is, the object
to which remote method calls on the server will be passed.  If nil, then
the server will not accept remote method calls.</p>

<p>If <code>config_or_acl</code> is a hash, it is the configuration to use for
this server.  The following options are recognised:</p>
<dl class="rdoc-list note-list"><dt>:idconv 
<dd>
<p>an id-to-object conversion object.  This defaults to an instance of the
class DRb::DRbIdConv.</p>
</dd><dt>:verbose 
<dd>
<p>if true, all unsuccessful remote calls on objects in the server will be
logged to $stdout. false by default.</p>
</dd><dt>:tcp_acl 
<dd>
<p>the access control list for this server.  See the ACL class from the main
dRuby distribution.</p>
</dd><dt>:load_limit 
<dd>
<p>the maximum message size in bytes accepted by the server.  Defaults to 25
MB (26214400).</p>
</dd><dt>:argc_limit 
<dd>
<p>the maximum number of arguments to a remote method accepted by the server. 
Defaults to 256.</p>
</dd><dt>:safe_level 
<dd>
<p>The safe level of the DRbServer.  The attribute sets $SAFE for methods
performed in the main_loop. Defaults to 0.</p>
</dd></dl>

<p>The default values of these options can be modified on a class-wide basis
by the class methods <code>#default_argc_limit</code>, <code>#default_load_limit</code>,
<code>#default_acl</code>, <code>#default_id_conv</code>, and <a href="#verbose%3D-instance_method" title="DRb::DRbServer#verbose= (method)">#verbose=</a></p>

<p>If <code>config_or_acl</code> is not a hash, but is not nil, it is assumed
to be the access control list for this server. See the :tcp_acl option for
more details.</p>

<p>If no other server is currently set as the primary server, this will become
the primary server.</p>

<p>The server will immediately start running in its own thread.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1361</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_front'>front</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span>
        <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_acl'>acl</span> <span class='op'>=</span> <span class='id identifier rubyid_config_or_acl'>config_or_acl</span> <span class='op'>||</span> <span class='cvar'>@@acl</span>
        <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='lbrace'>{</span>
          <span class='symbol'>:tcp_acl</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_acl'>acl</span>
        <span class='rbrace'>}</span>
      <span class='kw'>end</span>

      <span class='ivar'>@config</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_make_config'>make_config</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span>

      <span class='ivar'>@protocol</span> <span class='op'>=</span> <span class='const'>DRbProtocol</span><span class='period'>.</span><span class='id identifier rubyid_open_server'>open_server</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='comma'>,</span> <span class='ivar'>@config</span><span class='rparen'>)</span>
      <span class='ivar'>@uri</span> <span class='op'>=</span> <span class='ivar'>@protocol</span><span class='period'>.</span><span class='id identifier rubyid_uri'>uri</span>
      <span class='ivar'>@exported_uri</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='ivar'>@uri</span><span class='rbracket'>]</span>

      <span class='ivar'>@front</span> <span class='op'>=</span> <span class='id identifier rubyid_front'>front</span>
      <span class='ivar'>@idconv</span> <span class='op'>=</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:idconv</span><span class='rbracket'>]</span>
      <span class='ivar'>@safe_level</span> <span class='op'>=</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:safe_level</span><span class='rbracket'>]</span>

      <span class='ivar'>@grp</span> <span class='op'>=</span> <span class='const'>ThreadGroup</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
      <span class='ivar'>@thread</span> <span class='op'>=</span> <span class='id identifier rubyid_run'>run</span>

      <span class='const'>DRb</span><span class='period'>.</span><span class='id identifier rubyid_regist_server'>regist_server</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="config-instance_method">
  <h3 class='signature first'>
  #<strong>config</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The configuration of this DRbServer</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1404</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1404</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:config</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="front-instance_method">
  <h3 class='signature'>
  #<strong>front</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The front object of the DRbServer.</p>

<p>This object receives remote method calls made on the server&#39;s URI
alone, with an object id.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1401</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1401</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:front</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="safe_level-instance_method">
  <h3 class='signature'>
  #<strong>safe_level</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The safe level for this server.  This is a number corresponding to $SAFE.</p>

<p>The default safe_level is 0</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1410</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1410</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:safe_level</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="thread-instance_method">
  <h3 class='signature'>
  #<strong>thread</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The main thread of this DRbServer.</p>

<p>This is the thread that listens for and accepts connections from clients,
not that handles each client&#39;s request-response session.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1395</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1395</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:thread</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="uri-instance_method">
  <h3 class='signature'>
  #<strong>uri</strong>   <span class="extras">(readonly)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The URI of this DRbServer.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1388</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1388</span>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:uri</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="default_acl-class_method">
  <h3 class='signature first'>
  .<strong>default_acl</strong>(acl)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the default access control list to <code>acl</code>.  The default ACL
is <code>nil</code>.</p>

<p>See also ACL and <code>#new</code>()</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1273
1274
1275</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1273</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_acl'>default_acl</span><span class='lparen'>(</span><span class='id identifier rubyid_acl'>acl</span><span class='rparen'>)</span>
      <span class='cvar'>@@acl</span> <span class='op'>=</span> <span class='id identifier rubyid_acl'>acl</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="default_argc_limit-class_method">
  <h3 class='signature'>
  .<strong>default_argc_limit</strong>(argc)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the default value for the :argc_limit option.</p>

<p>See <code>#new</code>().  The initial default value is 256.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1259
1260
1261</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1259</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_argc_limit'>default_argc_limit</span><span class='lparen'>(</span><span class='id identifier rubyid_argc'>argc</span><span class='rparen'>)</span>
      <span class='cvar'>@@argc_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_argc'>argc</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="default_id_conv-class_method">
  <h3 class='signature'>
  .<strong>default_id_conv</strong>(idconv)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the default value for the :id_conv option.</p>

<p>See <code>#new</code>().  The initial default value is a DRbIdConv instance.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1280
1281
1282</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1280</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_id_conv'>default_id_conv</span><span class='lparen'>(</span><span class='id identifier rubyid_idconv'>idconv</span><span class='rparen'>)</span>
      <span class='cvar'>@@idconv</span> <span class='op'>=</span> <span class='id identifier rubyid_idconv'>idconv</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="default_load_limit-class_method">
  <h3 class='signature'>
  .<strong>default_load_limit</strong>(sz)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the default value for the :load_limit option.</p>

<p>See <code>#new</code>().  The initial default value is 25 MB.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1266
1267
1268</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1266</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_load_limit'>default_load_limit</span><span class='lparen'>(</span><span class='id identifier rubyid_sz'>sz</span><span class='rparen'>)</span>
      <span class='cvar'>@@load_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_sz'>sz</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="default_safe_level-class_method">
  <h3 class='signature'>
  .<strong>default_safe_level</strong>(level)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the default safe level to <code>level</code>.  The default safe level
is 0</p>

<p>See <code>#new</code> for more information.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1287
1288
1289</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1287</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_default_safe_level'>default_safe_level</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span>
      <span class='cvar'>@@safe_level</span> <span class='op'>=</span> <span class='id identifier rubyid_level'>level</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="verbose-class_method">
  <h3 class='signature'>
  .<strong>verbose</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the default value of the :verbose option.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1299
1300
1301</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1299</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_verbose'>verbose</span>
      <span class='cvar'>@@verbose</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="verbose=-class_method">
  <h3 class='signature'>
  .<strong>verbose=</strong>(on)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the default value of the :verbose option.</p>

<p>See <code>#new</code>().  The initial default value is false.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1294
1295
1296</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1294</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_verbose='>verbose=</span><span class='lparen'>(</span><span class='id identifier rubyid_on'>on</span><span class='rparen'>)</span>
      <span class='cvar'>@@verbose</span> <span class='op'>=</span> <span class='id identifier rubyid_on'>on</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section><h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="alive?-instance_method">
  <h3 class='signature first'>
  #<strong>alive?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Is this server alive?</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1423
1424
1425</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1423</span>

<span class='kw'>def</span> <span class='id identifier rubyid_alive?'>alive?</span>
      <span class='ivar'>@thread</span><span class='period'>.</span><span class='id identifier rubyid_alive?'>alive?</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="any_to_s-instance_method">
  <h3 class='signature'>
  #<strong>any_to_s</strong>(obj)   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Coerce an object to a string, providing our own representation if to_s is
not defined for the object.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1486
1487
1488
1489
1490</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1486</span>

<span class='kw'>def</span> <span class='id identifier rubyid_any_to_s'>any_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>rescue</span>
      <span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;%s:0x%lx&gt;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid___id__'>__id__</span><span class='rparen'>)</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="check_insecure_method-instance_method">
  <h3 class='signature'>
  #<strong>check_insecure_method</strong>(obj, msg_id)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Check that a method is callable via dRuby.</p>

<p><code>obj</code> is the object we want to invoke the method on.
<code>msg_id</code> is the method name, as a Symbol.</p>

<p>If the method is an insecure method (see <a href="#insecure_method%3F-instance_method" title="DRb::DRbServer#insecure_method? (method)">#insecure_method?</a>) a
SecurityError is thrown.  If the method is private or undefined, a
NameError is thrown.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt>ArgumentError</tt>)</span>
  </li>
</ul>

</div><div class='source_code h'>
  <pre class='lines_num'>


1500
1501
1502
1503
1504
1505
1506
1507
1508
1509
1510
1511
1512
1513
1514</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1500</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_insecure_method'>check_insecure_method</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='const'>Proc</span> <span class='op'>===</span> <span class='id identifier rubyid_obj'>obj</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_msg_id'>msg_id</span> <span class='op'>==</span> <span class='symbol'>:__drb_yield</span>
      <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_any_to_s'>any_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a symbol</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='const'>Symbol</span> <span class='op'>==</span> <span class='id identifier rubyid_msg_id'>msg_id</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
      <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>SecurityError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>insecure method `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_insecure_method?'>insecure_method?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_private_methods'>private_methods</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_any_to_s'>any_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NoMethodError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>private method `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; called for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_desc'>desc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_protected_methods'>protected_methods</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_any_to_s'>any_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NoMethodError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>protected method `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; called for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_desc'>desc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="here?-instance_method">
  <h3 class='signature'>
  #<strong>here?</strong>(uri)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Is <code>uri</code> the URI for this server?</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1428
1429
1430</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1428</span>

<span class='kw'>def</span> <span class='id identifier rubyid_here?'>here?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
      <span class='ivar'>@exported_uri</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="insecure_method?-instance_method">
  <h3 class='signature'>
  #<strong>insecure_method?</strong>(msg_id)  &#x21d2; <tt>Boolean</tt>  <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Has a method been included in the list of insecure methods?</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1480
1481
1482</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1480</span>

<span class='kw'>def</span> <span class='id identifier rubyid_insecure_method?'>insecure_method?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
      <span class='const'>INSECURE_METHOD</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_msg_id'>msg_id</span><span class='rparen'>)</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="main_loop-instance_method">
  <h3 class='signature'>
  #<strong>main_loop</strong>   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The main loop performed by a DRbServer&#39;s internal thread.</p>

<p>Accepts a connection from a client, and starts up its own thread to handle
it.  This thread loops, receiving requests from the client, invoking them
on a local object, and returning responses, until the client closes the
connection or a local method call fails.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1613
1614
1615
1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634
1635
1636
1637
1638
1639
1640
1641
1642
1643</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1613</span>

<span class='kw'>def</span> <span class='id identifier rubyid_main_loop'>main_loop</span>
      <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='ivar'>@protocol</span><span class='period'>.</span><span class='id identifier rubyid_accept'>accept</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_client'>client</span><span class='op'>|</span>
        <span class='ivar'>@grp</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
        <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>client</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_client'>client</span> <span class='comma'>,</span>
                                  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>server</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='kw'>self</span> <span class='rbrace'>}</span>
        <span class='const'>DRb</span><span class='period'>.</span><span class='id identifier rubyid_mutex'>mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_client_uri'>client_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_uri'>uri</span>
          <span class='ivar'>@exported_uri</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_client_uri'>client_uri</span> <span class='kw'>unless</span> <span class='ivar'>@exported_uri</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_client_uri'>client_uri</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
          <span class='kw'>begin</span>
            <span class='id identifier rubyid_succ'>succ</span> <span class='op'>=</span> <span class='kw'>false</span>
            <span class='id identifier rubyid_invoke_method'>invoke_method</span> <span class='op'>=</span> <span class='const'>InvokeMethod</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_client'>client</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_succ'>succ</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_invoke_method'>invoke_method</span><span class='period'>.</span><span class='id identifier rubyid_perform'>perform</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_succ'>succ</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_verbose'>verbose</span>
              <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_result'>result</span>
              <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
                <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span>
              <span class='kw'>end</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_send_reply'>send_reply</span><span class='lparen'>(</span><span class='id identifier rubyid_succ'>succ</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
          <span class='kw'>ensure</span>
            <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>unless</span> <span class='id identifier rubyid_succ'>succ</span>
            <span class='kw'>if</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stop_service</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
              <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_stop_service'>stop_service</span> <span class='rbrace'>}</span>
            <span class='kw'>end</span>
            <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_succ'>succ</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="run-instance_method">
  <h3 class='signature'>
  #<strong>run</strong>   <span class="extras">(<span class='prvt'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Starts the DRb main loop in a new thread.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1460
1461
1462
1463
1464
1465
1466
1467
1468
1469
1470</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1460</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span>
      <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span> <span class='kw'>do</span>
        <span class='kw'>begin</span>
          <span class='kw'>while</span> <span class='kw'>true</span>
            <span class='id identifier rubyid_main_loop'>main_loop</span>
          <span class='kw'>end</span>
        <span class='kw'>ensure</span>
          <span class='ivar'>@protocol</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='ivar'>@protocol</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="stop_service-instance_method">
  <h3 class='signature'>
  #<strong>stop_service</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Stop this server.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1433
1434
1435
1436
1437
1438
1439
1440</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1433</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stop_service'>stop_service</span>
      <span class='const'>DRb</span><span class='period'>.</span><span class='id identifier rubyid_remove_server'>remove_server</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
      <span class='kw'>if</span>  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>server</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>self</span>
        <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DRb</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stop_service</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>else</span>
        <span class='ivar'>@thread</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_id-instance_method">
  <h3 class='signature'>
  #<strong>to_id</strong>(obj)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert a local object to a dRuby reference.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1450
1451
1452
1453</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1450</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_id'>to_id</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid___id__'>__id__</span> <span class='op'>==</span> <span class='id identifier rubyid_front'>front</span><span class='period'>.</span><span class='id identifier rubyid___id__'>__id__</span>
      <span class='ivar'>@idconv</span><span class='period'>.</span><span class='id identifier rubyid_to_id'>to_id</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="to_obj-instance_method">
  <h3 class='signature'>
  #<strong>to_obj</strong>(ref)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert a dRuby reference to the local object it refers to.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1443
1444
1445
1446
1447</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1443</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_obj'>to_obj</span><span class='lparen'>(</span><span class='id identifier rubyid_ref'>ref</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_front'>front</span> <span class='kw'>if</span> <span class='id identifier rubyid_ref'>ref</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_front'>front</span><span class='lbracket'>[</span><span class='id identifier rubyid_ref'>ref</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='const'>DRbURIOption</span> <span class='op'>===</span> <span class='id identifier rubyid_ref'>ref</span>
      <span class='ivar'>@idconv</span><span class='period'>.</span><span class='id identifier rubyid_to_obj'>to_obj</span><span class='lparen'>(</span><span class='id identifier rubyid_ref'>ref</span><span class='rparen'>)</span>
    <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="verbose-instance_method">
  <h3 class='signature'>
  #<strong>verbose</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get whether the server is in verbose mode.</p>

<p>In verbose mode, failed calls are logged to stdout.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1420</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1420</span>

<span class='kw'>def</span> <span class='id identifier rubyid_verbose'>verbose</span><span class='semicolon'>;</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:verbose</span><span class='rbracket'>]</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>  <section class='method_details' id="verbose=-instance_method">
  <h3 class='signature'>
  #<strong>verbose=</strong>(v)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set whether to operate in verbose mode.</p>

<p>In verbose mode, failed calls are logged to stdout.</p>


  </div>
</div>
<div class="tags">
  
</div><div class='source_code h'>
  <pre class='lines_num'>


1415</pre>
  <div class='lines_code'>
      <pre class='code'><span class='info file'># File 'drb/drb.rb', line 1415</span>

<span class='kw'>def</span> <span class='id identifier rubyid_verbose='>verbose=</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:verbose</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_v'>v</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
  </div>
</div>
</section>
<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.8.7.6 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>