<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Addrinfo &mdash; socket Ruby-2.0.0 p648</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Addrinfo",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../index.html'>Home</a> &raquo; 
          <a href='../index.html'>Ruby-2.0.0</a> &raquo; 
          <a href='index.html'>socket</a> &raquo; 
          <a href='_index.html'>Index (A)</a> &raquo; 
          <span class='title'>Addrinfo</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Addrinfo</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Data</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>Data</li>
        <li class='next'>Addrinfo</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>





  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L868'>ext/socket/raddrinfo.c</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L3'>ext/socket/lib/socket.rb</a></span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The Addrinfo class maps <code>struct addrinfo</code> to ruby.  This
structure identifies an Internet host and a service.</p>


  </div>
</div>
<div class="tags">
  
</div>




<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#foreach-class_method" title=".foreach (class method)">.<strong>foreach</strong>(nodename, service, family = nil, socktype = nil, protocol = nil, flags = nil, &amp;block)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>iterates over the list of Addrinfo objects obtained by
<a href="#getaddrinfo-class_method" title="Addrinfo.getaddrinfo (method)">Addrinfo.getaddrinfo</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getaddrinfo-class_method" title="getaddrinfo (class method)">.<strong>getaddrinfo</strong>(nodename, service, family, socktype, protocol, flags)  &#x21d2; Array, ... </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns a list of addrinfo objects as an array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ip-class_method" title="ip (class method)">.<strong>ip</strong>(host)  &#x21d2; addrinfo </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns an addrinfo object for IP address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(sockaddr)  &#x21d2; addrinfo </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns a new instance of Addrinfo.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#tcp-class_method" title="tcp (class method)">.<strong>tcp</strong>(host, port)  &#x21d2; addrinfo </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns an addrinfo object for TCP address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#udp-class_method" title="udp (class method)">.<strong>udp</strong>(host, port)  &#x21d2; addrinfo </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns an addrinfo object for UDP address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unix-class_method" title="unix (class method)">.<strong>unix</strong>(path[, socktype])  &#x21d2; addrinfo </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns an addrinfo object for UNIX socket address.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#afamily-instance_method" title="#afamily (instance method)">#<strong>afamily</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the address family as an integer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#bind-instance_method" title="#bind (instance method)">#<strong>bind</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>creates a socket bound to self.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#canonname-instance_method" title="#canonname (instance method)">#<strong>canonname</strong>  &#x21d2; String<sup>?</sup> </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the canonical name as an string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#connect-instance_method" title="#connect (instance method)">#<strong>connect</strong>([opts]) {|socket| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>creates a socket connected to the address of self.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#connect_from-instance_method" title="#connect_from (instance method)">#<strong>connect_from</strong>([local_addr_args], [opts]) {|socket| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>creates a socket connected to the address of self.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#connect_internal-instance_method" title="#connect_internal (instance method)">#<strong>connect_internal</strong>(local_addrinfo, timeout = nil)  </a>
      </span>
      <span class='note title private'>private</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>creates a new Socket connected to the address of
<code>local_addrinfo</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#connect_to-instance_method" title="#connect_to (instance method)">#<strong>connect_to</strong>([remote_addr_args], [opts]) {|socket| ... } </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>creates a socket connected to <em>remote_addr_args</em> and bound to self.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#family_addrinfo-instance_method" title="#family_addrinfo (instance method)">#<strong>family_addrinfo</strong>(*args)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>creates an Addrinfo object from the arguments.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#getnameinfo-instance_method" title="#getnameinfo (instance method)">#<strong>getnameinfo</strong>  &#x21d2; Array, service </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns nodename and service as a pair of strings.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns a string which shows addrinfo in human-readable form.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#inspect_sockaddr-instance_method" title="#inspect_sockaddr (instance method)">#<strong>inspect_sockaddr</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns a string which shows the sockaddr in <em>addrinfo</em> with
human-readable form.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ip%3F-instance_method" title="#ip? (instance method)">#<strong>ip?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns true if addrinfo is internet (IPv4/IPv6) address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ip_address-instance_method" title="#ip_address (instance method)">#<strong>ip_address</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the IP address as a string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ip_port-instance_method" title="#ip_port (instance method)">#<strong>ip_port</strong>  &#x21d2; port </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the port number as an integer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ip_unpack-instance_method" title="#ip_unpack (instance method)">#<strong>ip_unpack</strong>  &#x21d2; Array, port </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the IP address and port number as 2-element array.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv4%3F-instance_method" title="#ipv4? (instance method)">#<strong>ipv4?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns true if addrinfo is IPv4 address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv4_loopback%3F-instance_method" title="#ipv4_loopback? (instance method)">#<strong>ipv4_loopback?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv4 loopback address (127.0.0.0/8).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv4_multicast%3F-instance_method" title="#ipv4_multicast? (instance method)">#<strong>ipv4_multicast?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv4 multicast address (224.0.0.0/4).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv4_private%3F-instance_method" title="#ipv4_private? (instance method)">#<strong>ipv4_private?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv4 private address (10.0.0.0/8, 172.16.0.0/12,
192.168.0.0/16).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6%3F-instance_method" title="#ipv6? (instance method)">#<strong>ipv6?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns true if addrinfo is IPv6 address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_linklocal%3F-instance_method" title="#ipv6_linklocal? (instance method)">#<strong>ipv6_linklocal?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 link local address (ff80::/10).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_loopback%3F-instance_method" title="#ipv6_loopback? (instance method)">#<strong>ipv6_loopback?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 loopback address (::1).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_mc_global%3F-instance_method" title="#ipv6_mc_global? (instance method)">#<strong>ipv6_mc_global?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 multicast global scope address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_mc_linklocal%3F-instance_method" title="#ipv6_mc_linklocal? (instance method)">#<strong>ipv6_mc_linklocal?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 multicast link-local scope address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_mc_nodelocal%3F-instance_method" title="#ipv6_mc_nodelocal? (instance method)">#<strong>ipv6_mc_nodelocal?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 multicast node-local scope address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_mc_orglocal%3F-instance_method" title="#ipv6_mc_orglocal? (instance method)">#<strong>ipv6_mc_orglocal?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 multicast organization-local scope address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_mc_sitelocal%3F-instance_method" title="#ipv6_mc_sitelocal? (instance method)">#<strong>ipv6_mc_sitelocal?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 multicast site-local scope address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_multicast%3F-instance_method" title="#ipv6_multicast? (instance method)">#<strong>ipv6_multicast?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 multicast address (ff00::/8).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_sitelocal%3F-instance_method" title="#ipv6_sitelocal? (instance method)">#<strong>ipv6_sitelocal?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 site local address (ffc0::/10).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_to_ipv4-instance_method" title="#ipv6_to_ipv4 (instance method)">#<strong>ipv6_to_ipv4</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns IPv4 address of IPv4 mapped/compatible IPv6 address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_unique_local%3F-instance_method" title="#ipv6_unique_local? (instance method)">#<strong>ipv6_unique_local?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 unique local address (fc00::/7, RFC4193).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_unspecified%3F-instance_method" title="#ipv6_unspecified? (instance method)">#<strong>ipv6_unspecified?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv6 unspecified address (::).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_v4compat%3F-instance_method" title="#ipv6_v4compat? (instance method)">#<strong>ipv6_v4compat?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv4-compatible IPv6 address (::/80).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ipv6_v4mapped%3F-instance_method" title="#ipv6_v4mapped? (instance method)">#<strong>ipv6_v4mapped?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns true for IPv4-mapped IPv6 address (::ffff:0:0/80).</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#listen-instance_method" title="#listen (instance method)">#<strong>listen</strong>(backlog = Socket::SOMAXCONN)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>creates a listening socket bound to self.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pfamily-instance_method" title="#pfamily (instance method)">#<strong>pfamily</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the protocol family as an integer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#protocol-instance_method" title="#protocol (instance method)">#<strong>protocol</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the socket type as an integer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#socktype-instance_method" title="#socktype (instance method)">#<strong>socktype</strong>  &#x21d2; Integer </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the socket type as an integer.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_s-instance_method" title="#to_sockaddr (instance method)">#<strong>to_sockaddr</strong>  &#x21d2; String </a>
        (also: #to_sockaddr)
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns the socket address as packed struct sockaddr string.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#to_sockaddr-instance_method" title="#to_sockaddr (instance method)">#<strong>to_sockaddr</strong>  &#x21d2; String </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Alias for <a href="#to_s-instance_method" title="Addrinfo#to_s (method)">#to_s</a>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unix%3F-instance_method" title="#unix? (instance method)">#<strong>unix?</strong>  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>returns true if addrinfo is UNIX address.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unix_path-instance_method" title="#unix_path (instance method)">#<strong>unix_path</strong>  &#x21d2; path </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Returns the socket path as a string.</p>
</div>
      </span>
    </li>
  </ul>



  <h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  <span class='overload'>.<strong>new</strong>(sockaddr)  &#x21d2; <tt>addrinfo</tt> </span>
    <span class='overload'>.<strong>new</strong>(sockaddr, family)  &#x21d2; <tt>addrinfo</tt> </span>
    <span class='overload'>.<strong>new</strong>(sockaddr, family, socktype)  &#x21d2; <tt>addrinfo</tt> </span>
    <span class='overload'>.<strong>new</strong>(sockaddr, family, socktype, protocol)  &#x21d2; <tt>addrinfo</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns a new instance of Addrinfo. The instance contains sockaddr, family,
socktype, protocol. sockaddr means struct sockaddr which can be used for
connect(2), etc. family, socktype and protocol are integers which is used
for arguments of socket(2).</p>

<p>sockaddr is specified as an array or a string. The array should be
compatible to the value of <a href="IPSocket.html#addr-instance_method" title="IPSocket#addr (method)">IPSocket#addr</a> or <a href="UNIXSocket.html#addr-instance_method" title="UNIXSocket#addr (method)">UNIXSocket#addr</a>. The string
should be struct sockaddr as generated by <a href="Socket.html#sockaddr_in-class_method" title="Socket.sockaddr_in (method)">Socket.sockaddr_in</a> or
<a href="Socket.html#unpack_sockaddr_un-class_method" title="Socket.unpack_sockaddr_un (method)">Socket.unpack_sockaddr_un</a>.</p>

<p>sockaddr examples:</p>
<ul><li><dl class="rdoc-list label-list"><dt>“AF_INET”, 46102, “localhost.localdomain”, “127.0.0.1”
<dd></dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>“AF_INET6”, 42304, “ip6-localhost”, “::1”
<dd></dd></dl>
</li><li><dl class="rdoc-list label-list"><dt>“AF_UNIX”, “/tmp/sock”
<dd></dd></dl>
</li><li>
<p>Socket.sockaddr_in(“smtp”, “2001:DB8::1”)</p>
</li><li>
<p>Socket.sockaddr_in(80, “172.18.22.42”)</p>
</li><li>
<p>Socket.sockaddr_in(80, “<a href="www.ruby-lang.org">www.ruby-lang.org</a>”)</p>
</li><li>
<p>Socket.sockaddr_un(“/tmp/sock”)</p>
</li></ul>

<p>In an AF_INET/AF_INET6 sockaddr array, the 4th element, numeric IP address,
is used to construct socket address in the Addrinfo instance. If the 3rd
element, textual host name, is non-nil, it is also recorded but used only
for <a href="#inspect-instance_method" title="Addrinfo#inspect (method)">#inspect</a>.</p>

<p>family is specified as an integer to specify the protocol family such as
<code>Socket::PF_INET</code>. It can be a symbol or a string which is the constant
name with or without PF_ prefix such as :INET, :INET6, :UNIX, “PF_INET”,
etc. If omitted, PF_UNSPEC is assumed.</p>

<p>socktype is specified as an integer to specify the socket type such as
<code>Socket::SOCK_STREAM</code>. It can be a symbol or a string which is the constant
name with or without SOCK_ prefix such as :STREAM, :DGRAM, :RAW,
“SOCK_STREAM”, etc. If omitted, 0 is assumed.</p>

<p>protocol is specified as an integer to specify the protocol such as
<code>Socket::IPPROTO_TCP</code>. It must be an integer, unlike family and socktype.
If omitted, 0 is assumed. Note that 0 is reasonable value for most
protocols, except raw socket.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L868'>GitHub</a> ]</span>

</section>
<h2 class='y_details'>Class Method Details</h2>
  <section class='method_details first' id="foreach-class_method">
  <h3 class='signature first'>
  .<strong>foreach</strong>(nodename, service, family = nil, socktype = nil, protocol = nil, flags = nil, &amp;block)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>iterates over the list of Addrinfo objects obtained by
<a href="#getaddrinfo-class_method" title="Addrinfo.getaddrinfo (method)">getaddrinfo</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_foreach'>foreach</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>
<span class='comment'>#=&gt; #&lt;Addrinfo: 127.0.0.1:80 TCP (:80)&gt;
</span><span class='comment'>#   #&lt;Addrinfo: 127.0.0.1:80 UDP (:80)&gt;
</span><span class='comment'>#   #&lt;Addrinfo: [::1]:80 TCP (:80)&gt;
</span><span class='comment'>#   #&lt;Addrinfo: [::1]:80 UDP (:80)&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L231'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


231
232
233</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/socket/lib/socket.rb', line 231</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_foreach'>foreach</span><span class='lparen'>(</span><span class='id identifier rubyid_nodename'>nodename</span><span class='comma'>,</span> <span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='id identifier rubyid_family'>family</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_socktype'>socktype</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_protocol'>protocol</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_getaddrinfo'><a href="#getaddrinfo-class_method" title="Addrinfo.getaddrinfo (method)">getaddrinfo</a></span><span class='lparen'>(</span><span class='id identifier rubyid_nodename'>nodename</span><span class='comma'>,</span> <span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='id identifier rubyid_family'>family</span><span class='comma'>,</span> <span class='id identifier rubyid_socktype'>socktype</span><span class='comma'>,</span> <span class='id identifier rubyid_protocol'>protocol</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getaddrinfo-class_method">
  <h3 class='signature'>
  <span class='overload'>.<strong>getaddrinfo</strong>(nodename, service, family, socktype, protocol, flags)  &#x21d2; <tt>Array</tt>, <tt>...</tt> </span>
    <span class='overload'>.<strong>getaddrinfo</strong>(nodename, service, family, socktype, protocol)  &#x21d2; <tt>Array</tt>, <tt>...</tt> </span>
    <span class='overload'>.<strong>getaddrinfo</strong>(nodename, service, family, socktype)  &#x21d2; <tt>Array</tt>, <tt>...</tt> </span>
    <span class='overload'>.<strong>getaddrinfo</strong>(nodename, service, family)  &#x21d2; <tt>Array</tt>, <tt>...</tt> </span>
    <span class='overload'>.<strong>getaddrinfo</strong>(nodename, service)  &#x21d2; <tt>Array</tt>, <tt>...</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns a list of addrinfo objects as an array.</p>

<p>This method converts nodename (hostname) and service (port) to addrinfo.
Since the conversion is not unique, the result is a list of addrinfo
objects.</p>

<p>nodename or service can be nil if no conversion intended.</p>

<p>family, socktype and protocol are hint for preferred protocol. If the
result will be used for a socket with SOCK_STREAM, SOCK_STREAM should be
specified as socktype. If so, <a href="#getaddrinfo-class_method" title="Addrinfo.getaddrinfo (method)">getaddrinfo</a> returns addrinfo list
appropriate for SOCK_STREAM. If they are omitted or nil is given, the
result is not restricted.</p>

<p>Similarly, PF_INET6 as family restricts for IPv6.</p>

<p>flags should be bitwise OR of Socket::AI_??? constants such as follows.
Note that the exact list of the constants depends on OS.</p>

<pre class="code ruby"><code class="ruby">AI_PASSIVE      Get address to use with bind()
AI_CANONNAME    Fill in the canonical name
AI_NUMERICHOST  Prevent host name resolution
AI_NUMERICSERV  Prevent service name resolution
AI_V4MAPPED     Accept IPv4-mapped IPv6 addresses
AI_ALL          Allow all addresses
AI_ADDRCONFIG   Accept only if any address is assigned</code></pre>

<p>Note that socktype should be specified whenever application knows the usage
of the address. Some platform causes an error when socktype is omitted and
servname is specified as an integer because some port numbers, 512 for
example, are ambiguous without socktype.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_getaddrinfo'>getaddrinfo</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.kame.net</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='symbol'>:STREAM</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; [#&lt;Addrinfo: 203.178.141.194:80 TCP (www.kame.net)&gt;,
</span><span class='comment'>#    #&lt;Addrinfo: [2001:200:dff:fff1:216:3eff:feb1:44d7]:80 TCP (www.kame.net)&gt;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L2038'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ip-class_method">
  <h3 class='signature'>
  .<strong>ip</strong>(host)  &#x21d2; <tt>addrinfo</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns an addrinfo object for IP address.</p>

<p>The port, socktype, protocol of the result is filled by zero. So, it is not
appropriate to create a socket.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_ip'>ip</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; #&lt;Addrinfo: 127.0.0.1 (localhost)&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L2058'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="tcp-class_method">
  <h3 class='signature'>
  .<strong>tcp</strong>(host, port)  &#x21d2; <tt>addrinfo</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns an addrinfo object for TCP address.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'>tcp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>smtp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; #&lt;Addrinfo: 127.0.0.1:25 TCP (localhost:smtp)&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L2079'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="udp-class_method">
  <h3 class='signature'>
  .<strong>udp</strong>(host, port)  &#x21d2; <tt>addrinfo</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns an addrinfo object for UDP address.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_udp'>udp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>daytime</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; #&lt;Addrinfo: 127.0.0.1:13 UDP (localhost:daytime)&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L2094'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="unix-class_method">
  <h3 class='signature'>
  .<strong>unix</strong>(path[, socktype])  &#x21d2; <tt>addrinfo</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns an addrinfo object for UNIX socket address.</p>

<p><em>socktype</em> specifies the socket type. If it is omitted, :STREAM is
used.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'>unix</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; #&lt;Addrinfo: /tmp/sock SOCK_STREAM&gt;
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'>unix</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:DGRAM</span><span class='rparen'>)</span> <span class='comment'>#=&gt; #&lt;Addrinfo: /tmp/sock SOCK_DGRAM&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L2115'>GitHub</a> ]</span>

</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="afamily-instance_method">
  <h3 class='signature first'>
  #<strong>afamily</strong>  &#x21d2; <tt>Integer</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the address family as an integer.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_afamily'>afamily</span> <span class='op'>==</span> <span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='op'>::</span><span class='const'>AF_INET</span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1380'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="bind-instance_method">
  <h3 class='signature'>
  #<strong>bind</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>creates a socket bound to self.</p>

<p>If a block is given, it is called with the socket and the value of the
block is returned. The socket is returned otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_udp'><a href="#udp-class_method" title="Addrinfo.udp (method)">udp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0.0.0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>9981</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_local_address'>local_address</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_recv'>recv</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L179'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/socket/lib/socket.rb', line 179</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_bind'>bind</span>
  <span class='id identifier rubyid_sock'>sock</span> <span class='op'>=</span> <span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Socket.html#new-class_method" title="Socket.new (method)">new</a></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pfamily'>pfamily</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_socktype'>socktype</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_protocol'>protocol</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_ipv6only!'>ipv6only!</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ipv6?'>ipv6?</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_setsockopt'>setsockopt</span><span class='lparen'>(</span><span class='symbol'>:SOCKET</span><span class='comma'>,</span> <span class='symbol'>:REUSEADDR</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>begin</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_sock'>sock</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_closed?'>closed?</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_sock'>sock</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="canonname-instance_method">
  <h3 class='signature'>
  #<strong>canonname</strong>  &#x21d2; <tt>String</tt><sup>?</sup> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the canonical name as an string.</p>

<p>nil is returned if no canonical name.</p>

<p>The canonical name is set by <a href="#getaddrinfo-class_method" title="Addrinfo.getaddrinfo (method)">getaddrinfo</a> when AI_CANONNAME is
specified.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_list'>list</span> <span class='op'>=</span> <span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_getaddrinfo'><a href="#getaddrinfo-class_method" title="Addrinfo.getaddrinfo (method)">getaddrinfo</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.ruby-lang.org</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='comma'>,</span> <span class='symbol'>:INET</span><span class='comma'>,</span> <span class='symbol'>:STREAM</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='op'>::</span><span class='const'>AI_CANONNAME</span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_list'>list</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='comment'>#=&gt; #&lt;Addrinfo: 221.186.184.68:80 TCP carbon.ruby-lang.org (www.ruby-lang.org)&gt;
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_list'>list</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_canonname'>canonname</span> <span class='comment'>#=&gt; &quot;carbon.ruby-lang.org&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1471'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="connect-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>connect</strong>([opts]) {|socket| ... } </span>
    <span class='overload'>#<strong>connect</strong>([opts])  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>creates a socket connected to the address of self.</p>

<p>The optional argument <em>opts</em> is options represented by a hash.
<em>opts</em> may have following options:</p>
<dl class="rdoc-list label-list"><dt>:timeout
<dd>
<p>specify the timeout in seconds.</p>
</dd></dl>

<p>If a block is given, it is called with the socket and the value of the
block is returned. The socket is returned otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.ruby-lang.org</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET / HTTP/1.0\r\nHost: www.ruby-lang.org\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L139'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


139
140
141</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/socket/lib/socket.rb', line 139</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_connect_internal'>connect_internal</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:timeout</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="connect_from-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>connect_from</strong>([local_addr_args], [opts]) {|socket| ... } </span>
    <span class='overload'>#<strong>connect_from</strong>([local_addr_args], [opts])  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>creates a socket connected to the address of self.</p>

<p>If one or more arguments given as <em>local_addr_args</em>, it is used as
the local address of the socket. <em>local_addr_args</em> is given for
family_addrinfo to obtain actual address.</p>

<p>If <em>local_addr_args</em> is not given, the local address of the socket
is not bound.</p>

<p>The optional last argument <em>opts</em> is options represented by a hash.
<em>opts</em> may have following options:</p>
<dl class="rdoc-list label-list"><dt>:timeout
<dd>
<p>specify the timeout in seconds.</p>
</dd></dl>

<p>If a block is given, it is called with the socket and the value of the
block is returned. The socket is returned otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.ruby-lang.org</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_connect_from'>connect_from</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0.0.0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>4649</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET / HTTP/1.0\r\nHost: www.ruby-lang.org\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
<span class='rbrace'>}</span>

<span class='comment'># Addrinfo object can be taken for the argument.
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.ruby-lang.org</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_connect_from'>connect_from</span><span class='lparen'>(</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0.0.0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>4649</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET / HTTP/1.0\r\nHost: www.ruby-lang.org\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L114'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


114
115
116
117
118</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/socket/lib/socket.rb', line 114</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_connect_from'>connect_from</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>?</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_local_addr_args'>local_addr_args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
  <span class='id identifier rubyid_connect_internal'>connect_internal</span><span class='lparen'>(</span><span class='id identifier rubyid_family_addrinfo'>family_addrinfo</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_local_addr_args'>local_addr_args</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:timeout</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="connect_internal-instance_method">
  <h3 class='signature'>
  #<strong>connect_internal</strong>(local_addrinfo, timeout = nil)   <span class="extras">(<span class='priv'>private</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>creates a new Socket connected to the address of
<code>local_addrinfo</code>.</p>

<p>If <em>local_addrinfo</em> is nil, the address of the socket is not bound.</p>

<p>The <em>timeout</em> specify the seconds for timeout. <code>Errno::ETIMEDOUT</code> is
raised when timeout occur.</p>

<p>If a block is given the created socket is yielded for each address.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L47'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/socket/lib/socket.rb', line 47</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_connect_internal'>connect_internal</span><span class='lparen'>(</span><span class='id identifier rubyid_local_addrinfo'>local_addrinfo</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout'>timeout</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'># :yields: socket
</span>  <span class='id identifier rubyid_sock'>sock</span> <span class='op'>=</span> <span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Socket.html#new-class_method" title="Socket.new (method)">new</a></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pfamily'>pfamily</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_socktype'>socktype</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_protocol'>protocol</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_ipv6only!'>ipv6only!</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ipv6?'>ipv6?</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span> <span class='id identifier rubyid_local_addrinfo'>local_addrinfo</span> <span class='kw'>if</span> <span class='id identifier rubyid_local_addrinfo'>local_addrinfo</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_timeout'>timeout</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_connect_nonblock'>connect_nonblock</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'>IO</span><span class='op'>::</span><span class='const'>WaitWritable</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_sock'>sock</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout'>timeout</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ETIMEDOUT</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>user specified timeout</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>end</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_connect_nonblock'>connect_nonblock</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='comment'># check connection failure
</span>        <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EISCONN</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>begin</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_sock'>sock</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_closed?'>closed?</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_sock'>sock</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="connect_to-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>connect_to</strong>([remote_addr_args], [opts]) {|socket| ... } </span>
    <span class='overload'>#<strong>connect_to</strong>([remote_addr_args], [opts])  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>creates a socket connected to <em>remote_addr_args</em> and bound to self.</p>

<p>The optional last argument <em>opts</em> is options represented by a hash.
<em>opts</em> may have following options:</p>
<dl class="rdoc-list label-list"><dt>:timeout
<dd>
<p>specify the timeout in seconds.</p>
</dd></dl>

<p>If a block is given, it is called with the socket and the value of the
block is returned. The socket is returned otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0.0.0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>4649</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_connect_to'>connect_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.ruby-lang.org</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET / HTTP/1.0\r\nHost: www.ruby-lang.org\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
<span class='rbrace'>}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L162'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


162
163
164
165
166
167</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/socket/lib/socket.rb', line 162</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_connect_to'>connect_to</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>?</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_remote_addr_args'>remote_addr_args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
  <span class='id identifier rubyid_remote_addrinfo'>remote_addrinfo</span> <span class='op'>=</span> <span class='id identifier rubyid_family_addrinfo'>family_addrinfo</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_remote_addr_args'>remote_addr_args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_remote_addrinfo'>remote_addrinfo</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:connect_internal</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:timeout</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="family_addrinfo-instance_method">
  <h3 class='signature'>
  #<strong>family_addrinfo</strong>(*args)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>creates an Addrinfo object from the arguments.</p>

<p>The arguments are interpreted as similar to self.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0.0.0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>4649</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_family_addrinfo'>family_addrinfo</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.ruby-lang.org</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;Addrinfo: 221.186.184.68:80 TCP (www.ruby-lang.org:80)&gt;
</span>
<span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_family_addrinfo'>family_addrinfo</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; #&lt;Addrinfo: /tmp/sock2 SOCK_STREAM&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L14'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/socket/lib/socket.rb', line 14</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_family_addrinfo'>family_addrinfo</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no address specified</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span> <span class='op'>===</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>too many arguments</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_addrinfo'>addrinfo</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pfamily'>pfamily</span> <span class='op'>!=</span> <span class='id identifier rubyid_addrinfo'>addrinfo</span><span class='period'>.</span><span class='id identifier rubyid_pfamily'>pfamily</span><span class='rparen'>)</span> <span class='op'>||</span>
       <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_socktype'>socktype</span> <span class='op'>!=</span> <span class='id identifier rubyid_addrinfo'>addrinfo</span><span class='period'>.</span><span class='id identifier rubyid_socktype'>socktype</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Addrinfo type mismatch</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_addrinfo'>addrinfo</span>
  <span class='kw'>elsif</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ip?'>ip?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>IP address needs host and port but </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='embexpr_end'>}</span><span class='tstring_content'> arguments given</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span> <span class='int'>2</span>
    <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
    <span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_getaddrinfo'><a href="#getaddrinfo-class_method" title="Addrinfo.getaddrinfo (method)">getaddrinfo</a></span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pfamily'>pfamily</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_socktype'>socktype</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_protocol'>protocol</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_unix?'>unix?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UNIX socket needs single path argument but </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='embexpr_end'>}</span><span class='tstring_content'> arguments given</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
    <span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected family</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="getnameinfo-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>getnameinfo</strong>  &#x21d2; <tt>Array</tt>, <tt>service</tt> </span>
    <span class='overload'>#<strong>getnameinfo</strong>(flags)  &#x21d2; <tt>Array</tt>, <tt>service</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns nodename and service as a pair of strings. This converts struct
sockaddr in addrinfo to textual representation.</p>

<p>flags should be bitwise OR of Socket::NI_??? constants.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_getnameinfo'>getnameinfo</span> <span class='comment'>#=&gt; [&quot;localhost&quot;, &quot;www&quot;]
</span>
<span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_getnameinfo'>getnameinfo</span><span class='lparen'>(</span><span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='op'>::</span><span class='const'>NI_NUMERICSERV</span><span class='rparen'>)</span>
<span class='comment'>#=&gt; [&quot;localhost&quot;, &quot;80&quot;]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1578'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="inspect-instance_method">
  <h3 class='signature'>
  #<strong>inspect</strong>  &#x21d2; <tt>String</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns a string which shows addrinfo in human-readable form.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span> <span class='comment'>#=&gt; &quot;#&lt;Addrinfo: 127.0.0.1:80 TCP (localhost)&gt;&quot;
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>    <span class='comment'>#=&gt; &quot;#&lt;Addrinfo: /tmp/sock SOCK_STREAM&gt;&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1097'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="inspect_sockaddr-instance_method">
  <h3 class='signature'>
  #<strong>inspect_sockaddr</strong>  &#x21d2; <tt>String</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns a string which shows the sockaddr in <em>addrinfo</em> with
human-readable form.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inspect_sockaddr'>inspect_sockaddr</span>     <span class='comment'>#=&gt; &quot;127.0.0.1:80&quot;
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ip6-localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inspect_sockaddr'>inspect_sockaddr</span> <span class='comment'>#=&gt; &quot;[::1]:80&quot;
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inspect_sockaddr'>inspect_sockaddr</span>        <span class='comment'>#=&gt; &quot;/tmp/sock&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1177'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ip?-instance_method">
  <h3 class='signature'>
  #<strong>ip?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns true if addrinfo is internet (IPv4/IPv6) address. returns false
otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip?'>ip?</span> <span class='comment'>#=&gt; true
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip?'>ip?</span>       <span class='comment'>#=&gt; true
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip?'>ip?</span>    <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1490'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ip_address-instance_method">
  <h3 class='signature'>
  #<strong>ip_address</strong>  &#x21d2; <tt>String</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the IP address as a string.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip_address'>ip_address</span>    <span class='comment'>#=&gt; &quot;127.0.0.1&quot;
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip_address'>ip_address</span>          <span class='comment'>#=&gt; &quot;::1&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1639'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ip_port-instance_method">
  <h3 class='signature'>
  #<strong>ip_port</strong>  &#x21d2; <tt>port</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the port number as an integer.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip_port'>ip_port</span>    <span class='comment'>#=&gt; 80
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip_port'>ip_port</span>          <span class='comment'>#=&gt; 80
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1664'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ip_unpack-instance_method">
  <h3 class='signature'>
  #<strong>ip_unpack</strong>  &#x21d2; <tt>Array</tt>, <tt>port</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the IP address and port number as 2-element array.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip_unpack'>ip_unpack</span>    <span class='comment'>#=&gt; [&quot;127.0.0.1&quot;, 80]
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ip_unpack'>ip_unpack</span>          <span class='comment'>#=&gt; [&quot;::1&quot;, 80]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1612'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv4?-instance_method">
  <h3 class='signature'>
  #<strong>ipv4?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns true if addrinfo is IPv4 address. returns false otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv4?'>ipv4?</span> <span class='comment'>#=&gt; true
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv4?'>ipv4?</span>       <span class='comment'>#=&gt; false
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv4?'>ipv4?</span>    <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1510'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv4_loopback?-instance_method">
  <h3 class='signature'>
  #<strong>ipv4_loopback?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv4 loopback address (127.0.0.0/8). It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1732'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv4_multicast?-instance_method">
  <h3 class='signature'>
  #<strong>ipv4_multicast?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv4 multicast address (224.0.0.0/4). It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1746'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv4_private?-instance_method">
  <h3 class='signature'>
  #<strong>ipv4_private?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv4 private address (10.0.0.0/8, 172.16.0.0/12,
192.168.0.0/16). It returns false otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1716'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns true if addrinfo is IPv6 address. returns false otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv6?'>ipv6?</span> <span class='comment'>#=&gt; false
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv6?'>ipv6?</span>       <span class='comment'>#=&gt; true
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv6?'>ipv6?</span>    <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1529'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_linklocal?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_linklocal?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 link local address (ff80::/10). It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1807'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_loopback?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_loopback?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 loopback address (::1). It returns false otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1783'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_mc_global?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_mc_global?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 multicast global scope address. It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1915'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_mc_linklocal?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_mc_linklocal?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 multicast link-local scope address. It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1879'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_mc_nodelocal?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_mc_nodelocal?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 multicast node-local scope address. It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1867'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_mc_orglocal?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_mc_orglocal?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 multicast organization-local scope address. It
returns false otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1903'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_mc_sitelocal?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_mc_sitelocal?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 multicast site-local scope address. It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1891'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_multicast?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_multicast?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 multicast address (ff00::/8). It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1795'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_sitelocal?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_sitelocal?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 site local address (ffc0::/10). It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1819'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_to_ipv4-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_to_ipv4</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns IPv4 address of IPv4 mapped/compatible IPv6 address. It returns nil
if <code>self</code> is not IPv4 mapped/compatible IPv6 address.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_ip'><a href="#ip-class_method" title="Addrinfo.ip (method)">ip</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::192.0.2.3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv6_to_ipv4'>ipv6_to_ipv4</span>      <span class='comment'>#=&gt; #&lt;Addrinfo: 192.0.2.3&gt;
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_ip'><a href="#ip-class_method" title="Addrinfo.ip (method)">ip</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::ffff:192.0.2.3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv6_to_ipv4'>ipv6_to_ipv4</span> <span class='comment'>#=&gt; #&lt;Addrinfo: 192.0.2.3&gt;
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_ip'><a href="#ip-class_method" title="Addrinfo.ip (method)">ip</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv6_to_ipv4'>ipv6_to_ipv4</span>              <span class='comment'>#=&gt; nil
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_ip'><a href="#ip-class_method" title="Addrinfo.ip (method)">ip</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>192.0.2.3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv6_to_ipv4'>ipv6_to_ipv4</span>        <span class='comment'>#=&gt; nil
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ipv6_to_ipv4'>ipv6_to_ipv4</span>      <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1933'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_unique_local?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_unique_local?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 unique local address (fc00::/7, RFC4193). It returns
false otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1831'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_unspecified?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_unspecified?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv6 unspecified address (::). It returns false otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1771'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_v4compat?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_v4compat?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv4-compatible IPv6 address (::/80). It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1855'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="ipv6_v4mapped?-instance_method">
  <h3 class='signature'>
  #<strong>ipv6_v4mapped?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true for IPv4-mapped IPv6 address (::ffff:0:0/80). It returns false
otherwise.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1843'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="listen-instance_method">
  <h3 class='signature'>
  #<strong>listen</strong>(backlog = Socket::SOMAXCONN)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>creates a listening socket bound to self.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/lib/socket.rb#L201'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/socket/lib/socket.rb', line 201</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_listen'>listen</span><span class='lparen'>(</span><span class='id identifier rubyid_backlog'>backlog</span><span class='op'>=</span><span class='const'>Socket</span><span class='op'>::</span><span class='const'>SOMAXCONN</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sock'>sock</span> <span class='op'>=</span> <span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Socket.html#new-class_method" title="Socket.new (method)">new</a></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pfamily'>pfamily</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_socktype'>socktype</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_protocol'>protocol</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_ipv6only!'>ipv6only!</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ipv6?'>ipv6?</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_setsockopt'>setsockopt</span><span class='lparen'>(</span><span class='symbol'>:SOCKET</span><span class='comma'>,</span> <span class='symbol'>:REUSEADDR</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_listen'>listen</span><span class='lparen'>(</span><span class='id identifier rubyid_backlog'>backlog</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span>
    <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>begin</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_sock'>sock</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_sock'>sock</span><span class='period'>.</span><span class='id identifier rubyid_closed?'>closed?</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_sock'>sock</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pfamily-instance_method">
  <h3 class='signature'>
  #<strong>pfamily</strong>  &#x21d2; <tt>Integer</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the protocol family as an integer.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pfamily'>pfamily</span> <span class='op'>==</span> <span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='op'>::</span><span class='const'>PF_INET</span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1396'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="protocol-instance_method">
  <h3 class='signature'>
  #<strong>protocol</strong>  &#x21d2; <tt>Integer</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the socket type as an integer.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_protocol'>protocol</span> <span class='op'>==</span> <span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='op'>::</span><span class='const'>IPPROTO_TCP</span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1428'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="socktype-instance_method">
  <h3 class='signature'>
  #<strong>socktype</strong>  &#x21d2; <tt>Integer</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the socket type as an integer.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_socktype'>socktype</span> <span class='op'>==</span> <span class='const'><a href="Socket.html" title="Socket (class)">Socket</a></span><span class='op'>::</span><span class='const'>SOCK_STREAM</span> <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1412'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="to_s-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_sockaddr</strong>  &#x21d2; <tt>String</tt> </span>
    <span class='overload'>#<strong>to_s</strong>  &#x21d2; <tt>String</tt> </span>
  <span class='aliases'>Also known as: <span class='names'><span>to_sockaddr</span></span>
  </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns the socket address as packed struct sockaddr string.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sockaddr'>to_sockaddr</span>
<span class='comment'>#=&gt; &quot;\x02\x00\x00P\x7F\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1446'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="to_sockaddr-instance_method">
  <h3 class='signature'>
  <span class='overload'>#<strong>to_sockaddr</strong>  &#x21d2; <tt>String</tt> </span>
    <span class='overload'>#<strong>to_s</strong>  &#x21d2; <tt>String</tt> </span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Alias for <a href="#to_s-instance_method" title="Addrinfo#to_s (method)">#to_s</a>.</p>


  </div>
</div>

</section>
  <section class='method_details' id="unix?-instance_method">
  <h3 class='signature'>
  #<strong>unix?</strong>  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>returns true if addrinfo is UNIX address. returns false otherwise.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_unix?'>unix?</span> <span class='comment'>#=&gt; false
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_tcp'><a href="#tcp-class_method" title="Addrinfo.tcp (method)">tcp</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>80</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_unix?'>unix?</span>       <span class='comment'>#=&gt; false
</span><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_unix?'>unix?</span>    <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1552'>GitHub</a> ]</span>

</section>
  <section class='method_details' id="unix_path-instance_method">
  <h3 class='signature'>
  #<strong>unix_path</strong>  &#x21d2; <tt>path</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the socket path as a string.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="" title="Addrinfo (class)">Addrinfo</a></span><span class='period'>.</span><span class='id identifier rubyid_unix'><a href="#unix-class_method" title="Addrinfo.unix (method)">unix</a></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/sock</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_unix_path'>unix_path</span>       <span class='comment'>#=&gt; &quot;/tmp/sock&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/ext/socket/raddrinfo.c#L1967'>GitHub</a> ]</span>

</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>