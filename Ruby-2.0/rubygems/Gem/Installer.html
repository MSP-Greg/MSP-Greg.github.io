<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Gem::Installer &mdash; rubygems Ruby-2.0.0 p648</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/custom.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/common.css' />

<script type='text/javascript'>
  var pathId = "Gem::Installer",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
  <svg id='y_wait' class='' viewBox='0 0 90 90'></svg>
  <div id='tbl_cont'>
    <div id='y_list' class='d h'>
      <button id='list_sizer' class='y_sizer' title='LIST Resizer'></button>
      <header id='list_header'>
        <div id='list_title'>&#160;</div>
        <div id='list_menu'><span>&#160;</span></div>
        <input  id='list_search_text' type='search' placeholder='Search' size='12' value='' autocomplete='off' class='search_input'/>
        <svg id='list_search_icon' viewBox='0 0 30 30'>
          <path class='s_main' d='M21.189,17.213C22.022,15.726,22.5,14.014,22.5,12.188C22.5,6.493,17.884,1.875,12.188,1.875S1.875,6.493,1.875,12.188C1.875,17.882,6.491,22.5,12.188,22.5c1.826,0,3.536-0.48,5.025-1.311l6.113,6.113C23.873,27.851,24.593,28.125,25.313,28.125s1.44-0.274,1.989-0.823c1.099-1.099,1.099-2.878,0-3.977L21.189,17.213z M12.188,19.329c-3.943,0-7.14-3.197-7.14-7.142c0.0-3.943,3.197-7.14,7.14-7.14c3.941,0,7.14,3.195,7.14,7.14C19.328,16.133,16.129,19.329,12.188,19.329z'/>
          <path class='s_clear' d='M 4.414, 1.586 A 1,1 0 1,0 1.586, 4.414 L 21.586,24.414 A 1,1 0 1,0 24.414,21.586 z' />
          <path class='s_clear' d='M 1.586,21.586 A 1,1 0 1,0 4.414,24.414 L 24.414, 4.414 A 1,1 0 1,0 21.586, 1.586 z' />
        </svg>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All'></button>
      </header>
      <nav id= 'list_nav' class='y_nav l_nav'>
        <ul id='list_items'></ul>
      </nav>
    </div>
    <div id='y_toc' class='f h'>
      <button id='toc_sizer' class='y_sizer' title='TOC Resizer'></button>
      <header id='toc_header'>
        <div>Table of Contents</div>
        <button class='y_minus' title='Collapse All'></button>
        <button class='y_plus' title='Expand All' ></button>
      </header>
      <nav id= 'toc_nav' class='y_nav t_nav'>
      <ol id='toc_items'></ol>
      </nav>
    </div>
    <div id='y_main' tabindex='-1'>
      <header id='y_header'>
        <div id='y_menu'>
          <a href='../../../index.html'>Home</a> &raquo; 
          <a href='../../index.html'>Ruby-2.0.0</a> &raquo; 
          <a href='../index.html'>rubygems</a> &raquo; 
          <a href='../_index.html'>Index (I)</a> &raquo; 
          <a href="../Gem.html" title="Gem (module)">Gem</a> &raquo; 
          <span class='title'>Installer</span>
        </div>

        <div id='y_measure_em' class='y_measure'></div>
        <div id='y_measure_vh' class='y_measure'></div>
        <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
        <a id='list_href' href="../class_list.html"></a>
        <div id='hdr_button'>
          <button id='src' class='c' title='Source Show / Hide'>S<svg class='c' viewBox='0 0 36 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
              <rect x='20' y='0'  width='4'  height='28' rx='1.0' ry='1.0'/>
            </svg><svg class='o' viewBox='0 0 34 28'>
              <rect x='8'  y='12' width='28' height='4'  rx='1.0' ry='1.0'/>
            </svg></button>
          <button id='list_loc' class='d' title='LIST Location'>L<svg class='f' viewBox='0 0 36 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='toc_loc' class='f' title='TOC Location'>T<svg class='f' viewBox='0 0 34 28'>
            <path d='M36 0 L36 28 8 14'/></svg><svg class='d' viewBox='0 0 36 28'><path d='M 8 0 L36 14 8 28'/></svg></button>
          <button id='list_vis' title='LIST Show / Hide'>LIST</button>
          <button id='toc_vis' title='TOC Show / Hide'>TOC</button>
        </div>
        <div id='y_debug'></div>
      </header>
<div id='content' class='class'>

<h1>Class: Gem::Installer</h1>

<table class='y_box'>
<colgroup>
  <col class='box_1' />
  <col class='box_2' />
</colgroup>
  <tr>
    <td class='box_1'>Inherits:</td>
    <td class='box_rel'>
      <span class='inheritName'>Object</span>
      <ul class='fullTree'>
        <li>Object</li>
        <li class='next'>Gem::Installer</li>
      </ul>
      <a href='#' class='inheritanceTree'>show all</a>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Child Exceptions:</td>
    <td>
      <div class='box_max'>
        <a href="Installer/ExtensionBuildError.html" title="Gem::Installer::ExtensionBuildError (class)">ExtensionBuildError</a>
      </div>
    </td>
  </tr>

  <tr>
    <td class='box_1'>Includes:</td>
    <td>
      <div class='box_max'>
        <a href="UserInteraction.html" title="Gem::UserInteraction (module)">UserInteraction</a>
      </div>
    </td>
  </tr>



  <tr>
  <td class='box_1'>Defined in:</td>
  <td class='box_rel'><div class='box_min'>
<a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L27'>lib/rubygems/installer.rb</a><span class='defines'>,<br /><a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L4'>lib/rubygems/installer_test_case.rb</a></span>
</div>  </td>
  </tr>
</table>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The installer installs the files contained in the <a href="#gem-instance_method" title="Gem::Installer#gem (method)">#gem</a> into the
home.</p>

<p><a href="" title="Gem::Installer (class)">Installer</a> does the work of putting files in all the right places on
the filesystem including unpacking the gem into its gem dir, installing the
gemspec in the specifications dir, storing the cached gem in the cache dir,
and installing either wrappers or symlinks for executables.</p>

<p>The installer invokes pre and post install hooks.  Hooks can be added
either through a rubygems_plugin.rb file in an installed gem or via a
rubygems/defaults/#<code>RUBY_ENGINE</code>.rb or
rubygems/defaults/operating_system.rb file.  See <a href="../Gem.html#pre_install-class_method" title="Gem.pre_install (method)">pre_install</a> and
<a href="../Gem.html#post_install-class_method" title="Gem.post_install (method)">post_install</a> for details.</p>


  </div>
</div>
<div class="tags">
  
</div>
<h2 id='t2_cnst'>Constant Summary<small><a href="#" class="summary_toggle">collapse</a></small></h2>

  <dl class="constants summary full">
    <dt id='CHDIR_MUTEX-constant'>
      CHDIR_MUTEX =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>The builder shells-out to run various commands after changing the
directory.  This means multiple installations cannot be allowed to build
extensions in parallel as they may change each other&#39;s directories
leading to broken extensions or failed installations.</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre>
    </dd>
    <dt id='ENV_PATHS-constant'>
      ENV_PATHS =
    </dt>
    <dd>
      <div class="docstring">
  <div class="discussion">
    
<p>Paths where env(1) might live.  Some systems are broken and have it in /bin</p>


  </div>
</div>
<div class="tags">
  
</div>      <pre class='code'><span class='qwords_beg'>%w[</span><span class='tstring_content'>/usr/bin/env</span><span class='words_sep'> </span><span class='tstring_content'>/bin/env</span><span class='words_sep'>]</span></pre>
    </dd>
  </dl>



<h2>Class Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#exec_format-class_method" title=".exec_format (class method)">.<strong>exec_format</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Defaults to use Ruby&#39;s program prefix and suffix.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#exec_format%3D-class_method" title=".exec_format= (class method)">.<strong>exec_format=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#path_warning-class_method" title=".path_warning (class method)">.<strong>path_warning</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>True if we&#39;ve warned about PATH not including <a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Attribute Summary <small><a href='#' class='summary_toggle'>collapse</a></small></h2>

  <ul class="summary">
    <li>
      <span class="summary_signature">
        <a href="#bin_dir-instance_method" title="#bin_dir (instance method)">#<strong>bin_dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The directory a gem&#39;s executables will be installed into</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#bin_dir%3D-instance_method" title="#bin_dir= (instance method)">#<strong>bin_dir=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#build_args%3D-instance_method" title="#build_args= (instance method)">#<strong>build_args=</strong>(value)  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#env_shebang%3D-instance_method" title="#env_shebang= (instance method)">#<strong>env_shebang=</strong>(value)  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#force%3D-instance_method" title="#force= (instance method)">#<strong>force=</strong>(value)  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#format%3D-instance_method" title="#format= (instance method)">#<strong>format=</strong>(value)  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#format_executable%3D-instance_method" title="#format_executable= (instance method)">#<strong>format_executable=</strong>(value)  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gem-instance_method" title="#gem (instance method)">#<strong>gem</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gem_dir-instance_method" title="#gem_dir (instance method)">#<strong>gem_dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Lazy accessor for the spec&#39;s gem directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gem_dir%3D-instance_method" title="#gem_dir= (instance method)">#<strong>gem_dir=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gem_home-instance_method" title="#gem_home (instance method)">#<strong>gem_home</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The gem repository the gem will be installed into</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#gem_home%3D-instance_method" title="#gem_home= (instance method)">#<strong>gem_home=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ignore_dependencies%3D-instance_method" title="#ignore_dependencies= (instance method)">#<strong>ignore_dependencies=</strong>(value)  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  </a>
      </span>
      <span class='note title readonly'>readonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The options passed when the <a href="" title="Gem::Installer (class)">Installer</a> was instantiated.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#security_policy%3D-instance_method" title="#security_policy= (instance method)">#<strong>security_policy=</strong>(value)  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#spec-instance_method" title="#spec (instance method)">#<strong>spec</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Lazy accessor for the installer&#39;s spec.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#spec%3D-instance_method" title="#spec= (instance method)">#<strong>spec=</strong>(value)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#wrappers%3D-instance_method" title="#wrappers= (instance method)">#<strong>wrappers=</strong>(value)  </a>
      </span>
      <span class='note title writeonly'>writeonly</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Available through requiring rubygems/installer_test_case</p>
</div>
      </span>
    </li>
  </ul>


<h2>Class Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(gem, options = {})  &#x21d2; Installer </a>
      </span>
      <span class='note title constructor'>constructor</span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Constructs an Installer instance that will install the gem located at
<code>gem</code>.</p>
</div>
      </span>
    </li>
  </ul>
<h2>Instance Method Summary
  <small><a href='#' class='summary_toggle'>collapse</a></small>
</h2>

  <ul class='summary'>
    <li>
      <span class="summary_signature">
        <a href="#app_script_text-instance_method" title="#app_script_text (instance method)">#<strong>app_script_text</strong>(bin_file_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return the text for an application file.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#build_extensions-instance_method" title="#build_extensions (instance method)">#<strong>build_extensions</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Builds extensions.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_executable_overwrite-instance_method" title="#check_executable_overwrite (instance method)">#<strong>check_executable_overwrite</strong>(filename)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Checks if <code>filename</code> exists in <code>@bin_dir</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#check_that_user_bin_dir_is_in_path-instance_method" title="#check_that_user_bin_dir_is_in_path (instance method)">#<strong>check_that_user_bin_dir_is_in_path</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#dir-instance_method" title="#dir (instance method)">#<strong>dir</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return the target directory where the gem is to be installed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ensure_dependencies_met-instance_method" title="#ensure_dependencies_met (instance method)">#<strong>ensure_dependencies_met</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ensure_dependency-instance_method" title="#ensure_dependency (instance method)">#<strong>ensure_dependency</strong>(spec, dependency)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Ensure that the dependency is satisfied by the current installation of gem.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ensure_loadable_spec-instance_method" title="#ensure_loadable_spec (instance method)">#<strong>ensure_loadable_spec</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Ensures the <a href="Specification.html" title="Gem::Specification (class)">Specification</a> written out for this gem is loadable upon
installation.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ensure_required_ruby_version_met-instance_method" title="#ensure_required_ruby_version_met (instance method)">#<strong>ensure_required_ruby_version_met</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#ensure_required_rubygems_version_met-instance_method" title="#ensure_required_rubygems_version_met (instance method)">#<strong>ensure_required_rubygems_version_met</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extension_build_error-instance_method" title="#extension_build_error (instance method)">#<strong>extension_build_error</strong>(build_dir, output, backtrace = nil)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Logs the build <code>output</code> in <code>build_dir</code>, then raises
ExtensionBuildError.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#extract_files-instance_method" title="#extract_files (instance method)">#<strong>extract_files</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Reads the file index and extracts each file into the gem directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#formatted_program_filename-instance_method" title="#formatted_program_filename (instance method)">#<strong>formatted_program_filename</strong>(filename)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Prefix and suffix the program filename the same as ruby.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate_bin-instance_method" title="#generate_bin (instance method)">#<strong>generate_bin</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate_bin_script-instance_method" title="#generate_bin_script (instance method)">#<strong>generate_bin_script</strong>(filename, bindir)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates the scripts to run the applications in the gem.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate_bin_symlink-instance_method" title="#generate_bin_symlink (instance method)">#<strong>generate_bin_symlink</strong>(filename, bindir)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates the symlinks to run the applications in the gem.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#generate_windows_script-instance_method" title="#generate_windows_script (instance method)">#<strong>generate_windows_script</strong>(filename, bindir)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Creates windows bat files for easy running of commands</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#install-instance_method" title="#install (instance method)">#<strong>install</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Installs the gem and returns a loaded <a href="Specification.html" title="Gem::Specification (class)">Specification</a> for the
installed gem.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#installation_satisfies_dependency%3F-instance_method" title="#installation_satisfies_dependency? (instance method)">#<strong>installation_satisfies_dependency?</strong>(dependency)  &#x21d2; Boolean </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>True if the gems in the system satisfy <code>dependency</code>.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#installed_specs-instance_method" title="#installed_specs (instance method)">#<strong>installed_specs</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Return an Array of Specifications contained within the gem_home we&#39;ll
be installing into.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#pre_install_checks-instance_method" title="#pre_install_checks (instance method)">#<strong>pre_install_checks</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Performs various checks before installing the gem such as the install
repository is writable and its directories exist, required ruby and
rubygems versions are met and that dependencies are installed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#process_options-instance_method" title="#process_options (instance method)">#<strong>process_options</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#shebang-instance_method" title="#shebang (instance method)">#<strong>shebang</strong>(bin_file_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Generates a <code>#!</code> line for <code>bin_file_name</code>&#39;s wrapper copying
arguments if necessary.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#spec_file-instance_method" title="#spec_file (instance method)">#<strong>spec_file</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>The location of of the spec file that is installed.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#unpack-instance_method" title="#unpack (instance method)">#<strong>unpack</strong>(directory)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Unpacks the gem into the given directory.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#verify_gem_home-instance_method" title="#verify_gem_home (instance method)">#<strong>verify_gem_home</strong>(unpack = false)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>DOC: Missing docs or :nodoc:.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#windows_stub_script-instance_method" title="#windows_stub_script (instance method)">#<strong>windows_stub_script</strong>(bindir, bin_file_name)  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>return the stub script text used to launch the true ruby script</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#write_build_info_file-instance_method" title="#write_build_info_file (instance method)">#<strong>write_build_info_file</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes the file containing the arguments for building this gem&#39;s
extensions.</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#write_cache_file-instance_method" title="#write_cache_file (instance method)">#<strong>write_cache_file</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes the <a href="#gem-instance_method" title="Gem::Installer#gem (method)">#gem</a> file to the cache directory</p>
</div>
      </span>
    </li>
    <li>
      <span class="summary_signature">
        <a href="#write_spec-instance_method" title="#write_spec (instance method)">#<strong>write_spec</strong>  </a>
      </span>
      <span class='summary_desc'>
        <div class='inline'>
<p>Writes the gemspec specification (in Ruby) to the gem home&#39;s
specifications directory.</p>
</div>
      </span>
    </li>
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="UserInteraction.html" title="Gem::UserInteraction (module)">UserInteraction</a></h3>
  <p class="inherited"><a href="UserInteraction.html#alert-instance_method" title="Gem::UserInteraction#alert (method)">#alert</a>, <a href="UserInteraction.html#alert_error-instance_method" title="Gem::UserInteraction#alert_error (method)">#alert_error</a>, <a href="UserInteraction.html#alert_warning-instance_method" title="Gem::UserInteraction#alert_warning (method)">#alert_warning</a>, <a href="UserInteraction.html#ask-instance_method" title="Gem::UserInteraction#ask (method)">#ask</a>, <a href="UserInteraction.html#ask_for_password-instance_method" title="Gem::UserInteraction#ask_for_password (method)">#ask_for_password</a>, <a href="UserInteraction.html#ask_yes_no-instance_method" title="Gem::UserInteraction#ask_yes_no (method)">#ask_yes_no</a>, <a href="UserInteraction.html#choose_from_list-instance_method" title="Gem::UserInteraction#choose_from_list (method)">#choose_from_list</a>, <a href="UserInteraction.html#say-instance_method" title="Gem::UserInteraction#say (method)">#say</a>, <a href="UserInteraction.html#terminate_interaction-instance_method" title="Gem::UserInteraction#terminate_interaction (method)">#terminate_interaction</a></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)">DefaultUserInteraction</a></h3>
  <p class="inherited"><a href="DefaultUserInteraction.html#ui-class_method" title="Gem::DefaultUserInteraction.ui (method)">.ui</a>, <a href="DefaultUserInteraction.html#ui-instance_method" title="Gem::DefaultUserInteraction#ui (method)">#ui</a>, <a href="DefaultUserInteraction.html#ui%3D-instance_method" title="Gem::DefaultUserInteraction#ui= (method)">#ui=</a>, <a href="DefaultUserInteraction.html#ui%3D-class_method" title="Gem::DefaultUserInteraction.ui= (method)">.ui=</a>, <a href="DefaultUserInteraction.html#use_ui-class_method" title="Gem::DefaultUserInteraction.use_ui (method)">.use_ui</a>, <a href="DefaultUserInteraction.html#use_ui-instance_method" title="Gem::DefaultUserInteraction#use_ui (method)">#use_ui</a></p>
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>
  <section class='method_details first' id="new-class_method">
  <h3 class='signature first'>
  .<strong>new</strong>(gem, options = {})  &#x21d2; <tt><a href="" title="Gem::Installer (class)">Installer</a></tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Constructs an Installer instance that will install the gem located at
<code>gem</code>.  <code>options</code> is a Hash with the following keys:</p>
<dl class="rdoc-list note-list"><dt>:bin_dir
<dd>
<p>Where to put a bin wrapper if needed.</p>
</dd><dt>:development
<dd>
<p>Whether or not development dependencies should be installed.</p>
</dd><dt>:env_shebang
<dd>
<p>Use /usr/bin/env in bin wrappers.</p>
</dd><dt>:force
<dd>
<p>Overrides all version checks and security policy checks, except for a
signed-gems-only policy.</p>
</dd><dt>:format_executable
<dd>
<p>Format the executable the same as the ruby executable. If your ruby is
ruby18, foo_exec will be installed as foo_exec18.</p>
</dd><dt>:ignore_dependencies
<dd>
<p>Don&#39;t raise if a dependency is missing.</p>
</dd><dt>:install_dir
<dd>
<p>The directory to install the gem into.</p>
</dd><dt>:security_policy
<dd>
<p>Use the specified security policy.  See <a href="Security.html" title="Gem::Security (module)">Security</a></p>
</dd><dt>:user_install
<dd>
<p>Indicate that the gem should be unpacked into the users personal gem
directory.</p>
</dd><dt>:only_install_dir
<dd>
<p>Only validate dependencies against what is in the install_dir</p>
</dd><dt>:wrappers
<dd>
<p>Install wrappers if true, symlinks if false.</p>
</dd><dt>:build_args
<dd>
<p>An Array of arguments to pass to the extension builder process. If not set,
then Gem::Command.build_args is used</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L110'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_gem'>gem</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fileutils</span><span class='tstring_end'>&#39;</span></span>

  <span class='ivar'>@gem</span> <span class='op'>=</span> <span class='id identifier rubyid_gem'>gem</span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
  <span class='ivar'>@package</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Package.html" title="Gem::Package (class)">Package</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="Package.html#new-class_method" title="Gem::Package.new (method)">new</a></span> <span class='ivar'>@gem</span>

  <span class='id identifier rubyid_process_options'>process_options</span>

  <span class='ivar'>@package</span><span class='period'>.</span><span class='id identifier rubyid_security_policy'>security_policy</span> <span class='op'>=</span> <span class='ivar'>@security_policy</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:user_install</span><span class='rbracket'>]</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:unpack</span><span class='rbracket'>]</span> <span class='kw'>then</span>
    <span class='ivar'>@gem_home</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_user_dir'><a href="../Gem.html#user_dir-class_method" title="Gem.user_dir (method)">user_dir</a></span>
    <span class='ivar'>@bin_dir</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span> <span class='id identifier rubyid_gem_home'>gem_home</span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:bin_dir</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_check_that_user_bin_dir_is_in_path'>check_that_user_bin_dir_is_in_path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Class Attribute Details</h2>
  <section class='method_details first' id="exec_format-class_method">
  <h3 class='signature first'>
  .<strong>exec_format</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Defaults to use Ruby&#39;s program prefix and suffix.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L81'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


81
82
83</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 81</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_exec_format'>exec_format</span>
  <span class='ivar'>@exec_format</span> <span class='op'>||=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_default_exec_format'><a href="../Gem.html#default_exec_format-class_method" title="Gem.default_exec_format (method)">default_exec_format</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="exec_format=-class_method">
  <h3 class='signature'>
  .<strong>exec_format=</strong>(value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L78'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


78</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 78</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:exec_format</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="path_warning-class_method">
  <h3 class='signature'>
  .<strong>path_warning</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>True if we&#39;ve warned about PATH not including <a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">Gem.bindir</a></p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L75'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


75</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 75</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:path_warning</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Attribute Details</h2>
  <section class='method_details first' id="bin_dir-instance_method">
  <h3 class='signature first'>
  #<strong>bin_dir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The directory a gem&#39;s executables will be installed into</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L56'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


56</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 56</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:bin_dir</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="bin_dir=-instance_method">
  <h3 class='signature'>
  #<strong>bin_dir=</strong>(value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L9'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


9</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 9</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:bin_dir</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="build_args=-instance_method">
  <h3 class='signature'>
  #<strong>build_args=</strong>(value)   <span class="extras">(<span class='only'>writeonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L14'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


14</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 14</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:build_args</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="env_shebang=-instance_method">
  <h3 class='signature'>
  #<strong>env_shebang=</strong>(value)   <span class="extras">(<span class='only'>writeonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L39'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


39</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 39</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:env_shebang</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="force=-instance_method">
  <h3 class='signature'>
  #<strong>force=</strong>(value)   <span class="extras">(<span class='only'>writeonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L24'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


24</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:force</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="format=-instance_method">
  <h3 class='signature'>
  #<strong>format=</strong>(value)   <span class="extras">(<span class='only'>writeonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L29'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


29</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:format</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="format_executable=-instance_method">
  <h3 class='signature'>
  #<strong>format_executable=</strong>(value)   <span class="extras">(<span class='only'>writeonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L49'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


49</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 49</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:format_executable</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gem-instance_method">
  <h3 class='signature'>
  #<strong>gem</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L51'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


51</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 51</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:gem</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gem_dir-instance_method">
  <h3 class='signature'>
  #<strong>gem_dir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Lazy accessor for the spec&#39;s gem directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L191'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


191
192
193</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span>
  <span class='ivar'>@gem_dir</span> <span class='op'>||=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_gem_home'>gem_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gems</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gem_dir=-instance_method">
  <h3 class='signature'>
  #<strong>gem_dir=</strong>(value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L19'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


19</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 19</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:gem_dir</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gem_home-instance_method">
  <h3 class='signature'>
  #<strong>gem_home</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The gem repository the gem will be installed into</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L61'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


61</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 61</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:gem_home</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="gem_home=-instance_method">
  <h3 class='signature'>
  #<strong>gem_home=</strong>(value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L34'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


34</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 34</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:gem_home</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ignore_dependencies=-instance_method">
  <h3 class='signature'>
  #<strong>ignore_dependencies=</strong>(value)   <span class="extras">(<span class='only'>writeonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L44'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


44</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 44</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:ignore_dependencies</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="options-instance_method">
  <h3 class='signature'>
  #<strong>options</strong>   <span class="extras">(<span class='only'>readonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The options passed when the <a href="" title="Gem::Installer (class)">Gem::Installer</a> was instantiated.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L66'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


66</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 66</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:options</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="security_policy=-instance_method">
  <h3 class='signature'>
  #<strong>security_policy=</strong>(value)   <span class="extras">(<span class='only'>writeonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L54'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


54</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 54</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:security_policy</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="spec-instance_method">
  <h3 class='signature'>
  #<strong>spec</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Lazy accessor for the installer&#39;s spec.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L198'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


198
199
200
201
202</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 198</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_spec'>spec</span>
  <span class='ivar'>@spec</span> <span class='op'>||=</span> <span class='ivar'>@package</span><span class='period'>.</span><span class='id identifier rubyid_spec'>spec</span>
<span class='kw'>rescue</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Package.html" title="Gem::Package (class)">Package</a></span><span class='op'>::</span><span class='const'><a href="Package/Error.html" title="Gem::Package::Error (class)">Error</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid gem: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="spec=-instance_method">
  <h3 class='signature'>
  #<strong>spec=</strong>(value)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L59'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


59</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 59</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:spec</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="wrappers=-instance_method">
  <h3 class='signature'>
  #<strong>wrappers=</strong>(value)   <span class="extras">(<span class='only'>writeonly</span>)</span>
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Available through requiring rubygems/installer_test_case</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer_test_case.rb#L64'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


64</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer_test_case.rb', line 64</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:wrappers</span>
</pre>
  </div>
</div>
</section>
<h2 class='y_details'>Instance Method Details</h2>
  <section class='method_details first' id="app_script_text-instance_method">
  <h3 class='signature first'>
  #<strong>app_script_text</strong>(bin_file_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the text for an application file.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L602'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 602</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_app_script_text'>app_script_text</span><span class='lparen'>(</span><span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='heredoc_beg'>&lt;&lt;-TEXT</span>
<span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shebang'>shebang</span> <span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>
#
# This file was generated by RubyGems.
#
# The application &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; is installed as part of a gem, and
# this file is here to facilitate running it.
#

require &#39;rubygems&#39;

version = &quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Requirement.html" title="Gem::Requirement (class)">Requirement</a></span><span class='period'>.</span><span class='id identifier rubyid_default'><a href="Requirement.html#default-class_method" title="Gem::Requirement.default (method)">default</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;

if ARGV.first
str = ARGV.first
str = str.dup.force_encoding(&quot;BINARY&quot;) if str.respond_to? :force_encoding
if str =~ /\\A_(.*)_\\z/
  version = $1
  ARGV.shift
end
end

gem &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;, version
load Gem.bin_path(&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;, &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;, version)
</span><span class='heredoc_end'>TEXT
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="build_extensions-instance_method">
  <h3 class='signature'>
  #<strong>build_extensions</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Builds extensions.  Valid types of extensions are extconf.rb files,
configure scripts and rakefiles or mkrf_conf files.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L649'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 649</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_extensions'>build_extensions</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_extensions'>extensions</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='ivar'>@build_args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Building native extensions.  This could take a while...</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Building native extensions with: &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@build_args</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This could take a while...</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_dest_path'>dest_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_require_paths'>require_paths</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_ran_rake'>ran_rake</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='comment'># only run rake once
</span>
  <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_extensions'>extensions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_extension'>extension</span><span class='op'>|</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_ran_rake'>ran_rake</span>
    <span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_extension'>extension</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_extension_dir'>extension_dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span><span class='comma'>,</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_extension'>extension</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_builder'>builder</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_extension'>extension</span>
              <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>extconf</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
                <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Ext.html" title="Gem::Ext (module)">Ext</a></span><span class='op'>::</span><span class='const'><a href="Ext/ExtConfBuilder.html" title="Gem::Ext::ExtConfBuilder (class)">ExtConfBuilder</a></span>
              <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>configure</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
                <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Ext.html" title="Gem::Ext (module)">Ext</a></span><span class='op'>::</span><span class='const'><a href="Ext/ConfigureBuilder.html" title="Gem::Ext::ConfigureBuilder (class)">ConfigureBuilder</a></span>
              <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>rakefile</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>mkrf_conf</span><span class='regexp_end'>/i</span></span> <span class='kw'>then</span>
                <span class='id identifier rubyid_ran_rake'>ran_rake</span> <span class='op'>=</span> <span class='kw'>true</span>
                <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Ext.html" title="Gem::Ext (module)">Ext</a></span><span class='op'>::</span><span class='const'><a href="Ext/RakeBuilder.html" title="Gem::Ext::RakeBuilder (class)">RakeBuilder</a></span>
              <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>CMakeLists.txt</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
                <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Ext.html" title="Gem::Ext (module)">Ext</a></span><span class='op'>::</span><span class='const'><a href="Ext/CmakeBuilder.html" title="Gem::Ext::CmakeBuilder (class)">CmakeBuilder</a></span>
              <span class='kw'>else</span>
                <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No builder for extension &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
                <span class='id identifier rubyid_extension_build_error'>extension_build_error</span> <span class='id identifier rubyid_extension_dir'>extension_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
              <span class='kw'>end</span>

    <span class='kw'>begin</span>
      <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_dest_path'>dest_path</span>

      <span class='const'><a href="#CHDIR_MUTEX-constant" title="Gem::Installer::CHDIR_MUTEX (constant)">CHDIR_MUTEX</a></span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
        <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span> <span class='id identifier rubyid_extension_dir'>extension_dir</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_extension'>extension</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_dest_path'>dest_path</span><span class='comma'>,</span>
                                  <span class='id identifier rubyid_results'>results</span><span class='comma'>,</span> <span class='ivar'>@build_args</span><span class='rparen'>)</span>

          <span class='id identifier rubyid_say'>say</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_configuration'><a href="../Gem.html#configuration-class_method" title="Gem.configuration (method)">configuration</a></span><span class='period'>.</span><span class='id identifier rubyid_really_verbose'>really_verbose</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span>
      <span class='id identifier rubyid_extension_build_error'>extension_build_error</span><span class='lparen'>(</span><span class='id identifier rubyid_extension_dir'>extension_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='gvar'>$@</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_executable_overwrite-instance_method">
  <h3 class='signature'>
  #<strong>check_executable_overwrite</strong>(filename)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Checks if <code>filename</code> exists in <code>@bin_dir</code>.</p>

<p>If <code>@force</code> is set <code>filename</code> is overwritten.</p>

<p>If <code>filename</code> exists and is a RubyGems wrapper for different gem
the user is consulted.</p>

<p>If <code>filename</code> exists and <code>@bin_dir</code> is
<a href="../Gem.html#default_bindir-class_method" title="Gem.default_bindir (method)">Gem.default_bindir</a> (/usr/local) the user is consulted.</p>

<p>Otherwise <code>filename</code> is overwritten.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt><a href="InstallError.html" title="Gem::InstallError (class)">Gem::InstallError</a></tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L141'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_executable_overwrite'>check_executable_overwrite</span> <span class='id identifier rubyid_filename'>filename</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@force</span>

  <span class='id identifier rubyid_generated_bin'>generated_bin</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='ivar'>@bin_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_program_filename'>formatted_program_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_generated_bin'>generated_bin</span>

  <span class='id identifier rubyid_ruby_executable'>ruby_executable</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_existing'>existing</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_generated_bin'>generated_bin</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^#!</span><span class='regexp_end'>/</span></span> <span class='comment'># shebang
</span>    <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span> <span class='comment'># blankline
</span>
    <span class='comment'># TODO detect a specially formatted comment instead of trying
</span>    <span class='comment'># to run a regexp against ruby code.
</span>    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>This file was generated by RubyGems</span><span class='regexp_end'>/</span></span>

    <span class='id identifier rubyid_ruby_executable'>ruby_executable</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_existing'>existing</span> <span class='op'>=</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^gem ([&#39;&quot;])(.*?)(\1),</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_existing'>existing</span>

  <span class='comment'># somebody has written to RubyGems&#39; directory, overwrite, too bad
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_default_bindir'><a href="../Gem.html#default_bindir-class_method" title="Gem.default_bindir (method)">default_bindir</a></span> <span class='op'>!=</span> <span class='ivar'>@bin_dir</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_ruby_executable'>ruby_executable</span>

  <span class='id identifier rubyid_question'>question</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;s executable \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; conflicts with </span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ruby_executable'>ruby_executable</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_question'>question</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_existing'>existing</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_ask_yes_no'>ask_yes_no</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_question'>question</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nOverwrite the executable?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>false</span>

    <span class='id identifier rubyid_conflict'>conflict</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>installed executable from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_existing'>existing</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_question'>question</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_generated_bin'>generated_bin</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_ask_yes_no'>ask_yes_no</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_question'>question</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nOverwrite the executable?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>false</span>

    <span class='id identifier rubyid_conflict'>conflict</span> <span class='op'>=</span> <span class='id identifier rubyid_generated_bin'>generated_bin</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> conflicts with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_conflict'>conflict</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="check_that_user_bin_dir_is_in_path-instance_method">
  <h3 class='signature'>
  #<strong>check_that_user_bin_dir_is_in_path</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L573'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 573</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_that_user_bin_dir_is_in_path'>check_that_user_bin_dir_is_in_path</span>
  <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span> <span class='op'>=</span> <span class='ivar'>@bin_dir</span> <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='lparen'>(</span><span class='id identifier rubyid_gem_home'>gem_home</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>SEPARATOR</span><span class='comma'>,</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>ALT_SEPARATOR</span><span class='rparen'>)</span> <span class='kw'>if</span>
    <span class='const'>File</span><span class='op'>::</span><span class='const'>ALT_SEPARATOR</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_win_platform?'><a href="../Gem.html#win_platform%3F-class_method" title="Gem.win_platform? (method)">win_platform?</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span> <span class='kw'>then</span>
    <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_path_warning'>path_warning</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_alert_warning'>alert_warning</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You don&#39;t have </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user_bin_dir'>user_bin_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'> in your PATH,\n\t  gem executables will not run.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_path_warning'>path_warning</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="dir-instance_method">
  <h3 class='signature'>
  #<strong>dir</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return the target directory where the gem is to be installed. This
directory is not guaranteed to be populated.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L747'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


747
748
749</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 747</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dir'>dir</span>
  <span class='id identifier rubyid_gem_dir'>gem_dir</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ensure_dependencies_met-instance_method">
  <h3 class='signature'>
  #<strong>ensure_dependencies_met</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L535'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


535
536
537
538
539
540
541
542</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 535</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_dependencies_met'>ensure_dependencies_met</span>
  <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span>
  <span class='id identifier rubyid_deps'>deps</span> <span class='op'>|=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_development_dependencies'>development_dependencies</span> <span class='kw'>if</span> <span class='ivar'>@development</span>

  <span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep_gem'>dep_gem</span><span class='op'>|</span>
    <span class='id identifier rubyid_ensure_dependency'>ensure_dependency</span> <span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='id identifier rubyid_dep_gem'>dep_gem</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ensure_dependency-instance_method">
  <h3 class='signature'>
  #<strong>ensure_dependency</strong>(spec, dependency)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Ensure that the dependency is satisfied by the current installation of gem.
If it is not an exception is raised.</p>
<dl class="rdoc-list note-list"><dt>spec       
<dd>
<p><a href="Specification.html" title="Gem::Specification (class)">Specification</a></p>
</dd><dt>dependency 
<dd>
<p><a href="Dependency.html" title="Gem::Dependency (class)">Dependency</a></p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L306'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


306
307
308
309
310
311</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 306</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_dependency'>ensure_dependency</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_installation_satisfies_dependency?'>installation_satisfies_dependency?</span> <span class='id identifier rubyid_dependency'>dependency</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dependency'>dependency</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ensure_loadable_spec-instance_method">
  <h3 class='signature'>
  #<strong>ensure_loadable_spec</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Ensures the <a href="Specification.html" title="Gem::Specification (class)">Specification</a> written out for this gem is loadable upon
installation.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L502'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


502
503
504
505
506
507
508
509
510
511
512</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 502</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_loadable_spec'>ensure_loadable_spec</span>
  <span class='id identifier rubyid_ruby'>ruby</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_to_ruby_for_cache'>to_ruby_for_cache</span>
  <span class='id identifier rubyid_ruby'>ruby</span><span class='period'>.</span><span class='id identifier rubyid_untaint'>untaint</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_eval'>eval</span> <span class='id identifier rubyid_ruby'>ruby</span>
  <span class='kw'>rescue</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='const'>SyntaxError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The specification for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is corrupt (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ensure_required_ruby_version_met-instance_method">
  <h3 class='signature'>
  #<strong>ensure_required_ruby_version_met</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L515'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


515
516
517
518
519
520
521</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 515</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_required_ruby_version_met'>ensure_required_ruby_version_met</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_rrv'>rrv</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_required_ruby_version'>required_ruby_version</span> <span class='kw'>then</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_rrv'>rrv</span><span class='period'>.</span><span class='id identifier rubyid_satisfied_by?'>satisfied_by?</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby_version'><a href="../Gem.html#ruby_version-class_method" title="Gem.ruby_version (method)">ruby_version</a></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires Ruby version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rrv'>rrv</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="ensure_required_rubygems_version_met-instance_method">
  <h3 class='signature'>
  #<strong>ensure_required_rubygems_version_met</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L524'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


524
525
526
527
528
529
530
531
532</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 524</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_required_rubygems_version_met'>ensure_required_rubygems_version_met</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_rrgv'>rrgv</span> <span class='op'>=</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_required_rubygems_version'>required_rubygems_version</span> <span class='kw'>then</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_rrgv'>rrgv</span><span class='period'>.</span><span class='id identifier rubyid_satisfied_by?'>satisfied_by?</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_rubygems_version'><a href="../Gem.html#rubygems_version-class_method" title="Gem.rubygems_version (method)">rubygems_version</a></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> requires RubyGems version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rrgv'>rrgv</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Try &#39;gem update --system&#39; to update RubyGems itself.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extension_build_error-instance_method">
  <h3 class='signature'>
  #<strong>extension_build_error</strong>(build_dir, output, backtrace = nil)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Logs the build <code>output</code> in <code>build_dir</code>, then raises
ExtensionBuildError.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt><a href="Installer/ExtensionBuildError.html" title="Gem::Installer::ExtensionBuildError (class)">ExtensionBuildError</a></tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L704'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 704</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extension_build_error'>extension_build_error</span><span class='lparen'>(</span><span class='id identifier rubyid_build_dir'>build_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='id identifier rubyid_backtrace'>backtrace</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gem_make_out'>gem_make_out</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_build_dir'>build_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>gem_make.out</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_gem_make_out'>gem_make_out</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_output'>output</span> <span class='kw'>end</span>

  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOF</span>
<span class='tstring_content'>ERROR: Failed to build gem native extension.

  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_output'>output</span><span class='embexpr_end'>}</span><span class='tstring_content'>

Gem files will remain installed in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_dir'>gem_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'> for inspection.
Results logged to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_make_out'>gem_make_out</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>EOF
</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="Installer/ExtensionBuildError.html" title="Gem::Installer::ExtensionBuildError (class)">ExtensionBuildError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='id identifier rubyid_backtrace'>backtrace</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="extract_files-instance_method">
  <h3 class='signature'>
  #<strong>extract_files</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Reads the file index and extracts each file into the gem directory.</p>

<p>Ensures that files can&#39;t be installed outside the gem directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L726'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


726
727
728</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 726</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_files'>extract_files</span>
  <span class='ivar'>@package</span><span class='period'>.</span><span class='id identifier rubyid_extract_files'>extract_files</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="formatted_program_filename-instance_method">
  <h3 class='signature'>
  #<strong>formatted_program_filename</strong>(filename)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Prefix and suffix the program filename the same as ruby.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L733'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


733
734
735
736
737
738
739</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 733</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_formatted_program_filename'>formatted_program_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@format_executable</span> <span class='kw'>then</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_exec_format'>exec_format</span> <span class='op'>%</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate_bin-instance_method">
  <h3 class='signature'>
  #<strong>generate_bin</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt><a href="FilePermissionError.html" title="Gem::FilePermissionError (class)">Gem::FilePermissionError</a></tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L365'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 365</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_bin'>generate_bin</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_executables'>executables</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_executables'>executables</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_mkdir'>mkdir</span> <span class='ivar'>@bin_dir</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='ivar'>@bin_dir</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="FilePermissionError.html" title="Gem::FilePermissionError (class)">FilePermissionError</a></span><span class='period'>.</span><span class='id identifier rubyid_new'><a href="FilePermissionError.html#new-class_method" title="Gem::FilePermissionError.new (method)">new</a></span><span class='lparen'>(</span><span class='ivar'>@bin_dir</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_writable?'>writable?</span> <span class='ivar'>@bin_dir</span>

  <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_executables'>executables</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_filename'>filename</span><span class='op'>|</span>
    <span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_untaint'>untaint</span>
    <span class='id identifier rubyid_bin_path'>bin_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>

    <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_bin_path'>bin_path</span> <span class='kw'>then</span>
      <span class='comment'># TODO change this to a more useful warning
</span>      <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bin_path'>bin_path</span><span class='embexpr_end'>}</span><span class='tstring_content'> maybe `gem pristine </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` will fix it?</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_stat'>stat</span><span class='lparen'>(</span><span class='id identifier rubyid_bin_path'>bin_path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_mode'>mode</span> <span class='op'>|</span> <span class='int'>0111</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_chmod'>chmod</span> <span class='id identifier rubyid_mode'>mode</span><span class='comma'>,</span> <span class='id identifier rubyid_bin_path'>bin_path</span>

    <span class='id identifier rubyid_check_executable_overwrite'>check_executable_overwrite</span> <span class='id identifier rubyid_filename'>filename</span>

    <span class='kw'>if</span> <span class='ivar'>@wrappers</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_generate_bin_script'>generate_bin_script</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='ivar'>@bin_dir</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_generate_bin_symlink'>generate_bin_symlink</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='ivar'>@bin_dir</span>
    <span class='kw'>end</span>

  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate_bin_script-instance_method">
  <h3 class='signature'>
  #<strong>generate_bin_script</strong>(filename, bindir)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates the scripts to run the applications in the gem.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L402'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


402
403
404
405
406
407
408
409
410
411
412
413
414</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 402</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_bin_script'>generate_bin_script</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'>bindir</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bin_script_path'>bin_script_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_program_filename'>formatted_program_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm_f'>rm_f</span> <span class='id identifier rubyid_bin_script_path'>bin_script_path</span> <span class='comment'># prior install may have been --no-wrappers
</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_bin_script_path'>bin_script_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0755</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_app_script_text'>app_script_text</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_say'>say</span> <span class='id identifier rubyid_bin_script_path'>bin_script_path</span> <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_configuration'><a href="../Gem.html#configuration-class_method" title="Gem.configuration (method)">configuration</a></span><span class='period'>.</span><span class='id identifier rubyid_really_verbose'>really_verbose</span>

  <span class='id identifier rubyid_generate_windows_script'>generate_windows_script</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'>bindir</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate_bin_symlink-instance_method">
  <h3 class='signature'>
  #<strong>generate_bin_symlink</strong>(filename, bindir)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates the symlinks to run the applications in the gem.  Moves the symlink
if the gem being installed has a newer version.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L420'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 420</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_bin_symlink'>generate_bin_symlink</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'>bindir</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_win_platform?'><a href="../Gem.html#win_platform%3F-class_method" title="Gem.win_platform? (method)">win_platform?</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_alert_warning'>alert_warning</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to use symlinks on Windows, installing wrapper</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_generate_bin_script'>generate_bin_script</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'>bindir</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_src'>src</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='id identifier rubyid_dst'>dst</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_program_filename'>formatted_program_filename</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_dst'>dst</span> <span class='kw'>then</span>
    <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_symlink?'>symlink?</span> <span class='id identifier rubyid_dst'>dst</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_readlink'>readlink</span><span class='lparen'>(</span><span class='id identifier rubyid_dst'>dst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>SEPARATOR</span>
      <span class='id identifier rubyid_cur_version'>cur_version</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Version.html" title="Gem::Version (class)">Version</a></span><span class='period'>.</span><span class='id identifier rubyid_create'><a href="Version.html#create-class_method" title="Gem::Version.create (method)">create</a></span><span class='lparen'>(</span><span class='id identifier rubyid_link'>link</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^.*-</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_cur_version'>cur_version</span>
    <span class='kw'>end</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span> <span class='id identifier rubyid_dst'>dst</span>
  <span class='kw'>end</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_symlink'>symlink</span> <span class='id identifier rubyid_src'>src</span><span class='comma'>,</span> <span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='symbol'>:verbose</span> <span class='op'>=&gt;</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_configuration'><a href="../Gem.html#configuration-class_method" title="Gem.configuration (method)">configuration</a></span><span class='period'>.</span><span class='id identifier rubyid_really_verbose'>really_verbose</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="generate_windows_script-instance_method">
  <h3 class='signature'>
  #<strong>generate_windows_script</strong>(filename, bindir)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Creates windows bat files for easy running of commands</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L352'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


352
353
354
355
356
357
358
359
360
361
362</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 352</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_windows_script'>generate_windows_script</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_bindir'>bindir</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_win_platform?'><a href="../Gem.html#win_platform%3F-class_method" title="Gem.win_platform? (method)">win_platform?</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_script_name'>script_name</span> <span class='op'>=</span> <span class='id identifier rubyid_filename'>filename</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.bat</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_script_path'>script_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_script_name'>script_name</span><span class='rparen'>)</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_script_path'>script_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
      <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_windows_stub_script'>windows_stub_script</span><span class='lparen'>(</span><span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_say'>say</span> <span class='id identifier rubyid_script_path'>script_path</span> <span class='kw'>if</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_configuration'><a href="../Gem.html#configuration-class_method" title="Gem.configuration (method)">configuration</a></span><span class='period'>.</span><span class='id identifier rubyid_really_verbose'>really_verbose</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="install-instance_method">
  <h3 class='signature'>
  #<strong>install</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Installs the gem and returns a loaded <a href="Specification.html" title="Gem::Specification (class)">Specification</a> for the
installed gem.</p>

<p>The gem will be installed with the following structure:</p>

<pre class="code ruby"><code class="ruby">@gem_home/
  cache/&lt;gem-version&gt;.gem #=&gt; a cached copy of the installed gem
  gems/&lt;gem-version&gt;/... #=&gt; extracted files
  specifications/&lt;gem-version&gt;.gemspec #=&gt; the Gem::Specification</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L215'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 215</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_install'>install</span>
  <span class='id identifier rubyid_pre_install_checks'>pre_install_checks</span>

  <span class='id identifier rubyid_run_pre_install_hooks'>run_pre_install_hooks</span>

  <span class='comment'># Completely remove any previous gem files
</span>  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm_rf'>rm_rf</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span>

  <span class='id identifier rubyid_extract_files'>extract_files</span>

  <span class='id identifier rubyid_build_extensions'>build_extensions</span>
  <span class='id identifier rubyid_write_build_info_file'>write_build_info_file</span>
  <span class='id identifier rubyid_run_post_build_hooks'>run_post_build_hooks</span>

  <span class='id identifier rubyid_generate_bin'>generate_bin</span>
  <span class='id identifier rubyid_write_spec'>write_spec</span>
  <span class='id identifier rubyid_write_cache_file'>write_cache_file</span>

  <span class='id identifier rubyid_say'>say</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_post_install_message'>post_install_message</span> <span class='kw'>unless</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_post_install_message'>post_install_message</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_loaded_from'>loaded_from</span> <span class='op'>=</span> <span class='id identifier rubyid_spec_file'>spec_file</span>

  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span><span class='period'>.</span><span class='id identifier rubyid_add_spec'><a href="Specification.html#add_spec-class_method" title="Gem::Specification.add_spec (method)">add_spec</a></span> <span class='id identifier rubyid_spec'>spec</span> <span class='kw'>unless</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_spec'>spec</span>

  <span class='id identifier rubyid_run_post_install_hooks'>run_post_install_hooks</span>

  <span class='id identifier rubyid_spec'>spec</span>

<span class='comment'># TODO This rescue is in the wrong place. What is raising this exception?
</span><span class='comment'># move this rescue to around the code that actually might raise it.
</span><span class='kw'>rescue</span> <span class='const'>Zlib</span><span class='op'>::</span><span class='const'>GzipFile</span><span class='op'>::</span><span class='const'>Error</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="InstallError.html" title="Gem::InstallError (class)">InstallError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gzip error installing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem'>gem</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="installation_satisfies_dependency?-instance_method">
  <h3 class='signature'>
  #<strong>installation_satisfies_dependency?</strong>(dependency)  &#x21d2; <tt>Boolean</tt> 
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>True if the gems in the system satisfy <code>dependency</code>.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L316'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


316
317
318
319
320</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 316</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_installation_satisfies_dependency?'>installation_satisfies_dependency?</span><span class='lparen'>(</span><span class='id identifier rubyid_dependency'>dependency</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_installed_specs'>installed_specs</span><span class='period'>.</span><span class='id identifier rubyid_detect'>detect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_matches_spec?'>matches_spec?</span> <span class='id identifier rubyid_s'>s</span> <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='ivar'>@only_install_dir</span>
  <span class='kw'>not</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_matching_specs'>matching_specs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="installed_specs-instance_method">
  <h3 class='signature'>
  #<strong>installed_specs</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return an Array of Specifications contained within the gem_home we&#39;ll
be installing into.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L286'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


286
287
288
289
290
291
292
293
294
295
296
297</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 286</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_installed_specs'>installed_specs</span>
  <span class='ivar'>@specs</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='const'>Dir</span><span class='lbracket'>[</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_gem_home'>gem_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>specifications</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.gemspec</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
      <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Specification.html" title="Gem::Specification (class)">Specification</a></span><span class='period'>.</span><span class='id identifier rubyid_load'><a href="Specification.html#load-class_method" title="Gem::Specification.load (method)">load</a></span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_untaint'>untaint</span>
      <span class='id identifier rubyid_specs'>specs</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_spec'>spec</span> <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_specs'>specs</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="pre_install_checks-instance_method">
  <h3 class='signature'>
  #<strong>pre_install_checks</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Performs various checks before installing the gem such as the install
repository is writable and its directories exist, required ruby and
rubygems versions are met and that dependencies are installed.</p>

<p>Version and dependency checks are skipped if this install is forced.</p>

<p>The dependent check will be skipped this install is ignoring dependencies.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L760'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 760</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pre_install_checks'>pre_install_checks</span>
  <span class='id identifier rubyid_verify_gem_home'>verify_gem_home</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:unpack</span><span class='rbracket'>]</span>

  <span class='comment'># If we&#39;re forcing the install then disable security unless the security
</span>  <span class='comment'># policy says that we only install signed gems.
</span>  <span class='ivar'>@security_policy</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>if</span>
    <span class='ivar'>@force</span> <span class='kw'>and</span> <span class='ivar'>@security_policy</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='ivar'>@security_policy</span><span class='period'>.</span><span class='id identifier rubyid_only_signed'>only_signed</span>

  <span class='id identifier rubyid_ensure_loadable_spec'>ensure_loadable_spec</span>

  <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ensure_gem_subdirectories'><a href="../Gem.html#ensure_gem_subdirectories-class_method" title="Gem.ensure_gem_subdirectories (method)">ensure_gem_subdirectories</a></span> <span class='id identifier rubyid_gem_home'>gem_home</span>

  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@force</span>

  <span class='id identifier rubyid_ensure_required_ruby_version_met'>ensure_required_ruby_version_met</span>
  <span class='id identifier rubyid_ensure_required_rubygems_version_met'>ensure_required_rubygems_version_met</span>
  <span class='id identifier rubyid_ensure_dependencies_met'>ensure_dependencies_met</span> <span class='kw'>unless</span> <span class='ivar'>@ignore_dependencies</span>

  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="process_options-instance_method">
  <h3 class='signature'>
  #<strong>process_options</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L545'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 545</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_process_options'>process_options</span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:bin_dir</span>      <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
    <span class='symbol'>:env_shebang</span>  <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbol'>:force</span>        <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbol'>:install_dir</span>  <span class='op'>=&gt;</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_dir'><a href="../Gem.html#dir-class_method" title="Gem.dir (method)">dir</a></span><span class='comma'>,</span>
    <span class='symbol'>:only_install_dir</span> <span class='op'>=&gt;</span> <span class='kw'>false</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span> <span class='id identifier rubyid_options'>options</span>

  <span class='ivar'>@env_shebang</span>         <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:env_shebang</span><span class='rbracket'>]</span>
  <span class='ivar'>@force</span>               <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:force</span><span class='rbracket'>]</span>
  <span class='ivar'>@gem_home</span>            <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:install_dir</span><span class='rbracket'>]</span>
  <span class='ivar'>@ignore_dependencies</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:ignore_dependencies</span><span class='rbracket'>]</span>
  <span class='ivar'>@format_executable</span>   <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:format_executable</span><span class='rbracket'>]</span>
  <span class='ivar'>@security_policy</span>     <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:security_policy</span><span class='rbracket'>]</span>
  <span class='ivar'>@wrappers</span>            <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:wrappers</span><span class='rbracket'>]</span>
  <span class='ivar'>@only_install_dir</span>    <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only_install_dir</span><span class='rbracket'>]</span>

  <span class='comment'># If the user has asked for the gem to be installed in a directory that is
</span>  <span class='comment'># the system gem directory, then use the system bin directory, else create
</span>  <span class='comment'># (or use) a new bin dir under the gem_home.
</span>  <span class='ivar'>@bin_dir</span>             <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:bin_dir</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_bindir'><a href="../Gem.html#bindir-class_method" title="Gem.bindir (method)">bindir</a></span><span class='lparen'>(</span><span class='id identifier rubyid_gem_home'>gem_home</span><span class='rparen'>)</span>
  <span class='ivar'>@development</span>         <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:development</span><span class='rbracket'>]</span>

  <span class='ivar'>@build_args</span>          <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:build_args</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="Command.html" title="Gem::Command (class)">Command</a></span><span class='period'>.</span><span class='id identifier rubyid_build_args'><a href="Command.html#build_args-class_method" title="Gem::Command.build_args (method)">build_args</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="shebang-instance_method">
  <h3 class='signature'>
  #<strong>shebang</strong>(bin_file_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Generates a <code>#!</code> line for <code>bin_file_name</code>&#39;s wrapper copying
arguments if necessary.</p>

<p>If the :custom_shebang config is set, then it is used as a template for how
to create the shebang used for to run a gem&#39;s executables.</p>

<p>The template supports 4 expansions:</p>

<pre class="code ruby"><code class="ruby">$env    the path to the unix env utility
$ruby   the path to the currently running ruby interpreter
$exec   the path to the gem&#39;s executable
$name   the name of the gem the executable is for</code></pre>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L457'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 457</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shebang'>shebang</span><span class='lparen'>(</span><span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ruby_name'>ruby_name</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Gem.html#ConfigMap-constant" title="Gem::ConfigMap (constant)">ConfigMap</a></span><span class='lbracket'>[</span><span class='symbol'>:ruby_install_name</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='ivar'>@env_shebang</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_dir'>gem_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='id identifier rubyid_bin_file_name'>bin_file_name</span>
  <span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span><span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#!</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_first_line'>first_line</span> <span class='kw'>then</span>
    <span class='comment'># Preserve extra words on shebang line, like &quot;-w&quot;.  Thanks RPA.
</span>    <span class='id identifier rubyid_shebang'>shebang</span> <span class='op'>=</span> <span class='id identifier rubyid_first_line'>first_line</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\#!.*?ruby\S*((\s\S)+)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='backref'>$1</span>
    <span class='id identifier rubyid_shebang'>shebang</span><span class='period'>.</span><span class='id identifier rubyid_strip!'>strip!</span> <span class='comment'># Avoid nasty ^M issues.
</span>  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_which'>which</span> <span class='op'>=</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_configuration'><a href="../Gem.html#configuration-class_method" title="Gem.configuration (method)">configuration</a></span><span class='lbracket'>[</span><span class='symbol'>:custom_shebang</span><span class='rbracket'>]</span>
    <span class='comment'># replace bin_file_name with &quot;ruby&quot; to avoid endless loops
</span>    <span class='id identifier rubyid_which'>which</span> <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Gem.html#ConfigMap-constant" title="Gem::ConfigMap (constant)">ConfigMap</a></span><span class='lbracket'>[</span><span class='symbol'>:ruby_install_name</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='id identifier rubyid_which'>which</span> <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\$(\w+)</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='kw'>case</span> <span class='backref'>$1</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>env</span><span class='tstring_end'>&quot;</span></span>
        <span class='ivar'>@env_path</span> <span class='op'>||=</span> <span class='const'><a href="#ENV_PATHS-constant" title="Gem::Installer::ENV_PATHS (constant)">ENV_PATHS</a></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_env_path'>env_path</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_executable?'>executable?</span> <span class='id identifier rubyid_env_path'>env_path</span> <span class='rbrace'>}</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>exec</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_bin_file_name'>bin_file_name</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_which'>which</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='kw'>not</span> <span class='id identifier rubyid_ruby_name'>ruby_name</span> <span class='kw'>then</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_opts'>opts</span> <span class='kw'>then</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!/bin/sh\n&#39;exec&#39; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby_name'>ruby_name</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='embexpr_end'>}</span><span class='tstring_content'> &#39;-x&#39; \&quot;$0\&quot; \&quot;$@\&quot;\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shebang'>shebang</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='comment'># Create a plain shebang line.
</span>    <span class='ivar'>@env_path</span> <span class='op'>||=</span> <span class='const'><a href="#ENV_PATHS-constant" title="Gem::Installer::ENV_PATHS (constant)">ENV_PATHS</a></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_env_path'>env_path</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_executable?'>executable?</span> <span class='id identifier rubyid_env_path'>env_path</span> <span class='rbrace'>}</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#!</span><span class='embexpr_beg'>#{</span><span class='ivar'>@env_path</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby_name'>ruby_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="spec_file-instance_method">
  <h3 class='signature'>
  #<strong>spec_file</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The location of of the spec file that is installed.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L334'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


334
335
336</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 334</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_spec_file'>spec_file</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_home'>gem_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>specifications</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.gemspec</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="unpack-instance_method">
  <h3 class='signature'>
  #<strong>unpack</strong>(directory)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Unpacks the gem into the given directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L325'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


325
326
327
328</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 325</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='id identifier rubyid_directory'>directory</span><span class='rparen'>)</span>
  <span class='ivar'>@gem_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_directory'>directory</span>
  <span class='id identifier rubyid_extract_files'>extract_files</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="verify_gem_home-instance_method">
  <h3 class='signature'>
  #<strong>verify_gem_home</strong>(unpack = false)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>DOC: Missing docs or :nodoc:.</p>


  </div>
</div>
<div class="tags">
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<tt><a href="FilePermissionError.html" title="Gem::FilePermissionError (class)">Gem::FilePermissionError</a></tt>)</span>
  </li>
</ul>

</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L593'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


593
594
595
596
597</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 593</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_verify_gem_home'>verify_gem_home</span><span class='lparen'>(</span><span class='id identifier rubyid_unpack'>unpack</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_gem_home'>gem_home</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="FilePermissionError.html" title="Gem::FilePermissionError (class)">FilePermissionError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_gem_home'>gem_home</span> <span class='kw'>unless</span>
    <span class='id identifier rubyid_unpack'>unpack</span> <span class='kw'>or</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_writable?'>writable?</span><span class='lparen'>(</span><span class='id identifier rubyid_gem_home'>gem_home</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="windows_stub_script-instance_method">
  <h3 class='signature'>
  #<strong>windows_stub_script</strong>(bindir, bin_file_name)  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>return the stub script text used to launch the true ruby script</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L633'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


633
634
635
636
637
638
639
640
641
642
643</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 633</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_windows_stub_script'>windows_stub_script</span><span class='lparen'>(</span><span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ruby'>ruby</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='const'><a href="../Gem.html" title="Gem (module)">Gem</a></span><span class='period'>.</span><span class='id identifier rubyid_ruby'><a href="../Gem.html#ruby-class_method" title="Gem.ruby (method)">ruby</a></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='heredoc_beg'>&lt;&lt;-TEXT</span>
<span class='tstring_content'>@ECHO OFF
IF NOT &quot;%~f0&quot; == &quot;~f0&quot; GOTO :WinNT
@&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby'>ruby</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot; &quot;</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_bindir'>bindir</span><span class='comma'>,</span> <span class='id identifier rubyid_bin_file_name'>bin_file_name</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot; %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO :EOF
:WinNT
@&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby'>ruby</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot; &quot;%~dpn0&quot; %*
</span><span class='heredoc_end'>TEXT
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="write_build_info_file-instance_method">
  <h3 class='signature'>
  #<strong>write_build_info_file</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes the file containing the arguments for building this gem&#39;s
extensions.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L785'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


785
786
787
788
789
790
791
792
793
794
795
796
797
798
799</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 785</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_build_info_file'>write_build_info_file</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@build_args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_build_info_dir'>build_info_dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_home'>gem_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>build_info</span><span class='tstring_end'>&#39;</span></span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='id identifier rubyid_build_info_dir'>build_info_dir</span>

  <span class='id identifier rubyid_build_info_file'>build_info_file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_build_info_dir'>build_info_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.info</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_build_info_file'>build_info_file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='ivar'>@build_args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_arg'>arg</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="write_cache_file-instance_method">
  <h3 class='signature'>
  #<strong>write_cache_file</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes the <a href="#gem-instance_method" title="Gem::Installer#gem (method)">#gem</a> file to the cache directory</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L804'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


804
805
806
807
808</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 804</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_cache_file'>write_cache_file</span>
  <span class='id identifier rubyid_cache_file'>cache_file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='id identifier rubyid_gem_home'>gem_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cache</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_file_name'>file_name</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_cp'>cp</span> <span class='ivar'>@gem</span><span class='comma'>,</span> <span class='id identifier rubyid_cache_file'>cache_file</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_cache_file'>cache_file</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>
  <section class='method_details' id="write_spec-instance_method">
  <h3 class='signature'>
  #<strong>write_spec</strong>  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Writes the gemspec specification (in Ruby) to the gem home&#39;s
specifications directory.</p>


  </div>
</div>
<div class="tags">
  
</div>  <span class='link_repo'>[ <a href='https://github.com/ruby/ruby/blob/ruby_2_0_0/lib/rubygems/installer.rb#L342'>GitHub</a> ]</span>
<div class='source_code h'>
  <pre class='lines_num'>


342
343
344
345
346
347</pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/installer.rb', line 342</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_write_spec'>write_spec</span>
  <span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_spec_file'>spec_file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>w</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_to_ruby_for_cache'>to_ruby_for_cache</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_fsync'>fsync</span> <span class='kw'>rescue</span> <span class='kw'>nil</span> <span class='comment'># for filesystems without fsync(2)
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<div id='footer'>
  Generated by
  <a href='http://yardoc.org' title='Yay! A Ruby Documentation Tool' target="_parent">yard</a>
  0.9.5 with <a href='https://msp-greg.github.io/yard-t2/' title='yard-t2' target="_parent">yard-t2</a> 0.6.0 (ruby-2.3.2p135)
</div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</div> <!-- tbl_cont -->
</body>
</html>