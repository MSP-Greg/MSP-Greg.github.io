<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Compatibility &mdash; Mongoid master</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "compatibility",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Mongoid master</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Compatibility&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<h1>Compatibility</h1>

<div class="contents singlecol" markdown="1" local="" backlinks="none" depth="2"></div>

<h2>Ruby MongoDB Driver Compatibility</h2>

<p>The following compatibility table specifies the versions of <a href="https://mongodb.com/docs/ruby-driver/current/">Ruby driver for
MongoDB</a>
(the <code>mongo</code> gem) supported by the most recent patch releases of the
specified <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> versions.</p>

<div class="note" markdown="1">

<div class="title" markdown="1">

Note

</div>

<p>Older versions of <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> within the same minor release may support older
driver versions. For example, <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 7.0.5 supports driver versions 2.5 and
newer, whereas <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 7.0.6 requires driver version 2.7 or newer.</p>

<p></div></p>

<table><thead>
<tr>
<th><a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a></th>
<th>Driver 2.19-2.18</th>
<th>Driver 2.17-2.10</th>
<th>Driver 2.9-2.7</th>
</tr>
</thead><tbody>
<tr>
<td>8.0 thru 9.0</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
</tr>
<tr>
<td>7.2 thru 7.5</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
</tr>
<tr>
<td>7.0 thru 7.1</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
</tr>
</tbody></table>

<h2>Ruby Compatibility</h2>

<p>The following compatibility table specifies the versions of Ruby interpreters
supported by <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a>. &quot;D&quot; in a column means support for that Ruby version
is deprecated.</p>

<table><thead>
<tr>
<th><a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a></th>
<th>Ruby 3.2</th>
<th>Ruby 3.1</th>
<th>Ruby 3.0</th>
<th>Ruby 2.7</th>
<th>Ruby 2.6</th>
<th>Ruby 2.5</th>
<th>Ruby 2.4</th>
<th>Ruby 2.3</th>
<th>Ruby 2.2</th>
<th>JRuby 9.4</th>
<th>JRuby 9.3</th>
<th>JRuby 9.2</th>
</tr>
</thead><tbody>
<tr>
<td>9.0</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
</tr>
<tr>
<td>8.1</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
</tr>
<tr>
<td>8.0</td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
</tr>
<tr>
<td>7.5</td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>D</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td>D</td>
</tr>
<tr>
<td>7.4</td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
</tr>
<tr>
<td>7.3</td>
<td></td>
<td>&nbsp;&nbsp;✓[^1]</td>
<td>&nbsp;&nbsp;✓[^2]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>D</td>
<td>D</td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
</tr>
<tr>
<td>7.2</td>
<td></td>
<td>&nbsp;&nbsp;✓[^3]</td>
<td>&nbsp;&nbsp;✓[^4]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>D</td>
<td>D</td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
</tr>
<tr>
<td>7.1</td>
<td></td>
<td>&nbsp;&nbsp;✓[^5]</td>
<td>&nbsp;&nbsp;✓[^6]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓[^7]</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
</tr>
<tr>
<td>7.0</td>
<td></td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓[^8]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓[^9]</td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
</tr>
</tbody></table>

<h2>MongoDB Server Compatibility</h2>

<p>The following compatibility table specifies the recommended
version(s) of <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> for use with a specific version of MongoDB server.</p>

<p>Note that in order to use features of a particular MongoDB server version,
both the driver and <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> must support that server version.
Please refer to <a href="https://mongodb.com/docs/ruby-driver/current/reference/driver-compatibility/">the driver compatibility page</a>
for driver compatibility matrices.</p>

<p>&quot;D&quot; in a column means support for that MongoDB server version is deprecated
and will be removed in a next version.</p>

<table><thead>
<tr>
<th><a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a></th>
<th>MongoDB 7.0</th>
<th>MongoDB 6.0</th>
<th>MongoDB 5.0</th>
<th>MongoDB 4.4</th>
<th>MongoDB 4.2</th>
<th>MongoDB 4.0</th>
<th>MongoDB 3.6</th>
<th>MongoDB 3.4</th>
<th>MongoDB 3.2</th>
<th>MongoDB 3.0</th>
<th>MongoDB 2.6</th>
</tr>
</thead><tbody>
<tr>
<td>8.0 thru 9.0</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>7.4 thru 7.5</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>D</td>
<td>D</td>
<td>D</td>
<td>D</td>
</tr>
<tr>
<td>7.0 thru 7.3</td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>D</td>
<td>D</td>
<td>D</td>
<td>D</td>
</tr>
</tbody></table>

<h2>Rails Compatibility</h2>

<p>The following compatibility table specifies which versions of Ruby on <a href="Rails.html" title="Rails (module)"><code>Rails</code></a>
are supported by <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a>.</p>

<table><thead>
<tr>
<th><a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a></th>
<th><a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 7.1</th>
<th><a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 7.0</th>
<th><a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 6.1</th>
<th><a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 6.0</th>
<th><a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 5.2</th>
<th><a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 5.1</th>
</tr>
</thead><tbody>
<tr>
<td>9.0</td>
<td>&nbsp;&nbsp;✓[^10]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td></td>
<td></td>
</tr>
<tr>
<td>8.0 thru 8.1</td>
<td>&nbsp;&nbsp;✓[^11]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓[^12]</td>
<td></td>
</tr>
<tr>
<td>7.5</td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓[^13]</td>
<td>D</td>
</tr>
<tr>
<td>7.4</td>
<td></td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓[^14]</td>
<td>&nbsp;&nbsp;✓[^15]</td>
</tr>
<tr>
<td>7.3</td>
<td></td>
<td>&nbsp;&nbsp;✓[^16]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓[^17]</td>
<td>&nbsp;&nbsp;✓[^18]</td>
</tr>
<tr>
<td>7.2</td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓[^19]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓[^20]</td>
<td>&nbsp;&nbsp;✓[^21]</td>
</tr>
<tr>
<td>7.1</td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓[^22]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
</tr>
<tr>
<td>7.0</td>
<td></td>
<td></td>
<td>&nbsp;&nbsp;✓[^23]</td>
<td>&nbsp;&nbsp;✓[^24]</td>
<td>&nbsp;&nbsp;✓</td>
<td>&nbsp;&nbsp;✓</td>
</tr>
</tbody></table>

<h3>Rails Frameworks Support</h3>

<p>Ruby on <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> is comprised of a number of frameworks, which <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> attempts to
provide compatibility with wherever possible.</p>

<p>Though Mongoid attempts to offer API compatibility with <a href="https://guides.rubyonrails.org/active_record_basics.html">Active Record</a>,
libraries that depend directly on Active Record may not work as expected when
<a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> is used as a drop-in replacement.</p>

<div class="note" markdown="1">

<div class="title" markdown="1">

Note

</div>

<p><a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> can be used alongside Active Record within the same application without issue.</p>

<p></div></p>

<table><thead>
<tr>
<th><a href="Rails.html" title="Rails (module)"><code>Rails</code></a> Framework</th>
<th>Supported?</th>
</tr>
</thead><tbody>
<tr>
<td><code>ActionCable</code></td>
<td>&nbsp;&nbsp;✓[^25]</td>
</tr>
<tr>
<td><code>ActionMailbox</code></td>
<td>[^26]</td>
</tr>
<tr>
<td><code>ActionMailer</code></td>
<td>&nbsp;&nbsp;✓</td>
</tr>
<tr>
<td><code>ActionPack</code></td>
<td>&nbsp;&nbsp;✓</td>
</tr>
<tr>
<td><code>ActionText</code></td>
<td>[^27]</td>
</tr>
<tr>
<td><code>ActionView</code></td>
<td>&nbsp;&nbsp;✓</td>
</tr>
<tr>
<td><code>ActiveJob</code></td>
<td>&nbsp;&nbsp;✓[^28]</td>
</tr>
<tr>
<td><code>ActiveModel</code></td>
<td>&nbsp;&nbsp;✓[^29]</td>
</tr>
<tr>
<td><code>ActiveStorage</code></td>
<td>[^30]</td>
</tr>
<tr>
<td><a href="ActiveSupport.html" title="ActiveSupport (module)"><code>ActiveSupport</code></a></td>
<td>&nbsp;&nbsp;✓[^31]</td>
</tr>
</tbody></table>

<p>[^1]: <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> version 7.3.2 or higher is required.</p>

<p>[^2]: <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> version 7.3.2 or higher is required.</p>

<p>[^3]: <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> version 7.2.5 or higher is required.</p>

<p>[^4]: <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> version 7.2.5 or higher is required.</p>

<p>[^5]: <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> version 7.1.10 or higher is required.</p>

<p>[^6]: <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> version 7.1.10 or higher is required.</p>

<p>[^7]: Ruby version 2.4.1 or higher is required.</p>

<p>[^8]: Ruby version 2.4.1 or higher is required.</p>

<p>[^9]: Ruby version 2.2.2 or higher is required.</p>

<p>[^10]: <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 7.1 requires <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 8.0.7 or 8.1.3 in the respective
    8.0 and 8.1 stable branches.</p>

<p>[^11]: <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 7.1 requires <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 8.0.7 or 8.1.3 in the respective
    8.0 and 8.1 stable branches.</p>

<p>[^12]: Using Rails 5.x with Ruby 3 is not supported.</p>

<p>[^13]: Using Rails 5.x with Ruby 3 is not supported.</p>

<p>[^14]: Using Rails 5.x with Ruby 3 is not supported.</p>

<p>[^15]: Using Rails 5.x with Ruby 3 is not supported.</p>

<p>[^16]: <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 7.x requires <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 7.3.4 or later.</p>

<p>[^17]: Using Rails 5.x with Ruby 3 is not supported.</p>

<p>[^18]: Using Rails 5.x with Ruby 3 is not supported.</p>

<p>[^19]: <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 6.1 requires <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 7.0.12, 7.1.7 or 7.2.1 in the
    respective 7.0, 7.1 and 7.2 stable branches.</p>

<p>[^20]: Using Rails 5.x with Ruby 3 is not supported.</p>

<p>[^21]: Using Rails 5.x with Ruby 3 is not supported.</p>

<p>[^22]: <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 6.1 requires <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 7.0.12, 7.1.7 or 7.2.1 in the
    respective 7.0, 7.1 and 7.2 stable branches.</p>

<p>[^23]: <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 6.1 requires <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 7.0.12, 7.1.7 or 7.2.1 in the
    respective 7.0, 7.1 and 7.2 stable branches.</p>

<p>[^24]: <a href="Rails.html" title="Rails (module)"><code>Rails</code></a> 6.0 requires <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> 7.0.5 or later.</p>

<p>[^25]: There is currently no MongoDB adapter for
    <code>ActionCable</code>, however any existing adapter (such as <a href="https://guides.rubyonrails.org/action_cable_overview.html#redis-adapter">Redis</a>)
    can be used successfully in conjunction with Mongoid models</p>

<p>[^26]: Depends directly on <code>ActiveRecord</code></p>

<p>[^27]: Depends directly on <code>ActiveRecord</code></p>

<p>[^28]: Serialization of <a href="BSON.html" title="BSON (module)"><code>BSON</code></a> &amp; <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> objects works best
    if you explicitly send <a href="BSON/ObjectId.html" title="BSON::ObjectId (class)"><code>::BSON::ObjectId</code></a>&#39;s as strings, and reconstitute them in the job:</p>

<pre class="code ruby"><code class="ruby"><span class='backtick'>`</span><span class='tstring_end'>`</span></span><span class='backtick'>`</span><span class='tstring_content'> ruby
record = Model.find(...)
MyJob.perform_later(record._id.to_s)

class MyJob &lt; ApplicationJob
  def perform(id_as_string)
    record = Model.find(id_as_string)
    # ...
  end
end
</span><span class='tstring_end'>`</span></span><span class='backtick'>`</span><span class='tstring_end'>`</span></span></code></pre>

<p>[^29]: <a href="Mongoid/Document.html" title="Mongoid::Document (module)"><code>::Mongoid::Document</code></a> includes <code>ActiveModel::Model</code>
    and leverages <code>ActiveModel::Validations</code> for validations</p>

<p>[^30]: Depends directly on <code>ActiveRecord</code></p>

<p>[^31]: <a href="Mongoid.html" title="Mongoid (module)"><code>Mongoid</code></a> requires <a href="ActiveSupport.html" title="ActiveSupport (module)"><code>ActiveSupport</code></a> and
    uses it extensively, including <a href="ActiveSupport/TimeWithZone.html" title="ActiveSupport::TimeWithZone (class)"><code>::ActiveSupport::TimeWithZone</code></a> for time handling.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>