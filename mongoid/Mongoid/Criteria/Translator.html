<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Mongoid::Criteria::Translator &mdash; Mongoid master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Mongoid::Criteria::Translator",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Mongoid master</a> &raquo; 
      <a href='../../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../../Mongoid.html" title="Mongoid (module)">Mongoid</a> &raquo; 
        <a href="../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a> &raquo; 
      <span class='title'><a class='nodoc' id='t2_doc_top' href='#'>Translator&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Mongoid::Criteria::Translator  <span class='private note title'>Private</span>
</h1>
  <div class='note nodoc inline-block'>
    <strong>Do not use.  This module is for internal use only.</strong>
  </div>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/criteria/translator.rb#L14'>lib/mongoid/criteria/translator.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>This is a helper module for translating atomic and composite Ruby values into corresponding query and option components. Originally implemented as patches to core classes, that approach has generally fallen into disfavor, as it bleeds too much into the public namespace.</p>

  </div>
</div>
<div class='tags'>
  
</div>
</div>
<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full nodoc'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#to_direction-instance_method" title="#to_direction (instance method)">#<strong>to_direction</strong>(value)  &#x21d2; Hash | Numeric </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Converts the given value to a direction specification for use in sorting.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="to_direction-instance_method">
  <h3 class='signature nodoc first'>
    #<strong>to_direction</strong>(value)  &#x21d2; <a href="../../Hash.html" title="Hash (class)">Hash</a> | <code>Numeric</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Converts the given value to a direction specification for use in sorting.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Convert the value to a direction.</p>
</div></p>
      <pre class='example code ruby'><code><span class='const'>Translator</span>.<span class='id identifier rubyid_to_direction'>to_direction</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_desc'>desc</span>)
<span class='const'>Translator</span>.<span class='id identifier rubyid_to_direction'>to_direction</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>)
<span class='const'>Translator</span>.<span class='id identifier rubyid_to_direction'>to_direction</span>(<span class='op'>-</span><span class='int'>1</span>)
<span class='const'>Translator</span>.<span class='id identifier rubyid_to_direction'>to_direction</span>(<span class='label'>score:</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$meta</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>textScore</span><span class='tstring_end'>&quot;</span></span> })</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>value</span>
    <span class='type'>(<a href="../../Hash.html" title="Hash (class)">Hash</a> | <code>Numeric</code> | <a href="../../String.html" title="String (class)">String</a> | <a href="../../Symbol.html" title="Symbol (class)">Symbol</a>)</span>
&mdash;    <div class='inline'>
<p>The value to convert.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Hash.html" title="Hash (class)">Hash</a> | <code>Numeric</code>)</span>
&mdash;    <div class='inline'>
<p>The direction.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/criteria/translator.rb#L29-L42'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='29' data-end='42'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/criteria/translator.rb', line 29</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_direction'>to_direction</span>(<span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='const'><a href="../../Hash.html" title="Hash (class)">Hash</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='const'>Numeric</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='const'><a href="../../String.html" title="String (class)">String</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>desc</span><span class='regexp_end'>/i</span></span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>:</span> <span class='int'>1</span>
  <span class='kw'>when</span> <span class='const'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_to_direction'>to_direction</span>(<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_to_s'>to_s</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cannot translate </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>) to a direction specification</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>