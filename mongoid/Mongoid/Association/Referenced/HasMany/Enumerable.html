<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Mongoid::Association::Referenced::HasMany::Enumerable &mdash; Mongoid master</title>

<link rel='stylesheet'  type='text/css' href='../../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Mongoid::Association::Referenced::HasMany::Enumerable",
    relpath = '../../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../../'>Mongoid master</a> &raquo; 
      <a href='../../../../_index.html#alpha_E'>Index (E)</a> &raquo; 
        <a href="../../../../Mongoid.html" title="Mongoid (module)">Mongoid</a> &raquo; 
        <a href="../../../Association.html" title="Mongoid::Association (module)">Association</a> &raquo; 
        <a href="../../Referenced.html" title="Mongoid::Association::Referenced (module)">Referenced</a> &raquo; 
        <a href="../HasMany.html" title="Mongoid::Association::Referenced::HasMany (class)">HasMany</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Enumerable&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Mongoid::Association::Referenced::HasMany::Enumerable</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Forwardable
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../../../Pluckable.html" title="Mongoid::Pluckable (module)"><code>::Mongoid::Pluckable</code></a>,
          Enumerable
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L14'>lib/mongoid/association/referenced/has_many/enumerable.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>This class is the wrapper for all referenced associations that have a target that can be a criteria or array of _loaded documents. This handles both cases or a combination of the two.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(target, base = nil, association = nil)  &#x21d2; Enumerable </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initialize the new enumerable either with a criteria or an array.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#_added-instance_method" title="#_added (instance method)">#<strong>_added</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The three main instance variables are collections of documents.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#_added+Documents+that+have+been+appended%2E-instance_method" title="#_added Documents that have been appended. (instance method)">#<strong>_added Documents that have been appended.</strong>(Documents that have been appended.)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The three main instance variables are collections of documents.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#_loaded-instance_method" title="#_loaded (instance method)">#<strong>_loaded</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The three main instance variables are collections of documents.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#_loaded+Persisted+documents+that+have+been+_loaded%2E-instance_method" title="#_loaded Persisted documents that have been _loaded. (instance method)">#<strong>_loaded Persisted documents that have been _loaded.</strong>(Persisted documents that have been _loaded.)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The three main instance variables are collections of documents.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#_loaded%3F-instance_method" title="#_loaded? (instance method)">#<strong>_loaded?</strong>  &#x21d2; true | false </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Has the enumerable been _loaded? This will be true if the criteria has been executed or we manually load the entire thing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#_unloaded-instance_method" title="#_unloaded (instance method)">#<strong>_unloaded</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The three main instance variables are collections of documents.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#_unloaded+A+criteria+representing+persisted+docs%2E-instance_method" title="#_unloaded A criteria representing persisted docs. (instance method)">#<strong>_unloaded A criteria representing persisted docs.</strong>(A criteria representing persisted docs.)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The three main instance variables are collections of documents.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; true | false </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is the enumerable empty? Will determine if the count is zero based on whether or not it is _loaded.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(document)  &#x21d2; Document </a>
      (also: #push)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Append a document to the enumerable.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; true | false </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Check if the enumerable is equal to the other object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#===-instance_method" title="#=== (instance method)">#<strong>===</strong>(other)  &#x21d2; true | false </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Check equality of the enumerable against the provided object for case statements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#any%3F-instance_method" title="#any? (instance method)">#<strong>any?</strong>(*args)  &#x21d2; true | false </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether the association has any documents, optionally subject to the provided filters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#as_json-instance_method" title="#as_json (instance method)">#<strong>as_json</strong>(options = {})  &#x21d2; Hash </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Send #as_json to the entries, without encoding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; Array&lt;Document&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Clears out all the documents in this enumerable.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clone-instance_method" title="#clone (instance method)">#<strong>clone</strong>  &#x21d2; Array&lt;Document&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Clones each document in the enumerable.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(document) {|doc| ... } &#x21d2; Document </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delete the supplied document from the enumerable.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong>(&amp;block)  &#x21d2; Array&lt;Document&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Deletes every document in the enumerable for where the block returns true.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>  &#x21d2; true </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Iterating over this enumerable has to handle a few different scenarios.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#first-instance_method" title="#first (instance method)">#<strong>first</strong>(limit = nil)  &#x21d2; Document </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the first document in the enumerable.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#in_memory-instance_method" title="#in_memory (instance method)">#<strong>in_memory</strong>  &#x21d2; Array&lt;Document&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return all the documents in the enumerable that have been _loaded or _added.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(doc)  &#x21d2; true | false </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Does the target include the provided document?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Inspection will just inspect the entries for nice array-style printing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#last-instance_method" title="#last (instance method)">#<strong>last</strong>(limit = nil)  &#x21d2; Document </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the last document in the enumerable.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#size-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#size (method)">#size</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#load_all!-instance_method" title="#load_all! (instance method)">#<strong>load_all!</strong>  &#x21d2; true </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Loads all the documents in the enumerable from the database.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#marshal_dump-instance_method" title="#marshal_dump (instance method)">#<strong>marshal_dump</strong>  &#x21d2; Array&lt;Object&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Provides the data needed to Marshal.dump an enumerable proxy.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#marshal_load-instance_method" title="#marshal_load (instance method)">#<strong>marshal_load</strong>(data)  &#x21d2; Array&lt;Object&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Loads the data needed to Marshal.load an enumerable proxy.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pluck-instance_method" title="#pluck (instance method)">#<strong>pluck</strong>(*keys)  &#x21d2; Array | Array&lt;Array&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Plucks the given field names from the documents in the target.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>(document)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#<<-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#&lt;&lt; (method)">#&lt;&lt;</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset-instance_method" title="#reset (instance method)">#<strong>reset</strong>  &#x21d2; false </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Reset the enumerable back to its persisted state.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reset_unloaded-instance_method" title="#reset_unloaded (instance method)">#<strong>reset_unloaded</strong>(criteria)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Resets the underlying unloaded criteria object with a new one.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#respond_to%3F-instance_method" title="#respond_to? (instance method)">#<strong>respond_to?</strong>(name, include_private = false)  &#x21d2; true | false </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Does this enumerable respond to the provided method?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Integer </a>
      (also: #length)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Gets the total size of this enumerable.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_json-instance_method" title="#to_json (instance method)">#<strong>to_json</strong>(options = {})  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Send #to_json to the entries.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#uniq-instance_method" title="#uniq (instance method)">#<strong>uniq</strong>  &#x21d2; Array&lt;Document&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return all the unique documents in the enumerable.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#set_base-instance_method" title="#set_base (instance method)">#<strong>set_base</strong>(document)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#unloaded_documents-instance_method" title="#unloaded_documents (instance method)">#<strong>unloaded_documents</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#unsatisfiable_criteria%3F-instance_method" title="#unsatisfiable_criteria? (instance method)">#<strong>unsatisfiable_criteria?</strong>(selector)  &#x21d2; true | false </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks whether conditions in the given hash are known to be unsatisfiable, i.e. querying with this hash will always return no documents.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited nodoc'><a href="../../../Pluckable.html" title="Mongoid::Pluckable (module)"><code>::Mongoid::Pluckable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../../../Pluckable.html#descend-instance_method" title="Mongoid::Pluckable#descend (method)">#descend</a></td>
      <td><div class='inline'><p>Descend one level in the attribute hash.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../../../Pluckable.html#extract_value-instance_method" title="Mongoid::Pluckable#extract_value (method)">#extract_value</a></td>
      <td><div class='inline'><p>Extracts the value for the given field name from the given attribute hash.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../../../Pluckable.html#fetch_and_demongoize-instance_method" title="Mongoid::Pluckable#fetch_and_demongoize (method)">#fetch_and_demongoize</a></td>
      <td><div class='inline'><p>Fetch the element from the given hash and demongoize it using the given field.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../../../Pluckable.html#pluck_from_documents-instance_method" title="Mongoid::Pluckable#pluck_from_documents (method)">#pluck_from_documents</a></td>
      <td><div class='inline'><p>Plucks the given field names from the given documents.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../../../Pluckable.html#prepare_pluck-instance_method" title="Mongoid::Pluckable#prepare_pluck (method)">#prepare_pluck</a></td>
      <td><div class='inline'><p>Prepares the field names for plucking by normalizing them to their database field names.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(target, base = nil, association = nil)  &#x21d2; <code>Enumerable</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initialize the new enumerable either with a criteria or an array.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Initialize the enumerable with a criteria.</p>
</div></p>
      <pre class='example code ruby'><code><span class='const'>Enumerable</span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'>Post</span>.<span class='id identifier rubyid_where'>where</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_person_id'>person_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_id'>id</span>))</code></pre>
        <p class='example_title'><div class='inline'>
<p>Initialize the enumerable with an array.</p>
</div></p>
      <pre class='example code ruby'><code><span class='const'>Enumerable</span>.<span class='id identifier rubyid_new'>new</span>([ <span class='id identifier rubyid_post'>post</span> ])</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>target</span>
    <span class='type'>(<a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The wrapped object.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L265-L277'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='265' data-end='277'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 265</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_base'>base</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_association'>association</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='ivar'>@_base</span> <span class='op'>=</span> <span class='id identifier rubyid_base'>base</span>
  <span class='ivar'>@_association</span> <span class='op'>=</span> <span class='id identifier rubyid_association'>association</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_target'>target</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span>)
    <span class='ivar'>@_added</span><span class='comma'>,</span> <span class='ivar'>@executed</span><span class='comma'>,</span> <span class='ivar'>@_loaded</span><span class='comma'>,</span> <span class='ivar'>@_unloaded</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span>
  <span class='kw'>else</span>
    <span class='ivar'>@_added</span><span class='comma'>,</span> <span class='ivar'>@executed</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='kw'>true</span>
    <span class='ivar'>@_loaded</span> <span class='op'>=</span> <span class='id identifier rubyid_target'>target</span>.<span class='id identifier rubyid_inject'>inject</span>({}) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__target'>_target</span><span class='comma'>,</span> <span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
      <span class='id identifier rubyid__target'>_target</span>[<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__id'>_id</span>] <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span> <span class='kw'>if</span> <span class='id identifier rubyid_doc'>doc</span>
      <span class='id identifier rubyid__target'>_target</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="_added-instance_method">
  <h3 class='signature rw first'>
    #<strong>_added</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The three main instance variables are collections of documents.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L24-L24'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='24'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid__added'>_added</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_added Documents that have been appended.-instance_method">
  <h3 class='signature rw'>
    #<strong>_added Documents that have been appended.</strong>(Documents that have been appended.)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The three main instance variables are collections of documents.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L24-L24'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='24'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_loaded-instance_method">
  <h3 class='signature rw'>
    #<strong>_loaded</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The three main instance variables are collections of documents.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L24-L24'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='24'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__loaded'>_loaded</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_loaded Persisted documents that have been _loaded.-instance_method">
  <h3 class='signature rw'>
    #<strong>_loaded Persisted documents that have been _loaded.</strong>(Persisted documents that have been _loaded.)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The three main instance variables are collections of documents.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L24-L24'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='24'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_loaded?-instance_method">
  <h3 class='signature rw'>
    #<strong>_loaded?</strong>  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Has the enumerable been _loaded? This will be true if the criteria has been executed or we manually load the entire thing.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Is the enumerable _loaded?</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid__loaded?'>_loaded?</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the enumerable has been _loaded.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L356-L358'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='356' data-end='358'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 356</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__loaded?'>_loaded?</span>
  <span class='op'>!</span><span class='op'>!</span><span class='ivar'>@executed</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_unloaded-instance_method">
  <h3 class='signature rw'>
    #<strong>_unloaded</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The three main instance variables are collections of documents.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L24-L24'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='24'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__unloaded'>_unloaded</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_unloaded A criteria representing persisted docs.-instance_method">
  <h3 class='signature rw'>
    #<strong>_unloaded A criteria representing persisted docs.</strong>(A criteria representing persisted docs.)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The three main instance variables are collections of documents.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L24-L24'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='24' data-end='24'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 24</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="empty?-instance_method">
  <h3 class='signature ro'>
    #<strong>empty?</strong>  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is the enumerable empty? Will determine if the count is zero based on whether or not it is _loaded.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Is the enumerable empty?</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_empty?'>empty?</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the enumerable is empty.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L196-L202'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='196' data-end='202'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 196</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid__loaded?'><a href="#_loaded%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded? (method)">_loaded?</a></span>
    <span class='id identifier rubyid_in_memory'><a href="#in_memory-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#in_memory (method)">in_memory</a></span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_exists?'>exists?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;&lt;</strong>(document)  &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> 
    <span class='aliases'>Also known as: <span class='names'>#push</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Append a document to the enumerable.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Append the document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_document'>document</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>document</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document to append.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L63-L66'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='63' data-end='66'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 63</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;&lt;</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>[<span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid__id'>_id</span>] <span class='op'>=</span> <span class='id identifier rubyid_document'>document</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    #<strong>==</strong>(other)  &#x21d2; <code>true</code> | <code>false</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Check if the enumerable is equal to the other object.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Check equality.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span> <span class='op'>==</span> []</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>other</span>
    <span class='type'>(<code>Enumerable</code>)</span>
&mdash;    <div class='inline'>
<p>The other enumerable.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the objects are equal.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L36-L39'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='36' data-end='39'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 36</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_respond_to?'><a href="#respond_to%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#respond_to? (method)">respond_to?</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_entries'>entries</span>)
  <span class='id identifier rubyid_entries'>entries</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_entries'>entries</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="===-instance_method">
  <h3 class='signature '>
    #<strong>===</strong>(other)  &#x21d2; <code>true</code> | <code>false</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Check equality of the enumerable against the provided object for case statements.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Check case equality.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span> <span class='op'>===</span> <span class='const'><a href="../../../../Array.html" title="Array (class)">Array</a></span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>other</span>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'>
<p>The object to check.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the objects are equal in a case.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L50-L53'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='50' data-end='53'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>===</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_respond_to?'><a href="#respond_to%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#respond_to? (method)">respond_to?</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_entries'>entries</span>)
  <span class='id identifier rubyid_entries'>entries</span> <span class='op'>===</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_entries'>entries</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="any?-instance_method">
  <h3 class='signature '>
    #<strong>any?</strong>(*args)  &#x21d2; <code>true</code> | <code>false</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether the association has any documents, optionally subject to the provided filters.</p>

<p>This method returns true if the association has any persisted documents and if it has any not yet persisted documents.</p>

<p>If the association is already loaded, this method inspects the loaded documents and does not query the database. If the association is not loaded, the argument-less and block-less version does not load the association; the other versions (that delegate to <code>Enumerable</code>) may or may not load the association completely depending on whether it is iterated to completion.</p>

<p>This method can take a parameter and a block. The behavior with either the parameter or the block is delegated to the standard library <code>Enumerable</code> module.</p>

<p>Note that when Enumerable’s any? method is invoked with both a block and a pattern, it only uses the pattern.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>*args</span>
    <span class='type'>(<code>Object</code>...)</span>
&mdash;    <div class='inline'>
<p>The condition that documents must satisfy. See Enumerable documentation for details.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the association has any documents.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L228-L232'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='228' data-end='232'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 228</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_any?'>any?</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_any?'>any?</span> <span class='op'>||</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='op'>!</span><span class='id identifier rubyid_empty?'><a href="#empty%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#empty? (method)">empty?</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="as_json-instance_method">
  <h3 class='signature '>
    #<strong>as_json</strong>(options = {})  &#x21d2; <a href="../../../../Hash.html" title="Hash (class)">Hash</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Send #as_json to the entries, without encoding.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the enumerable as json.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_as_json'>as_json</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<a href="../../../../Hash.html" title="Hash (class)">Hash</a>)</span>
    <em class='default'>(defaults to: <tt>{}</tt>)</em>
&mdash;    <div class='inline'>
<p>Optional parameters.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Hash.html" title="Hash (class)">Hash</a>)</span>
&mdash;    <div class='inline'>
<p>The entries all _loaded as a hash.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L509-L511'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='509' data-end='511'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 509</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_as_json'>as_json</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_entries'>entries</span>.<span class='id identifier rubyid_as_json'>as_json</span>(<span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Clears out all the documents in this enumerable. If passed a block it will yield to each document that is in memory.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Clear out the enumerable.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_clear'>clear</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Clear out the enumerable with a block.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_clear'>clear</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
  <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_unbind'>unbind</span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The cleared out _added docs.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L82-L87'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='82' data-end='87'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 82</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_clear'>clear</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_in_memory'><a href="#in_memory-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#in_memory (method)">in_memory</a></span> { <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span> <span class='kw'>yield</span>(<span class='id identifier rubyid_doc'>doc</span>) }
  <span class='kw'>end</span>
  <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_clear'>clear</span> <span class='kw'>and</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_clear'>clear</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clone-instance_method">
  <h3 class='signature '>
    #<strong>clone</strong>  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This loads all documents into memory.</p>
</div>
  </div>


<p>Clones each document in the enumerable.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Clone the enumerable.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_clone'>clone</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>An array clone of the enumerable.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L97-L99'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='97' data-end='99'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 97</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_clone'>clone</span>
  <span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_clone'>clone</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    #<strong>delete</strong>(document) {|doc| ... } &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Delete the supplied document from the enumerable.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Delete the document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_document'>document</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>document</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document to delete.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>doc</code>)</span>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The deleted document.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L109-L119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='109' data-end='119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 109</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> (<span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid__id'>_id</span>) <span class='op'>||</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid__id'>_id</span>))
  <span class='kw'>unless</span> <span class='id identifier rubyid_doc'>doc</span>
    <span class='kw'>if</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_where'>where</span>(<span class='label'>_id:</span> <span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid__id'>_id</span>).<span class='id identifier rubyid_exists?'>exists?</span>
      <span class='kw'>yield</span>(<span class='id identifier rubyid_document'>document</span>) <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_document'>document</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>yield</span>(<span class='id identifier rubyid_doc'>doc</span>) <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_doc'>doc</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_if-instance_method">
  <h3 class='signature '>
    #<strong>delete_if</strong>(&amp;block)  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This operation loads all documents from the database.</p>
</div>
  </div>


<p>Deletes every document in the enumerable for where the block returns true.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Delete all matching documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_delete_if'>delete_if</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
  <span class='id identifier rubyid_dod'>dod</span>.<span class='id identifier rubyid__id'>_id</span> <span class='op'>==</span> <span class='id identifier rubyid__id'>_id</span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The remaining docs.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L132-L140'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='132' data-end='140'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 132</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_if'>delete_if</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_load_all!'><a href="#load_all!-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#load_all! (method)">load_all!</a></span>
  <span class='id identifier rubyid_deleted'>deleted</span> <span class='op'>=</span> <span class='id identifier rubyid_in_memory'><a href="#in_memory-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#in_memory (method)">in_memory</a></span>.<span class='id identifier rubyid_select'>select</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_deleted'>deleted</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
    <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#delete (method)">delete</a></span>(<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__id'>_id</span>)
    <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#delete (method)">delete</a></span>(<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__id'>_id</span>)
  <span class='kw'>end</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    #<strong>each</strong>  &#x21d2; <code>true</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Iterating over this enumerable has to handle a few different scenarios.</p>

<p>If the enumerable has its criteria _loaded into memory then it yields to all the _loaded docs and all the _added docs.</p>

<p>If the enumerable has not _loaded the criteria then it iterates over the cursor while loading the documents and then iterates over the _added docs.</p>

<p>If no block is passed then it returns an enumerator containing all docs.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Iterate over the enumerable.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_doc'>doc</span>
<span class='kw'>end</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>return an enumerator containing all the docs</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_each'>each</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code>)</span>
&mdash;    <div class='inline'>
<p>That the enumerable is now _loaded.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L165-L187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='165' data-end='187'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 165</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_to_enum'>to_enum</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid__loaded?'><a href="#_loaded%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded? (method)">_loaded?</a></span>
    <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
      <span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#delete (method)">delete</a></span>(<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__id'>_id</span>) <span class='op'>||</span> <span class='id identifier rubyid_doc'>doc</span>
      <span class='id identifier rubyid_set_base'><a href="#set_base-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#set_base (method)">set_base</a></span>(<span class='id identifier rubyid_document'>document</span>)
      <span class='kw'>yield</span>(<span class='id identifier rubyid_document'>document</span>)
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_unloaded_documents'><a href="#unloaded_documents-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#unloaded_documents (method)">unloaded_documents</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
      <span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#delete (method)">delete</a></span>(<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__id'>_id</span>) <span class='op'>||</span> <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#delete (method)">delete</a></span>(<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__id'>_id</span>) <span class='op'>||</span> <span class='id identifier rubyid_doc'>doc</span>
      <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>[<span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid__id'>_id</span>] <span class='op'>=</span> <span class='id identifier rubyid_document'>document</span>
      <span class='id identifier rubyid_set_base'><a href="#set_base-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#set_base (method)">set_base</a></span>(<span class='id identifier rubyid_document'>document</span>)
      <span class='kw'>yield</span>(<span class='id identifier rubyid_document'>document</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
    <span class='kw'>yield</span>(<span class='id identifier rubyid_doc'>doc</span>)
  <span class='kw'>end</span>
  <span class='ivar'>@executed</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="first-instance_method">
  <h3 class='signature '>
    #<strong>first</strong>(limit = nil)  &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Automatically adding a sort on _id when no other sort is defined on the criteria has the potential to cause bad performance issues. If you experience unexpected poor performance when using #first or #last, use #take instead. Be aware that #take won’t guarantee order.</p>
</div>
  </div>


<p>Get the first document in the enumerable. Will check the persisted documents first. Does not load the entire enumerable.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the first document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_first'>first</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>limit</span>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>The number of documents to return.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The first document found.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L249-L254'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='249' data-end='254'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 249</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_first'>first</span>(<span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_values'>values</span>).<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span>) <span class='op'>||</span>
      <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>[(<span class='id identifier rubyid_ul'>ul</span> <span class='op'>=</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_limit'>limit</span>)).<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid__id'>_id</span>)] <span class='op'>||</span>
      <span class='id identifier rubyid_ul'>ul</span> <span class='op'>||</span>
      <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="in_memory-instance_method">
  <h3 class='signature '>
    #<strong>in_memory</strong>  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>When passed a block it yields to each document.</p>
</div>
  </div>


<p>Return all the documents in the enumerable that have been _loaded or _added.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the in memory docs.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_in_memory'>in_memory</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The in memory docs.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L312-L317'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='312' data-end='317'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 312</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_in_memory'>in_memory</span>
  <span class='id identifier rubyid_docs'>docs</span> <span class='op'>=</span> (<span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_values'>values</span> <span class='op'>+</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_values'>values</span>)
  <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
    <span class='kw'>yield</span>(<span class='id identifier rubyid_doc'>doc</span>) <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="include?-instance_method">
  <h3 class='signature '>
    #<strong>include?</strong>(doc)  &#x21d2; <code>true</code> | <code>false</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does the target include the provided document?</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Does the target include the document?</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_document'>document</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>doc</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document to check.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the document is in the target.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L287-L290'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='287' data-end='290'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_doc'>doc</span>)
  <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>unless</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
  <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_where'>where</span>(<span class='label'>_id:</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__id'>_id</span>).<span class='id identifier rubyid_exists?'>exists?</span> <span class='op'>||</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__id'>_id</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  &#x21d2; <a href="../../../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Inspection will just inspect the entries for nice array-style printing.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Inspect the enumerable.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_inspect'>inspect</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The inspected enum.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L299-L301'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='299' data-end='301'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 299</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_entries'>entries</span>.<span class='id identifier rubyid_inspect'>inspect</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="last-instance_method">
  <h3 class='signature '>
    #<strong>last</strong>(limit = nil)  &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Automatically adding a sort on _id when no other sort is defined on the criteria has the potential to cause bad performance issues. If you experience unexpected poor performance when using #first or #last, use #take instead. Be aware that #take won’t guarantee order.</p>
</div>
  </div>


<p>Get the last document in the enumerable. Will check the new documents first. Does not load the entire enumerable.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the last document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_last'>last</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>limit</span>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>The number of documents to return.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The last document found.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L334-L339'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='334' data-end='339'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 334</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_last'>last</span>(<span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_last'>last</span>) <span class='op'>||</span>
      <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_values'>values</span>).<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_last'>last</span>) <span class='op'>||</span>
      <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>[(<span class='id identifier rubyid_ul'>ul</span> <span class='op'>=</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_last'>last</span><span class='comma'>,</span> <span class='id identifier rubyid_limit'>limit</span>)).<span class='id identifier rubyid_try'>try</span>(<span class='symbeg'>:</span><span class='id identifier rubyid__id'>_id</span>)] <span class='op'>||</span>
      <span class='id identifier rubyid_ul'>ul</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="length-instance_method">
  <h3 class='signature '>
    #<strong>length</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#size-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#size (method)">#size</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L487-L487'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='487' data-end='487'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 487</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_length'>length</span> <span class='symbeg'>:</span><span class='id identifier rubyid_size'><a href="#size-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#size (method)">size</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_all!-instance_method">
  <h3 class='signature '>
    #<strong>load_all!</strong>  &#x21d2; <code>true</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Loads all the documents in the enumerable from the database.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L347-L347'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='347' data-end='347'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 347</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_load_all!'>load_all!</span> <span class='symbeg'>:</span><span class='id identifier rubyid_entries'>entries</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="marshal_dump-instance_method">
  <h3 class='signature '>
    #<strong>marshal_dump</strong>  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<code>Object</code>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Provides the data needed to Marshal.dump an enumerable proxy.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Dump the proxy.</p>
</div></p>
      <pre class='example code ruby'><code><span class='const'>Marshal</span>.<span class='id identifier rubyid_dump'>dump</span>(<span class='id identifier rubyid_proxy'>proxy</span>)</code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<code>Object</code>&gt;)</span>
&mdash;    <div class='inline'>
<p>The dumped data.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L366-L368'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='366' data-end='368'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 366</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_marshal_dump'>marshal_dump</span>
  [<span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span><span class='comma'>,</span> <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span><span class='comma'>,</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span><span class='comma'>,</span> <span class='ivar'>@executed</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="marshal_load-instance_method">
  <h3 class='signature '>
    #<strong>marshal_load</strong>(data)  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<code>Object</code>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Loads the data needed to Marshal.load an enumerable proxy.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Load the proxy.</p>
</div></p>
      <pre class='example code ruby'><code><span class='const'>Marshal</span>.<span class='id identifier rubyid_load'>load</span>(<span class='id identifier rubyid_proxy'>proxy</span>)</code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<code>Object</code>&gt;)</span>
&mdash;    <div class='inline'>
<p>The dumped data.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L376-L378'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='376' data-end='378'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 376</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_marshal_load'>marshal_load</span>(<span class='id identifier rubyid_data'>data</span>)
  <span class='ivar'>@_added</span><span class='comma'>,</span> <span class='ivar'>@_loaded</span><span class='comma'>,</span> <span class='ivar'>@_unloaded</span><span class='comma'>,</span> <span class='ivar'>@executed</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pluck-instance_method">
  <h3 class='signature '>
    #<strong>pluck</strong>(*keys)  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../../Array.html" title="Array (class)">Array</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Plucks the given field names from the documents in the target. If the collection has been loaded, it plucks from the loaded documents; otherwise, it plucks from the unloaded criteria. Regardless, it also plucks from any added documents.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>*fields</span>
    <span class='type'>(<a href="../../../../Symbol.html" title="Symbol (class)">Symbol</a>...)</span>
&mdash;    <div class='inline'>
<p>The field names to pluck.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../../Array.html" title="Array (class)">Array</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The array of field values. If multiple fields are given, an array of arrays is returned.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L389-L415'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='389' data-end='415'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pluck'>pluck</span>(<span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span>)
  [].<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_results'>results</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid__loaded?'><a href="#_loaded%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded? (method)">_loaded?</a></span> <span class='op'>||</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_any?'><a href="#any%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#any? (method)">any?</a></span>
      <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='ivar'>@_association</span>.<span class='id identifier rubyid_klass'>klass</span>
      <span class='id identifier rubyid_prepared'>prepared</span> <span class='op'>=</span> <span class='id identifier rubyid_prepare_pluck'>prepare_pluck</span>(<span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='label'>document_class:</span> <span class='id identifier rubyid_klass'>klass</span>)
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid__loaded?'><a href="#_loaded%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded? (method)">_loaded?</a></span>
      <span class='id identifier rubyid_docs'>docs</span> <span class='op'>=</span> <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='const'><a href="../../../../BSON.html" title="BSON (module)">BSON</a></span><span class='op'>::</span><span class='const'><a href="../../../Document.html" title="Mongoid::Document (module)">Document</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Mongoid::Association::Referenced::HasMany::Enumerable.new (method)">new</a></span>(<span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_attributes'>attributes</span>) }
      <span class='id identifier rubyid_results'>results</span>.<span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_pluck_from_documents'>pluck_from_documents</span>(<span class='id identifier rubyid_docs'>docs</span><span class='comma'>,</span> <span class='id identifier rubyid_prepared'>prepared</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_field_names'>field_names</span>]<span class='comma'>,</span> <span class='label'>document_class:</span> <span class='id identifier rubyid_klass'>klass</span>)
    <span class='kw'>elsif</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
      <span class='id identifier rubyid_criteria'><a href="../HasMany.html#criteria-instance_method" title="Mongoid::Association::Referenced::HasMany#criteria (method)">criteria</a></span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_any?'><a href="#any%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#any? (method)">any?</a></span>
        <span class='id identifier rubyid_ids_to_exclude'>ids_to_exclude</span> <span class='op'>=</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_keys'>keys</span>
        <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_not'>not</span>(<span class='symbeg'>:</span><span class='id identifier rubyid__id'>_id</span>.<span class='id identifier rubyid_in'>in</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ids_to_exclude'>ids_to_exclude</span>)
      <span class='kw'>else</span>
        <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_results'>results</span>.<span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_criteria'><a href="../HasMany.html#criteria-instance_method" title="Mongoid::Association::Referenced::HasMany#criteria (method)">criteria</a></span>.<span class='id identifier rubyid_pluck'>pluck</span>(<span class='op'>*</span><span class='id identifier rubyid_keys'>keys</span>)
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_any?'><a href="#any%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#any? (method)">any?</a></span>
      <span class='id identifier rubyid_docs'>docs</span> <span class='op'>=</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='const'><a href="../../../../BSON.html" title="BSON (module)">BSON</a></span><span class='op'>::</span><span class='const'><a href="../../../Document.html" title="Mongoid::Document (module)">Document</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Mongoid::Association::Referenced::HasMany::Enumerable.new (method)">new</a></span>(<span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_attributes'>attributes</span>) }
      <span class='id identifier rubyid_results'>results</span>.<span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_pluck_from_documents'>pluck_from_documents</span>(<span class='id identifier rubyid_docs'>docs</span><span class='comma'>,</span> <span class='id identifier rubyid_prepared'>prepared</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_field_names'>field_names</span>]<span class='comma'>,</span> <span class='label'>document_class:</span> <span class='id identifier rubyid_klass'>klass</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="push-instance_method">
  <h3 class='signature '>
    #<strong>push</strong>(document)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#<<-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#&lt;&lt; (method)">#&lt;&lt;</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L68-L68'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='68' data-end='68'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 68</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_push'>push</span> <span class='symbeg'>:</span><span class='op'>&lt;&lt;</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset-instance_method">
  <h3 class='signature '>
    #<strong>reset</strong>  &#x21d2; <code>false</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Reset the enumerable back to its persisted state.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Reset the enumerable.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_reset'>reset</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>false</code>)</span>
&mdash;    <div class='inline'>
<p>Always false.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L423-L427'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='423' data-end='427'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 423</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset'>reset</span>
  <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_clear'><a href="#clear-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#clear (method)">clear</a></span>
  <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_clear'><a href="#clear-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#clear (method)">clear</a></span>
  <span class='ivar'>@executed</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reset_unloaded-instance_method">
  <h3 class='signature '>
    #<strong>reset_unloaded</strong>(criteria)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Resets the underlying unloaded criteria object with a new one. Used my HABTM associations to keep the underlying array in sync.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Reset the unloaded documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_reset_unloaded'>reset_unloaded</span>(<span class='id identifier rubyid_criteria'><a href="../HasMany.html#criteria-instance_method" title="Mongoid::Association::Referenced::HasMany#criteria (method)">criteria</a></span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>criteria</span>
    <span class='type'>(<a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a>)</span>
&mdash;    <div class='inline'>
<p>The criteria to replace with.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L436-L438'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='436' data-end='438'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 436</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reset_unloaded'>reset_unloaded</span>(<span class='id identifier rubyid_criteria'><a href="../HasMany.html#criteria-instance_method" title="Mongoid::Association::Referenced::HasMany#criteria (method)">criteria</a></span>)
  <span class='ivar'>@_unloaded</span> <span class='op'>=</span> <span class='id identifier rubyid_criteria'><a href="../HasMany.html#criteria-instance_method" title="Mongoid::Association::Referenced::HasMany#criteria (method)">criteria</a></span> <span class='kw'>if</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="respond_to?-instance_method">
  <h3 class='signature '>
    #<strong>respond_to?</strong>(name, include_private = false)  &#x21d2; <code>true</code> | <code>false</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Does this enumerable respond to the provided method?</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Does the enumerable respond to the method?</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_sum'>sum</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>name</span>
    <span class='type'>(<a href="../../../../String.html" title="String (class)">String</a> | <a href="../../../../Symbol.html" title="Symbol (class)">Symbol</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the method.</p>
</div>
  </li>
  <li>
    <span class='name'>include_private</span>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
    <em class='default'>(defaults to: <tt>false</tt>)</em>
&mdash;    <div class='inline'>
<p>Whether to include private methods.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>Whether the enumerable responds.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L450-L452'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='450' data-end='452'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 450</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_include_private'>include_private</span> <span class='op'>=</span> <span class='kw'>false</span>)
  [].<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_include_private'>include_private</span>) <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_base-instance_method">
  <h3 class='signature priv'>
    #<strong>set_base</strong>(document)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L527-L531'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='527' data-end='531'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 527</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_base'>set_base</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='kw'>if</span> <span class='ivar'>@_association</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Referenced.html" title="Mongoid::Association::Referenced (module)">Referenced</a></span><span class='op'>::</span><span class='const'><a href="../HasMany.html" title="Mongoid::Association::Referenced::HasMany (class)">HasMany</a></span>)
    <span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid_set_relation'>set_relation</span>(<span class='ivar'>@_association</span>.<span class='id identifier rubyid_inverse'>inverse</span><span class='comma'>,</span> <span class='ivar'>@_base</span>) <span class='kw'>if</span> <span class='ivar'>@_association</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="size-instance_method">
  <h3 class='signature '>
    #<strong>size</strong>  &#x21d2; <a href="../../../../Integer.html" title="Integer (class)">Integer</a> 
    <span class='aliases'>Also known as: <span class='names'>#length</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Gets the total size of this enumerable. This is a combination of all the persisted and unpersisted documents.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the size.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_size'>size</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
&mdash;    <div class='inline'>
<p>The size of the enumerable.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L461-L485'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='461' data-end='485'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 461</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_size'>size</span>
  <span class='comment'># If _unloaded is present, then it will match the set of documents
</span>  <span class='comment'># that belong to this association, which have already been persisted
</span>  <span class='comment'># to the database. This set of documents must be considered when
</span>  <span class='comment'># computing the size of the association, along with anything that has
</span>  <span class='comment'># since been added.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_any?'><a href="#any%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#any? (method)">any?</a></span>
      <span class='comment'># Note that _added may include records that _unloaded already
</span>      <span class='comment'># matches. This is the case if the association is assigned an array
</span>      <span class='comment'># of items and some of them were already elements of the association.
</span>      <span class='comment'>#
</span>      <span class='comment'># we need to thus make sure _unloaded.count excludes any elements
</span>      <span class='comment'># that already exist in _added.
</span>
      <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_not'>not</span>(<span class='symbeg'>:</span><span class='id identifier rubyid__id'>_id</span>.<span class='id identifier rubyid_in'>in</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span>)).<span class='id identifier rubyid_count'>count</span>
      <span class='id identifier rubyid_count'>count</span> <span class='op'>+</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_count'>count</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_count'>count</span>
    <span class='kw'>end</span>

  <span class='kw'>else</span>
    <span class='id identifier rubyid__loaded'><a href="#_loaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_loaded (method)">_loaded</a></span>.<span class='id identifier rubyid_count'>count</span> <span class='op'>+</span> <span class='id identifier rubyid__added'><a href="#_added-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_added (method)">_added</a></span>.<span class='id identifier rubyid_count'>count</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_json-instance_method">
  <h3 class='signature '>
    #<strong>to_json</strong>(options = {})  &#x21d2; <a href="../../../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Send #to_json to the entries.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the enumerable as json.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_to_json'>to_json</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>options</span>
    <span class='type'>(<a href="../../../../Hash.html" title="Hash (class)">Hash</a>)</span>
    <em class='default'>(defaults to: <tt>{}</tt>)</em>
&mdash;    <div class='inline'>
<p>Optional parameters.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The entries all _loaded as a string.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L497-L499'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='497' data-end='499'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 497</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_json'>to_json</span>(<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_entries'>entries</span>.<span class='id identifier rubyid_to_json'>to_json</span>(<span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="uniq-instance_method">
  <h3 class='signature '>
    #<strong>uniq</strong>  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This operation loads all documents from the database.</p>
</div>
  </div>


<p>Return all the unique documents in the enumerable.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get all the unique documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_enumerable'>enumerable</span>.<span class='id identifier rubyid_uniq'>uniq</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The unique documents.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L521-L523'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='521' data-end='523'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 521</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_uniq'>uniq</span>
  <span class='id identifier rubyid_entries'>entries</span>.<span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unloaded_documents-instance_method">
  <h3 class='signature priv'>
    #<strong>unloaded_documents</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L537-L543'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='537' data-end='543'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 537</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unloaded_documents'>unloaded_documents</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_unsatisfiable_criteria?'><a href="#unsatisfiable_criteria%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#unsatisfiable_criteria? (method)">unsatisfiable_criteria?</a></span>(<span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>.<span class='id identifier rubyid_selector'>selector</span>)
    []
  <span class='kw'>else</span>
    <span class='id identifier rubyid__unloaded'><a href="#_unloaded-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#_unloaded (method)">_unloaded</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unsatisfiable_criteria?-instance_method">
  <h3 class='signature priv'>
    #<strong>unsatisfiable_criteria?</strong>(selector)  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks whether conditions in the given hash are known to be unsatisfiable, i.e. querying with this hash will always return no documents.</p>

<p>This method only handles condition shapes that <a href="../../../../Mongoid.html" title="Mongoid (module)"><code>::Mongoid</code></a> itself uses when it builds association queries. Return value true indicates the condition always produces an empty document set. Note however that return value false is not a guarantee that the condition won’t produce an empty document set.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Unsatisfiable conditions</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_unsatisfiable_criteria?'>unsatisfiable_criteria?</span>({<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_id</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> {<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> []}})
<span class='comment'># =&gt; true</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Conditions which may be satisfiable</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_unsatisfiable_criteria?'>unsatisfiable_criteria?</span>({<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_id</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>123</span><span class='tstring_end'>&#39;</span></span>})
<span class='comment'># =&gt; false</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Conditions which are unsatisfiable that this method does not handle</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_unsatisfiable_criteria?'>unsatisfiable_criteria?</span>({<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> {<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> []}})
<span class='comment'># =&gt; false</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>selector</span>
    <span class='type'>(<a href="../../../../Hash.html" title="Hash (class)">Hash</a>)</span>
&mdash;    <div class='inline'>
<p>The conditions to check.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>Whether hash contains known unsatisfiable conditions.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/referenced/has_many/enumerable.rb#L570-L579'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='570' data-end='579'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/referenced/has_many/enumerable.rb', line 570</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unsatisfiable_criteria?'>unsatisfiable_criteria?</span>(<span class='id identifier rubyid_selector'>selector</span>)
  <span class='id identifier rubyid_unsatisfiable_criteria'>unsatisfiable_criteria</span> <span class='op'>=</span> { <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_id</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> { <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> [] } }
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_selector'>selector</span> <span class='op'>==</span> <span class='id identifier rubyid_unsatisfiable_criteria'>unsatisfiable_criteria</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_selector'>selector</span>.<span class='id identifier rubyid_length'><a href="#length-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#length (method)">length</a></span> <span class='op'>==</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_selector'>selector</span>.<span class='id identifier rubyid_keys'>keys</span> <span class='op'>==</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>$and</span><span class='tstring_end'>]</span></span>

  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_selector'>selector</span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_first'><a href="#first-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#first (method)">first</a></span>
  <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../../../Array.html" title="Array (class)">Array</a></span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_any?'><a href="#any%3F-instance_method" title="Mongoid::Association::Referenced::HasMany::Enumerable#any? (method)">any?</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sub_value'>sub_value</span><span class='op'>|</span>
    <span class='id identifier rubyid_sub_value'>sub_value</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../../../Hash.html" title="Hash (class)">Hash</a></span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_unsatisfiable_criteria?'>unsatisfiable_criteria?</span>(<span class='id identifier rubyid_sub_value'>sub_value</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>