<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen' content='yes'>
<meta name='mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Mongoid::Association::Relatable &mdash; Mongoid master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Mongoid::Association::Relatable",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Mongoid master</a> &raquo; 
      <a href='../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../Mongoid.html" title="Mongoid (module)">Mongoid</a> &raquo; 
        <a href="../Association.html" title="Mongoid::Association (module)">Association</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Relatable&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Mongoid::Association::Relatable</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="Embedded/EmbeddedIn.html" title="Mongoid::Association::Embedded::EmbeddedIn (class)"><code>Embedded::EmbeddedIn</code></a>,
          <a href="Embedded/EmbedsMany.html" title="Mongoid::Association::Embedded::EmbedsMany (class)"><code>Embedded::EmbedsMany</code></a>,
          <a href="Embedded/EmbedsOne.html" title="Mongoid::Association::Embedded::EmbedsOne (class)"><code>Embedded::EmbedsOne</code></a>,
          <a href="Referenced/BelongsTo.html" title="Mongoid::Association::Referenced::BelongsTo (class)"><code>Referenced::BelongsTo</code></a>,
          <a href="Referenced/HasAndBelongsToMany.html" title="Mongoid::Association::Referenced::HasAndBelongsToMany (class)"><code>Referenced::HasAndBelongsToMany</code></a>,
          <a href="Referenced/HasMany.html" title="Mongoid::Association::Referenced::HasMany (class)"><code>Referenced::HasMany</code></a>,
          <a href="Referenced/HasOne.html" title="Mongoid::Association::Referenced::HasOne (class)"><code>Referenced::HasOne</code></a>
      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="Options.html" title="Mongoid::Association::Options (module)"><code>Options</code></a>,
          <a href="Constrainable.html" title="Mongoid::Association::Constrainable (module)"><code>Constrainable</code></a>
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L11'>lib/mongoid/association/relatable.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>This module provides behaviors shared between <a href="../Association.html" title="Mongoid::Association (module)"><code>::Mongoid::Association</code></a> types.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='PRIMARY_KEY_DEFAULT-constant' class='summary_signature'>PRIMARY_KEY_DEFAULT =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The primary key default.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The primary key field default.</p>
</div>
  </li>
</ul>

</div>
    <a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L28-L28'># File 'lib/mongoid/association/relatable.rb', line 28</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_id</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
  <li>
    <span id='SHARED_OPTIONS-constant' class='summary_signature'>SHARED_OPTIONS =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>The options shared between all association types.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../Symbol.html" title="Symbol (class)">Symbol</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The shared options.</p>
</div>
  </li>
</ul>

</div>
    <a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L18-L23'># File 'lib/mongoid/association/relatable.rb', line 18</a>    <pre class='code ruby'>[
  <span class='symbeg'>:</span><span class='id identifier rubyid_class_name'><a href="#class_name-instance_method" title="Mongoid::Association::Relatable#class_name (method)">class_name</a></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_inverse_of'>inverse_of</span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_validate'>validate</span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='id identifier rubyid_extend'>extend</span>
].<span class='id identifier rubyid_freeze'>freeze</span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#destructive%3F-instance_method" title="#destructive? (instance method)">#<strong>destructive?</strong>  &#x21d2; true | false </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Whether the dependent method is destructive.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#in_to%3F-instance_method" title="#in_to? (instance method)">#<strong>in_to?</strong>  &#x21d2; true | false </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is this association an embedded_in or belongs_to association?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#many%3F-instance_method" title="#many? (instance method)">#<strong>many?</strong>  &#x21d2; true | false </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is this association an embeds_many or has_many association?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; Symbol </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The name of the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#one%3F-instance_method" title="#one? (instance method)">#<strong>one?</strong>  &#x21d2; true | false </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Is this association an embeds_one or has_one association?</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#options-instance_method" title="#options (instance method)">#<strong>options</strong>  &#x21d2; Hash </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The options on this association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#parent_inclusions-instance_method" title="#parent_inclusions (instance method)">#<strong>parent_inclusions</strong>  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The associations above this one in the inclusion tree.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#parent_inclusions=-instance_method" title="#parent_inclusions= (instance method)">#<strong>parent_inclusions=</strong>(value)  &#x21d2; Array&lt;String&gt; </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The associations above this one in the inclusion tree.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#validate%3F-instance_method" title="#validate? (instance method)">#<strong>validate?</strong>  &#x21d2; true | false </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Whether the associated object(s) should be validated.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Options.html" title="Mongoid::Association::Options (module)"><code>Options</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#autobuilding%3F-instance_method" title="Mongoid::Association::Options#autobuilding? (method)">#autobuilding?</a></td>
      <td><div class='inline'><p>Whether the association is autobuilding.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#autosave-instance_method" title="Mongoid::Association::Options#autosave (method)">#autosave</a></td>
      <td><div class='inline'><p><a href="Options.html" title="Mongoid::Association::Options (module)"><code>Options</code></a> to save any loaded members and destroy members that are marked for destruction when the parent object is saved.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#autosave%3F-instance_method" title="Mongoid::Association::Options#autosave? (method)">#autosave?</a></td>
      <td><div class='inline'><p>Alias for <a href="Options.html#autosave-instance_method" title="Mongoid::Association::Options#autosave (method)">Options#autosave</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#cascading_callbacks%3F-instance_method" title="Mongoid::Association::Options#cascading_callbacks? (method)">#cascading_callbacks?</a></td>
      <td><div class='inline'><p>Whether the association has callbacks cascaded down from the parent.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#counter_cached%3F-instance_method" title="Mongoid::Association::Options#counter_cached? (method)">#counter_cached?</a></td>
      <td><div class='inline'><p>Whether the association is counter-cached.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#cyclic%3F-instance_method" title="Mongoid::Association::Options#cyclic? (method)">#cyclic?</a></td>
      <td><div class='inline'><p>Is the association cyclic.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#forced_nil_inverse%3F-instance_method" title="Mongoid::Association::Options#forced_nil_inverse? (method)">#forced_nil_inverse?</a></td>
      <td><div class='inline'><p>Whether the association has forced nil inverse (So no foreign keys are saved).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#indexed%3F-instance_method" title="Mongoid::Association::Options#indexed? (method)">#indexed?</a></td>
      <td><div class='inline'><p>Whether to index the primary or foreign key field.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Options.html#polymorphic%3F-instance_method" title="Mongoid::Association::Options#polymorphic? (method)">#polymorphic?</a></td>
      <td><div class='inline'><p>Whether this association is polymorphic.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro nodoc' href="Options.html#touchable%3F-instance_method" title="Mongoid::Association::Options#touchable? (method)">#touchable?</a></td>
      <td><div class='inline'><p>Whether the association object should be automatically touched when its inverse object is updated.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; Object </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compare this association to another.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bindable%3F-instance_method" title="#bindable? (instance method)">#<strong>bindable?</strong>(doc)  &#x21d2; true | false </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Whether trying to bind an object using this association should raise an error.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#class_name-instance_method" title="#class_name (instance method)">#<strong>class_name</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#relation_class_name-instance_method" title="Mongoid::Association::Relatable#relation_class_name (method)">#relation_class_name</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#counter_cache_column_name-instance_method" title="#counter_cache_column_name (instance method)">#<strong>counter_cache_column_name</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the counter cache column name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#create_relation-instance_method" title="#create_relation (instance method)">#<strong>create_relation</strong>(owner, target)  &#x21d2; Proxy </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Create an association proxy object using the owner and target.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#extension-instance_method" title="#extension (instance method)">#<strong>extension</strong>  &#x21d2; Module </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the extension.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#foreign_key_check-instance_method" title="#foreign_key_check (instance method)">#<strong>foreign_key_check</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the name of the method to check if the foreign key has changed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#foreign_key_setter-instance_method" title="#foreign_key_setter (instance method)">#<strong>foreign_key_setter</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The name of the foreign key setter method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_callbacks-instance_method" title="#get_callbacks (instance method)">#<strong>get_callbacks</strong>(callback_type)  &#x21d2; Array&lt;Proc | Symbol&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the callbacks for a given type.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(_class, name, opts = {}, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Initialize the <a href="../Association.html" title="Mongoid::Association (module)"><code>::Mongoid::Association</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverse-instance_method" title="#inverse (instance method)">#<strong>inverse</strong>(other = nil)  &#x21d2; Symbol </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the inverse name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverse_association-instance_method" title="#inverse_association (instance method)">#<strong>inverse_association</strong>(other = nil)  &#x21d2; Mongoid::Association::Relatable </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the inverse’s association metadata.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverse_class-instance_method" title="#inverse_class (instance method)">#<strong>inverse_class</strong>  &#x21d2; String </a>
      (also: #inverse_klass)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The class of the object owning this association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverse_class_name-instance_method" title="#inverse_class_name (instance method)">#<strong>inverse_class_name</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The class name of the object owning this association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverse_klass-instance_method" title="#inverse_klass (instance method)">#<strong>inverse_klass</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#inverse_class-instance_method" title="Mongoid::Association::Relatable#inverse_class (method)">#inverse_class</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverse_setter-instance_method" title="#inverse_setter (instance method)">#<strong>inverse_setter</strong>(other = nil)  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The name of the inverse setter method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverse_type-instance_method" title="#inverse_type (instance method)">#<strong>inverse_type</strong>  &#x21d2; nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the inverse type.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverse_type_setter-instance_method" title="#inverse_type_setter (instance method)">#<strong>inverse_type_setter</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Gets the setter for the field that sets the type of document on a polymorphic association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inverses-instance_method" title="#inverses (instance method)">#<strong>inverses</strong>(other = nil)  &#x21d2; Array&lt;Symbol&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the inverse names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#key-instance_method" title="#key (instance method)">#<strong>key</strong>  &#x21d2; Symbol | String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The foreign key field if this association stores a foreign key.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#klass-instance_method" title="#klass (instance method)">#<strong>klass</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#relation_class-instance_method" title="Mongoid::Association::Relatable#relation_class (method)">#relation_class</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>(document)  &#x21d2; Mongoid::Atomic::Paths::Root </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The atomic path for this association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#relation_class-instance_method" title="#relation_class (instance method)">#<strong>relation_class</strong>  &#x21d2; String </a>
      (also: #klass)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The class of the association object(s).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#relation_class_name-instance_method" title="#relation_class_name (instance method)">#<strong>relation_class_name</strong>  &#x21d2; String </a>
      (also: #class_name)
    </span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list note-list"><dt>The class name, possibly unqualified or </dt><dd><p>prefixed, of the association object(s).</p></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#setter-instance_method" title="#setter (instance method)">#<strong>setter</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The name of the setter on this object for assigning an associated object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#type_setter-instance_method" title="#type_setter (instance method)">#<strong>type_setter</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get the type setter.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#create_extension!-instance_method" title="#create_extension! (instance method)">#<strong>create_extension!</strong>(&amp;block)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#default_inverse-instance_method" title="#default_inverse (instance method)">#<strong>default_inverse</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_autosaver!-instance_method" title="#define_autosaver! (instance method)">#<strong>define_autosaver!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_builder!-instance_method" title="#define_builder! (instance method)">#<strong>define_builder!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_counter_cache_callbacks!-instance_method" title="#define_counter_cache_callbacks! (instance method)">#<strong>define_counter_cache_callbacks!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_creator!-instance_method" title="#define_creator! (instance method)">#<strong>define_creator!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_dependency!-instance_method" title="#define_dependency! (instance method)">#<strong>define_dependency!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_existence_check!-instance_method" title="#define_existence_check! (instance method)">#<strong>define_existence_check!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_getter!-instance_method" title="#define_getter! (instance method)">#<strong>define_getter!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_ids_getter!-instance_method" title="#define_ids_getter! (instance method)">#<strong>define_ids_getter!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_ids_setter!-instance_method" title="#define_ids_setter! (instance method)">#<strong>define_ids_setter!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_setter!-instance_method" title="#define_setter! (instance method)">#<strong>define_setter!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#define_touchable!-instance_method" title="#define_touchable! (instance method)">#<strong>define_touchable!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#inverse_association_classes-instance_method" title="#inverse_association_classes (instance method)">#<strong>inverse_association_classes</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Gets the model classes with inverse associations of this model.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#namespace_hierarchy-instance_method" title="#namespace_hierarchy (instance method)">#<strong>namespace_hierarchy</strong>(mod)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an array of classes/modules forming the namespace hierarchy where symbols referenced in the provided class/module would be looked up by Ruby.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#polymorph!-instance_method" title="#polymorph! (instance method)">#<strong>polymorph!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#resolve_name-instance_method" title="#resolve_name (instance method)">#<strong>resolve_name</strong>(mod, name)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Resolves the given class/module name in the context of the specified module, as Ruby would when a constant is referenced in the source.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#setup_index!-instance_method" title="#setup_index! (instance method)">#<strong>setup_index!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#validate!-instance_method" title="#validate! (instance method)">#<strong>validate!</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>

<h3 class='inherited'><a href="Options.html" title="Mongoid::Association::Options (module)"><code>Options</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Options.html#as-instance_method" title="Mongoid::Association::Options#as (method)">#as</a></td>
      <td><div class='inline'><p>Returns the name of the parent to a polymorphic child.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Options.html#dependent-instance_method" title="Mongoid::Association::Options#dependent (method)">#dependent</a></td>
      <td><div class='inline'><p>Specify what happens to the associated object when the owner is destroyed.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Options.html#inverse_of-instance_method" title="Mongoid::Association::Options#inverse_of (method)">#inverse_of</a></td>
      <td><div class='inline'><p>The name the owning object uses to refer to this association.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Options.html#order-instance_method" title="Mongoid::Association::Options#order (method)">#order</a></td>
      <td><div class='inline'><p>The custom sorting options on the association.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Options.html#primary_key-instance_method" title="Mongoid::Association::Options#primary_key (method)">#primary_key</a></td>
      <td><div class='inline'><p><a href="../../Mongoid.html" title="Mongoid (module)"><code>::Mongoid</code></a> assumes that the field used to hold the primary key of the association is id.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Options.html#store_as-instance_method" title="Mongoid::Association::Options#store_as (method)">#store_as</a></td>
      <td><div class='inline'><p>The store_as option.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Options.html#touch_field-instance_method" title="Mongoid::Association::Options#touch_field (method)">#touch_field</a></td>
      <td><div class='inline'><p>The field for saving the associated object’s type.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Options.html#type-instance_method" title="Mongoid::Association::Options#type (method)">#type</a></td>
      <td><div class='inline'><p>The field for saving the associated object’s type.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="Constrainable.html" title="Mongoid::Association::Constrainable (module)"><code>Constrainable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Constrainable.html#convert_to_foreign_key-instance_method" title="Mongoid::Association::Constrainable#convert_to_foreign_key (method)">#convert_to_foreign_key</a></td>
      <td><div class='inline'><p>Convert the supplied object to the appropriate type to set as the foreign key for an association.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="Constrainable.html#convert_polymorphic-instance_method" title="Mongoid::Association::Constrainable#convert_polymorphic (method)">#convert_polymorphic</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="destructive?-instance_method">
  <h3 class='signature ro first'>
    #<strong>destructive?</strong>  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Whether the dependent method is destructive.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the dependent method is destructive.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L263-L265'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='263' data-end='265'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 263</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_destructive?'>destructive?</span>
  <span class='ivar'>@destructive</span> <span class='op'>||=</span> <span class='op'>!</span><span class='op'>!</span>(<span class='id identifier rubyid_dependent'>dependent</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_dependent'>dependent</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_delete_all'>delete_all</span> <span class='op'>||</span> <span class='id identifier rubyid_dependent'>dependent</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy'>destroy</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="in_to?-instance_method">
  <h3 class='signature ro'>
    #<strong>in_to?</strong>  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is this association an embedded_in or belongs_to association?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>true if it is an embedded_in or belongs_to association, false if not.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L333-L335'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='333' data-end='335'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 333</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_in_to?'>in_to?</span>
  [<span class='const'><a href="Referenced.html" title="Mongoid::Association::Referenced (module)">Referenced</a></span><span class='op'>::</span><span class='const'><a href="Referenced/BelongsTo.html" title="Mongoid::Association::Referenced::BelongsTo (class)">BelongsTo</a></span><span class='comma'>,</span> <span class='const'><a href="Embedded.html" title="Mongoid::Association::Embedded (module)">Embedded</a></span><span class='op'>::</span><span class='const'><a href="Embedded/EmbeddedIn.html" title="Mongoid::Association::Embedded::EmbeddedIn (class)">EmbeddedIn</a></span>].<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='kw'>self</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='id identifier rubyid_a'>a</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="many?-instance_method">
  <h3 class='signature ro'>
    #<strong>many?</strong>  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is this association an embeds_many or has_many association?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>true if it is a *_many association, false if not.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L318-L320'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='318' data-end='320'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 318</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_many?'>many?</span>
  [<span class='const'><a href="Referenced.html" title="Mongoid::Association::Referenced (module)">Referenced</a></span><span class='op'>::</span><span class='const'><a href="Referenced/HasMany.html" title="Mongoid::Association::Referenced::HasMany (class)">HasMany</a></span><span class='comma'>,</span> <span class='const'><a href="Embedded.html" title="Mongoid::Association::Embedded (module)">Embedded</a></span><span class='op'>::</span><span class='const'><a href="Embedded/EmbedsMany.html" title="Mongoid::Association::Embedded::EmbedsMany (class)">EmbedsMany</a></span>].<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='kw'>self</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='id identifier rubyid_a'>a</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature ro'>
    #<strong>name</strong>  &#x21d2; <a href="../../Symbol.html" title="Symbol (class)">Symbol</a>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The name of the association.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Symbol.html" title="Symbol (class)">Symbol</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the association.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L33-L33'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='33' data-end='33'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 33</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="one?-instance_method">
  <h3 class='signature ro'>
    #<strong>one?</strong>  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Is this association an embeds_one or has_one association?</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>true if it is a *_one association, false if not.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L325-L327'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='325' data-end='327'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 325</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_one?'>one?</span>
  [<span class='const'><a href="Referenced.html" title="Mongoid::Association::Referenced (module)">Referenced</a></span><span class='op'>::</span><span class='const'><a href="Referenced/HasOne.html" title="Mongoid::Association::Referenced::HasOne (class)">HasOne</a></span><span class='comma'>,</span> <span class='const'><a href="Embedded.html" title="Mongoid::Association::Embedded (module)">Embedded</a></span><span class='op'>::</span><span class='const'><a href="Embedded/EmbedsOne.html" title="Mongoid::Association::Embedded::EmbedsOne (class)">EmbedsOne</a></span>].<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='kw'>self</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='id identifier rubyid_a'>a</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="options-instance_method">
  <h3 class='signature ro'>
    #<strong>options</strong>  &#x21d2; <a href="../../Hash.html" title="Hash (class)">Hash</a>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The options on this association.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Hash.html" title="Hash (class)">Hash</a>)</span>
&mdash;    <div class='inline'>
<p>The options.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L38-L38'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='38' data-end='38'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 38</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'>options</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parent_inclusions-instance_method">
  <h3 class='signature rw'>
    #<strong>parent_inclusions</strong>  &#x21d2; <a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The associations above this one in the inclusion tree.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The associations.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L311-L313'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='311' data-end='313'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 311</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parent_inclusions'>parent_inclusions</span>
  <span class='ivar'>@parent_inclusions</span> <span class='op'>||=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parent_inclusions=-instance_method">
  <h3 class='signature rw'>
    #<strong>parent_inclusions=</strong>(value)  &#x21d2; <a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;  <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The associations above this one in the inclusion tree.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../String.html" title="String (class)">String</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The associations.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L306-L306'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='306' data-end='306'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 306</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parent_inclusions'><a href="#parent_inclusions-instance_method" title="Mongoid::Association::Relatable#parent_inclusions (method)">parent_inclusions</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate?-instance_method">
  <h3 class='signature ro'>
    #<strong>validate?</strong>  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Whether the associated object(s) should be validated.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the associated object(s) should be validated.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L295-L301'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='295' data-end='301'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 295</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_validate?'>validate?</span>
  <span class='ivar'>@validate</span> <span class='op'>||=</span> <span class='kw'>if</span> <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_validate'>validate</span>].<span class='id identifier rubyid_nil?'>nil?</span>
                  <span class='id identifier rubyid_validation_default'>validation_default</span>
                <span class='kw'>else</span>
                  <span class='op'>!</span><span class='op'>!</span><span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_validate'>validate</span>]
                <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="==-instance_method">
  <h3 class='signature  first'>
    #<strong>==</strong>(other)  &#x21d2; <code>Object</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compare this association to another.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'>
<p>The object to compare to this association.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L62-L67'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='62' data-end='67'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='id identifier rubyid_relation_class_name'><a href="#relation_class_name-instance_method" title="Mongoid::Association::Relatable#relation_class_name (method)">relation_class_name</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_relation_class_name'><a href="#relation_class_name-instance_method" title="Mongoid::Association::Relatable#relation_class_name (method)">relation_class_name</a></span> <span class='op'>&amp;&amp;</span>
    <span class='id identifier rubyid_inverse_class_name'><a href="#inverse_class_name-instance_method" title="Mongoid::Association::Relatable#inverse_class_name (method)">inverse_class_name</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_inverse_class_name'><a href="#inverse_class_name-instance_method" title="Mongoid::Association::Relatable#inverse_class_name (method)">inverse_class_name</a></span> <span class='op'>&amp;&amp;</span>
      <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_options'><a href="#options-instance_method" title="Mongoid::Association::Relatable#options (method)">options</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Mongoid::Association::Relatable#options (method)">options</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bindable?-instance_method">
  <h3 class='signature '>
    #<strong>bindable?</strong>(doc)  &#x21d2; <code>true</code> | <code>false</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Whether trying to bind an object using this association should raise an error.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>doc</span>
    <span class='type'>(<a href="../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document to be bound.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>Whether the document can be bound.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L93-L93'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='93' data-end='93'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 93</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_bindable?'>bindable?</span>(<span class='id identifier rubyid_doc'>doc</span>)<span class='semicolon'>;</span> <span class='kw'>false</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="class_name-instance_method">
  <h3 class='signature '>
    #<strong>class_name</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#relation_class_name-instance_method" title="Mongoid::Association::Relatable#relation_class_name (method)">#relation_class_name</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L151-L151'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='151' data-end='151'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 151</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_class_name'>class_name</span> <span class='symbeg'>:</span><span class='id identifier rubyid_relation_class_name'><a href="#relation_class_name-instance_method" title="Mongoid::Association::Relatable#relation_class_name (method)">relation_class_name</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="counter_cache_column_name-instance_method">
  <h3 class='signature '>
    #<strong>counter_cache_column_name</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the counter cache column name.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The counter cache column name.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L270-L274'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='270' data-end='274'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 270</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_counter_cache_column_name'>counter_cache_column_name</span>
  <span class='ivar'>@counter_cache_column_name</span> <span class='op'>||=</span> (<span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_counter_cache'>counter_cache</span>].<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../String.html" title="String (class)">String</a></span>) <span class='op'>||</span>
      <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_counter_cache'>counter_cache</span>].<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span>)) <span class='op'>?</span>
      <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_counter_cache'>counter_cache</span>] <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inverse'><a href="#inverse-instance_method" title="Mongoid::Association::Relatable#inverse (method)">inverse</a></span> <span class='op'>||</span> <span class='id identifier rubyid_inverse_class_name'><a href="#inverse_class_name-instance_method" title="Mongoid::Association::Relatable#inverse_class_name (method)">inverse_class_name</a></span>.<span class='id identifier rubyid_demodulize'>demodulize</span>.<span class='id identifier rubyid_underscore'>underscore</span>.<span class='id identifier rubyid_pluralize'>pluralize</span><span class='embexpr_end'>}</span><span class='tstring_content'>_count</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_extension!-instance_method">
  <h3 class='signature priv'>
    #<strong>create_extension!</strong>(&amp;block)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L421-L429'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='421' data-end='429'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 421</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create_extension!'>create_extension!</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
    <span class='id identifier rubyid_extension_module_name'>extension_module_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@owner_class</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_demodulize'>demodulize</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_camelize'>camelize</span><span class='embexpr_end'>}</span><span class='tstring_content'>RelationExtension</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_silence_warnings'>silence_warnings</span> <span class='kw'>do</span>
      <span class='ivar'>@owner_class</span>.<span class='id identifier rubyid_const_set'>const_set</span>(<span class='id identifier rubyid_extension_module_name'>extension_module_name</span><span class='comma'>,</span> <span class='const'>Module</span>.<span class='id identifier rubyid_new'>new</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>))
    <span class='kw'>end</span>
    <span class='ivar'>@extension</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@owner_class</span><span class='embexpr_end'>}</span><span class='tstring_content'>::</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension_module_name'>extension_module_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_constantize'>constantize</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_relation-instance_method">
  <h3 class='signature '>
    #<strong>create_relation</strong>(owner, target)  &#x21d2; <a href="Proxy.html" title="Mongoid::Association::Proxy (class)">Proxy</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create an association proxy object using the owner and target.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>owner</span>
    <span class='type'>(<a href="../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document this association hangs off of.</p>
</div>
  </li>
  <li>
    <span class='name'>target</span>
    <span class='type'>(<a href="../Document.html" title="Mongoid::Document (module)">Document</a> | <a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The target (parent) of the association.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L256-L258'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='256' data-end='258'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 256</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create_relation'>create_relation</span>(<span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span>)
  <span class='id identifier rubyid_relation'>relation</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_owner'>owner</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_inverse-instance_method">
  <h3 class='signature priv'>
    #<strong>default_inverse</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L431-L433'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='431' data-end='433'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 431</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_default_inverse'>default_inverse</span>
  <span class='ivar'>@default_inverse</span> <span class='op'>||=</span> <span class='id identifier rubyid_klass'><a href="#klass-instance_method" title="Mongoid::Association::Relatable#klass (method)">klass</a></span>.<span class='id identifier rubyid_relations'><a href="../Association.html#relations-class_method" title="Mongoid::Association.relations (method)">relations</a></span>[<span class='id identifier rubyid_inverse_klass'><a href="#inverse_klass-instance_method" title="Mongoid::Association::Relatable#inverse_klass (method)">inverse_klass</a></span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>.<span class='id identifier rubyid_underscore'>underscore</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_autosaver!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_autosaver!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L355-L359'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='355' data-end='359'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 355</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_autosaver!'>define_autosaver!</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_autosave?'>autosave?</span>
    <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Referenced.html" title="Mongoid::Association::Referenced (module)">Referenced</a></span><span class='op'>::</span><span class='const'><a href="Referenced/AutoSave.html" title="Mongoid::Association::Referenced::AutoSave (module)">AutoSave</a></span>.<span class='id identifier rubyid_define_autosave!'><a href="Referenced/AutoSave.html#define_autosave!-class_method" title="Mongoid::Association::Referenced::AutoSave.define_autosave! (method)">define_autosave!</a></span>(<span class='kw'>self</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_builder!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_builder!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L361-L363'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='361' data-end='363'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 361</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_builder!'>define_builder!</span>
  <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Builders.html" title="Mongoid::Association::Builders (module)">Builders</a></span>.<span class='id identifier rubyid_define_builder!'><a href="Builders.html#define_builder!-class_method" title="Mongoid::Association::Builders.define_builder! (method)">define_builder!</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_counter_cache_callbacks!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_counter_cache_callbacks!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L389-L393'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='389' data-end='393'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_counter_cache_callbacks!'>define_counter_cache_callbacks!</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_counter_cached?'>counter_cached?</span>
    <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Referenced.html" title="Mongoid::Association::Referenced (module)">Referenced</a></span><span class='op'>::</span><span class='const'><a href="Referenced/CounterCache.html" title="Mongoid::Association::Referenced::CounterCache (module)">CounterCache</a></span>.<span class='id identifier rubyid_define_callbacks!'><a href="Referenced/CounterCache.html#define_callbacks!-class_method" title="Mongoid::Association::Referenced::CounterCache.define_callbacks! (method)">define_callbacks!</a></span>(<span class='kw'>self</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_creator!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_creator!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L365-L367'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='365' data-end='367'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 365</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_creator!'>define_creator!</span>
  <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Builders.html" title="Mongoid::Association::Builders (module)">Builders</a></span>.<span class='id identifier rubyid_define_creator!'><a href="Builders.html#define_creator!-class_method" title="Mongoid::Association::Builders.define_creator! (method)">define_creator!</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_dependency!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_dependency!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L395-L399'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='395' data-end='399'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 395</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_dependency!'>define_dependency!</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dependent'>dependent</span>
    <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Depending.html" title="Mongoid::Association::Depending (module)">Depending</a></span>.<span class='id identifier rubyid_define_dependency!'><a href="Depending.html#define_dependency!-class_method" title="Mongoid::Association::Depending.define_dependency! (method)">define_dependency!</a></span>(<span class='kw'>self</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_existence_check!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_existence_check!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L377-L379'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='377' data-end='379'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 377</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_existence_check!'>define_existence_check!</span>
  <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Accessors.html" title="Mongoid::Association::Accessors (module)">Accessors</a></span>.<span class='id identifier rubyid_define_existence_check!'><a href="Accessors.html#define_existence_check!-class_method" title="Mongoid::Association::Accessors.define_existence_check! (method)">define_existence_check!</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_getter!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_getter!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L369-L371'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='369' data-end='371'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 369</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_getter!'>define_getter!</span>
  <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Accessors.html" title="Mongoid::Association::Accessors (module)">Accessors</a></span>.<span class='id identifier rubyid_define_getter!'><a href="Accessors.html#define_getter!-class_method" title="Mongoid::Association::Accessors.define_getter! (method)">define_getter!</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_ids_getter!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_ids_getter!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L381-L383'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='381' data-end='383'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 381</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_ids_getter!'>define_ids_getter!</span>
  <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Accessors.html" title="Mongoid::Association::Accessors (module)">Accessors</a></span>.<span class='id identifier rubyid_define_ids_getter!'><a href="Accessors.html#define_ids_getter!-class_method" title="Mongoid::Association::Accessors.define_ids_getter! (method)">define_ids_getter!</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_ids_setter!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_ids_setter!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L385-L387'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='385' data-end='387'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 385</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_ids_setter!'>define_ids_setter!</span>
  <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Accessors.html" title="Mongoid::Association::Accessors (module)">Accessors</a></span>.<span class='id identifier rubyid_define_ids_setter!'><a href="Accessors.html#define_ids_setter!-class_method" title="Mongoid::Association::Accessors.define_ids_setter! (method)">define_ids_setter!</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_setter!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_setter!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L373-L375'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='373' data-end='375'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 373</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_setter!'>define_setter!</span>
  <span class='const'><a href="../Association.html" title="Mongoid::Association (module)">Association</a></span><span class='op'>::</span><span class='const'><a href="Accessors.html" title="Mongoid::Association::Accessors (module)">Accessors</a></span>.<span class='id identifier rubyid_define_setter!'><a href="Accessors.html#define_setter!-class_method" title="Mongoid::Association::Accessors.define_setter! (method)">define_setter!</a></span>(<span class='kw'>self</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_touchable!-instance_method">
  <h3 class='signature priv'>
    #<strong>define_touchable!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L349-L353'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='349' data-end='353'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 349</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_touchable!'>define_touchable!</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_touchable?'>touchable?</span>
    <span class='const'><a href="../Touchable.html" title="Mongoid::Touchable (module)">Touchable</a></span>.<span class='id identifier rubyid_define_touchable!'><a href="../Touchable.html#define_touchable!-instance_method" title="Mongoid::Touchable#define_touchable! (method)">define_touchable!</a></span>(<span class='kw'>self</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extension-instance_method">
  <h3 class='signature '>
    #<strong>extension</strong>  &#x21d2; <code>Module</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the extension.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Module</code>)</span>
&mdash;    <div class='inline'>
<p>The extension module, if one has been defined.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L279-L281'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='279' data-end='281'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 279</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extension'>extension</span>
  <span class='ivar'>@extension</span> <span class='op'>||=</span> <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_extend'>extend</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="foreign_key_check-instance_method">
  <h3 class='signature '>
    #<strong>foreign_key_check</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the name of the method to check if the foreign key has changed.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the foreign key check method.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_association'>association</span>.<span class='id identifier rubyid_foreign_key_check'>foreign_key_check</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The foreign key check.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L245-L247'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='245' data-end='247'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 245</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_foreign_key_check'>foreign_key_check</span>
  <span class='ivar'>@foreign_key_check</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_foreign_key'>foreign_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>_previously_changed?</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> (<span class='id identifier rubyid_stores_foreign_key?'>stores_foreign_key?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_foreign_key'>foreign_key</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="foreign_key_setter-instance_method">
  <h3 class='signature '>
    #<strong>foreign_key_setter</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The name of the foreign key setter method.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the foreign key setter.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L215-L219'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='215' data-end='219'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 215</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_foreign_key_setter'>foreign_key_setter</span>
  <span class='comment'># note: You can&#39;t check if this association stores foreign key
</span>  <span class='comment'># See HasOne and HasMany binding, they referenced foreign_key_setter
</span>  <span class='ivar'>@foreign_key_setter</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_foreign_key'>foreign_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_foreign_key'>foreign_key</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_callbacks-instance_method">
  <h3 class='signature '>
    #<strong>get_callbacks</strong>(callback_type)  &#x21d2; <a href="../../Array.html" title="Array (class)">Array</a>&lt;<code>Proc</code> | <a href="../../Symbol.html" title="Symbol (class)">Symbol</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the callbacks for a given type.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>callback_type</span>
    <span class='type'>(<a href="../../Symbol.html" title="Symbol (class)">Symbol</a>)</span>
&mdash;    <div class='inline'>
<p>The type of callback type.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Array.html" title="Array (class)">Array</a>&lt;<code>Proc</code> | <a href="../../Symbol.html" title="Symbol (class)">Symbol</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>A list of the callbacks, either method names or Procs.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L75-L77'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='75' data-end='77'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 75</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_callbacks'>get_callbacks</span>(<span class='id identifier rubyid_callback_type'>callback_type</span>)
  <span class='const'><a href="../../Array.html" title="Array (class)">Array</a></span>(<span class='id identifier rubyid_options'><a href="#options-instance_method" title="Mongoid::Association::Relatable#options (method)">options</a></span>[<span class='id identifier rubyid_callback_type'>callback_type</span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize-instance_method">
  <h3 class='signature '>
    #<strong>initialize</strong>(_class, name, opts = {}, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initialize the <a href="../Association.html" title="Mongoid::Association (module)"><code>::Mongoid::Association</code></a>.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>_class</span>
    <span class='type'>(<code>Class</code>)</span>
&mdash;    <div class='inline'>
<p>The class of the model who owns this association.</p>
</div>
  </li>
  <li>
    <span class='name'>name</span>
    <span class='type'>(<a href="../../Symbol.html" title="Symbol (class)">Symbol</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the association.</p>
</div>
  </li>
  <li>
    <span class='name'>opts</span>
    <span class='type'>(<a href="../../Hash.html" title="Hash (class)">Hash</a>)</span>
    <em class='default'>(defaults to: <tt>{}</tt>)</em>
&mdash;    <div class='inline'>
<p>The association options.</p>
</div>
  </li>
  <li>
    <span class='name'>block</span>
    <span class='type'>(<code>Block</code>)</span>
&mdash;    <div class='inline'>
<p>The optional block.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L46-L57'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='46' data-end='57'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 46</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid__class'>_class</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@owner_class</span> <span class='op'>=</span> <span class='id identifier rubyid__class'>_class</span>
  <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>
  <span class='ivar'>@extension</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@module_path</span> <span class='op'>=</span> <span class='id identifier rubyid__class'>_class</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span> <span class='op'>?</span> <span class='id identifier rubyid__class'>_class</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>)[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>].<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>) <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@module_path</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='ivar'>@module_path</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_create_extension!'><a href="#create_extension!-instance_method" title="Mongoid::Association::Relatable#create_extension! (method)">create_extension!</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_validate!'><a href="#validate!-instance_method" title="Mongoid::Association::Relatable#validate! (method)">validate!</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse-instance_method">
  <h3 class='signature '>
    #<strong>inverse</strong>(other = nil)  &#x21d2; <a href="../../Symbol.html" title="Symbol (class)">Symbol</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the inverse name.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Symbol.html" title="Symbol (class)">Symbol</a>)</span>
&mdash;    <div class='inline'>
<p>The inverse name.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L286-L289'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='286' data-end='289'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 286</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverse'>inverse</span>(<span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_candidates'>candidates</span> <span class='op'>=</span> <span class='id identifier rubyid_inverses'><a href="#inverses-instance_method" title="Mongoid::Association::Relatable#inverses (method)">inverses</a></span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='id identifier rubyid_candidates'>candidates</span>.<span class='id identifier rubyid_detect'>detect</span> { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span> } <span class='kw'>if</span> <span class='id identifier rubyid_candidates'>candidates</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse_association-instance_method">
  <h3 class='signature '>
    #<strong>inverse_association</strong>(other = nil)  &#x21d2; <code>Relatable</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the inverse’s association metadata.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>other</span>
    <span class='type'>(<code>Object</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>The other model class or model object to use when determining inverses.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>Relatable</code>)</span>
&mdash;    <div class='inline'>
<p>The inverse’s association metadata.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L118-L120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='118' data-end='120'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 118</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverse_association'>inverse_association</span>(<span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  (<span class='id identifier rubyid_other'>other</span> <span class='op'>||</span> <span class='id identifier rubyid_relation_class'><a href="#relation_class-instance_method" title="Mongoid::Association::Relatable#relation_class (method)">relation_class</a></span>).<span class='id identifier rubyid_relations'><a href="../Association.html#relations-class_method" title="Mongoid::Association.relations (method)">relations</a></span>[<span class='id identifier rubyid_inverse'><a href="#inverse-instance_method" title="Mongoid::Association::Relatable#inverse (method)">inverse</a></span>(<span class='id identifier rubyid_other'>other</span>)]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse_association_classes-instance_method">
  <h3 class='signature priv'>
    #<strong>inverse_association_classes</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Gets the model classes with inverse associations of this model. This is used to determine the classes on the other end of polymorphic associations with models.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L341-L343'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='341' data-end='343'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 341</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverse_association_classes'>inverse_association_classes</span>
  <span class='const'><a href="../../Mongoid.html" title="Mongoid (module)">Mongoid</a></span><span class='op'>::</span><span class='const'><a href="../Config.html" title="Mongoid::Config (module)">Config</a></span>.<span class='id identifier rubyid_models'><a href="../Config.html#models-instance_method" title="Mongoid::Config#models (method)">models</a></span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_inverse_association'><a href="#inverse_association-instance_method" title="Mongoid::Association::Relatable#inverse_association (method)">inverse_association</a></span>(<span class='id identifier rubyid_m'>m</span>) }.<span class='id identifier rubyid_compact'>compact</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_inverse_class'><a href="#inverse_class-instance_method" title="Mongoid::Association::Relatable#inverse_class (method)">inverse_class</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse_class-instance_method">
  <h3 class='signature '>
    #<strong>inverse_class</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
    <span class='aliases'>Also known as: <span class='names'>#inverse_klass</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The class of the object owning this association.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The owning objects’ class.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L185-L187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='185' data-end='187'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 185</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverse_class'>inverse_class</span>
  <span class='ivar'>@owner_class</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse_class_name-instance_method">
  <h3 class='signature '>
    #<strong>inverse_class_name</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The class name of the object owning this association.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The owning objects’ class name.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L178-L180'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='178' data-end='180'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 178</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverse_class_name'>inverse_class_name</span>
  <span class='ivar'>@inverse_class_name</span> <span class='op'>||=</span> <span class='ivar'>@owner_class</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse_klass-instance_method">
  <h3 class='signature '>
    #<strong>inverse_klass</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#inverse_class-instance_method" title="Mongoid::Association::Relatable#inverse_class (method)">#inverse_class</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L188-L188'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='188' data-end='188'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 188</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inverse_klass'>inverse_klass</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inverse_class'><a href="#inverse_class-instance_method" title="Mongoid::Association::Relatable#inverse_class (method)">inverse_class</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse_setter-instance_method">
  <h3 class='signature '>
    #<strong>inverse_setter</strong>(other = nil)  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The name of the inverse setter method.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the inverse setter.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L208-L210'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='208' data-end='210'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 208</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverse_setter'>inverse_setter</span>(<span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='ivar'>@inverse_setter</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inverses'><a href="#inverses-instance_method" title="Mongoid::Association::Relatable#inverses (method)">inverses</a></span>(<span class='id identifier rubyid_other'>other</span>).<span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_inverses'><a href="#inverses-instance_method" title="Mongoid::Association::Relatable#inverses (method)">inverses</a></span>(<span class='id identifier rubyid_other'>other</span>).<span class='id identifier rubyid_blank?'>blank?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse_type-instance_method">
  <h3 class='signature '>
    #<strong>inverse_type</strong>  &#x21d2; <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the inverse type.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>nil</code>)</span>
&mdash;    <div class='inline'>
<p>Default is nil for an association.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L125-L125'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='125' data-end='125'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 125</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverse_type'>inverse_type</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverse_type_setter-instance_method">
  <h3 class='signature '>
    #<strong>inverse_type_setter</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Gets the setter for the field that sets the type of document on a polymorphic association.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the inverse type setter.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_association'>association</span>.<span class='id identifier rubyid_inverse_type_setter'>inverse_type_setter</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the setter.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L235-L237'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='235' data-end='237'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 235</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverse_type_setter'>inverse_type_setter</span>
  <span class='ivar'>@inverse_type_setter</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_inverse_type'><a href="#inverse_type-instance_method" title="Mongoid::Association::Relatable#inverse_type (method)">inverse_type</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_inverse_type'><a href="#inverse_type-instance_method" title="Mongoid::Association::Relatable#inverse_type (method)">inverse_type</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inverses-instance_method">
  <h3 class='signature '>
    #<strong>inverses</strong>(other = nil)  &#x21d2; <a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../Symbol.html" title="Symbol (class)">Symbol</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get the inverse names.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>other</span>
    <span class='type'>(<code>Object</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>The other model class or model object to use when determining inverses.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../Symbol.html" title="Symbol (class)">Symbol</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The list of inverse names.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L101-L110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='101' data-end='110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 101</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inverses'>inverses</span>(<span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> [ <span class='id identifier rubyid_inverse_of'>inverse_of</span> ] <span class='kw'>if</span> <span class='id identifier rubyid_inverse_of'>inverse_of</span>
  <span class='kw'>return</span> [] <span class='kw'>if</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_inverse_of'>inverse_of</span>) <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_inverse_of'>inverse_of</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_polymorphic?'>polymorphic?</span>
    <span class='id identifier rubyid_polymorphic_inverses'>polymorphic_inverses</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_determine_inverses'>determine_inverses</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="key-instance_method">
  <h3 class='signature '>
    #<strong>key</strong>  &#x21d2; <a href="../../Symbol.html" title="Symbol (class)">Symbol</a> | <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The foreign key field if this association stores a foreign key. Otherwise, the primary key.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Symbol.html" title="Symbol (class)">Symbol</a> | <a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The primary key.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L194-L196'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='194' data-end='196'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 194</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_key'>key</span>
  <span class='id identifier rubyid_stores_foreign_key?'>stores_foreign_key?</span> <span class='op'>?</span> <span class='id identifier rubyid_foreign_key'>foreign_key</span> <span class='op'>:</span> <span class='id identifier rubyid_primary_key'>primary_key</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="klass-instance_method">
  <h3 class='signature '>
    #<strong>klass</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#relation_class-instance_method" title="Mongoid::Association::Relatable#relation_class (method)">#relation_class</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L173-L173'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='173' data-end='173'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 173</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_klass'>klass</span> <span class='symbeg'>:</span><span class='id identifier rubyid_relation_class'><a href="#relation_class-instance_method" title="Mongoid::Association::Relatable#relation_class (method)">relation_class</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="namespace_hierarchy-instance_method">
  <h3 class='signature priv'>
    #<strong>namespace_hierarchy</strong>(mod)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an array of classes/modules forming the namespace hierarchy where symbols referenced in the provided class/module would be looked up by Ruby. For example, if mod is Foo::Bar, this method would return [Foo::Bar, Foo, Object].</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L439-L452'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='439' data-end='452'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 439</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_namespace_hierarchy'>namespace_hierarchy</span>(<span class='id identifier rubyid_mod'>mod</span>)
  <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='const'>Object</span>
  <span class='id identifier rubyid_hier'>hier</span> <span class='op'>=</span> [<span class='id identifier rubyid_parent'>parent</span>]

  <span class='comment'># name is not present on anonymous modules
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>
    <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part'>part</span><span class='op'>|</span>
      <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_parent'>parent</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_part'>part</span>)
      <span class='id identifier rubyid_hier'>hier</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_parent'>parent</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_hier'>hier</span>.<span class='id identifier rubyid_reverse'>reverse</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="path-instance_method">
  <h3 class='signature '>
    #<strong>path</strong>(document)  &#x21d2; <a href="../Atomic/Paths/Root.html" title="Mongoid::Atomic::Paths::Root (class)">Mongoid::Atomic::Paths::Root</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The atomic path for this association.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../Atomic/Paths/Root.html" title="Mongoid::Atomic::Paths::Root (class)">Mongoid::Atomic::Paths::Root</a>)</span>
&mdash;    <div class='inline'>
<p>The atomic path object.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L224-L226'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='224' data-end='226'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 224</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_path'>path</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_relation'>relation</span>.<span class='id identifier rubyid_path'>path</span>(<span class='id identifier rubyid_document'>document</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="polymorph!-instance_method">
  <h3 class='signature priv'>
    #<strong>polymorph!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L415-L419'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='415' data-end='419'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 415</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_polymorph!'>polymorph!</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_polymorphic?'>polymorphic?</span>
    <span class='ivar'>@owner_class</span>.<span class='id identifier rubyid_polymorphic'>polymorphic</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="relation_class-instance_method">
  <h3 class='signature '>
    #<strong>relation_class</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
    <span class='aliases'>Also known as: <span class='names'>#klass</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The class of the association object(s).</p>

<p>This method returns the class instance corresponding to <a href="#relation_class_name-instance_method" title="Mongoid::Association::Relatable#relation_class_name (method)">#relation_class_name</a>, resolved relative to the host document class.</p>

<p>If the class does not exist, this method raises NameError. This can happen because the target class has not yet been defined. Note that polymorphic associations generally do not have a well defined target class because the target class can change from one object to another, and calling this method on a polymorphic association will generally fail with a NameError or produce misleading results (if a class does happen to be defined with the same name as the association name).</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The association objects’ class.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L167-L172'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='167' data-end='172'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 167</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_relation_class'>relation_class</span>
  <span class='ivar'>@klass</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_cls_name'>cls_name</span> <span class='op'>=</span> <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_class_name'><a href="#class_name-instance_method" title="Mongoid::Association::Relatable#class_name (method)">class_name</a></span>] <span class='op'>||</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'>Inflector</span>.<span class='id identifier rubyid_classify'>classify</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>)
    <span class='id identifier rubyid_resolve_name'><a href="#resolve_name-instance_method" title="Mongoid::Association::Relatable#resolve_name (method)">resolve_name</a></span>(<span class='id identifier rubyid_inverse_class'><a href="#inverse_class-instance_method" title="Mongoid::Association::Relatable#inverse_class (method)">inverse_class</a></span><span class='comma'>,</span> <span class='id identifier rubyid_cls_name'>cls_name</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="relation_class_name-instance_method">
  <h3 class='signature '>
    #<strong>relation_class_name</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
    <span class='aliases'>Also known as: <span class='names'>#class_name</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The return value of this method should not be used to determine whether two associations have the same target class, because the return value is not always a fully qualified class name. To compare classes, retrieve the class instance of the association target using the <a href="#relation_class-instance_method" title="Mongoid::Association::Relatable#relation_class (method)">#relation_class</a> method.</p>
</div>
  </div>

<dl class="rdoc-list note-list"><dt>The class name, possibly unqualified or </dt>
<dd>
<p>prefixed, of the association</p>
</dd></dl>

<p>object(s).</p>

<p>This method returns the class name as it is used in the association definition. If <code>:class_name</code> option is given in the association, the exact value of that option is returned here. If <code>:class_name</code> option is not given, the name of the class is calculated from association name but is not resolved to the actual class.</p>

<p>The class name returned by this method may not correspond to a defined class, either because the corresponding class has not been loaded yet, or because the association references a non-existent class altogether. To obtain the association class, use <a href="#relation_class-instance_method" title="Mongoid::Association::Relatable#relation_class (method)">#relation_class</a> method.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The association objects’ class name.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L148-L150'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='148' data-end='150'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 148</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_relation_class_name'>relation_class_name</span>
  <span class='ivar'>@class_name</span> <span class='op'>||=</span> <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_class_name'><a href="#class_name-instance_method" title="Mongoid::Association::Relatable#class_name (method)">class_name</a></span>] <span class='op'>||</span> <span class='const'><a href="../../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span><span class='op'>::</span><span class='const'>Inflector</span>.<span class='id identifier rubyid_classify'>classify</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="resolve_name-instance_method">
  <h3 class='signature priv'>
    #<strong>resolve_name</strong>(mod, name)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This method can swallow exceptions produced during class loading, because it rescues NameError internally. Since this method attempts to load classes, failure during the loading process may also lead to there being incomplete class definitions.</p>
</div>
  </div>


<p>Resolves the given class/module name in the context of the specified module, as Ruby would when a constant is referenced in the source.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L461-L492'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='461' data-end='492'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 461</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve_name'>resolve_name</span>(<span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>)
  <span class='id identifier rubyid_cls'>cls</span> <span class='op'>=</span> <span class='id identifier rubyid_exc'>exc</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_first'>first</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_hierarchy'>hierarchy</span> <span class='op'>=</span> [<span class='const'>Object</span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_hierarchy'>hierarchy</span> <span class='op'>=</span> <span class='id identifier rubyid_namespace_hierarchy'><a href="#namespace_hierarchy-instance_method" title="Mongoid::Association::Relatable#namespace_hierarchy (method)">namespace_hierarchy</a></span>(<span class='id identifier rubyid_mod'>mod</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_hierarchy'>hierarchy</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ns'>ns</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part'>part</span><span class='op'>|</span>
        <span class='comment'># Simple const_get sometimes pulls names out of weird scopes,
</span>        <span class='comment'># perhaps confusing the receiver (ns in this case) with the
</span>        <span class='comment'># local scope. Walk the class hierarchy ourselves one node
</span>        <span class='comment'># at a time by specifying false as the second argument.
</span>        <span class='id identifier rubyid_ns'>ns</span> <span class='op'>=</span> <span class='id identifier rubyid_ns'>ns</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_part'>part</span><span class='comma'>,</span> <span class='kw'>false</span>)
      <span class='kw'>end</span>
      <span class='id identifier rubyid_cls'>cls</span> <span class='op'>=</span> <span class='id identifier rubyid_ns'>ns</span>
      <span class='kw'>break</span>
    <span class='kw'>rescue</span> <span class='const'>NameError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_exc'>exc</span>.<span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_exc'>exc</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_cls'>cls</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># Raise the first exception, this is from the most specific namespace
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exc'>exc</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cls'>cls</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setter-instance_method">
  <h3 class='signature '>
    #<strong>setter</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The name of the setter on this object for assigning an associated object.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The setter name.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L201-L203'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='201' data-end='203'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 201</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_setter'>setter</span>
  <span class='ivar'>@setter</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setup_index!-instance_method">
  <h3 class='signature priv'>
    #<strong>setup_index!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L345-L347'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='345' data-end='347'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 345</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_index!'>setup_index!</span>
  <span class='ivar'>@owner_class</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_index_spec'>index_spec</span><span class='comma'>,</span> <span class='label'>background:</span> <span class='kw'>true</span>) <span class='kw'>if</span> <span class='id identifier rubyid_indexed?'>indexed?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="type_setter-instance_method">
  <h3 class='signature '>
    #<strong>type_setter</strong>  &#x21d2; <a href="../../String.html" title="String (class)">String</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Only relevant for polymorphic associations that take the <code>:as</code> option.</p>
</div>
  </div>


<p>Get the type setter.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The type setter method.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L83-L85'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='83' data-end='85'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 83</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_type_setter'>type_setter</span>
  <span class='ivar'>@type_setter</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate!-instance_method">
  <h3 class='signature priv'>
    #<strong>validate!</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/relatable.rb#L401-L413'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='401' data-end='413'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/relatable.rb', line 401</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_validate!'>validate!</span>
  <span class='ivar'>@options</span>.<span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opt'>opt</span><span class='op'>|</span>
    <span class='kw'>unless</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='op'>::</span><span class='const'>VALID_OPTIONS</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_opt'>opt</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Errors.html" title="Mongoid::Errors (module)">Errors</a></span><span class='op'>::</span><span class='const'><a href="../Errors/InvalidRelationOption.html" title="Mongoid::Errors::InvalidRelationOption (class)">InvalidRelationOption</a></span>.<span class='id identifier rubyid_new'><a href="../Errors/InvalidRelationOption.html#new-class_method" title="Mongoid::Errors::InvalidRelationOption.new (method)">new</a></span>(<span class='ivar'>@owner_class</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='op'>::</span><span class='const'>VALID_OPTIONS</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  [<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Mongoid::Association::Relatable#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_to_sym'>to_sym</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='const'><a href="../../Mongoid.html" title="Mongoid (module)">Mongoid</a></span>.<span class='id identifier rubyid_destructive_fields'>destructive_fields</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_n'>n</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../Errors.html" title="Mongoid::Errors (module)">Errors</a></span><span class='op'>::</span><span class='const'><a href="../Errors/InvalidRelation.html" title="Mongoid::Errors::InvalidRelation (class)">InvalidRelation</a></span>.<span class='id identifier rubyid_new'><a href="../Errors/InvalidRelation.html#new-class_method" title="Mongoid::Errors::InvalidRelation.new (method)">new</a></span>(<span class='ivar'>@owner_class</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>