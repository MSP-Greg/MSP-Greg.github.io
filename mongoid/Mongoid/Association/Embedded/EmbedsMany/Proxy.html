<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Mongoid::Association::Embedded::EmbedsMany::Proxy &mdash; Mongoid master</title>

<link rel='stylesheet'  type='text/css' href='../../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Mongoid::Association::Embedded::EmbedsMany::Proxy",
    relpath = '../../../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../../'>Mongoid master</a> &raquo; 
      <a href='../../../../_index.html#alpha_P'>Index (P)</a> &raquo; 
        <a href="../../../../Mongoid.html" title="Mongoid (module)">Mongoid</a> &raquo; 
        <a href="../../../Association.html" title="Mongoid::Association (module)">Association</a> &raquo; 
        <a href="../../Embedded.html" title="Mongoid::Association::Embedded (module)">Embedded</a> &raquo; 
        <a href="../EmbedsMany.html" title="Mongoid::Association::Embedded::EmbedsMany (class)">EmbedsMany</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Proxy&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Mongoid::Association::Embedded::EmbedsMany::Proxy</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="Proxy/ClassMethods.html" title="Mongoid::Association::Embedded::EmbedsMany::Proxy::ClassMethods (module)"><code>ClassMethods</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="Proxy/ClassMethods.html" title="Mongoid::Association::Embedded::EmbedsMany::Proxy::ClassMethods (module)"><code>ClassMethods</code></a>,
          <a href="../../Many.html" title="Mongoid::Association::Many (class)"><code>::Mongoid::Association::Many</code></a>,
          Forwardable,
          <a href="../../Proxy.html" title="Mongoid::Association::Proxy (class)"><code>::Mongoid::Association::Proxy</code></a>,
          Forwardable
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Batchable.html" title="Mongoid::Association::Embedded::Batchable (module)"><code>::Mongoid::Association::Embedded::Batchable</code></a>,
          <a href="../../../Positional.html" title="Mongoid::Positional (module)"><code>::Mongoid::Positional</code></a>,
          <a href="../../Many.html" title="Mongoid::Association::Many (class)"><code>::Mongoid::Association::Many</code></a>,
          Enumerable,
          <a href="../../Proxy.html" title="Mongoid::Association::Proxy (class)"><code>::Mongoid::Association::Proxy</code></a>,
          <a href="../../Marshalable.html" title="Mongoid::Association::Marshalable (module)"><code>::Mongoid::Association::Marshalable</code></a>,
          <a href="../../../Threaded/Lifecycle.html" title="Mongoid::Threaded::Lifecycle (module)"><code>::Mongoid::Threaded::Lifecycle</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../../Many.html" title="Mongoid::Association::Many (class)">Mongoid::Association::Many</a></span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'><a href="../../Proxy.html" title="Mongoid::Association::Proxy (class)">Mongoid::Association::Proxy</a></li>
          <li class='next'><a href="../../Many.html" title="Mongoid::Association::Many (class)">Mongoid::Association::Many</a></li>
          <li class='next'>Mongoid::Association::Embedded::EmbedsMany::Proxy</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L15'>lib/mongoid/association/embedded/embeds_many/proxy.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Transparent proxy for embeds_many associations. An instance of this class is returned when calling the association getter method on the parent document. This class inherits from Mongoid::Association::Proxy and forwards most of its methods to the target of the association, i.e. the array of child documents.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
  <h3 class='inherited'><a href="../../Proxy.html" title="Mongoid::Association::Proxy (class)"><code>::Mongoid::Association::Proxy</code></a> - Inherited</h3>
  <p  class='inherited'>
    <a href="../../Proxy.html#KEEPER_METHODS-constant" title="Mongoid::Association::Proxy::KEEPER_METHODS (constant)">KEEPER_METHODS</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="Proxy/ClassMethods.html" title="Mongoid::Association::Embedded::EmbedsMany::Proxy::ClassMethods (module)"><code>ClassMethods</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="Proxy/ClassMethods.html#embedded%3F-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy::ClassMethods#embedded? (method)">embedded?</a></td>
      <td><div class='inline'><p>Returns true if the association is an embedded one.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(base, target, association)  &#x21d2; Many </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Instantiate a new embeds_many association.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="Proxy/ClassMethods.html" title="Mongoid::Association::Embedded::EmbedsMany::Proxy::ClassMethods (module)"><code>ClassMethods</code></a> - Extended</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Proxy/ClassMethods.html#eager_loader-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy::ClassMethods#eager_loader (method)">eager_loader</a></td>
      <td><div class='inline'><p>Returns the eager loader for this association.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="Proxy/ClassMethods.html#foreign_key_suffix-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy::ClassMethods#foreign_key_suffix (method)">foreign_key_suffix</a></td>
      <td><div class='inline'><p>Returns the suffix of the foreign key field, either “_id” or “_ids”.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../Proxy.html" title="Mongoid::Association::Proxy (class)"><code>::Mongoid::Association::Proxy</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Proxy.html#apply_ordering-class_method" title="Mongoid::Association::Proxy.apply_ordering (method)">.apply_ordering</a></td>
      <td><div class='inline'><p>Apply ordering to the criteria if it was defined on the association.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Proxy.html#new-class_method" title="Mongoid::Association::Proxy.new (method)">.new</a></td>
      <td><div class='inline'><p>Sets the target and the association metadata properties.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw priv'>
      <a href="#_unscoped-instance_method" title="#_unscoped (instance method)">#<strong>_unscoped</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature ro priv'>
      <a href="#persistable%3F-instance_method" title="#persistable? (instance method)">#<strong>persistable?</strong>  &#x21d2; true | false </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Are we able to persist this association?</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Batchable.html" title="Mongoid::Association::Embedded::Batchable (module)"><code>::Mongoid::Association::Embedded::Batchable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro priv nodoc' href="../Batchable.html#insertable%3F-instance_method" title="Mongoid::Association::Embedded::Batchable#insertable? (method)">#insertable?</a></td>
      <td><div class='inline'><p>Are we in a state to be able to batch insert?</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw priv nodoc' href="../Batchable.html#inserts_valid-instance_method" title="Mongoid::Association::Embedded::Batchable#inserts_valid (method)">#inserts_valid</a></td>
      <td><div class='inline'><p>Are the inserts currently valid?</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw priv nodoc' href="../Batchable.html#inserts_valid=-instance_method" title="Mongoid::Association::Embedded::Batchable#inserts_valid= (method)">#inserts_valid=</a></td>
      <td><div class='inline'><p><a href="../../../../Set.html" title="Set (class)"><code>::Set</code></a> the inserts valid flag.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw priv nodoc' href="../Batchable.html#path-instance_method" title="Mongoid::Association::Embedded::Batchable#path (method)">#path</a></td>
      <td><div class='inline'><p>Get the atomic path.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw priv nodoc' href="../Batchable.html#path=-instance_method" title="Mongoid::Association::Embedded::Batchable#path= (method)">#path=</a></td>
      <td><div class='inline'><p><a href="../../../../Set.html" title="Set (class)"><code>::Set</code></a> the atomic path.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../Many.html" title="Mongoid::Association::Many (class)"><code>::Mongoid::Association::Many</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../../Many.html#blank%3F-instance_method" title="Mongoid::Association::Many#blank? (method)">#blank?</a></td>
      <td><div class='inline'><p>Is the association empty?</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../../Many.html#nil%3F-instance_method" title="Mongoid::Association::Many#nil? (method)">#nil?</a></td>
      <td><div class='inline'><p>This proxy can never be nil.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../Proxy.html" title="Mongoid::Association::Proxy (class)"><code>::Mongoid::Association::Proxy</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m rw' href="../../Proxy.html#_association-instance_method" title="Mongoid::Association::Proxy#_association (method)">#_association</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../../Proxy.html#_base-instance_method" title="Mongoid::Association::Proxy#_base (method)">#_base</a></td>
      <td><div class='inline'><p>Model instance for the base of the association.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../../Proxy.html#_target-instance_method" title="Mongoid::Association::Proxy#_target (method)">#_target</a></td>
      <td><div class='inline'><p>Model instance for one to one associations, or array of model instances for one to many associations, for the target of the association.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../../Threaded/Lifecycle.html" title="Mongoid::Threaded::Lifecycle (module)"><code>::Mongoid::Threaded::Lifecycle</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_assigning-instance_method" title="Mongoid::Threaded::Lifecycle#_assigning (method)">#_assigning</a></td>
      <td><div class='inline'><p>Begin the assignment of attributes.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_assigning%3F-instance_method" title="Mongoid::Threaded::Lifecycle#_assigning? (method)">#_assigning?</a></td>
      <td><div class='inline'><p>Is the current thread in assigning mode?</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_binding-instance_method" title="Mongoid::Threaded::Lifecycle#_binding (method)">#_binding</a></td>
      <td><div class='inline'><p>Execute a block in binding mode.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_binding%3F-instance_method" title="Mongoid::Threaded::Lifecycle#_binding? (method)">#_binding?</a></td>
      <td><div class='inline'><p>Is the current thread in binding mode?</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_building-instance_method" title="Mongoid::Threaded::Lifecycle#_building (method)">#_building</a></td>
      <td><div class='inline'><p>Execute a block in building mode.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_building%3F-instance_method" title="Mongoid::Threaded::Lifecycle#_building? (method)">#_building?</a></td>
      <td><div class='inline'><p>Is the current thread in building mode?</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_creating%3F-instance_method" title="Mongoid::Threaded::Lifecycle#_creating? (method)">#_creating?</a></td>
      <td><div class='inline'><p>Is the current thread in creating mode?</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_loading-instance_method" title="Mongoid::Threaded::Lifecycle#_loading (method)">#_loading</a></td>
      <td><div class='inline'><p>Execute a block in loading mode.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro priv' href="../../../Threaded/Lifecycle.html#_loading%3F-instance_method" title="Mongoid::Threaded::Lifecycle#_loading? (method)">#_loading?</a></td>
      <td><div class='inline'><p>Is the current thread in loading mode?</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(*args)  </a>
      (also: #push)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Appends a document or array of documents to the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#_remove-instance_method" title="#_remove (instance method)">#<strong>_remove</strong>(document)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes a single document from the collection *in memory only*.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#as_document-instance_method" title="#as_document (instance method)">#<strong>as_document</strong>  &#x21d2; Array&lt;Hash&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get this association as as its representation in the database.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#build-instance_method" title="#build (instance method)">#<strong>build</strong>(attributes = {}, type = nil)  &#x21d2; Document </a>
      (also: #new)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Builds a new document in the association and appends it to the target.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Clear the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>(docs)  &#x21d2; Array&lt;Document&gt; </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Appends an array of documents to the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>(*args, &amp;block)  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a count of the number of documents in the association that have actually been persisted to the database.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(document)  &#x21d2; Document | nil </a>
      (also: #delete_one)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delete the supplied document from the target.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_all-instance_method" title="#delete_all (instance method)">#<strong>delete_all</strong>(conditions = {})  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delete all the documents in the association without running callbacks.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong>  &#x21d2; EmbedsMany::Proxy | Enumerator </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Delete all the documents for which the provided block returns true.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_one-instance_method" title="#delete_one (instance method)">#<strong>delete_one</strong>(document)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">#delete</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#destroy_all-instance_method" title="#destroy_all (instance method)">#<strong>destroy_all</strong>(conditions = {})  &#x21d2; Integer </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Destroy all the documents in the association whilst running callbacks.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#exists%3F-instance_method" title="#exists? (instance method)">#<strong>exists?</strong>(id_or_conditions = :none)  &#x21d2; true | false </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Determine if any documents in this association exist in the database.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find-instance_method" title="#find (instance method)">#<strong>find</strong> {|Object| ... } &#x21d2; Document | Array&lt;Document&gt; | nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Finds a document in this association through several different methods.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#in_memory-instance_method" title="#in_memory (instance method)">#<strong>in_memory</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="../../Proxy.html#_target-instance_method" title="Mongoid::Association::Proxy#_target (method)">Proxy#_target</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-instance_method" title="#new (instance method)">#<strong>new</strong>(attributes = {}, type = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#build-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#build (method)">#build</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pop-instance_method" title="#pop (instance method)">#<strong>pop</strong>(count = nil)  &#x21d2; Document | Array&lt;Document&gt; | nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Pop documents off the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>(*args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#<<-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#&lt;&lt; (method)">#&lt;&lt;</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shift-instance_method" title="#shift (instance method)">#<strong>shift</strong>(count = nil)  &#x21d2; Document | Array&lt;Document&gt; | nil </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Shift documents off the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#substitute-instance_method" title="#substitute (instance method)">#<strong>substitute</strong>(docs)  &#x21d2; Many </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Substitutes the supplied target documents for the existing documents in the relation.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#unscoped-instance_method" title="#unscoped (instance method)">#<strong>unscoped</strong>  &#x21d2; Criteria </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return the association with all previous scoping removed.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#append-instance_method" title="#append (instance method)">#<strong>append</strong>(document)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Appends the document to the target array, updating the index on the document at the same time.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#as_attributes-instance_method" title="#as_attributes (instance method)">#<strong>as_attributes</strong>  &#x21d2; Array&lt;Hash&gt; </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a list of attributes hashes for each document.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#binding-instance_method" title="#binding (instance method)">#<strong>binding</strong>  &#x21d2; Binding </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Instantiate the binding associated with this association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#criteria-instance_method" title="#criteria (instance method)">#<strong>criteria</strong>  &#x21d2; Criteria </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the <code>Criteria</code> object for the target class with its documents set to the list of target documents in the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#integrate-instance_method" title="#integrate (instance method)">#<strong>integrate</strong>(document)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Integrate the document into the association.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#method_missing-instance_method" title="#method_missing (instance method)">#<strong>method_missing</strong>  &#x21d2; Criteria | Object </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>If the target array does not respond to the supplied method then try to find a named scope or criteria on the class and send the call there.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#object_already_related%3F-instance_method" title="#object_already_related? (instance method)">#<strong>object_already_related?</strong>(document)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#reindex-instance_method" title="#reindex (instance method)">#<strong>reindex</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Reindex all the target elements.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#remove_all-instance_method" title="#remove_all (instance method)">#<strong>remove_all</strong>(conditions = {}, method = :delete)  &#x21d2; Integer </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Remove all documents from the association, either with a delete or a destroy depending on what this was called through.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#scope-instance_method" title="#scope (instance method)">#<strong>scope</strong>(docs)  &#x21d2; Array&lt;Document&gt; </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Apply the association ordering and default scoping (defined on association’s target class) to the provided documents.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#update_attributes_hash-instance_method" title="#update_attributes_hash (instance method)">#<strong>update_attributes_hash</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Update the _base’s attributes hash with the _target’s attributes.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Batchable.html" title="Mongoid::Association::Embedded::Batchable (module)"><code>::Mongoid::Association::Embedded::Batchable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Batchable.html#batch_clear-instance_method" title="Mongoid::Association::Embedded::Batchable#batch_clear (method)">#batch_clear</a></td>
      <td><div class='inline'><p>Clear all of the docs out of the association in a single swipe.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Batchable.html#batch_insert-instance_method" title="Mongoid::Association::Embedded::Batchable#batch_insert (method)">#batch_insert</a></td>
      <td><div class='inline'><p>Insert new documents as a batch push ($push with $each).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Batchable.html#batch_remove-instance_method" title="Mongoid::Association::Embedded::Batchable#batch_remove (method)">#batch_remove</a></td>
      <td><div class='inline'><p>Batch remove the provided documents as a $pullAll or $pull.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Batchable.html#batch_replace-instance_method" title="Mongoid::Association::Embedded::Batchable#batch_replace (method)">#batch_replace</a></td>
      <td><div class='inline'><p>Batch replace the provided documents as a $set.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#add_atomic_sets-instance_method" title="Mongoid::Association::Embedded::Batchable#add_atomic_sets (method)">#add_atomic_sets</a></td>
      <td><div class='inline'><p>Add the atomic sets to the base document.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#clear_atomic_path_cache-instance_method" title="Mongoid::Association::Embedded::Batchable#clear_atomic_path_cache (method)">#clear_atomic_path_cache</a></td>
      <td><div class='inline'><p>Clear the cache for path and atomic_paths.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#execute_batch_push-instance_method" title="Mongoid::Association::Embedded::Batchable#execute_batch_push (method)">#execute_batch_push</a></td>
      <td><div class='inline'><p>Perform a batch persist of the provided documents with $push and $each.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#execute_batch_set-instance_method" title="Mongoid::Association::Embedded::Batchable#execute_batch_set (method)">#execute_batch_set</a></td>
      <td><div class='inline'><p>Perform a batch persist of the provided documents with a $set.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#normalize_docs-instance_method" title="Mongoid::Association::Embedded::Batchable#normalize_docs (method)">#normalize_docs</a></td>
      <td><div class='inline'><p>Normalize the documents, in case they were provided as an array of hashes.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#post_process_batch_insert-instance_method" title="Mongoid::Association::Embedded::Batchable#post_process_batch_insert (method)">#post_process_batch_insert</a></td>
      <td><div class='inline'><p>Post process the documents after batch insert.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#post_process_batch_remove-instance_method" title="Mongoid::Association::Embedded::Batchable#post_process_batch_remove (method)">#post_process_batch_remove</a></td>
      <td><div class='inline'><p>Post process the batch removal.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#pre_process_batch_insert-instance_method" title="Mongoid::Association::Embedded::Batchable#pre_process_batch_insert (method)">#pre_process_batch_insert</a></td>
      <td><div class='inline'><p>Pre processes the batch insert for the provided documents.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#pre_process_batch_remove-instance_method" title="Mongoid::Association::Embedded::Batchable#pre_process_batch_remove (method)">#pre_process_batch_remove</a></td>
      <td><div class='inline'><p>Pre process the batch removal.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv nodoc' href="../Batchable.html#selector-instance_method" title="Mongoid::Association::Embedded::Batchable#selector (method)">#selector</a></td>
      <td><div class='inline'><p>Get the selector for executing atomic operations on the collection.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../../Positional.html" title="Mongoid::Positional (module)"><code>::Mongoid::Positional</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../../Positional.html#positionally-instance_method" title="Mongoid::Positional#positionally (method)">#positionally</a></td>
      <td><div class='inline'><p>Takes the provided selector and atomic operations and replaces the indexes of the embedded documents with the positional operator when needed.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../../../Positional.html#process_operations-instance_method" title="Mongoid::Positional#process_operations (method)">#process_operations</a>,
        <a class='i_m priv' href="../../../Positional.html#process_updates-instance_method" title="Mongoid::Positional#process_updates (method)">#process_updates</a>,
        <a class='i_m priv' href="../../../Positional.html#replace_index-instance_method" title="Mongoid::Positional#replace_index (method)">#replace_index</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../Many.html" title="Mongoid::Association::Many (class)"><code>::Mongoid::Association::Many</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#create-instance_method" title="Mongoid::Association::Many#create (method)">#create</a></td>
      <td><div class='inline'><p>Creates a new document on the references many association.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#create!-instance_method" title="Mongoid::Association::Many#create! (method)">#create!</a></td>
      <td><div class='inline'><p>Creates a new document on the references many association.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#find_or_create_by-instance_method" title="Mongoid::Association::Many#find_or_create_by (method)">#find_or_create_by</a></td>
      <td><div class='inline'><p>Find the first document given the conditions, or creates a new document with the conditions that were supplied.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#find_or_create_by!-instance_method" title="Mongoid::Association::Many#find_or_create_by! (method)">#find_or_create_by!</a></td>
      <td><div class='inline'><p>Find the first document given the conditions, or creates a new document with the conditions that were supplied.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#find_or_initialize_by-instance_method" title="Mongoid::Association::Many#find_or_initialize_by (method)">#find_or_initialize_by</a></td>
      <td><div class='inline'><p>Find the first <code>Document</code> given the conditions, or instantiates a new document with the conditions that were supplied.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#respond_to%3F-instance_method" title="Mongoid::Association::Many#respond_to? (method)">#respond_to?</a></td>
      <td><div class='inline'><p>Since method_missing is overridden we should override this as well.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#scoped-instance_method" title="Mongoid::Association::Many#scoped (method)">#scoped</a></td>
      <td><div class='inline'><p>This is public access to the association’s criteria.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#serializable_hash-instance_method" title="Mongoid::Association::Many#serializable_hash (method)">#serializable_hash</a></td>
      <td><div class='inline'><p>Gets the document as a serializable hash, used by ActiveModel’s JSON and XML serializers.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Many.html#unscoped-instance_method" title="Mongoid::Association::Many#unscoped (method)">#unscoped</a></td>
      <td><div class='inline'><p>Get a criteria for the embedded documents without the default scoping applied.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../../Many.html#_session-instance_method" title="Mongoid::Association::Many#_session (method)">#_session</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../../Many.html#find_or-instance_method" title="Mongoid::Association::Many#find_or (method)">#find_or</a></td>
      <td><div class='inline'><p>Find the first object given the supplied attributes or create/initialize it.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../Proxy.html" title="Mongoid::Association::Proxy (class)"><code>::Mongoid::Association::Proxy</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Proxy.html#extend_proxies-instance_method" title="Mongoid::Association::Proxy#extend_proxies (method)">#extend_proxies</a></td>
      <td><div class='inline'><p>Allow extension to be an array and extend each module.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../../Proxy.html#extend_proxy-instance_method" title="Mongoid::Association::Proxy#extend_proxy (method)">#extend_proxy</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Proxy.html#klass-instance_method" title="Mongoid::Association::Proxy#klass (method)">#klass</a></td>
      <td><div class='inline'><p>Get the class from the association, or return nil if no association present.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Proxy.html#reset_unloaded-instance_method" title="Mongoid::Association::Proxy#reset_unloaded (method)">#reset_unloaded</a></td>
      <td><div class='inline'><p>Resets the criteria inside the association proxy.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Proxy.html#substitutable-instance_method" title="Mongoid::Association::Proxy#substitutable (method)">#substitutable</a></td>
      <td><div class='inline'><p>The default substitutable object for an association proxy is the clone of the target.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../../Marshalable.html" title="Mongoid::Association::Marshalable (module)"><code>::Mongoid::Association::Marshalable</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Marshalable.html#marshal_dump-instance_method" title="Mongoid::Association::Marshalable#marshal_dump (method)">#marshal_dump</a></td>
      <td><div class='inline'><p>Provides the data needed to Marshal.dump an association proxy.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../../Marshalable.html#marshal_load-instance_method" title="Mongoid::Association::Marshalable#marshal_load (method)">#marshal_load</a></td>
      <td><div class='inline'><p>Takes the provided data and sets it back on the proxy.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(base, target, association)  &#x21d2; <a href="../../Many.html" title="Mongoid::Association::Many (class)">Many</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Instantiate a new embeds_many association.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Create the new association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='const'><a href="../../Many.html" title="Mongoid::Association::Many (class)">Many</a></span>.<span class='id identifier rubyid_new'><a href="../../Proxy.html#new-class_method" title="Mongoid::Association::Proxy.new (method)">new</a></span>(<span class='id identifier rubyid_person'>person</span><span class='comma'>,</span> <span class='id identifier rubyid_addresses'>addresses</span><span class='comma'>,</span> <span class='id identifier rubyid_association'>association</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>base</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document this association hangs off of.</p>
</div>
  </li>
  <li>
    <span class='name'>target</span>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The child documents of the association.</p>
</div>
  </li>
  <li>
    <span class='name'>association</span>
    <span class='type'>(<a href="../../Relatable.html" title="Mongoid::Association::Relatable (module)">Mongoid::Association::Relatable</a>)</span>
&mdash;    <div class='inline'>
<p>The association metadata.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L67-L77'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='67' data-end='77'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_base'>base</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_association'>association</span>)
  <span class='kw'>super</span> <span class='kw'>do</span>
    <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
      <span class='id identifier rubyid_integrate'><a href="#integrate-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#integrate (method)">integrate</a></span>(<span class='id identifier rubyid_doc'>doc</span>)
      <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__index'>_index</span> <span class='op'>=</span> <span class='id identifier rubyid_index'>index</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_update_attributes_hash'><a href="#update_attributes_hash-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#update_attributes_hash (method)">update_attributes_hash</a></span>
    <span class='ivar'>@_unscoped</span> <span class='op'>=</span> <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@_target</span> <span class='op'>=</span> <span class='id identifier rubyid_scope'><a href="#scope-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#scope (method)">scope</a></span>(<span class='id identifier rubyid__target'>_target</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 id='method_missing_details' class='y_details'>Dynamic Method Handling</h2>
  <p class='notice this'>
    This class handles dynamic methods through the <tt>method_missing</tt> method
</p>
<section class='method_details first' id="method_missing-instance_method">
  <h3 class='signature priv first'>
    #<strong>method_missing</strong>  &#x21d2; <a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a> | <code>Object</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the target array does not respond to the supplied method then try to find a named scope or criteria on the class and send the call there.</p>

<p>If the method exists on the array, use the default proxy behavior.</p>

<p>TODO: make sure we are consistingly using respond_to_missing</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_anywhere'>anywhere</span> <span class='id identifier rubyid_we'>we</span> <span class='id identifier rubyid_define'>define</span> <span class='id identifier rubyid_method_missing'>method_missing</span>.</code></pre>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>name</span>
    <span class='type'>(<a href="../../../../Symbol.html" title="Symbol (class)">Symbol</a> | <a href="../../../../String.html" title="String (class)">String</a>)</span>
&mdash;    <div class='inline'>
<p>The name of the method.</p>
</div>
  </li>
  <li>
    <span class='name'>*args</span>
    <span class='type'>(<code>Object</code>...)</span>
&mdash;    <div class='inline'>
<p>The method args.</p>
</div>
  </li>
  <li>
    <span class='name'>&amp;block</span>
    <span class='type'></span>
&mdash;    <div class='inline'>
<p>Optional block to pass.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a> | <code>Object</code>)</span>
&mdash;    <div class='inline'>
<p>A Criteria or return value from the target.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L490-L496'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='490' data-end='496'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 490</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_ruby2_keywords'>ruby2_keywords</span> <span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>if</span> <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='id identifier rubyid_name'>name</span>)

  <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_send'>send</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_with_scope'>with_scope</span><span class='comma'>,</span> <span class='id identifier rubyid_criteria'><a href="#criteria-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#criteria (method)">criteria</a></span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_criteria'><a href="#criteria-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#criteria (method)">criteria</a></span>.<span class='id identifier rubyid_public_send'>public_send</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="_unscoped-instance_method">
  <h3 class='signature rw priv first'>
    #<strong>_unscoped</strong>   <span class="extras">(<span class='rw'>rw</span>, <span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L423-L423'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='423' data-end='423'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 423</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid__unscoped'>_unscoped</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="persistable?-instance_method">
  <h3 class='signature ro priv'>
    #<strong>persistable?</strong>  &#x21d2; <code>true</code> | <code>false</code>  <span class="extras">(<span class='readonly'>readonly</span>, <span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Are we able to persist this association?</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Can we persist the association?</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_persistable?'>persistable?</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>If the association is persistable.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L505-L507'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='505' data-end='507'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 505</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_persistable?'>persistable?</span>
  <span class='id identifier rubyid__base'>_base</span>.<span class='id identifier rubyid_persisted?'>persisted?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid__binding?'>_binding?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;&lt;</strong>(*args)  
    <span class='aliases'>Also known as: <span class='names'>#push</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Appends a document or array of documents to the association. Will set the parent and update the index in the process.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Append a document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_address'>address</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Push a document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#push (method)">push</a></span>(<span class='id identifier rubyid_address'>address</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>*args</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>...)</span>
&mdash;    <div class='inline'>
<p>Any number of documents.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L89-L100'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='89' data-end='100'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 89</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;&lt;</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_docs'>docs</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_flatten'>flatten</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_any?'>any?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_concat'><a href="#concat-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#concat (method)">concat</a></span>(<span class='id identifier rubyid_docs'>docs</span>) <span class='kw'>if</span> <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>

  <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
    <span class='id identifier rubyid_append'><a href="#append-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#append (method)">append</a></span>(<span class='id identifier rubyid_doc'>doc</span>)
    <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_save'>save</span> <span class='kw'>if</span> <span class='id identifier rubyid_persistable?'><a href="#persistable%3F-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#persistable? (method)">persistable?</a></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid__assigning?'>_assigning?</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_remove-instance_method">
  <h3 class='signature nodoc'>
    #<strong>_remove</strong>(document)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes a single document from the collection *in memory only*. It will <strong>not</strong> persist the change.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>document</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document to delete.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L236-L241'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='236' data-end='241'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 236</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__remove'>_remove</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_delete_one'><a href="#delete_one-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete_one (method)">delete_one</a></span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid__unscoped'><a href="#_unscoped-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#_unscoped (method)">_unscoped</a></span>.<span class='id identifier rubyid_delete_one'><a href="#delete_one-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete_one (method)">delete_one</a></span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_update_attributes_hash'><a href="#update_attributes_hash-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#update_attributes_hash (method)">update_attributes_hash</a></span>
  <span class='id identifier rubyid_reindex'><a href="#reindex-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#reindex (method)">reindex</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="append-instance_method">
  <h3 class='signature priv'>
    #<strong>append</strong>(document)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Appends the document to the target array, updating the index on the document at the same time.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Append to the document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_append'>append</span>(<span class='id identifier rubyid_document'>document</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>document</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document to append to the target.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L436-L444'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='436' data-end='444'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 436</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_append'>append</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_execute_callback'>execute_callback</span> <span class='symbeg'>:</span><span class='id identifier rubyid_before_add'>before_add</span><span class='comma'>,</span> <span class='id identifier rubyid_document'>document</span>
  <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#push (method)">push</a></span>(<span class='op'>*</span><span class='id identifier rubyid_scope'><a href="#scope-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#scope (method)">scope</a></span>([ <span class='id identifier rubyid_document'>document</span> ])) <span class='kw'>unless</span> <span class='id identifier rubyid_object_already_related?'><a href="#object_already_related%3F-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#object_already_related? (method)">object_already_related?</a></span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid__unscoped'><a href="#_unscoped-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#_unscoped (method)">_unscoped</a></span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#push (method)">push</a></span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_integrate'><a href="#integrate-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#integrate (method)">integrate</a></span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_update_attributes_hash'><a href="#update_attributes_hash-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#update_attributes_hash (method)">update_attributes_hash</a></span>
  <span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid__index'>_index</span> <span class='op'>=</span> <span class='id identifier rubyid__unscoped'><a href="#_unscoped-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#_unscoped (method)">_unscoped</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>1</span>
  <span class='id identifier rubyid_execute_callback'>execute_callback</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_add'>after_add</span><span class='comma'>,</span> <span class='id identifier rubyid_document'>document</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="as_attributes-instance_method">
  <h3 class='signature priv'>
    #<strong>as_attributes</strong>  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../../Hash.html" title="Hash (class)">Hash</a>&gt;  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a list of attributes hashes for each document.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../../Hash.html" title="Hash (class)">Hash</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The list of attributes hashes</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L560-L562'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='560' data-end='562'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 560</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_as_attributes'>as_attributes</span>
  <span class='id identifier rubyid__unscoped'><a href="#_unscoped-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#_unscoped (method)">_unscoped</a></span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_send'>send</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_as_attributes'>as_attributes</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="as_document-instance_method">
  <h3 class='signature '>
    #<strong>as_document</strong>  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../../Hash.html" title="Hash (class)">Hash</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get this association as as its representation in the database.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Convert the association to an attributes hash.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_as_document'>as_document</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../../Hash.html" title="Hash (class)">Hash</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The association as stored in the db.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L110-L112'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='110' data-end='112'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_as_document'>as_document</span>
  <span class='id identifier rubyid_as_attributes'><a href="#as_attributes-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#as_attributes (method)">as_attributes</a></span>.<span class='id identifier rubyid_collect'>collect</span> { <span class='op'>|</span><span class='id identifier rubyid_attrs'>attrs</span><span class='op'>|</span> <span class='const'><a href="../../../../BSON.html" title="BSON (module)">BSON</a></span><span class='op'>::</span><span class='const'><a href="../../../Document.html" title="Mongoid::Document (module)">Document</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy.new (method)">new</a></span>(<span class='id identifier rubyid_attrs'>attrs</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="binding-instance_method">
  <h3 class='signature priv'>
    #<strong>binding</strong>  &#x21d2; <a href="Binding.html" title="Mongoid::Association::Embedded::EmbedsMany::Binding (class)">Binding</a>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Instantiate the binding associated with this association.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Create the binding.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_binding'>binding</span>([ <span class='id identifier rubyid_address'>address</span> ])</code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="Binding.html" title="Mongoid::Association::Embedded::EmbedsMany::Binding (class)">Binding</a>)</span>
&mdash;    <div class='inline'>
<p>The many binding.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L452-L454'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='452' data-end='454'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 452</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_binding'>binding</span>
  <span class='const'><a href="Binding.html" title="Mongoid::Association::Embedded::EmbedsMany::Binding (class)">Binding</a></span>.<span class='id identifier rubyid_new'><a href="../../Bindable.html#initialize-instance_method" title="Mongoid::Association::Bindable#initialize (method)">new</a></span>(<span class='id identifier rubyid__base'>_base</span><span class='comma'>,</span> <span class='id identifier rubyid__target'>_target</span><span class='comma'>,</span> <span class='id identifier rubyid__association'>_association</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build-instance_method">
  <h3 class='signature '>
    #<strong>build</strong>(attributes = {}, type = nil)  &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> 
    <span class='aliases'>Also known as: <span class='names'>#new</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Builds a new document in the association and appends it to the target. Takes an optional type if you want to specify a subclass.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Build a new document on the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_people'>people</span>.<span class='id identifier rubyid_build'>build</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bozo</span><span class='tstring_end'>&quot;</span></span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>attributes</span>
    <span class='type'>(<a href="../../../../Hash.html" title="Hash (class)">Hash</a>)</span>
    <em class='default'>(defaults to: <tt>{}</tt>)</em>
&mdash;    <div class='inline'>
<p>The attributes to build the document with.</p>
</div>
  </li>
  <li>
    <span class='name'>type</span>
    <span class='type'>(<code>Class</code>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>Optional class to build the document with.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The new document.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L138-L147'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='138' data-end='147'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 138</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build'>build</span>(<span class='id identifier rubyid_attributes'>attributes</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_type'><a href="../EmbedsMany.html#type-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#type (method)">type</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='const'><a href="../../../Factory.html" title="Mongoid::Factory (module)">Factory</a></span>.<span class='id identifier rubyid_execute_build'><a href="../../../Factory.html#execute_build-instance_method" title="Mongoid::Factory#execute_build (method)">execute_build</a></span>(<span class='id identifier rubyid_type'><a href="../EmbedsMany.html#type-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#type (method)">type</a></span> <span class='op'>||</span> <span class='id identifier rubyid__association'>_association</span>.<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='comma'>,</span> <span class='label'>execute_callbacks:</span> <span class='kw'>false</span>).<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
    <span class='id identifier rubyid_append'><a href="#append-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#append (method)">append</a></span>(<span class='id identifier rubyid_doc'>doc</span>)
    <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_apply_post_processed_defaults'>apply_post_processed_defaults</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_doc'>doc</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_run_pending_callbacks'>run_pending_callbacks</span>
    <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_run_callbacks'>run_callbacks</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_build'>build</span>) { <span class='id identifier rubyid_doc'>doc</span> }
    <span class='id identifier rubyid__base'>_base</span>.<span class='id identifier rubyid__reset_memoized_descendants!'>_reset_memoized_descendants!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear-instance_method">
  <h3 class='signature '>
    #<strong>clear</strong>  &#x21d2; <code>self</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Clear the association. Will delete the documents from the db if they are already persisted.</p>

<p>If the host document is not persisted but its _id matches a persisted document, calling #clear on an association will remove the association’s documents from the database even though the set of documents in the application (as loaded in the host) is different from what is in the database, and the host may not contain any persisted documents in the association either.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Clear the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_clear'>clear</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>self</code>)</span>
&mdash;    <div class='inline'>
<p>The empty association.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L165-L169'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='165' data-end='169'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 165</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_clear'>clear</span>
  <span class='id identifier rubyid_batch_clear'>batch_clear</span>(<span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_dup'>dup</span>)
  <span class='id identifier rubyid_update_attributes_hash'><a href="#update_attributes_hash-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#update_attributes_hash (method)">update_attributes_hash</a></span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="concat-instance_method">
  <h3 class='signature '>
    #<strong>concat</strong>(docs)  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Appends an array of documents to the association. Performs a batch insert of the documents instead of persisting one at a time.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Concat with other documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_concat'>concat</span>([ <span class='id identifier rubyid_address_one'>address_one</span><span class='comma'>,</span> <span class='id identifier rubyid_address_two'>address_two</span> ])</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>docs</span>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The docs to add.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The documents.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L123-L126'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='123' data-end='126'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 123</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_docs'>docs</span>)
  <span class='id identifier rubyid_batch_insert'>batch_insert</span>(<span class='id identifier rubyid_docs'>docs</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="count-instance_method">
  <h3 class='signature '>
    #<strong>count</strong>(*args, &amp;block)  &#x21d2; <a href="../../../../Integer.html" title="Integer (class)">Integer</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a count of the number of documents in the association that have actually been persisted to the database.</p>

<p>Use #size if you want the total number of documents.</p>

<p>If args or block are present, #count will delegate to the #count method on <code>target</code> and will include both persisted and non-persisted documents.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the count of persisted documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_count'>count</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Get the count of all documents matching a block.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_count'>count</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_country'>country</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FR</span><span class='tstring_end'>&quot;</span></span> }</code></pre>
        <p class='example_title'><div class='inline'>
<p>Use #persisted? inside block to count persisted documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_count'>count</span> { <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_persisted?'>persisted?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_a'>a</span>.<span class='id identifier rubyid_country'>country</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FR</span><span class='tstring_end'>&quot;</span></span> }</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>*args</span>
    <span class='type'>(<code>Object</code>...)</span>
&mdash;    <div class='inline'>
<p>Args to delegate to the target.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
&mdash;    <div class='inline'>
<p>The total number of persisted embedded docs, as flagged by the #persisted? method.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L193-L197'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='193' data-end='197'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 193</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_count'>count</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_count'>count</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>) <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_any?'>any?</span> <span class='op'>||</span> <span class='id identifier rubyid_block'>block</span>

  <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_count'>count</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_persisted?'>persisted?</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="criteria-instance_method">
  <h3 class='signature priv'>
    #<strong>criteria</strong>  &#x21d2; <a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the <code>Criteria</code> object for the target class with its documents set to the list of target documents in the association.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a>)</span>
&mdash;    <div class='inline'>
<p>A new criteria.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L460-L462'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='460' data-end='462'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 460</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_criteria'>criteria</span>
  <span class='id identifier rubyid__association'>_association</span>.<span class='id identifier rubyid_criteria'>criteria</span>(<span class='id identifier rubyid__base'>_base</span><span class='comma'>,</span> <span class='id identifier rubyid__target'>_target</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    #<strong>delete</strong>(document)  &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> | <code>nil</code> 
    <span class='aliases'>Also known as: <span class='names'>#delete_one</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Delete the supplied document from the target. This method is proxied in order to reindex the array after the operation occurs.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Delete the document from the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_address'>address</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>document</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document to be deleted.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> | <code>nil</code>)</span>
&mdash;    <div class='inline'>
<p>The deleted document or nil if nothing deleted.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L208-L224'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='208' data-end='224'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 208</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_execute_callbacks_around'>execute_callbacks_around</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_remove'>remove</span><span class='comma'>,</span> <span class='id identifier rubyid_document'>document</span>) <span class='kw'>do</span>
    <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_delete_one'><a href="#delete_one-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete_one (method)">delete_one</a></span>(<span class='id identifier rubyid_document'>document</span>).<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_doc'>doc</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid__binding?'>_binding?</span>
        <span class='id identifier rubyid__unscoped'><a href="#_unscoped-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#_unscoped (method)">_unscoped</a></span>.<span class='id identifier rubyid_delete_one'><a href="#delete_one-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete_one (method)">delete_one</a></span>(<span class='id identifier rubyid_doc'>doc</span>)
        <span class='kw'>if</span> <span class='id identifier rubyid__assigning?'>_assigning?</span>
          <span class='id identifier rubyid__base'>_base</span>.<span class='id identifier rubyid_add_atomic_pull'>add_atomic_pull</span>(<span class='id identifier rubyid_doc'>doc</span>)
        <span class='kw'>else</span>
          <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='label'>suppress:</span> <span class='kw'>true</span>)
          <span class='id identifier rubyid_unbind_one'>unbind_one</span>(<span class='id identifier rubyid_doc'>doc</span>)
        <span class='kw'>end</span>
        <span class='id identifier rubyid_update_attributes_hash'><a href="#update_attributes_hash-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#update_attributes_hash (method)">update_attributes_hash</a></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_reindex'><a href="#reindex-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#reindex (method)">reindex</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_all-instance_method">
  <h3 class='signature '>
    #<strong>delete_all</strong>(conditions = {})  &#x21d2; <a href="../../../../Integer.html" title="Integer (class)">Integer</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Delete all the documents in the association without running callbacks.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Delete all documents from the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_delete_all'>delete_all</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Conditionally delete documents from the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_delete_all'>delete_all</span>({ <span class='symbeg'>:</span><span class='id identifier rubyid_street'>street</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bond</span><span class='tstring_end'>&quot;</span></span> })</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<a href="../../../../Hash.html" title="Hash (class)">Hash</a>)</span>
    <em class='default'>(defaults to: <tt>{}</tt>)</em>
&mdash;    <div class='inline'>
<p>Conditions on which documents to delete.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
&mdash;    <div class='inline'>
<p>The number of documents deleted.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L254-L256'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='254' data-end='256'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 254</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_all'>delete_all</span>(<span class='id identifier rubyid_conditions'>conditions</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_remove_all'><a href="#remove_all-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#remove_all (method)">remove_all</a></span>(<span class='id identifier rubyid_conditions'>conditions</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">delete</a></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_if-instance_method">
  <h3 class='signature '>
    #<strong>delete_if</strong>  &#x21d2; <a href="" title="Mongoid::Association::Embedded::EmbedsMany::Proxy (class)">EmbedsMany::Proxy</a> | <code>Enumerator</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Delete all the documents for which the provided block returns true.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Delete the matching documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_delete_if'>delete_if</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span>
  <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GA</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="" title="Mongoid::Association::Embedded::EmbedsMany::Proxy (class)">EmbedsMany::Proxy</a> | <code>Enumerator</code>)</span>
&mdash;    <div class='inline'>
<p>The proxy or an enumerator if no block was provided.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L267-L273'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='267' data-end='273'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 267</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_if'>delete_if</span>
  <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_dup'>dup</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span> <span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">delete</a></span>(<span class='id identifier rubyid_doc'>doc</span>) <span class='kw'>if</span> <span class='kw'>yield</span> <span class='id identifier rubyid_doc'>doc</span> }

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_one-instance_method">
  <h3 class='signature '>
    #<strong>delete_one</strong>(document)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">#delete</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L228-L228'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='228' data-end='228'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 228</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_delete_one'>delete_one</span> <span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">delete</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="destroy_all-instance_method">
  <h3 class='signature '>
    #<strong>destroy_all</strong>(conditions = {})  &#x21d2; <a href="../../../../Integer.html" title="Integer (class)">Integer</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Destroy all the documents in the association whilst running callbacks.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Destroy all documents from the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_destroy_all'>destroy_all</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Conditionally destroy documents from the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_destroy_all'>destroy_all</span>({ <span class='symbeg'>:</span><span class='id identifier rubyid_street'>street</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bond</span><span class='tstring_end'>&quot;</span></span> })</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<a href="../../../../Hash.html" title="Hash (class)">Hash</a>)</span>
    <em class='default'>(defaults to: <tt>{}</tt>)</em>
&mdash;    <div class='inline'>
<p>Conditions on which documents to destroy.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
&mdash;    <div class='inline'>
<p>The number of documents destroyed.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L286-L288'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='286' data-end='288'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 286</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_destroy_all'>destroy_all</span>(<span class='id identifier rubyid_conditions'>conditions</span> <span class='op'>=</span> {})
  <span class='id identifier rubyid_remove_all'><a href="#remove_all-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#remove_all (method)">remove_all</a></span>(<span class='id identifier rubyid_conditions'>conditions</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_destroy'>destroy</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="exists?-instance_method">
  <h3 class='signature '>
    #<strong>exists?</strong>(id_or_conditions = :none)  &#x21d2; <code>true</code> | <code>false</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determine if any documents in this association exist in the database.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Are there persisted documents?</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_posts'>posts</span>.<span class='id identifier rubyid_exists?'>exists?</span></code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>id_or_conditions</span>
    <span class='type'>(<code>:none</code> | <code>nil</code> | <code>false</code> | <a href="../../../../Hash.html" title="Hash (class)">Hash</a> | <code>Object</code>)</span>
    <em class='default'>(defaults to: <tt>:none</tt>)</em>
&mdash;    <div class='inline'>
<p>When <code>:none</code> (the default), returns true if any persisted documents exist in the association. When nil or false, this will always return false. When a <a href="../../../../Hash.html" title="Hash (class)"><code>::Hash</code></a> is given, this queries the documents in the association for those that match the given conditions, and returns true if any match which have been persisted. Any other argument is interpreted as an id, and queries for the existence of persisted documents in the association with a matching _id.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
&mdash;    <div class='inline'>
<p>True if persisted documents exist, false if not.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L306-L313'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='306' data-end='313'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 306</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_exists?'>exists?</span>(<span class='id identifier rubyid_id_or_conditions'>id_or_conditions</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_none'>none</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_id_or_conditions'>id_or_conditions</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_none'>none</span> <span class='kw'>then</span> <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_any?'>any?</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_persisted?'>persisted?</span>)
  <span class='kw'>when</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>false</span> <span class='kw'>then</span> <span class='kw'>false</span>
  <span class='kw'>when</span> <span class='const'><a href="../../../../Hash.html" title="Hash (class)">Hash</a></span> <span class='kw'>then</span> <span class='id identifier rubyid_where'>where</span>(<span class='id identifier rubyid_id_or_conditions'>id_or_conditions</span>).<span class='id identifier rubyid_any?'>any?</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_persisted?'>persisted?</span>)
  <span class='kw'>else</span> <span class='id identifier rubyid_where'>where</span>(<span class='label'>_id:</span> <span class='id identifier rubyid_id_or_conditions'>id_or_conditions</span>).<span class='id identifier rubyid_any?'>any?</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_persisted?'>persisted?</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find-instance_method">
  <h3 class='signature '>
    #<strong>find</strong> {|Object| ... } &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; | <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Finds a document in this association through several different methods.</p>

<p>This method delegates to <tt>Mongoid::Criteria#find</tt>. If this method is not given a block, it returns one or many documents for the provided _id values.</p>

<p>If this method is given a block, it returns the first document of those found by the current <a href="../../../Criteria.html" title="Mongoid::Criteria (class)"><code>::Mongoid::Criteria</code></a> object for which the block returns a truthy value.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Find a document by its id.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_find'>find</span>(<span class='const'><a href="../../../../BSON.html" title="BSON (module)">BSON</a></span><span class='op'>::</span><span class='const'><a href="../../../../BSON/ObjectId.html" title="BSON::ObjectId (class)">ObjectId</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy.new (method)">new</a></span>)</code></pre>
        <p class='example_title'><div class='inline'>
<p>Find documents for multiple ids.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_find'>find</span>([ <span class='const'><a href="../../../../BSON.html" title="BSON (module)">BSON</a></span><span class='op'>::</span><span class='const'><a href="../../../../BSON/ObjectId.html" title="BSON::ObjectId (class)">ObjectId</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy.new (method)">new</a></span><span class='comma'>,</span> <span class='const'><a href="../../../../BSON.html" title="BSON (module)">BSON</a></span><span class='op'>::</span><span class='const'><a href="../../../../BSON/ObjectId.html" title="BSON::ObjectId (class)">ObjectId</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy.new (method)">new</a></span> ])</code></pre>
        <p class='example_title'><div class='inline'>
<p>Finds the first matching document using a block.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_find'>find</span> { <span class='op'>|</span><span class='id identifier rubyid_addr'>addr</span><span class='op'>|</span> <span class='id identifier rubyid_addr'>addr</span>.<span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CA</span><span class='tstring_end'>&#39;</span></span> }</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>*args</span>
    <span class='type'>(<code>Object</code>...)</span>
&mdash;    <div class='inline'>
<p>Various arguments.</p>
</div>
  </li>
  <li>
    <span class='name'>&amp;block</span>
    <span class='type'></span>
&mdash;    <div class='inline'>
<p>Optional block to pass.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>Object</code>)</span>
&mdash;    <div class='inline'>
<p>Yields each enumerable element to the block.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; | <code>nil</code>)</span>
&mdash;    <div class='inline'>
<p>A document or matching documents.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L340-L342'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='340' data-end='342'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 340</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_find'>find</span>(<span class='op'>...</span>)
  <span class='id identifier rubyid_criteria'><a href="#criteria-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#criteria (method)">criteria</a></span>.<span class='id identifier rubyid_find'>find</span>(<span class='op'>...</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="in_memory-instance_method">
  <h3 class='signature '>
    #<strong>in_memory</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="../../Proxy.html#_target-instance_method" title="Mongoid::Association::Proxy#_target (method)">Proxy#_target</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L350-L350'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='350' data-end='350'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 350</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_in_memory'>in_memory</span> <span class='id identifier rubyid__target'>_target</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="integrate-instance_method">
  <h3 class='signature priv'>
    #<strong>integrate</strong>(document)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Integrate the document into the association. will set its metadata and attempt to bind the inverse.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Integrate the document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_integrate'>integrate</span>(<span class='id identifier rubyid_document'>document</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>document</span>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>)</span>
&mdash;    <div class='inline'>
<p>The document to integrate.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L471-L474'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='471' data-end='474'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 471</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_integrate'>integrate</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_characterize_one'>characterize_one</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid_bind_one'>bind_one</span>(<span class='id identifier rubyid_document'>document</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new-instance_method">
  <h3 class='signature '>
    #<strong>new</strong>(attributes = {}, type = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#build-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#build (method)">#build</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L149-L149'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='149' data-end='149'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 149</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_build'><a href="#build-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#build (method)">build</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="object_already_related?-instance_method">
  <h3 class='signature priv'>
    #<strong>object_already_related?</strong>(document)  &#x21d2; <a href="../../../Boolean.html" title="Mongoid::Boolean (class)">Boolean</a>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L425-L427'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='425' data-end='427'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 425</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_object_already_related?'>object_already_related?</span>(<span class='id identifier rubyid_document'>document</span>)
  <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_any?'>any?</span> { <span class='op'>|</span><span class='id identifier rubyid_existing'>existing</span><span class='op'>|</span> <span class='id identifier rubyid_existing'>existing</span>.<span class='id identifier rubyid__id'>_id</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_existing'>existing</span> <span class='op'>==</span> <span class='id identifier rubyid_document'>document</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pop-instance_method">
  <h3 class='signature '>
    #<strong>pop</strong>(count = nil)  &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; | <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Pop documents off the association. This can be a single document or multiples, and will automatically persist the changes.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Pop a single document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_pop'>pop</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Pop multiple documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_pop'>pop</span>(<span class='int'>3</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>count</span>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>The number of documents to pop, or 1 if not provided.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; | <code>nil</code>)</span>
&mdash;    <div class='inline'>
<p>The popped document(s).</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L365-L370'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='365' data-end='370'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 365</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pop'>pop</span>(<span class='id identifier rubyid_count'><a href="#count-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#count (method)">count</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> [] <span class='kw'>if</span> <span class='id identifier rubyid_count'><a href="#count-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#count (method)">count</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_zero?'>zero?</span>

  <span class='id identifier rubyid_docs'>docs</span> <span class='op'>=</span> <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_last'>last</span>(<span class='id identifier rubyid_count'><a href="#count-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#count (method)">count</a></span> <span class='op'>||</span> <span class='int'>1</span>).<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span> <span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">delete</a></span>(<span class='id identifier rubyid_doc'>doc</span>) }
  (<span class='id identifier rubyid_count'><a href="#count-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#count (method)">count</a></span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_empty?'>empty?</span>) <span class='op'>?</span> <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_first'>first</span> <span class='op'>:</span> <span class='id identifier rubyid_docs'>docs</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="push-instance_method">
  <h3 class='signature '>
    #<strong>push</strong>(*args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#<<-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#&lt;&lt; (method)">#&lt;&lt;</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L102-L102'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='102' data-end='102'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 102</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_push'>push</span> <span class='op'>&lt;&lt;</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reindex-instance_method">
  <h3 class='signature priv'>
    #<strong>reindex</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Reindex all the target elements. This is useful when performing operations on the proxied target directly and the indices need to match that on the database side.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Reindex the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_reindex'>reindex</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L515-L519'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='515' data-end='519'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 515</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reindex'>reindex</span>
  <span class='id identifier rubyid__unscoped'><a href="#_unscoped-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#_unscoped (method)">_unscoped</a></span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
    <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid__index'>_index</span> <span class='op'>=</span> <span class='id identifier rubyid_index'>index</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove_all-instance_method">
  <h3 class='signature priv'>
    #<strong>remove_all</strong>(conditions = {}, method = :delete)  &#x21d2; <a href="../../../../Integer.html" title="Integer (class)">Integer</a>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Remove all documents from the association, either with a delete or a destroy depending on what this was called through.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Destroy documents from the association.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_remove_all'>remove_all</span>({ <span class='symbeg'>:</span><span class='id identifier rubyid_num'>num</span> <span class='op'>=&gt;</span> <span class='int'>1</span> }<span class='comma'>,</span> <span class='kw'>true</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>conditions</span>
    <span class='type'>(<a href="../../../../Hash.html" title="Hash (class)">Hash</a>)</span>
    <em class='default'>(defaults to: <tt>{}</tt>)</em>
&mdash;    <div class='inline'>
<p>Conditions to filter by.</p>
</div>
  </li>
  <li>
    <span class='name'>method</span>
    <span class='type'>(<code>true</code> | <code>false</code>)</span>
    <em class='default'>(defaults to: <tt>:delete</tt>)</em>
&mdash;    <div class='inline'>
<p><code>:delete</code> or <code>:destroy</code>.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
&mdash;    <div class='inline'>
<p>The number of documents removed.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L549-L555'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='549' data-end='555'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 549</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_all'>remove_all</span>(<span class='id identifier rubyid_conditions'>conditions</span> <span class='op'>=</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">delete</a></span>)
  <span class='id identifier rubyid_criteria'><a href="#criteria-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#criteria (method)">criteria</a></span> <span class='op'>=</span> <span class='id identifier rubyid_where'>where</span>(<span class='id identifier rubyid_conditions'>conditions</span> <span class='op'>||</span> {})
  <span class='id identifier rubyid_criteria'><a href="#criteria-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#criteria (method)">criteria</a></span>.<span class='id identifier rubyid_size'>size</span>.<span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_batch_remove'>batch_remove</span>(<span class='id identifier rubyid_criteria'><a href="#criteria-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#criteria (method)">criteria</a></span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span>)
    <span class='id identifier rubyid_update_attributes_hash'><a href="#update_attributes_hash-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#update_attributes_hash (method)">update_attributes_hash</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scope-instance_method">
  <h3 class='signature priv'>
    #<strong>scope</strong>(docs)  &#x21d2; <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Apply the association ordering and default scoping (defined on association’s target class) to the provided documents.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Apply scoping.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_scope'>scope</span>(<span class='id identifier rubyid_target'>target</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>docs</span>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The documents to scope.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The scoped docs.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L530-L537'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='530' data-end='537'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 530</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scope'>scope</span>(<span class='id identifier rubyid_docs'>docs</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_docs'>docs</span> <span class='kw'>unless</span> <span class='id identifier rubyid__association'>_association</span>.<span class='id identifier rubyid_order'>order</span> <span class='op'>||</span> <span class='id identifier rubyid__association'>_association</span>.<span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_default_scoping?'>default_scoping?</span>

  <span class='id identifier rubyid_crit'>crit</span> <span class='op'>=</span> <span class='id identifier rubyid__association'>_association</span>.<span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_order_by'>order_by</span>(<span class='id identifier rubyid__association'>_association</span>.<span class='id identifier rubyid_order'>order</span>)
  <span class='id identifier rubyid_crit'>crit</span>.<span class='id identifier rubyid_embedded'>embedded</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_crit'>crit</span>.<span class='id identifier rubyid_documents'>documents</span> <span class='op'>=</span> <span class='id identifier rubyid_docs'>docs</span>
  <span class='id identifier rubyid_crit'>crit</span>.<span class='id identifier rubyid_entries'>entries</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shift-instance_method">
  <h3 class='signature '>
    #<strong>shift</strong>(count = nil)  &#x21d2; <a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; | <code>nil</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shift documents off the association. This can be a single document or multiples, and will automatically persist the changes.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Shift a single document.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_shift'>shift</span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Shift multiple documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_relation'><a href="../EmbedsMany.html#relation-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#relation (method)">relation</a></span>.<span class='id identifier rubyid_shift'>shift</span>(<span class='int'>3</span>)</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>count</span>
    <span class='type'>(<a href="../../../../Integer.html" title="Integer (class)">Integer</a>)</span>
    <em class='default'>(defaults to: <tt>nil</tt>)</em>
&mdash;    <div class='inline'>
<p>The number of documents to shift, or 1 if not provided.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a> | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; | <code>nil</code>)</span>
&mdash;    <div class='inline'>
<p>The shifted document(s).</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L385-L390'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='385' data-end='390'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 385</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shift'>shift</span>(<span class='id identifier rubyid_count'><a href="#count-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#count (method)">count</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>return</span> [] <span class='kw'>if</span> <span class='id identifier rubyid_count'><a href="#count-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#count (method)">count</a></span><span class='op'>&amp;.</span><span class='id identifier rubyid_zero?'>zero?</span>

  <span class='id identifier rubyid_docs'>docs</span> <span class='op'>=</span> <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_first'>first</span>(<span class='id identifier rubyid_count'><a href="#count-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#count (method)">count</a></span> <span class='op'>||</span> <span class='int'>1</span>).<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>|</span> <span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">delete</a></span>(<span class='id identifier rubyid_doc'>doc</span>) }
  (<span class='id identifier rubyid_count'><a href="#count-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#count (method)">count</a></span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_empty?'>empty?</span>) <span class='op'>?</span> <span class='id identifier rubyid_docs'>docs</span>.<span class='id identifier rubyid_first'>first</span> <span class='op'>:</span> <span class='id identifier rubyid_docs'>docs</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="substitute-instance_method">
  <h3 class='signature '>
    #<strong>substitute</strong>(docs)  &#x21d2; <a href="../../Many.html" title="Mongoid::Association::Many (class)">Many</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Substitutes the supplied target documents for the existing documents in the relation.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Substitute the association’s target.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_substitute'>substitute</span>([ <span class='id identifier rubyid_address'>address</span> ])</code></pre>
  </div>
<p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>docs</span>
    <span class='type'>(<a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../Document.html" title="Mongoid::Document (module)">Document</a>&gt; | <a href="../../../../Array.html" title="Array (class)">Array</a>&lt;<a href="../../../../Hash.html" title="Hash (class)">Hash</a>&gt;)</span>
&mdash;    <div class='inline'>
<p>The replacement docs.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../Many.html" title="Mongoid::Association::Many (class)">Many</a>)</span>
&mdash;    <div class='inline'>
<p>The proxied association.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L401-L405'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='401' data-end='405'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 401</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_substitute'>substitute</span>(<span class='id identifier rubyid_docs'>docs</span>)
  <span class='id identifier rubyid_batch_replace'>batch_replace</span>(<span class='id identifier rubyid_docs'>docs</span>)
  <span class='id identifier rubyid_update_attributes_hash'><a href="#update_attributes_hash-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#update_attributes_hash (method)">update_attributes_hash</a></span>
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unscoped-instance_method">
  <h3 class='signature '>
    #<strong>unscoped</strong>  &#x21d2; <a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return the association with all previous scoping removed. This is the exact representation of the docs in the database.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Get the unscoped documents.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_person'>person</span>.<span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_unscoped'>unscoped</span></code></pre>
  </div>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a>)</span>
&mdash;    <div class='inline'>
<p>The unscoped association.</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L414-L419'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='414' data-end='419'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 414</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_unscoped'>unscoped</span>
  <span class='id identifier rubyid_criterion'>criterion</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_unscoped'>unscoped</span>
  <span class='id identifier rubyid_criterion'>criterion</span>.<span class='id identifier rubyid_embedded'>embedded</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_criterion'>criterion</span>.<span class='id identifier rubyid_documents'>documents</span> <span class='op'>=</span> <span class='id identifier rubyid__unscoped'><a href="#_unscoped-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#_unscoped (method)">_unscoped</a></span>.<span class='id identifier rubyid_delete_if'><a href="#delete_if-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete_if (method)">delete_if</a></span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_marked_for_destruction?'>marked_for_destruction?</span>)
  <span class='id identifier rubyid_criterion'>criterion</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="update_attributes_hash-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>update_attributes_hash</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Update the _base’s attributes hash with the _target’s attributes</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongoid/blob/master/lib/mongoid/association/embedded/embeds_many/proxy.rb#L567-L573'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='567' data-end='573'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongoid/association/embedded/embeds_many/proxy.rb', line 567</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_update_attributes_hash'>update_attributes_hash</span>
  <span class='kw'>if</span> <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid__base'>_base</span>.<span class='id identifier rubyid_attributes'>attributes</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="Mongoid::Association::Embedded::EmbedsMany::Proxy#delete (method)">delete</a></span>(<span class='id identifier rubyid__association'>_association</span>.<span class='id identifier rubyid_store_as'><a href="../EmbedsMany.html#store_as-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#store_as (method)">store_as</a></span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid__base'>_base</span>.<span class='id identifier rubyid_attributes'>attributes</span>.<span class='id identifier rubyid_merge!'>merge!</span>(<span class='id identifier rubyid__association'>_association</span>.<span class='id identifier rubyid_store_as'><a href="../EmbedsMany.html#store_as-instance_method" title="Mongoid::Association::Embedded::EmbedsMany#store_as (method)">store_as</a></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid__target'>_target</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_attributes'>attributes</span>))
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>