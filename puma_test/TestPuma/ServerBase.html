<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: TestPuma::ServerBase &mdash; Puma-test</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "TestPuma::ServerBase",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Puma-test</a> &raquo; 
      <a href='../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../TestPuma.html" title="TestPuma (module)">TestPuma</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>ServerBase&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: TestPuma::ServerBase</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="ServerInProcess.html" title="TestPuma::ServerInProcess (class)">ServerInProcess</a>, <a href="ServerSpawn.html" title="TestPuma::ServerSpawn (class)">ServerSpawn</a>
        </div>
      </td>
    </tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Minitest::Test
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="PumaSocket.html" title="TestPuma::PumaSocket (module)"><code>PumaSocket</code></a>,
          <a href="../TestPuma.html" title="TestPuma (module)"><code>::TestPuma</code></a>,
          Minitest::Test
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Minitest::Test</span>
        <ul class='fullTree'>
          <li><a href="../Object.html" title="Object (class)"><code>::Object</code></a></li>
          <li class='next'>Minitest::Test</li>
          <li class='next'>TestPuma::ServerBase</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L21'>test/helpers/test_puma/server_base.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Base class for <a href="ServerSpawn.html" title="TestPuma::ServerSpawn (class)"><code>ServerSpawn</code></a> and <a href="ServerInProcess.html" title="TestPuma::ServerInProcess (class)"><code>ServerInProcess</code></a>. It contains methods that:</p>
<ul><li>
<p>setup socket parameters (both listeners and control)</p>
</li><li>
<p>return strings for use in CLI arguments and/or config files</p>
</li><li>
<p>assist in setting SSL connection parameters</p>
</li></ul>

<p>The variables set here are used by <code>TestPuma:PumaSocket</code> for client request setup.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='CERT_PATH-constant' class='summary_signature'>CERT_PATH =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>————————————————————————————————————————————————————————————— SSL constants</p>

  </div>
</div>
    <a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L28-L28'># File 'test/helpers/test_puma/server_base.rb', line 28</a>    <pre class='code ruby'><span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>../../../examples/puma/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid___dir__'>__dir__</span></pre>
  </li>
  <li>
    <span id='CLIENT_CERTS_PATH-constant' class='summary_signature'>CLIENT_CERTS_PATH =</span>
    <br/>
    <a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L29-L29'># File 'test/helpers/test_puma/server_base.rb', line 29</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#CERT_PATH-constant" title="TestPuma::ServerBase::CERT_PATH (constant)">CERT_PATH</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>/client-certs</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='DFLT_SSL_QUERY-constant' class='summary_signature'>DFLT_SSL_QUERY =</span>
    <br/>
    <a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L31-L39'># File 'test/helpers/test_puma/server_base.rb', line 31</a>    <pre class='code ruby'><span class='kw'>if</span> <span class='const'><a href="../Puma.html" title="Puma (module)">Puma</a></span><span class='op'>::</span><span class='const'><a href="../Puma.html#IS_JRUBY-constant" title="Puma::IS_JRUBY (constant)">IS_JRUBY</a></span>
  { <span class='label'>keystore:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#CERT_PATH-constant" title="TestPuma::ServerBase::CERT_PATH (constant)">CERT_PATH</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>/keystore.jks</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>keystore_pass:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jruby_puma</span><span class='tstring_end'>&quot;</span></span>
  }
<span class='kw'>else</span>
  { <span class='label'>key:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#CERT_PATH-constant" title="TestPuma::ServerBase::CERT_PATH (constant)">CERT_PATH</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>/puma_keypair.pem</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>cert:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#CERT_PATH-constant" title="TestPuma::ServerBase::CERT_PATH (constant)">CERT_PATH</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>/cert_puma.pem</span><span class='tstring_end'>&quot;</span></span>
  }
<span class='kw'>end</span></pre>
  </li>
  <li>
    <span id='HAS_TLS_1_3-constant' class='summary_signature'>HAS_TLS_1_3 =</span>
    <br/>
    <a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L45-L45'># File 'test/helpers/test_puma/server_base.rb', line 45</a>    <pre class='code ruby'><span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span> <span class='symbeg'>:</span><span class='const'>TLS1_3_VERSION</span></pre>
  </li>
  <li>
    <span id='HELLO_RU-constant' class='summary_signature'>HELLO_RU =</span>
    <br/>
    <a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L25-L25'># File 'test/helpers/test_puma/server_base.rb', line 25</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test/rackup/hello.ru</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='MINI_FORCE_PEER-constant' class='summary_signature'>MINI_FORCE_PEER =</span>
    <br/>
    <a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L43-L43'># File 'test/helpers/test_puma/server_base.rb', line 43</a>    <pre class='code ruby'><span class='op'>::</span><span class='const'><a href="../Puma.html" title="Puma (module)">Puma</a></span><span class='op'>::</span><span class='const'><a href="../Puma/MiniSSL.html" title="Puma::MiniSSL (module)">MiniSSL</a></span><span class='op'>::</span><span class='const'><a href="../Puma/MiniSSL.html#VERIFY_PEER-constant" title="Puma::MiniSSL::VERIFY_PEER (constant)">VERIFY_PEER</a></span> <span class='op'>|</span> <span class='op'>::</span><span class='const'><a href="../Puma.html" title="Puma (module)">Puma</a></span><span class='op'>::</span><span class='const'><a href="../Puma/MiniSSL.html" title="Puma::MiniSSL (module)">MiniSSL</a></span><span class='op'>::</span><span class='const'><a href="../Puma/MiniSSL.html#VERIFY_FAIL_IF_NO_PEER_CERT-constant" title="Puma::MiniSSL::VERIFY_FAIL_IF_NO_PEER_CERT (constant)">VERIFY_FAIL_IF_NO_PEER_CERT</a></span></pre>
  </li>
  <li>
    <span id='MINI_VERIFY_NONE-constant' class='summary_signature'>MINI_VERIFY_NONE =</span>
    <br/>
    <a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L44-L44'># File 'test/helpers/test_puma/server_base.rb', line 44</a>    <pre class='code ruby'><span class='op'>::</span><span class='const'><a href="../Puma.html" title="Puma (module)">Puma</a></span><span class='op'>::</span><span class='const'><a href="../Puma/MiniSSL.html" title="Puma::MiniSSL (module)">MiniSSL</a></span><span class='op'>::</span><span class='const'><a href="../Puma/MiniSSL.html#VERIFY_NONE-constant" title="Puma::MiniSSL::VERIFY_NONE (constant)">VERIFY_NONE</a></span></pre>
  </li>
  <li>
    <span id='MINI_VERIFY_PEER-constant' class='summary_signature'>MINI_VERIFY_PEER =</span>
    <br/>
    <a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L42-L42'># File 'test/helpers/test_puma/server_base.rb', line 42</a>    <pre class='code ruby'><span class='op'>::</span><span class='const'><a href="../Puma.html" title="Puma (module)">Puma</a></span><span class='op'>::</span><span class='const'><a href="../Puma/MiniSSL.html" title="Puma::MiniSSL (module)">MiniSSL</a></span><span class='op'>::</span><span class='const'><a href="../Puma/MiniSSL.html#VERIFY_PEER-constant" title="Puma::MiniSSL::VERIFY_PEER (constant)">VERIFY_PEER</a></span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="../TestPuma.html" title="TestPuma (module)"><code>::TestPuma</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="../TestPuma.html#AFTER_RUN_OK-constant" title="TestPuma::AFTER_RUN_OK (constant)">AFTER_RUN_OK</a>, 
    <a href="../TestPuma.html#ALT_HOST-constant" title="TestPuma::ALT_HOST (constant)">ALT_HOST</a>, 
    <a href="../TestPuma.html#DARWIN-constant" title="TestPuma::DARWIN (constant)">DARWIN</a>, 
    <a href="../TestPuma.html#DEBUGGING_INFO-constant" title="TestPuma::DEBUGGING_INFO (constant)">DEBUGGING_INFO</a>, 
    <a href="../TestPuma.html#DEBUGGING_PIDS-constant" title="TestPuma::DEBUGGING_PIDS (constant)">DEBUGGING_PIDS</a>, 
    <a href="../TestPuma.html#HOST-constant" title="TestPuma::HOST (constant)">HOST</a>, 
    <a href="../TestPuma.html#HOST4-constant" title="TestPuma::HOST4 (constant)">HOST4</a>, 
    <a href="../TestPuma.html#HOST6-constant" title="TestPuma::HOST6 (constant)">HOST6</a>, 
    <a href="../TestPuma.html#IS_GITHUB_ACTIONS-constant" title="TestPuma::IS_GITHUB_ACTIONS (constant)">IS_GITHUB_ACTIONS</a>, 
    <a href="../TestPuma.html#LINE_SPLIT-constant" title="TestPuma::LINE_SPLIT (constant)">LINE_SPLIT</a>, 
    <a href="../TestPuma.html#LOCALHOST-constant" title="TestPuma::LOCALHOST (constant)">LOCALHOST</a>, 
    <a href="../TestPuma.html#PUMA_CI_TMPDIR-constant" title="TestPuma::PUMA_CI_TMPDIR (constant)">PUMA_CI_TMPDIR</a>, 
    <a class='priv ' href="../TestPuma.html#RANDOM-constant" title="TestPuma::RANDOM (constant)">RANDOM</a>, 
    <a href="../TestPuma.html#RESP_SPLIT-constant" title="TestPuma::RESP_SPLIT (constant)">RESP_SPLIT</a>, 
    <a href="../TestPuma.html#RE_HOST_TO_IP-constant" title="TestPuma::RE_HOST_TO_IP (constant)">RE_HOST_TO_IP</a>, 
    <a href="../TestPuma.html#TOKEN-constant" title="TestPuma::TOKEN (constant)">TOKEN</a>, 
    <a class='priv ' href="../TestPuma.html#UNUSABLE_CHARS-constant" title="TestPuma::UNUSABLE_CHARS (constant)">UNUSABLE_CHARS</a>
  </p>
  <h3 class='inherited'><a href="PumaSocket.html" title="TestPuma::PumaSocket (module)"><code>PumaSocket</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="PumaSocket.html#EMPTY_200-constant" title="TestPuma::PumaSocket::EMPTY_200 (constant)">EMPTY_200</a>, 
    <a href="PumaSocket.html#GET_10-constant" title="TestPuma::PumaSocket::GET_10 (constant)">GET_10</a>, 
    <a href="PumaSocket.html#GET_11-constant" title="TestPuma::PumaSocket::GET_11 (constant)">GET_11</a>, 
    <a href="PumaSocket.html#GET_11_CLOSE-constant" title="TestPuma::PumaSocket::GET_11_CLOSE (constant)">GET_11_CLOSE</a>, 
    <a href="PumaSocket.html#HELLO_11-constant" title="TestPuma::PumaSocket::HELLO_11 (constant)">HELLO_11</a>, 
    <a href="PumaSocket.html#NO_ENTITY_BODY-constant" title="TestPuma::PumaSocket::NO_ENTITY_BODY (constant)">NO_ENTITY_BODY</a>, 
    <a href="PumaSocket.html#OPENSSL_3-constant" title="TestPuma::PumaSocket::OPENSSL_3 (constant)">OPENSSL_3</a>, 
    <a href="PumaSocket.html#PROTOCOL_USE_MIN_MAX-constant" title="TestPuma::PumaSocket::PROTOCOL_USE_MIN_MAX (constant)">PROTOCOL_USE_MIN_MAX</a>, 
    <a href="PumaSocket.html#READ_BODY-constant" title="TestPuma::PumaSocket::READ_BODY (constant)">READ_BODY</a>, 
    <a href="PumaSocket.html#READ_RESPONSE-constant" title="TestPuma::PumaSocket::READ_RESPONSE (constant)">READ_RESPONSE</a>, 
    <a href="PumaSocket.html#REQ_WRITE-constant" title="TestPuma::PumaSocket::REQ_WRITE (constant)">REQ_WRITE</a>, 
    <a href="PumaSocket.html#RESP_READ_LEN-constant" title="TestPuma::PumaSocket::RESP_READ_LEN (constant)">RESP_READ_LEN</a>, 
    <a href="PumaSocket.html#RESP_READ_TIMEOUT-constant" title="TestPuma::PumaSocket::RESP_READ_TIMEOUT (constant)">RESP_READ_TIMEOUT</a>, 
    <a href="PumaSocket.html#SEND_REQUEST-constant" title="TestPuma::PumaSocket::SEND_REQUEST (constant)">SEND_REQUEST</a>, 
    <a href="PumaSocket.html#SET_TCP_NODELAY-constant" title="TestPuma::PumaSocket::SET_TCP_NODELAY (constant)">SET_TCP_NODELAY</a>, 
    <a href="PumaSocket.html#UTF8-constant" title="TestPuma::PumaSocket::UTF8 (constant)">UTF8</a>
  </p>
</div>

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#after_teardown-instance_method" title="#after_teardown (instance method)">#<strong>after_teardown</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before_setup-instance_method" title="#before_setup (instance method)">#<strong>before_setup</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bind_host-instance_method" title="#bind_host (instance method)">#<strong>bind_host</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bind_path-instance_method" title="#bind_path (instance method)">#<strong>bind_path</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bind_port-instance_method" title="#bind_port (instance method)">#<strong>bind_port</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bind_ssl-instance_method" title="#bind_ssl (instance method)">#<strong>bind_ssl</strong>(**opts)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bind_uri_str-instance_method" title="#bind_uri_str (instance method)">#<strong>bind_uri_str</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#config_path-instance_method" title="#config_path (instance method)">#<strong>config_path</strong>(contents = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#control_config_str-instance_method" title="#control_config_str (instance method)">#<strong>control_config_str</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>returns the line used in a <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> configuration file to create a control server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#control_host-instance_method" title="#control_host (instance method)">#<strong>control_host</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#control_path-instance_method" title="#control_path (instance method)">#<strong>control_path</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#control_port-instance_method" title="#control_port (instance method)">#<strong>control_port</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#control_ssl-instance_method" title="#control_ssl (instance method)">#<strong>control_ssl</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#control_uri_str-instance_method" title="#control_uri_str (instance method)">#<strong>control_uri_str</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_bind_ssl-instance_method" title="#set_bind_ssl (instance method)">#<strong>set_bind_ssl</strong>(**opts)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_bind_type-instance_method" title="#set_bind_type (instance method)">#<strong>set_bind_type</strong>(type, host: nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_control_ssl-instance_method" title="#set_control_ssl (instance method)">#<strong>set_control_ssl</strong>(hash)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_control_type-instance_method" title="#set_control_type (instance method)">#<strong>set_control_type</strong>(type, host: nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_pumactl_args-instance_method" title="#set_pumactl_args (instance method)">#<strong>set_pumactl_args</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns arguments used in a command line string to create or use a <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> control server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_workers-instance_method" title="#set_workers (instance method)">#<strong>set_workers</strong>(count)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#state_path-instance_method" title="#state_path (instance method)">#<strong>state_path</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#workers-instance_method" title="#workers (instance method)">#<strong>workers</strong>  </a>
    </span>
  </li>
</ul>

<h3 class='inherited'><a href="PumaSocket.html" title="TestPuma::PumaSocket (module)"><code>PumaSocket</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#after_teardown-instance_method" title="TestPuma::PumaSocket#after_teardown (method)">#after_teardown</a></td>
      <td><div class='inline'><p>Closes all io’s in <code>@ios_to_close</code>, also deletes them if they are files.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="PumaSocket.html#before_setup-instance_method" title="TestPuma::PumaSocket#before_setup (method)">#before_setup</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#new_ctx-instance_method" title="TestPuma::PumaSocket#new_ctx (method)">#new_ctx</a></td>
      <td><div class='inline'><p>Helper for creating an <code>OpenSSL::SSL::SSLContext</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#new_socket-instance_method" title="TestPuma::PumaSocket#new_socket (method)">#new_socket</a></td>
      <td><div class='inline'><p>Creates a new client socket.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#read_response_array-instance_method" title="TestPuma::PumaSocket#read_response_array (method)">#read_response_array</a></td>
      <td><div class='inline'><p>Reads an array of sockets that have already had requests sent.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#send_http-instance_method" title="TestPuma::PumaSocket#send_http (method)">#send_http</a></td>
      <td><div class='inline'><p>Sends a request and returns the socket.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#send_http_array-instance_method" title="TestPuma::PumaSocket#send_http_array (method)">#send_http_array</a></td>
      <td><div class='inline'><p>Creates an array of sockets, sending a request on each.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#send_http_control-instance_method" title="TestPuma::PumaSocket#send_http_control (method)">#send_http_control</a></td>
      <td><div class='inline'><p>Sends a request to the <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> control server.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#send_http_control_read_resp_body-instance_method" title="TestPuma::PumaSocket#send_http_control_read_resp_body (method)">#send_http_control_read_resp_body</a></td>
      <td><div class='inline'><p>Sends a request to the <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> control server.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#send_http_read_all-instance_method" title="TestPuma::PumaSocket#send_http_read_all (method)">#send_http_read_all</a></td>
      <td><div class='inline'><p>Sends a request and returns whatever can be read.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#send_http_read_resp_body-instance_method" title="TestPuma::PumaSocket#send_http_read_resp_body (method)">#send_http_read_resp_body</a></td>
      <td><div class='inline'><p>Sends a request and returns the HTTP response body.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#send_http_read_resp_headers-instance_method" title="TestPuma::PumaSocket#send_http_read_resp_headers (method)">#send_http_read_resp_headers</a></td>
      <td><div class='inline'><p>Sends a request and returns the response header lines as an array of strings.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#send_http_read_response-instance_method" title="TestPuma::PumaSocket#send_http_read_response (method)">#send_http_read_response</a></td>
      <td><div class='inline'><p>Sends a request and returns the HTTP response.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="PumaSocket.html#skt_closed_by_server-instance_method" title="TestPuma::PumaSocket#skt_closed_by_server (method)">#skt_closed_by_server</a></td>
      <td><div class='inline'><p>Determines whether the socket has been closed by the server.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../TestPuma.html" title="TestPuma (module)"><code>::TestPuma</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../TestPuma.html#after_teardown-instance_method" title="TestPuma#after_teardown (method)">#after_teardown</a>,
        <a class='i_m ' href="../TestPuma.html#before_setup-instance_method" title="TestPuma#before_setup (method)">#before_setup</a>,
        <a class='i_m ' href="../TestPuma.html#curl_and_get_response-instance_method" title="TestPuma#curl_and_get_response (method)">#curl_and_get_response</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TestPuma.html#new_port-instance_method" title="TestPuma#new_port (method)">#new_port</a></td>
      <td><div class='inline'><p>Alias for <a href="../TestPuma.html#unique_port-instance_method" title="TestPuma#unique_port (method)">#unique_port</a>.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../TestPuma.html#spawn_ext_cmd-instance_method" title="TestPuma#spawn_ext_cmd (method)">#spawn_ext_cmd</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TestPuma.html#unique_path-instance_method" title="TestPuma#unique_path (method)">#unique_path</a></td>
      <td><div class='inline'><p>Generates a unique file path.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TestPuma.html#unique_port-instance_method" title="TestPuma#unique_port (method)">#unique_port</a></td>
      <td><div class='inline'><p>Returns an available port by using <code>TCPServer.open(host, 0)</code>.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../TestPuma.html#with_env-instance_method" title="TestPuma#with_env (method)">#with_env</a>,
        <a class='i_m priv' href="../TestPuma.html#kill_and_wait-instance_method" title="TestPuma#kill_and_wait (method)">#kill_and_wait</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="after_teardown-instance_method">
  <h3 class='signature  first'>
    #<strong>after_teardown</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L57-L60'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='57' data-end='60'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 57</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_after_teardown'>after_teardown</span>
  <span class='ivar'>@spawn_ext_pids</span>.<span class='id identifier rubyid_each'>each</span> { <span class='op'>|</span><span class='id identifier rubyid_pid'>pid</span><span class='op'>|</span> <span class='id identifier rubyid_kill_and_wait'><a href="../TestPuma.html#kill_and_wait-class_method" title="TestPuma.kill_and_wait (method)">kill_and_wait</a></span> <span class='id identifier rubyid_pid'>pid</span> }
  <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before_setup-instance_method">
  <h3 class='signature '>
    #<strong>before_setup</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L48-L55'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='48' data-end='55'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 48</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_before_setup'>before_setup</span>
  <span class='kw'>super</span>
  <span class='ivar'>@config_path</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@server</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@state_path</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@workers</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@spawn_ext_pids</span> <span class='op'>=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bind_host-instance_method">
  <h3 class='signature '>
    #<strong>bind_host</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L94-L96'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='94' data-end='96'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 94</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_bind_host'>bind_host</span>
  <span class='ivar'>@bind_host</span> <span class='op'>||=</span> <span class='const'><a href="../TestPuma.html#HOST-constant" title="TestPuma::HOST (constant)">HOST</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bind_path-instance_method">
  <h3 class='signature '>
    #<strong>bind_path</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L98-L102'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='98' data-end='102'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 98</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_bind_path'>bind_path</span>
  <span class='ivar'>@bind_path</span> <span class='op'>||=</span> <span class='ivar'>@bind_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_aunix'>aunix</span> <span class='op'>?</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span> <span class='id identifier rubyid_unique_path'><a href="../TestPuma.html#unique_path-instance_method" title="TestPuma#unique_path (method)">unique_path</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bind_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.sock</span><span class='tstring_end'>&#39;</span></span>])<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span>
    <span class='id identifier rubyid_unique_path'><a href="../TestPuma.html#unique_path-instance_method" title="TestPuma#unique_path (method)">unique_path</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bind_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.sock</span><span class='tstring_end'>&#39;</span></span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bind_port-instance_method">
  <h3 class='signature '>
    #<strong>bind_port</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L104-L106'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='104' data-end='106'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 104</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_bind_port'>bind_port</span>
  <span class='ivar'>@bind_port</span> <span class='op'>||=</span> <span class='id identifier rubyid_unique_port'><a href="../TestPuma.html#unique_port-instance_method" title="TestPuma#unique_port (method)">unique_port</a></span> <span class='id identifier rubyid_bind_host'><a href="#bind_host-instance_method" title="TestPuma::ServerBase#bind_host (method)">bind_host</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bind_ssl-instance_method">
  <h3 class='signature '>
    #<strong>bind_ssl</strong>(**opts)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L128-L130'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='128' data-end='130'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 128</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_bind_ssl'>bind_ssl</span>(<span class='op'>**</span><span class='id identifier rubyid_opts'>opts</span>)
  <span class='ivar'>@bind_ssl</span> <span class='op'>||=</span> <span class='id identifier rubyid_set_bind_ssl'><a href="#set_bind_ssl-instance_method" title="TestPuma::ServerBase#set_bind_ssl (method)">set_bind_ssl</a></span>(<span class='op'>**</span><span class='const'><a href="#DFLT_SSL_QUERY-constant" title="TestPuma::ServerBase::DFLT_SSL_QUERY (constant)">DFLT_SSL_QUERY</a></span>.<span class='id identifier rubyid_merge'>merge</span>(<span class='id identifier rubyid_opts'>opts</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bind_uri_str-instance_method">
  <h3 class='signature '>
    #<strong>bind_uri_str</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L140-L149'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='140' data-end='149'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 140</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_bind_uri_str'>bind_uri_str</span>
  <span class='kw'>case</span> <span class='ivar'>@bind_type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>
    <span class='id identifier rubyid_bind_ssl'><a href="#bind_ssl-instance_method" title="TestPuma::ServerBase#bind_ssl (method)">bind_ssl</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tcp://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bind_host'><a href="#bind_host-instance_method" title="TestPuma::ServerBase#bind_host (method)">bind_host</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bind_port'><a href="#bind_port-instance_method" title="TestPuma::ServerBase#bind_port (method)">bind_port</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_aunix'>aunix</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unix'>unix</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unix://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bind_path'><a href="#bind_path-instance_method" title="TestPuma::ServerBase#bind_path (method)">bind_path</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="config_path-instance_method">
  <h3 class='signature '>
    #<strong>config_path</strong>(contents = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L179-L185'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='179' data-end='185'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 179</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_config_path'>config_path</span>(<span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_contents'>contents</span>
    <span class='ivar'>@config_path</span> <span class='op'>||=</span> <span class='id identifier rubyid_unique_path'><a href="../TestPuma.html#unique_path-instance_method" title="TestPuma#unique_path (method)">unique_path</a></span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>config_</span><span class='words_sep'> </span><span class='tstring_content'>.rb</span><span class='tstring_end'>]</span></span><span class='comma'>,</span> <span class='label'>contents:</span> <span class='id identifier rubyid_contents'>contents</span>
  <span class='kw'>else</span>
    <span class='ivar'>@config_path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="control_config_str-instance_method">
  <h3 class='signature '>
    #<strong>control_config_str</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>returns the line used in a <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> configuration file to create a control server</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L170-L177'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='170' data-end='177'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 170</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_control_config_str'>control_config_str</span>
  <span class='kw'>case</span> <span class='ivar'>@control_type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>activate_control_app &#39;tcp://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_control_host'><a href="#control_host-instance_method" title="TestPuma::ServerBase#control_host (method)">control_host</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_control_port'><a href="#control_port-instance_method" title="TestPuma::ServerBase#control_port (method)">control_port</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;, auth_token: &#39;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../TestPuma.html#TOKEN-constant" title="TestPuma::TOKEN (constant)">TOKEN</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unix'>unix</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>activate_control_app &#39;unix://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_control_path'><a href="#control_path-instance_method" title="TestPuma::ServerBase#control_path (method)">control_path</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;, auth_token: &#39;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../TestPuma.html#TOKEN-constant" title="TestPuma::TOKEN (constant)">TOKEN</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="control_host-instance_method">
  <h3 class='signature '>
    #<strong>control_host</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L108-L110'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='108' data-end='110'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 108</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_control_host'>control_host</span>
  <span class='ivar'>@control_host</span> <span class='op'>||=</span> <span class='const'><a href="../TestPuma.html#HOST-constant" title="TestPuma::HOST (constant)">HOST</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="control_path-instance_method">
  <h3 class='signature '>
    #<strong>control_path</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L112-L116'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='112' data-end='116'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 112</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_control_path'>control_path</span>
  <span class='ivar'>@control_path</span> <span class='op'>||=</span> <span class='ivar'>@control_type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_aunix'>aunix</span> <span class='op'>?</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span> <span class='id identifier rubyid_unique_path'><a href="../TestPuma.html#unique_path-instance_method" title="TestPuma#unique_path (method)">unique_path</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ctrl_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.sock</span><span class='tstring_end'>&#39;</span></span>])<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span>
    <span class='id identifier rubyid_unique_path'><a href="../TestPuma.html#unique_path-instance_method" title="TestPuma#unique_path (method)">unique_path</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ctrl_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.sock</span><span class='tstring_end'>&#39;</span></span>])
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="control_port-instance_method">
  <h3 class='signature '>
    #<strong>control_port</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L118-L120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='118' data-end='120'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 118</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_control_port'>control_port</span>
  <span class='ivar'>@control_port</span> <span class='op'>||=</span> <span class='id identifier rubyid_unique_port'><a href="../TestPuma.html#unique_port-instance_method" title="TestPuma#unique_port (method)">unique_port</a></span> <span class='id identifier rubyid_control_host'><a href="#control_host-instance_method" title="TestPuma::ServerBase#control_host (method)">control_host</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="control_ssl-instance_method">
  <h3 class='signature '>
    #<strong>control_ssl</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L136-L138'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='136' data-end='138'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 136</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_control_ssl'>control_ssl</span>
  <span class='ivar'>@control_ssl</span> <span class='op'>||=</span> <span class='id identifier rubyid_set_control_ssl'><a href="#set_control_ssl-instance_method" title="TestPuma::ServerBase#set_control_ssl (method)">set_control_ssl</a></span> <span class='const'><a href="#DFLT_SSL_QUERY-constant" title="TestPuma::ServerBase::DFLT_SSL_QUERY (constant)">DFLT_SSL_QUERY</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="control_uri_str-instance_method">
  <h3 class='signature '>
    #<strong>control_uri_str</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L151-L160'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='151' data-end='160'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 151</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_control_uri_str'>control_uri_str</span>
  <span class='kw'>case</span> <span class='ivar'>@control_type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>
    <span class='id identifier rubyid_control_ssl'><a href="#control_ssl-instance_method" title="TestPuma::ServerBase#control_ssl (method)">control_ssl</a></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tcp://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_control_host'><a href="#control_host-instance_method" title="TestPuma::ServerBase#control_host (method)">control_host</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_control_port'><a href="#control_port-instance_method" title="TestPuma::ServerBase#control_port (method)">control_port</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unix'>unix</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unix://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_control_path'><a href="#control_path-instance_method" title="TestPuma::ServerBase#control_path (method)">control_path</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_bind_ssl-instance_method">
  <h3 class='signature '>
    #<strong>set_bind_ssl</strong>(**opts)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L122-L126'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='122' data-end='126'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 122</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_bind_ssl'>set_bind_ssl</span>(<span class='op'>**</span><span class='id identifier rubyid_opts'>opts</span>)
  <span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_host'>host</span>) <span class='op'>||</span> <span class='id identifier rubyid_bind_host'><a href="#bind_host-instance_method" title="TestPuma::ServerBase#bind_host (method)">bind_host</a></span>
  <span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_port'>port</span>) <span class='op'>||</span> <span class='id identifier rubyid_bind_port'><a href="#bind_port-instance_method" title="TestPuma::ServerBase#bind_port (method)">bind_port</a></span>
  <span class='ivar'>@bind_ssl</span> <span class='op'>=</span> <span class='const'><a href="../Puma.html" title="Puma (module)">Puma</a></span><span class='op'>::</span><span class='const'><a href="../Puma/DSL.html" title="Puma::DSL (class)">DSL</a></span>.<span class='id identifier rubyid_ssl_bind_str'><a href="../Puma/DSL.html#ssl_bind_str-class_method" title="Puma::DSL.ssl_bind_str (method)">ssl_bind_str</a></span> <span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_bind_type-instance_method">
  <h3 class='signature '>
    #<strong>set_bind_type</strong>(type, host: nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L62-L76'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='62' data-end='76'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 62</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_bind_type'>set_bind_type</span>(<span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>host:</span> <span class='kw'>nil</span>)
  <span class='ivar'>@bind_host</span> <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span> <span class='kw'>if</span> <span class='id identifier rubyid_host'>host</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_aunix'>aunix</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unix'>unix</span>
    <span class='id identifier rubyid_skip_unless'>skip_unless</span> <span class='id identifier rubyid_type'>type</span>
    <span class='ivar'>@bind_type</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>
    <span class='id identifier rubyid_skip_unless'>skip_unless</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>
    <span class='ivar'>@bind_type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
    <span class='ivar'>@bind_type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid bind type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>, must be one of :aunix, :ssl, :tcp, :unix</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_control_ssl-instance_method">
  <h3 class='signature '>
    #<strong>set_control_ssl</strong>(hash)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L132-L134'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='132' data-end='134'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 132</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_control_ssl'>set_control_ssl</span>(<span class='id identifier rubyid_hash'>hash</span>)
  <span class='ivar'>@control_ssl</span> <span class='op'>=</span> <span class='const'><a href="../Puma.html" title="Puma (module)">Puma</a></span><span class='op'>::</span><span class='const'><a href="../Puma/DSL.html" title="Puma::DSL (class)">DSL</a></span>.<span class='id identifier rubyid_ssl_bind_str'><a href="../Puma/DSL.html#ssl_bind_str-class_method" title="Puma::DSL.ssl_bind_str (method)">ssl_bind_str</a></span> <span class='id identifier rubyid_control_host'><a href="#control_host-instance_method" title="TestPuma::ServerBase#control_host (method)">control_host</a></span><span class='comma'>,</span> <span class='id identifier rubyid_control_port'><a href="#control_port-instance_method" title="TestPuma::ServerBase#control_port (method)">control_port</a></span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_control_type-instance_method">
  <h3 class='signature '>
    #<strong>set_control_type</strong>(type, host: nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L78-L92'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='78' data-end='92'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 78</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_control_type'>set_control_type</span>(<span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='label'>host:</span> <span class='kw'>nil</span>)
  <span class='ivar'>@control_host</span> <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span> <span class='kw'>if</span> <span class='id identifier rubyid_host'>host</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_aunix'>aunix</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_unix'>unix</span>
    <span class='id identifier rubyid_skip_unless'>skip_unless</span> <span class='id identifier rubyid_type'>type</span>
    <span class='ivar'>@control_type</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>
    <span class='id identifier rubyid_skip_unless'>skip_unless</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>
    <span class='ivar'>@control_type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl'>ssl</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
    <span class='ivar'>@control_type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid control type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>, must be one of :aunix, :ssl, :tcp, :unix</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_pumactl_args-instance_method">
  <h3 class='signature '>
    #<strong>set_pumactl_args</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns arguments used in a command line string to create or use a <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> control server</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L164-L167'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='164' data-end='167'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 164</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_pumactl_args'>set_pumactl_args</span>
  <span class='comment'># Used in both `Puma::CLI` and `Puma::ControlCLI`
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--control-url </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_control_uri_str'><a href="#control_uri_str-instance_method" title="TestPuma::ServerBase#control_uri_str (method)">control_uri_str</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> --control-token </span><span class='embexpr_beg'>#{</span><span class='const'><a href="../TestPuma.html#TOKEN-constant" title="TestPuma::TOKEN (constant)">TOKEN</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_workers-instance_method">
  <h3 class='signature '>
    #<strong>set_workers</strong>(count)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L191-L193'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='191' data-end='193'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_workers'>set_workers</span>(<span class='id identifier rubyid_count'>count</span>)
  <span class='ivar'>@workers</span> <span class='op'>=</span> <span class='id identifier rubyid_count'>count</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="state_path-instance_method">
  <h3 class='signature '>
    #<strong>state_path</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L187-L189'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='187' data-end='189'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 187</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_state_path'>state_path</span>
  <span class='ivar'>@state_path</span> <span class='op'>||=</span> <span class='id identifier rubyid_unique_path'><a href="../TestPuma.html#unique_path-instance_method" title="TestPuma#unique_path (method)">unique_path</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.state</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="workers-instance_method">
  <h3 class='signature '>
    #<strong>workers</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/master/test/helpers/test_puma/server_base.rb#L195-L197'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='195' data-end='197'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'test/helpers/test_puma/server_base.rb', line 195</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_workers'>workers</span>
  <span class='ivar'>@workers</span> <span class='op'>||=</span> <span class='int'>0</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>