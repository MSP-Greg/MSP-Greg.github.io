<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Testing - benchmark/local files &mdash; Puma-test</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "testing_benchmarks_local_files",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Puma-test</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Testing - benchmark/local files&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<h1>Testing - benchmark/local files</h1>

<p>These files generate data that shows request-per-second (RPS), etc. Typically, files are in 
pairs, a shell script and a Ruby script. The shell script starts the server, then runs the 
Ruby file, which starts client request stream(s), then collects and logs metrics.</p>

<h2>response_time_wrk.sh</h2>

<p>This uses <a href="https://github.com/ioquatix/wrk">wrk</a> for generating data. One or more wrk runs are performed. Summarizes RPS and 
wrk latency times. The default for the <code>-b</code> argument runs 28 different client request streams, 
and takes a bit over 5 minutes.  See &#39;Request Stream Configuration&#39; below for <code>-b</code> argument
description.</p>

<p><details>
  <summary>Summary output for<br/><code>benchmarks/local/response_time_wrk.sh -w2 -t5:5 -s tcp6</code>:</summary></p>

<pre class="code ruby"><code class="ruby"><span class='const'>Type</span>   <span class='id identifier rubyid_req'>req</span><span class='op'>/</span><span class='id identifier rubyid_sec'>sec</span>    <span class='int'>50</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span>   <span class='int'>75</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span>   <span class='int'>90</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span>   <span class='int'>99</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span>  <span class='int'>100</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span><span class='const'>Resp</span> <span class='const'>Size</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────</span>    <span class='int'>1</span><span class='id identifier rubyid_kB'>kB</span>
<span class='id identifier rubyid_array'>array</span>   <span class='int'>13710</span>    <span class='float'>0.74</span>    <span class='float'>2.52</span>    <span class='float'>5.23</span>    <span class='float'>7.76</span>   <span class='float'>37.45</span>      <span class='int'>1024</span>
<span class='id identifier rubyid_chunk'>chunk</span>   <span class='int'>13502</span>    <span class='float'>0.76</span>    <span class='float'>2.55</span>    <span class='float'>5.28</span>    <span class='float'>7.84</span>   <span class='float'>11.23</span>      <span class='int'>1042</span>
<span class='id identifier rubyid_string'>string</span>  <span class='int'>13794</span>    <span class='float'>0.74</span>    <span class='float'>2.51</span>    <span class='float'>5.20</span>    <span class='float'>7.75</span>   <span class='float'>14.07</span>      <span class='int'>1024</span>
<span class='id identifier rubyid_io'>io</span>       <span class='int'>9615</span>    <span class='float'>1.16</span>    <span class='float'>3.45</span>    <span class='float'>7.13</span>   <span class='float'>10.57</span>   <span class='float'>15.75</span>      <span class='int'>1024</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────</span>   <span class='int'>10</span><span class='id identifier rubyid_kB'>kB</span>
<span class='id identifier rubyid_array'>array</span>   <span class='int'>13458</span>    <span class='float'>0.76</span>    <span class='float'>2.57</span>    <span class='float'>5.31</span>    <span class='float'>7.93</span>   <span class='float'>13.94</span>     <span class='int'>10239</span>
<span class='id identifier rubyid_chunk'>chunk</span>   <span class='int'>13066</span>    <span class='float'>0.78</span>    <span class='float'>2.64</span>    <span class='float'>5.46</span>    <span class='float'>8.18</span>   <span class='float'>38.48</span>     <span class='int'>10320</span>
<span class='id identifier rubyid_string'>string</span>  <span class='int'>13500</span>    <span class='float'>0.76</span>    <span class='float'>2.55</span>    <span class='float'>5.29</span>    <span class='float'>7.88</span>   <span class='float'>11.42</span>     <span class='int'>10240</span>
<span class='id identifier rubyid_io'>io</span>       <span class='int'>9293</span>    <span class='float'>1.18</span>    <span class='float'>3.59</span>    <span class='float'>7.39</span>   <span class='float'>10.94</span>   <span class='float'>16.99</span>     <span class='int'>10240</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────</span>  <span class='int'>100</span><span class='id identifier rubyid_kB'>kB</span>
<span class='id identifier rubyid_array'>array</span>   <span class='int'>11315</span>    <span class='float'>0.96</span>    <span class='float'>3.06</span>    <span class='float'>6.33</span>    <span class='float'>9.49</span>   <span class='float'>17.69</span>    <span class='int'>102424</span>
<span class='id identifier rubyid_chunk'>chunk</span>    <span class='int'>9916</span>    <span class='float'>1.10</span>    <span class='float'>3.48</span>    <span class='float'>7.20</span>   <span class='float'>10.73</span>   <span class='float'>15.14</span>    <span class='int'>103075</span>
<span class='id identifier rubyid_string'>string</span>  <span class='int'>10948</span>    <span class='float'>1.00</span>    <span class='float'>3.17</span>    <span class='float'>6.57</span>    <span class='float'>9.83</span>   <span class='float'>17.88</span>    <span class='int'>102378</span>
<span class='id identifier rubyid_io'>io</span>       <span class='int'>8901</span>    <span class='float'>1.21</span>    <span class='float'>3.72</span>    <span class='float'>7.48</span>   <span class='float'>11.27</span>   <span class='float'>59.98</span>    <span class='int'>102407</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────</span>  <span class='int'>256</span><span class='id identifier rubyid_kB'>kB</span>
<span class='id identifier rubyid_array'>array</span>    <span class='int'>9217</span>    <span class='float'>1.15</span>    <span class='float'>3.82</span>    <span class='float'>7.88</span>   <span class='float'>11.74</span>   <span class='float'>17.12</span>    <span class='int'>262212</span>
<span class='id identifier rubyid_chunk'>chunk</span>    <span class='int'>7339</span>    <span class='float'>1.45</span>    <span class='float'>4.76</span>    <span class='float'>9.81</span>   <span class='float'>14.63</span>   <span class='float'>22.70</span>    <span class='int'>264007</span>
<span class='id identifier rubyid_string'>string</span>   <span class='int'>8574</span>    <span class='float'>1.19</span>    <span class='float'>3.81</span>    <span class='float'>7.73</span>   <span class='float'>11.21</span>   <span class='float'>15.80</span>    <span class='int'>262147</span>
<span class='id identifier rubyid_io'>io</span>       <span class='int'>8911</span>    <span class='float'>1.19</span>    <span class='float'>3.80</span>    <span class='float'>7.55</span>   <span class='float'>15.25</span>   <span class='float'>60.01</span>    <span class='int'>262183</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────</span>  <span class='int'>512</span><span class='id identifier rubyid_kB'>kB</span>
<span class='id identifier rubyid_array'>array</span>    <span class='int'>6951</span>    <span class='float'>1.49</span>    <span class='float'>5.03</span>   <span class='float'>10.28</span>   <span class='float'>15.90</span>   <span class='float'>25.08</span>    <span class='int'>524378</span>
<span class='id identifier rubyid_chunk'>chunk</span>    <span class='int'>5234</span>    <span class='float'>2.03</span>    <span class='float'>6.56</span>   <span class='float'>13.57</span>   <span class='float'>20.46</span>   <span class='float'>32.15</span>    <span class='int'>527862</span>
<span class='id identifier rubyid_string'>string</span>   <span class='int'>6438</span>    <span class='float'>1.55</span>    <span class='float'>5.04</span>   <span class='float'>10.12</span>   <span class='float'>16.28</span>   <span class='float'>72.87</span>    <span class='int'>524275</span>
<span class='id identifier rubyid_io'>io</span>       <span class='int'>8533</span>    <span class='float'>1.15</span>    <span class='float'>4.62</span>    <span class='float'>8.79</span>   <span class='float'>48.15</span>   <span class='float'>70.51</span>    <span class='int'>524327</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────</span> <span class='int'>1024</span><span class='id identifier rubyid_kB'>kB</span>
<span class='id identifier rubyid_array'>array</span>    <span class='int'>4122</span>    <span class='float'>1.80</span>   <span class='float'>15.59</span>   <span class='float'>41.87</span>   <span class='float'>67.79</span>  <span class='float'>121.00</span>   <span class='int'>1048565</span>
<span class='id identifier rubyid_chunk'>chunk</span>    <span class='int'>3158</span>    <span class='float'>2.82</span>   <span class='float'>15.22</span>   <span class='float'>31.00</span>   <span class='float'>71.39</span>   <span class='float'>99.90</span>   <span class='int'>1055654</span>
<span class='id identifier rubyid_string'>string</span>   <span class='int'>4710</span>    <span class='float'>2.24</span>    <span class='float'>6.66</span>   <span class='float'>13.65</span>   <span class='float'>20.38</span>   <span class='float'>70.44</span>   <span class='int'>1048575</span>
<span class='id identifier rubyid_io'>io</span>       <span class='int'>8355</span>    <span class='float'>1.23</span>    <span class='float'>3.95</span>    <span class='float'>7.94</span>   <span class='float'>14.08</span>   <span class='float'>68.54</span>   <span class='int'>1048498</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────</span> <span class='int'>2048</span><span class='id identifier rubyid_kB'>kB</span>
<span class='id identifier rubyid_array'>array</span>    <span class='int'>2454</span>    <span class='float'>4.12</span>   <span class='float'>14.02</span>   <span class='float'>27.70</span>   <span class='float'>43.48</span>   <span class='float'>88.89</span>   <span class='int'>2097415</span>
<span class='id identifier rubyid_chunk'>chunk</span>    <span class='int'>1743</span>    <span class='float'>6.26</span>   <span class='float'>17.65</span>   <span class='float'>36.98</span>   <span class='float'>55.78</span>   <span class='float'>92.10</span>   <span class='int'>2111358</span>
<span class='id identifier rubyid_string'>string</span>   <span class='int'>2479</span>    <span class='float'>4.38</span>   <span class='float'>12.52</span>   <span class='float'>25.65</span>   <span class='float'>38.44</span>   <span class='float'>95.62</span>   <span class='int'>2097502</span>
<span class='id identifier rubyid_io'>io</span>       <span class='int'>8264</span>    <span class='float'>1.25</span>    <span class='float'>3.83</span>    <span class='float'>7.76</span>   <span class='float'>11.73</span>   <span class='float'>65.69</span>   <span class='int'>2097090</span>

<span class='const'>Body</span>    <span class='id identifier rubyid_──────────'>──────────</span> <span class='id identifier rubyid_req'>req</span><span class='op'>/</span><span class='id identifier rubyid_sec'>sec</span> <span class='id identifier rubyid_──────────'>──────────</span>   <span class='id identifier rubyid_───────'>───────</span> <span class='id identifier rubyid_req'>req</span> <span class='int'>50</span><span class='op'>%</span> <span class='id identifier rubyid_times'>times</span> <span class='id identifier rubyid_───────'>───────</span>
 <span class='const'>KB</span>     <span class='id identifier rubyid_array'>array</span>   <span class='id identifier rubyid_chunk'>chunk</span>  <span class='id identifier rubyid_string'>string</span>      <span class='id identifier rubyid_io'>io</span>   <span class='id identifier rubyid_array'>array</span>   <span class='id identifier rubyid_chunk'>chunk</span>  <span class='id identifier rubyid_string'>string</span>      <span class='id identifier rubyid_io'>io</span>
<span class='int'>1</span>       <span class='int'>13710</span>   <span class='int'>13502</span>   <span class='int'>13794</span>    <span class='int'>9615</span>   <span class='float'>0.745</span>   <span class='float'>0.757</span>   <span class='float'>0.741</span>   <span class='float'>1.160</span>
<span class='int'>10</span>      <span class='int'>13458</span>   <span class='int'>13066</span>   <span class='int'>13500</span>    <span class='int'>9293</span>   <span class='float'>0.760</span>   <span class='float'>0.784</span>   <span class='float'>0.759</span>   <span class='float'>1.180</span>
<span class='int'>100</span>     <span class='int'>11315</span>    <span class='int'>9916</span>   <span class='int'>10948</span>    <span class='int'>8901</span>   <span class='float'>0.960</span>   <span class='float'>1.100</span>   <span class='float'>1.000</span>   <span class='float'>1.210</span>
<span class='int'>256</span>      <span class='int'>9217</span>    <span class='int'>7339</span>    <span class='int'>8574</span>    <span class='int'>8911</span>   <span class='float'>1.150</span>   <span class='float'>1.450</span>   <span class='float'>1.190</span>   <span class='float'>1.190</span>
<span class='int'>512</span>      <span class='int'>6951</span>    <span class='int'>5234</span>    <span class='int'>6438</span>    <span class='int'>8533</span>   <span class='float'>1.490</span>   <span class='float'>2.030</span>   <span class='float'>1.550</span>   <span class='float'>1.150</span>
<span class='int'>1024</span>     <span class='int'>4122</span>    <span class='int'>3158</span>    <span class='int'>4710</span>    <span class='int'>8355</span>   <span class='float'>1.800</span>   <span class='float'>2.820</span>   <span class='float'>2.240</span>   <span class='float'>1.230</span>
<span class='int'>2048</span>     <span class='int'>2454</span>    <span class='int'>1743</span>    <span class='int'>2479</span>    <span class='int'>8264</span>   <span class='float'>4.120</span>   <span class='float'>6.260</span>   <span class='float'>4.380</span>   <span class='float'>1.250</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────────</span>
<span class='id identifier rubyid_wrk'>wrk</span> <span class='op'>-</span><span class='id identifier rubyid_t8'>t8</span> <span class='op'>-</span><span class='id identifier rubyid_c16'>c16</span> <span class='op'>-</span><span class='id identifier rubyid_d10s'>d10s</span>
<span class='id identifier rubyid_benchmarks'>benchmarks</span><span class='op'>/</span><span class='id identifier rubyid_local'>local</span><span class='op'>/</span><span class='id identifier rubyid_response_time_wrk'>response_time_wrk</span>.<span class='id identifier rubyid_sh'>sh</span> <span class='op'>-</span><span class='id identifier rubyid_w2'>w2</span> <span class='op'>-</span><span class='id identifier rubyid_t5'>t5</span><span class='symbeg'>:</span><span class='int'>5</span> <span class='op'>-</span><span class='id identifier rubyid_s'>s</span> <span class='id identifier rubyid_tcp6'>tcp6</span> <span class='op'>-</span><span class='const'>Y</span>
<span class='const'><a href="Puma/Server.html" title="Puma::Server (class)">Server</a></span> <span class='id identifier rubyid_cluster'>cluster</span> <span class='id identifier rubyid_mode'>mode</span> <span class='op'>-</span><span class='id identifier rubyid_w2'>w2</span> <span class='op'>-</span><span class='id identifier rubyid_t5'>t5</span><span class='symbeg'>:</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_bind'>bind</span><span class='op'>:</span> <span class='id identifier rubyid_tcp6'>tcp6</span>
<span class='const'><a href="Puma.html" title="Puma (module)">Puma</a></span> <span class='id identifier rubyid_repo'>repo</span> <span class='id identifier rubyid_branch'>branch</span> <span class='int'>00</span><span class='op'>-</span><span class='id identifier rubyid_response'>response</span><span class='op'>-</span><span class='id identifier rubyid_refactor'>refactor</span>
<span class='id identifier rubyid_ruby'>ruby</span> <span class='float'>3.2</span><span class='id identifier rubyid_dev'>dev</span> (<span class='int'>2022</span><span class='op'>-</span><span class='int'>06</span><span class='op'>-</span><span class='int'>14</span><span class='const'>T01</span><span class='op'>:</span><span class='int'>21</span><span class='op'>:</span><span class='int'>55</span><span class='const'>Z</span> <span class='id identifier rubyid_master'>master</span> <span class='int'>048</span><span class='id identifier rubyid_f14221c'>f14221c</span>) <span class='op'>+</span><span class='const'>YJIT</span> [<span class='id identifier rubyid_x86_64'>x86_64</span><span class='op'>-</span><span class='id identifier rubyid_linux'>linux</span>]

[<span class='int'>2136</span>] <span class='op'>-</span> <span class='const'>Gracefully</span> <span class='id identifier rubyid_shutting'>shutting</span> <span class='id identifier rubyid_down'>down</span> <span class='id identifier rubyid_workers'>workers</span><span class='op'>...</span>
[<span class='int'>2136</span>] <span class='op'>===</span> <span class='id identifier rubyid_puma'>puma</span> <span class='label'>shutdown:</span> <span class='int'>2022</span><span class='op'>-</span><span class='int'>06</span><span class='op'>-</span><span class='int'>13</span> <span class='int'>21</span><span class='symbeg'>:</span><span class='int'>16</span><span class='symbeg'>:</span><span class='int'>13</span> <span class='op'>-</span><span class='int'>0500</span> <span class='op'>===</span>
[<span class='int'>2136</span>] <span class='op'>-</span> <span class='id identifier rubyid_Goodbye!'>Goodbye!</span>

 <span class='int'>5</span><span class='op'>:</span><span class='int'>15</span> <span class='const'>Total</span> <span class='const'>Time</span></code></pre>

<p></details><br/></p>

<h2>bench_base.sh, bench_base.rb</h2>

<p>These two files setup parameters for the Puma server, which is normally started in a shell 
script. It then starts a Ruby file (a subclass of BenchBase), passing arguments to it. The 
Ruby file is normally used to generate a client request stream(s).</p>

<h3>Puma Configuration</h3>

<p>The following arguments are used for the Puma server:</p>

<ul>
<li><strong><code>-C</code></strong> - configuration file</li>
<li><strong><code>-d</code></strong> - app delay</li>
<li><strong><code>-r</code></strong> - rackup file, often defaults to test/rackup/ci_select.ru</li>
<li><strong><code>-s</code></strong> - bind socket type, default is tcp/tcp4, also tcp6, ssl/ssl4, ssl6, unix, or aunix
(unix &amp; abstract unix are not available with wrk).</li>
<li><strong><code>-t</code></strong> - threads, expressed as &#39;5:5&#39;, same as Puma --thread</li>
<li><strong><code>-w</code></strong> - workers, same as Puma --worker</li>
<li><strong><code>-Y</code></strong> - enable Ruby YJIT</li>
</ul>

<h3>Request Stream Configuration</h3>

<p>The following arguments are used for request streams:</p>

<ul>
<li><strong><code>-b</code></strong> - response body configuration. Body type options are a array, c chunked, s string,
and i for File/IO. None or any combination can be specified, they should start the option.
Then, any combination of comma separated integers can be used for the response body size
in kB. The string &#39;ac50,100&#39; would create four runs, 50kb array, 50kB chunked, 100kB array,
and 100kB chunked. See &#39;Testing - test/rackup/ci-*.ru files&#39; for more info.</li>
<li><strong><code>-c</code></strong> - connections per client request stream thread, defaults to 2 for wrk.</li>
<li><strong><code>-D</code></strong> - duration of client request stream in seconds.</li>
<li><strong><code>-T</code></strong> - number of threads in the client request stream. For wrk, this defaults to
80% of Puma workers * max_threads.</li>
</ul>

<h3>Notes - Configuration</h3>

<p>The above lists script arguments.</p>

<p><code>bench_base.sh</code> contains most server defaults. Many can be set via ENV variables.</p>

<p><code>bench_base.rb</code> contains the client request stream defaults. The default value for
<code>-b</code> is <code>acsi1,10,100,256,512,1024,2048</code>, which is a 4 x 7 matrix, and hence, runs
28 jobs. Also, the i body type (File/IO) generates files, they are placed in the
<code>&quot;#{Dir.tmpdir}/.puma_response_body_io&quot;</code> directory, which is created.</p>

<h3>Notes - wrk</h3>

<p>The shell scripts use <code>-T</code> for wrk&#39;s thread count, since <code>-t</code> is used for Puma
server threads.  Regarding the <code>-c</code> argument, wrk has an interesting behavior.
The total number of connections is set by <code>(connections/threads).to_i</code>. The scripts
here use <code>-c</code> as connections per thread.  Hence, using <code>-T4 -c2</code> will yield a total
of eight wrk connections, two per thread. The equivalent wrk arguments would be <code>-t4 -c8</code>.</p>

<p>Puma can only process so many requests, and requests will queue in the backlog
until Puma can respond to them. With wrk, if the number of total connections is
too high, one will see the upper latency times increase, pushing into the lower
latency times as the connections are increased. The default values for wrk&#39;s
threads and connections were chosen to minimize requests&#39; time in the backlog.</p>

<p>An example with four wrk runs using <code>-b s10</code>.  Notice that <code>req/sec</code> varies by
less than 1%, but the <code>75%</code> times increase by an order of magnitude:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_req'>req</span><span class='op'>/</span><span class='id identifier rubyid_sec'>sec</span>    <span class='int'>50</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span>   <span class='int'>75</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span>   <span class='int'>90</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span>   <span class='int'>99</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span>  <span class='int'>100</span><span class='tstring'><span class='tstring_beg'>% </span><span class='tstring_end'> </span></span><span class='const'>Resp</span> <span class='const'>Size</span>   <span class='id identifier rubyid_wrk'>wrk</span> <span class='id identifier rubyid_cmd'>cmd</span> <span class='id identifier rubyid_line'>line</span>
<span class='id identifier rubyid_─────────────────────────────────────────────────────────────────────────────'>─────────────────────────────────────────────────────────────────────────────</span>
 <span class='int'>13597</span>   <span class='float'>0.755</span>   <span class='float'>2.550</span>   <span class='float'>5.260</span>   <span class='float'>7.800</span>  <span class='float'>13.310</span>     <span class='int'>12040</span>    <span class='id identifier rubyid_wrk'>wrk</span> <span class='op'>-</span><span class='id identifier rubyid_t8'>t8</span>  <span class='op'>-</span><span class='id identifier rubyid_c16'>c16</span> <span class='op'>-</span><span class='id identifier rubyid_d10'>d10</span>
 <span class='int'>13549</span>   <span class='float'>0.793</span>   <span class='float'>4.430</span>   <span class='float'>8.140</span>  <span class='float'>11.220</span>  <span class='float'>16.600</span>     <span class='int'>12002</span>    <span class='id identifier rubyid_wrk'>wrk</span> <span class='op'>-</span><span class='id identifier rubyid_t10'>t10</span> <span class='op'>-</span><span class='id identifier rubyid_c20'>c20</span> <span class='op'>-</span><span class='id identifier rubyid_d10'>d10</span>
 <span class='int'>13570</span>   <span class='float'>1.040</span>  <span class='float'>25.790</span>  <span class='float'>40.010</span>  <span class='float'>49.070</span>  <span class='float'>58.300</span>     <span class='int'>11982</span>    <span class='id identifier rubyid_wrk'>wrk</span> <span class='op'>-</span><span class='id identifier rubyid_t8'>t8</span>  <span class='op'>-</span><span class='id identifier rubyid_c64'>c64</span> <span class='op'>-</span><span class='id identifier rubyid_d10'>d10</span>
 <span class='int'>13684</span>   <span class='float'>1.050</span>  <span class='float'>25.820</span>  <span class='float'>40.080</span>  <span class='float'>49.160</span>  <span class='float'>66.190</span>     <span class='int'>12033</span>    <span class='id identifier rubyid_wrk'>wrk</span> <span class='op'>-</span><span class='id identifier rubyid_t16'>t16</span> <span class='op'>-</span><span class='id identifier rubyid_c64'>c64</span> <span class='op'>-</span><span class='id identifier rubyid_d10'>d10</span></code></pre>

<p>Finally, wrk&#39;s output may cause rounding errors, so the response body size calculation is
imprecise.</p>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>