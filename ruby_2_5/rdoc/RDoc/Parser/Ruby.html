<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::Parser::Ruby &mdash; rdoc  Ruby-2.5.9 p229</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RDoc::Parser::Ruby",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-2.5.9</a> &raquo; 
      <a href='../../'>rdoc</a> &raquo; 
      <a href='../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
        <a href="../Parser.html" title="RDoc::Parser (class)">Parser</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Ruby&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: RDoc::Parser::Ruby</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="RubyTools.html" title="RDoc::Parser::RubyTools (module)">RubyTools</a>,
          <a href="../TokenStream.html" title="RDoc::TokenStream (module)">::RDoc::TokenStream</a>,
          <a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Parser.html" title="RDoc::Parser (class)">RDoc::Parser</a></span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'><a href="../Parser.html" title="RDoc::Parser (class)">RDoc::Parser</a></li>
          <li class='next'>RDoc::Parser::Ruby</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L145'>lib/rdoc/parser/ruby.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='NORMAL-constant' class='summary_signature'>NORMAL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="../NormalClass.html" title="RDoc::NormalClass (class)">::RDoc::NormalClass</a> type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L155-L155'># File 'lib/rdoc/parser/ruby.rb', line 155</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='SINGLE-constant' class='summary_signature'>SINGLE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="../SingleClass.html" title="RDoc::SingleClass (class)">::RDoc::SingleClass</a> type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L160-L160'># File 'lib/rdoc/parser/ruby.rb', line 160</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser.html#parsers-class_method" title="RDoc::Parser.parsers (method)">.parsers</a></td>
      <td><div class='inline'><p>An Array of arrays that maps file extension (or name) regular expressions to parser classes that will parse matching filenames.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(top_level, file_name, content, options, stats)  &#x21d2; Ruby </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>Ruby</code> parser.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#alias_extension-class_method" title="RDoc::Parser.alias_extension (method)">.alias_extension</a></td>
      <td><div class='inline'><p><a href="../Alias.html" title="RDoc::Alias (class)">::RDoc::Alias</a> an extension to another extension.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#binary%3F-class_method" title="RDoc::Parser.binary? (method)">.binary?</a></td>
      <td><div class='inline'><p>Determines if the file is a “binary” file which basically means it has content that an <a href="../RDoc.html" title="RDoc::RDoc (class)">::RDoc::RDoc</a> parser shouldn&#39;t try to consume.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#can_parse-class_method" title="RDoc::Parser.can_parse (method)">.can_parse</a></td>
      <td><div class='inline'><p>Return a parser that can handle a particular extension.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#can_parse_by_name-class_method" title="RDoc::Parser.can_parse_by_name (method)">.can_parse_by_name</a></td>
      <td><div class='inline'><p>Returns a parser that can handle the extension for <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#check_modeline-class_method" title="RDoc::Parser.check_modeline (method)">.check_modeline</a></td>
      <td><div class='inline'><p>Returns the file type from the modeline in <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#for-class_method" title="RDoc::Parser.for (method)">.for</a></td>
      <td><div class='inline'><p>Finds and instantiates the correct parser for the given <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a> and <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#new-class_method" title="RDoc::Parser.new (method)">.new</a></td>
      <td><div class='inline'><p>Creates a new <a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a> storing <code>top_level</code>, <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a>, <code>content</code>, <code>options</code> and <code>stats</code> in instance variables.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#parse_files_matching-class_method" title="RDoc::Parser.parse_files_matching (method)">.parse_files_matching</a></td>
      <td><div class='inline'><p>Record which file types this parser can understand.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#remove_modeline-class_method" title="RDoc::Parser.remove_modeline (method)">.remove_modeline</a></td>
      <td><div class='inline'><p>Removes an emacs-style modeline from the first line of the document.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#use_markup-class_method" title="RDoc::Parser.use_markup (method)">.use_markup</a></td>
      <td><div class='inline'><p>If there is a <code>markup: parser_name</code> comment at the front of the file, use it to determine the parser.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#zip%3F-class_method" title="RDoc::Parser.zip? (method)">.zip?</a></td>
      <td><div class='inline'><p>Checks if <code>file</code> is a zip file in disguise.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a></td>
      <td><div class='inline'><p>The name of the file being parsed.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#collect_first_comment-instance_method" title="#collect_first_comment (instance method)">#<strong>collect_first_comment</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Look for the first comment in a file that isn&#39;t a shebang line.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#error-instance_method" title="#error (instance method)">#<strong>error</strong>(msg)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Aborts with <code>msg</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_bool-instance_method" title="#get_bool (instance method)">#<strong>get_bool</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Looks for a true or false token.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_class_or_module-instance_method" title="#get_class_or_module (instance method)">#<strong>get_class_or_module</strong>(container, ignore_constants = false)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list note-list"><dt>Look for the name of a class of module (optionally with a leading 
<dd><dl class="rdoc-list note-list"><dt>or with 
<dd><p>separated named) and return the ultimate name, the associated container, and the given name (with the ::).</p></dd></dl></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_class_specification-instance_method" title="#get_class_specification (instance method)">#<strong>get_class_specification</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return a superclass, which can be either a constant of an expression.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_constant-instance_method" title="#get_constant (instance method)">#<strong>get_constant</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse a constant, which might be qualified by one or more class or module names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_constant_with_optional_parens-instance_method" title="#get_constant_with_optional_parens (instance method)">#<strong>get_constant_with_optional_parens</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get a constant that may be surrounded by parens.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_symbol_or_name-instance_method" title="#get_symbol_or_name (instance method)">#<strong>get_symbol_or_name</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts a name or symbol from the token stream.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#look_for_directives_in-instance_method" title="#look_for_directives_in (instance method)">#<strong>look_for_directives_in</strong>(container, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Look for directives in a normal comment block:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#make_message-instance_method" title="#make_message (instance method)">#<strong>make_message</strong>(message)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds useful info about the parser to <code>message</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new_comment-instance_method" title="#new_comment (instance method)">#<strong>new_comment</strong>(comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a comment with the correct format.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_alias-instance_method" title="#parse_alias (instance method)">#<strong>parse_alias</strong>(context, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses an <code>alias</code> in <code>context</code> with <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_attr-instance_method" title="#parse_attr (instance method)">#<strong>parse_attr</strong>(context, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> for the name following <code>tk</code>, setting the comment to <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_attr_accessor-instance_method" title="#parse_attr_accessor (instance method)">#<strong>parse_attr_accessor</strong>(context, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> for each attribute listed after <code>tk</code>, setting the comment for each to <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_call_parameters-instance_method" title="#parse_call_parameters (instance method)">#<strong>parse_call_parameters</strong>(tk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts call parameters from the token stream.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_class-instance_method" title="#parse_class (instance method)">#<strong>parse_class</strong>(container, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a class in <code>context</code> with <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_comment-instance_method" title="#parse_comment (instance method)">#<strong>parse_comment</strong>(container, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generates an <code>RDoc::Method</code> or <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> from <code>comment</code> by looking for :method: or :attr: directives in <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_comment_tomdoc-instance_method" title="#parse_comment_tomdoc (instance method)">#<strong>parse_comment_tomdoc</strong>(container, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an <code>RDoc::Method</code> on <code>container</code> from <code>comment</code> if there is a Signature section in the comment.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_constant-instance_method" title="#parse_constant (instance method)">#<strong>parse_constant</strong>(container, tk, comment, ignore_constants = false)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a constant in <code>context</code> with <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_constant_visibility-instance_method" title="#parse_constant_visibility (instance method)">#<strong>parse_constant_visibility</strong>(container, single, tk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a <code>Module#private_constant</code> or <code>Module#public_constant</code> call from <code>tk</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_meta_attr-instance_method" title="#parse_meta_attr (instance method)">#<strong>parse_meta_attr</strong>(context, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a meta-programmed attribute and creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_meta_method-instance_method" title="#parse_meta_method (instance method)">#<strong>parse_meta_method</strong>(container, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a meta-programmed method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method-instance_method" title="#parse_method (instance method)">#<strong>parse_method</strong>(container, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a normal method defined by <code>def</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method_dummy-instance_method" title="#parse_method_dummy (instance method)">#<strong>parse_method_dummy</strong>(container)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a method that needs to be ignored.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method_or_yield_parameters-instance_method" title="#parse_method_or_yield_parameters (instance method)">#<strong>parse_method_or_yield_parameters</strong>(method = nil, modifiers = RDoc::METHOD_MODIFIERS)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts <code>yield</code> parameters from <code>method</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method_parameters-instance_method" title="#parse_method_parameters (instance method)">#<strong>parse_method_parameters</strong>(method)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Capture the method&#39;s parameters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method_params_and_body-instance_method" title="#parse_method_params_and_body (instance method)">#<strong>parse_method_params_and_body</strong>(container, single, meth, added_container)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses the parameters and body of <code>meth</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_module-instance_method" title="#parse_module (instance method)">#<strong>parse_module</strong>(container, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses an <a href="../NormalModule.html" title="RDoc::NormalModule (class)">::RDoc::NormalModule</a> in <code>container</code> with <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_require-instance_method" title="#parse_require (instance method)">#<strong>parse_require</strong>(context, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses an <a href="../Require.html" title="RDoc::Require (class)">::RDoc::Require</a> in <code>context</code> containing <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_rescue-instance_method" title="#parse_rescue (instance method)">#<strong>parse_rescue</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a rescue.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_statements-instance_method" title="#parse_statements (instance method)">#<strong>parse_statements</strong>(container, single = NORMAL, current_method = nil, comment = new_comment(&#39;&#39;))  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The core of the <code>Ruby</code> parser.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_symbol_arg-instance_method" title="#parse_symbol_arg (instance method)">#<strong>parse_symbol_arg</strong>(no = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse up to <code>no</code> symbol arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_symbol_in_arg-instance_method" title="#parse_symbol_in_arg (instance method)">#<strong>parse_symbol_in_arg</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns symbol text from the next token.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_top_level_statements-instance_method" title="#parse_top_level_statements (instance method)">#<strong>parse_top_level_statements</strong>(container)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses statements in the top-level <code>container</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_visibility-instance_method" title="#parse_visibility (instance method)">#<strong>parse_visibility</strong>(container, single, tk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Determines the visibility in <code>container</code> from <code>tk</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_yield-instance_method" title="#parse_yield (instance method)">#<strong>parse_yield</strong>(context, single, tk, method)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Determines the block parameter for <code>context</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#read_directive-instance_method" title="#read_directive (instance method)">#<strong>read_directive</strong>(allowed)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Directives are modifier comments that can appear after class, module, or method names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#read_documentation_modifiers-instance_method" title="#read_documentation_modifiers (instance method)">#<strong>read_documentation_modifiers</strong>(context, allowed)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Handles directives following the definition for <code>context</code> (any <a href="../CodeObject.html" title="RDoc::CodeObject (class)">::RDoc::CodeObject</a>) if the directives are <code>allowed</code> at this point.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Scans this <code>Ruby</code> file for <code>Ruby</code> constructs.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_for_variable-instance_method" title="#skip_for_variable (instance method)">#<strong>skip_for_variable</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>skip the var [in] part of a &#39;for&#39; statement.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_method-instance_method" title="#skip_method (instance method)">#<strong>skip_method</strong>(container)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Skips the next method in <code>container</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_optional_do_after_expression-instance_method" title="#skip_optional_do_after_expression (instance method)">#<strong>skip_optional_do_after_expression</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>while, until, and for have an optional do.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_tkspace_comment-instance_method" title="#skip_tkspace_comment (instance method)">#<strong>skip_tkspace_comment</strong>(skip_nl = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Skip spaces until a comment is found.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tk_nl%3F-instance_method" title="#tk_nl? (instance method)">#<strong>tk_nl?</strong>(tk)  &#x21d2; Boolean </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#warn-instance_method" title="#warn (instance method)">#<strong>warn</strong>(message)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prints <code>message</code> to <tt>$stderr</tt> unless we&#39;re being quiet.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#consume_trailing_spaces-instance_method" title="#consume_trailing_spaces (instance method)">#<strong>consume_trailing_spaces</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Consumes trailing whitespace from the token stream.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#create_attr-instance_method" title="#create_attr (instance method)">#<strong>create_attr</strong>(container, single, name, rw, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new attribute in <code>container</code> with <code>name</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#create_module_alias-instance_method" title="#create_module_alias (instance method)">#<strong>create_module_alias</strong>(container, constant, rhs_name)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a module alias in <code>container</code> at <code>rhs_name</code> (or at the top-level for “::”) with the name from <code>constant</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#get_end_token-instance_method" title="#get_end_token (instance method)">#<strong>get_end_token</strong>(tk)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Little hack going on here.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#get_method_container-instance_method" title="#get_method_container (instance method)">#<strong>get_method_container</strong>(container, name_t)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Retrieves the method container for a singleton method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#get_tkread_clean-instance_method" title="#get_tkread_clean (instance method)">#<strong>get_tkread_clean</strong>(pattern, replacement)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Retrieves the read token stream and replaces <code>pattern</code> with <code>replacement</code> using gsub.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#get_visibility_information-instance_method" title="#get_visibility_information (instance method)">#<strong>get_visibility_information</strong>(tk, single)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts the visibility information for the visibility token <code>tk</code> and <code>single</code> class type identifier.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_class_regular-instance_method" title="#parse_class_regular (instance method)">#<strong>parse_class_regular</strong>(container, declaration_context, single, name_t, given_name, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses and creates a regular class.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_class_singleton-instance_method" title="#parse_class_singleton (instance method)">#<strong>parse_class_singleton</strong>(container, name, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a singleton class in <code>container</code> with the given <code>name</code> and <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_comment_attr-instance_method" title="#parse_comment_attr (instance method)">#<strong>parse_comment_attr</strong>(container, type, name, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse a comment that is describing an attribute in <code>container</code> with the given <code>name</code> and <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_comment_ghost-instance_method" title="#parse_comment_ghost (instance method)">#<strong>parse_comment_ghost</strong>(container, text, name, column, line_no, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_constant_body-instance_method" title="#parse_constant_body (instance method)">#<strong>parse_constant_body</strong>(container, constant, is_array_or_hash)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_extend_or_include-instance_method" title="#parse_extend_or_include (instance method)">#<strong>parse_extend_or_include</strong>(klass, container, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses an <code>include</code> or <code>extend</code>, indicated by the <code>klass</code> and adds it to <code>container</code> # with <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_identifier-instance_method" title="#parse_identifier (instance method)">#<strong>parse_identifier</strong>(container, single, tk, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses identifiers that can create new methods or change visibility.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_meta_method_name-instance_method" title="#parse_meta_method_name (instance method)">#<strong>parse_meta_method_name</strong>(comment, tk)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses the name of a metaprogrammed method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_meta_method_params-instance_method" title="#parse_meta_method_params (instance method)">#<strong>parse_meta_method_params</strong>(container, single, meth, tk, comment)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses the parameters and block for a meta-programmed method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_method_name-instance_method" title="#parse_method_name (instance method)">#<strong>parse_method_name</strong>(container)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses the name of a method in <code>container</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_method_name_regular-instance_method" title="#parse_method_name_regular (instance method)">#<strong>parse_method_name_regular</strong>(container, name_t)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>For the given <code>container</code> and initial name token <code>name_t</code> the method name is parsed from the token stream for a regular method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_method_name_singleton-instance_method" title="#parse_method_name_singleton (instance method)">#<strong>parse_method_name_singleton</strong>(container, name_t)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>For the given <code>container</code> and initial name token <code>name_t</code> the method name and the new <code>container</code> (if necessary) are parsed from the token stream for a singleton method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_symbol_arg_paren-instance_method" title="#parse_symbol_arg_paren (instance method)">#<strong>parse_symbol_arg_paren</strong>(no)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses up to <code>no</code> symbol arguments surrounded by () and places them in <code>args</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_symbol_arg_space-instance_method" title="#parse_symbol_arg_space (instance method)">#<strong>parse_symbol_arg_space</strong>(no, tk)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses up to <code>no</code> symbol arguments separated by spaces and places them in <code>args</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#record_location-instance_method" title="#record_location (instance method)">#<strong>record_location</strong>(container)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Records the location of this <code>container</code> in the file for this parser and adds it to the list of classes and modules in the file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#suppress_parents-instance_method" title="#suppress_parents (instance method)">#<strong>suppress_parents</strong>(container, ancestor)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Marks containers between <code>container</code> and <code>ancestor</code> as ignored.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#update_visibility-instance_method" title="#update_visibility (instance method)">#<strong>update_visibility</strong>(container, vis_type, vis, singleton)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Updates visibility in <code>container</code> from <code>vis_type</code> and <code>vis</code>.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="RubyTools.html" title="RDoc::Parser::RubyTools (module)">RubyTools</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#add_token_listener-instance_method" title="RDoc::Parser::RubyTools#add_token_listener (method)">#add_token_listener</a></td>
      <td><div class='inline'><p>Adds a token listener <code>obj</code>, but you should probably use token_listener.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#get_tk-instance_method" title="RDoc::Parser::RubyTools#get_tk (method)">#get_tk</a></td>
      <td><div class='inline'><p>Fetches the next token from the scanner.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#get_tk_until-instance_method" title="RDoc::Parser::RubyTools#get_tk_until (method)">#get_tk_until</a></td>
      <td><div class='inline'><p>Reads and returns all tokens up to one of <code>tokens</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#get_tkread-instance_method" title="RDoc::Parser::RubyTools#get_tkread (method)">#get_tkread</a></td>
      <td><div class='inline'><p>Retrieves a String representation of the read tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#peek_read-instance_method" title="RDoc::Parser::RubyTools#peek_read (method)">#peek_read</a></td>
      <td><div class='inline'><p>Peek equivalent for get_tkread.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#peek_tk-instance_method" title="RDoc::Parser::RubyTools#peek_tk (method)">#peek_tk</a></td>
      <td><div class='inline'><p>Peek at the next token, but don&#39;t remove it from the stream.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#remove_token_listener-instance_method" title="RDoc::Parser::RubyTools#remove_token_listener (method)">#remove_token_listener</a></td>
      <td><div class='inline'><p>Removes the token listener <code>obj</code></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#reset-instance_method" title="RDoc::Parser::RubyTools#reset (method)">#reset</a></td>
      <td><div class='inline'><p>Resets the tools.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#skip_tkspace-instance_method" title="RDoc::Parser::RubyTools#skip_tkspace (method)">#skip_tkspace</a></td>
      <td><div class='inline'><p>Skips whitespace tokens including newlines if <code>skip_nl</code> is true.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="RubyTools.html#tk_nl%3F-instance_method" title="RDoc::Parser::RubyTools#tk_nl? (method)">#tk_nl?</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#token_listener-instance_method" title="RDoc::Parser::RubyTools#token_listener (method)">#token_listener</a></td>
      <td><div class='inline'><p>Has <code>obj</code> listen to tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#unget_tk-instance_method" title="RDoc::Parser::RubyTools#unget_tk (method)">#unget_tk</a></td>
      <td><div class='inline'><p>Returns <code>tk</code> to the scanner.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../TokenStream.html" title="RDoc::TokenStream (module)">::RDoc::TokenStream</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#add_token-instance_method" title="RDoc::TokenStream#add_token (method)">#add_token</a></td>
      <td><div class='inline'><p><a href="../Alias.html" title="RDoc::Alias (class)">::RDoc::Alias</a> for <a href="../TokenStream.html#add_tokens-instance_method" title="RDoc::TokenStream#add_tokens (method)">TokenStream#add_tokens</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#add_tokens-instance_method" title="RDoc::TokenStream#add_tokens (method)">#add_tokens</a></td>
      <td><div class='inline'><p>Adds <code>tokens</code> to the collected tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#collect_tokens-instance_method" title="RDoc::TokenStream#collect_tokens (method)">#collect_tokens</a></td>
      <td><div class='inline'><p>Starts collecting tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#pop_token-instance_method" title="RDoc::TokenStream#pop_token (method)">#pop_token</a></td>
      <td><div class='inline'><p>Remove the last token from the collected tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#start_collecting_tokens-instance_method" title="RDoc::TokenStream#start_collecting_tokens (method)">#start_collecting_tokens</a></td>
      <td><div class='inline'><p><a href="../Alias.html" title="RDoc::Alias (class)">::RDoc::Alias</a> for <a href="../TokenStream.html#collect_tokens-instance_method" title="RDoc::TokenStream#collect_tokens (method)">TokenStream#collect_tokens</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#token_stream-instance_method" title="RDoc::TokenStream#token_stream (method)">#token_stream</a></td>
      <td><div class='inline'><p>Current token stream.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#tokens_to_s-instance_method" title="RDoc::TokenStream#tokens_to_s (method)">#tokens_to_s</a></td>
      <td><div class='inline'><p>Returns a string representation of the token stream.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(top_level, file_name, content, options, stats)  &#x21d2; <code>Ruby</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>Ruby</code> parser.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L165-L189'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='165' data-end='189'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 165</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_top_level'>top_level</span><span class='comma'>,</span> <span class='id identifier rubyid_file_name'><a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">file_name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_stats'>stats</span>)
  <span class='kw'>super</span>

  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\t</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_content'>content</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_tab_width'>tab_width</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_tab_width'>tab_width</span>
    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='id identifier rubyid_content'>content</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
      <span class='int'>1</span> <span class='kw'>while</span> <span class='id identifier rubyid_line'>line</span>.<span class='id identifier rubyid_gsub!'>gsub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\t+</span><span class='regexp_end'>/</span></span>) {
        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> (<span class='id identifier rubyid_tab_width'>tab_width</span><span class='op'>*</span><span class='backref'>$&amp;</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='backref'>$`</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>%</span> <span class='id identifier rubyid_tab_width'>tab_width</span>)
      }  <span class='op'>&amp;&amp;</span> <span class='gvar'>$~</span>
      <span class='id identifier rubyid_line'>line</span>
    <span class='kw'>end</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>

  <span class='ivar'>@size</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@token_listeners</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@scanner</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span>.<span class='id identifier rubyid_parse'>parse</span>(<span class='id identifier rubyid_content'>content</span>)
  <span class='ivar'>@content</span> <span class='op'>=</span> <span class='id identifier rubyid_content'>content</span>
  <span class='ivar'>@scanner_point</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@prev_seek</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@markup</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_markup'>markup</span>
  <span class='ivar'>@track_visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_nodoc'>nodoc</span> <span class='op'>!=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_visibility'>visibility</span>
  <span class='ivar'>@encoding</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_encoding'>encoding</span>

  <span class='id identifier rubyid_reset'>reset</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="collect_first_comment-instance_method">
  <h3 class='signature  first'>
    #<strong>collect_first_comment</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Look for the first comment in a file that isn&#39;t a shebang line.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L241-L276'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='241' data-end='276'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 241</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collect_first_comment'>collect_first_comment</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Encoding.html" title="RDoc::Encoding (module)">Encoding</a></span>.<span class='id identifier rubyid_change_encoding'>change_encoding</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@encoding</span> <span class='kw'>if</span> <span class='ivar'>@encoding</span>
  <span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_first_comment_tk_kind'>first_comment_tk_kind</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>&amp;&amp;</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>])
    <span class='kw'>if</span> <span class='id identifier rubyid_first_line'>first_line</span> <span class='kw'>and</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#!</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
      <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_first_line'>first_line</span> <span class='kw'>and</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#\s*-\*-</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
      <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='kw'>else</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_first_comment_tk_kind'>first_comment_tk_kind</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_first_comment_tk_kind'>first_comment_tk_kind</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
      <span class='id identifier rubyid_first_comment_tk_kind'>first_comment_tk_kind</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]

      <span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_comment'>comment</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
      <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

      <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
        <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='id identifier rubyid_new_comment'><a href="#new_comment-instance_method" title="RDoc::Parser::Ruby#new_comment (method)">new_comment</a></span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="consume_trailing_spaces-instance_method">
  <h3 class='signature nodoc'>
    #<strong>consume_trailing_spaces</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Consumes trailing whitespace from the token stream</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L281-L283'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='281' data-end='283'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 281</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_consume_trailing_spaces'>consume_trailing_spaces</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_attr-instance_method">
  <h3 class='signature nodoc'>
    #<strong>create_attr</strong>(container, single, name, rw, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new attribute in <code>container</code> with <code>name</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L288-L296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='288' data-end='296'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 288</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create_attr'>create_attr</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Attr.html" title="RDoc::Attr (class)">Attr</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span> <span class='op'>==</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_att'>att</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span> <span class='id identifier rubyid_att'>att</span>
  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span> <span class='id identifier rubyid_att'>att</span>

  <span class='id identifier rubyid_att'>att</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create_module_alias-instance_method">
  <h3 class='signature nodoc'>
    #<strong>create_module_alias</strong>(container, constant, rhs_name)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a module alias in <code>container</code> at <code>rhs_name</code> (or at the top-level for “::”) with the name from <code>constant</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L302-L310'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='302' data-end='310'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 302</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create_module_alias'>create_module_alias</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_constant'>constant</span><span class='comma'>,</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
          <span class='ivar'>@store</span>.<span class='id identifier rubyid_find_class_or_module'>find_class_or_module</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span>
        <span class='kw'>end</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_module_alias'>add_module_alias</span> <span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='id identifier rubyid_constant'>constant</span>.<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='ivar'>@top_level</span> <span class='kw'>if</span> <span class='id identifier rubyid_mod'>mod</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="error-instance_method">
  <h3 class='signature '>
    #<strong>error</strong>(msg)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Aborts with <code>msg</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L315-L319'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='315' data-end='319'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 315</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_error'>error</span>(<span class='id identifier rubyid_msg'>msg</span>)
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='id identifier rubyid_make_message'><a href="#make_message-instance_method" title="RDoc::Parser::Ruby#make_message (method)">make_message</a></span> <span class='id identifier rubyid_msg'>msg</span>

  <span class='id identifier rubyid_abort'>abort</span> <span class='id identifier rubyid_msg'>msg</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_bool-instance_method">
  <h3 class='signature '>
    #<strong>get_bool</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Looks for a true or false token.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L324-L335'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='324' data-end='335'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 324</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_bool'>get_bool</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>true</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> (<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>false</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nil</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>])
    <span class='kw'>false</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_class_or_module-instance_method">
  <h3 class='signature '>
    #<strong>get_class_or_module</strong>(container, ignore_constants = false)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list note-list"><dt>Look for the name of a class of module (optionally with a leading 
<dd>
<p>or</p>
</dd><dt>with 
<dd>
<p>separated named) and return the ultimate name, the associated</p>
</dd></dl>

<p>container, and the given name (with the ::).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L342-L389'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='342' data-end='389'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 342</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_class_or_module'>get_class_or_module</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_constants'>ignore_constants</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='id identifier rubyid_name_t'>name_t</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_dup'>dup</span>

  <span class='comment'># class ::A -&gt; A is in the top level
</span>  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>and</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='kw'>then</span> <span class='comment'># bug
</span>    <span class='id identifier rubyid_name_t'>name_t</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='ivar'>@top_level</span>
    <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]

  <span class='id identifier rubyid_is_self'>is_self</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;&lt;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_is_self'>is_self</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>) <span class='kw'>and</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>and</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='kw'>do</span>
    <span class='id identifier rubyid_prev_container'>prev_container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='id identifier rubyid_container'>container</span> <span class='op'>||=</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_ignore_constants'>ignore_constants</span> <span class='kw'>then</span>
        <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Context.html" title="RDoc::Context (class)">Context</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_prev_container'>prev_container</span>.<span class='id identifier rubyid_add_module'>add_module</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
        <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_ignore'>ignore</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prev_container'>prev_container</span>.<span class='id identifier rubyid_document_children'>document_children</span>
        <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_to_classes_or_modules'>add_to_classes_or_modules</span> <span class='id identifier rubyid_c'>c</span>
        <span class='id identifier rubyid_c'>c</span>
      <span class='kw'>end</span>

    <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_container'>container</span>

    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_name_t'>name_t</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='kw'>unless</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_const'>on_const</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ident'>on_ident</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid class or module definition: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_given_name'>given_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_prev_container'>prev_container</span> <span class='op'>==</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_ignore_constants'>ignore_constants</span>
      <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='kw'>else</span>
      <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='kw'>return</span> [<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='id identifier rubyid_given_name'>given_name</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_class_specification-instance_method">
  <h3 class='signature '>
    #<strong>get_class_specification</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return a superclass, which can be either a constant of an expression</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L394-L421'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='394' data-end='421'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 394</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_class_specification'>get_class_specification</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>self</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>self</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_gvar'>on_gvar</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_get_constant'><a href="#get_constant-instance_method" title="RDoc::Parser::Ruby#get_constant (method)">get_constant</a></span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_get_tkread'>get_tkread</span> <span class='comment'># empty out read buffer
</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_res'>res</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_semicolon'>on_semicolon</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>+=</span> <span class='id identifier rubyid_parse_call_parameters'><a href="#parse_call_parameters-instance_method" title="RDoc::Parser::Ruby#parse_call_parameters (method)">parse_call_parameters</a></span>(<span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_constant-instance_method">
  <h3 class='signature '>
    #<strong>get_constant</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse a constant, which might be qualified by one or more class or module names</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L427-L439'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='427' data-end='439'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 427</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_constant'>get_constant</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>&amp;&amp;</span> ((<span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]) <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_const'>on_const</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='kw'>do</span>
    <span class='id identifier rubyid_res'>res</span> <span class='op'>+=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_constant_with_optional_parens-instance_method">
  <h3 class='signature '>
    #<strong>get_constant_with_optional_parens</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get a constant that may be surrounded by parens</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L444-L464'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='444' data-end='464'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 444</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_constant_with_optional_parens'>get_constant_with_optional_parens</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='kw'>while</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span> <span class='op'>==</span> (<span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>)[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>do</span>
    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
    <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_constant'><a href="#get_constant-instance_method" title="RDoc::Parser::Ruby#get_constant (method)">get_constant</a></span>

  <span class='kw'>while</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_end_token-instance_method">
  <h3 class='signature nodoc'>
    #<strong>get_end_token</strong>(tk)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Little hack going on here. In the statement:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='int'>2</span><span class='op'>*</span>(<span class='int'>1</span><span class='op'>+</span><span class='kw'>yield</span>)</code></pre>

<p>We see the RPAREN as the next token, so we need to exit early.  This still won&#39;t catch all cases (such as “a = yield + 1”</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L474-L489'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='474' data-end='489'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 474</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_end_token'>get_end_token</span> <span class='id identifier rubyid_tk'>tk</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span>
    {
      <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>)</span><span class='tstring_end'>&#39;</span></span>
    }
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span>
    <span class='kw'>nil</span>
  <span class='kw'>else</span>
    {
      <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_method_container-instance_method">
  <h3 class='signature nodoc'>
    #<strong>get_method_container</strong>(container, name_t)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Retrieves the method container for a singleton method.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L494-L532'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='494' data-end='532'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 494</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_method_container'>get_method_container</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_prev_container'>prev_container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span>(<span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>])

  <span class='kw'>unless</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_constant'>constant</span> <span class='op'>=</span> <span class='id identifier rubyid_prev_container'>prev_container</span>.<span class='id identifier rubyid_constants'>constants</span>.<span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_const'>const</span><span class='op'>|</span>
      <span class='id identifier rubyid_const'>const</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_constant'>constant</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_method_dummy'><a href="#parse_method_dummy-instance_method" title="RDoc::Parser::Ruby#parse_method_dummy (method)">parse_method_dummy</a></span> <span class='id identifier rubyid_prev_container'>prev_container</span>
      <span class='kw'>return</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>then</span>
    <span class='comment'># TODO seems broken, should starting at Object in @store
</span>    <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>].<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_inject'>inject</span>(<span class='const'>Object</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_state'>state</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
      <span class='id identifier rubyid_state'>state</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_item'>item</span>)
    <span class='kw'>end</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>

    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>Class</span> <span class='op'>?</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalClass.html" title="RDoc::NormalClass (class)">NormalClass</a></span> <span class='op'>:</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span>

    <span class='kw'>unless</span> [<span class='const'>Class</span><span class='comma'>,</span> <span class='const'>Module</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_class'>class</span>) <span class='kw'>then</span>
      <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Couldn&#39;t find </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>. Assuming it&#39;s a module</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalClass.html" title="RDoc::NormalClass (class)">NormalClass</a></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_sclass'>sclass</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>?</span> <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_superclass'>superclass</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>:</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_prev_container'>prev_container</span>.<span class='id identifier rubyid_add_class'>add_class</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]<span class='comma'>,</span> <span class='id identifier rubyid_sclass'>sclass</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_prev_container'>prev_container</span>.<span class='id identifier rubyid_add_module'>add_module</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='kw'>end</span>

    <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_container'>container</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_container'>container</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_symbol_or_name-instance_method">
  <h3 class='signature '>
    #<strong>get_symbol_or_name</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts a name or symbol from the token stream.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L537-L557'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='537' data-end='557'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 537</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_symbol_or_name'>get_symbol_or_name</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_symbol'>on_symbol</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>].<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^:</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)

    <span class='id identifier rubyid_next_tk'>next_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_next_tk'>next_tk</span> <span class='op'>&amp;&amp;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_next_tk'>next_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_next_tk'>next_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='kw'>then</span>
      <span class='id identifier rubyid_get_tk'>get_tk</span>
      <span class='id identifier rubyid_text'>text</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_text'>text</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ident'>on_ident</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_const'>on_const</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_gvar'>on_gvar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_cvar'>on_cvar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ivar'>on_ivar</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_tstring'>on_tstring</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_dstring'>on_dstring</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>][<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name or symbol expected (got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk'>tk</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_tkread_clean-instance_method">
  <h3 class='signature nodoc'>
    #<strong>get_tkread_clean</strong>(pattern, replacement)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Retrieves the read token stream and replaces <code>pattern</code> with <code>replacement</code> using gsub.  If the result is only a “;” returns an empty string.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L199-L203'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='199' data-end='203'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 199</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_tkread_clean'>get_tkread_clean</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_replacement'>replacement</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_read'>read</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tkread'>get_tkread</span>.<span class='id identifier rubyid_gsub'>gsub</span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_replacement'>replacement</span>).<span class='id identifier rubyid_strip'>strip</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_read'>read</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_read'>read</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_visibility_information-instance_method">
  <h3 class='signature nodoc'>
    #<strong>get_visibility_information</strong>(tk, single)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts the visibility information for the visibility token <code>tk</code> and <code>single</code> class type identifier.</p>

<p>Returns the visibility type (a string), the visibility (a symbol) and <code>singleton</code> if the methods following should be converted to singleton methods.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L213-L236'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='213' data-end='236'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 213</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_visibility_information'>get_visibility_information</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_vis_type'>vis_type</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_single'>single</span> <span class='op'>==</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span>

  <span class='id identifier rubyid_vis'>vis</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_vis_type'>vis_type</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private</span><span class='tstring_end'>&#39;</span></span>   <span class='kw'>then</span> <span class='symbeg'>:</span><span class='id identifier rubyid_private'>private</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>protected</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span> <span class='symbeg'>:</span><span class='id identifier rubyid_protected'>protected</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>public</span><span class='tstring_end'>&#39;</span></span>    <span class='kw'>then</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private_class_method</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='symbeg'>:</span><span class='id identifier rubyid_private'>private</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>public_class_method</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>module_function</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid visibility: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_vis_type'>vis_type</span><span class='comma'>,</span> <span class='id identifier rubyid_vis'>vis</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="look_for_directives_in-instance_method">
  <h3 class='signature '>
    #<strong>look_for_directives_in</strong>(container, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Look for directives in a normal comment block:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># :stopdoc:
</span><span class='comment'># Don&#39;t display comment from this point forward</span></code></pre>

<p>This routine modifies its <code>comment</code> parameter.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L577-L592'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='577' data-end='592'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 577</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_look_for_directives_in'>look_for_directives_in</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='ivar'>@preprocess</span>.<span class='id identifier rubyid_handle'>handle</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_directive'>directive</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>singleton-method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_accessor</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='kw'>false</span> <span class='comment'># handled elsewhere
</span>    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>section</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span>(<span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Context.html" title="RDoc::Context (class)">Context</a></span>)
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_set_current_section'>set_current_section</span> <span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_remove_private'>remove_private</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="make_message-instance_method">
  <h3 class='signature '>
    #<strong>make_message</strong>(message)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds useful info about the parser to <code>message</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L597-L604'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='597' data-end='604'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 597</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_make_message'>make_message</span> <span class='id identifier rubyid_message'>message</span>
  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_dup'>dup</span>

  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new_comment-instance_method">
  <h3 class='signature '>
    #<strong>new_comment</strong>(comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a comment with the correct format</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L609-L613'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='609' data-end='613'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 609</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new_comment'>new_comment</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Comment.html" title="RDoc::Comment (class)">Comment</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@top_level</span>
  <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='ivar'>@markup</span>
  <span class='id identifier rubyid_c'>c</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_alias-instance_method">
  <h3 class='signature '>
    #<strong>parse_alias</strong>(context, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses an <code>alias</code> in <code>context</code> with <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L677-L711'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='677' data-end='711'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 677</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_alias'>parse_alias</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>

  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new_name'>new_name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_symbol_or_name'><a href="#get_symbol_or_name-instance_method" title="RDoc::Parser::Ruby#get_symbol_or_name (method)">get_symbol_or_name</a></span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comma'>on_comma</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='kw'>end</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_old_name'>old_name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_symbol_or_name'><a href="#get_symbol_or_name-instance_method" title="RDoc::Parser::Ruby#get_symbol_or_name (method)">get_symbol_or_name</a></span>
  <span class='kw'>rescue</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_al'>al</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Alias.html" title="RDoc::Alias (class)">Alias</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>(<span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span>
                       <span class='id identifier rubyid_single'>single</span> <span class='op'>==</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span>)
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_al'>al</span>
  <span class='id identifier rubyid_al'>al</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_al'>al</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#ATTR_MODIFIERS-constant" title="RDoc::ATTR_MODIFIERS (constant)">ATTR_MODIFIERS</a></span>
  <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_add_alias'>add_alias</span> <span class='id identifier rubyid_al'>al</span>
  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_alias'>add_alias</span> <span class='id identifier rubyid_al'>al</span>

  <span class='id identifier rubyid_al'>al</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_attr-instance_method">
  <h3 class='signature '>
    #<strong>parse_attr</strong>(context, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> for the name following <code>tk</code>, setting the comment to <code>comment</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L619-L642'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='619' data-end='642'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 619</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_attr'>parse_attr</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span> <span class='int'>1</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
    <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

    <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comma'>on_comma</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
      <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RW</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_get_bool'><a href="#get_bool-instance_method" title="RDoc::Parser::Ruby#get_bool (method)">get_bool</a></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='id identifier rubyid_att'>att</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

    <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_att'>att</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#ATTR_MODIFIERS-constant" title="RDoc::ATTR_MODIFIERS (constant)">ATTR_MODIFIERS</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;attr&#39; ignored - looks like a variable</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_attr_accessor-instance_method">
  <h3 class='signature '>
    #<strong>parse_attr_accessor</strong>(context, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> for each attribute listed after <code>tk</code>, setting the comment for each to <code>comment</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L648-L672'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='648' data-end='672'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 648</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_attr_accessor'>parse_attr_accessor</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span>
  <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../CodeObject.html" title="RDoc::CodeObject (class)">CodeObject</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>
  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_tmp'>tmp</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#ATTR_MODIFIERS-constant" title="RDoc::ATTR_MODIFIERS (constant)">ATTR_MODIFIERS</a></span>
  <span class='comment'># TODO In most other places we let the context keep track of document_self
</span>  <span class='comment'># and add found items appropriately but here we do not.  I&#39;m not sure why.
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@track_visibility</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_tmp'>tmp</span>.<span class='id identifier rubyid_document_self'>document_self</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&quot;</span></span>   <span class='kw'>then</span> <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&quot;</span></span>   <span class='kw'>then</span> <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>W</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>attr_accessor</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RW</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>?</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>for</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>in</span> <span class='id identifier rubyid_args'>args</span>
    <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='id identifier rubyid_att'>att</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_call_parameters-instance_method">
  <h3 class='signature '>
    #<strong>parse_call_parameters</strong>(tk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts call parameters from the token stream.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L716-L754'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='716' data-end='754'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 716</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_call_parameters'>parse_call_parameters</span>(<span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
              <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span>
                <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span>
              <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span>
                <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
              <span class='kw'>else</span>
                <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span>
              <span class='kw'>end</span>
  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_semicolon'>on_semicolon</span>
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_end_token'>end_token</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span>.<span class='id identifier rubyid_end?'>end?</span>(<span class='id identifier rubyid_tk'>tk</span>) <span class='kw'>and</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
      <span class='kw'>else</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span>.<span class='id identifier rubyid_end?'>end?</span>(<span class='id identifier rubyid_tk'>tk</span>)
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>)
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(.{1,2})?=$</span><span class='regexp_end'>/</span></span>
        <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>)
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_get_tkread_clean'><a href="#get_tkread_clean-instance_method" title="RDoc::Parser::Ruby#get_tkread_clean (method)">get_tkread_clean</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_class-instance_method">
  <h3 class='signature '>
    #<strong>parse_class</strong>(container, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a class in <code>context</code> with <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L759-L788'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='759' data-end='788'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 759</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_class'>parse_class</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_declaration_context'>declaration_context</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_or_module'><a href="#get_class_or_module-instance_method" title="RDoc::Parser::Ruby#get_class_or_module (method)">get_class_or_module</a></span> <span class='id identifier rubyid_container'>container</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_const'>on_const</span>
    <span class='id identifier rubyid_cls'>cls</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_class_regular'><a href="#parse_class_regular-instance_method" title="RDoc::Parser::Ruby#parse_class_regular (method)">parse_class_regular</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_declaration_context'>declaration_context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span>
      <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='id identifier rubyid_given_name'>given_name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;&lt;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>case</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_specification'><a href="#get_class_specification-instance_method" title="RDoc::Parser::Ruby#get_class_specification (method)">get_class_specification</a></span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>self</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_cls'>cls</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CLASS_MODIFIERS-constant" title="RDoc::CLASS_MODIFIERS (constant)">CLASS_MODIFIERS</a></span>
      <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span>
      <span class='kw'>return</span> <span class='comment'># don&#39;t update line
</span>    <span class='kw'>else</span>
      <span class='id identifier rubyid_cls'>cls</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_class_singleton'><a href="#parse_class_singleton-instance_method" title="RDoc::Parser::Ruby#parse_class_singleton (method)">parse_class_singleton</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected class name or &#39;&lt;&lt;&#39;. Got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>].<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_cls'>cls</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

  <span class='comment'># after end modifiers
</span>  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_cls'>cls</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CLASS_MODIFIERS-constant" title="RDoc::CLASS_MODIFIERS (constant)">CLASS_MODIFIERS</a></span>

  <span class='id identifier rubyid_cls'>cls</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_class_regular-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_class_regular</strong>(container, declaration_context, single, name_t, given_name, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses and creates a regular class</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L793-L827'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='793' data-end='827'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 793</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_class_regular'>parse_class_regular</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_declaration_context'>declaration_context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='comment'># :nodoc:
</span>                        <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='id identifier rubyid_given_name'>given_name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::Object</span><span class='tstring_end'>&#39;</span></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_declaration_context'>declaration_context</span> <span class='op'>=</span> <span class='ivar'>@top_level</span>
    <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
    <span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_specification'><a href="#get_class_specification-instance_method" title="RDoc::Parser::Ruby#get_class_specification (method)">get_class_specification</a></span>
    <span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>(unknown)</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_superclass'>superclass</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_cls_type'>cls_type</span> <span class='op'>=</span> <span class='id identifier rubyid_single'>single</span> <span class='op'>==</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span> <span class='op'>?</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../SingleClass.html" title="RDoc::SingleClass (class)">SingleClass</a></span> <span class='op'>:</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalClass.html" title="RDoc::NormalClass (class)">NormalClass</a></span>
  <span class='id identifier rubyid_cls'>cls</span> <span class='op'>=</span> <span class='id identifier rubyid_declaration_context'>declaration_context</span>.<span class='id identifier rubyid_add_class'>add_class</span> <span class='id identifier rubyid_cls_type'>cls_type</span><span class='comma'>,</span> <span class='id identifier rubyid_given_name'>given_name</span><span class='comma'>,</span> <span class='id identifier rubyid_superclass'>superclass</span>
  <span class='id identifier rubyid_cls'>cls</span>.<span class='id identifier rubyid_ignore'>ignore</span> <span class='kw'>unless</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_children'>document_children</span>

  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_cls'>cls</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CLASS_MODIFIERS-constant" title="RDoc::CLASS_MODIFIERS (constant)">CLASS_MODIFIERS</a></span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_cls'>cls</span>

  <span class='id identifier rubyid_cls'>cls</span>.<span class='id identifier rubyid_add_comment'>add_comment</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@top_level</span>

  <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_to_classes_or_modules'>add_to_classes_or_modules</span> <span class='id identifier rubyid_cls'>cls</span>
  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_class'>add_class</span> <span class='id identifier rubyid_cls'>cls</span>

  <span class='id identifier rubyid_suppress_parents'><a href="#suppress_parents-instance_method" title="RDoc::Parser::Ruby#suppress_parents (method)">suppress_parents</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_declaration_context'>declaration_context</span> <span class='kw'>unless</span> <span class='id identifier rubyid_cls'>cls</span>.<span class='id identifier rubyid_document_self'>document_self</span>

  <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_cls'>cls</span>

  <span class='id identifier rubyid_cls'>cls</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_class_singleton-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_class_singleton</strong>(container, name, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a singleton class in <code>container</code> with the given <code>name</code> and <code>comment</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L833-L866'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='833' data-end='866'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 833</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_class_singleton'>parse_class_singleton</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='ivar'>@store</span>.<span class='id identifier rubyid_find_class_named'>find_class_named</span> <span class='id identifier rubyid_name'>name</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_other'>other</span> <span class='kw'>then</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='backref'>$&#39;</span>
      <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='ivar'>@top_level</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_module'>add_module</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_other'>other</span>

    <span class='comment'># class &lt;&lt; $gvar
</span>    <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_ignore'>ignore</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_add_comment'>add_comment</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@top_level</span>
  <span class='kw'>end</span>

  <span class='comment'># notify :nodoc: all if not a constant-named class/module
</span>  <span class='comment'># (and remove any comment)
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(::)?[A-Z]</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_document_self'>document_self</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_document_children'>document_children</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_clear_comment'>clear_comment</span>
  <span class='kw'>end</span>

  <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_to_classes_or_modules'>add_to_classes_or_modules</span> <span class='id identifier rubyid_other'>other</span>
  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_class'>add_class</span> <span class='id identifier rubyid_other'>other</span>

  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_other'>other</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CLASS_MODIFIERS-constant" title="RDoc::CLASS_MODIFIERS (constant)">CLASS_MODIFIERS</a></span>
  <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span>(<span class='id identifier rubyid_other'>other</span><span class='comma'>,</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span>)

  <span class='id identifier rubyid_other'>other</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_comment-instance_method">
  <h3 class='signature '>
    #<strong>parse_comment</strong>(container, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generates an <code>RDoc::Method</code> or <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> from <code>comment</code> by looking for :method: or :attr: directives in <code>comment</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L989-L1010'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='989' data-end='1010'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 989</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_comment'>parse_comment</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_parse_comment_tomdoc'><a href="#parse_comment_tomdoc-instance_method" title="RDoc::Parser::Ruby#parse_comment_tomdoc (method)">parse_comment_tomdoc</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>if</span> <span class='ivar'>@markup</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tomdoc</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_column'>column</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span>]
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^# +:?)(singleton-)(method:)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1\3</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='op'>!</span><span class='op'>!</span><span class='gvar'>$~</span>

  <span class='id identifier rubyid_co'>co</span> <span class='op'>=</span>
    <span class='kw'>if</span> (<span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^# +:?method: *(\S*).*?\n</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)) <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='op'>!</span><span class='gvar'>$~</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_comment_ghost'><a href="#parse_comment_ghost-instance_method" title="RDoc::Parser::Ruby#parse_comment_ghost (method)">parse_comment_ghost</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='id identifier rubyid_column'>column</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>elsif</span> (<span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'># +:?(attr(_reader|_writer|_accessor)?): *(\S*).*?\n</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)) <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='op'>!</span><span class='gvar'>$~</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_comment_attr'><a href="#parse_comment_attr-instance_method" title="RDoc::Parser::Ruby#parse_comment_attr (method)">parse_comment_attr</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$3</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_co'>co</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_co'>co</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_singleton'>singleton</span>
    <span class='id identifier rubyid_co'>co</span>.<span class='id identifier rubyid_line'>line</span>      <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='kw'>end</span>

  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_comment_attr-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_comment_attr</strong>(container, type, name, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse a comment that is describing an attribute in <code>container</code> with the given <code>name</code> and <code>comment</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1016-L1026'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1016' data-end='1026'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1016</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_comment_attr'>parse_comment_attr</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
       <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>
       <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>W</span><span class='tstring_end'>&#39;</span></span>
       <span class='kw'>else</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RW</span><span class='tstring_end'>&#39;</span></span>
       <span class='kw'>end</span>

  <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='const'><a href="#NORMAL-constant" title="RDoc::Parser::Ruby::NORMAL (constant)">NORMAL</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_comment_ghost-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_comment_ghost</strong>(container, text, name, column, line_no, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1028-L1061'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1028' data-end='1061'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1028</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_comment_ghost'>parse_comment_ghost</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_column'>column</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='comment'># :nodoc:
</span>                        <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../GhostMethod.html" title="RDoc::GhostMethod (class)">GhostMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_sp'>on_sp</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_column'>column</span> }
  <span class='id identifier rubyid_position_comment'>position_comment</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> }
  <span class='id identifier rubyid_position_comment'>position_comment</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># File </span><span class='embexpr_beg'>#{</span><span class='ivar'>@top_level</span>.<span class='id identifier rubyid_relative_name'>relative_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_newline'>newline</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> }
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> [<span class='id identifier rubyid_position_comment'>position_comment</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span>]

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^#\s+:?args?:\s*(.*?)\s*$</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>then</span>
      <span class='backref'>$1</span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_extract_call_seq'>extract_call_seq</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_comment_tomdoc-instance_method">
  <h3 class='signature '>
    #<strong>parse_comment_tomdoc</strong>(container, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an <code>RDoc::Method</code> on <code>container</code> from <code>comment</code> if there is a Signature section in the comment</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1067-L1096'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1067' data-end='1096'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1067</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_comment_tomdoc'>parse_comment_tomdoc</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_signature'>signature</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../TomDoc.html" title="RDoc::TomDoc (class)">TomDoc</a></span>.<span class='id identifier rubyid_signature'>signature</span>(<span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_column'>column</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span>]
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_signature'>signature</span>.<span class='id identifier rubyid_split'>split</span> <span class='tstring'><span class='regexp_beg'>%r%</span><span class='tstring_content'>[ \(]</span><span class='regexp_end'>%</span></span><span class='comma'>,</span> <span class='int'>2</span>

  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../GhostMethod.html" title="RDoc::GhostMethod (class)">GhostMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_line'>line</span>      <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_sp'>on_sp</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_column'>column</span> }
  <span class='id identifier rubyid_position_comment'>position_comment</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> }
  <span class='id identifier rubyid_position_comment'>position_comment</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># File </span><span class='embexpr_beg'>#{</span><span class='ivar'>@top_level</span>.<span class='id identifier rubyid_relative_name'>relative_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_newline'>newline</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> }
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> [<span class='id identifier rubyid_position_comment'>position_comment</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span>]

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_call_seq'>call_seq</span> <span class='op'>=</span> <span class='id identifier rubyid_signature'>signature</span>

  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_constant-instance_method">
  <h3 class='signature '>
    #<strong>parse_constant</strong>(container, tk, comment, ignore_constants = false)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a constant in <code>context</code> with <code>comment</code>.  If <code>ignore_constants</code> is true, no found constants will be added to <a href="../RDoc.html" title="RDoc::RDoc (class)">::RDoc::RDoc</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L872-L928'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='872' data-end='928'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 872</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_constant'>parse_constant</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_constants'>ignore_constants</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\w+$</span><span class='regexp_end'>/</span></span>

  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>

    <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_or_module'><a href="#get_class_or_module-instance_method" title="RDoc::Parser::Ruby#get_class_or_module (method)">get_class_or_module</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_constants'>ignore_constants</span>

    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='kw'>end</span>

  <span class='id identifier rubyid_is_array_or_hash'>is_array_or_hash</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span> <span class='op'>&amp;&amp;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lbracket'>on_lbracket</span> <span class='op'>==</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_bracket_tk'>bracket_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_bracket_tk'>bracket_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lbracket'>on_lbracket</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rbracket'>on_rbracket</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_is_array_or_hash'>is_array_or_hash</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span> <span class='op'>&amp;&amp;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='kw'>then</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_con'>con</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Constant.html" title="RDoc::Constant (class)">Constant</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_constant_body'><a href="#parse_constant_body-instance_method" title="RDoc::Parser::Ruby#parse_constant_body (method)">parse_constant_body</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_con'>con</span><span class='comma'>,</span> <span class='id identifier rubyid_is_array_or_hash'>is_array_or_hash</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_body'>body</span>

  <span class='id identifier rubyid_con'>con</span>.<span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_body'>body</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_con'>con</span>
  <span class='id identifier rubyid_con'>con</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_con'>con</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CONSTANT_MODIFIERS-constant" title="RDoc::CONSTANT_MODIFIERS (constant)">CONSTANT_MODIFIERS</a></span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_is_array_or_hash'>is_array_or_hash</span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_constant'>add_constant</span> <span class='id identifier rubyid_con'>con</span>
  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_constant'>add_constant</span> <span class='id identifier rubyid_con'>con</span>

  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_constant_body-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_constant_body</strong>(container, constant, is_array_or_hash)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L930-L983'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='930' data-end='983'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 930</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_constant_body'>parse_constant_body</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_constant'>constant</span><span class='comma'>,</span> <span class='id identifier rubyid_is_array_or_hash'>is_array_or_hash</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_nest'>nest</span>     <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_rhs_name'>rhs_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_dup'>dup</span>

  <span class='id identifier rubyid_get_tkread'>get_tkread</span>

  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_semicolon'>on_semicolon</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
    <span class='kw'>elsif</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_on_tlambeg'>on_tlambeg</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lbrace'>on_lbrace</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lbracket'>on_lbracket</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>elsif</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>def</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]) <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>elsif</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='qwords'><span class='qwords_beg'>%w{</span><span class='tstring_content'>do</span><span class='words_sep'> </span><span class='tstring_content'>if</span><span class='words_sep'> </span><span class='tstring_content'>unless</span><span class='words_sep'> </span><span class='tstring_content'>case</span><span class='words_sep'> </span><span class='tstring_content'>begin</span><span class='tstring_end'>}</span></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>])) <span class='kw'>then</span>
      <span class='kw'>if</span> (<span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_state'>state</span>] <span class='op'>&amp;</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span><span class='op'>::</span><span class='const'>EXPR_LABEL</span>) <span class='op'>==</span> <span class='int'>0</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rbrace'>on_rbrace</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rbracket'>on_rbracket</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='op'>||</span>
          (<span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>end</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]) <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>elsif</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='kw'>then</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span>.<span class='id identifier rubyid_end?'>end?</span>(<span class='id identifier rubyid_tk'>tk</span>) <span class='kw'>then</span>
        <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tkread_clean'><a href="#get_tkread_clean-instance_method" title="RDoc::Parser::Ruby#get_tkread_clean (method)">get_tkread_clean</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[ \t]+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
        <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_constant'>constant</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CONSTANT_MODIFIERS-constant" title="RDoc::CONSTANT_MODIFIERS (constant)">CONSTANT_MODIFIERS</a></span>
        <span class='kw'>break</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_constant'>constant</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CONSTANT_MODIFIERS-constant" title="RDoc::CONSTANT_MODIFIERS (constant)">CONSTANT_MODIFIERS</a></span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_const'>on_const</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
      <span class='id identifier rubyid_rhs_name'>rhs_name</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]

      <span class='id identifier rubyid_next_tk'>next_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span> <span class='kw'>and</span> (<span class='id identifier rubyid_next_tk'>next_tk</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_next_tk'>next_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='kw'>then</span>
        <span class='id identifier rubyid_create_module_alias'><a href="#create_module_alias-instance_method" title="RDoc::Parser::Ruby#create_module_alias (method)">create_module_alias</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_constant'>constant</span><span class='comma'>,</span> <span class='id identifier rubyid_rhs_name'>rhs_name</span> <span class='kw'>unless</span> <span class='id identifier rubyid_is_array_or_hash'>is_array_or_hash</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span> <span class='kw'>and</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span>.<span class='id identifier rubyid_end?'>end?</span>(<span class='id identifier rubyid_tk'>tk</span>) <span class='kw'>then</span>
        <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
      <span class='id identifier rubyid_rhs_name'>rhs_name</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_body'>body</span> <span class='op'>?</span> <span class='id identifier rubyid_body'>body</span> <span class='op'>:</span> <span class='id identifier rubyid_get_tkread_clean'><a href="#get_tkread_clean-instance_method" title="RDoc::Parser::Ruby#get_tkread_clean (method)">get_tkread_clean</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[ \t]+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_constant_visibility-instance_method">
  <h3 class='signature '>
    #<strong>parse_constant_visibility</strong>(container, single, tk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a <code>Module#private_constant</code> or <code>Module#public_constant</code> call from <code>tk</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1963-L1974'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1963' data-end='1974'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1963</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_constant_visibility'>parse_constant_visibility</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span>
  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private_constant</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_vis'>vis</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_private'>private</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>public_constant</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_vis'>vis</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Unreachable</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_set_constant_visibility_for'>set_constant_visibility_for</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_vis'>vis</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_extend_or_include-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_extend_or_include</strong>(klass, container, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses an <code>include</code> or <code>extend</code>, indicated by the <code>klass</code> and adds it to <code>container</code> # with <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1102-L1117'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1102' data-end='1117'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1102</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_extend_or_include'>parse_extend_or_include</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>

    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_constant_with_optional_parens'><a href="#get_constant_with_optional_parens-instance_method" title="RDoc::Parser::Ruby#get_constant_with_optional_parens (method)">get_constant_with_optional_parens</a></span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add'>add</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comma'>on_comma</span> <span class='op'>!=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]

    <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_identifier-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_identifier</strong>(container, single, tk, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses identifiers that can create new methods or change visibility.</p>

<p>Returns true if the comment was not consumed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1124-L1157'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1124' data-end='1157'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1124</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_identifier'>parse_identifier</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>protected</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>public</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private_class_method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>public_class_method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>module_function</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_parse_visibility'><a href="#parse_visibility-instance_method" title="RDoc::Parser::Ruby#parse_visibility (method)">parse_visibility</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private_constant</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>public_constant</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_parse_constant_visibility'><a href="#parse_constant_visibility-instance_method" title="RDoc::Parser::Ruby#parse_constant_visibility (method)">parse_constant_visibility</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_parse_attr'><a href="#parse_attr-instance_method" title="RDoc::Parser::Ruby#parse_attr (method)">parse_attr</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^attr_(reader|writer|accessor)$</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_parse_attr_accessor'><a href="#parse_attr_accessor-instance_method" title="RDoc::Parser::Ruby#parse_attr_accessor (method)">parse_attr_accessor</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>alias_method</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_parse_alias'><a href="#parse_alias-instance_method" title="RDoc::Parser::Ruby#parse_alias (method)">parse_alias</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>require</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>include</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
    <span class='comment'># ignore
</span>  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#\#$</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>
      <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^# +:?attr(_reader|_writer|_accessor)?:</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_meta_attr'><a href="#parse_meta_attr-instance_method" title="RDoc::Parser::Ruby#parse_meta_attr (method)">parse_meta_attr</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_meta_method'><a href="#parse_meta_method-instance_method" title="RDoc::Parser::Ruby#parse_meta_method (method)">parse_meta_method</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
        <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_params'>params</span> <span class='kw'>if</span>
          <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_params'>params</span>
        <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='kw'>if</span>
          <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_block_params'>block_params</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_meta_attr-instance_method">
  <h3 class='signature '>
    #<strong>parse_meta_attr</strong>(context, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a meta-programmed attribute and creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a>.</p>

<p>To create foo and bar attributes on class <a href="C.html" title="RDoc::Parser::C (class)">C</a> with comment “My attributes”:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'><a href="C.html" title="RDoc::Parser::C (class)">C</a></span>

  <span class='comment'>##
</span>  <span class='comment'># :attr:
</span>  <span class='comment'>#
</span>  <span class='comment'># My attributes
</span>
  <span class='id identifier rubyid_my_attr'>my_attr</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>

<span class='kw'>end</span></code></pre>

<p>To create a foo attribute on class <a href="C.html" title="RDoc::Parser::C (class)">C</a> with comment “My attribute”:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'><a href="C.html" title="RDoc::Parser::C (class)">C</a></span>

  <span class='comment'>##
</span>  <span class='comment'># :attr: foo
</span>  <span class='comment'>#
</span>  <span class='comment'># My attribute
</span>
  <span class='id identifier rubyid_my_attr'>my_attr</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>

<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1188-L1217'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1188' data-end='1217'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1188</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_meta_attr'>parse_meta_attr</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span>
  <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># If nodoc is given, don&#39;t document any of them
</span>
  <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../CodeObject.html" title="RDoc::CodeObject (class)">CodeObject</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>
  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_tmp'>tmp</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#ATTR_MODIFIERS-constant" title="RDoc::ATTR_MODIFIERS (constant)">ATTR_MODIFIERS</a></span>

  <span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^# +:?(attr(_reader|_writer|_accessor)?): *(\S*).*?\n</span><span class='regexp_end'>/i</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=~</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='id identifier rubyid_regexp'>regexp</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
    <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='backref'>$1</span>
         <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>
         <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>W</span><span class='tstring_end'>&#39;</span></span>
         <span class='kw'>else</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RW</span><span class='tstring_end'>&#39;</span></span>
         <span class='kw'>end</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='backref'>$3</span> <span class='kw'>unless</span> <span class='backref'>$3</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_attr_name'>attr_name</span><span class='op'>|</span>
      <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_attr_name'>attr_name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_att'>att</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_meta_method-instance_method">
  <h3 class='signature '>
    #<strong>parse_meta_method</strong>(container, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a meta-programmed method</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1222-L1261'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1222' data-end='1261'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1222</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_meta_method'>parse_meta_method</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_column'>column</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span>]
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_add_token'>add_token</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='id identifier rubyid_add_token_listener'>add_token_listener</span> <span class='kw'>self</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^# +:?)(singleton-)(method:)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1\3</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='op'>!</span><span class='op'>!</span><span class='gvar'>$~</span>

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_meta_method_name'><a href="#parse_meta_method_name-instance_method" title="RDoc::Parser::Ruby#parse_meta_method_name (method)">parse_meta_method_name</a></span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../MetaMethod.html" title="RDoc::MetaMethod (class)">MetaMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_singleton'>singleton</span>

  <span class='id identifier rubyid_remove_token_listener'>remove_token_listener</span> <span class='kw'>self</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_sp'>on_sp</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_column'>column</span> }
  <span class='id identifier rubyid_position_comment'>position_comment</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> }
  <span class='id identifier rubyid_position_comment'>position_comment</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># File </span><span class='embexpr_beg'>#{</span><span class='ivar'>@top_level</span>.<span class='id identifier rubyid_relative_name'>relative_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_newline'>newline</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> }
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> [<span class='id identifier rubyid_position_comment'>position_comment</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span>]
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> <span class='ivar'>@token_stream</span>

  <span class='id identifier rubyid_parse_meta_method_params'><a href="#parse_meta_method_params-instance_method" title="RDoc::Parser::Ruby#parse_meta_method_params (method)">parse_meta_method_params</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_meta_method_name-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_meta_method_name</strong>(comment, tk)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses the name of a metaprogrammed method.  <code>comment</code> is used to determine the name while <code>tk</code> is used in an error message if the name cannot be determined.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1268-L1287'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1268' data-end='1287'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1268</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_meta_method_name'>parse_meta_method_name</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^# +:?method: *(\S*).*?\n</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>then</span>
    <span class='kw'>return</span> <span class='backref'>$1</span> <span class='kw'>unless</span> <span class='backref'>$1</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_name_t'>name_t</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_symbol'>on_symbol</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>][<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_tstring'>on_tstring</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>][<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='kw'>then</span> <span class='comment'># ignore
</span>    <span class='id identifier rubyid_remove_token_listener'>remove_token_listener</span> <span class='kw'>self</span>

    <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown name token </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> for meta-method &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unknown</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_meta_method_params-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_meta_method_params</strong>(container, single, meth, tk, comment)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses the parameters and block for a meta-programmed method.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1292-L1319'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1292' data-end='1319'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1292</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_meta_method_params'>parse_meta_method_params</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_token_listener'>token_listener</span> <span class='id identifier rubyid_meth'>meth</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

    <span class='id identifier rubyid_look_for_directives_in'><a href="#look_for_directives_in-instance_method" title="RDoc::Parser::Ruby#look_for_directives_in (method)">look_for_directives_in</a></span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>
    <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_extract_call_seq'>extract_call_seq</span> <span class='id identifier rubyid_meth'>meth</span>

    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>

    <span class='id identifier rubyid_last_tk'>last_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>

    <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>do</span>
      <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_semicolon'>on_semicolon</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
        <span class='kw'>break</span>
      <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
        <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_last_tk'>last_tk</span> <span class='kw'>and</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comma'>on_comma</span> <span class='op'>==</span> <span class='id identifier rubyid_last_tk'>last_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
      <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_sp'>on_sp</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
        <span class='comment'># expression continues
</span>      <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>do</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span>
        <span class='kw'>break</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_last_tk'>last_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method-instance_method">
  <h3 class='signature '>
    #<strong>parse_method</strong>(container, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a normal method defined by <code>def</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1324-L1368'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1324' data-end='1368'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1324</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method'>parse_method</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_added_container'>added_container</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_column'>column</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span>]
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]

  <span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_add_token'>add_token</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='id identifier rubyid_token_listener'>token_listener</span> <span class='kw'>self</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_prev_container'>prev_container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_method_name'><a href="#parse_method_name-instance_method" title="RDoc::Parser::Ruby#parse_method_name (method)">parse_method_name</a></span> <span class='id identifier rubyid_container'>container</span>
    <span class='id identifier rubyid_added_container'>added_container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span> <span class='op'>!=</span> <span class='id identifier rubyid_prev_container'>prev_container</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_look_for_directives_in'><a href="#look_for_directives_in-instance_method" title="RDoc::Parser::Ruby#look_for_directives_in (method)">look_for_directives_in</a></span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_single'>single</span> <span class='op'>==</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='id identifier rubyid_singleton'>singleton</span>

  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_sp'>on_sp</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_column'>column</span> }
  <span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> }
  <span class='id identifier rubyid_token'>token</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># File </span><span class='embexpr_beg'>#{</span><span class='ivar'>@top_level</span>.<span class='id identifier rubyid_relative_name'>relative_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_newline'>newline</span> <span class='op'>=</span> { <span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_char_no'>char_no</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> }
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> [<span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_newline'>newline</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span>]
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> <span class='ivar'>@token_stream</span>

  <span class='id identifier rubyid_parse_method_params_and_body'><a href="#parse_method_params_and_body-instance_method" title="RDoc::Parser::Ruby#parse_method_params_and_body (method)">parse_method_params_and_body</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_added_container'>added_container</span>

  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_extract_call_seq'>extract_call_seq</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='comment'># after end modifiers
</span>  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#METHOD_MODIFIERS-constant" title="RDoc::METHOD_MODIFIERS (constant)">METHOD_MODIFIERS</a></span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_dummy-instance_method">
  <h3 class='signature '>
    #<strong>parse_method_dummy</strong>(container)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a method that needs to be ignored.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1403-L1408'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1403' data-end='1408'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1403</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_dummy'>parse_method_dummy</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_dummy'>dummy</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Context.html" title="RDoc::Context (class)">Context</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>
  <span class='id identifier rubyid_dummy'>dummy</span>.<span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_dummy'>dummy</span>.<span class='id identifier rubyid_store'>store</span>  <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_store'>store</span>
  <span class='id identifier rubyid_skip_method'><a href="#skip_method-instance_method" title="RDoc::Parser::Ruby#skip_method (method)">skip_method</a></span> <span class='id identifier rubyid_dummy'>dummy</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_name-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_method_name</strong>(container)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses the name of a method in <code>container</code>.</p>

<p>Returns the method name, the container it is in (for def <code>Foo.name</code>) and if it is a singleton or regular method.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1416-L1437'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1416' data-end='1437'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1416</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_name'>parse_method_name</span> <span class='id identifier rubyid_container'>container</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='id identifier rubyid_name_t'>name_t</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_back_tk'>back_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>(<span class='kw'>false</span>)
  <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_dot'>dot</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dot'>dot</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_period'>on_period</span> <span class='op'>||</span> (<span class='id identifier rubyid_dot'>dot</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dot'>dot</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>then</span>
    <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>true</span>

    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_method_name_singleton'><a href="#parse_method_name_singleton-instance_method" title="RDoc::Parser::Ruby#parse_method_name_singleton (method)">parse_method_name_singleton</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_dot'>dot</span>
    <span class='id identifier rubyid_back_tk'>back_tk</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_token'>token</span><span class='op'>|</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_token'>token</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_method_name_regular'><a href="#parse_method_name_regular-instance_method" title="RDoc::Parser::Ruby#parse_method_name_regular (method)">parse_method_name_regular</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_name_regular-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_method_name_regular</strong>(container, name_t)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>For the given <code>container</code> and initial name token <code>name_t</code> the method name is parsed from the token stream for a regular method.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1443-L1454'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1443' data-end='1454'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1443</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_name_regular'>parse_method_name_regular</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> (<span class='qwords'><span class='qwords_beg'>%w{</span><span class='tstring_content'>*</span><span class='words_sep'> </span><span class='tstring_content'>&amp;</span><span class='words_sep'> </span><span class='tstring_content'>[]</span><span class='words_sep'> </span><span class='tstring_content'>[]=</span><span class='words_sep'> </span><span class='tstring_content'>&lt;&lt;</span><span class='tstring_end'>}</span></span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>])) <span class='kw'>then</span>
    <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='kw'>else</span>
    <span class='kw'>unless</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_const'>on_const</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ident'>on_ident</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='kw'>then</span>
      <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected method name token, . or ::, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_skip_method'><a href="#skip_method-instance_method" title="RDoc::Parser::Ruby#skip_method (method)">skip_method</a></span> <span class='id identifier rubyid_container'>container</span>
      <span class='kw'>return</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_name_singleton-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_method_name_singleton</strong>(container, name_t)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>For the given <code>container</code> and initial name token <code>name_t</code> the method name and the new <code>container</code> (if necessary) are parsed from the token stream for a singleton method.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1461-L1500'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1461' data-end='1500'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1461</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_name_singleton'>parse_method_name_singleton</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='id identifier rubyid_name_t2'>name_t2</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>if</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>self</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]) <span class='op'>||</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_op'>on_op</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]) <span class='kw'>then</span>
    <span class='comment'># NOTE: work around &#39;[&#39; being consumed early
</span>    <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lbracket'>on_lbracket</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t2'>name_t2</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
      <span class='id identifier rubyid_get_tk'>get_tk</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[]</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t2'>name_t2</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_const'>on_const</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t2'>name_t2</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]

    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_get_method_container'><a href="#get_method_container-instance_method" title="RDoc::Parser::Ruby#get_method_container (method)">get_method_container</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span>

    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_container'>container</span>

    <span class='id identifier rubyid_name'>name</span>
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ident'>on_ident</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ivar'>on_ivar</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_gvar'>on_gvar</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_parse_method_dummy'><a href="#parse_method_dummy-instance_method" title="RDoc::Parser::Ruby#parse_method_dummy (method)">parse_method_dummy</a></span> <span class='id identifier rubyid_container'>container</span>

    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>elsif</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='op'>&amp;&amp;</span> (<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>true</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>false</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nil</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]) <span class='kw'>then</span>
    <span class='id identifier rubyid_klass_name'>klass_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>].<span class='id identifier rubyid_capitalize'>capitalize</span><span class='embexpr_end'>}</span><span class='tstring_content'>Class</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='ivar'>@store</span>.<span class='id identifier rubyid_find_class_named'>find_class_named</span> <span class='id identifier rubyid_klass_name'>klass_name</span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>||=</span> <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_class'>add_class</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalClass.html" title="RDoc::NormalClass (class)">NormalClass</a></span><span class='comma'>,</span> <span class='id identifier rubyid_klass_name'>klass_name</span>

    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t2'>name_t2</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected method name token </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='comment'># break
</span>    <span class='id identifier rubyid_skip_method'><a href="#skip_method-instance_method" title="RDoc::Parser::Ruby#skip_method (method)">skip_method</a></span> <span class='id identifier rubyid_container'>container</span>

    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_or_yield_parameters-instance_method">
  <h3 class='signature '>
    #<strong>parse_method_or_yield_parameters</strong>(method = nil, modifiers = RDoc::METHOD_MODIFIERS)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts <code>yield</code> parameters from <code>method</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1505-L1558'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1505' data-end='1558'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1505</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_or_yield_parameters'>parse_method_or_yield_parameters</span>(<span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                                     <span class='id identifier rubyid_modifiers'>modifiers</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#METHOD_MODIFIERS-constant" title="RDoc::METHOD_MODIFIERS (constant)">METHOD_MODIFIERS</a></span>)
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>=</span> <span class='id identifier rubyid_get_end_token'><a href="#get_end_token-instance_method" title="RDoc::Parser::Ruby#get_end_token (method)">get_end_token</a></span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_end_token'>end_token</span>

  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_continue'>continue</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>!=</span> <span class='kw'>nil</span> <span class='kw'>do</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_semicolon'>on_semicolon</span> <span class='kw'>then</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lbrace'>on_lbrace</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rbrace'>on_rbrace</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
        <span class='comment'># we might have a.each { |i| yield i }
</span>        <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>) <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;</span> <span class='int'>0</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_end_token'>end_token</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_end_token'>end_token</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
      <span class='kw'>else</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='kw'>then</span>
      <span class='ivar'>@read</span>.<span class='id identifier rubyid_pop'>pop</span>
      <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_end_token'>end_token</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>and</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>][<span class='op'>-</span><span class='int'>1</span>] <span class='kw'>and</span>
        (<span class='op'>!</span><span class='id identifier rubyid_continue'>continue</span> <span class='kw'>or</span> (<span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_state'>state</span>] <span class='op'>&amp;</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span><span class='op'>::</span><span class='const'>EXPR_LABEL</span>) <span class='op'>!=</span> <span class='int'>0</span>) <span class='kw'>then</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span>
          <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
          <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_modifiers'>modifiers</span>
        <span class='kw'>end</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_continue'>continue</span> <span class='kw'>and</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comma'>on_comma</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_continue'>continue</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ident'>on_ident</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_continue'>continue</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_continue'>continue</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_get_tkread_clean'><a href="#get_tkread_clean-instance_method" title="RDoc::Parser::Ruby#get_tkread_clean (method)">get_tkread_clean</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_parameters-instance_method">
  <h3 class='signature '>
    #<strong>parse_method_parameters</strong>(method)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Capture the method&#39;s parameters. Along the way, look for a comment containing:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># yields: ....</span></code></pre>

<p>and add this as the block_params for the method</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1568-L1578'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1568' data-end='1578'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1568</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_parameters'>parse_method_parameters</span> <span class='id identifier rubyid_method'>method</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_method_or_yield_parameters'><a href="#parse_method_or_yield_parameters-instance_method" title="RDoc::Parser::Ruby#parse_method_or_yield_parameters (method)">parse_method_or_yield_parameters</a></span> <span class='id identifier rubyid_method'>method</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_res'>res</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_res'>res</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\(</span><span class='regexp_end'>/</span></span>
  <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span> <span class='kw'>unless</span> <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_params'>params</span>

  <span class='kw'>return</span> <span class='kw'>if</span>  <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#METHOD_MODIFIERS-constant" title="RDoc::METHOD_MODIFIERS (constant)">METHOD_MODIFIERS</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_params_and_body-instance_method">
  <h3 class='signature '>
    #<strong>parse_method_params_and_body</strong>(container, single, meth, added_container)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses the parameters and body of <code>meth</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1373-L1398'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1373' data-end='1398'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1373</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_params_and_body'>parse_method_params_and_body</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_added_container'>added_container</span>
  <span class='id identifier rubyid_token_listener'>token_listener</span> <span class='id identifier rubyid_meth'>meth</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_parse_method_parameters'><a href="#parse_method_parameters-instance_method" title="RDoc::Parser::Ruby#parse_method_parameters (method)">parse_method_parameters</a></span> <span class='id identifier rubyid_meth'>meth</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_document_self'>document_self</span> <span class='kw'>or</span> <span class='kw'>not</span> <span class='ivar'>@track_visibility</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_added_container'>added_container</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_self'>document_self</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='comment'># Having now read the method parameters and documentation modifiers, we
</span>    <span class='comment'># now know whether we have to rename #initialize to ::new
</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>initialize</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_dont_rename_initialize'>dont_rename_initialize</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_visibility'>visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_protected'>protected</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_visibility'>visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_module-instance_method">
  <h3 class='signature '>
    #<strong>parse_module</strong>(container, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses an <a href="../NormalModule.html" title="RDoc::NormalModule (class)">::RDoc::NormalModule</a> in <code>container</code> with <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1583-L1600'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1583' data-end='1600'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1583</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_module'>parse_module</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_or_module'><a href="#get_class_or_module-instance_method" title="RDoc::Parser::Ruby#get_class_or_module (method)">get_class_or_module</a></span> <span class='id identifier rubyid_container'>container</span>

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t'>name_t</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]

  <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_module'>add_module</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_ignore'>ignore</span> <span class='kw'>unless</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_children'>document_children</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_mod'>mod</span>

  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CLASS_MODIFIERS-constant" title="RDoc::CLASS_MODIFIERS (constant)">CLASS_MODIFIERS</a></span>
  <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_add_comment'>add_comment</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@top_level</span>
  <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_mod'>mod</span>

  <span class='comment'># after end modifiers
</span>  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CLASS_MODIFIERS-constant" title="RDoc::CLASS_MODIFIERS (constant)">CLASS_MODIFIERS</a></span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_module'>add_module</span> <span class='id identifier rubyid_mod'>mod</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_require-instance_method">
  <h3 class='signature '>
    #<strong>parse_require</strong>(context, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses an <a href="../Require.html" title="RDoc::Require (class)">::RDoc::Require</a> in <code>context</code> containing <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1605-L1621'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1605' data-end='1621'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1605</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_require'>parse_require</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>][<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>] <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_tstring'>on_tstring</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]

  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>then</span>
    <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_require'>add_require</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Require.html" title="RDoc::Require (class)">Require</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_rescue-instance_method">
  <h3 class='signature '>
    #<strong>parse_rescue</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a rescue</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1626-L1641'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1626' data-end='1641'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1626</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_rescue'>parse_rescue</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_semicolon'>on_semicolon</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='kw'>then</span>
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comma'>on_comma</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

      <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='kw'>end</span>

    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_statements-instance_method">
  <h3 class='signature '>
    #<strong>parse_statements</strong>(container, single = NORMAL, current_method = nil, comment = new_comment(&#39;&#39;))  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The core of the <code>Ruby</code> parser.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1646-L1826'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1646' data-end='1826'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1646</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_statements'>parse_statements</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span> <span class='op'>=</span> <span class='const'><a href="#NORMAL-constant" title="RDoc::Parser::Ruby::NORMAL (constant)">NORMAL</a></span><span class='comma'>,</span> <span class='id identifier rubyid_current_method'>current_method</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                     <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_new_comment'><a href="#new_comment-instance_method" title="RDoc::Parser::Ruby#new_comment (method)">new_comment</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>))
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Comment.html" title="RDoc::Comment (class)">Comment</a></span> <span class='op'>===</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Encoding.html" title="RDoc::Encoding (module)">Encoding</a></span>.<span class='id identifier rubyid_change_encoding'>change_encoding</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@encoding</span> <span class='kw'>if</span> <span class='ivar'>@encoding</span>

  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_save_visibility'>save_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_visibility'>visibility</span>

  <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='kw'>true</span>

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_try_parse_comment'>try_parse_comment</span> <span class='op'>=</span> <span class='kw'>false</span>

    <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>])

    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ignored_nl'>on_ignored_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ignored_nl'>on_ignored_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
        <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
        <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_past_tokens'>past_tokens</span> <span class='op'>=</span> <span class='ivar'>@read</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>?</span> <span class='ivar'>@read</span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>] <span class='op'>:</span> []
        <span class='id identifier rubyid_nl_position'>nl_position</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='id identifier rubyid_past_tokens'>past_tokens</span>.<span class='id identifier rubyid_reverse'>reverse</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_read_tk'>read_tk</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_read_tk'>read_tk</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\n$</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
            <span class='id identifier rubyid_nl_position'>nl_position</span> <span class='op'>=</span> (<span class='id identifier rubyid_past_tokens'>past_tokens</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>1</span>) <span class='op'>-</span> <span class='id identifier rubyid_i'>i</span>
            <span class='kw'>break</span>
          <span class='kw'>elsif</span> <span class='id identifier rubyid_read_tk'>read_tk</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^#.*\n$</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
            <span class='id identifier rubyid_nl_position'>nl_position</span> <span class='op'>=</span> ((<span class='id identifier rubyid_past_tokens'>past_tokens</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>1</span>) <span class='op'>-</span> <span class='id identifier rubyid_i'>i</span>) <span class='op'>+</span> <span class='int'>1</span>
            <span class='kw'>break</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_comment_only_line'>comment_only_line</span> <span class='op'>=</span> <span class='id identifier rubyid_past_tokens'>past_tokens</span>[<span class='id identifier rubyid_nl_position'>nl_position</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>].<span class='id identifier rubyid_all?'>all?</span>{ <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s+$</span><span class='regexp_end'>/</span></span> }
        <span class='kw'>unless</span> <span class='id identifier rubyid_comment_only_line'>comment_only_line</span> <span class='kw'>then</span>
          <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>and</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='kw'>then</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='kw'>then</span>
          <span class='comment'># Look for RDoc in a comment about to be thrown away
</span>          <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_comment'><a href="#parse_comment-instance_method" title="RDoc::Parser::Ruby#parse_comment (method)">parse_comment</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>unless</span>
            <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span>

          <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
          <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Encoding.html" title="RDoc::Encoding (module)">Encoding</a></span>.<span class='id identifier rubyid_change_encoding'>change_encoding</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@encoding</span> <span class='kw'>if</span> <span class='ivar'>@encoding</span>
        <span class='kw'>end</span>

        <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>and</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='kw'>do</span>
          <span class='id identifier rubyid_comment'>comment</span> <span class='op'>+=</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
          <span class='id identifier rubyid_comment'>comment</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>].<span class='id identifier rubyid_chars'>chars</span>.<span class='id identifier rubyid_to_a'>to_a</span>.<span class='id identifier rubyid_last'>last</span>

          <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>].<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>].<span class='id identifier rubyid_chars'>chars</span>.<span class='id identifier rubyid_to_a'>to_a</span>.<span class='id identifier rubyid_last'>last</span> <span class='kw'>then</span>
            <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span> <span class='comment'># leading spaces
</span>          <span class='kw'>end</span>
          <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_new_comment'><a href="#new_comment-instance_method" title="RDoc::Parser::Ruby#new_comment (method)">new_comment</a></span> <span class='id identifier rubyid_comment'>comment</span>

        <span class='kw'>unless</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
          <span class='id identifier rubyid_look_for_directives_in'><a href="#look_for_directives_in-instance_method" title="RDoc::Parser::Ruby#look_for_directives_in (method)">look_for_directives_in</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

          <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_done_documenting'>done_documenting</span> <span class='kw'>then</span>
            <span class='id identifier rubyid_throw'>throw</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eof'>eof</span> <span class='kw'>if</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a></span> <span class='op'>===</span> <span class='id identifier rubyid_container'>container</span>
            <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_ongoing_visibility'>ongoing_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_save_visibility'>save_visibility</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
      <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_current_line_visibility'>current_line_visibility</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='kw'>then</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>class</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_class'><a href="#parse_class-instance_method" title="RDoc::Parser::Ruby#parse_class (method)">parse_class</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>module</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_module'><a href="#parse_module-instance_method" title="RDoc::Parser::Ruby#parse_module (method)">parse_module</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>def</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_method'><a href="#parse_method-instance_method" title="RDoc::Parser::Ruby#parse_method (method)">parse_method</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>alias</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_alias'><a href="#parse_alias-instance_method" title="RDoc::Parser::Ruby#parse_alias (method)">parse_alias</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>unless</span> <span class='id identifier rubyid_current_method'>current_method</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>yield</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_current_method'>current_method</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span>
          <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Warning: yield outside of method</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_self'>document_self</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_parse_yield'><a href="#parse_yield-instance_method" title="RDoc::Parser::Ruby#parse_yield (method)">parse_yield</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_current_method'>current_method</span>
        <span class='kw'>end</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>until</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>while</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='kw'>if</span> (<span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_state'>state</span>] <span class='op'>&amp;</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span><span class='op'>::</span><span class='const'>EXPR_LABEL</span>) <span class='op'>==</span> <span class='int'>0</span>
          <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
          <span class='id identifier rubyid_skip_optional_do_after_expression'><a href="#skip_optional_do_after_expression-instance_method" title="RDoc::Parser::Ruby#skip_optional_do_after_expression (method)">skip_optional_do_after_expression</a></span>
        <span class='kw'>end</span>

      <span class='comment'># Until and While can have a &#39;do&#39;, which shouldn&#39;t increase the nesting.
</span>      <span class='comment'># We can&#39;t solve the general case, but we can handle most occurrences by
</span>      <span class='comment'># ignoring a do at the end of a line.
</span>
      <span class='comment'># &#39;for&#39; is trickier
</span>      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>for</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='id identifier rubyid_skip_for_variable'><a href="#skip_for_variable-instance_method" title="RDoc::Parser::Ruby#skip_for_variable (method)">skip_for_variable</a></span>
        <span class='id identifier rubyid_skip_optional_do_after_expression'><a href="#skip_optional_do_after_expression-instance_method" title="RDoc::Parser::Ruby#skip_optional_do_after_expression (method)">skip_optional_do_after_expression</a></span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>case</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>do</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>if</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unless</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>begin</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='kw'>if</span> (<span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_state'>state</span>] <span class='op'>&amp;</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RipperStateLex.html" title="RDoc::RipperStateLex (class)">RipperStateLex</a></span><span class='op'>::</span><span class='const'>EXPR_LABEL</span>) <span class='op'>==</span> <span class='int'>0</span>
          <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>end</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>super</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_current_method'>current_method</span>.<span class='id identifier rubyid_calls_super'>calls_super</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_current_method'>current_method</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rescue</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_rescue'><a href="#parse_rescue-instance_method" title="RDoc::Parser::Ruby#parse_rescue (method)">parse_rescue</a></span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>end</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>then</span>
          <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_ongoing_visibility'>ongoing_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_save_visibility'>save_visibility</span>

          <span class='id identifier rubyid_parse_comment'><a href="#parse_comment-instance_method" title="RDoc::Parser::Ruby#parse_comment (method)">parse_comment</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>unless</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span>

          <span class='kw'>return</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_const'>on_const</span> <span class='kw'>then</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_parse_constant'><a href="#parse_constant-instance_method" title="RDoc::Parser::Ruby#parse_constant (method)">parse_constant</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_current_method'>current_method</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_try_parse_comment'>try_parse_comment</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>

    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ident'>on_ident</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='id identifier rubyid_current_method'>current_method</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_identifier'><a href="#parse_identifier-instance_method" title="RDoc::Parser::Ruby#parse_identifier (method)">parse_identifier</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>end</span>

      <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>require</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_require'><a href="#parse_require-instance_method" title="RDoc::Parser::Ruby#parse_require (method)">parse_require</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>include</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_extend_or_include'><a href="#parse_extend_or_include-instance_method" title="RDoc::Parser::Ruby#parse_extend_or_include (method)">parse_extend_or_include</a></span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Include.html" title="RDoc::Include (class)">Include</a></span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extend</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_extend_or_include'><a href="#parse_extend_or_include-instance_method" title="RDoc::Parser::Ruby#parse_extend_or_include (method)">parse_extend_or_include</a></span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Extend.html" title="RDoc::Extend (class)">Extend</a></span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>end</span>

    <span class='kw'>else</span>
      <span class='id identifier rubyid_try_parse_comment'>try_parse_comment</span> <span class='op'>=</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_try_parse_comment'>try_parse_comment</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_comment'><a href="#parse_comment-instance_method" title="RDoc::Parser::Ruby#parse_comment (method)">parse_comment</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>unless</span>
        <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span>

      <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_new_comment'><a href="#new_comment-instance_method" title="RDoc::Parser::Ruby#new_comment (method)">new_comment</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Encoding.html" title="RDoc::Encoding (module)">Encoding</a></span>.<span class='id identifier rubyid_change_encoding'>change_encoding</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@encoding</span> <span class='kw'>if</span> <span class='ivar'>@encoding</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_consume_trailing_spaces'><a href="#consume_trailing_spaces-instance_method" title="RDoc::Parser::Ruby#consume_trailing_spaces (method)">consume_trailing_spaces</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_symbol_arg-instance_method">
  <h3 class='signature '>
    #<strong>parse_symbol_arg</strong>(no = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse up to <code>no</code> symbol arguments</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1831-L1840'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1831' data-end='1840'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1831</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_symbol_arg'>parse_symbol_arg</span>(<span class='id identifier rubyid_no'>no</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>

  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span>
    <span class='id identifier rubyid_parse_symbol_arg_paren'><a href="#parse_symbol_arg_paren-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg_paren (method)">parse_symbol_arg_paren</a></span> <span class='id identifier rubyid_no'>no</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_parse_symbol_arg_space'><a href="#parse_symbol_arg_space-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg_space (method)">parse_symbol_arg_space</a></span> <span class='id identifier rubyid_no'>no</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_symbol_arg_paren-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_symbol_arg_paren</strong>(no)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses up to <code>no</code> symbol arguments surrounded by () and places them in <code>args</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1846-L1868'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1846' data-end='1868'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1846</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_symbol_arg_paren'>parse_symbol_arg_paren</span> <span class='id identifier rubyid_no'>no</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> []

  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_tk1'>tk1</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_in_arg'><a href="#parse_symbol_in_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_in_arg (method)">parse_symbol_in_arg</a></span>
      <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_tk1'>tk1</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_no'>no</span> <span class='kw'>and</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_no'>no</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>
    <span class='kw'>case</span> (<span class='id identifier rubyid_tk2'>tk2</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>)[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span>
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comma'>on_comma</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unexpected token: &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk2'>tk2</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='gvar'>$DEBUG_RDOC</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_symbol_arg_space-instance_method">
  <h3 class='signature nodoc'>
    #<strong>parse_symbol_arg_space</strong>(no, tk)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses up to <code>no</code> symbol arguments separated by spaces and places them in <code>args</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1874-L1900'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1874' data-end='1900'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1874</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_symbol_arg_space'>parse_symbol_arg_space</span> <span class='id identifier rubyid_no'>no</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> []

  <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_in_arg'><a href="#parse_symbol_in_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_in_arg (method)">parse_symbol_in_arg</a></span>
    <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_args'>args</span> <span class='kw'>if</span> <span class='id identifier rubyid_no'>no</span> <span class='kw'>and</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_no'>no</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

    <span class='id identifier rubyid_tk1'>tk1</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_tk1'>tk1</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comma'>on_comma</span> <span class='op'>!=</span> <span class='id identifier rubyid_tk1'>tk1</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk1'>tk1</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_in_arg'><a href="#parse_symbol_in_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_in_arg (method)">parse_symbol_in_arg</a></span>
      <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_tk'>tk</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_no'>no</span> <span class='kw'>and</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_no'>no</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_symbol_in_arg-instance_method">
  <h3 class='signature '>
    #<strong>parse_symbol_in_arg</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns symbol text from the next token</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1905-L1917'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1905' data-end='1917'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1905</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_symbol_in_arg'>parse_symbol_in_arg</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_symbol'>on_symbol</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>].<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^:</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_tstring'>on_tstring</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>][<span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span>]
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_dstring'>on_dstring</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ident'>on_ident</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
    <span class='kw'>nil</span> <span class='comment'># ignore
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected symbol or string, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='gvar'>$DEBUG_RDOC</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_top_level_statements-instance_method">
  <h3 class='signature '>
    #<strong>parse_top_level_statements</strong>(container)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses statements in the top-level <code>container</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1922-L1935'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1922' data-end='1935'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1922</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_top_level_statements'>parse_top_level_statements</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_collect_first_comment'><a href="#collect_first_comment-instance_method" title="RDoc::Parser::Ruby#collect_first_comment (method)">collect_first_comment</a></span>

  <span class='id identifier rubyid_look_for_directives_in'><a href="#look_for_directives_in-instance_method" title="RDoc::Parser::Ruby#look_for_directives_in (method)">look_for_directives_in</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='id identifier rubyid_throw'>throw</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eof'>eof</span> <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_done_documenting'>done_documenting</span>

  <span class='ivar'>@markup</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_format'>format</span>

  <span class='comment'># HACK move if to RDoc::Context#comment=
</span>  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_self'>document_self</span> <span class='kw'>unless</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='const'><a href="#NORMAL-constant" title="RDoc::Parser::Ruby::NORMAL (constant)">NORMAL</a></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_visibility-instance_method">
  <h3 class='signature '>
    #<strong>parse_visibility</strong>(container, single, tk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determines the visibility in <code>container</code> from <code>tk</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1940-L1958'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1940' data-end='1958'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1940</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_visibility'>parse_visibility</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_vis_type'>vis_type</span><span class='comma'>,</span> <span class='id identifier rubyid_vis'>vis</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_get_visibility_information'><a href="#get_visibility_information-instance_method" title="RDoc::Parser::Ruby#get_visibility_information (method)">get_visibility_information</a></span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span>

  <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span> <span class='kw'>false</span>

  <span class='id identifier rubyid_ptk'>ptk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
  <span class='comment'># Ryan Davis suggested the extension to ignore modifiers, because he
</span>  <span class='comment'># often writes
</span>  <span class='comment'>#
</span>  <span class='comment'>#   protected unless $TESTING
</span>  <span class='comment'>#
</span>  <span class='kw'>if</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_semicolon'>on_semicolon</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_ptk'>ptk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='op'>||</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_ptk'>ptk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> ([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>if</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unless</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_ptk'>ptk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]))) <span class='kw'>then</span>
    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_ongoing_visibility'>ongoing_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_vis'>vis</span>
  <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_ptk'>ptk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>def</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_ptk'>ptk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_current_line_visibility'>current_line_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_vis'>vis</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_update_visibility'><a href="#update_visibility-instance_method" title="RDoc::Parser::Ruby#update_visibility (method)">update_visibility</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_vis_type'>vis_type</span><span class='comma'>,</span> <span class='id identifier rubyid_vis'>vis</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_yield-instance_method">
  <h3 class='signature '>
    #<strong>parse_yield</strong>(context, single, tk, method)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determines the block parameter for <code>context</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L1979-L1984'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1979' data-end='1984'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1979</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_yield'>parse_yield</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span>

  <span class='id identifier rubyid_get_tkread'>get_tkread</span>
  <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_method_or_yield_parameters'><a href="#parse_method_or_yield_parameters-instance_method" title="RDoc::Parser::Ruby#parse_method_or_yield_parameters (method)">parse_method_or_yield_parameters</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_directive-instance_method">
  <h3 class='signature '>
    #<strong>read_directive</strong>(allowed)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Directives are modifier comments that can appear after class, module, or method names. For example:</p>

<pre class="code ruby"><code class="ruby">def fred # :yields: a, b</code></pre>

<p>or:</p>

<pre class="code ruby"><code class="ruby">class MyClass # :nodoc:</code></pre>

<p>We return the directive name and any parameters as a two element array if the name is in <code>allowed</code>.  A directive can be found anywhere up to the end of the current line.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2000-L2024'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2000' data-end='2024'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2000</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_directive'>read_directive</span> <span class='id identifier rubyid_allowed'>allowed</span>
  <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>=</span> []

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_tk'>tk</span>

    <span class='kw'>if</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>def</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]) <span class='kw'>then</span>
      <span class='kw'>return</span>
    <span class='kw'>elsif</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>then</span>
      <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>] <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s*:?([\w-]+):\s*(.*)</span><span class='regexp_end'>/</span></span>

      <span class='id identifier rubyid_directive'>directive</span> <span class='op'>=</span> <span class='backref'>$1</span>.<span class='id identifier rubyid_downcase'>downcase</span>

      <span class='kw'>return</span> [<span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='backref'>$2</span>] <span class='kw'>if</span> <span class='id identifier rubyid_allowed'>allowed</span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_directive'>directive</span>

      <span class='kw'>return</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='op'>==</span> <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_first'>first</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='op'>==</span> <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_first'>first</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]) <span class='kw'>then</span>
    <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_token'>token</span><span class='op'>|</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_token'>token</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_documentation_modifiers-instance_method">
  <h3 class='signature '>
    #<strong>read_documentation_modifiers</strong>(context, allowed)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handles directives following the definition for <code>context</code> (any <a href="../CodeObject.html" title="RDoc::CodeObject (class)">::RDoc::CodeObject</a>) if the directives are <code>allowed</code> at this point.</p>

<p>See also <a href="../Markup/PreProcess.html#handle_directive-instance_method" title="RDoc::Markup::PreProcess#handle_directive (method)">Markup::PreProcess#handle_directive</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2032-L2045'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2032' data-end='2045'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2032</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_documentation_modifiers'>read_documentation_modifiers</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_allowed'>allowed</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>(<span class='kw'>false</span>)
  <span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_directive'><a href="#read_directive-instance_method" title="RDoc::Parser::Ruby#read_directive (method)">read_directive</a></span> <span class='id identifier rubyid_allowed'>allowed</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_directive'>directive</span>

  <span class='ivar'>@preprocess</span>.<span class='id identifier rubyid_handle_directive'>handle_directive</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>notnew</span><span class='words_sep'> </span><span class='tstring_content'>not_new</span><span class='words_sep'> </span><span class='tstring_content'>not-new</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_dir'>dir</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_dont_rename_initialize'>dont_rename_initialize</span> <span class='op'>=</span> <span class='kw'>true</span>

      <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="record_location-instance_method">
  <h3 class='signature nodoc'>
    #<strong>record_location</strong>(container)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Records the location of this <code>container</code> in the file for this parser and adds it to the list of classes and modules in the file.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2051-L2058'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2051' data-end='2058'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2051</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_record_location'>record_location</span> <span class='id identifier rubyid_container'>container</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_container'>container</span>
  <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../ClassModule.html" title="RDoc::ClassModule (class)">ClassModule</a></span> <span class='kw'>then</span>
    <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_to_classes_or_modules'>add_to_classes_or_modules</span> <span class='id identifier rubyid_container'>container</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_record_location'>record_location</span> <span class='ivar'>@top_level</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan-instance_method">
  <h3 class='signature '>
    #<strong>scan</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Scans this <code>Ruby</code> file for <code>Ruby</code> constructs</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2063-L2105'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2063' data-end='2105'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2063</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scan'>scan</span>
  <span class='id identifier rubyid_reset'>reset</span>

  <span class='id identifier rubyid_catch'>catch</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eof'>eof</span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_parse_top_level_statements'><a href="#parse_top_level_statements-instance_method" title="RDoc::Parser::Ruby#parse_top_level_statements (method)">parse_top_level_statements</a></span> <span class='ivar'>@top_level</span>

    <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='kw'>if</span> <span class='ivar'>@content</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;%</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>and</span> <span class='ivar'>@content</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%&gt;</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>then</span>
        <span class='comment'># Maybe, this is ERB.
</span>        <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\033[2KRDoc detects ERB file. Skips it for compatibility:</span><span class='tstring_end'>&quot;</span></span>
        <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='ivar'>@file_name</span>
        <span class='kw'>return</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_bytes'>bytes</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

      <span class='kw'>if</span> <span class='ivar'>@scanner_point</span> <span class='op'>&gt;=</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_size'>size</span>
        <span class='id identifier rubyid_now_line_no'>now_line_no</span> <span class='op'>=</span> <span class='ivar'>@scanner</span>[<span class='ivar'>@scanner</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>1</span>][<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]
      <span class='kw'>else</span>
        <span class='id identifier rubyid_now_line_no'>now_line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]
      <span class='kw'>end</span>

      <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;-EOF</span>
<span class='tstring_content'>
</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> failure around line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_now_line_no'>now_line_no</span><span class='embexpr_end'>}</span><span class='tstring_content'> of
</span><span class='embexpr_beg'>#{</span><span class='ivar'>@file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>

</span><span class='heredoc_end'>      EOF
</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_bytes'>bytes</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
        <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span>
        <span class='id identifier rubyid_now_line_no'>now_line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>]
        <span class='id identifier rubyid_start_index'>start_index</span> <span class='op'>=</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_find_index'>find_index</span> { <span class='op'>|</span><span class='id identifier rubyid_tk'>tk</span><span class='op'>|</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>] <span class='op'>==</span> <span class='id identifier rubyid_now_line_no'>now_line_no</span> }
        <span class='id identifier rubyid_end_index'>end_index</span> <span class='op'>=</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_find_index'>find_index</span> { <span class='op'>|</span><span class='id identifier rubyid_tk'>tk</span><span class='op'>|</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_line_no'>line_no</span>] <span class='op'>==</span> <span class='id identifier rubyid_now_line_no'>now_line_no</span> <span class='op'>+</span> <span class='int'>1</span> } <span class='op'>-</span> <span class='int'>1</span>
        <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='ivar'>@scanner</span>[<span class='id identifier rubyid_start_index'>start_index</span><span class='op'>..</span><span class='id identifier rubyid_end_index'>end_index</span>].<span class='id identifier rubyid_join'>join</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@top_level</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_for_variable-instance_method">
  <h3 class='signature '>
    #<strong>skip_for_variable</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>skip the var [in] part of a &#39;for&#39; statement</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2151-L2157'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2151' data-end='2157'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2151</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_for_variable'>skip_for_variable</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>) <span class='kw'>unless</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>and</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_method-instance_method">
  <h3 class='signature '>
    #<strong>skip_method</strong>(container)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Skips the next method in <code>container</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2162-L2166'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2162' data-end='2166'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2162</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_method'>skip_method</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>anon</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_parse_method_parameters'><a href="#parse_method_parameters-instance_method" title="RDoc::Parser::Ruby#parse_method_parameters (method)">parse_method_parameters</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_optional_do_after_expression-instance_method">
  <h3 class='signature '>
    #<strong>skip_optional_do_after_expression</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>while, until, and for have an optional do</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2110-L2146'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2110' data-end='2146'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_optional_do_after_expression'>skip_optional_do_after_expression</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='id identifier rubyid_b_nest'>b_nest</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_semicolon'>on_semicolon</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ignored_nl'>on_ignored_nl</span> <span class='kw'>then</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_b_nest'>b_nest</span>.<span class='id identifier rubyid_zero?'>zero?</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_lparen'>on_lparen</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_rparen'>on_rparen</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='kw'>then</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>begin</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_b_nest'>b_nest</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>end</span><span class='tstring_end'>&#39;</span></span>
        <span class='id identifier rubyid_b_nest'>b_nest</span> <span class='op'>-=</span> <span class='int'>1</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>do</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span>.<span class='id identifier rubyid_zero?'>zero?</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_b_nest'>b_nest</span>.<span class='id identifier rubyid_zero?'>zero?</span> <span class='kw'>and</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>][<span class='op'>-</span><span class='int'>1</span>] <span class='kw'>then</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>if</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span> <span class='op'>&amp;&amp;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_kw'>on_kw</span> <span class='op'>==</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>do</span><span class='tstring_end'>&#39;</span></span> <span class='op'>==</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_tkspace_comment-instance_method">
  <h3 class='signature '>
    #<strong>skip_tkspace_comment</strong>(skip_nl = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Skip spaces until a comment is found</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2171-L2178'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2171' data-end='2178'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2171</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_tkspace_comment'>skip_tkspace_comment</span>(<span class='id identifier rubyid_skip_nl'>skip_nl</span> <span class='op'>=</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='id identifier rubyid_skip_nl'>skip_nl</span>
    <span class='id identifier rubyid_next_tk'>next_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_next_tk'>next_tk</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> (<span class='symbeg'>:</span><span class='id identifier rubyid_on_comment'>on_comment</span> <span class='op'>!=</span> <span class='id identifier rubyid_next_tk'>next_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>and</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_embdoc'>on_embdoc</span> <span class='op'>!=</span> <span class='id identifier rubyid_next_tk'>next_tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>])
    <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="suppress_parents-instance_method">
  <h3 class='signature nodoc'>
    #<strong>suppress_parents</strong>(container, ancestor)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Marks containers between <code>container</code> and <code>ancestor</code> as ignored</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L562-L567'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='562' data-end='567'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 562</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_suppress_parents'>suppress_parents</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_ancestor'>ancestor</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>while</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>and</span> <span class='id identifier rubyid_container'>container</span> <span class='op'>!=</span> <span class='id identifier rubyid_ancestor'>ancestor</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_suppress'>suppress</span> <span class='kw'>unless</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_documented?'>documented?</span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_parent'>parent</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tk_nl?-instance_method">
  <h3 class='signature '>
    #<strong>tk_nl?</strong>(tk)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L191-L193'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='191' data-end='193'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tk_nl?'>tk_nl?</span>(<span class='id identifier rubyid_tk'>tk</span>)
  <span class='symbeg'>:</span><span class='id identifier rubyid_on_nl'>on_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>] <span class='kw'>or</span> <span class='symbeg'>:</span><span class='id identifier rubyid_on_ignored_nl'>on_ignored_nl</span> <span class='op'>==</span> <span class='id identifier rubyid_tk'>tk</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_kind'>kind</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="update_visibility-instance_method">
  <h3 class='signature nodoc'>
    #<strong>update_visibility</strong>(container, vis_type, vis, singleton)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Updates visibility in <code>container</code> from <code>vis_type</code> and <code>vis</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2183-L2223'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2183' data-end='2223'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2183</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_update_visibility'>update_visibility</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_vis_type'>vis_type</span><span class='comma'>,</span> <span class='id identifier rubyid_vis'>vis</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_new_methods'>new_methods</span> <span class='op'>=</span> []

  <span class='kw'>case</span> <span class='id identifier rubyid_vis_type'>vis_type</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>module_function</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span>
    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_set_visibility_for'>set_visibility_for</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_private'>private</span><span class='comma'>,</span> <span class='kw'>false</span>

    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_methods_matching'>methods_matching</span> <span class='id identifier rubyid_args'>args</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='id identifier rubyid_s_m'>s_m</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_s_m'>s_m</span>
      <span class='id identifier rubyid_s_m'>s_m</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_new_methods'>new_methods</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_s_m'>s_m</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>public_class_method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private_class_method</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span>

    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_methods_matching'>methods_matching</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='kw'>true</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_parent'>parent</span> <span class='op'>!=</span> <span class='id identifier rubyid_container'>container</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_dup'>dup</span>
        <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_m'>m</span>
        <span class='id identifier rubyid_new_methods'>new_methods</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_m'>m</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_visibility'>visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_vis'>vis</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span>
    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_set_visibility_for'>set_visibility_for</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_vis'>vis</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new_methods'>new_methods</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_method'>method</span>
    <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_method'>method</span>
    <span class='kw'>when</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Attr.html" title="RDoc::Attr (class)">Attr</a></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span> <span class='id identifier rubyid_method'>method</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_visibility'>visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_vis'>vis</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="warn-instance_method">
  <h3 class='signature '>
    #<strong>warn</strong>(message)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prints <code>message</code> to <tt>$stderr</tt> unless we&#39;re being quiet</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_5_9/lib/rdoc/parser/ruby.rb#L2228-L2230'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2228' data-end='2230'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2228</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_warn'>warn</span> <span class='id identifier rubyid_message'>message</span>
  <span class='ivar'>@options</span>.<span class='id identifier rubyid_warn'>warn</span> <span class='id identifier rubyid_make_message'><a href="#make_message-instance_method" title="RDoc::Parser::Ruby#make_message (method)">make_message</a></span> <span class='id identifier rubyid_message'>message</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>