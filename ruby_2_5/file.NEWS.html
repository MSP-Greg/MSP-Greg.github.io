<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: NEWS &mdash; Ruby-2.5.9</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "NEWS",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='.'>Ruby-2.5.9</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: NEWS&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="file_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>

<h1 id="label-NEWS+for+Ruby+2.5.0">NEWS for Ruby 2.5.0</h1>

<p>This document is a list of user visible feature changes made between releases except for bug fixes.</p>

<p>Note that each entry is kept so brief that no reason behind or reference information is supplied with.  For a full list of changes with all sufficient information, see the ChangeLog file or Redmine (e.g. <code>https://bugs.ruby-lang.org/issues/$FEATURE_OR_BUG_NUMBER</code>)</p>

<h2 id="label-Changes+since+the+2.4.0+release">Changes since the 2.4.0 release</h2>

<h3 id="label-Language+changes">Language changes</h3>
<ul><li>
<p>Top-level constant look-up is removed.  [Feature #11547]</p>
</li><li>
<p>rescue/else/ensure are allowed inside do/end blocks.  [Feature #12906]</p>
</li><li>
<p>refinements take place in string interpolations.  [Feature #13812]</p>
</li></ul>

<h3 id="label-Core+classes+updates+-28outstanding+ones+only-29">Core classes updates (outstanding ones only)</h3>
<ul><li>
<p>Array</p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p>Array#append  [Feature #12746]</p>
</li><li>
<p>Array#prepend  [Feature #12746]</p>
</li></ul>
</li></ul>
</li><li>
<p>Data</p>
<ul><li>
<p>Is deprecated. It was a base class for C extensions, and it&#39;s not necessary to expose in Ruby level. [Feature #3072]</p>
</li></ul>
</li><li>
<p>Exception</p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p>Exception#full_message to retrieve a String expression of an exception, formatted in the same way in which Ruby prints out an uncaught exception.</p>
<dl class="rdoc-list label-list"><dt>Feature #14141
<dd><dl class="rdoc-list label-list"><dt>experimental
<dd></dd></dl>
</dd></dl>
</li></ul>
</li></ul>
</li><li>
<p>Dir</p>
<ul><li>
<p>Dir.glob provides new optional keyword argument, :base.</p>
<dl class="rdoc-list label-list"><dt>Feature #13056
<dd></dd></dl>
</li><li>
<p>Dir.chdir (without block arg), Dir.open, Dir.new, Dir.mkdir, Dir.rmdir, Dir.empty? releases GVL</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p>Dir.children  [Feature #11302]</p>
</li><li>
<p>Dir.each_child  [Feature #11302]</p>
</li></ul>
</li></ul>
</li><li>
<p>Enumerable</p>
<ul><li>
<p>Enumerable#<code>any?,all?,none?,one?</code> accept a pattern argument [Feature #11286]</p>
</li></ul>
</li><li>
<p>File</p>
<ul><li>
<p>File.open accepts :newline option to imply text mode.  [Bug #13350]</p>
</li><li>
<p>File#path raises an IOError for files opened with File::Constants::TMPFILE option. [Feature #13568]</p>
</li><li>
<p>File.stat, File.exist?, and other rb_stat()-using methods release GVL</p>
<dl class="rdoc-list label-list"><dt>Bug #13941
<dd></dd></dl>
</li><li>
<p>File.rename releases GVL [Feature #13951]</p>
</li><li>
<p>File::Stat#<code>atime,mtime,ctime</code> support fractional second timestamps on Windows 8 and later  [Feature #13726]</p>
</li><li>
<p>File::Stat#ino and File.indentical? support ReFS 128bit ino on Windows 8.1 and later  [Feature #13731]</p>
</li><li>
<p>File.readable?, File.readable_real?, File.writable?, File.writable_real?, File.executable?, File.executable_real?, File.mkfifo, File.readlink, File.truncate, File#truncate, File.chmod, File.lchmod, File.chown, File.lchown, File.unlink, File.utime, File.lstat release GVL</p>
</li><li>
<p>New method:</p>
<ul><li>
<p>File.lutime  [Feature #4052]</p>
</li></ul>
</li></ul>
</li><li>
<p>Exception</p>
<ul><li>
<p>Exception#full_message takes :highlight and :order options [Bug #14324]</p>
</li></ul>
</li><li>
<p>Hash</p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p>Hash#transform_keys  [Feature #13583]</p>
</li><li>
<p>Hash#transform_keys!  [Feature #13583]</p>
</li><li>
<p>Hash#slice  [Feature #8499]</p>
</li></ul>
</li></ul>
</li><li>
<p>IO</p>
<ul><li>
<p>IO#copy_stream tries copy offload with copy_file_range(2) [Feature #13867]</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p>IO#pread  [Feature #4532]</p>
</li><li>
<p>IO#pwrite  [Feature #4532]</p>
</li><li>
<p>IO#write accepts multiple arguments  [Feature #9323]</p>
</li></ul>
</li></ul>
</li><li>
<p>IOError</p>
<ul><li>
<p>IO#close might raise an error with message “stream closed”, but it is refined to “stream closed in another thread”. The new message is more clear for user.</p>
<dl class="rdoc-list label-list"><dt>Bug #13405
<dd></dd></dl>
</li></ul>
</li><li>
<p>Integer</p>
<ul><li>
<p>Integer#step no longer hides errors from coerce method when given a step value which cannot be compared with #&gt; to 0.</p>
<dl class="rdoc-list label-list"><dt>Feature #7688
<dd></dd></dl>
</li><li>
<p>Integer#<code>round,floor,ceil,truncate</code> always return an Integer.</p>
<dl class="rdoc-list label-list"><dt>Bug #13420
<dd></dd></dl>
</li><li>
<p>Integer#pow accepts modulo argument for calculating modular exponentiation.  [Feature #12508] [Feature #11003]</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p>Integer#allbits?, Integer#anybits?, Integer#nobits? [Feature #12753]</p>
</li><li>
<p>Integer.sqrt  [Feature #13219]</p>
</li></ul>
</li></ul>
</li><li>
<p>Kernel</p>
<ul><li>
<p>Kernel#yield_self   [Feature #6721]</p>
</li><li>
<p>Kernel#pp  [Feature #14123]</p>
</li><li>
<p>Kernel#warn(…, uplevel:n)  [Feature #12882]</p>
</li></ul>
</li><li>
<p>Method</p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p>Method#=== that invokes Method#call, as same as Proc#=== [Feature #14142]</p>
</li></ul>
</li></ul>
</li><li>
<p>Module</p>
<ul><li>
<p>Module#<code>attr,attr_accessor,attr_reader,attr_writer</code> become public [Feature #14132]</p>
</li><li>
<p>Module#<code>define_method,alias_method,undef_method,remove_method</code> become public [Feature #14133]</p>
</li></ul>
</li><li>
<p>Numeric</p>
<ul><li>
<p>Numerical comparison operators (&lt;,&lt;=,&gt;=,&gt;) no longer hide exceptions from #coerce method internally. Return nil in #coerce if the coercion is impossible.  [Feature #7688]</p>
</li></ul>
</li><li>
<p>Process</p>
<ul><li>
<p>Precision of Process.times is improved if getrusage(2) exists. [Feature #11952]</p>
</li><li>
<p>New method:</p>
<ul><li>
<p>Process.last_status as an alias of $? [Feature #14043]</p>
</li></ul>
</li></ul>
</li><li>
<p>Range</p>
<ul><li>
<p>Range#initialize no longer hides exceptions when comparing begin and end with #&lt;=&gt; and raise a “bad value for range” ArgumentError but instead lets the exception from the #&lt;=&gt; call go through.</p>
<dl class="rdoc-list label-list"><dt>Feature #7688
<dd></dd></dl>
</li></ul>
</li><li>
<p>Regexp</p>
<ul><li>
<p>Update to Onigmo 6.1.3-669ac9997619954c298da971fcfacccf36909d05.</p>
<ul><li>
<p>Support absence operator <a href="https://github.com/k-takata/Onigmo/issues/82">github.com/k-takata/Onigmo/issues/82</a></p>
</li></ul>
</li><li>
<p>Support new 5 emoji-related Unicode character properties</p>
</li></ul>
</li><li>
<p>RubyVM::InstructionSequence</p>
<ul><li>
<p>New method:</p>
<ul><li>
<p>RubyVM::InstructionSequence#each_child</p>
</li><li>
<p>RubyVM::InstructionSequence#trace_points</p>
</li></ul>
</li></ul>
</li><li>
<p>String</p>
<ul><li>
<p>String#-@ deduplicates unfrozen strings.  Already-frozen strings remain unchanged for compatibility.  [Feature #13077]</p>
</li><li>
<p>-“literal” (String#-@) optimized to return the same object (same as “literal”.freeze in Ruby 2.1+) [Feature #13295]</p>
</li><li>
<p>String#<code>casecmp,casecmp?</code> return nil for non-string arguments instead of raising a TypeError. [Bug #13312]</p>
</li><li>
<p>String#start_with? accepts a regexp [Feature #13712]</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p>String#delete_prefix, String#delete_prefix! [Feature #12694]</p>
</li><li>
<p>String#delete_suffix, String#delete_suffix! [Feature #13665]</p>
</li><li>
<p>String#each_grapheme_cluster and String#grapheme_clusters to enumerate grapheme clusters [Feature #13780]</p>
</li><li>
<p>String#undump to unescape String#dump&#39;ed string [Feature #12275]</p>
</li></ul>
</li></ul>
</li><li>
<p>Struct</p>
<ul><li>
<p>Struct.new takes `keyword_init: true` option to initialize members with keyword arguments. [Feature #11925]</p>
</li></ul>
</li><li>
<p>Regexp/String: Update Unicode version from 9.0.0 to 10.0.0 [Feature #13685]</p>
</li><li>
<p>Thread</p>
<ul><li>
<p>Description set by Thread#name= is now visible on Windows 10.</p>
</li><li>
<p>New method:</p>
<ul><li>
<p>Thread#fetch  [Feature #13009]</p>
</li></ul>
</li><li>
<p>The default of Thread.report_on_exception is now true, showing unhandled exceptions terminating threads on $stderr.</p>
<dl class="rdoc-list label-list"><dt>Feature #14143
<dd></dd></dl>
</li></ul>
</li><li>
<p>Time</p>
<ul><li>
<p>Time#at receives 3rd argument which specifies the unit of 2nd argument.</p>
<dl class="rdoc-list label-list"><dt>Feature #13919
<dd></dd></dl>
</li></ul>
</li><li>
<p>KeyError</p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p>KeyError#receiver [Feature #12063]</p>
</li><li>
<p>KeyError#key      [Feature #12063]</p>
</li></ul>
</li></ul>
</li><li>
<p>FrozenError</p>
<ul><li>
<p>New exception class. [Feature #13224]</p>
</li></ul>
</li></ul>

<h3 id="label-Stdlib+updates+-28outstanding+ones+only-29">Stdlib updates (outstanding ones only)</h3>
<ul><li>
<p>BigDecimal</p>
<ul><li>
<p>Update to BigDecimal 1.3.4</p>
</li><li>
<p>The following features are added:</p>
<ul><li>
<p>BigDecimal::VERSION</p>
</li></ul>
</li><li>
<p>The following features have been deprecated, and are planned to be removed in the version 1.4.0:</p>
<ul><li>
<p>BigDecimal.new</p>
</li><li>
<p>BigDecimal.ver</p>
</li></ul>
</li><li>
<p>BigDecimal#clone and #dup now do not make a new instance, but returns the receiver itself.</p>
</li></ul>
</li><li>
<p>Coverage</p>
<ul><li>
<p>Support branch coverage and method coverage measurement. [Feature #13901] Branch coverage tells you which branches are executed, and which not. Method coverage tells you which methods are invoked, and which not. By running a test suite with this new feature, you can know which branches and methods are executed by a test, and evaluate total coverage of a test suite more strictly.</p>

<p>You can specify the measuring target by an option to <code>Coverage.start</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Coverage</span>.<span class='id identifier rubyid_start'>start</span>(<span class='label'>lines:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>branches:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>methods:</span> <span class='kw'>true</span>)</code></pre>

<p>After some Ruby files are loaded, you can use <code>Coverage.result</code> to get the coverage result:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Coverage</span>.<span class='id identifier rubyid_result'>result</span>
<span class='comment'>#=&gt; { &quot;/path/to/file.rb&quot;=&gt;
</span><span class='comment'>#     { :lines =&gt; [1, 2, 0, nil, ...],
</span><span class='comment'>#       :branches =&gt;
</span><span class='comment'>#         { [:if, 0, 2, 1, 6, 4] =&gt;
</span><span class='comment'>#             { [:then, 1, 3, 2, 3, 8] =&gt; 0,
</span><span class='comment'>#               [:else, 2, 5, 2, 5, 8] =&gt; 2
</span><span class='comment'>#             }
</span><span class='comment'>#         },
</span><span class='comment'>#       :methods =&gt; {
</span><span class='comment'>#          [Object, :foo, 1, 0, 7, 3] =&gt; 2
</span><span class='comment'>#       }
</span><span class='comment'>#     }
</span><span class='comment'>#   }</span></code></pre>

<p>The result type of line coverage is not changed; it is just an array that contains numbers, which means the count that each line was executed, or `nil`s, which means that the line is not relevant.</p>

<p>The result type of branch coverage is:</p>

<pre class="code ruby"><code class="ruby">{ (<span class='id identifier rubyid_jump'>jump</span> <span class='id identifier rubyid_base'>base</span>) <span class='op'>=&gt;</span> { (<span class='id identifier rubyid_jump'>jump</span> <span class='id identifier rubyid_target'>target</span>) <span class='op'>=&gt;</span> (<span class='id identifier rubyid_counter'>counter</span>) } }</code></pre>

<p>where jump base and targets have the format</p>

<pre class="code ruby"><code class="ruby">[type, unique-id, start lineno, start column, end lineno, end column]</code></pre>

<p>For example, `[:if, 0, 2, 1, 6, 4]` reads an <code>if</code> statement that ranges from line 2 and column 1, to line 6 and column 4.  `[:then, 1, 3, 2, 3, 8]` reads a <code>then</code> clause that ranges from line 3 and column 2, to line 3 and column 8. Note that lineno starts from 1, and that columnno starts from 0.  So, the above example shows a branch from the <code>if</code> to the <code>then</code> was never executed, and a branch from the <code>if</code> to the <code>else</code> was executed twice.</p>

<p>The result type of method coverage is:</p>

<pre class="code ruby"><code class="ruby">{ (<span class='id identifier rubyid_method'>method</span> <span class='id identifier rubyid_key'>key</span>) <span class='op'>=&gt;</span> (<span class='id identifier rubyid_counter'>counter</span>) }</code></pre>

<p>where method key has the format</p>

<pre class="code ruby"><code class="ruby">[class, method-name, start lineno, start column, end lineno, end column]</code></pre>

<p>For example, `[Object, :foo, 1, 0, 7, 3]` reads <code>Object#foo</code> that ranges from line 1 and column 0, to line 7 and column 3.  The above example shows this <code>Object#foo</code> was invoked twice.</p>

<p>Note: To keep compatibility, passing no option to <code>Coverage.start</code> will measure only line coverage, and <code>Coverage.result</code> will return the old format:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Coverage</span>.<span class='id identifier rubyid_result'>result</span>
<span class='comment'>#=&gt; { &quot;/path/to/file.rb&quot;=&gt; [1, 2, 0, nil, ...] }</span></code></pre>
</li></ul>
</li><li>
<p>DRb</p>
<ul><li>
<p>ACL::ACLEntry.new no longer suppresses IPAddr::InvalidPrefixError.</p>
</li></ul>
</li><li>
<p>ERB</p>
<ul><li>
<p>Add ERB#result_with_hash to render a template with local variables passed with a Hash object. [Feature #8631]</p>
</li><li>
<p>Default template file encoding is changed from ASCII-8BIT to UTF-8 in erb command. [Bug #14095]</p>
</li><li>
<p>Carriage returns are changed to be trimmed properly if trim_mode is specified and used. Duplicated newlines will be removed on Windows. [Bug #5339] [Bug #11464]</p>
</li></ul>
</li><li>
<p>IPAddr</p>
<ul><li>
<p>IPAddr no longer accepts invalid address mask. [Bug #13399]</p>
</li><li>
<p>IPAddr#<code>ipv4_compat,ipv4_compat?</code> are marked for deprecation. [Bug #13769]</p>
</li><li>
<p>New methods:</p>
<ul><li>
<p>IPAddr#prefix</p>
</li><li>
<p>IPAddr#loopback?</p>
</li><li>
<p>IPAddr#private? [Feature #11666]</p>
</li><li>
<p>IPAddr#link_local? [Feature #10912]</p>
</li></ul>
</li></ul>
</li><li>
<p>IRB</p>
<ul><li>
<p>Print backtrace and error message in reverse order [Feature #8661] [experimental]</p>
</li><li>
<p><code>binding.irb</code> automatically requires irb and runs [Bug #13099] [experimental]</p>
</li><li>
<p><code>binding.irb</code> on its start shows source around the line where it was called</p>
<dl class="rdoc-list label-list"><dt>Feature #14124
<dd></dd></dl>
</li></ul>
</li><li>
<p>Matrix</p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p>Matrix.combine and Matrix#combine [Feature #10903]</p>
</li><li>
<p>Matrix#<code>hadamard_product,entrywise_product</code></p>
</li></ul>
</li></ul>
</li><li>
<p>Net::HTTP</p>
<ul><li>
<p>Net::HTTP.new supports no_proxy parameter [Feature #11195]</p>
</li><li>
<p>Net::HTTP#<code>min_version,max_version</code>, [Feature #9450]</p>
</li><li>
<p>Add more HTTP status classes</p>
</li><li>
<p>Net::HTTP::STATUS_CODES is added as HTTP Status Code Repository [Misc #12935]</p>
</li><li>
<p>Net::HTTP#<code>proxy_user,proxy_pass</code> reflect http_proxy environment variable if the system&#39;s environment variable is multiuser safe. [Bug #12921]</p>
</li></ul>
</li><li>
<p>open-uri</p>
<ul><li>
<p>URI.open method defined as an alias to open-uri&#39;s Kernel.open. open-uri&#39;s Kernel.open will be deprecated in future.</p>
</li></ul>
</li><li>
<p>OpenSSL</p>
<ul><li>
<p>Updated Ruby/OpenSSL from version 2.0 to 2.1. Changes are noted in “Version 2.1.0” section in ext/openssl/History.md.</p>
</li></ul>
</li><li>
<p>Pathname</p>
<ul><li>
<p>New method:</p>
<ul><li>
<p>Pathname#glob [Feature #7360]</p>
</li></ul>
</li></ul>
</li><li>
<p>Psych</p>
<ul><li>
<p>Update to Psych 3.0.2.</p>
<ul><li>
<p>Convert fallback option to a keyword argument <a href="https://github.com/ruby/psych/pull/342">github.com/ruby/psych/pull/342</a></p>
</li><li>
<p>Add :symbolize_names option to Psych.load, Psych.safe_load like JSON.parse <a href="https://github.com/ruby/psych/pull/333">github.com/ruby/psych/pull/333</a>, <a href="https://github.com/ruby/psych/pull/337">github.com/ruby/psych/pull/337</a></p>
</li><li>
<p>Add Psych::Handler#event_location <a href="https://github.com/ruby/psych/pull/326">github.com/ruby/psych/pull/326</a></p>
</li><li>
<p>Make frozen string literal = true <a href="https://github.com/ruby/psych/pull/320">github.com/ruby/psych/pull/320</a></p>
</li><li>
<p>Preserve time zone offset when deserializing times <a href="https://github.com/ruby/psych/pull/316">github.com/ruby/psych/pull/316</a></p>
</li><li>
<p>Remove deprecated method aliases for syck gem <a href="https://github.com/ruby/psych/pull/312">github.com/ruby/psych/pull/312</a></p>
</li></ul>
</li></ul>
</li><li>
<p>RbConfig</p>
<ul><li>
<p>RbConfig::LIMITS is added to provide the limits of C types. This is available when rbconfig/sizeof is loaded.</p>
</li></ul>
</li><li>
<p>Ripper</p>
<ul><li>
<p>Ripper::EXPR_BEG and so on for Ripper#state.</p>
</li><li>
<p>New method:</p>
<ul><li>
<p>Ripper#state to tell the state of scanner. [Feature #13686]</p>
</li></ul>
</li></ul>
</li><li>
<p>RDoc</p>
<ul><li>
<p>Update to RDoc 6.0.1.</p>
<ul><li>
<p>Replace IRB based lexer with Ripper.</p>
<ul><li>
<p><a href="https://github.com/ruby/rdoc/pull/512">github.com/ruby/rdoc/pull/512</a></p>
</li><li>
<p>This much improves the speed of generating documents.</p>
</li><li>
<p>It also facilitates supporting new syntax in the future.</p>
</li></ul>
</li><li>
<p>Support many new syntaxes of Ruby from the past few years.</p>
</li><li>
<p>Use “frozen_string_literal: true”. Performance survey: <a href="https://gist.github.com/aycabta/abdfaa75ea8a6877eeb734e942e73800">gist.github.com/aycabta/abdfaa75ea8a6877eeb734e942e73800</a></p>
</li><li>
<p>Support did_you_mean.</p>
</li></ul>
</li></ul>
</li><li>
<p>Rubygems</p>
<ul><li>
<p>Update to Rubygems 2.7.3.</p>
<ul><li>
<p><a href="http://blog.rubygems.org/2017/11/28/2.7.3-released.html">blog.rubygems.org/2017/11/28/2.7.3-released.html</a></p>
</li><li>
<p><a href="http://blog.rubygems.org/2017/11/08/2.7.2-released.html">blog.rubygems.org/2017/11/08/2.7.2-released.html</a></p>
</li><li>
<p><a href="http://blog.rubygems.org/2017/11/03/2.7.1-released.html">blog.rubygems.org/2017/11/03/2.7.1-released.html</a></p>
</li><li>
<p><a href="http://blog.rubygems.org/2017/11/01/2.7.0-released.html">blog.rubygems.org/2017/11/01/2.7.0-released.html</a></p>
</li><li>
<p><a href="http://blog.rubygems.org/2017/10/09/2.6.14-released.html">blog.rubygems.org/2017/10/09/2.6.14-released.html</a></p>
</li><li>
<p><a href="http://blog.rubygems.org/2017/08/27/2.6.13-released.html">blog.rubygems.org/2017/08/27/2.6.13-released.html</a></p>
</li></ul>
</li></ul>
</li><li>
<p>SecureRandom</p>
<ul><li>
<p>New method:</p>
<ul><li>
<p>SecureRandom.alphanumeric</p>
</li></ul>
</li></ul>
</li><li>
<p>Set</p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p>Set#to_s as alias to #inspect [Feature #13676]</p>
</li><li>
<p>Set#=== as alias to #include? [Feature #13801]</p>
</li><li>
<p>Set#reset [Feature #6589]</p>
</li></ul>
</li></ul>
</li><li>
<p>StringIO</p>
<ul><li>
<p>StringIO#write accepts multiple arguments</p>
</li></ul>
</li><li>
<p>StringScanner</p>
<ul><li>
<p>New methods:</p>
<ul><li>
<p>StringScanner#size, StringScanner#captures, StringScanner#values_at  [Feature #836]</p>
</li></ul>
</li></ul>
</li><li>
<p>URI</p>
<ul><li>
<p>Relative path operations no longer collapse consecutive slashes to a single slash. [Bug #8352]</p>
</li></ul>
</li><li>
<p>WEBrick</p>
<ul><li>
<p>Add Server Name Indication (SNI) support [Feature #13729]</p>
</li><li>
<p>support Proc objects as body responses [Feature #855]</p>
</li><li>
<p>released as a RubyGem [Feature #13173]</p>
</li><li>
<p>avoid unintended behavior from Kernel#open [Misc #14216]</p>
</li></ul>
</li><li>
<p>Zlib</p>
<ul><li>
<p>Zlib::GzipWriter#write accepts multiple arguments</p>
</li></ul>
</li></ul>

<h3 id="label-Compatibility+issues+-28excluding+feature+bug+fixes-29">Compatibility issues (excluding feature bug fixes)</h3>
<ul><li>
<p>Socket</p>
<ul><li>
<p>BasicSocket#read_nonblock and BasicSocket#write_nonblock no longer set the O_NONBLOCK file description flag as side effect (on Linux only) [Feature #13362]</p>
</li></ul>
</li><li>
<p>Random</p>
<ul><li>
<p>Random.raw_seed renamed to become Random.urandom.  It is now applicable to non-seeding purposes due to [Bug #9569].</p>
</li></ul>
</li><li>
<p>Socket</p>
<ul><li>
<p>Socket::Ifaddr#vhid is added [Feature #13803]</p>
</li></ul>
</li><li>
<p>ConditionVariable, Queue and SizedQueue reimplemented for speed. They no longer subclass Struct. [Feature #13552]</p>
</li></ul>

<h3 id="label-Stdlib+compatibility+issues+-28excluding+feature+bug+fixes-29">Stdlib compatibility issues (excluding feature bug fixes)</h3>
<ul><li>
<p>Gemification</p>
<ul><li>
<p>Promote following standard libraries to default gems.</p>
<ul><li>
<p>cmath</p>
</li><li>
<p>csv</p>
</li><li>
<p>date</p>
</li><li>
<p>dbm</p>
</li><li>
<p>etc</p>
</li><li>
<p>fcntl</p>
</li><li>
<p>fiddle</p>
</li><li>
<p>fileutils</p>
</li><li>
<p>gdbm</p>
</li><li>
<p>ipaddr</p>
</li><li>
<p>scanf</p>
</li><li>
<p>sdbm</p>
</li><li>
<p>stringio</p>
</li><li>
<p>strscan</p>
</li><li>
<p>webrick</p>
</li><li>
<p>zlib</p>
</li></ul>
</li></ul>
</li><li>
<p>Logger</p>
<ul><li>
<p>Logger.new(“| command”) had been working to open a command unintentionally. It was prohibited, and now Logger#initialize treats a String argument only as a filename, as its specification.</p>
<dl class="rdoc-list label-list"><dt>Bug #14212
<dd></dd></dl>
</li></ul>
</li><li>
<p>Net::HTTP</p>
<ul><li>
<p>Net::HTTP#start now passes :ENV to p_addr by default. [Bug #13351] To avoid this, pass nil explicitly.</p>
</li></ul>
</li><li>
<p>mathn.rb</p>
<ul><li>
<p>Removed from stdlib. [Feature #10169]</p>
</li></ul>
</li><li>
<p>Rubygems</p>
<ul><li>
<p>Removed “ubygems.rb” file from stdlib. It&#39;s needless since Ruby 1.9.</p>
</li></ul>
</li></ul>

<h3 id="label-C+API+updates">C API updates</h3>

<h3 id="label-Supported+platform+changes">Supported platform changes</h3>
<ul><li>
<p>Drop support of NaCl platform</p>
<ul><li>
<p><a href="https://bugs.chromium.org/p/chromium/issues/detail?id=239656#c160">bugs.chromium.org/p/chromium/issues/detail?id=239656#c160</a></p>
</li></ul>
</li></ul>

<h3 id="label-Implementation+improvements">Implementation improvements</h3>
<ul><li>
<p>(This might not be a “user visible feature change” but) Hash class&#39;s hash function is now SipHash13. [Feature #13017]</p>
</li><li>
<p>SecureRandom now prefers OS-provided sources than OpenSSL. [Bug #9569]</p>
</li><li>
<p>Mutex rewritten to be smaller and faster [Feature #13517]</p>
</li><li>
<p>Performance of block passing using block parameters is improved by lazy Proc allocation [Feature #14045]</p>
</li><li>
<p>Dynamic instrumentation for TracePoint hooks instead of using “trace” instruction to avoid overhead [Feature #14104]</p>
</li><li>
<p>ERB now generates code from a template which runs 2 times faster than Ruby 2.4</p>
</li></ul>

<h3 id="label-Miscellaneous+changes">Miscellaneous changes</h3>
<ul><li>
<p>Print backtrace and error message in reverse order if STDERR is unchanged and a tty.</p>
<dl class="rdoc-list label-list"><dt>Feature #8661
<dd><dl class="rdoc-list label-list"><dt>experimental
<dd></dd></dl>
</dd></dl>
</li><li>
<p>Print error message in bold/underlined text if STDERR is unchanged and a tty.</p>
<dl class="rdoc-list label-list"><dt>Feature #14140
<dd><dl class="rdoc-list label-list"><dt>experimental
<dd></dd></dl>
</dd></dl>
</li><li>
<p>configure option –with-ext now mandates its arguments.  So for instance if you run ./configure –with-ext=openssl,+ then the openssl library is guaranteed compiled, otherwise the build fails abnormally.</p>

<p>Note however to always add the “,+” at the end of the argument. Otherwise nothing but openssl are built.  [Feature #13302]</p>
</li></ul>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>