<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: Tutorial &mdash; rexml  Ruby-3.1.7 p261</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "tutorial",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.1.7</a> &raquo; 
      <a href='.'>rexml</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: Tutorial&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>

<h1 id="label-REXML+Tutorial">REXML Tutorial</h1>

<h2 id="label-Why+REXML-3F">Why REXML?</h2>
<ul><li>
<p>Ruby’s REXML library is part of the Ruby distribution, so using it requires no gem installations.</p>
</li><li>
<p>REXML is fully maintained.</p>
</li><li>
<p>REXML is mature, having been in use for long years.</p>
</li></ul>

<h2 id="label-To+Include-2C+or+Not+to+Include-3F">To Include, or Not to Include?</h2>

<p><a href="REXML.html" title="REXML (module)"><code>REXML</code></a> is a module. To use it, you must require it:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rexml</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># =&gt; true</span></code></pre>

<p>If you do not also include it, you must fully qualify references to <a href="REXML.html" title="REXML (module)"><code>REXML</code></a>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Document.html" title="REXML::Document (class)">Document</a></span> <span class='comment'># =&gt; REXML::Document</span></code></pre>

<p>If you also include the module, you may optionally omit <code>REXML::</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_include'>include</span> <span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span>
<span class='const'>Document</span> <span class='comment'># =&gt; REXML::Document
</span><span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Document.html" title="REXML::Document (class)">Document</a></span> <span class='comment'># =&gt; REXML::Document</span></code></pre>

<h2 id="label-Preliminaries">Preliminaries</h2>

<p>All examples here assume that the following code has been executed:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rexml</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_include'>include</span> <span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span></code></pre>

<p>The source XML for many examples here is from file <a href="https://www.w3schools.com/xml/books.xml" target="_parent" title="books.xml">books.xml</a> at w3schools.com. You may find it convenient to open that page in a new tab (Ctrl-click in some browsers).</p>

<p>Note that your browser may display the XML with modified whitespace and without the XML declaration, which in this case is:</p>

<pre class="code xml"><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</code></pre>

<p>For convenience, we capture the XML into a string variable:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>open-uri</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_source_string'>source_string</span> <span class='op'>=</span> <span class='const'>URI</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://www.w3schools.com/xml/books.xml</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_read'>read</span></code></pre>

<p>And into a file:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>File</span>.<span class='id identifier rubyid_write'>write</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>source_file.xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_source_string'>source_string</span>)</code></pre>

<p>Throughout these examples, variable <code>doc</code> will hold only the document derived from these sources:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_source_string'>source_string</span>)</code></pre>

<h2 id="label-Parsing+XML+Source">Parsing XML Source</h2>

<h3 id="label-Parsing+a+Document">Parsing a Document</h3>

<p>Use method REXML::Document::new to parse XML source.</p>

<p>The source may be a string:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_source_string'>source_string</span>)</code></pre>

<p>Or an IO stream:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>source_file.xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
  <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_io'>io</span>)
<span class='kw'>end</span></code></pre>

<p>Method <code>URI.open</code> returns a StringIO object, so the source can be from a web page:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>open-uri</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='const'>URI</span>.<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://www.w3schools.com/xml/books.xml</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; StringIO
</span><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_io'>io</span>)</code></pre>

<p>For any of these sources, the returned object is an <a href="REXML/Document.html" title="REXML::Document (class)"><code>::REXML::Document</code></a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>       <span class='comment'># =&gt; &lt;UNDEFINED&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; REXML::Document</span></code></pre>

<p>Note: <code>&#39;UNDEFINED&#39;</code> is the “name” displayed for a document, even though <code>doc.name</code> returns an empty string <code>&quot;&quot;</code>.</p>

<p>A parsed document may produce REXML objects of many classes, but the two that are likely to be of greatest interest are <a href="REXML/Document.html" title="REXML::Document (class)"><code>::REXML::Document</code></a> and <a href="REXML/Element.html" title="REXML::Element (class)"><code>::REXML::Element</code></a>. These two classes are covered in great detail in this tutorial.</p>

<h3 id="label-Context+-28Parsing+Options-29">Context (Parsing Options)</h3>

<p>The context for parsing a document is a hash that influences the way the XML is read and stored.</p>

<p>The context entries are:</p>
<ul><li>
<p><code>:respect_whitespace</code>: controls treatment of whitespace.</p>
</li><li>
<p><code>:compress_whitespace</code>: determines whether whitespace is compressed.</p>
</li><li>
<p><code>:ignore_whitespace_nodes</code>: determines whether whitespace-only nodes are to be ignored.</p>
</li><li>
<p><code>:raw</code>: controls treatment of special characters and entities.</p>
</li></ul>

<p>See <a href="file.context_rdoc.html" title="Element Context">Element Context</a>.</p>

<h2 id="label-Exploring+the+Document">Exploring the Document</h2>

<p>An REXML::Document object represents an XML document.</p>

<p>The object inherits from its ancestor classes:</p>
<ul><li>
<p><a href="REXML/Child.html" title="REXML::Child (class)"><code>::REXML::Child</code></a> (includes module <a href="REXML/Node.html" title="REXML::Node (module)"><code>::REXML::Node</code></a>)</p>
<ul><li>
<p>REXML::Parent (includes module <a href="file.Enumerable.html">Enumerable</a>).</p>
<ul><li>
<p>REXML::Element (includes module REXML::Namespace).</p>
<ul><li>
<p>REXML::Document</p>
</li></ul>
</li></ul>
</li></ul>
</li></ul>

<p>This section covers only those properties and methods that are unique to a document (that is, not inherited or included).</p>

<h3 id="label-Document+Properties">Document Properties</h3>

<p>A document has several properties (other than its children);</p>
<ul><li>
<p>Document type.</p>
</li><li>
<p>Node type.</p>
</li><li>
<p>Name.</p>
</li><li>
<p>Document.</p>
</li><li>
<p>XPath</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>Document Type</dt>
<dd>
<p>A document may have a document type:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;!DOCTYPE foo&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_doc_type'>doc_type</span> <span class='op'>=</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_doctype'>doctype</span>
<span class='id identifier rubyid_doc_type'>doc_type</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; REXML::DocType
</span><span class='id identifier rubyid_doc_type'>doc_type</span>.<span class='id identifier rubyid_to_s'>to_s</span>  <span class='comment'># =&gt; &quot;&lt;!DOCTYPE foo&gt;&quot;</span></code></pre>
</dd><dt>Node Type</dt>
<dd>
<p>A document also has a node type (always <code>:document</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_node_type'>node_type</span> <span class='comment'># =&gt; :document</span></code></pre>
</dd><dt>Name</dt>
<dd>
<p>A document has a name (always an empty string):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_name'>name</span> <span class='comment'># =&gt; &quot;&quot;</span></code></pre>
</dd><dt>Document</dt>
<dd>
<p>Method REXML::Document#document returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_document'>document</span> <span class='op'>==</span> <span class='id identifier rubyid_doc'>doc</span> <span class='comment'># =&gt; true</span></code></pre>

<p>An object of a different class (REXML::Element or REXML::Child) may have a document, which is the document to which the object belongs; if so, that document will be an REXML::Document object.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; REXML::Document</span></code></pre>
</dd><dt>XPath</dt>
<dd>
<p>method REXML::Element#xpath returns the string xpath to the element, relative to its most distant ancestor:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_class'>class</span>             <span class='comment'># =&gt; REXML::Element
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_xpath'>xpath</span>             <span class='comment'># =&gt; &quot;/bookstore&quot;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_texts'>texts</span>.<span class='id identifier rubyid_first'>first</span>       <span class='comment'># =&gt; &quot;\n\n&quot;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_texts'>texts</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_xpath'>xpath</span> <span class='comment'># =&gt; &quot;/bookstore/text()&quot;</span></code></pre>

<p>If there is no ancestor, returns the expanded name of the element:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_xpath'>xpath</span> <span class='comment'># =&gt; &quot;foo&quot;</span></code></pre>
</dd></dl>

<h3 id="label-Document+Children">Document Children</h3>

<p>A document may have children of these types:</p>
<ul><li>
<p>XML declaration.</p>
</li><li>
<p>Root element.</p>
</li><li>
<p>Text.</p>
</li><li>
<p>Processing instructions.</p>
</li><li>
<p>Comments.</p>
</li><li>
<p>CDATA.</p>
</li></ul>
<dl class="rdoc-list label-list"><dt>XML Declaration</dt>
<dd>
<p>A document may an XML declaration, which is stored as an REXML::XMLDecl object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_xml_decl'>xml_decl</span>       <span class='comment'># =&gt; &lt;?xml ... ?&gt;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_xml_decl'>xml_decl</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; REXML::XMLDecl
</span>
<span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_xml_decl'>xml_decl</span> <span class='comment'># =&gt; &lt;?xml ... ?&gt;
</span>
<span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&quot;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_xml_decl'>xml_decl</span> <span class='op'>=</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_xml_decl'>xml_decl</span>
<span class='id identifier rubyid_xml_decl'>xml_decl</span>.<span class='id identifier rubyid_to_s'>to_s</span>  <span class='comment'># =&gt; &quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; standalone=&quot;yes&quot;?&gt;&quot;</span></code></pre>

<p>The version, encoding, and stand-alone values may be retrieved separately:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_version'>version</span>      <span class='comment'># =&gt; &quot;1.0&quot;
</span><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_encoding'>encoding</span>     <span class='comment'># =&gt; &quot;UTF-8&quot;
</span><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_stand_alone?'>stand_alone?</span> <span class='comment'># =&gt; &quot;yes&quot;</span></code></pre>
</dd><dt>Root Element</dt>
<dd>
<p>A document may have a single element child, called the <em>root</em> <em>element</em>, which is stored as an REXML::Element object; it may be retrieved with method <code>root</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>           <span class='comment'># =&gt; &lt;bookstore&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_class'>class</span>     <span class='comment'># =&gt; REXML::Element
</span>
<span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_root'>root</span> <span class='comment'># =&gt; nil</span></code></pre>
</dd><dt>Text</dt>
<dd>
<p>A document may have text passages, each of which is stored as an REXML::Text object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_texts'>texts</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>]</code></pre>
</dd><dt>Processing Instructions</dt>
<dd>
<p>A document may have processing instructions, which are stored as REXML::Instruction objects:</p>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Instruction.html" title="REXML::Instruction (class)">Instruction</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='CHAR'>?p</span><span class='op'>-</span><span class='id identifier rubyid_i'>i</span> <span class='id identifier rubyid_my'>my</span><span class='op'>-</span><span class='id identifier rubyid_application'>application</span> <span class='op'>...</span><span class='CHAR'>?&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Instruction.html" title="REXML::Instruction (class)">Instruction</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='CHAR'>?p</span><span class='op'>-</span><span class='id identifier rubyid_i'>i</span> <span class='id identifier rubyid_my'>my</span><span class='op'>-</span><span class='id identifier rubyid_application'>application</span> <span class='op'>...</span><span class='CHAR'>?&gt;</span>]</code></pre>
</dd><dt>Comments</dt>
<dd>
<p>A document may have comments, which are stored as REXML::Comment objects:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>  &lt;!--foo--&gt;
  &lt;!--bar--&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Comment.html" title="REXML::Comment (class)">Comment</a></span><span class='comma'>,</span> <span class='comment'>#&lt;REXML::Comment: @parent=&lt;UNDEFINED&gt; ... &lt;/&gt;, @string=&quot;foo&quot;&gt;]
</span>[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Comment.html" title="REXML::Comment (class)">Comment</a></span><span class='comma'>,</span> <span class='comment'>#&lt;REXML::Comment: @parent=&lt;UNDEFINED&gt; ... &lt;/&gt;, @string=&quot;bar&quot;&gt;]</span></code></pre>
</dd><dt>CDATA</dt>
<dd>
<p>A document may have CDATA entries, which are stored as REXML::CData objects:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>  &lt;![CDATA[foo]]&gt;
  &lt;![CDATA[bar]]&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_cdatas'>cdatas</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_cd'>cd</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_cd'>cd</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_cd'>cd</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/CData.html" title="REXML::CData (class)">CData</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/CData.html" title="REXML::CData (class)">CData</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span>]</code></pre>
</dd></dl>

<p>The payload of a document is a tree of nodes, descending from the root element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_children'>children</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='op'>|</span>
  <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_child'>child</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span>.<span class='id identifier rubyid_class'>class</span>]
<span class='kw'>end</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooking</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Text, &quot;\n\n&quot;]
[REXML::Element, &lt;book category=&#39;children&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Text, &quot;\n\n&quot;]
[REXML::Element, &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]</code></pre>

<h2 id="label-Exploring+an+Element">Exploring an Element</h2>

<p>An REXML::Element object represents an XML element.</p>

<p>The object inherits from its ancestor classes:</p>
<ul><li>
<p><a href="REXML/Child.html" title="REXML::Child (class)"><code>::REXML::Child</code></a> (includes module <a href="REXML/Node.html" title="REXML::Node (module)"><code>::REXML::Node</code></a>)</p>
<ul><li>
<p>REXML::Parent (includes module <a href="file.Enumerable.html">Enumerable</a>).</p>
<ul><li>
<p>REXML::Element (includes module REXML::Namespace).</p>
</li></ul>
</li></ul>
</li></ul>

<p>This section covers methods:</p>
<ul><li>
<p>Defined in <a href="REXML/Element.html" title="REXML::Element (class)"><code>::REXML::Element</code></a> itself.</p>
</li><li>
<p>Inherited from <a href="REXML/Parent.html" title="REXML::Parent (class)"><code>::REXML::Parent</code></a> and <a href="REXML/Child.html" title="REXML::Child (class)"><code>::REXML::Child</code></a>.</p>
</li><li>
<p>Included from <a href="REXML/Node.html" title="REXML::Node (module)"><code>::REXML::Node</code></a>.</p>
</li></ul>

<h3 id="label-Inside+the+Element">Inside the Element</h3>
<dl class="rdoc-list label-list"><dt>Brief String Representation</dt>
<dd>
<p>Use method REXML::Element#inspect to retrieve a brief string representation.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_inspect'>inspect</span> <span class='comment'># =&gt; &quot;&lt;bookstore&gt; ... &lt;/&gt;&quot;</span></code></pre>

<p>The ellipsis (<code>...</code>) indicates that the element has children. When there are no children, the ellipsis is omitted:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_inspect'>inspect</span> <span class='comment'># =&gt; &quot;&lt;foo/&gt;&quot;</span></code></pre>

<p>If the element has attributes, those are also included:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_inspect'>inspect</span> <span class='comment'># =&gt; &quot;&lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;&quot;</span></code></pre>
</dd><dt>Extended String Representation</dt>
<dd>
<p>Use inherited method REXML::Child.bytes to retrieve an extended string representation.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_bytes'>bytes</span> <span class='comment'># =&gt; &quot;&lt;bookstore&gt;\n\n&lt;book category=&#39;cooking&#39;&gt;\n  &lt;title lang=&#39;en&#39;&gt;Everyday Italian&lt;/title&gt;\n  &lt;author&gt;Giada De Laurentiis&lt;/author&gt;\n  &lt;year&gt;2005&lt;/year&gt;\n  &lt;price&gt;30.00&lt;/price&gt;\n&lt;/book&gt;\n\n&lt;book category=&#39;children&#39;&gt;\n  &lt;title lang=&#39;en&#39;&gt;Harry Potter&lt;/title&gt;\n  &lt;author&gt;J K. Rowling&lt;/author&gt;\n  &lt;year&gt;2005&lt;/year&gt;\n  &lt;price&gt;29.99&lt;/price&gt;\n&lt;/book&gt;\n\n&lt;book category=&#39;web&#39;&gt;\n  &lt;title lang=&#39;en&#39;&gt;XQuery Kick Start&lt;/title&gt;\n  &lt;author&gt;James McGovern&lt;/author&gt;\n  &lt;author&gt;Per Bothner&lt;/author&gt;\n  &lt;author&gt;Kurt Cagle&lt;/author&gt;\n  &lt;author&gt;James Linn&lt;/author&gt;\n  &lt;author&gt;Vaidyanathan Nagarajan&lt;/author&gt;\n  &lt;year&gt;2003&lt;/year&gt;\n  &lt;price&gt;49.99&lt;/price&gt;\n&lt;/book&gt;\n\n&lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt;\n  &lt;title lang=&#39;en&#39;&gt;Learning XML&lt;/title&gt;\n  &lt;author&gt;Erik T. Ray&lt;/author&gt;\n  &lt;year&gt;2003&lt;/year&gt;\n  &lt;price&gt;39.95&lt;/price&gt;\n&lt;/book&gt;\n\n&lt;/bookstore&gt;&quot;</span></code></pre>
</dd><dt>Node Type</dt>
<dd>
<p>Use method REXML::Element#node_type to retrieve the node type (always <code>:element</code>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_node_type'>node_type</span> <span class='comment'># =&gt; :element</span></code></pre>
</dd><dt>Raw Mode</dt>
<dd>
<p>Use method REXML::Element#raw to retrieve whether (<code>true</code> or <code>nil</code>) raw mode is set.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_raw'>raw</span> <span class='comment'># =&gt; nil</span></code></pre>
</dd><dt>Context</dt>
<dd>
<p>Use method REXML::Element#context to retrieve the context hash (see <a href="file.context_rdoc.html" title="Element Context">Element Context</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_context'>context</span> <span class='comment'># =&gt; {}</span></code></pre>
</dd></dl>

<h3 id="label-Relationships">Relationships</h3>

<p>An element may have:</p>
<ul><li>
<p>Ancestors.</p>
</li><li>
<p>Siblings.</p>
</li><li>
<p>Children.</p>
</li></ul>

<h4 id="label-Ancestors">Ancestors</h4>
<dl class="rdoc-list label-list"><dt>Containing Document</dt>
<dd>
<p>Use method REXML::Element#document to retrieve the containing document, if any:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_first'>first</span>   <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_document'>document</span>                    <span class='comment'># =&gt; &lt;UNDEFINED&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_document'>document</span>                    <span class='comment'># =&gt; nil</span></code></pre>
</dd><dt>Root Element</dt>
<dd>
<p>Use method REXML::Element#root to retrieve the root element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_first'>first</span>   <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_root'>root</span>                        <span class='comment'># =&gt; &lt;bookstore&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_root'>root</span>                        <span class='comment'># =&gt; &lt;foo/&gt;</span></code></pre>
</dd><dt>Root Node</dt>
<dd>
<p>Use method REXML::Element#root_node to retrieve the most distant ancestor, which is the containing document, if any, otherwise the root element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_first'>first</span>   <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_root_node'>root_node</span>                   <span class='comment'># =&gt; &lt;UNDEFINED&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)        <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_root_node'>root_node</span>                   <span class='comment'># =&gt; &lt;foo/&gt;</span></code></pre>
</dd><dt>Parent</dt>
<dd>
<p>Use inherited method REXML::Child#parent to retrieve the parent</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>                <span class='comment'># =&gt; &lt;bookstore&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_parent'>parent</span>                    <span class='comment'># =&gt; &lt;UNDEFINED&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_first'>first</span> <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_parent'>parent</span>                    <span class='comment'># =&gt; &lt;bookstore&gt; ... &lt;/&gt;</span></code></pre>

<p>Use included method REXML::Node#index_in_parent to retrieve the index of the element among all of its parents children (not just the element children). Note that while the index for <code>doc.root.elements[n]</code> is 1-based, the returned index is 0-based.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_children'>children</span> <span class='comment'># =&gt;
</span>  <span class='comment'># [&quot;\n\n&quot;,
</span>  <span class='comment'>#  &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;,
</span>  <span class='comment'>#  &quot;\n\n&quot;,
</span>  <span class='comment'>#  &lt;book category=&#39;children&#39;&gt; ... &lt;/&gt;,
</span>  <span class='comment'>#  &quot;\n\n&quot;,
</span>  <span class='comment'>#  &lt;book category=&#39;web&#39;&gt; ... &lt;/&gt;,
</span>  <span class='comment'>#  &quot;\n\n&quot;,
</span>  <span class='comment'>#  &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;/&gt;,
</span>  <span class='comment'>#  &quot;\n\n&quot;]
</span><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='int'>1</span>] <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index_in_parent'>index_in_parent</span> <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='int'>2</span>]  <span class='comment'># =&gt; &lt;book category=&#39;children&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index_in_parent'>index_in_parent</span><span class='comment'># =&gt; 4</span></code></pre>
</dd></dl>

<h4 id="label-Siblings">Siblings</h4>
<dl class="rdoc-list label-list"><dt>Next Element</dt>
<dd>
<p>Use method REXML::Element#next_element to retrieve the first following sibling that is itself an element (<code>nil</code> if there is none):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='int'>1</span>]
<span class='kw'>while</span> <span class='id identifier rubyid_ele'>ele</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_ele'>ele</span>]
  <span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_next_element'>next_element</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_ele'>ele</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooking</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;book category=&#39;children&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]</code></pre>
</dd><dt>Previous Element</dt>
<dd>
<p>Use method REXML::Element#previous_element to retrieve the first preceding sibling that is itself an element (<code>nil</code> if there is none):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='int'>4</span>]
<span class='kw'>while</span> <span class='id identifier rubyid_ele'>ele</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_ele'>ele</span>]
  <span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_previous_element'>previous_element</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_ele'>ele</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span> <span class='id identifier rubyid_cover'>cover</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>paperback</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;book category=&#39;web&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>children</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;book category=&#39;cooking&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]</code></pre>
</dd><dt>Next Node</dt>
<dd>
<p>Use included method REXML::Node.next_sibling_node (or its alias <code>next_sibling</code>) to retrieve the first following node regardless of its class:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_children'>children</span>[<span class='int'>0</span>]
<span class='kw'>while</span> <span class='id identifier rubyid_node'>node</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>]
  <span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_next_sibling'>next_sibling</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_node'>node</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooking</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Text, &quot;\n\n&quot;]
[REXML::Element, &lt;book category=&#39;children&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Text, &quot;\n\n&quot;]
[REXML::Element, &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]</code></pre>
</dd><dt>Previous Node</dt>
<dd>
<p>Use included method REXML::Node.previous_sibling_node (or its alias <code>previous_sibling</code>) to retrieve the first preceding node regardless of its class:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_children'>children</span>[<span class='op'>-</span><span class='int'>1</span>]
<span class='kw'>while</span> <span class='id identifier rubyid_node'>node</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>]
  <span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_previous_sibling'>previous_sibling</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_node'>node</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span> <span class='id identifier rubyid_cover'>cover</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>paperback</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Text, &quot;\n\n&quot;]
[REXML::Element, &lt;book category=&#39;web&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>children</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Text, &quot;\n\n&quot;]
[REXML::Element, &lt;book category=&#39;cooking&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]</code></pre>
</dd></dl>

<h4 id="label-Children">Children</h4>
<dl class="rdoc-list label-list"><dt>Child Count</dt>
<dd>
<p>Use inherited method REXML::Parent.size to retrieve the count of nodes (of all types) in the element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 9</span></code></pre>
</dd><dt>Child Nodes</dt>
<dd>
<p>Use inherited method REXML::Parent.children to retrieve an array of the child nodes (of all types):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_children'>children</span> <span class='comment'># =&gt;
</span>                  <span class='comment'># [&quot;\n\n&quot;,
</span>                  <span class='comment'>#  &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;,
</span>                  <span class='comment'>#  &quot;\n\n&quot;,
</span>                  <span class='comment'>#  &lt;book category=&#39;children&#39;&gt; ... &lt;/&gt;,
</span>                  <span class='comment'>#  &quot;\n\n&quot;,
</span>                  <span class='comment'>#  &lt;book category=&#39;web&#39;&gt; ... &lt;/&gt;,
</span>                  <span class='comment'>#  &quot;\n\n&quot;,
</span>                  <span class='comment'>#  &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;/&gt;,
</span>                  <span class='comment'>#  &quot;\n\n&quot;]</span></code></pre>
</dd><dt>Child at Index</dt>
<dd>
<p>Use method REXML::Element#[] to retrieve the child at a given numerical index, or <code>nil</code> if there is no such child:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>[<span class='int'>0</span>]  <span class='comment'># =&gt; &quot;\n\n&quot;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>[<span class='int'>1</span>]  <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>[<span class='int'>7</span>]  <span class='comment'># =&gt; &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>[<span class='int'>8</span>]  <span class='comment'># =&gt; &quot;\n\n&quot;
</span>
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>[<span class='op'>-</span><span class='int'>1</span>] <span class='comment'># =&gt; &quot;\n\n&quot;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>[<span class='op'>-</span><span class='int'>2</span>] <span class='comment'># =&gt; &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;/&gt;
</span>
<span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>[<span class='int'>50</span>] <span class='comment'># =&gt; nil</span></code></pre>
</dd><dt>Index of Child</dt>
<dd>
<p>Use method REXML::Parent#index to retrieve the zero-based child index of the given object, or <code>#size - 1</code> if there is no such child:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>     <span class='comment'># =&gt; &lt;bookstore&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_ele'>ele</span>[<span class='int'>0</span>])  <span class='comment'># =&gt; 0
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_ele'>ele</span>[<span class='int'>1</span>])  <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_ele'>ele</span>[<span class='int'>7</span>])  <span class='comment'># =&gt; 7
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_ele'>ele</span>[<span class='int'>8</span>])  <span class='comment'># =&gt; 8
</span>
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_ele'>ele</span>[<span class='op'>-</span><span class='int'>1</span>]) <span class='comment'># =&gt; 8
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_ele'>ele</span>[<span class='op'>-</span><span class='int'>2</span>]) <span class='comment'># =&gt; 7
</span>
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_ele'>ele</span>[<span class='int'>50</span>]) <span class='comment'># =&gt; 8</span></code></pre>
</dd><dt>Element Children</dt>
<dd>
<p>Use method REXML::Element#has_elements? to retrieve whether the element has element children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_has_elements?'>has_elements?</span>                  <span class='comment'># =&gt; true
</span><span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span>.<span class='id identifier rubyid_new'><a href="REXML/Element.html#new-class_method" title="REXML::Element.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_has_elements?'><a href="REXML/Element.html#has_elements%3F-instance_method" title="REXML::Element#has_elements? (method)">has_elements?</a></span> <span class='comment'># =&gt; false</span></code></pre>

<p>Use method REXML::Element#elements to retrieve the REXML::Elements object containing the element children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_eles'>eles</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>
<span class='id identifier rubyid_eles'>eles</span>      <span class='comment'># =&gt; #&lt;REXML::Elements:0x000001ee2848e960 @element=&lt;bookstore&gt; ... &lt;/&gt;&gt;
</span><span class='id identifier rubyid_eles'>eles</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 4
</span><span class='id identifier rubyid_eles'>eles</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span>]<span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooking</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;,
 &lt;book category=&#39;children&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span><span class='comma'>,</span>
 <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;,
 &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>
]</code></pre>
</dd></dl>

<p>Note that while in this example, all the element children of the root element are elements of the same name, <code>&#39;book&#39;</code>, that is not true of all documents; a root element (or any other element) may have any mixture of child elements.</p>
<dl class="rdoc-list label-list"><dt>CDATA Children</dt>
<dd>
<p>Use method REXML::Element#cdatas to retrieve a frozen array of CDATA children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>  &lt;root&gt;
    &lt;![CDATA[foo]]&gt;
    &lt;![CDATA[bar]]&gt;
  &lt;/root&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Document.html" title="REXML::Document (class)">Document</a></span>.<span class='id identifier rubyid_new'><a href="REXML/Document.html#new-class_method" title="REXML::Document.new (method)">new</a></span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_cdatas'>cdatas</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_cdatas'>cdatas</span>
<span class='id identifier rubyid_cdatas'>cdatas</span>.<span class='id identifier rubyid_frozen?'>frozen?</span>              <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_cdatas'>cdatas</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_cd'>cd</span><span class='op'>|</span> <span class='id identifier rubyid_cd'>cd</span>.<span class='id identifier rubyid_class'>class</span> } <span class='comment'># =&gt; [REXML::CData, REXML::CData]</span></code></pre>
</dd><dt>Comment Children</dt>
<dd>
<p>Use method REXML::Element#comments to retrieve a frozen array of comment children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>  &lt;root&gt;
    &lt;!--foo--&gt;
    &lt;!--bar--&gt;
  &lt;/root&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Document.html" title="REXML::Document (class)">Document</a></span>.<span class='id identifier rubyid_new'><a href="REXML/Document.html#new-class_method" title="REXML::Document.new (method)">new</a></span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_comments'>comments</span> <span class='op'>=</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_comments'>comments</span>
<span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_frozen?'>frozen?</span>            <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_class'>class</span> } <span class='comment'># =&gt; [REXML::Comment, REXML::Comment]
</span><span class='id identifier rubyid_comments'>comments</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_to_s'>to_s</span> }  <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;]</span></code></pre>
</dd><dt>Processing Instruction Children</dt>
<dd>
<p>Use method REXML::Element#instructions to retrieve a frozen array of processing instruction children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>  &lt;root&gt;
    &lt;?target0 foo?&gt;
    &lt;?target1 bar?&gt;
  &lt;/root&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Document.html" title="REXML::Document (class)">Document</a></span>.<span class='id identifier rubyid_new'><a href="REXML/Document.html#new-class_method" title="REXML::Document.new (method)">new</a></span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_instrs'>instrs</span> <span class='op'>=</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_instructions'>instructions</span>
<span class='id identifier rubyid_instrs'>instrs</span>.<span class='id identifier rubyid_frozen?'>frozen?</span>            <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_instrs'>instrs</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_class'>class</span> } <span class='comment'># =&gt; [REXML::Instruction, REXML::Instruction]
</span><span class='id identifier rubyid_instrs'>instrs</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span>.<span class='id identifier rubyid_to_s'>to_s</span> }  <span class='comment'># =&gt; [&quot;&lt;?target0 foo?&gt;&quot;, &quot;&lt;?target1 bar?&gt;&quot;]</span></code></pre>
</dd><dt>Text Children</dt>
<dd>
<p>Use method REXML::Element#has_text? to retrieve whether the element has text children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_has_text?'>has_text?</span>                  <span class='comment'># =&gt; true
</span><span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span>.<span class='id identifier rubyid_new'><a href="REXML/Element.html#new-class_method" title="REXML::Element.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_has_text?'><a href="REXML/Element.html#has_text%3F-instance_method" title="REXML::Element#has_text? (method)">has_text?</a></span> <span class='comment'># =&gt; false</span></code></pre>

<p>Use method REXML::Element#texts to retrieve a frozen array of text children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;root&gt;&lt;a/&gt;text&lt;b/&gt;more&lt;c/&gt;&lt;/root&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Document.html" title="REXML::Document (class)">Document</a></span>.<span class='id identifier rubyid_new'><a href="REXML/Document.html#new-class_method" title="REXML::Document.new (method)">new</a></span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_texts'>texts</span> <span class='op'>=</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_texts'>texts</span>
<span class='id identifier rubyid_texts'>texts</span>.<span class='id identifier rubyid_frozen?'>frozen?</span>            <span class='comment'># =&gt; true
</span><span class='id identifier rubyid_texts'>texts</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_class'>class</span> } <span class='comment'># =&gt; [REXML::Text, REXML::Text]
</span><span class='id identifier rubyid_texts'>texts</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_to_s'>to_s</span> }  <span class='comment'># =&gt; [&quot;text&quot;, &quot;more&quot;]</span></code></pre>
</dd><dt>Parenthood</dt>
<dd>
<p>Use inherited method REXML::Parent.parent? to retrieve whether the element is a parent; always returns <code>true</code>; only REXML::Child#parent returns <code>false</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_parent?'>parent?</span> <span class='comment'># =&gt; true</span></code></pre>
</dd></dl>

<h3 id="label-Element+Attributes">Element Attributes</h3>

<p>Use method REXML::Element#has_attributes? to return whether the element has attributes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>           <span class='comment'># =&gt; &lt;bookstore&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_has_attributes?'>has_attributes?</span>      <span class='comment'># =&gt; false
</span><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_first'>first</span> <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_has_attributes?'>has_attributes?</span>      <span class='comment'># =&gt; true</span></code></pre>

<p>Use method REXML::Element#attributes to return the hash containing the attributes for the element. Each hash key is a string attribute name; each hash value is an <a href="REXML/Attribute.html" title="REXML::Attribute (class)"><code>::REXML::Attribute</code></a> object.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>                  <span class='comment'># =&gt; &lt;bookstore&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_attributes'>attributes</span>          <span class='comment'># =&gt; {}
</span>
<span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_first'>first</span>        <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_attributes'>attributes</span>          <span class='comment'># =&gt; {&quot;category&quot;=&gt;category=&#39;cooking&#39;}
</span><span class='id identifier rubyid_attrs'>attrs</span>.<span class='id identifier rubyid_size'>size</span>                      <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_attr_name'>attr_name</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span>.<span class='id identifier rubyid_keys'>keys</span>.<span class='id identifier rubyid_first'>first</span>    <span class='comment'># =&gt; &quot;category&quot;
</span><span class='id identifier rubyid_attr_name'>attr_name</span>.<span class='id identifier rubyid_class'>class</span>                 <span class='comment'># =&gt; String
</span><span class='id identifier rubyid_attr_value'>attr_value</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span>.<span class='id identifier rubyid_values'>values</span>.<span class='id identifier rubyid_first'>first</span> <span class='comment'># =&gt; category=&#39;cooking&#39;
</span><span class='id identifier rubyid_attr_value'>attr_value</span>.<span class='id identifier rubyid_class'>class</span>                <span class='comment'># =&gt; REXML::Attribute</span></code></pre>

<p>Use method REXML::Element#[] to retrieve the string value for a given attribute, which may be given as either a string or a symbol:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_first'>first</span> <span class='comment'># =&gt; &lt;book category=&#39;cooking&#39;&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_attr_value'>attr_value</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>category</span><span class='tstring_end'>&#39;</span></span>]  <span class='comment'># =&gt; &quot;cooking&quot;
</span><span class='id identifier rubyid_attr_value'>attr_value</span>.<span class='id identifier rubyid_class'>class</span>              <span class='comment'># =&gt; String
</span><span class='id identifier rubyid_ele'>ele</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nosuch</span><span class='tstring_end'>&#39;</span></span>]                  <span class='comment'># =&gt; nil</span></code></pre>

<p>Use method REXML::Element#attribute to retrieve the value of a named attribute:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;root xmlns:a=&#39;a&#39; a:x=&#39;a:x&#39; x=&#39;x&#39;/&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Document.html" title="REXML::Document (class)">Document</a></span>.<span class='id identifier rubyid_new'><a href="REXML/Document.html#new-class_method" title="REXML::Document.new (method)">new</a></span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_attribute'>attribute</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span>)      <span class='comment'># =&gt; x=&#39;x&#39;
</span><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_attribute'>attribute</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; a:x=&#39;a:x&#39;</span></code></pre>

<h2 id="label-Whitespace">Whitespace</h2>

<p>Use method REXML::Element#ignore_whitespace_nodes to determine whether whitespace nodes were ignored when the XML was parsed; returns <code>true</code> if so, <code>nil</code> otherwise.</p>

<p>Use method REXML::Element#whitespace to determine whether whitespace is respected for the element; returns <code>true</code> if so, <code>false</code> otherwise.</p>

<h2 id="label-Namespaces">Namespaces</h2>

<p>Use method REXML::Element#namespace to retrieve the string namespace URI for the element, which may derive from one of its ancestors:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_xml_string'>xml_string</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>  &lt;root&gt;
     &lt;a xmlns=&#39;1&#39; xmlns:y=&#39;2&#39;&gt;
       &lt;b/&gt;
       &lt;c xmlns:z=&#39;3&#39;/&gt;
     &lt;/a&gt;
  &lt;/root&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_xml_string'>xml_string</span>)
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//b</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_namespace'>namespace</span>      <span class='comment'># =&gt; &quot;1&quot;
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_namespace'>namespace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;2&quot;
</span><span class='id identifier rubyid_b'>b</span>.<span class='id identifier rubyid_namespace'>namespace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nosuch</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; nil</span></code></pre>

<p>Use method REXML::Element#namespaces to retrieve a hash of all defined namespaces in the element and its ancestors:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_xml_string'>xml_string</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>  &lt;root&gt;
     &lt;a xmlns:x=&#39;1&#39; xmlns:y=&#39;2&#39;&gt;
       &lt;b/&gt;
       &lt;c xmlns:z=&#39;3&#39;/&gt;
     &lt;/a&gt;
  &lt;/root&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_xml_string'>xml_string</span>)
<span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//a</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_namespaces'>namespaces</span> <span class='comment'># =&gt; {&quot;x&quot;=&gt;&quot;1&quot;, &quot;y&quot;=&gt;&quot;2&quot;}
</span><span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//b</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_namespaces'>namespaces</span> <span class='comment'># =&gt; {&quot;x&quot;=&gt;&quot;1&quot;, &quot;y&quot;=&gt;&quot;2&quot;}
</span><span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//c</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_namespaces'>namespaces</span> <span class='comment'># =&gt; {&quot;x&quot;=&gt;&quot;1&quot;, &quot;y&quot;=&gt;&quot;2&quot;, &quot;z&quot;=&gt;&quot;3&quot;}</span></code></pre>

<p>Use method REXML::Element#prefixes to retrieve an array of the string prefixes (names) of all defined namespaces in the element and its ancestors:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_xml_string'>xml_string</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>  &lt;root&gt;
     &lt;a xmlns:x=&#39;1&#39; xmlns:y=&#39;2&#39;&gt;
       &lt;b/&gt;
       &lt;c xmlns:z=&#39;3&#39;/&gt;
     &lt;/a&gt;
  &lt;/root&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_xml_string'>xml_string</span><span class='comma'>,</span> {<span class='label'>compress_whitespace:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_all'>all</span>})
<span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//a</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_prefixes'>prefixes</span> <span class='comment'># =&gt; [&quot;x&quot;, &quot;y&quot;]
</span><span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//b</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_prefixes'>prefixes</span> <span class='comment'># =&gt; [&quot;x&quot;, &quot;y&quot;]
</span><span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//c</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_prefixes'>prefixes</span> <span class='comment'># =&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]</span></code></pre>

<h2 id="label-Traversing">Traversing</h2>

<p>You can use certain methods to traverse children of the element. Each child that meets given criteria is yielded to the given block.</p>
<dl class="rdoc-list label-list"><dt>Traverse All Children</dt>
<dd>
<p>Use inherited method REXML::Parent#each (or its alias #each_child) to traverse all children of the element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_child'>child</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooking</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Text, &quot;\n\n&quot;]
[REXML::Element, &lt;book category=&#39;children&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Text, &quot;\n\n&quot;]
[REXML::Element, &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Text.html" title="REXML::Text (class)">Text</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span>]</code></pre>
</dd><dt>Traverse Element Children</dt>
<dd>
<p>Use method REXML::Element#each_element to traverse only the element children of the element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element'>each_element</span> {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooking</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;book category=&#39;children&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]</code></pre>
</dd><dt>Traverse Element Children with Attribute</dt>
<dd>
<p>Use method REXML::Element#each_element_with_attribute with the single argument <code>attr_name</code> to traverse each element child that has the given attribute:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a&gt;&lt;b id=&quot;1&quot;/&gt;&lt;c id=&quot;2&quot;/&gt;&lt;d id=&quot;1&quot;/&gt;&lt;e/&gt;&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element_with_attribute'>each_element_with_attribute</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_b'>b</span> <span class='id identifier rubyid_id'>id</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='op'>/</span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_c'>c</span> <span class='id identifier rubyid_id'>id</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span><span class='op'>/</span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_d'>d</span> <span class='id identifier rubyid_id'>id</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='op'>/</span><span class='op'>&gt;</span>]</code></pre>

<p>Use the same method with a second argument <code>value</code> to traverse each element child element that has the given attribute and value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element_with_attribute'>each_element_with_attribute</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_b'>b</span> <span class='id identifier rubyid_id'>id</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='op'>/</span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_d'>d</span> <span class='id identifier rubyid_id'>id</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='op'>/</span><span class='op'>&gt;</span>]</code></pre>

<p>Use the same method with a third argument <code>max</code> to traverse no more than the given number of element children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element_with_attribute'>each_element_with_attribute</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_b'>b</span> <span class='id identifier rubyid_id'>id</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='op'>/</span><span class='op'>&gt;</span>]</code></pre>

<p>Use the same method with a fourth argument <code>xpath</code> to traverse only those element children that match the given xpath:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element_with_attribute'>each_element_with_attribute</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//d</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_d'>d</span> <span class='id identifier rubyid_id'>id</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span><span class='op'>/</span><span class='op'>&gt;</span>]</code></pre>
</dd><dt>Traverse Element Children with Text</dt>
<dd>
<p>Use method REXML::Element#each_element_with_text with no arguments to traverse those element children that have text:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;a&gt;&lt;b&gt;b&lt;/b&gt;&lt;c&gt;b&lt;/c&gt;&lt;d&gt;d&lt;/d&gt;&lt;e/&gt;&lt;/a&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element_with_text'>each_element_with_text</span> {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_b'>b</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;c&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_d'>d</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]</span></code></pre>

<p>Use the same method with the single argument <code>text</code> to traverse those element children that have exactly that text:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element_with_text'>each_element_with_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_b'>b</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;c&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]</code></pre>

<p>Use the same method with additional second argument <code>max</code> to traverse no more than the given number of element children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element_with_text'>each_element_with_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span>) {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_b'>b</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]</span></code></pre>

<p>Use the same method with additional third argument <code>xpath</code> to traverse only those element children that also match the given xpath:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_element_with_text'>each_element_with_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//c</span><span class='tstring_end'>&#39;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_c'>c</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]</span></code></pre>
</dd><dt>Traverse Element Children’s Indexes</dt>
<dd>
<p>Use inherited method REXML::Parent#each_index to traverse all children’s indexes (not just those of element children):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_index'>each_index</span> {<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_i'>i</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='int'>012345678</span></code></pre>
</dd><dt>Traverse Children Recursively</dt>
<dd>
<p>Use included method REXML::Node#each_recursive to traverse all children recursively:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_each_recursive'>each_recursive</span> {<span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> [<span class='id identifier rubyid_child'>child</span>.<span class='id identifier rubyid_class'>class</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span>] }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooking</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;title lang=&#39;en&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_author'>author</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;year&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_price'>price</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;book category=&#39;children&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_title'>title</span> <span class='id identifier rubyid_lang'>lang</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>en</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;author&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_year'>year</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;price&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_book'>book</span> <span class='id identifier rubyid_category'>category</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>web</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;title lang=&#39;en&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_author'>author</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;author&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_author'>author</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;author&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_author'>author</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;year&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_price'>price</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_title'>title</span> <span class='id identifier rubyid_lang'>lang</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>en</span><span class='tstring_end'>&#39;</span></span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;author&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]
[<span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Element.html" title="REXML::Element (class)">Element</a></span><span class='comma'>,</span> <span class='op'>&lt;</span><span class='id identifier rubyid_year'>year</span><span class='op'>&gt;</span> <span class='op'>...</span> <span class='op'>&lt;</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&gt;]
[REXML::Element, &lt;price&gt; ... &lt;</span><span class='regexp_end'>/</span></span><span class='op'>&gt;</span>]</code></pre>
</dd></dl>

<h2 id="label-Searching">Searching</h2>

<p>You can use certain methods to search among the descendants of an element.</p>

<p>Use method REXML::Element#get_elements to retrieve all element children of the element that match the given <code>xpath</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_xml_string'>xml_string</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;-EOT</span>
<span class='tstring_content'>&lt;root&gt;
  &lt;a level=&#39;1&#39;&gt;
    &lt;a level=&#39;2&#39;/&gt;
  &lt;/a&gt;
&lt;/root&gt;
</span><span class='heredoc_end'>EOT
</span><span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_xml_string'>xml_string</span>)
<span class='id identifier rubyid_d'>d</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_get_elements'>get_elements</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//a</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; [&lt;a level=&#39;1&#39;&gt; ... &lt;/&gt;, &lt;a level=&#39;2&#39;/&gt;]</span></code></pre>

<p>Use method REXML::Element#get_text with no argument to retrieve the first text node in the first child:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;some text &lt;b&gt;this is bold!&lt;/b&gt; more text&lt;/p&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_text_node'>text_node</span> <span class='op'>=</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_get_text'>get_text</span>
<span class='id identifier rubyid_text_node'>text_node</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; REXML::Text
</span><span class='id identifier rubyid_text_node'>text_node</span>.<span class='id identifier rubyid_to_s'>to_s</span>  <span class='comment'># =&gt; &quot;some text &quot;</span></code></pre>

<p>Use the same method with argument <code>xpath</code> to retrieve the first text node in the first child that matches the xpath:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_get_text'>get_text</span>(<span class='int'>1</span>) <span class='comment'># =&gt; &quot;this is bold!&quot;</span></code></pre>

<p>Use method REXML::Element#text with no argument to retrieve the text from the first text node in the first child:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;p&gt;some text &lt;b&gt;this is bold!&lt;/b&gt; more text&lt;/p&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_text_node'>text_node</span> <span class='op'>=</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_text'>text</span>
<span class='id identifier rubyid_text_node'>text_node</span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; String
</span><span class='id identifier rubyid_text_node'>text_node</span>       <span class='comment'># =&gt; &quot;some text &quot;</span></code></pre>

<p>Use the same method with argument <code>xpath</code> to retrieve the text from the first text node in the first child that matches the xpath:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_text'>text</span>(<span class='int'>1</span>) <span class='comment'># =&gt; &quot;this is bold!&quot;</span></code></pre>

<p>Use included method REXML::Node#find_first_recursive to retrieve the first descendant element for which the given block returns a truthy value, or <code>nil</code> if none:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_find_first_recursive'>find_first_recursive</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ele'>ele</span><span class='op'>|</span>
  <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>price</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span> <span class='comment'># =&gt; &lt;price&gt; ... &lt;/&gt;
</span><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_root'>root</span>.<span class='id identifier rubyid_find_first_recursive'>find_first_recursive</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ele'>ele</span><span class='op'>|</span>
  <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nosuch</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span> <span class='comment'># =&gt; nil</span></code></pre>

<h2 id="label-Editing">Editing</h2>

<h3 id="label-Editing+a+Document">Editing a Document</h3>
<dl class="rdoc-list label-list"><dt>Creating a Document</dt>
<dd>
<p>Create a new document with method REXML::Document::new:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_source_string'>source_string</span>)
<span class='id identifier rubyid_empty_doc'>empty_doc</span> <span class='op'>=</span> <span class='const'><a href="REXML.html" title="REXML (module)">REXML</a></span><span class='op'>::</span><span class='const'><a href="REXML/Document.html" title="REXML::Document (class)">Document</a></span>.<span class='id identifier rubyid_new'><a href="REXML/Document.html#new-class_method" title="REXML::Document.new (method)">new</a></span></code></pre>
</dd><dt>Adding to the Document</dt>
<dd>
<p>Add an XML declaration with method REXML::Document#add and an argument of type REXML::XMLDecl:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_xml_decl'>xml_decl</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='comment'># =&gt; &quot;&quot;
</span><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_add'>add</span>(<span class='const'>XMLDecl</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2.0</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_xml_decl'>xml_decl</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='comment'># =&gt; &quot;&lt;?xml version=&#39;2.0&#39;?&gt;&quot;</span></code></pre>

<p>Add a document type with method REXML::Document#add and an argument of type REXML::DocType:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_doctype'>doctype</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='comment'># =&gt; &quot;&quot;
</span><span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_add'>add</span>(<span class='const'>DocType</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_doctype'>doctype</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='comment'># =&gt; &quot;&lt;!DOCTYPE foo&gt;&quot;</span></code></pre>

<p>Add a node of any other REXML type with method REXML::Document#add and an argument that is not of type REXML::XMLDecl or REXML::DocType:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_add'>add</span>(<span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_to_s'>to_s</span> <span class='comment'># =&gt; &quot;&lt;foo/&gt;&quot;</span></code></pre>

<p>Add an existing element as the root element with method REXML::Document#add_element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='id identifier rubyid_ele'>ele</span>)
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span> <span class='comment'># =&gt; &lt;foo/&gt;</span></code></pre>

<p>Create and add an element as the root element with method REXML::Document#add_element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span> <span class='comment'># =&gt; &lt;foo/&gt;</span></code></pre>
</dd></dl>

<h3 id="label-Editing+an+Element">Editing an Element</h3>

<h4 id="label-Creating+an+Element">Creating an Element</h4>

<p>Create a new element with method REXML::Element::new:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;</span></code></pre>

<h4 id="label-Setting+Element+Properties">Setting Element Properties</h4>

<p>Set the context for an element with method REXML::Element#context= (see <a href="file.context_rdoc.html" title="Element Context">Element Context</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_context'>context</span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> {<span class='label'>ignore_whitespace_nodes:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_all'>all</span>}
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_context'>context</span> <span class='comment'># =&gt; {:ignore_whitespace_nodes=&gt;:all}</span></code></pre>

<p>Set the parent for an element with inherited method REXML::Child#parent=</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_parent'>parent</span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_parent'>parent</span> <span class='comment'># =&gt; &lt;bar/&gt;</span></code></pre>

<p>Set the text for an element with method REXML::Element#text=:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_text'>text</span> <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_text'>text</span> <span class='comment'># =&gt; &quot;bar&quot;</span></code></pre>

<h4 id="label-Adding+to+an+Element">Adding to an Element</h4>

<p>Add a node as the last child with inherited method REXML::Parent#add (or its alias #push):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_push'>push</span>(<span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_push'>push</span>(<span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span> <span class='comment'># =&gt; [&quot;bar&quot;, &lt;baz/&gt;]</span></code></pre>

<p>Add a node as the first child with inherited method REXML::Parent#unshift:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_unshift'>unshift</span>(<span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_unshift'>unshift</span>(<span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span> <span class='comment'># =&gt; [&quot;bar&quot;, &lt;baz/&gt;]</span></code></pre>

<p>Add an element as the last child with method REXML::Element#add_element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span> <span class='comment'># =&gt; [&lt;bar/&gt;, &lt;baz/&gt;]</span></code></pre>

<p>Add a text node as the last child with method REXML::Element#add_text:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span> <span class='comment'># =&gt; [&quot;bar&quot;, &quot;baz&quot;]</span></code></pre>

<p>Insert a node before a given node with method REXML::Parent#insert_before:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>    <span class='comment'># =&gt; [&quot;bar&quot;, &quot;baz&quot;]
</span><span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>[<span class='int'>1</span>] <span class='comment'># =&gt; &quot;baz&quot;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_insert_before'>insert_before</span>(<span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>    <span class='comment'># =&gt; [&quot;bar&quot;, &quot;bat&quot;, &quot;baz&quot;]</span></code></pre>

<p>Insert a node after a given node with method REXML::Parent#insert_after:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>    <span class='comment'># =&gt; [&quot;bar&quot;, &quot;baz&quot;]
</span><span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>[<span class='int'>0</span>] <span class='comment'># =&gt; &quot;bar&quot;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_insert_after'>insert_after</span>(<span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>    <span class='comment'># =&gt; [&quot;bar&quot;, &quot;bat&quot;, &quot;baz&quot;]</span></code></pre>

<p>Add an attribute with method REXML::Element#add_attribute:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_attribute'>add_attribute</span>(<span class='const'>Attribute</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_attributes'>attributes</span> <span class='comment'># =&gt; {&quot;bar&quot;=&gt;bar=&#39;baz&#39;, &quot;bat&quot;=&gt;bat=&#39;bam&#39;}</span></code></pre>

<p>Add multiple attributes with method REXML::Element#add_attributes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_attributes'>add_attributes</span>({<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>})
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_attributes'>add_attributes</span>([[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ban</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bap</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bah</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bad</span><span class='tstring_end'>&#39;</span></span>]])
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_attributes'>attributes</span> <span class='comment'># =&gt; {&quot;bar&quot;=&gt;bar=&#39;baz&#39;, &quot;bat&quot;=&gt;bat=&#39;bam&#39;, &quot;ban&quot;=&gt;ban=&#39;bap&#39;, &quot;bah&quot;=&gt;bah=&#39;bad&#39;}</span></code></pre>

<p>Add a namespace with method REXML::Element#add_namespace:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_namespace'>add_namespace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_namespace'>add_namespace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_namespaces'>namespaces</span> <span class='comment'># =&gt; {&quot;xmlns&quot;=&gt;&quot;bar&quot;, &quot;baz&quot;=&gt;&quot;bat&quot;}</span></code></pre>

<h4 id="label-Deleting+from+an+Element">Deleting from an Element</h4>

<p>Delete a specific child object with inherited method REXML::Parent#delete:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;]
</span><span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>[<span class='int'>1</span>]          <span class='comment'># =&gt; &quot;baz&quot;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_target'>target</span>)       <span class='comment'># =&gt; &quot;baz&quot;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;]
</span><span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>[<span class='int'>0</span>]          <span class='comment'># =&gt; &lt;baz/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_target'>target</span>)       <span class='comment'># =&gt; &lt;baz/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; []</span></code></pre>

<p>Delete a child at a specific index with inherited method REXML::Parent#delete_at:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;]
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='int'>1</span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;]
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='int'>0</span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; []</span></code></pre>

<p>Delete all children meeting a specified criterion with inherited method REXML::Parent#delete_if:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &lt;bat/&gt;, &quot;bam&quot;]
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_if'>delete_if</span> {<span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='op'>|</span> <span class='id identifier rubyid_child'>child</span>.<span class='id identifier rubyid_instance_of?'>instance_of?</span>(<span class='const'>Text</span>) }
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span> <span class='comment'># =&gt; [&lt;bar/&gt;, &lt;bat/&gt;]</span></code></pre>

<p>Delete an element at a specific 1-based index with method REXML::Element#delete_element:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &lt;bat/&gt;, &quot;bam&quot;]
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_element'>delete_element</span>(<span class='int'>2</span>)    <span class='comment'># =&gt; &lt;bat/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &quot;bam&quot;]
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_element'>delete_element</span>(<span class='int'>1</span>)    <span class='comment'># =&gt; &lt;bar/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&quot;baz&quot;, &quot;bam&quot;]</span></code></pre>

<p>Delete a specific element with the same method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)   <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>               <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &lt;bat/&gt;, &quot;bam&quot;]
</span><span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_elements'>elements</span>[<span class='int'>2</span>]   <span class='comment'># =&gt; &lt;bat/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_element'>delete_element</span>(<span class='id identifier rubyid_target'>target</span>) <span class='comment'># =&gt; &lt;bat/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>               <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &quot;bam&quot;]</span></code></pre>

<p>Delete an element matching an xpath using the same method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>                <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &lt;bat/&gt;, &quot;bam&quot;]
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_element'>delete_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>./bat</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;bat/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>                <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &quot;bam&quot;]
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_element'>delete_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>./bar</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;bar/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>                <span class='comment'># =&gt; [&quot;baz&quot;, &quot;bam&quot;]</span></code></pre>

<p>Delete an attribute by name with method REXML::Element#delete_attribute:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_attributes'>add_attributes</span>({<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>})
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_attributes'>attributes</span>           <span class='comment'># =&gt; {&quot;bar&quot;=&gt;bar=&#39;baz&#39;, &quot;bam&quot;=&gt;bam=&#39;bat&#39;}
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_attribute'>delete_attribute</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_attributes'>attributes</span>           <span class='comment'># =&gt; {&quot;bar&quot;=&gt;bar=&#39;baz&#39;}</span></code></pre>

<p>Delete a namespace with method REXML::Element#delete_namespace:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_namespace'>add_namespace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_namespace'>add_namespace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_namespaces'>namespaces</span>           <span class='comment'># =&gt; {&quot;xmlns&quot;=&gt;&quot;bar&quot;, &quot;baz&quot;=&gt;&quot;bat&quot;}
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_namespace'>delete_namespace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_namespaces'>namespaces</span>           <span class='comment'># =&gt; {} # =&gt; {&quot;baz&quot;=&gt;&quot;bat&quot;}
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_delete_namespace'>delete_namespace</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_namespaces'>namespaces</span> <span class='comment'># =&gt; {}   # =&gt; {}</span></code></pre>

<p>Remove an element from its parent with inherited method REXML::Child#remove:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)    <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;bar/&gt;
</span><span class='id identifier rubyid_parent'>parent</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='id identifier rubyid_ele'>ele</span>)     <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_parent'>parent</span>.<span class='id identifier rubyid_children'>children</span>.<span class='id identifier rubyid_size'>size</span>        <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_remove'>remove</span>                  <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_parent'>parent</span>.<span class='id identifier rubyid_children'>children</span>.<span class='id identifier rubyid_size'>size</span>        <span class='comment'># =&gt; 0</span></code></pre>

<h4 id="label-Replacing+Nodes">Replacing Nodes</h4>

<p>Replace the node at a given 0-based index with inherited method REXML::Parent#[]=:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &lt;bat/&gt;, &quot;bam&quot;]
</span><span class='id identifier rubyid_ele'>ele</span>[<span class='int'>2</span>] <span class='op'>=</span> <span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bad</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &quot;bad&quot;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &quot;bad&quot;, &quot;bam&quot;]</span></code></pre>

<p>Replace a given node with another node with inherited method REXML::Parent#replace_child:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &lt;bat/&gt;, &quot;bam&quot;]
</span><span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>[<span class='int'>2</span>]          <span class='comment'># =&gt; &lt;bat/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_replace_child'>replace_child</span>(<span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bah</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &quot;bah&quot;, &quot;bam&quot;]</span></code></pre>

<p>Replace <code>self</code> with a given node with inherited method REXML::Child#replace_with:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>) <span class='comment'># =&gt; &lt;foo/&gt;
</span><span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_element'>add_element</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_text'>add_text</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &lt;bat/&gt;, &quot;bam&quot;]
</span><span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_ele'>ele</span>[<span class='int'>2</span>]          <span class='comment'># =&gt; &lt;bat/&gt;
</span><span class='id identifier rubyid_target'>target</span>.<span class='id identifier rubyid_replace_with'>replace_with</span>(<span class='const'>Text</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bah</span><span class='tstring_end'>&#39;</span></span>))
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_children'>children</span>             <span class='comment'># =&gt; [&lt;bar/&gt;, &quot;baz&quot;, &quot;bah&quot;, &quot;bam&quot;]</span></code></pre>

<h3 id="label-Cloning">Cloning</h3>

<p>Create a shallow clone of an element with method REXML::Element#clone. The clone contains the name and attributes, but not the parent or children:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ele'>ele</span> <span class='op'>=</span> <span class='const'>Element</span>.<span class='id identifier rubyid_new'>new</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_add_attributes'>add_attributes</span>({<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>1</span>})
<span class='id identifier rubyid_ele'>ele</span>.<span class='id identifier rubyid_clone'>clone</span> <span class='comment'># =&gt; &lt;foo bar=&#39;0&#39; baz=&#39;1&#39;/&gt;</span></code></pre>

<p>Create a shallow clone of a document with method REXML::Document#clone. The XML declaration is copied; the document type and root element are not cloned:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_my_xml'>my_xml</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE foo&gt;&lt;root/&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_my_doc'>my_doc</span> <span class='op'>=</span> <span class='const'>Document</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_my_xml'>my_xml</span>)
<span class='id identifier rubyid_clone_doc'>clone_doc</span> <span class='op'>=</span> <span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_clone'>clone</span>

<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_xml_decl'>xml_decl</span>         <span class='comment'># =&gt; &lt;?xml ... ?&gt;
</span><span class='id identifier rubyid_clone_doc'>clone_doc</span>.<span class='id identifier rubyid_xml_decl'>xml_decl</span>      <span class='comment'># =&gt; &lt;?xml ... ?&gt;
</span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_doctype'>doctype</span>.<span class='id identifier rubyid_to_s'>to_s</span>     <span class='comment'># =&gt; &quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&quot;
</span><span class='id identifier rubyid_clone_doc'>clone_doc</span>.<span class='id identifier rubyid_doctype'>doctype</span>.<span class='id identifier rubyid_to_s'>to_s</span>  <span class='comment'># =&gt; &quot;&quot;
</span>
<span class='id identifier rubyid_my_doc'>my_doc</span>.<span class='id identifier rubyid_root'>root</span>             <span class='comment'># =&gt; &lt;root/&gt;
</span><span class='id identifier rubyid_clone_doc'>clone_doc</span>.<span class='id identifier rubyid_root'>root</span>          <span class='comment'># =&gt; nil</span></code></pre>

<p>Create a deep clone of an element with inherited method REXML::Parent#deep_clone. All nodes and attributes are copied:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_size'>size</span>   <span class='comment'># =&gt; 825
</span><span class='id identifier rubyid_clone'>clone</span>  <span class='op'>=</span> <span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_deep_clone'>deep_clone</span>
<span class='id identifier rubyid_clone'>clone</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 825</span></code></pre>

<h2 id="label-Writing+the+Document">Writing the Document</h2>

<p>Write a document to an IO stream (defaults to <code>$stdout</code>) with method REXML::Document#write:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_doc'>doc</span>.<span class='id identifier rubyid_write'>write</span></code></pre>

<p>Output:</p>

<pre class="code xml"><code class="xml">&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
&lt;bookstore&gt;

&lt;book category=&#39;cooking&#39;&gt;
  &lt;title lang=&#39;en&#39;&gt;Everyday Italian&lt;/title&gt;
  &lt;author&gt;Giada De Laurentiis&lt;/author&gt;
  &lt;year&gt;2005&lt;/year&gt;
  &lt;price&gt;30.00&lt;/price&gt;
&lt;/book&gt;

&lt;book category=&#39;children&#39;&gt;
  &lt;title lang=&#39;en&#39;&gt;Harry Potter&lt;/title&gt;
  &lt;author&gt;J K. Rowling&lt;/author&gt;
  &lt;year&gt;2005&lt;/year&gt;
  &lt;price&gt;29.99&lt;/price&gt;
&lt;/book&gt;

&lt;book category=&#39;web&#39;&gt;
  &lt;title lang=&#39;en&#39;&gt;XQuery Kick Start&lt;/title&gt;
  &lt;author&gt;James McGovern&lt;/author&gt;
  &lt;author&gt;Per Bothner&lt;/author&gt;
  &lt;author&gt;Kurt Cagle&lt;/author&gt;
  &lt;author&gt;James Linn&lt;/author&gt;
  &lt;author&gt;Vaidyanathan Nagarajan&lt;/author&gt;
  &lt;year&gt;2003&lt;/year&gt;
  &lt;price&gt;49.99&lt;/price&gt;
&lt;/book&gt;

&lt;book category=&#39;web&#39; cover=&#39;paperback&#39;&gt;
  &lt;title lang=&#39;en&#39;&gt;Learning XML&lt;/title&gt;
  &lt;author&gt;Erik T. Ray&lt;/author&gt;
  &lt;year&gt;2003&lt;/year&gt;
  &lt;price&gt;39.95&lt;/price&gt;
&lt;/book&gt;

&lt;/bookstore&gt;
</code></pre>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>