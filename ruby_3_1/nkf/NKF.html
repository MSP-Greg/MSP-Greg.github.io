<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: NKF &mdash; nkf</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "NKF",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.1.4</a> &raquo; 
      <a href='.'>nkf</a> &raquo; 
      <a href='_index.html#alpha_N'>Index (N)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>NKF&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: NKF</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L479'>ext/nkf/nkf.c</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>NKF</code> - Ruby extension for Network Kanji Filter</p>

<h3 id="label-Description">Description</h3>

<p>This is a Ruby Extension version of nkf (Network Kanji Filter). It converts the first argument and returns converted result. Conversion details are specified by flags as the first argument.</p>

<p><strong>Nkf</strong> is a yet another kanji code converter among networks, hosts and terminals. It converts input kanji code to designated kanji code such as ISO-2022-JP, Shift_JIS, EUC-JP, UTF-8 or UTF-16.</p>

<p>One of the most unique faculty of <strong>nkf</strong> is the guess of the input kanji encodings. It currently recognizes ISO-2022-JP, Shift_JIS, EUC-JP, UTF-8 and UTF-16. So users needn’t set the input kanji code explicitly.</p>

<p>By default, X0201 kana is converted into X0208 kana. For X0201 kana, SO/SI, SSO and ESC-(-I methods are supported. For automatic code detection, nkf assumes no X0201 kana in Shift_JIS. To accept X0201 in Shift_JIS, use <strong>-X</strong>, <strong>-x</strong> or <strong>-S</strong>.</p>

<h3 id="label-Flags">Flags</h3>

<h4 id="label-b+-u">-b -u</h4>

<p>Output is buffered (DEFAULT), Output is unbuffered.</p>

<h4 id="label-j+-s+-e+-w+-w16+-w32">-j -s -e -w -w16 -w32</h4>

<p>Output code is ISO-2022-JP (7bit <a href="#JIS-constant" title="NKF::JIS (constant)">JIS</a>), Shift_JIS, EUC-JP, UTF-8N, UTF-16BE, UTF-32BE. Without this option and compile option, ISO-2022-JP is assumed.</p>

<h4 id="label-J+-S+-E+-W+-W16+-W32">-J -S -E -W -W16 -W32</h4>

<p>Input assumption is <a href="#JIS-constant" title="NKF::JIS (constant)">JIS</a> 7 bit, Shift_JIS, EUC-JP, UTF-8, UTF-16, UTF-32.</p>

<h5 id="label-J">-J</h5>

<p>Assume  <a href="#JIS-constant" title="NKF::JIS (constant)">JIS</a> input. It also accepts EUC-JP. This is the default. This flag does not exclude Shift_JIS.</p>

<h5 id="label-S">-S</h5>

<p>Assume Shift_JIS and X0201 kana input. It also accepts <a href="#JIS-constant" title="NKF::JIS (constant)">JIS</a>. EUC-JP is recognized as X0201 kana. Without <strong>-x</strong> flag, X0201 kana (halfwidth kana) is converted into X0208.</p>

<h5 id="label-E">-E</h5>

<p>Assume EUC-JP input. It also accepts <a href="#JIS-constant" title="NKF::JIS (constant)">JIS</a>. Same as -J.</p>

<h4 id="label-t">-t</h4>

<p>No conversion.</p>

<h4 id="label-i_">-i_</h4>

<p>Output sequence to designate JIS-kanji. (DEFAULT B)</p>

<h4 id="label-o_">-o_</h4>

<p>Output sequence to designate <a href="#ASCII-constant" title="NKF::ASCII (constant)">ASCII</a>. (DEFAULT B)</p>

<h4 id="label-r">-r</h4>

<p><code>de/en</code>crypt ROT13/47</p>

<h4 id="label-h+--hiragana+--katakana+--katakana-hiragana">-<a href="123">h</a> –hiragana –katakana –katakana-hiragana</h4>
<dl class="rdoc-list label-list"><dt>-h1 –hiragana
<dd>
<p>Katakana to Hiragana conversion.</p>
</dd><dt>-h2 –katakana
<dd>
<p>Hiragana to Katakana conversion.</p>
</dd><dt>-h3 –katakana-hiragana
<dd>
<p>Katakana to Hiragana and Hiragana to Katakana conversion.</p>
</dd></dl>

<h4 id="label-T">-T</h4>

<p>Text mode output (MS-DOS)</p>

<h4 id="label-l">-l</h4>

<p>ISO8859-1 (Latin-1) support</p>

<h4 id="label-f-5Bm+-5B-+n-5D-5D">-f[<code>m</code> [- <code>n</code>]]</h4>

<p>Folding on <code>m</code> length with <code>n</code> margin in a line. Without this option, fold length is 60 and fold margin is 10.</p>

<h4 id="label-F">-F</h4>

<p>New line preserving line folding.</p>

<h4 id="label-Z">-<a href="0-3">Z</a></h4>

<p>Convert X0208 alphabet (Fullwidth Alphabets) to <a href="#ASCII-constant" title="NKF::ASCII (constant)">ASCII</a>.</p>
<dl class="rdoc-list label-list"><dt>-Z -Z0
<dd>
<p>Convert X0208 alphabet to <a href="#ASCII-constant" title="NKF::ASCII (constant)">ASCII</a>.</p>
</dd><dt>-Z1
<dd>
<p>Converts X0208 kankaku to single <a href="#ASCII-constant" title="NKF::ASCII (constant)">ASCII</a> space.</p>
</dd><dt>-Z2
<dd>
<p>Converts X0208 kankaku to double <a href="#ASCII-constant" title="NKF::ASCII (constant)">ASCII</a> spaces.</p>
</dd><dt>-Z3
<dd>
<p>Replacing Fullwidth &gt;, &lt;, “, &amp; into ‘&amp;gt;’, ‘&amp;lt;’, ‘&amp;quot;’, ‘&amp;amp;’ as in HTML.</p>
</dd></dl>

<h4 id="label-X+-x">-X -x</h4>

<p>Assume X0201 kana in MS-Kanji. With <strong>-X</strong> or without this option, X0201 is converted into X0208 Kana. With <strong>-x</strong>, try to preserve X0208 kana and do not convert X0201 kana to X0208. In JIS output, ESC-(-I is used. In EUC output, SSO is used.</p>

<h4 id="label-B">-<a href="0-2">B</a></h4>

<p>Assume broken JIS-Kanji input, which lost ESC. Useful when your site is using old B-News Nihongo patch.</p>
<dl class="rdoc-list label-list"><dt>-B1
<dd>
<p>allows any char after ESC-( or ESC-$.</p>
</dd><dt>-B2
<dd>
<p>forces <a href="#ASCII-constant" title="NKF::ASCII (constant)">ASCII</a> after NL.</p>
</dd></dl>

<h4 id="label-I">-I</h4>

<p>Replacing non iso-2022-jp char into a geta character (substitute character in Japanese).</p>

<h4 id="label-d+-c">-d -c</h4>

<p>Delete r in line feed, Add r in line feed.</p>

<h4 id="label-m">-<a href="BQN0">m</a></h4>

<p>MIME ISO-2022-JP/ISO8859-1 decode. (DEFAULT) To see ISO8859-1 (Latin-1) -l is necessary.</p>
<dl class="rdoc-list label-list"><dt>-mB
<dd>
<p>Decode MIME base64 encoded stream. Remove header or other part before</p>
</dd></dl>

<p>conversion.</p>
<dl class="rdoc-list label-list"><dt>-mQ
<dd>
<p>Decode MIME quoted stream. ‘_’ in quoted stream is converted to space.</p>
</dd><dt>-mN
<dd>
<p>Non-strict decoding.</p>
</dd></dl>

<p>It allows line break in the middle of the base64 encoding.</p>
<dl class="rdoc-list label-list"><dt>-m0
<dd>
<p>No MIME decode.</p>
</dd></dl>

<h4 id="label-M">-M</h4>

<p>MIME encode. Header style. All ASCII code and control characters are intact. Kanji conversion is performed before encoding, so this cannot be used as a picture encoder.</p>
<dl class="rdoc-list label-list"><dt>-MB
<dd>
<p>MIME encode Base64 stream.</p>
</dd><dt>-MQ
<dd>
<p>Perform quoted encoding.</p>
</dd></dl>

<h4 id="label-l">-l</h4>

<p>Input and output code is ISO8859-1 (Latin-1) and ISO-2022-JP. <strong>-s</strong>, <strong>-e</strong> and <strong>-x</strong> are not compatible with this option.</p>

<h4 id="label-L">-<a href="uwm">L</a></h4>

<p>new line mode Without this option, nkf doesn’t convert line breaks.</p>
<dl class="rdoc-list label-list"><dt>-Lu
<dd>
<p>unix (LF)</p>
</dd><dt>-Lw
<dd>
<p>windows (CRLF)</p>
</dd><dt>-Lm
<dd>
<p>mac (CR)</p>
</dd></dl>

<h4 id="label--fj+--unix+--mac+--msdos+--windows">–fj –unix –mac –msdos –windows</h4>

<p>convert for these system</p>

<h4 id="label--jis+--euc+--sjis+--mime+--base64">–jis –euc –sjis –mime –base64</h4>

<p>convert for named code</p>

<h4 id="label--jis-input+--euc-input+--sjis-input+--mime-input+--base64-input">–jis-input –euc-input –sjis-input –mime-input –base64-input</h4>

<p>assume input system</p>

<h4 id="label--ic-3Dinput+codeset+--oc-3Doutput+codeset">–ic=<code>input codeset</code> –oc=<code>output codeset</code></h4>

<p>Set the input or output codeset. <code>NKF</code> supports following codesets and those codeset name are case insensitive.</p>
<dl class="rdoc-list label-list"><dt>ISO-2022-JP
<dd>
<p>a.k.a. RFC1468, 7bit <a href="#JIS-constant" title="NKF::JIS (constant)">JIS</a>, JUNET</p>
</dd><dt>EUC-JP (eucJP-nkf)
<dd>
<p>a.k.a. AT&amp;T <a href="#JIS-constant" title="NKF::JIS (constant)">JIS</a>, Japanese EUC, UJIS</p>
</dd><dt>eucJP-ascii
<dd>
<p>a.k.a. x-eucjp-open-19970715-ascii</p>
</dd><dt>eucJP-ms
<dd>
<p>a.k.a. x-eucjp-open-19970715-ms</p>
</dd><dt>CP51932
<dd>
<p>Microsoft Version of EUC-JP.</p>
</dd><dt>Shift_JIS
<dd>
<p><a href="#SJIS-constant" title="NKF::SJIS (constant)">SJIS</a>, MS-Kanji</p>
</dd><dt>Windows-31J
<dd>
<p>a.k.a. CP932</p>
</dd><dt>UTF-8
<dd>
<p>same as UTF-8N</p>
</dd><dt>UTF-8N
<dd>
<p>UTF-8 without BOM</p>
</dd><dt>UTF-8-BOM
<dd>
<p>UTF-8 with BOM</p>
</dd><dt>UTF-16
<dd>
<p>same as UTF-16BE</p>
</dd><dt>UTF-16BE
<dd>
<p>UTF-16 Big Endian without BOM</p>
</dd><dt>UTF-16BE-BOM
<dd>
<p>UTF-16 Big Endian with BOM</p>
</dd><dt>UTF-16LE
<dd>
<p>UTF-16 Little Endian without BOM</p>
</dd><dt>UTF-16LE-BOM
<dd>
<p>UTF-16 Little Endian with BOM</p>
</dd><dt>UTF-32
<dd>
<p>same as UTF-32BE</p>
</dd><dt>UTF-32BE
<dd>
<p>UTF-32 Big Endian without BOM</p>
</dd><dt>UTF-32BE-BOM
<dd>
<p>UTF-32 Big Endian with BOM</p>
</dd><dt>UTF-32LE
<dd>
<p>UTF-32 Little Endian without BOM</p>
</dd><dt>UTF-32LE-BOM
<dd>
<p>UTF-32 Little Endian with BOM</p>
</dd><dt>UTF8-MAC
<dd>
<p>NKDed UTF-8, a.k.a. UTF8-NFD (input only)</p>
</dd></dl>

<h4 id="label--fb--7Bskip-2C+html-2C+xml-2C+perl-2C+java-2C+subchar-7D">–fb-<code>html, xml, perl, java, subchar</code></h4>

<p>Specify the way that nkf handles unassigned characters. Without this option, –fb-skip is assumed.</p>

<h4 id="label--prefix-3D+escape+character+target+character+..">–prefix= <code>escape character</code> <code>target character</code> ..</h4>

<p>When nkf converts to Shift_JIS, nkf adds a specified escape character to specified 2nd byte of Shift_JIS characters. 1st byte of argument is the escape character and following bytes are target characters.</p>

<h4 id="label--no-cp932ext">–no-cp932ext</h4>

<p>Handle the characters extended in CP932 as unassigned characters.</p>

<h3 id="label--no-best-fit-chars">–no-best-fit-chars</h3>

<p>When Unicode to Encoded byte conversion, don’t convert characters which is not round trip safe. When Unicode to Unicode conversion, with this and -x option, nkf can be used as UTF converter. (In other words, without this and -x option, nkf doesn’t save some characters)</p>

<p>When nkf convert string which related to path, you should use this option.</p>

<h4 id="label--cap-input">–cap-input</h4>

<p>Decode hex encoded characters.</p>

<h4 id="label--url-input">–url-input</h4>

<p>Unescape percent escaped characters.</p>

<h4 id="label--">–</h4>

<p>Ignore rest of -option.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='ASCII-constant' class='summary_signature'>ASCII =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L489'># File 'ext/nkf/nkf.c', line 489</a>    <pre class='code c'><span class='id identifier rubyid_rb_enc_from_encoding'>rb_enc_from_encoding</span>(<span class='id identifier rubyid_rb_nkf_enc_get'>rb_nkf_enc_get</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>US-ASCII</span><span class='tstring_end'>&quot;</span></span>))</pre>
  </li>
  <li>
    <span id='AUTO-constant' class='summary_signature'>AUTO =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L485'># File 'ext/nkf/nkf.c', line 485</a>    <pre class='code c'><span class='const'>Qnil</span></pre>
  </li>
  <li>
    <span id='BINARY-constant' class='summary_signature'>BINARY =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L488'># File 'ext/nkf/nkf.c', line 488</a>    <pre class='code c'><span class='id identifier rubyid_rb_enc_from_encoding'>rb_enc_from_encoding</span>(<span class='id identifier rubyid_rb_nkf_enc_get'>rb_nkf_enc_get</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BINARY</span><span class='tstring_end'>&quot;</span></span>))</pre>
  </li>
  <li>
    <span id='EUC-constant' class='summary_signature'>EUC =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L491'># File 'ext/nkf/nkf.c', line 491</a>    <pre class='code c'><span class='id identifier rubyid_rb_enc_from_encoding'>rb_enc_from_encoding</span>(<span class='id identifier rubyid_rb_nkf_enc_get'>rb_nkf_enc_get</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EUC-JP</span><span class='tstring_end'>&quot;</span></span>))</pre>
  </li>
  <li>
    <span id='JIS-constant' class='summary_signature'>JIS =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L490'># File 'ext/nkf/nkf.c', line 490</a>    <pre class='code c'><span class='id identifier rubyid_rb_enc_from_encoding'>rb_enc_from_encoding</span>(<span class='id identifier rubyid_rb_nkf_enc_get'>rb_nkf_enc_get</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ISO-2022-JP</span><span class='tstring_end'>&quot;</span></span>))</pre>
  </li>
  <li>
    <span id='NKF_RELEASE_DATE-constant' class='summary_signature'>NKF_RELEASE_DATE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Release date of nkf</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L502'># File 'ext/nkf/nkf.c', line 502</a>    <pre class='code c'><span class='id identifier rubyid_rb_str_new2'>rb_str_new2</span>(<span class='const'><a href="#NKF_RELEASE_DATE-constant" title="NKF::NKF_RELEASE_DATE (constant)">NKF_RELEASE_DATE</a></span>)</pre>
  </li>
  <li>
    <span id='NKF_VERSION-constant' class='summary_signature'>NKF_VERSION =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Version of nkf</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L500'># File 'ext/nkf/nkf.c', line 500</a>    <pre class='code c'><span class='id identifier rubyid_rb_str_new2'>rb_str_new2</span>(<span class='const'><a href="#NKF_VERSION-constant" title="NKF::NKF_VERSION (constant)">NKF_VERSION</a></span>)</pre>
  </li>
  <li>
    <span id='NOCONV-constant' class='summary_signature'>NOCONV =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L486'># File 'ext/nkf/nkf.c', line 486</a>    <pre class='code c'><span class='const'>Qnil</span></pre>
  </li>
  <li>
    <span id='SJIS-constant' class='summary_signature'>SJIS =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L492'># File 'ext/nkf/nkf.c', line 492</a>    <pre class='code c'><span class='id identifier rubyid_rb_enc_from_encoding'>rb_enc_from_encoding</span>(<span class='id identifier rubyid_rb_nkf_enc_get'>rb_nkf_enc_get</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Shift_JIS</span><span class='tstring_end'>&quot;</span></span>))</pre>
  </li>
  <li>
    <span id='UNKNOWN-constant' class='summary_signature'>UNKNOWN =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L487'># File 'ext/nkf/nkf.c', line 487</a>    <pre class='code c'><span class='const'>Qnil</span></pre>
  </li>
  <li>
    <span id='UTF16-constant' class='summary_signature'>UTF16 =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L494'># File 'ext/nkf/nkf.c', line 494</a>    <pre class='code c'><span class='id identifier rubyid_rb_enc_from_encoding'>rb_enc_from_encoding</span>(<span class='id identifier rubyid_rb_nkf_enc_get'>rb_nkf_enc_get</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-16BE</span><span class='tstring_end'>&quot;</span></span>))</pre>
  </li>
  <li>
    <span id='UTF32-constant' class='summary_signature'>UTF32 =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L495'># File 'ext/nkf/nkf.c', line 495</a>    <pre class='code c'><span class='id identifier rubyid_rb_enc_from_encoding'>rb_enc_from_encoding</span>(<span class='id identifier rubyid_rb_nkf_enc_get'>rb_nkf_enc_get</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-32BE</span><span class='tstring_end'>&quot;</span></span>))</pre>
  </li>
  <li>
    <span id='UTF8-constant' class='summary_signature'>UTF8 =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L493'># File 'ext/nkf/nkf.c', line 493</a>    <pre class='code c'><span class='id identifier rubyid_rb_enc_from_encoding'>rb_enc_from_encoding</span>(<span class='id identifier rubyid_rb_utf8_encoding'>rb_utf8_encoding</span>())</pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Full version string of nkf</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L498'># File 'ext/nkf/nkf.c', line 498</a>    <pre class='code c'><span class='id identifier rubyid_rb_str_new2'>rb_str_new2</span>(<span class='const'>RUBY_NKF_VERSION</span>)</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature mf'>
      <a href="#guess-class_method" title="guess (class method)">.<strong>guess</strong>(str)  &#x21d2; Encoding </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns guessed encoding of <em>str</em> by nkf routine.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature mf'>
      <a href="#nkf-class_method" title="nkf (class method)">.<strong>nkf</strong>(opt, str)  &#x21d2; String </a>
    </span>
    <span class='mod_func note title'>mod_func</span>
    <div class='summary_desc'>
      <div class='inline'><p>Convert <em>str</em> and return converted result.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="guess-class_method">
  <h3 class='signature private first'>
    .<strong>guess</strong>(str)  &#x21d2; <code>Encoding</code>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns guessed encoding of <em>str</em> by nkf routine.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L189-L203'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='189' data-end='203'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nkf/nkf.c', line 189</span></pre>
<pre class='code cpp'>

static VALUE
rb_nkf_guess(VALUE obj, VALUE src)
{
    reinit();

    input_ctr = 0;
    input = (unsigned char *)StringValuePtr(src);
    i_len = RSTRING_LENINT(src);

    guess_f = TRUE;
    kanji_convert( NULL );
    guess_f = FALSE;

    return rb_enc_from_encoding(rb_nkf_enc_get(get_guessed_code()));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nkf-class_method">
  <h3 class='signature private'>
    .<strong>nkf</strong>(opt, str)  &#x21d2; <a href="String.html" title="String (class)">String</a>  <span class="extras">(<span class='mod_func'>mod_func</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Convert <em>str</em> and return converted result. Conversion details are specified by <em>opt</em> as <a href="String.html" title="String (class)"><code>::String</code></a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nkf</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='const'>NKF</span>.<span class='id identifier rubyid_nkf'>nkf</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_input'>input</span>)</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_4/ext/nkf/nkf.c#L135-L178'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='135' data-end='178'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'ext/nkf/nkf.c', line 135</span></pre>
<pre class='code cpp'>

static VALUE
rb_nkf_convert(VALUE obj, VALUE opt, VALUE src)
{
    VALUE tmp;
    reinit();
    nkf_split_options(StringValueCStr(opt));
    if (!output_encoding) rb_raise(rb_eArgError, &quot;no output encoding given&quot;);

    switch (nkf_enc_to_index(output_encoding)) {
    case UTF_8_BOM:    output_encoding = nkf_enc_from_index(UTF_8); break;
    case UTF_16BE_BOM: output_encoding = nkf_enc_from_index(UTF_16BE); break;
    case UTF_16LE_BOM: output_encoding = nkf_enc_from_index(UTF_16LE); break;
    case UTF_32BE_BOM: output_encoding = nkf_enc_from_index(UTF_32BE); break;
    case UTF_32LE_BOM: output_encoding = nkf_enc_from_index(UTF_32LE); break;
    }
    output_bom_f = FALSE;

    incsize = INCSIZE;

    input_ctr = 0;
    input = (unsigned char *)StringValuePtr(src);
    i_len = RSTRING_LENINT(src);
    tmp = rb_str_new(0, i_len*3 + 10);

    output_ctr = 0;
    output     = (unsigned char *)RSTRING_PTR(tmp);
    o_len      = RSTRING_LENINT(tmp);
    *output    = &#39;\0&#39;;

    /* use _result_ begin*/
    result = tmp;
    kanji_convert(NULL);
    result = Qnil;
    /* use _result_ end */

    rb_str_set_len(tmp, output_ctr);

    if (mimeout_f)
	rb_enc_associate(tmp, rb_usascii_encoding());
    else
	rb_enc_associate(tmp, rb_nkf_enc_get(nkf_enc_name(output_encoding)));

    return tmp;
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>