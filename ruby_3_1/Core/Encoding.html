<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Encoding &mdash; Core Ruby-3.1.5 p252</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Encoding",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.1.5</a> &raquo; 
      <a href='.'>Core</a> &raquo; 
      <a href='_index.html#alpha_E'>Index (E)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Encoding&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Encoding</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="Encoding/Converter.html" title="Encoding::Converter (class)"><code>Converter</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="Encoding/CompatibilityError.html" title="Encoding::CompatibilityError (class)"><code>CompatibilityError</code></a>,
        <a href="Encoding/ConverterNotFoundError.html" title="Encoding::ConverterNotFoundError (class)"><code>ConverterNotFoundError</code></a>,
        <a href="Encoding/InvalidByteSequenceError.html" title="Encoding::InvalidByteSequenceError (class)"><code>InvalidByteSequenceError</code></a>,
        <a href="Encoding/UndefinedConversionError.html" title="Encoding::UndefinedConversionError (class)"><code>UndefinedConversionError</code></a>      </div>
    </td></tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L2145'>encoding.c</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/localeinit.c#L90'>localeinit.c</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>An Encoding instance represents a character encoding usable in Ruby. It is defined as a constant under the <code>Encoding</code> namespace. It has a name and optionally, aliases:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>ISO_8859_1</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Encoding#name (method)">name</a></span>
<span class='comment'>#=&gt; &quot;ISO-8859-1&quot;
</span>
<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>ISO_8859_1</span>.<span class='id identifier rubyid_names'><a href="#names-instance_method" title="Encoding#names (method)">names</a></span>
<span class='comment'>#=&gt; [&quot;ISO-8859-1&quot;, &quot;ISO8859-1&quot;]</span></code></pre>

<p>Ruby methods dealing with encodings return or accept <code>Encoding</code> instances as arguments (when a method accepts an <code>Encoding</code> instance as an argument, it can be passed an <code>Encoding</code> name or alias instead).</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some string</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encoding'>encoding</span>
<span class='comment'>#=&gt; #&lt;Encoding:UTF-8&gt;
</span>
<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some string</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encode'>encode</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>ISO_8859_1</span>)
<span class='comment'>#=&gt; &quot;some string&quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_encoding'>encoding</span>
<span class='comment'>#=&gt; #&lt;Encoding:ISO-8859-1&gt;
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some string</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encode'>encode</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'>#=&gt; &quot;some string&quot;</span></code></pre>

<p><code>Encoding::ASCII_8BIT</code> is a special encoding that is usually used for a byte string, not a character string. But as the name insists, its characters in the range of ASCII are considered as ASCII characters.  This is useful when you use ASCII-8BIT characters with other ASCII compatible characters.</p>

<h3 id="label-Changing+an+encoding">Changing an encoding</h3>

<p>The associated <code>Encoding</code> of a <a href="String.html" title="String (class)"><code>::String</code></a> can be changed in two different ways.</p>

<p>First, it is possible to set the <code>Encoding</code> of a string to a new <code>Encoding</code> without changing the internal byte representation of the string, with <a href="String.html#force_encoding-instance_method" title="String#force_encoding (method)">String#force_encoding</a>. This is how you can tell Ruby the correct encoding of a string.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span>
<span class='comment'>#=&gt; &quot;R\xC3\xA9sum\xC3\xA9&quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_encoding'>encoding</span>
<span class='comment'>#=&gt; #&lt;Encoding:ISO-8859-1&gt;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>)
<span class='comment'>#=&gt; &quot;R\u00E9sum\u00E9&quot;</span></code></pre>

<p>Second, it is possible to transcode a string, i.e. translate its internal byte representation to another encoding. Its associated encoding is also set to the other encoding. See <a href="String.html#encode-instance_method" title="String#encode (method)">String#encode</a> for the various forms of transcoding, and the <a href="Encoding/Converter.html" title="Encoding::Converter (class)"><code>Converter</code></a> class for additional control over the transcoding process.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span>
<span class='comment'>#=&gt; &quot;R\u00E9sum\u00E9&quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_encoding'>encoding</span>
<span class='comment'>#=&gt; #&lt;Encoding:UTF-8&gt;
</span><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_encode!'>encode!</span>(<span class='const'>Encoding</span><span class='op'>::</span><span class='const'>ISO_8859_1</span>)
<span class='comment'>#=&gt; &quot;R\xE9sum\xE9&quot;
</span><span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_encoding'>encoding</span>
<span class='comment'>#=&gt; #&lt;Encoding::ISO-8859-1&gt;</span></code></pre>

<h3 id="label-Script+encoding">Script encoding</h3>

<p>All Ruby script code has an associated <code>Encoding</code> which any <a href="String.html" title="String (class)"><code>::String</code></a> literal created in the source code will be associated to.</p>

<p>The default script encoding is <code>Encoding::UTF_8</code> after v2.0, but it can be changed by a magic comment on the first line of the source code file (or second line, if there is a shebang line on the first). The comment must contain the word <code>coding</code> or <code>encoding</code>, followed by a colon, space and the <code>Encoding</code> name or alias:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># encoding: UTF-8
</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some string</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_encoding'>encoding</span>
<span class='comment'>#=&gt; #&lt;Encoding:UTF-8&gt;</span></code></pre>

<p>The <code>__ENCODING__</code> keyword returns the script encoding of the file which the keyword is written:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># encoding: ISO-8859-1
</span>
<span class='kw'>__ENCODING__</span>
<span class='comment'>#=&gt; #&lt;Encoding:ISO-8859-1&gt;</span></code></pre>

<p><code>ruby -K</code> will change the default locale encoding, but this is not recommended. Ruby source files should declare its script encoding by a magic comment even when they only depend on US-ASCII strings or regular expressions.</p>

<h3 id="label-Locale+encoding">Locale encoding</h3>

<p>The default encoding of the environment. Usually derived from locale.</p>

<p>see <a href="#locale_charmap-class_method" title="Encoding.locale_charmap (method)">.locale_charmap</a>, <a href="#find-class_method" title="Encoding.find (method)">.find</a>(‘locale’)</p>

<h3 id="label-Filesystem+encoding">Filesystem encoding</h3>

<p>The default encoding of strings from the filesystem of the environment. This is used for strings of file names or paths.</p>

<p>see <a href="#find-class_method" title="Encoding.find (method)">.find</a>(‘filesystem’)</p>

<h3 id="label-External+encoding">External encoding</h3>

<p>Each IO object has an external encoding which indicates the encoding that Ruby will use to read its data. By default Ruby sets the external encoding of an <a href="IO.html" title="IO (class)"><code>::IO</code></a> object to the default external encoding. The default external encoding is set by locale encoding or the interpreter <code>-E</code> option. <a href="#default_external-class_method" title="Encoding.default_external (method)">.default_external</a> returns the current value of the external encoding.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="ENV.html" title="ENV (class)">ENV</a></span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LANG</span><span class='tstring_end'>&quot;</span></span>]
<span class='comment'>#=&gt; &quot;UTF-8&quot;
</span><span class='const'>Encoding</span>.<span class='id identifier rubyid_default_external'><a href="#default_external-class_method" title="Encoding.default_external (method)">default_external</a></span>
<span class='comment'>#=&gt; #&lt;Encoding:UTF-8&gt;
</span>
<span class='gvar'>$ </span><span class='id identifier rubyid_ruby'>ruby</span> <span class='op'>-</span><span class='const'>E</span> <span class='const'>ISO</span><span class='op'>-</span><span class='int'>8859</span><span class='op'>-</span><span class='int'>1</span> <span class='op'>-</span><span class='id identifier rubyid_e'>e</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>p Encoding.default_external</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'>#&lt;Encoding:ISO-8859-1&gt;
</span>
<span class='gvar'>$ </span><span class='const'>LANG</span><span class='op'>=</span><span class='const'>C</span> <span class='id identifier rubyid_ruby'>ruby</span> <span class='op'>-</span><span class='id identifier rubyid_e'>e</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>p Encoding.default_external</span><span class='tstring_end'>&#39;</span></span>
<span class='comment'>#&lt;Encoding:US-ASCII&gt;</span></code></pre>

<p>The default external encoding may also be set through <a href="#default_external=-class_method" title="Encoding.default_external= (method)">.default_external=</a>, but you should not do this as strings created before and after the change will have inconsistent encodings.  Instead use <code>ruby -E</code> to invoke ruby with the correct external encoding.</p>

<p>When you know that the actual encoding of the data of an <a href="IO.html" title="IO (class)"><code>::IO</code></a> object is not the default external encoding, you can reset its external encoding with <a href="IO.html#set_encoding-instance_method" title="IO#set_encoding (method)">IO#set_encoding</a> or set it at <a href="IO.html" title="IO (class)"><code>::IO</code></a> object creation (see <a href="IO.html#new-class_method" title="IO.new (method)">IO.new</a> options).</p>

<h3 id="label-Internal+encoding">Internal encoding</h3>

<p>To process the data of an <a href="IO.html" title="IO (class)"><code>::IO</code></a> object which has an encoding different from its external encoding, you can set its internal encoding. Ruby will use this internal encoding to transcode the data when it is read from the <a href="IO.html" title="IO (class)"><code>::IO</code></a> object.</p>

<p>Conversely, when data is written to the <a href="IO.html" title="IO (class)"><code>::IO</code></a> object it is transcoded from the internal encoding to the external encoding of the <a href="IO.html" title="IO (class)"><code>::IO</code></a> object.</p>

<p>The internal encoding of an <a href="IO.html" title="IO (class)"><code>::IO</code></a> object can be set with <a href="IO.html#set_encoding-instance_method" title="IO#set_encoding (method)">IO#set_encoding</a> or at <a href="IO.html" title="IO (class)"><code>::IO</code></a> object creation (see <a href="IO.html#new-class_method" title="IO.new (method)">IO.new</a> options).</p>

<p>The internal encoding is optional and when not set, the Ruby default internal encoding is used. If not explicitly set this default internal encoding is <code>nil</code> meaning that by default, no transcoding occurs.</p>

<p>The default internal encoding can be set with the interpreter option <code>-E</code>. <a href="#default_internal-class_method" title="Encoding.default_internal (method)">.default_internal</a> returns the current internal encoding.</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$ </span><span class='id identifier rubyid_ruby'>ruby</span> <span class='op'>-</span><span class='id identifier rubyid_e'>e</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>p Encoding.default_internal</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>nil</span>

<span class='gvar'>$ </span><span class='id identifier rubyid_ruby'>ruby</span> <span class='op'>-</span><span class='const'>E</span> <span class='const'>ISO</span><span class='op'>-</span><span class='int'>8859</span><span class='op'>-</span><span class='int'>1</span><span class='op'>:</span><span class='const'>UTF</span><span class='op'>-</span><span class='int'>8</span> <span class='op'>-</span><span class='id identifier rubyid_e'>e</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>p [Encoding.default_external, \
  Encoding.default_internal]</span><span class='tstring_end'>&quot;</span></span>
[<span class='comment'>#&lt;Encoding:ISO-8859-1&gt;, #&lt;Encoding:UTF-8&gt;]</span></code></pre>

<p>The default internal encoding may also be set through <a href="#default_internal=-class_method" title="Encoding.default_internal= (method)">.default_internal=</a>, but you should not do this as strings created before and after the change will have inconsistent encodings.  Instead use <code>ruby -E</code> to invoke ruby with the correct internal encoding.</p>

<h3 id="label-IO+encoding+example">IO encoding example</h3>

<p>In the following example a UTF-8 encoded string “Ru00E9sumu00E9” is transcoded for output to ISO-8859-1 encoding, then read back in and transcoded to UTF-8:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R\u00E9sum\u00E9</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>transcoded.txt</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w:ISO-8859-1</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
  <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_write'>write</span>(<span class='id identifier rubyid_string'>string</span>)
<span class='kw'>end</span>

<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>raw text:</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='const'><a href="File.html" title="File (class)">File</a></span>.<span class='id identifier rubyid_binread'><a href="IO.html#binread-class_method" title="IO.binread (method)">binread</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>transcoded.txt</span><span class='tstring_end'>&quot;</span></span>)
<span class='id identifier rubyid_puts'>puts</span>

<span class='id identifier rubyid_open'>open</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>transcoded.txt</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r:ISO-8859-1:UTF-8</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>transcoded text:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_read'>read</span>
<span class='kw'>end</span></code></pre>

<p>While writing the file, the internal encoding is not specified as it is only necessary for reading.  While reading the file both the internal and external encoding must be specified to obtain the correct result.</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$ </span><span class='id identifier rubyid_ruby'>ruby</span> <span class='id identifier rubyid_t'>t</span>.<span class='id identifier rubyid_rb'>rb</span>
<span class='id identifier rubyid_raw'>raw</span> <span class='label'>text:</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R\xE9sum\xE9</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_transcoded'>transcoded</span> <span class='label'>text:</span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R\u00E9sum\u00E9</span><span class='tstring_end'>&quot;</span></span></code></pre>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_external-class_method" title="default_external (class method)">.<strong>default_external</strong>  &#x21d2; enc </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns default external encoding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_external=-class_method" title="default_external= (class method)">.<strong>default_external=</strong>(enc)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets default external encoding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_internal-class_method" title="default_internal (class method)">.<strong>default_internal</strong>  &#x21d2; enc </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns default internal encoding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_internal=-class_method" title="default_internal= (class method)">.<strong>default_internal=</strong>(enc or nil)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets default internal encoding or removes default internal encoding when passed nil.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#aliases-class_method" title="aliases (class method)">.<strong>aliases</strong>  &#x21d2; 1 </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the hash of available encoding alias and original encoding name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#compatible%3F-class_method" title="compatible? (class method)">.<strong>compatible?</strong>(obj1, obj2)  &#x21d2; enc<sup>?</sup> </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks the compatibility of two objects.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#find-class_method" title="find (class method)">.<strong>find</strong>(string)  &#x21d2; enc </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Search the encoding with specified <em>name</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#list-class_method" title="list (class method)">.<strong>list</strong>  &#x21d2; Array, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the list of loaded encodings.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#locale_charmap-class_method" title="locale_charmap (class method)">.<strong>locale_charmap</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the locale charmap name.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#name_list-class_method" title="name_list (class method)">.<strong>name_list</strong>  &#x21d2; Array, ... </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the list of available encoding names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#_load-class_method" title="._load (class method)">.<strong>_load</strong>(str)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#ascii_compatible%3F-instance_method" title="#ascii_compatible? (instance method)">#<strong>ascii_compatible?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns whether ASCII-compatible or not.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#dummy%3F-instance_method" title="#dummy? (instance method)">#<strong>dummy?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns true for dummy encodings.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a string which represents the encoding for programmers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_s-instance_method" title="Encoding#to_s (method)">#to_s</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#names-instance_method" title="#names (instance method)">#<strong>names</strong>  &#x21d2; Array </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the list of name and aliases of the encoding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#replicate-instance_method" title="#replicate (instance method)">#<strong>replicate</strong>(name)  &#x21d2; Encoding </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a replicated encoding of <em>enc</em> whose name is <em>name</em>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
      (also: #name)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the name of the encoding.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#_dump-instance_method" title="#_dump (instance method)">#<strong>_dump</strong>(*args)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="default_external-class_method">
  <h3 class='signature rw first'>
    .<strong>default_external</strong>  &#x21d2; <code>enc</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns default external encoding.</p>

<p>The default external encoding is used by default for strings created from the following locations:</p>
<ul><li>
<p>CSV</p>
</li><li>
<p><a href="File.html" title="File (class)"><code>::File</code></a> data read from disk</p>
</li><li>
<p>SDBM</p>
</li><li>
<p>StringIO</p>
</li><li>
<p><code>Zlib::GzipReader</code></p>
</li><li>
<p><code>Zlib::GzipWriter</code></p>
</li><li>
<p><a href="String.html#inspect-instance_method" title="String#inspect (method)">String#inspect</a></p>
</li><li>
<p><a href="Regexp.html#inspect-instance_method" title="Regexp#inspect (method)">Regexp#inspect</a></p>
</li></ul>

<p>While strings created from these locations will have this encoding, the encoding may not be valid.  Be sure to check <a href="String.html#valid_encoding%3F-instance_method" title="String#valid_encoding? (method)">String#valid_encoding?</a>.</p>

<p><a href="File.html" title="File (class)"><code>::File</code></a> data written to disk will be transcoded to the default external encoding when written, if default_internal is not nil.</p>

<p>The default external encoding is initialized by the -E option. If -E isn’t set, it is initialized to UTF-8 on Windows and the locale on other operating systems.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1684-L1688'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1684' data-end='1688'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1684</span></pre>
<pre class='code cpp'>

static VALUE
get_default_external(VALUE klass)
{
    return rb_enc_default_external();
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_external=-class_method">
  <h3 class='signature rw'>
    .<strong>default_external=</strong>(enc)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets default external encoding.  You should not set <a href="#default_external-class_method" title="Encoding.default_external (method)">.default_external</a> in ruby code as strings created before changing the value may have a different encoding from strings created after the value was changed., instead you should use <code>ruby -E</code> to invoke ruby with the correct default_external.</p>

<p>See <a href="#default_external-class_method" title="Encoding.default_external (method)">.default_external</a> for information on how the default external encoding is used.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1713-L1719'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1713' data-end='1719'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1713</span></pre>
<pre class='code cpp'>

static VALUE
set_default_external(VALUE klass, VALUE encoding)
{
    rb_warning(&quot;setting Encoding.default_external&quot;);
    rb_enc_set_default_external(encoding);
    return encoding;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_internal-class_method">
  <h3 class='signature rw'>
    .<strong>default_internal</strong>  &#x21d2; <code>enc</code>  <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns default internal encoding.  Strings will be transcoded to the default internal encoding in the following places if the default internal encoding is not nil:</p>
<ul><li>
<p>CSV</p>
</li><li>
<p><code>Etc.sysconfdir</code> and <code>Etc.systmpdir</code></p>
</li><li>
<p><a href="File.html" title="File (class)"><code>::File</code></a> data read from disk</p>
</li><li>
<p><a href="File.html" title="File (class)"><code>::File</code></a> names from <a href="Dir.html" title="Dir (class)"><code>::Dir</code></a></p>
</li><li>
<p><a href="Integer.html#chr-instance_method" title="Integer#chr (method)">Integer#chr</a></p>
</li><li>
<p><a href="String.html#inspect-instance_method" title="String#inspect (method)">String#inspect</a> and <a href="Regexp.html#inspect-instance_method" title="Regexp#inspect (method)">Regexp#inspect</a></p>
</li><li>
<p>Strings returned from Readline</p>
</li><li>
<p>Strings returned from SDBM</p>
</li><li>
<p><a href="Time.html#zone-instance_method" title="Time#zone (method)">Time#zone</a></p>
</li><li>
<p>Values from <a href="ENV.html" title="ENV (class)"><code>::ENV</code></a></p>
</li><li>
<p>Values in <a href="top-level-namespace.html#ARGV-constant" title="ARGV (constant)">ARGV</a> including $PROGRAM_NAME</p>
</li></ul>

<p>Additionally <a href="String.html#encode-instance_method" title="String#encode (method)">String#encode</a> and <a href="String.html#encode!-instance_method" title="String#encode! (method)">String#encode!</a> use the default internal encoding if no encoding is given.</p>

<p>The script encoding (__ENCODING__), not default_internal, is used as the encoding of created strings.</p>

<p><code>default_internal</code> is initialized with -E option or nil otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1767-L1771'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1767' data-end='1771'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1767</span></pre>
<pre class='code cpp'>

static VALUE
get_default_internal(VALUE klass)
{
    return rb_enc_default_internal();
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_internal=-class_method">
  <h3 class='signature rw'>
    .<strong>default_internal=</strong>(enc or nil)   <span class="extras">(<span class='rw'>rw</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets default internal encoding or removes default internal encoding when passed nil.  You should not set <a href="#default_internal-class_method" title="Encoding.default_internal (method)">.default_internal</a> in ruby code as strings created before changing the value may have a different encoding from strings created after the change.  Instead you should use <code>ruby -E</code> to invoke ruby with the correct default_internal.</p>

<p>See <a href="#default_internal-class_method" title="Encoding.default_internal (method)">.default_internal</a> for information on how the default internal encoding is used.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1793-L1799'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1793' data-end='1799'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1793</span></pre>
<pre class='code cpp'>

static VALUE
set_default_internal(VALUE klass, VALUE encoding)
{
    rb_warning(&quot;setting Encoding.default_internal&quot;);
    rb_enc_set_default_internal(encoding);
    return encoding;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="_load-class_method">
  <h3 class='signature nodoc first'>
    .<strong>_load</strong>(str)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1501-L1505'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1501' data-end='1505'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1501</span></pre>
<pre class='code cpp'>

static VALUE
enc_load(VALUE klass, VALUE str)
{
    return str;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="aliases-class_method">
  <h3 class='signature '>
    .<strong>aliases</strong>  &#x21d2; <code>1</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the hash of available encoding alias and original encoding name.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span>.<span class='id identifier rubyid_aliases'>aliases</span>
<span class='comment'>#=&gt; {&quot;BINARY&quot;=&gt;&quot;ASCII-8BIT&quot;, &quot;ASCII&quot;=&gt;&quot;US-ASCII&quot;, &quot;ANSI_X3.4-1968&quot;=&gt;&quot;US-ASCII&quot;,
</span>      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SJIS</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Windows-31J</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>eucJP</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EUC-JP</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CP932</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Windows-31J</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1925-L1936'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1925' data-end='1936'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1925</span></pre>
<pre class='code cpp'>

static VALUE
rb_enc_aliases(VALUE klass)
{
    VALUE aliases[2];
    aliases[0] = rb_hash_new();
    aliases[1] = rb_ary_new();

    GLOBAL_ENC_TABLE_EVAL(enc_table,
                          st_foreach(enc_table-&gt;names, rb_enc_aliases_enc_i, (st_data_t)aliases));

    return aliases[0];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compatible?-class_method">
  <h3 class='signature '>
    .<strong>compatible?</strong>(obj1, obj2)  &#x21d2; <code>enc</code><sup>?</sup>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks the compatibility of two objects.</p>

<p>If the objects are both strings they are compatible when they are concatenatable.  The encoding of the concatenated string will be returned if they are compatible, nil if they are not.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span>.<span class='id identifier rubyid_compatible?'>compatible?</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xa1</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>iso-8859-1</span><span class='tstring_end'>&quot;</span></span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; #&lt;Encoding:ISO-8859-1&gt;
</span>
<span class='const'>Encoding</span>.<span class='id identifier rubyid_compatible?'>compatible?</span>(
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xa1</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>iso-8859-1</span><span class='tstring_end'>&quot;</span></span>)<span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\xa1\xa1</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>euc-jp</span><span class='tstring_end'>&quot;</span></span>))
<span class='comment'>#=&gt; nil</span></code></pre>

<p>If the objects are non-strings their encodings are compatible when they have an encoding and:</p>
<ul><li>
<p>Either encoding is US-ASCII compatible</p>
</li><li>
<p>One of the encodings is a 7-bit encoding</p>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1471-L1481'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1471' data-end='1481'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1471</span></pre>
<pre class='code cpp'>

static VALUE
enc_compatible_p(VALUE klass, VALUE str1, VALUE str2)
{
    rb_encoding *enc;

    if (!enc_capable(str1)) return Qnil;
    if (!enc_capable(str2)) return Qnil;
    enc = rb_enc_compatible(str1, str2);
    if (!enc) return Qnil;
    return rb_enc_from_encoding(enc);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="find-class_method">
  <h3 class='signature '>
    .<strong>find</strong>(string)  &#x21d2; <code>enc</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Search the encoding with specified <em>name</em>. <em>name</em> should be a string.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span>.<span class='id identifier rubyid_find'>find</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>US-ASCII</span><span class='tstring_end'>&quot;</span></span>)  <span class='comment'>#=&gt; #&lt;Encoding:US-ASCII&gt;</span></code></pre>

<p>Names which this method accept are encoding names and aliases including following special aliases</p>
<dl class="rdoc-list note-list"><dt>“external”
<dd>
<p>default external encoding</p>
</dd><dt>“internal”
<dd>
<p>default internal encoding</p>
</dd><dt>“locale”
<dd>
<p>locale encoding</p>
</dd><dt>“filesystem”
<dd>
<p>filesystem encoding</p>
</dd></dl>

<p>An ArgumentError is raised when no encoding with <em>name</em>. Only <code>Encoding.find(&quot;internal&quot;)</code> however returns nil when no encoding named “internal”, in other words, when Ruby has no default internal encoding.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1436-L1445'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1436' data-end='1445'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1436</span></pre>
<pre class='code cpp'>

static VALUE
enc_find(VALUE klass, VALUE enc)
{
    int idx;
    if (is_obj_encoding(enc))
	return enc;
    idx = str_to_encindex(enc);
    if (idx == UNSPECIFIED_ENCODING) return Qnil;
    return rb_enc_from_encoding_index(idx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="list-class_method">
  <h3 class='signature '>
    .<strong>list</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the list of loaded encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span>.<span class='id identifier rubyid_list'>list</span>
<span class='comment'>#=&gt; [#&lt;Encoding:ASCII-8BIT&gt;, #&lt;Encoding:UTF-8&gt;,
</span>      <span class='comment'>#&lt;Encoding:ISO-2022-JP (dummy)&gt;]
</span>
<span class='const'>Encoding</span>.<span class='id identifier rubyid_find'><a href="#find-class_method" title="Encoding.find (method)">find</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>US-ASCII</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'>#=&gt; #&lt;Encoding:US-ASCII&gt;
</span>
<span class='const'>Encoding</span>.<span class='id identifier rubyid_list'>list</span>
<span class='comment'>#=&gt; [#&lt;Encoding:ASCII-8BIT&gt;, #&lt;Encoding:UTF-8&gt;,
</span>      <span class='comment'>#&lt;Encoding:US-ASCII&gt;, #&lt;Encoding:ISO-2022-JP (dummy)&gt;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1399-L1412'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1399' data-end='1412'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1399</span></pre>
<pre class='code cpp'>

static VALUE
enc_list(VALUE klass)
{
    VALUE ary = rb_ary_new2(0);

    RB_VM_LOCK_ENTER();
    {
        rb_ary_replace(ary, rb_default_encoding_list);
        rb_ary_concat(ary, rb_additional_encoding_list);
    }
    RB_VM_LOCK_LEAVE();

    return ary;
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="locale_charmap-class_method">
  <h3 class='signature '>
    .<strong>locale_charmap</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the locale charmap name. It returns nil if no appropriate information.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Debian</span> <span class='const'>GNU</span><span class='op'>/</span><span class='const'>Linux</span>
  <span class='const'>LANG</span><span class='op'>=</span><span class='const'>C</span>
    <span class='const'>Encoding</span>.<span class='id identifier rubyid_locale_charmap'>locale_charmap</span>  <span class='comment'>#=&gt; &quot;ANSI_X3.4-1968&quot;
</span>  <span class='const'>LANG</span><span class='op'>=</span><span class='id identifier rubyid_ja_JP'>ja_JP</span>.<span class='const'>EUC</span><span class='op'>-</span><span class='const'>JP</span>
    <span class='const'>Encoding</span>.<span class='id identifier rubyid_locale_charmap'>locale_charmap</span>  <span class='comment'>#=&gt; &quot;EUC-JP&quot;
</span>
<span class='const'>SunOS</span> <span class='int'>5</span>
  <span class='const'>LANG</span><span class='op'>=</span><span class='const'>C</span>
    <span class='const'>Encoding</span>.<span class='id identifier rubyid_locale_charmap'>locale_charmap</span>  <span class='comment'>#=&gt; &quot;646&quot;
</span>  <span class='const'>LANG</span><span class='op'>=</span><span class='id identifier rubyid_ja'>ja</span>
    <span class='const'>Encoding</span>.<span class='id identifier rubyid_locale_charmap'>locale_charmap</span>  <span class='comment'>#=&gt; &quot;eucJP&quot;</span></code></pre>

<p>The result is highly platform dependent. So <a href="#find-class_method" title="Encoding.find (method)">.find</a>(Encoding.locale_charmap) may cause an error. If you need some encoding object even for unknown locale, <a href="#find-class_method" title="Encoding.find (method)">.find</a>(“locale”) can be used.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/localeinit.c#L90-L98'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='90' data-end='98'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'localeinit.c', line 90</span></pre>
<pre class='code cpp'>

VALUE
rb_locale_charmap(VALUE klass)
{
#if NO_LOCALE_CHARMAP
    return rb_usascii_str_new_cstr(&quot;US-ASCII&quot;);
#else
    return locale_charmap(rb_usascii_str_new_cstr);
#endif
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name_list-class_method">
  <h3 class='signature '>
    .<strong>name_list</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>, ...   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the list of available encoding names.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span>.<span class='id identifier rubyid_name_list'>name_list</span>
<span class='comment'>#=&gt; [&quot;US-ASCII&quot;, &quot;ASCII-8BIT&quot;, &quot;UTF-8&quot;,
</span>      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ISO-8859-1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Shift_JIS</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EUC-JP</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Windows-31J</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BINARY</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CP932</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>eucJP</span><span class='tstring_end'>&quot;</span></span>]</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1875-L1888'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1875' data-end='1888'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1875</span></pre>
<pre class='code cpp'>

static VALUE
rb_enc_name_list(VALUE klass)
{
    VALUE ary;

    GLOBAL_ENC_TABLE_ENTER(enc_table);
    {
        ary = rb_ary_new2(enc_table-&gt;names-&gt;num_entries);
        st_foreach(enc_table-&gt;names, rb_enc_name_list_i, (st_data_t)ary);
    }
    GLOBAL_ENC_TABLE_LEAVE();

    return ary;
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="ascii_compatible?-instance_method">
  <h3 class='signature ro first'>
    #<strong>ascii_compatible?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns whether ASCII-compatible or not.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>.<span class='id identifier rubyid_ascii_compatible?'>ascii_compatible?</span>     <span class='comment'>#=&gt; true
</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_16BE</span>.<span class='id identifier rubyid_ascii_compatible?'>ascii_compatible?</span>  <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L679-L683'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='679' data-end='683'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 679</span></pre>
<pre class='code cpp'>

static VALUE
enc_ascii_compatible_p(VALUE enc)
{
    return RBOOL(rb_enc_asciicompat(must_encoding(enc)));
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dummy?-instance_method">
  <h3 class='signature ro'>
    #<strong>dummy?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns true for dummy encodings. A dummy encoding is an encoding for which character handling is not properly implemented. It is used for stateful encodings.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>ISO_2022_JP</span>.<span class='id identifier rubyid_dummy?'>dummy?</span>       <span class='comment'>#=&gt; true
</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>.<span class='id identifier rubyid_dummy?'>dummy?</span>             <span class='comment'>#=&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L663-L667'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='663' data-end='667'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 663</span></pre>
<pre class='code cpp'>

static VALUE
enc_dummy_p(VALUE enc)
{
    return RBOOL(ENC_DUMMY_P(must_encoding(enc)));
}
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="_dump-instance_method">
  <h3 class='signature nodoc first'>
    #<strong>_dump</strong>(*args)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1493-L1498'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1493' data-end='1498'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1493</span></pre>
<pre class='code cpp'>

static VALUE
enc_dump(int argc, VALUE *argv, VALUE self)
{
    rb_check_arity(argc, 0, 1);
    return enc_name(self);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a string which represents the encoding for programmers.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>.<span class='id identifier rubyid_inspect'>inspect</span>       <span class='comment'>#=&gt; &quot;#&lt;Encoding:UTF-8&gt;&quot;
</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>ISO_2022_JP</span>.<span class='id identifier rubyid_inspect'>inspect</span> <span class='comment'>#=&gt; &quot;#&lt;Encoding:ISO-2022-JP (dummy)&gt;&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1314-L1330'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1314' data-end='1330'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1314</span></pre>
<pre class='code cpp'>

static VALUE
enc_inspect(VALUE self)
{
    rb_encoding *enc;

    if (!is_data_encoding(self)) {
	not_encoding(self);
    }
    if (!(enc = DATA_PTR(self)) || rb_enc_from_index(rb_enc_to_index(enc)) != enc) {
	rb_raise(rb_eTypeError, &quot;broken Encoding&quot;);
    }
    return rb_enc_sprintf(rb_usascii_encoding(),
			  &quot;#&lt;%&quot;PRIsVALUE&quot;:%s%s%s&gt;&quot;, rb_obj_class(self),
			  rb_enc_name(enc),
			  (ENC_DUMMY_P(enc) ? &quot; (dummy)&quot; : &quot;&quot;),
			  rb_enc_autoload_p(enc) ? &quot; (autoload)&quot; : &quot;&quot;);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>name</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_s-instance_method" title="Encoding#to_s (method)">#to_s</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>

</section>

<section class='method_details' id="names-instance_method">
  <h3 class='signature '>
    #<strong>names</strong>  &#x21d2; <a href="Array.html" title="Array (class)">Array</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the list of name and aliases of the encoding.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>WINDOWS_31J</span>.<span class='id identifier rubyid_names'>names</span>  <span class='comment'>#=&gt; [&quot;Windows-31J&quot;, &quot;CP932&quot;, &quot;csWindows31J&quot;, &quot;SJIS&quot;, &quot;PCK&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1367-L1379'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1367' data-end='1379'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1367</span></pre>
<pre class='code cpp'>

static VALUE
enc_names(VALUE self)
{
    VALUE args[2];

    args[0] = (VALUE)rb_to_encoding_index(self);
    args[1] = rb_ary_new2(0);

    GLOBAL_ENC_TABLE_EVAL(enc_table,
                          st_foreach(enc_table-&gt;names, enc_names_i, (st_data_t)args));

    return args[1];
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="replicate-instance_method">
  <h3 class='signature '>
    #<strong>replicate</strong>(name)  &#x21d2; <code>Encoding</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a replicated encoding of <em>enc</em> whose name is <em>name</em>. The new encoding should have the same byte structure of <em>enc</em>. If <em>name</em> is used by another encoding, raise <a href="ArgumentError.html" title="ArgumentError (class)"><code>::ArgumentError</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L569-L575'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='569' data-end='575'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 569</span></pre>
<pre class='code cpp'>

static VALUE
enc_replicate_m(VALUE encoding, VALUE name)
{
    int idx = rb_enc_replicate(name_for_encoding(&amp;name), rb_to_encoding(encoding));
    RB_GC_GUARD(name);
    return rb_enc_from_encoding_index(idx);
}
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>name</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
      <span class='overload'>#<strong>to_s</strong>  &#x21d2; <a href="String.html" title="String (class)">String</a> </span>
    </div>
    <span class='aliases'>Also known as: <span class='names'>#name</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the name of the encoding.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>.<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Encoding#name (method)">name</a></span>      <span class='comment'>#=&gt; &quot;UTF-8&quot;</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_1_5/encoding.c#L1341-L1345'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1341' data-end='1345'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'encoding.c', line 1341</span></pre>
<pre class='code cpp'>

static VALUE
enc_name(VALUE self)
{
    return rb_fstring_cstr(rb_enc_name((rb_encoding*)DATA_PTR(self)));
}
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>