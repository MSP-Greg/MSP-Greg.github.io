<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: OptionParser &mdash; optparse  Ruby-2.4.10 p364</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "OptionParser",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a href='../../index.html'>Home</a> &raquo; 
      <a href='../index.html'>Ruby-2.4.10</a> &raquo; 
      <a href='index.html'>optparse</a> &raquo; 
      <a href='_index.html#alpha_O'>Index (O)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>OptionParser&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: OptionParser</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="OptionParser/Acceptables.html" title="OptionParser::Acceptables (module)">Acceptables</a>,
        <a href="OptionParser/Arguable.html" title="OptionParser::Arguable (module)">Arguable</a>,
        <a href="OptionParser/Completion.html" title="OptionParser::Completion (module)">Completion</a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="OptionParser/AC.html" title="OptionParser::AC (class)">AC</a>,
        <a href="OptionParser/CompletingHash.html" title="OptionParser::CompletingHash (class)">CompletingHash</a>,
        <a href="OptionParser/List.html" title="OptionParser::List (class)">List</a>,
        <a href="OptionParser/OptionMap.html" title="OptionParser::OptionMap (class)">OptionMap</a>,
        <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="OptionParser/AmbiguousArgument.html" title="OptionParser::AmbiguousArgument (class)">AmbiguousArgument</a>,
        <a href="OptionParser/AmbiguousOption.html" title="OptionParser::AmbiguousOption (class)">AmbiguousOption</a>,
        <a href="OptionParser/InvalidArgument.html" title="OptionParser::InvalidArgument (class)">InvalidArgument</a>,
        <a href="OptionParser/InvalidOption.html" title="OptionParser::InvalidOption (class)">InvalidOption</a>,
        <a href="OptionParser/MissingArgument.html" title="OptionParser::MissingArgument (class)">MissingArgument</a>,
        <a href="OptionParser/NeedlessArgument.html" title="OptionParser::NeedlessArgument (class)">NeedlessArgument</a>,
        <a href="OptionParser/ParseError.html" title="OptionParser::ParseError (class)">ParseError</a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Subclasses:</div>
        <div class='box_22'>
          <a href="OptionParser/AC.html" title="OptionParser::AC (class)">AC</a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L395'>lib/optparse.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse/kwargs.rb#L4'>lib/optparse/kwargs.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-Introduction">Introduction</h3>

<p><code>OptionParser</code> is a class for command-line option analysis.  It is much more advanced, yet also easier to use, than GetoptLong, and is a more Ruby-oriented solution.</p>

<h3 id="label-Features">Features</h3>
<ol><li>
<p>The argument specification and the code to handle it are written in the same place.</p>
</li><li>
<p>It can output an option summary; you don&#39;t need to maintain this string separately.</p>
</li><li>
<p>Optional and mandatory arguments are specified very gracefully.</p>
</li><li>
<p>Arguments can be automatically converted to a specified class.</p>
</li><li>
<p>Arguments can be restricted to a certain set.</p>
</li></ol>

<p>All of these features are demonstrated in the examples below.  See <a href="#make_switch-instance_method" title="OptionParser#make_switch (method)">#make_switch</a> for full documentation.</p>

<h3 id="label-Minimal+example">Minimal example</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}
<span class='const'>OptionParser</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opts'>opts</span><span class='op'>|</span>
  <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_banner'><a href="#banner-instance_method" title="OptionParser#banner (method)">banner</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: example.rb [options]</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-v</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--[no-]verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run verbosely</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span>] <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_parse!'><a href="#parse!-instance_method" title="OptionParser#parse! (method)">parse!</a></span>

<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_options'>options</span>
<span class='id identifier rubyid_p'>p</span> <span class='const'><a href="ARGV.html" title="ARGV (class)">ARGV</a></span></code></pre>

<h3 id="label-Generating+Help">Generating Help</h3>

<p><code>OptionParser</code> can be used to automatically generate help for the commands you write:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>Options</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>)

<span class='kw'>class</span> <span class='const'>Parser</span>
  <span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="OptionParser#parse (method)">parse</a></span>(<span class='id identifier rubyid_options'>options</span>)
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='const'>Options</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>world</span><span class='tstring_end'>&quot;</span></span>)

    <span class='id identifier rubyid_opt_parser'>opt_parser</span> <span class='op'>=</span> <span class='const'>OptionParser</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opts'>opts</span><span class='op'>|</span>
      <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_banner'><a href="#banner-instance_method" title="OptionParser#banner (method)">banner</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: example.rb [options]</span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-nNAME</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--name=NAME</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name to say hello to</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
        <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_n'>n</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prints this help</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_opts'>opts</span>
        <span class='id identifier rubyid_exit'>exit</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_opt_parser'>opt_parser</span>.<span class='id identifier rubyid_parse!'><a href="#parse!-instance_method" title="OptionParser#parse! (method)">parse!</a></span>(<span class='id identifier rubyid_options'>options</span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='const'>Parser</span>.<span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="OptionParser#parse (method)">parse</a></span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>--help</span><span class='tstring_end'>]</span></span>

<span class='comment'>#=&gt;
</span>   <span class='comment'># Usage: example.rb [options]
</span>   <span class='comment'>#     -n, --name=NAME                  Name to say hello to
</span>   <span class='comment'>#     -h, --help                       Prints this help</span></code></pre>

<h3 id="label-Required+Arguments">Required Arguments</h3>

<p>For options that require an argument, option specification strings may include an option name in all caps. If an option is used without the required argument, an exception will be raised.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> {}
<span class='const'>OptionParser</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--require LIBRARY</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Require the LIBRARY before executing your script</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_lib'>lib</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You required </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib'>lib</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_parse!'><a href="#parse!-instance_method" title="OptionParser#parse! (method)">parse!</a></span></code></pre>

<p>Used:</p>

<pre class="code ruby"><code class="ruby">bash-3.2$ ruby optparse-test.rb -r
optparse-test.rb:9:in `&lt;main&gt;&#39;: missing argument: -r (OptionParser::MissingArgument)
bash-3.2$ ruby optparse-test.rb -r my-library
You required my-library!</code></pre>

<h3 id="label-Type+Coercion">Type Coercion</h3>

<p><code>OptionParser</code> supports the ability to coerce command line arguments into objects for us.</p>

<p><code>OptionParser</code> comes with a few ready-to-use kinds of  type coercion. They are:</p>
<ul><li>
<p>Date  – Anything accepted by <code>Date.parse</code></p>
</li><li>
<p>DateTime – Anything accepted by <code>DateTime.parse</code></p>
</li><li>
<p>Time – Anything accepted by <code>Time.httpdate</code> or <code>Time.parse</code></p>
</li><li>
<p>URI  – Anything accepted by <code>URI.parse</code></p>
</li><li>
<p>Shellwords – Anything accepted by <code>Shellwords.shellwords</code></p>
</li><li>
<p>String – Any non-empty string</p>
</li><li>
<p>Integer – Any integer. Will convert octal. (e.g. 124, -3, 040)</p>
</li><li>
<p>Float – Any float. (e.g. 10, 3.14, -100E+13)</p>
</li><li>
<p>Numeric – Any integer, float, or rational (1, 3.4, 1/3)</p>
</li><li>
<p><a href="#DecimalInteger-constant" title="OptionParser::DecimalInteger (constant)">DecimalInteger</a> – Like <code>Integer</code>, but no octal format.</p>
</li><li>
<p><a href="#OctalInteger-constant" title="OptionParser::OctalInteger (constant)">OctalInteger</a> – Like <code>Integer</code>, but no decimal format.</p>
</li><li>
<p><a href="#DecimalNumeric-constant" title="OptionParser::DecimalNumeric (constant)">DecimalNumeric</a> – Decimal integer or float.</p>
</li><li>
<p>TrueClass –  Accepts &#39;+, yes, true, -, no, false&#39; and defaults as <code>true</code></p>
</li><li>
<p>FalseClass – Same as <code>TrueClass</code>, but defaults to <code>false</code></p>
</li><li>
<p>Array – Strings separated by &#39;,&#39; (e.g. 1,2,3)</p>
</li><li>
<p>Regexp – Regular expressions. Also includes options.</p>
</li></ul>

<p>We can also add our own coercions, which we will cover soon.</p>

<h4 id="label-Using+Built-in+Conversions">Using Built-in Conversions</h4>

<p>As an example, the built-in <code>Time</code> conversion is used. The other built-in conversions behave in the same way. <code>OptionParser</code> will attempt to parse the argument as a <code>Time</code>. If it succeeds, that time will be passed to the handler block. Otherwise, an exception will be raised.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse/time</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>OptionParser</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
  <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--time [TIME]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Time</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Begin execution at given time</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_time'>time</span><span class='op'>|</span>
    <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_time'>time</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>.<span class='id identifier rubyid_parse!'><a href="#parse!-instance_method" title="OptionParser#parse! (method)">parse!</a></span></code></pre>

<p>Used:</p>

<pre class="code ruby"><code class="ruby">bash-3.2$ ruby optparse-test.rb  -t nonsense
#... invalid argument: -t nonsense (OptionParser::InvalidArgument)
from ... time.rb:5:in `block in &lt;top (required)&gt;&#39;
from optparse-test.rb:31:in `&lt;main&gt;&#39;
bash-3.2$ ruby optparse-test.rb  -t 10-11-12
2010-11-12 00:00:00 -0500
bash-3.2$ ruby optparse-test.rb  -t 9:30
2014-08-13 09:30:00 -0400</code></pre>

<h4 id="label-Creating+Custom+Conversions">Creating Custom Conversions</h4>

<p>The <a href="#accept-class_method" title="OptionParser.accept (method)">.accept</a> method on <code>OptionParser</code> may be used to create converters. It specifies which conversion block to call whenever a class is specified. The example below uses it to fetch a <code>User</code> object before the <a href="#on-instance_method" title="OptionParser#on (method)">#on</a> handler receives it.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>User</span> <span class='op'>=</span> <span class='const'>Struct</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_name'>name</span>)

<span class='kw'>def</span> <span class='id identifier rubyid_find_user'>find_user</span> <span class='id identifier rubyid_id'>id</span>
  <span class='id identifier rubyid_not_found'>not_found</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span><span class='tlambeg'>{</span> <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No User Found for id </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
  [ <span class='const'>User</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sam</span><span class='tstring_end'>&quot;</span></span>)<span class='comma'>,</span>
    <span class='const'>User</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Gandalf</span><span class='tstring_end'>&quot;</span></span>) ].<span class='id identifier rubyid_find'>find</span>(<span class='id identifier rubyid_not_found'>not_found</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_u'>u</span><span class='op'>|</span>
    <span class='id identifier rubyid_u'>u</span>.<span class='id identifier rubyid_id'>id</span> <span class='op'>==</span> <span class='id identifier rubyid_id'>id</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_op'>op</span> <span class='op'>=</span> <span class='const'>OptionParser</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>
<span class='id identifier rubyid_op'>op</span>.<span class='id identifier rubyid_accept'><a href="#accept-class_method" title="OptionParser.accept (method)">accept</a></span>(<span class='const'>User</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_user_id'>user_id</span><span class='op'>|</span>
  <span class='id identifier rubyid_find_user'>find_user</span> <span class='id identifier rubyid_user_id'>user_id</span>.<span class='id identifier rubyid_to_i'>to_i</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_op'>op</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--user ID</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>User</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_user'>user</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_user'>user</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_op'>op</span>.<span class='id identifier rubyid_parse!'><a href="#parse!-instance_method" title="OptionParser#parse! (method)">parse!</a></span></code></pre>

<p>output:</p>

<pre class="code ruby"><code class="ruby">bash-3.2$ ruby optparse-test.rb --user 1
#&lt;struct User id=1, name=&quot;Sam&quot;&gt;
bash-3.2$ ruby optparse-test.rb --user 2
#&lt;struct User id=2, name=&quot;Gandalf&quot;&gt;
bash-3.2$ ruby optparse-test.rb --user 3
optparse-test.rb:15:in `block in find_user&#39;: No User Found for id 3 (RuntimeError)</code></pre>

<h3 id="label-Complete+example">Complete example</h3>

<p>The following example is a complete Ruby program.  You can run it and see the effect of specifying various options.  This is probably the best way to learn the features of <code>optparse</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>optparse/time</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ostruct</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pp</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>class</span> <span class='const'>OptparseExample</span>
  <span class='const'>Version</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.0.0</span><span class='tstring_end'>&#39;</span></span>

  <span class='const'>CODES</span> <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>iso-2022-jp</span><span class='words_sep'> </span><span class='tstring_content'>shift_jis</span><span class='words_sep'> </span><span class='tstring_content'>euc-jp</span><span class='words_sep'> </span><span class='tstring_content'>utf8</span><span class='words_sep'> </span><span class='tstring_content'>binary</span><span class='tstring_end'>]</span></span>
  <span class='const'>CODE_ALIASES</span> <span class='op'>=</span> { <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jis</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>iso-2022-jp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sjis</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>shift_jis</span><span class='tstring_end'>&quot;</span></span> }

  <span class='kw'>class</span> <span class='const'>ScriptOptions</span>
    <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_library'>library</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_inplace'>inplace</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_encoding'>encoding</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_transfer_type'>transfer_type</span><span class='comma'>,</span>
                  <span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_extension'>extension</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_delay'>delay</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_time'>time</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_record_separator'>record_separator</span><span class='comma'>,</span>
                  <span class='symbeg'>:</span><span class='id identifier rubyid_list'>list</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_library'>library</span> <span class='op'>=</span> []
      <span class='kw'>self</span>.<span class='id identifier rubyid_inplace'>inplace</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>utf8</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_transfer_type'>transfer_type</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_auto'>auto</span>
      <span class='kw'>self</span>.<span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_define_options'>define_options</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_banner'><a href="#banner-instance_method" title="OptionParser#banner (method)">banner</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: example.rb [options]</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_separator'><a href="#separator-instance_method" title="OptionParser#separator (method)">separator</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_separator'><a href="#separator-instance_method" title="OptionParser#separator (method)">separator</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specific options:</span><span class='tstring_end'>&quot;</span></span>

      <span class='comment'># add additional options
</span>      <span class='id identifier rubyid_perform_inplace_option'>perform_inplace_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_delay_execution_option'>delay_execution_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_execute_at_time_option'>execute_at_time_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_specify_record_separator_option'>specify_record_separator_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_list_example_option'>list_example_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_specify_encoding_option'>specify_encoding_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_optional_option_argument_with_keyword_completion_option'>optional_option_argument_with_keyword_completion_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_boolean_verbose_option'>boolean_verbose_option</span>(<span class='id identifier rubyid_parser'>parser</span>)

      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_separator'><a href="#separator-instance_method" title="OptionParser#separator (method)">separator</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_separator'><a href="#separator-instance_method" title="OptionParser#separator (method)">separator</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Common options:</span><span class='tstring_end'>&quot;</span></span>
      <span class='comment'># No argument, shows at tail.  This will print an options summary.
</span>      <span class='comment'># Try it and see!
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on_tail'><a href="#on_tail-instance_method" title="OptionParser#on_tail (method)">on_tail</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show this message</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_parser'>parser</span>
        <span class='id identifier rubyid_exit'>exit</span>
      <span class='kw'>end</span>
      <span class='comment'># Another typical switch to print the version.
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on_tail'><a href="#on_tail-instance_method" title="OptionParser#on_tail (method)">on_tail</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show version</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='const'>Version</span>
        <span class='id identifier rubyid_exit'>exit</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_perform_inplace_option'>perform_inplace_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='comment'># Specifies an optional option argument
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-i</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inplace [EXTENSION]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Edit ARGV files in place</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(make backup if EXTENSION supplied)</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ext'>ext</span><span class='op'>|</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_inplace'>inplace</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_extension'>extension</span> <span class='op'>=</span> <span class='id identifier rubyid_ext'>ext</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_extension'>extension</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\.?(?=.)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>)  <span class='comment'># Ensure extension begins with dot.
</span>      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_delay_execution_option'>delay_execution_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='comment'># Cast &#39;delay&#39; argument to a Float.
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--delay N</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Float</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delay N seconds before executing</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_delay'>delay</span> <span class='op'>=</span> <span class='id identifier rubyid_n'>n</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_execute_at_time_option'>execute_at_time_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='comment'># Cast &#39;time&#39; argument to a Time object.
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--time [TIME]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Time</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Begin execution at given time</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_time'>time</span><span class='op'>|</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_specify_record_separator_option'>specify_record_separator_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='comment'># Cast to octal integer.
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-F</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--irs [OCTAL]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>OptionParser</span><span class='op'>::</span><span class='const'><a href="#OctalInteger-constant" title="OptionParser::OctalInteger (constant)">OctalInteger</a></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify record separator (default \\0)</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rs'>rs</span><span class='op'>|</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_record_separator'>record_separator</span> <span class='op'>=</span> <span class='id identifier rubyid_rs'>rs</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_list_example_option'>list_example_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='comment'># List of arguments.
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--list x,y,z</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>Array</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Example &#39;list&#39; of arguments</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_list'>list</span><span class='op'>|</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_list'>list</span> <span class='op'>=</span> <span class='id identifier rubyid_list'>list</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_specify_encoding_option'>specify_encoding_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='comment'># Keyword completion.  We are specifying a specific set of arguments (CODES
</span>      <span class='comment'># and CODE_ALIASES - notice the latter is a Hash), and the user may provide
</span>      <span class='comment'># the shortest unambiguous text.
</span>      <span class='id identifier rubyid_code_list'>code_list</span> <span class='op'>=</span> (<span class='const'>CODE_ALIASES</span>.<span class='id identifier rubyid_keys'>keys</span> <span class='op'>+</span> <span class='const'>CODES</span>).<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span>)
      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--code CODE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>CODES</span><span class='comma'>,</span> <span class='const'>CODE_ALIASES</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Select encoding</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code_list'>code_list</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_encoding'>encoding</span><span class='op'>|</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='id identifier rubyid_encoding'>encoding</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_optional_option_argument_with_keyword_completion_option'>optional_option_argument_with_keyword_completion_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='comment'># Optional &#39;--type&#39; option argument with keyword completion.
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--type [TYPE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_binary'>binary</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_auto'>auto</span>]<span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Select transfer type (text, binary, auto)</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_transfer_type'>transfer_type</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_boolean_verbose_option'>boolean_verbose_option</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='comment'># Boolean switch.
</span>      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_on'><a href="#on-instance_method" title="OptionParser#on (method)">on</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-v</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--[no-]verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run verbosely</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
        <span class='kw'>self</span>.<span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'>#
</span>  <span class='comment'># Return a structure describing the options.
</span>  <span class='comment'>#
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="OptionParser#parse (method)">parse</a></span>(<span class='id identifier rubyid_args'>args</span>)
    <span class='comment'># The options specified on the command line will be collected in
</span>    <span class='comment'># *options*.
</span>
    <span class='ivar'>@options</span> <span class='op'>=</span> <span class='const'>ScriptOptions</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>
    <span class='ivar'>@args</span> <span class='op'>=</span> <span class='const'>OptionParser</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parser'>parser</span><span class='op'>|</span>
      <span class='ivar'>@options</span>.<span class='id identifier rubyid_define_options'>define_options</span>(<span class='id identifier rubyid_parser'>parser</span>)
      <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_parse!'><a href="#parse!-instance_method" title="OptionParser#parse! (method)">parse!</a></span>(<span class='id identifier rubyid_args'>args</span>)
    <span class='kw'>end</span>
    <span class='ivar'>@options</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_parser'>parser</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>  <span class='comment'># class OptparseExample
</span>
<span class='id identifier rubyid_example'>example</span> <span class='op'>=</span> <span class='const'>OptparseExample</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>
<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_example'>example</span>.<span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="OptionParser#parse (method)">parse</a></span>(<span class='const'><a href="ARGV.html" title="ARGV (class)">ARGV</a></span>)
<span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_options'>options</span> <span class='comment'># example.options
</span><span class='id identifier rubyid_pp'>pp</span> <span class='const'><a href="ARGV.html" title="ARGV (class)">ARGV</a></span></code></pre>

<h3 id="label-Shell+Completion">Shell Completion</h3>

<p>For modern shells (e.g. bash, zsh, etc.), you can use shell completion for command line options.</p>

<h3 id="label-Further+documentation">Further documentation</h3>

<p>The above examples should be enough to learn how to use this class.  If you have any questions, file a ticket at <a href="http://bugs.ruby-lang.org">bugs.ruby-lang.org</a>.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DecimalInteger-constant' class='summary_signature'>DecimalInteger =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Decimal integer format, to be converted to Integer.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1867-L1867'># File 'lib/optparse.rb', line 1867</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[-+]?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_decimal'>decimal</span><span class='embexpr_end'>}</span><span class='tstring_content'>\z</span><span class='regexp_end'>/io</span></span></pre>
  </li>
  <li>
    <span id='DecimalNumeric-constant' class='summary_signature'>DecimalNumeric =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Decimal integer/float number format, to be converted to Integer for integer format, Float for float format.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1893-L1893'># File 'lib/optparse.rb', line 1893</a>    <pre class='code ruby'><span class='id identifier rubyid_floatpat'>floatpat</span></pre>
  </li>
  <li>
    <span id='OctalInteger-constant' class='summary_signature'>OctalInteger =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Ruby/C like octal/hexadecimal/binary integer format, to be converted to Integer.</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1880-L1880'># File 'lib/optparse.rb', line 1880</a>    <pre class='code ruby'><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[-]?(?:[0-7](?:_[0-7]+)*|0(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_binary'>binary</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hex'>hex</span><span class='embexpr_end'>}</span><span class='tstring_content'>))\z</span><span class='regexp_end'>/io</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#accept-class_method" title=".accept (class method)">.<strong>accept</strong>(*args, &amp;blk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See <a href="#accept-instance_method" title="OptionParser#accept (method)">#accept</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each_const-class_method" title=".each_const (class method)">.<strong>each_const</strong>(path, base = ::Object)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getopts-class_method" title=".getopts (class method)">.<strong>getopts</strong>(*args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See <a href="#getopts-instance_method" title="OptionParser#getopts (method)">#getopts</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inc-class_method" title=".inc (class method)">.<strong>inc</strong>(arg, default = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns an incremented value of <code>default</code> according to <code>arg</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(banner = nil, width = 32, indent = &#39; &#39; * 4) {|_self| ... } &#x21d2; OptionParser </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes the instance and yields itself if called with a block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject-class_method" title=".reject (class method)">.<strong>reject</strong>(*args, &amp;blk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>See <a href="#reject-instance_method" title="OptionParser#reject (method)">#reject</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#search_const-class_method" title=".search_const (class method)">.<strong>search_const</strong>(klass, name)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#show_version-class_method" title=".show_version (class method)">.<strong>show_version</strong>(*pkgs)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#terminate-class_method" title=".terminate (class method)">.<strong>terminate</strong>(arg = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#top-class_method" title=".top (class method)">.<strong>top</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#with-class_method" title=".with (class method)">.<strong>with</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes a new instance and evaluates the optional block in context of the instance.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature rw'>
      <a href="#banner-instance_method" title="#banner (instance method)">#<strong>banner</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Heading banner preceding summary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#banner=-instance_method" title="#banner= (instance method)">#<strong>banner=</strong>(value)  </a>
      (also: #set_banner)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Heading banner preceding summary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#default_argv-instance_method" title="#default_argv (instance method)">#<strong>default_argv</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Strings to be parsed in default.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#program_name-instance_method" title="#program_name (instance method)">#<strong>program_name</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Program name to be emitted in error message and default banner, defaults to $0.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#program_name=-instance_method" title="#program_name= (instance method)">#<strong>program_name=</strong>(value)  </a>
      (also: #set_program_name)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Program name to be emitted in error message and default banner, defaults to $0.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#release-instance_method" title="#release (instance method)">#<strong>release</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Release code.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#release=-instance_method" title="#release= (instance method)">#<strong>release=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Release code.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#summary_indent-instance_method" title="#summary_indent (instance method)">#<strong>summary_indent</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Indentation for summary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#summary_width-instance_method" title="#summary_width (instance method)">#<strong>summary_width</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Width for option list portion of summary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#version-instance_method" title="#version (instance method)">#<strong>version</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Version.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#version=-instance_method" title="#version= (instance method)">#<strong>version=</strong>(value)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Version.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#abort-instance_method" title="#abort (instance method)">#<strong>abort</strong>(mesg = $!)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#accept-instance_method" title="#accept (instance method)">#<strong>accept</strong>(*args, &amp;blk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Directs to accept specified class <code>t</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#base-instance_method" title="#base (instance method)">#<strong>base</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Subject of <a href="#on_tail-instance_method" title="OptionParser#on_tail (method)">#on_tail</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#candidate-instance_method" title="#candidate (instance method)">#<strong>candidate</strong>(word)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#def_head_option-instance_method" title="#def_head_option (instance method)">#<strong>def_head_option</strong>(*opts, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#define_head-instance_method" title="OptionParser#define_head (method)">#define_head</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#def_option-instance_method" title="#def_option (instance method)">#<strong>def_option</strong>(*opts, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#define-instance_method" title="OptionParser#define (method)">#define</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#def_tail_option-instance_method" title="#def_tail_option (instance method)">#<strong>def_tail_option</strong>(*opts, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#define_tail-instance_method" title="OptionParser#define_tail (method)">#define_tail</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#define-instance_method" title="#define (instance method)">#<strong>define</strong>(*opts, &amp;block)  </a>
      (also: #def_option)
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#define_by_keywords-instance_method" title="#define_by_keywords (instance method)">#<strong>define_by_keywords</strong>(options, meth, **opts)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#define_head-instance_method" title="#define_head (instance method)">#<strong>define_head</strong>(*opts, &amp;block)  </a>
      (also: #def_head_option)
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#define_tail-instance_method" title="#define_tail (instance method)">#<strong>define_tail</strong>(*opts, &amp;block)  </a>
      (also: #def_tail_option)
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#environment-instance_method" title="#environment (instance method)">#<strong>environment</strong>(env = File.basename($0, &#39;.*&#39;))  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses environment variable <code>env</code> or its uppercase with splitting like a shell.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#getopts-instance_method" title="#getopts (instance method)">#<strong>getopts</strong>(*args)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Wrapper method for getopts.rb.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#help-instance_method" title="#help (instance method)">#<strong>help</strong>  </a>
      (also: #to_s)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns option summary string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inc-instance_method" title="#inc (instance method)">#<strong>inc</strong>(*args)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#load-instance_method" title="#load (instance method)">#<strong>load</strong>(filename = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Loads options from file names as <code>filename</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#make_switch-instance_method" title="#make_switch (instance method)">#<strong>make_switch</strong>(opts, block = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a> from the parameters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-instance_method" title="#new (instance method)">#<strong>new</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Pushes a new <a href="OptionParser/List.html" title="OptionParser::List (class)">List</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on-instance_method" title="#on (instance method)">#<strong>on</strong>(*opts, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add option switch and handler.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_head-instance_method" title="#on_head (instance method)">#<strong>on_head</strong>(*opts, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add option switch like with <a href="#on-instance_method" title="OptionParser#on (method)">#on</a>, but at head of summary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_tail-instance_method" title="#on_tail (instance method)">#<strong>on_tail</strong>(*opts, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add option switch like with <a href="#on-instance_method" title="OptionParser#on (method)">#on</a>, but at tail of summary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#order-instance_method" title="#order (instance method)">#<strong>order</strong>(*argv, into: nil, &amp;nonopt)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses command line arguments <code>argv</code> in order.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#order!-instance_method" title="#order! (instance method)">#<strong>order!</strong>(argv = default_argv, into: nil, &amp;nonopt)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Same as <a href="#order-instance_method" title="OptionParser#order (method)">#order</a>, but removes switches destructively.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse-instance_method" title="#parse (instance method)">#<strong>parse</strong>(*argv, into: nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses command line arguments <code>argv</code> in order when environment variable POSIXLY_CORRECT is set, and in permutation mode otherwise.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse!-instance_method" title="#parse! (instance method)">#<strong>parse!</strong>(argv = default_argv, into: nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Same as <a href="#parse-instance_method" title="OptionParser#parse (method)">#parse</a>, but removes switches destructively.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#permute-instance_method" title="#permute (instance method)">#<strong>permute</strong>(*argv, into: nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses command line arguments <code>argv</code> in permutation mode and returns list of non-option arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#permute!-instance_method" title="#permute! (instance method)">#<strong>permute!</strong>(argv = default_argv, into: nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Same as <a href="#permute-instance_method" title="OptionParser#permute (method)">#permute</a>, but removes switches destructively.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong>(*args, &amp;blk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Directs to reject specified class argument.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remove-instance_method" title="#remove (instance method)">#<strong>remove</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes the last <a href="OptionParser/List.html" title="OptionParser::List (class)">List</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#separator-instance_method" title="#separator (instance method)">#<strong>separator</strong>(string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Add separator in summary.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#summarize-instance_method" title="#summarize (instance method)">#<strong>summarize</strong>(to = [], width = @summary_width, max = width - 1, indent = @summary_indent, &amp;blk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Puts option summary into <code>to</code> and returns <code>to</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#terminate-instance_method" title="#terminate (instance method)">#<strong>terminate</strong>(arg = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Terminates option parsing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns option summary list.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#help-instance_method" title="OptionParser#help (method)">#help</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#top-instance_method" title="#top (instance method)">#<strong>top</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Subject of <a href="#on-instance_method" title="OptionParser#on (method)">#on</a> / <a href="#on_head-instance_method" title="OptionParser#on_head (method)">#on_head</a>, <a href="#accept-instance_method" title="OptionParser#accept (method)">#accept</a> / <a href="#reject-instance_method" title="OptionParser#reject (method)">#reject</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ver-instance_method" title="#ver (instance method)">#<strong>ver</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns version string from program_name, version and release.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#warn-instance_method" title="#warn (instance method)">#<strong>warn</strong>(mesg = $!)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#complete-instance_method" title="#complete (instance method)">#<strong>complete</strong>(typ, opt, icase = false, *pat)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Completes shortened long style option switch and returns pair of canonical switch and switch descriptor <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#notwice-instance_method" title="#notwice (instance method)">#<strong>notwice</strong>(obj, prv, msg)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Checks if an argument is given twice, in which case an ArgumentError is raised.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#search-instance_method" title="#search (instance method)">#<strong>search</strong>(id, key)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Searches <code>key</code> in @stack for <code>id</code> hash and returns or yields the result.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#visit-instance_method" title="#visit (instance method)">#<strong>visit</strong>(id, *args, &amp;block)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Traverses @stack, sending each element method <code>id</code> with <code>args</code> and <code>block</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(banner = nil, width = 32, indent = &#39; &#39; * 4) {|_self| ... } &#x21d2; <code>OptionParser</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initializes the instance and yields itself if called with a block.</p>
<dl class="rdoc-list note-list"><dt><a href="#banner-instance_method" title="OptionParser#banner (method)">#banner</a>
<dd>
<p>Banner message.</p>
</dd><dt><code>width</code>
<dd>
<p>Summary width.</p>
</dd><dt><code>indent</code>
<dd>
<p>Summary indent.</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Yields:</p>
<ul class='yield'>
  <li>
    <span class='type'>(<code>_self</code>)</span>
  </li>
</ul>
<p class='tag_title'>Yield Parameters:</p>
<ul class='yieldparam'>
  <li>
    <span class='name'>_self</span>
    <span class='type'>(<code>OptionParser</code>)</span>
&mdash;    <div class='inline'>
<p>the object that the method was called on</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1054-L1063'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1054' data-end='1063'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1054</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_banner'><a href="#banner-instance_method" title="OptionParser#banner (method)">banner</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='int'>32</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='int'>4</span>)
  <span class='ivar'>@stack</span> <span class='op'>=</span> [<span class='const'><a href="#DefaultList-constant" title="OptionParser::DefaultList (constant)">DefaultList</a></span><span class='comma'>,</span> <span class='const'><a href="OptionParser/List.html" title="OptionParser::List (class)">List</a></span>.<span class='id identifier rubyid_new'><a href="OptionParser/List.html#new-class_method" title="OptionParser::List.new (method)">new</a></span><span class='comma'>,</span> <span class='const'><a href="OptionParser/List.html" title="OptionParser::List (class)">List</a></span>.<span class='id identifier rubyid_new'><a href="OptionParser/List.html#new-class_method" title="OptionParser::List.new (method)">new</a></span>]
  <span class='ivar'>@program_name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@banner</span> <span class='op'>=</span> <span class='id identifier rubyid_banner'><a href="#banner-instance_method" title="OptionParser#banner (method)">banner</a></span>
  <span class='ivar'>@summary_width</span> <span class='op'>=</span> <span class='id identifier rubyid_width'>width</span>
  <span class='ivar'>@summary_indent</span> <span class='op'>=</span> <span class='id identifier rubyid_indent'>indent</span>
  <span class='ivar'>@default_argv</span> <span class='op'>=</span> <span class='const'><a href="ARGV.html" title="ARGV (class)">ARGV</a></span>
  <span class='id identifier rubyid_add_officious'><a href="#add_officious-instance_method" title="OptionParser#add_officious (method)">add_officious</a></span>
  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="accept-class_method">
  <h3 class='signature  first'>
    .<strong>accept</strong>(*args, &amp;blk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See <a href="#accept-instance_method" title="OptionParser#accept (method)">#accept</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1099-L1099'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1099' data-end='1099'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1099</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_accept'>accept</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>) <span class='id identifier rubyid_top'><a href="#top-class_method" title="OptionParser.top (method)">top</a></span>.<span class='id identifier rubyid_accept'>accept</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>) <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each_const-class_method">
  <h3 class='signature '>
    .<strong>each_const</strong>(path, base = ::Object)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse/version.rb#L50-L58'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='50' data-end='58'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse/version.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each_const'>each_const</span>(<span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_base'><a href="#base-instance_method" title="OptionParser#base (method)">base</a></span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>Object</span>)
  <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>::|\/</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_inject'>inject</span>(<span class='id identifier rubyid_base'><a href="#base-instance_method" title="OptionParser#base (method)">base</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NameError</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>unless</span> <span class='const'>Module</span> <span class='op'>===</span> <span class='id identifier rubyid_klass'>klass</span>
    <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_constants'>constants</span>.<span class='id identifier rubyid_grep'>grep</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='regexp_end'>/i</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='id identifier rubyid_c'>c</span>) <span class='kw'>or</span> <span class='kw'>next</span>
      <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_c'>c</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getopts-class_method">
  <h3 class='signature '>
    .<strong>getopts</strong>(*args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See <a href="#getopts-instance_method" title="OptionParser#getopts (method)">#getopts</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1697-L1699'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1697' data-end='1699'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1697</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_getopts'>getopts</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>.<span class='id identifier rubyid_getopts'>getopts</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inc-class_method">
  <h3 class='signature '>
    .<strong>inc</strong>(arg, default = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns an incremented value of <code>default</code> according to <code>arg</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1035-L1042'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1035' data-end='1042'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1035</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_inc'>inc</span>(<span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_arg'>arg</span>
  <span class='kw'>when</span> <span class='const'>Integer</span>
    <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_nonzero?'>nonzero?</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_default'>default</span>.<span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>+</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reject-class_method">
  <h3 class='signature '>
    .<strong>reject</strong>(*args, &amp;blk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>See <a href="#reject-instance_method" title="OptionParser#reject (method)">#reject</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1112-L1112'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1112' data-end='1112'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1112</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_reject'>reject</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>) <span class='id identifier rubyid_top'><a href="#top-class_method" title="OptionParser.top (method)">top</a></span>.<span class='id identifier rubyid_reject'>reject</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>) <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="search_const-class_method">
  <h3 class='signature '>
    .<strong>search_const</strong>(klass, name)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse/version.rb#L60-L70'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='60' data-end='70'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse/version.rb', line 60</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search_const'>search_const</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>)
  <span class='id identifier rubyid_klasses'>klasses</span> <span class='op'>=</span> [<span class='id identifier rubyid_klass'>klass</span>]
  <span class='kw'>while</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_klasses'>klasses</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_constants'>constants</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='id identifier rubyid_cname'>cname</span>) <span class='kw'>or</span> <span class='kw'>next</span>
      <span class='id identifier rubyid_const'>const</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_cname'>cname</span>)
      <span class='kw'>yield</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span> <span class='id identifier rubyid_const'>const</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>===</span> <span class='id identifier rubyid_cname'>cname</span>
      <span class='id identifier rubyid_klasses'>klasses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_const'>const</span> <span class='kw'>if</span> <span class='const'>Module</span> <span class='op'>===</span> <span class='id identifier rubyid_const'>const</span> <span class='kw'>and</span> <span class='id identifier rubyid_const'>const</span> <span class='op'>!=</span> <span class='op'>::</span><span class='const'>Object</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="show_version-class_method">
  <h3 class='signature '>
    .<strong>show_version</strong>(*pkgs)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse/version.rb#L5-L48'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5' data-end='48'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse/version.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_show_version'>show_version</span>(<span class='op'>*</span><span class='id identifier rubyid_pkgs'>pkgs</span>)
  <span class='id identifier rubyid_progname'>progname</span> <span class='op'>=</span> <span class='const'><a href="ARGV.html" title="ARGV (class)">ARGV</a></span>.<span class='id identifier rubyid_options'><a href="OptionParser/Arguable.html#options-instance_method" title="OptionParser::Arguable#options (method)">options</a></span>.<span class='id identifier rubyid_program_name'><a href="#program_name-instance_method" title="OptionParser#program_name (method)">program_name</a></span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_show'>show</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span> <span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span><span class='op'>|</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_progname'>progname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>==</span> <span class='op'>::</span><span class='const'>Object</span> <span class='kw'>and</span> <span class='id identifier rubyid_cname'>cname</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'>VERSION</span>
      <span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span> <span class='op'>=</span> <span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span>
      <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>==</span> <span class='const'>Object</span>
      <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    [<span class='symbeg'>:</span><span class='const'>Release</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='const'>RELEASE</span>].<span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rel'>rel</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='id identifier rubyid_rel'>rel</span>)
        <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_rel'>rel</span>)<span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_str'>str</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pkgs'>pkgs</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='id identifier rubyid_pkgs'>pkgs</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>all</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_search_const'><a href="#search_const-class_method" title="OptionParser.search_const (method)">search_const</a></span>(<span class='op'>::</span><span class='const'>Object</span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\AV(?:ERSION|ersion)\z</span><span class='regexp_end'>/</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span> <span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span><span class='op'>|</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_cname'>cname</span>[<span class='int'>1</span>] <span class='op'>==</span> <span class='CHAR'>?e</span> <span class='kw'>and</span> <span class='id identifier rubyid_klass'>klass</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='symbeg'>:</span><span class='const'>Version</span>)
        <span class='id identifier rubyid_show'>show</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_cname'>cname</span>.<span class='id identifier rubyid_intern'>intern</span><span class='comma'>,</span> <span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span>)
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_pkgs'>pkgs</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pkg'>pkg</span><span class='op'>|</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_pkg'>pkg</span> <span class='op'>=</span> <span class='id identifier rubyid_pkg'>pkg</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>::|\/</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_inject'>inject</span>(<span class='op'>::</span><span class='const'>Object</span>) {<span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_c'>c</span>)}
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='kw'>case</span>
            <span class='kw'>when</span> <span class='id identifier rubyid_pkg'>pkg</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='symbeg'>:</span><span class='const'>Version</span>)
              <span class='id identifier rubyid_pkg'>pkg</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>Version</span>)
            <span class='kw'>when</span> <span class='id identifier rubyid_pkg'>pkg</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='symbeg'>:</span><span class='const'>VERSION</span>)
              <span class='id identifier rubyid_pkg'>pkg</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>VERSION</span>)
            <span class='kw'>else</span>
              <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='kw'>nil</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
        <span class='id identifier rubyid_show'>show</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_pkg'>pkg</span><span class='comma'>,</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>)
      <span class='kw'>rescue</span> <span class='const'>NameError</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="terminate-class_method">
  <h3 class='signature '>
    .<strong>terminate</strong>(arg = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1079-L1081'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1079' data-end='1081'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1079</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_terminate'>terminate</span>(<span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbeg'>:</span><span class='id identifier rubyid_terminate'>terminate</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="top-class_method">
  <h3 class='signature '>
    .<strong>top</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1084-L1084'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1084' data-end='1084'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1084</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_top'>top</span>() <span class='const'><a href="#DefaultList-constant" title="OptionParser::DefaultList (constant)">DefaultList</a></span> <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with-class_method">
  <h3 class='signature '>
    .<strong>with</strong>(*args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initializes a new instance and evaluates the optional block in context of the instance. Arguments <code>args</code> are passed to <a href="#new-instance_method" title="OptionParser#new (method)">#new</a>, see there for description of parameters.</p>

<p>This method is <strong>deprecated</strong>, its behavior corresponds to the older <a href="#new-instance_method" title="OptionParser#new (method)">#new</a> method.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1026-L1030'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1026' data-end='1030'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1026</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_with'>with</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_instance_eval'>instance_eval</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_opts'>opts</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="banner-instance_method">
  <h3 class='signature rw first'>
    #<strong>banner</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Heading banner preceding summary.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1137-L1143'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1137' data-end='1143'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1137</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_banner'>banner</span>
  <span class='kw'>unless</span> <span class='ivar'>@banner</span>
    <span class='ivar'>@banner</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'><a href="#program_name-instance_method" title="OptionParser#program_name (method)">program_name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> [options]</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_visit'><a href="#visit-instance_method" title="OptionParser#visit (method)">visit</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_add_banner'>add_banner</span><span class='comma'>,</span> <span class='ivar'>@banner</span>)
  <span class='kw'>end</span>
  <span class='ivar'>@banner</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="banner=-instance_method">
  <h3 class='signature rw'>
    #<strong>banner=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#set_banner</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Heading banner preceding summary.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1119-L1119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1119' data-end='1119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1119</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_banner'><a href="#banner-instance_method" title="OptionParser#banner (method)">banner</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_argv-instance_method">
  <h3 class='signature rw'>
    #<strong>default_argv</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Strings to be parsed in default.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1132-L1132'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1132' data-end='1132'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1132</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_default_argv'>default_argv</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="program_name-instance_method">
  <h3 class='signature rw'>
    #<strong>program_name</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Program name to be emitted in error message and default banner, defaults to $0.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1149-L1151'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1149' data-end='1151'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1149</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_program_name'>program_name</span>
  <span class='ivar'>@program_name</span> <span class='op'>||</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='gvar'>$0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="program_name=-instance_method">
  <h3 class='signature rw'>
    #<strong>program_name=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#set_program_name</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Program name to be emitted in error message and default banner, defaults to $0.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1123-L1123'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1123' data-end='1123'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1123</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_program_name'><a href="#program_name-instance_method" title="OptionParser#program_name (method)">program_name</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="release-instance_method">
  <h3 class='signature rw'>
    #<strong>release</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Release code</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1174-L1176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1174' data-end='1176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1174</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_release'>release</span>
  <span class='ivar'>@release</span> <span class='op'>||</span> (<span class='kw'>defined?</span>(<span class='op'>::</span><span class='const'>Release</span>) <span class='op'>&amp;&amp;</span> <span class='op'>::</span><span class='const'>Release</span>) <span class='op'>||</span> (<span class='kw'>defined?</span>(<span class='op'>::</span><span class='const'>RELEASE</span>) <span class='op'>&amp;&amp;</span> <span class='op'>::</span><span class='const'>RELEASE</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="release=-instance_method">
  <h3 class='signature rw'>
    #<strong>release=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Release code</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1162-L1162'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1162' data-end='1162'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1162</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_release'><a href="#release-instance_method" title="OptionParser#release (method)">release</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="summary_indent-instance_method">
  <h3 class='signature rw'>
    #<strong>summary_indent</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Indentation for summary. Must be String (or have + String method).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1129-L1129'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1129' data-end='1129'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1129</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_summary_indent'>summary_indent</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="summary_width-instance_method">
  <h3 class='signature rw'>
    #<strong>summary_width</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Width for option list portion of summary. Must be Numeric.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1126-L1126'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1126' data-end='1126'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1126</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_summary_width'>summary_width</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="version-instance_method">
  <h3 class='signature rw'>
    #<strong>version</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Version</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1167-L1169'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1167' data-end='1169'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1167</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_version'>version</span>
  <span class='ivar'>@version</span> <span class='op'>||</span> (<span class='kw'>defined?</span>(<span class='op'>::</span><span class='const'>Version</span>) <span class='op'>&amp;&amp;</span> <span class='op'>::</span><span class='const'>Version</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="version=-instance_method">
  <h3 class='signature rw'>
    #<strong>version=</strong>(value)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Version</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1160-L1160'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1160' data-end='1160'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1160</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbeg'>:</span><span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="abort-instance_method">
  <h3 class='signature  first'>
    #<strong>abort</strong>(mesg = $!)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1193-L1195'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1193' data-end='1195'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1193</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_abort'>abort</span>(<span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='gvar'>$!</span>)
  <span class='kw'>super</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'><a href="#program_name-instance_method" title="OptionParser#program_name (method)">program_name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mesg'>mesg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="accept-instance_method">
  <h3 class='signature '>
    #<strong>accept</strong>(*args, &amp;blk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Directs to accept specified class <code>t</code>. The argument string is passed to the block in which it should be converted to the desired class.</p>
<dl class="rdoc-list note-list"><dt><code>t</code>
<dd>
<p>Argument class specifier, any object including Class.</p>
</dd><dt><code>pat</code>
<dd>
<p>Pattern for argument, defaults to <code>t</code> if it responds to match.</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_accept'>accept</span>(<span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1095-L1095'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1095' data-end='1095'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1095</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_accept'>accept</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>) <span class='id identifier rubyid_top'><a href="#top-class_method" title="OptionParser.top (method)">top</a></span>.<span class='id identifier rubyid_accept'>accept</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>) <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="base-instance_method">
  <h3 class='signature '>
    #<strong>base</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Subject of <a href="#on_tail-instance_method" title="OptionParser#on_tail (method)">#on_tail</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1207-L1209'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1207' data-end='1209'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1207</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_base'>base</span>
  <span class='ivar'>@stack</span>[<span class='int'>1</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="candidate-instance_method">
  <h3 class='signature '>
    #<strong>candidate</strong>(word)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1744-L1772'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1744' data-end='1772'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1744</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_candidate'>candidate</span>(<span class='id identifier rubyid_word'>word</span>)
  <span class='id identifier rubyid_list'>list</span> <span class='op'>=</span> []
  <span class='kw'>case</span> <span class='id identifier rubyid_word'>word</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A--</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_word'>word</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_word'>word</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>=</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span>)
    <span class='id identifier rubyid_argpat'>argpat</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Completion.html" title="OptionParser::Completion (module)">Completion</a></span>.<span class='id identifier rubyid_regexp'><a href="OptionParser/Completion.html#regexp-class_method" title="OptionParser::Completion.regexp (method)">regexp</a></span>(<span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='kw'>false</span>) <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_long'>long</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A-(!-)</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_short'>short</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A-</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_long'>long</span> <span class='op'>=</span> <span class='id identifier rubyid_short'>short</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pat'>pat</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Completion.html" title="OptionParser::Completion (module)">Completion</a></span>.<span class='id identifier rubyid_regexp'><a href="OptionParser/Completion.html#regexp-class_method" title="OptionParser::Completion.regexp (method)">regexp</a></span>(<span class='id identifier rubyid_word'>word</span><span class='comma'>,</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_visit'><a href="#visit-instance_method" title="OptionParser#visit (method)">visit</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_each_option'>each_option</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opt'>opt</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span> <span class='op'>===</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> (<span class='id identifier rubyid_long'>long</span> <span class='op'>?</span> <span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_long'>long</span> <span class='op'>:</span> []) <span class='op'>+</span> (<span class='id identifier rubyid_short'>short</span> <span class='op'>?</span> <span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_short'>short</span> <span class='op'>:</span> [])
    <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Completion.html" title="OptionParser::Completion (module)">Completion</a></span>.<span class='id identifier rubyid_candidate'><a href="OptionParser/Completion.html#candidate-class_method" title="OptionParser::Completion.candidate (method)">candidate</a></span>(<span class='id identifier rubyid_word'>word</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_method'>method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_each'>each</span>)).<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_first'>first</span>) <span class='kw'>if</span> <span class='id identifier rubyid_pat'>pat</span>
    <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A=</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_arg'>arg</span>
      <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_map!'>map!</span> {<span class='op'>|</span><span class='id identifier rubyid_sw'>sw</span><span class='op'>|</span> <span class='id identifier rubyid_sw'>sw</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span>}
      <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='const'><a href="OptionParser/CompletingHash.html" title="OptionParser::CompletingHash (class)">CompletingHash</a></span> <span class='op'>===</span> <span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_pattern'>pattern</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_pattern'>pattern</span>.<span class='id identifier rubyid_candidate'>candidate</span>(<span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_argpat'>argpat</span>)
          <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_map!'>map!</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_last'>last</span>)
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_list'>list</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_opts'>opts</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_list'>list</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="complete-instance_method">
  <h3 class='signature priv'>
    #<strong>complete</strong>(typ, opt, icase = false, *pat)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Completes shortened long style option switch and returns pair of canonical switch and switch descriptor <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">::OptionParser::Switch</a>.</p>
<dl class="rdoc-list note-list"><dt><code>typ</code>
<dd>
<p>Searching table.</p>
</dd><dt><code>opt</code>
<dd>
<p>Searching key.</p>
</dd><dt><code>icase</code>
<dd>
<p>Search case insensitive if true.</p>
</dd><dt><code>pat</code>
<dd>
<p>Optional pattern for completion.</p>
</dd></dl>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="OptionParser/AmbiguousOption.html" title="OptionParser::AmbiguousOption (class)">AmbiguousOption</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1733-L1741'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1733' data-end='1741'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1733</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_complete'>complete</span>(<span class='id identifier rubyid_typ'>typ</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='id identifier rubyid_icase'>icase</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_pat'>pat</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_pat'>pat</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='id identifier rubyid_typ'>typ</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span>) {<span class='op'>|</span><span class='id identifier rubyid_sw'>sw</span><span class='op'>|</span> <span class='kw'>return</span> [<span class='id identifier rubyid_sw'>sw</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span>]} <span class='comment'># exact match or...
</span>  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="OptionParser/AmbiguousOption.html" title="OptionParser::AmbiguousOption (class)">AmbiguousOption</a></span><span class='comma'>,</span> <span class='id identifier rubyid_catch'>catch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_ambiguous'>ambiguous</span>) {
    <span class='id identifier rubyid_visit'><a href="#visit-instance_method" title="OptionParser#visit (method)">visit</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_complete'>complete</span><span class='comma'>,</span> <span class='id identifier rubyid_typ'>typ</span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='id identifier rubyid_icase'>icase</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_pat'>pat</span>) {<span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_sw'>sw</span><span class='op'>|</span> <span class='kw'>return</span> <span class='id identifier rubyid_sw'>sw</span>}
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="OptionParser/InvalidOption.html" title="OptionParser::InvalidOption (class)">InvalidOption</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="def_head_option-instance_method">
  <h3 class='signature '>
    #<strong>def_head_option</strong>(*opts, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#define_head-instance_method" title="OptionParser#define_head (method)">#define_head</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1492-L1492'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1492' data-end='1492'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1492</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_def_head_option'>def_head_option</span> <span class='id identifier rubyid_define_head'><a href="#define_head-instance_method" title="OptionParser#define_head (method)">define_head</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="def_option-instance_method">
  <h3 class='signature '>
    #<strong>def_option</strong>(*opts, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#define-instance_method" title="OptionParser#define (method)">#define</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1478-L1478'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1478' data-end='1478'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1478</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_def_option'>def_option</span> <span class='id identifier rubyid_define'><a href="#define-instance_method" title="OptionParser#define (method)">define</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="def_tail_option-instance_method">
  <h3 class='signature '>
    #<strong>def_tail_option</strong>(*opts, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#define_tail-instance_method" title="OptionParser#define_tail (method)">#define_tail</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1506-L1506'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1506' data-end='1506'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1506</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_def_tail_option'>def_tail_option</span> <span class='id identifier rubyid_define_tail'><a href="#define_tail-instance_method" title="OptionParser#define_tail (method)">define_tail</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define-instance_method">
  <h3 class='signature '>
    #<strong>define</strong>(*opts, &amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#def_option</span></span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1465-L1468'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1465' data-end='1468'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1465</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define'>define</span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_top'><a href="#top-class_method" title="OptionParser.top (method)">top</a></span>.<span class='id identifier rubyid_append'>append</span>(<span class='op'>*</span>(<span class='id identifier rubyid_sw'>sw</span> <span class='op'>=</span> <span class='id identifier rubyid_make_switch'><a href="#make_switch-instance_method" title="OptionParser#make_switch (method)">make_switch</a></span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>)))
  <span class='id identifier rubyid_sw'>sw</span>[<span class='int'>0</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_by_keywords-instance_method">
  <h3 class='signature '>
    #<strong>define_by_keywords</strong>(options, meth, **opts)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse/kwargs.rb#L5-L16'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='5' data-end='16'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse/kwargs.rb', line 5</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_by_keywords'>define_by_keywords</span>(<span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_opts'>opts</span>)
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_parameters'>parameters</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_keyreq'>keyreq</span>
      <span class='id identifier rubyid_op'>op</span><span class='comma'>,</span> <span class='id identifier rubyid_cl'>cl</span> <span class='op'>=</span> <span class='op'>*</span>(<span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span> <span class='op'>?</span> <span class='qwords'><span class='qwords_beg'>%w&quot;</span><span class='tstring_content'>[</span><span class='words_sep'> </span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>])
      <span class='id identifier rubyid_define'><a href="#define-instance_method" title="OptionParser#define (method)">define</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_op'>op</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cl'>cl</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span>[<span class='id identifier rubyid_name'>name</span>]) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span>
        <span class='id identifier rubyid_options'>options</span>[<span class='id identifier rubyid_name'>name</span>] <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_options'>options</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_head-instance_method">
  <h3 class='signature '>
    #<strong>define_head</strong>(*opts, &amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#def_head_option</span></span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1480-L1483'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1480' data-end='1483'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1480</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_head'>define_head</span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_top'><a href="#top-class_method" title="OptionParser.top (method)">top</a></span>.<span class='id identifier rubyid_prepend'>prepend</span>(<span class='op'>*</span>(<span class='id identifier rubyid_sw'>sw</span> <span class='op'>=</span> <span class='id identifier rubyid_make_switch'><a href="#make_switch-instance_method" title="OptionParser#make_switch (method)">make_switch</a></span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>)))
  <span class='id identifier rubyid_sw'>sw</span>[<span class='int'>0</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="define_tail-instance_method">
  <h3 class='signature '>
    #<strong>define_tail</strong>(*opts, &amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#def_tail_option</span></span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1494-L1497'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1494' data-end='1497'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1494</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_define_tail'>define_tail</span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_base'><a href="#base-instance_method" title="OptionParser#base (method)">base</a></span>.<span class='id identifier rubyid_append'>append</span>(<span class='op'>*</span>(<span class='id identifier rubyid_sw'>sw</span> <span class='op'>=</span> <span class='id identifier rubyid_make_switch'><a href="#make_switch-instance_method" title="OptionParser#make_switch (method)">make_switch</a></span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>)))
  <span class='id identifier rubyid_sw'>sw</span>[<span class='int'>0</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="environment-instance_method">
  <h3 class='signature '>
    #<strong>environment</strong>(env = File.basename($0, &#39;.*&#39;))  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses environment variable <code>env</code> or its uppercase with splitting like a shell.</p>

<p><code>env</code> defaults to the basename of the program.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1801-L1805'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1801' data-end='1805'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1801</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_environment'>environment</span>(<span class='id identifier rubyid_env'>env</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='gvar'>$0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span>))
  <span class='id identifier rubyid_env'>env</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='id identifier rubyid_env'>env</span>] <span class='op'>||</span> <span class='const'>ENV</span>[<span class='id identifier rubyid_env'>env</span>.<span class='id identifier rubyid_upcase'>upcase</span>] <span class='kw'>or</span> <span class='kw'>return</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shellwords</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="OptionParser#parse (method)">parse</a></span>(<span class='op'>*</span><span class='const'>Shellwords</span>.<span class='id identifier rubyid_shellwords'>shellwords</span>(<span class='id identifier rubyid_env'>env</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getopts-instance_method">
  <h3 class='signature '>
    #<strong>getopts</strong>(*args)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Wrapper method for getopts.rb.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='const'><a href="ARGV.html" title="ARGV (class)">ARGV</a></span>.<span class='id identifier rubyid_getopts'><a href="OptionParser/Arguable.html#getopts-instance_method" title="OptionParser::Arguable#getopts (method)">getopts</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ab:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>zot:Z;zot option</span><span class='tstring_end'>&quot;</span></span>)
<span class='comment'># params[:a] = true   # -a
</span><span class='comment'># params[:b] = &quot;1&quot;    # -b1
</span><span class='comment'># params[:foo] = &quot;1&quot;  # --foo
</span><span class='comment'># params[:bar] = &quot;x&quot;  # --bar x
</span><span class='comment'># params[:zot] = &quot;z&quot;  # --zot Z</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1662-L1692'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1662' data-end='1692'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1662</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getopts'>getopts</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span> <span class='op'>?</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_shift'>shift</span> <span class='op'>:</span> <span class='id identifier rubyid_default_argv'><a href="#default_argv-instance_method" title="OptionParser#default_argv (method)">default_argv</a></span>
  <span class='id identifier rubyid_single_options'>single_options</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_long_options'>long_options</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> {}

  <span class='id identifier rubyid_single_options'>single_options</span>.<span class='id identifier rubyid_scan'>scan</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.)(:)?</span><span class='regexp_end'>/</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span>
      <span class='id identifier rubyid_result'>result</span>[<span class='id identifier rubyid_opt'>opt</span>] <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_define'><a href="#define-instance_method" title="OptionParser#define (method)">define</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_content'> VAL</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_result'>result</span>[<span class='id identifier rubyid_opt'>opt</span>] <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_define'><a href="#define-instance_method" title="OptionParser#define (method)">define</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_single_options'>single_options</span>

  <span class='id identifier rubyid_long_options'>long_options</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>)
    <span class='id identifier rubyid_opt'>opt</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span>
      <span class='id identifier rubyid_result'>result</span>[<span class='id identifier rubyid_opt'>opt</span>] <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_val'>val</span>
      <span class='id identifier rubyid_define'><a href="#define-instance_method" title="OptionParser#define (method)">define</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span>[<span class='id identifier rubyid_opt'>opt</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VAL</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span>[<span class='id identifier rubyid_desc'>desc</span>].<span class='id identifier rubyid_compact'>compact</span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_result'>result</span>[<span class='id identifier rubyid_opt'>opt</span>] <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_define'><a href="#define-instance_method" title="OptionParser#define (method)">define</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span>[<span class='id identifier rubyid_desc'>desc</span>].<span class='id identifier rubyid_compact'>compact</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_parse_in_order'><a href="#parse_in_order-instance_method" title="OptionParser#parse_in_order (method)">parse_in_order</a></span>(<span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_method'>method</span>(<span class='symbeg'>:</span><span class='op'>[]=</span>))
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="help-instance_method">
  <h3 class='signature '>
    #<strong>help</strong>  
    <span class='aliases'>Also known as: <span class='names'>#to_s</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns option summary string.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1248-L1248'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1248' data-end='1248'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1248</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_help'>help</span><span class='semicolon'>;</span> <span class='id identifier rubyid_summarize'><a href="#summarize-instance_method" title="OptionParser#summarize (method)">summarize</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_banner'><a href="#banner-instance_method" title="OptionParser#banner (method)">banner</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n?\z</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)) <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inc-instance_method">
  <h3 class='signature '>
    #<strong>inc</strong>(*args)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1043-L1045'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1043' data-end='1045'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1043</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inc'>inc</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_inc'>inc</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load-instance_method">
  <h3 class='signature '>
    #<strong>load</strong>(filename = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Loads options from file names as <code>filename</code>. Does nothing when the file is not present. Returns whether successfully loaded.</p>

<p><code>filename</code> defaults to basename of the program without suffix in a directory ~/.options.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1781-L1793'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1781' data-end='1793'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1781</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load'>load</span>(<span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_filename'>filename</span> <span class='op'>||=</span> <span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='gvar'>$0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.*</span><span class='tstring_end'>&#39;</span></span>)<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>~/.options</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>rescue</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_parse'><a href="#parse-instance_method" title="OptionParser#parse (method)">parse</a></span>(<span class='op'>*</span><span class='const'>IO</span>.<span class='id identifier rubyid_readlines'>readlines</span>(<span class='id identifier rubyid_filename'>filename</span>).<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_chomp!'>chomp!</span>})
    <span class='kw'>true</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOTDIR</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="make_switch-instance_method">
  <h3 class='signature '>
    #<strong>make_switch</strong>(opts, block = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an <a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">::OptionParser::Switch</a> from the parameters. The parsed argument value is passed to the given block, where it can be processed.</p>

<p>See at the beginning of <code>OptionParser</code> for some full examples.</p>

<p><code>opts</code> can include the following elements:</p>
<dl class="rdoc-list label-list"><dt>Argument style:
<dd>
<p>One of the following:</p>

<pre class="code ruby"><code class="ruby">:NONE, :REQUIRED, :OPTIONAL</code></pre>
</dd><dt>Argument pattern:
<dd>
<p>Acceptable option argument format, must be pre-defined with OptionParser.accept or OptionParser#accept, or Regexp. This can appear once or assigned as String if not present, otherwise causes an ArgumentError. Examples:</p>

<pre class="code ruby"><code class="ruby">Float, Time, Array</code></pre>
</dd><dt>Possible argument values:
<dd>
<p>Hash or Array.</p>

<pre class="code ruby"><code class="ruby">[<span class='symbeg'>:</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_binary'>binary</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_auto'>auto</span>]
<span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>iso-2022-jp</span><span class='words_sep'> </span><span class='tstring_content'>shift_jis</span><span class='words_sep'> </span><span class='tstring_content'>euc-jp</span><span class='words_sep'> </span><span class='tstring_content'>utf8</span><span class='words_sep'> </span><span class='tstring_content'>binary</span><span class='tstring_end'>]</span></span>
{ <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jis</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>iso-2022-jp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sjis</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>shift_jis</span><span class='tstring_end'>&quot;</span></span> }</code></pre>
</dd><dt>Long style switch:
<dd>
<p>Specifies a long style switch which takes a mandatory, optional or no argument. It&#39;s a string of the following form:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--switch=MANDATORY</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>or</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--switch MANDATORY</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--switch[=OPTIONAL]</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--switch</span><span class='tstring_end'>&quot;</span></span></code></pre>
</dd><dt>Short style switch:
<dd>
<p>Specifies short style switch which takes a mandatory, optional or no argument. It&#39;s a string of the following form:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-xMANDATORY</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-x[OPTIONAL]</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-x</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>There is also a special form which matches character range (not full set of regular expression):</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-[a-z]MANDATORY</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-[a-z][OPTIONAL]</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-[a-z]</span><span class='tstring_end'>&quot;</span></span></code></pre>
</dd><dt>Argument style and description:
<dd>
<p>Instead of specifying mandatory or optional arguments directly in the switch parameter, this separate parameter can be used.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=MANDATORY</span><span class='tstring_end'>&quot;</span></span>
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=[OPTIONAL]</span><span class='tstring_end'>&quot;</span></span></code></pre>
</dd><dt>Description:
<dd>
<p>Description string for the option.</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run verbosely</span><span class='tstring_end'>&quot;</span></span></code></pre>
</dd><dt>Handler:
<dd>
<p>Handler for the parsed argument value. Either give a block or pass a Proc or Method as an argument.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1332-L1463'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1332' data-end='1463'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1332</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_make_switch'>make_switch</span>(<span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_nolong'>nolong</span><span class='comma'>,</span> <span class='id identifier rubyid_style'>style</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span><span class='comma'>,</span> <span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span><span class='comma'>,</span> <span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>=</span> []<span class='comma'>,</span> []<span class='comma'>,</span> []
  <span class='id identifier rubyid_ldesc'>ldesc</span><span class='comma'>,</span> <span class='id identifier rubyid_sdesc'>sdesc</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> []<span class='comma'>,</span> []<span class='comma'>,</span> []
  <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
  <span class='id identifier rubyid_default_pattern'>default_pattern</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_has_arg'>has_arg</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span>
    <span class='comment'># argument class
</span>    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span>)
      <span class='kw'>if</span> <span class='id identifier rubyid_not_style'>not_style</span> <span class='kw'>and</span> <span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>!=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
        <span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span> <span class='op'>=</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='comment'># directly specified pattern(any object possible to match)
</span>    <span class='kw'>if</span> (<span class='op'>!</span>(<span class='const'>String</span> <span class='op'>===</span> <span class='id identifier rubyid_o'>o</span> <span class='op'>||</span> <span class='const'>Symbol</span> <span class='op'>===</span> <span class='id identifier rubyid_o'>o</span>)) <span class='kw'>and</span> <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_match'>match</span>)
      <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pattern</span><span class='tstring_end'>&#39;</span></span>)
      <span class='kw'>if</span> <span class='id identifier rubyid_pattern'>pattern</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_convert'>convert</span>)
        <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_pattern'>pattern</span>.<span class='id identifier rubyid_method'>method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_convert'>convert</span>).<span class='id identifier rubyid_to_proc'>to_proc</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='const'><a href="#SPLAT_PROC-constant" title="OptionParser::SPLAT_PROC (constant)">SPLAT_PROC</a></span>
      <span class='kw'>end</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='comment'># anything others
</span>    <span class='kw'>case</span> <span class='id identifier rubyid_o'>o</span>
    <span class='kw'>when</span> <span class='const'>Proc</span><span class='comma'>,</span> <span class='const'>Method</span>
      <span class='id identifier rubyid_block'>block</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>block</span><span class='tstring_end'>&#39;</span></span>)
    <span class='kw'>when</span> <span class='const'>Array</span><span class='comma'>,</span> <span class='const'>Hash</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_pattern'>pattern</span>
      <span class='kw'>when</span> <span class='const'><a href="OptionParser/CompletingHash.html" title="OptionParser::CompletingHash (class)">CompletingHash</a></span>
      <span class='kw'>when</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/CompletingHash.html" title="OptionParser::CompletingHash (class)">CompletingHash</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>
        <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_pattern'>pattern</span>.<span class='id identifier rubyid_method'>method</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_convert'>convert</span>).<span class='id identifier rubyid_to_proc'>to_proc</span> <span class='kw'>if</span> <span class='id identifier rubyid_pattern'>pattern</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_convert'>convert</span>)
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>argument pattern given twice</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_pattern'>pattern</span>[<span class='id identifier rubyid_pat'>pat</span>] <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='int'>0</span>) {<span class='id identifier rubyid_pat'>pat</span>}}
    <span class='kw'>when</span> <span class='const'>Module</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unsupported argument type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_o'>o</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="OptionParser/ParseError.html" title="OptionParser::ParseError (class)">ParseError</a></span>.<span class='id identifier rubyid_filter_backtrace'><a href="OptionParser/ParseError.html#filter_backtrace-class_method" title="OptionParser::ParseError.filter_backtrace (method)">filter_backtrace</a></span>(<span class='id identifier rubyid_caller'>caller</span>(<span class='int'>4</span>))
    <span class='kw'>when</span> <span class='op'>*</span><span class='const'><a href="#ArgumentStyle-constant" title="OptionParser::ArgumentStyle (constant)">ArgumentStyle</a></span>.<span class='id identifier rubyid_keys'>keys</span>
      <span class='id identifier rubyid_style'>style</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='const'><a href="#ArgumentStyle-constant" title="OptionParser::ArgumentStyle (constant)">ArgumentStyle</a></span>[<span class='id identifier rubyid_o'>o</span>]<span class='comma'>,</span> <span class='id identifier rubyid_style'>style</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>style</span><span class='tstring_end'>&#39;</span></span>)
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--no-([^\[\]=\s]*)(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='id identifier rubyid_a'>a</span> <span class='op'>?</span> <span class='const'>Object</span> <span class='op'>:</span> <span class='const'>TrueClass</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span>)
      <span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_not_style'>not_style</span>
      <span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>=</span> (<span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>||</span> <span class='id identifier rubyid_default_style'>default_style</span>).<span class='id identifier rubyid_guess'>guess</span>(<span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>) <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
      <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
      <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='const'>FalseClass</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='id identifier rubyid_ldesc'>ldesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      (<span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_downcase'>downcase</span>).<span class='id identifier rubyid_tr!'>tr!</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>)
      <span class='id identifier rubyid_long'>long</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_nolong'>nolong</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_q'>q</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--\[no-\]([^\[\]=\s]*)(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='id identifier rubyid_a'>a</span> <span class='op'>?</span> <span class='const'>Object</span> <span class='op'>:</span> <span class='const'>TrueClass</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span>)
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
        <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='id identifier rubyid_default_style'>default_style</span>.<span class='id identifier rubyid_guess'>guess</span>(<span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>)
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_ldesc'>ldesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--[no-]</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      (<span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_downcase'>downcase</span>).<span class='id identifier rubyid_tr!'>tr!</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>)
      <span class='id identifier rubyid_long'>long</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_o'>o</span>
      <span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='const'>FalseClass</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_not_style'>not_style</span>
      <span class='id identifier rubyid_not_style'>not_style</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
      <span class='id identifier rubyid_nolong'>nolong</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_o'>o</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--([^\[\]=\s]*)(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
        <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='const'>NilClass</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span>)
        <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='id identifier rubyid_default_style'>default_style</span>.<span class='id identifier rubyid_guess'>guess</span>(<span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>)
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_ldesc'>ldesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      (<span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_q'>q</span>.<span class='id identifier rubyid_downcase'>downcase</span>).<span class='id identifier rubyid_tr!'>tr!</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>)
      <span class='id identifier rubyid_long'>long</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_o'>o</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-(\[\^?\]?(?:[^\\\]]|\\.)*\])(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='const'>Object</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span>)
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
        <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='id identifier rubyid_default_style'>default_style</span>.<span class='id identifier rubyid_guess'>guess</span>(<span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>)
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_has_arg'>has_arg</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_sdesc'>sdesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_short'>short</span> <span class='op'>&lt;&lt;</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='id identifier rubyid_q'>q</span>)
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-(.)(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_q'>q</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$2</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span>
        <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='const'>NilClass</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span>)
        <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='id identifier rubyid_default_style'>default_style</span>.<span class='id identifier rubyid_guess'>guess</span>(<span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span>)
        <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_sdesc'>sdesc</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_q'>q</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_short'>short</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_q'>q</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^=</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_style'>style</span> <span class='op'>=</span> <span class='id identifier rubyid_notwice'><a href="#notwice-instance_method" title="OptionParser#notwice (method)">notwice</a></span>(<span class='id identifier rubyid_default_style'>default_style</span>.<span class='id identifier rubyid_guess'>guess</span>(<span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span>)<span class='comma'>,</span> <span class='id identifier rubyid_style'>style</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>style</span><span class='tstring_end'>&#39;</span></span>)
      <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='const'>Object</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_desc'>desc</span>.<span class='id identifier rubyid_push'>push</span>(<span class='id identifier rubyid_o'>o</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_conv'>conv</span> <span class='op'>=</span> <span class='id identifier rubyid_search'><a href="#search-instance_method" title="OptionParser#search (method)">search</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_atype'>atype</span><span class='comma'>,</span> <span class='id identifier rubyid_default_style'>default_style</span>.<span class='id identifier rubyid_pattern'>pattern</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span>
  <span class='kw'>if</span> <span class='op'>!</span>(<span class='id identifier rubyid_short'>short</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>and</span> <span class='id identifier rubyid_long'>long</span>.<span class='id identifier rubyid_empty?'>empty?</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_has_arg'>has_arg</span> <span class='kw'>and</span> <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>==</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/NoArgument.html" title="OptionParser::Switch::NoArgument (class)">NoArgument</a></span>
      <span class='id identifier rubyid_default_style'>default_style</span> <span class='op'>=</span> <span class='const'><a href="OptionParser/Switch.html" title="OptionParser::Switch (class)">Switch</a></span><span class='op'>::</span><span class='const'><a href="OptionParser/Switch/RequiredArgument.html" title="OptionParser::Switch::RequiredArgument (class)">RequiredArgument</a></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> (<span class='id identifier rubyid_style'>style</span> <span class='op'>||</span> <span class='id identifier rubyid_default_style'>default_style</span>).<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>||</span> <span class='id identifier rubyid_default_pattern'>default_pattern</span><span class='comma'>,</span>
                                     <span class='id identifier rubyid_conv'>conv</span><span class='comma'>,</span> <span class='id identifier rubyid_sdesc'>sdesc</span><span class='comma'>,</span> <span class='id identifier rubyid_ldesc'>ldesc</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_block'>block</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_style'>style</span> <span class='kw'>or</span> <span class='id identifier rubyid_pattern'>pattern</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no switch given</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><a href="OptionParser/ParseError.html" title="OptionParser::ParseError (class)">ParseError</a></span>.<span class='id identifier rubyid_filter_backtrace'><a href="OptionParser/ParseError.html#filter_backtrace-class_method" title="OptionParser::ParseError.filter_backtrace (method)">filter_backtrace</a></span>(<span class='id identifier rubyid_caller'>caller</span>)
    <span class='kw'>end</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_desc'>desc</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_short'>short</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pattern'>pattern</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> (<span class='id identifier rubyid_style'>style</span> <span class='op'>||</span> <span class='id identifier rubyid_default_style'>default_style</span>).<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span>
                                     <span class='id identifier rubyid_conv'>conv</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span>
    (<span class='id identifier rubyid_not_style'>not_style</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="OptionParser.new (method)">new</a></span>(<span class='id identifier rubyid_not_pattern'>not_pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_not_conv'>not_conv</span><span class='comma'>,</span> <span class='id identifier rubyid_sdesc'>sdesc</span><span class='comma'>,</span> <span class='id identifier rubyid_ldesc'>ldesc</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>) <span class='kw'>if</span> <span class='id identifier rubyid_not_style'>not_style</span>)<span class='comma'>,</span>
    <span class='id identifier rubyid_nolong'>nolong</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new-instance_method">
  <h3 class='signature '>
    #<strong>new</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Pushes a new <a href="OptionParser/List.html" title="OptionParser::List (class)">::OptionParser::List</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1214-L1221'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1214' data-end='1221'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1214</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@stack</span>.<span class='id identifier rubyid_push'>push</span>(<span class='const'><a href="OptionParser/List.html" title="OptionParser::List (class)">List</a></span>.<span class='id identifier rubyid_new'><a href="OptionParser/List.html#new-class_method" title="OptionParser::List.new (method)">new</a></span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>yield</span> <span class='kw'>self</span>
  <span class='kw'>else</span>
    <span class='kw'>self</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="notwice-instance_method">
  <h3 class='signature priv'>
    #<strong>notwice</strong>(obj, prv, msg)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Checks if an argument is given twice, in which case an ArgumentError is raised. Called from <code>OptionParser#switch</code> only.</p>
<dl class="rdoc-list note-list"><dt><code>obj</code>
<dd>
<p>New argument.</p>
</dd><dt><code>prv</code>
<dd>
<p>Previously specified argument.</p>
</dd><dt><code>msg</code>
<dd>
<p>Exception message.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1264-L1270'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1264' data-end='1270'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1264</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_notwice'>notwice</span>(<span class='id identifier rubyid_obj'>obj</span><span class='comma'>,</span> <span class='id identifier rubyid_prv'>prv</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span>)
  <span class='kw'>unless</span> <span class='op'>!</span><span class='id identifier rubyid_prv'>prv</span> <span class='kw'>or</span> <span class='id identifier rubyid_prv'>prv</span> <span class='op'>==</span> <span class='id identifier rubyid_obj'>obj</span>
    <span class='id identifier rubyid_raise'>raise</span>(<span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>argument </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg'>msg</span><span class='embexpr_end'>}</span><span class='tstring_content'> given twice: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
          <span class='const'><a href="OptionParser/ParseError.html" title="OptionParser::ParseError (class)">ParseError</a></span>.<span class='id identifier rubyid_filter_backtrace'><a href="OptionParser/ParseError.html#filter_backtrace-class_method" title="OptionParser::ParseError.filter_backtrace (method)">filter_backtrace</a></span>(<span class='id identifier rubyid_caller'>caller</span>(<span class='int'>2</span>)))
  <span class='kw'>end</span>
  <span class='id identifier rubyid_obj'>obj</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on-instance_method">
  <h3 class='signature '>
    #<strong>on</strong>(*opts, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add option switch and handler. See <a href="#make_switch-instance_method" title="OptionParser#make_switch (method)">#make_switch</a> for an explanation of parameters.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1474-L1477'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1474' data-end='1477'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1474</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on'>on</span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_define'><a href="#define-instance_method" title="OptionParser#define (method)">define</a></span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_head-instance_method">
  <h3 class='signature '>
    #<strong>on_head</strong>(*opts, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add option switch like with <a href="#on-instance_method" title="OptionParser#on (method)">#on</a>, but at head of summary.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1488-L1491'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1488' data-end='1491'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1488</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_head'>on_head</span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_define_head'><a href="#define_head-instance_method" title="OptionParser#define_head (method)">define_head</a></span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_tail-instance_method">
  <h3 class='signature '>
    #<strong>on_tail</strong>(*opts, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add option switch like with <a href="#on-instance_method" title="OptionParser#on (method)">#on</a>, but at tail of summary.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1502-L1505'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1502' data-end='1505'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1502</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_tail'>on_tail</span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_define_tail'><a href="#define_tail-instance_method" title="OptionParser#define_tail (method)">define_tail</a></span>(<span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="order-instance_method">
  <h3 class='signature '>
    #<strong>order</strong>(*argv, into: nil, &amp;nonopt)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses command line arguments <code>argv</code> in order. When a block is given, each non-option argument is yielded.</p>

<p>Returns the rest of <code>argv</code> left unparsed.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1521-L1524'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1521' data-end='1524'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1521</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_order'>order</span>(<span class='op'>*</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_nonopt'>nonopt</span>)
  <span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>[<span class='int'>0</span>].<span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_argv'>argv</span>[<span class='int'>0</span>]
  <span class='id identifier rubyid_order!'><a href="#order!-instance_method" title="OptionParser#order! (method)">order!</a></span>(<span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='id identifier rubyid_into'>into</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_nonopt'>nonopt</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="order!-instance_method">
  <h3 class='signature '>
    #<strong>order!</strong>(argv = default_argv, into: nil, &amp;nonopt)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Same as <a href="#order-instance_method" title="OptionParser#order (method)">#order</a>, but removes switches destructively. Non-option arguments remain in <code>argv</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1530-L1533'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1530' data-end='1533'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1530</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_order!'>order!</span>(<span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_default_argv'><a href="#default_argv-instance_method" title="OptionParser#default_argv (method)">default_argv</a></span><span class='comma'>,</span> <span class='label'>into:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_nonopt'>nonopt</span>)
  <span class='id identifier rubyid_setter'>setter</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span>) <span class='tlambeg'>{</span><span class='id identifier rubyid_into'>into</span>[<span class='id identifier rubyid_name'>name</span>.<span class='id identifier rubyid_to_sym'>to_sym</span>] <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>} <span class='kw'>if</span> <span class='id identifier rubyid_into'>into</span>
  <span class='id identifier rubyid_parse_in_order'><a href="#parse_in_order-instance_method" title="OptionParser#parse_in_order (method)">parse_in_order</a></span>(<span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='id identifier rubyid_setter'>setter</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_nonopt'>nonopt</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse-instance_method">
  <h3 class='signature '>
    #<strong>parse</strong>(*argv, into: nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses command line arguments <code>argv</code> in order when environment variable POSIXLY_CORRECT is set, and in permutation mode otherwise.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1635-L1638'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1635' data-end='1638'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1635</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse'>parse</span>(<span class='op'>*</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>[<span class='int'>0</span>].<span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_argv'>argv</span>[<span class='int'>0</span>]
  <span class='id identifier rubyid_parse!'><a href="#parse!-instance_method" title="OptionParser#parse! (method)">parse!</a></span>(<span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='id identifier rubyid_into'>into</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse!-instance_method">
  <h3 class='signature '>
    #<strong>parse!</strong>(argv = default_argv, into: nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Same as <a href="#parse-instance_method" title="OptionParser#parse (method)">#parse</a>, but removes switches destructively. Non-option arguments remain in <code>argv</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1644-L1650'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1644' data-end='1650'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1644</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse!'>parse!</span>(<span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_default_argv'><a href="#default_argv-instance_method" title="OptionParser#default_argv (method)">default_argv</a></span><span class='comma'>,</span> <span class='label'>into:</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='const'>ENV</span>.<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>POSIXLY_CORRECT</span><span class='tstring_end'>&#39;</span></span>)
    <span class='id identifier rubyid_order!'><a href="#order!-instance_method" title="OptionParser#order! (method)">order!</a></span>(<span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='id identifier rubyid_into'>into</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_permute!'><a href="#permute!-instance_method" title="OptionParser#permute! (method)">permute!</a></span>(<span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='id identifier rubyid_into'>into</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="permute-instance_method">
  <h3 class='signature '>
    #<strong>permute</strong>(*argv, into: nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses command line arguments <code>argv</code> in permutation mode and returns list of non-option arguments.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1615-L1618'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1615' data-end='1618'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1615</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_permute'>permute</span>(<span class='op'>*</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>[<span class='int'>0</span>].<span class='id identifier rubyid_dup'>dup</span> <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_argv'>argv</span>[<span class='int'>0</span>]
  <span class='id identifier rubyid_permute!'><a href="#permute!-instance_method" title="OptionParser#permute! (method)">permute!</a></span>(<span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='id identifier rubyid_into'>into</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="permute!-instance_method">
  <h3 class='signature '>
    #<strong>permute!</strong>(argv = default_argv, into: nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Same as <a href="#permute-instance_method" title="OptionParser#permute (method)">#permute</a>, but removes switches destructively. Non-option arguments remain in <code>argv</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1624-L1629'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1624' data-end='1629'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1624</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_permute!'>permute!</span>(<span class='id identifier rubyid_argv'>argv</span> <span class='op'>=</span> <span class='id identifier rubyid_default_argv'><a href="#default_argv-instance_method" title="OptionParser#default_argv (method)">default_argv</a></span><span class='comma'>,</span> <span class='label'>into:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_nonopts'>nonopts</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_order!'><a href="#order!-instance_method" title="OptionParser#order! (method)">order!</a></span>(<span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='label'>into:</span> <span class='id identifier rubyid_into'>into</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_nonopts'>nonopts</span>.<span class='id identifier rubyid_method'>method</span>(<span class='symbeg'>:</span><span class='op'>&lt;&lt;</span>))
  <span class='id identifier rubyid_argv'>argv</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span>] <span class='op'>=</span> <span class='id identifier rubyid_nonopts'>nonopts</span>
  <span class='id identifier rubyid_argv'>argv</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="reject-instance_method">
  <h3 class='signature '>
    #<strong>reject</strong>(*args, &amp;blk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Directs to reject specified class argument.</p>
<dl class="rdoc-list note-list"><dt><code>t</code>
<dd>
<p>Argument class specifier, any object including Class.</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_reject'>reject</span>(<span class='id identifier rubyid_t'>t</span>)</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1108-L1108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1108' data-end='1108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1108</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_reject'>reject</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>) <span class='id identifier rubyid_top'><a href="#top-class_method" title="OptionParser.top (method)">top</a></span>.<span class='id identifier rubyid_reject'>reject</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>) <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove-instance_method">
  <h3 class='signature '>
    #<strong>remove</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes the last <a href="OptionParser/List.html" title="OptionParser::List (class)">::OptionParser::List</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1226-L1228'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1226' data-end='1228'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1226</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove'>remove</span>
  <span class='ivar'>@stack</span>.<span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="search-instance_method">
  <h3 class='signature priv'>
    #<strong>search</strong>(id, key)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Searches <code>key</code> in @stack for <code>id</code> hash and returns or yields the result.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1716-L1721'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1716' data-end='1721'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1716</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_search'>search</span>(<span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>)
  <span class='id identifier rubyid_block_given'>block_given</span> <span class='op'>=</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_visit'><a href="#visit-instance_method" title="OptionParser#visit (method)">visit</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_search'>search</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_block_given'>block_given</span> <span class='op'>?</span> <span class='kw'>yield</span>(<span class='id identifier rubyid_k'>k</span>) <span class='op'>:</span> <span class='id identifier rubyid_k'>k</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="separator-instance_method">
  <h3 class='signature '>
    #<strong>separator</strong>(string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Add separator in summary.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1511-L1513'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1511' data-end='1513'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1511</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_separator'>separator</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='id identifier rubyid_top'><a href="#top-class_method" title="OptionParser.top (method)">top</a></span>.<span class='id identifier rubyid_append'>append</span>(<span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="summarize-instance_method">
  <h3 class='signature '>
    #<strong>summarize</strong>(to = [], width = @summary_width, max = width - 1, indent = @summary_indent, &amp;blk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Puts option summary into <code>to</code> and returns <code>to</code>. Yields each line if a block is given.</p>
<dl class="rdoc-list note-list"><dt><code>to</code>
<dd>
<p>Output destination, which must have method &lt;&lt;. Defaults to [].</p>
</dd><dt><code>width</code>
<dd>
<p>Width of left side, defaults to @summary_width.</p>
</dd><dt><code>max</code>
<dd>
<p>Maximum length allowed for left side, defaults to <code>width</code> - 1.</p>
</dd><dt><code>indent</code>
<dd>
<p>Indentation, defaults to @summary_indent.</p>
</dd></dl>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1239-L1243'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1239' data-end='1243'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1239</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_summarize'>summarize</span>(<span class='id identifier rubyid_to'>to</span> <span class='op'>=</span> []<span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='ivar'>@summary_width</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='ivar'>@summary_indent</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_blk'>blk</span> <span class='op'>||=</span> <span class='id identifier rubyid_proc'>proc</span> {<span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_to'>to</span> <span class='op'>&lt;&lt;</span> (<span class='id identifier rubyid_l'>l</span>.<span class='id identifier rubyid_index'>index</span>(<span class='gvar'>$/</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>) <span class='op'>?</span> <span class='id identifier rubyid_l'>l</span> <span class='op'>:</span> <span class='id identifier rubyid_l'>l</span> <span class='op'>+</span> <span class='gvar'>$/</span>)}
  <span class='id identifier rubyid_visit'><a href="#visit-instance_method" title="OptionParser#visit (method)">visit</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_summarize'>summarize</span><span class='comma'>,</span> {}<span class='comma'>,</span> {}<span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_to'>to</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="terminate-instance_method">
  <h3 class='signature '>
    #<strong>terminate</strong>(arg = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Terminates option parsing. Optional parameter <code>arg</code> is a string pushed back to be the first non-option argument.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1076-L1078'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1076' data-end='1078'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1076</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_terminate'>terminate</span>(<span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_terminate'>terminate</span>(<span class='id identifier rubyid_arg'>arg</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_a-instance_method">
  <h3 class='signature '>
    #<strong>to_a</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns option summary list.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1254-L1254'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1254' data-end='1254'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1254</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_a'>to_a</span><span class='semicolon'>;</span> <span class='id identifier rubyid_summarize'><a href="#summarize-instance_method" title="OptionParser#summarize (method)">summarize</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_banner'><a href="#banner-instance_method" title="OptionParser#banner (method)">banner</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='regexp_end'>/</span></span>)) <span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#help-instance_method" title="OptionParser#help (method)">#help</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1249-L1249'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1249' data-end='1249'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1249</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_to_s'>to_s</span> <span class='id identifier rubyid_help'><a href="#help-instance_method" title="OptionParser#help (method)">help</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="top-instance_method">
  <h3 class='signature '>
    #<strong>top</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Subject of <a href="#on-instance_method" title="OptionParser#on (method)">#on</a> / <a href="#on_head-instance_method" title="OptionParser#on_head (method)">#on_head</a>, <a href="#accept-instance_method" title="OptionParser#accept (method)">#accept</a> / <a href="#reject-instance_method" title="OptionParser#reject (method)">#reject</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1200-L1202'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1200' data-end='1202'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1200</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_top'>top</span>
  <span class='ivar'>@stack</span>[<span class='op'>-</span><span class='int'>1</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ver-instance_method">
  <h3 class='signature '>
    #<strong>ver</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns version string from program_name, version and release.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1181-L1187'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1181' data-end='1187'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1181</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ver'>ver</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_version'><a href="#version-instance_method" title="OptionParser#version (method)">version</a></span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'><a href="#program_name-instance_method" title="OptionParser#program_name (method)">program_name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span>[<span class='id identifier rubyid_v'>v</span>].<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_release'><a href="#release-instance_method" title="OptionParser#release (method)">release</a></span>
    <span class='id identifier rubyid_str'>str</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="visit-instance_method">
  <h3 class='signature priv'>
    #<strong>visit</strong>(id, *args, &amp;block)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Traverses @stack, sending each element method <code>id</code> with <code>args</code> and <code>block</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1705-L1710'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1705' data-end='1710'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1705</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_visit'>visit</span>(<span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@stack</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_el'>el</span><span class='op'>|</span>
    <span class='id identifier rubyid_el'>el</span>.<span class='id identifier rubyid_send'>send</span>(<span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="warn-instance_method">
  <h3 class='signature '>
    #<strong>warn</strong>(mesg = $!)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/optparse.rb#L1189-L1191'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1189' data-end='1191'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/optparse.rb', line 1189</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_warn'>warn</span>(<span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='gvar'>$!</span>)
  <span class='kw'>super</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'><a href="#program_name-instance_method" title="OptionParser#program_name (method)">program_name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mesg'>mesg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>