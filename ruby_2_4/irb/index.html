<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: IRB &mdash; irb  Ruby-2.4.10 p364</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "IRB",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a href='../../index.html'>Home</a> &raquo; 
      <a href='../index.html'>Ruby-2.4.10</a> &raquo; 
      <a href='index.html'>irb</a> &raquo; 
      <a href='_index.html#alpha_I'>Index (I)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>IRB&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: IRB</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="IRB/ContextExtender.html" title="IRB::ContextExtender (module)">ContextExtender</a>,
        <a href="IRB/ExtendCommand.html" title="IRB::ExtendCommand (module)">ExtendCommand</a>,
        <a href="IRB/ExtendCommandBundle.html" title="IRB::ExtendCommandBundle (module)">ExtendCommandBundle</a>,
        <a href="IRB/IrbLoader.html" title="IRB::IrbLoader (module)">IrbLoader</a>,
        <a href="IRB/MethodExtender.html" title="IRB::MethodExtender (module)">MethodExtender</a>,
        <a href="IRB/Notifier.html" title="IRB::Notifier (module)">Notifier</a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="IRB/Context.html" title="IRB::Context (class)">Context</a>,
        <a href="IRB/DefaultEncodings.html" title="IRB::DefaultEncodings (class)">DefaultEncodings</a>,
        <a href="IRB/FileInputMethod.html" title="IRB::FileInputMethod (class)">FileInputMethod</a>,
        <a href="IRB/Frame.html" title="IRB::Frame (class)">Frame</a>,
        <a href="IRB/InputMethod.html" title="IRB::InputMethod (class)">InputMethod</a>,
        <a href="IRB/Inspector.html" title="IRB::Inspector (class)">Inspector</a>,
        <a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a>,
        <a href="IRB/JobManager.html" title="IRB::JobManager (class)">JobManager</a>,
        <a href="IRB/OutputMethod.html" title="IRB::OutputMethod (class)">OutputMethod</a>,
        <a href="IRB/StdioInputMethod.html" title="IRB::StdioInputMethod (class)">StdioInputMethod</a>,
        <a href="IRB/StdioOutputMethod.html" title="IRB::StdioOutputMethod (class)">StdioOutputMethod</a>,
        <a href="IRB/WorkSpace.html" title="IRB::WorkSpace (class)">WorkSpace</a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="IRB/Abort.html" title="IRB::Abort (class)">Abort</a>,
        <a href="IRB/LoadAbort.html" title="IRB::LoadAbort (class)">LoadAbort</a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Exception2MessageMapper,
          Exception2MessageMapper
        </div>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb.rb#L337'>lib/irb.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/completion.rb#L12'>lib/irb/completion.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/context.rb#L16'>lib/irb/context.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/extend-command.rb#L12'>lib/irb/extend-command.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/frame.rb#L15'>lib/irb/frame.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/help.rb#L15'>lib/irb/help.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/init.rb#L13'>lib/irb/init.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/input-method.rb#L15'>lib/irb/input-method.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/inspector.rb#L14'>lib/irb/inspector.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/locale.rb#L12'>lib/irb/locale.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/magic-file.rb#L2'>lib/irb/magic-file.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/notifier.rb#L16'>lib/irb/notifier.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/output-method.rb#L15'>lib/irb/output-method.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/slex.rb#L17'>lib/irb/slex.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/version.rb#L13'>lib/irb/version.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/workspace.rb#L12'>lib/irb/workspace.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/cmd/chws.rb#L17'>lib/irb/cmd/chws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/cmd/fork.rb#L15'>lib/irb/cmd/fork.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/cmd/help.rb#L17'>lib/irb/cmd/help.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/cmd/load.rb#L17'>lib/irb/cmd/load.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/cmd/nop.rb#L13'>lib/irb/cmd/nop.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/cmd/pushws.rb#L17'>lib/irb/cmd/pushws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/cmd/subirb.rb#L16'>lib/irb/cmd/subirb.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/change-ws.rb#L13'>lib/irb/ext/change-ws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/history.rb#L13'>lib/irb/ext/history.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/loader.rb#L14'>lib/irb/ext/loader.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/math-mode.rb#L14'>lib/irb/ext/math-mode.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/multi-irb.rb#L15'>lib/irb/ext/multi-irb.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/save-history.rb#L14'>lib/irb/ext/save-history.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/tracer.rb#L14'>lib/irb/ext/tracer.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/use-loader.rb#L21'>lib/irb/ext/use-loader.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/workspaces.rb#L13'>lib/irb/ext/workspaces.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/lc/error.rb#L15'>lib/irb/lc/error.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/lc/ja/encoding_aliases.rb#L3'>lib/irb/lc/ja/encoding_aliases.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/lc/ja/error.rb#L15'>lib/irb/lc/ja/error.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>IRB</code> stands for “interactive Ruby” and is a tool to interactively execute Ruby expressions read from the standard input.</p>

<p>The <a href="#irb-class_method" title="IRB.irb (method)">.irb</a> command from your shell will start the interpreter.</p>

<h3 id="label-Usage">Usage</h3>

<p>Use of irb is easy if you know Ruby.</p>

<p>When executing irb, prompts are displayed as follows. Then, enter the Ruby expression. An input is executed when it is syntactically complete.</p>

<pre class="code ruby"><code class="ruby">$ irb
irb(main):001:0&gt; 1+2
#=&gt; 3
irb(main):002:0&gt; class Foo
irb(main):003:1&gt;  def foo
irb(main):004:2&gt;    print 1
irb(main):005:2&gt;  end
irb(main):006:1&gt; end
#=&gt; nil</code></pre>

<p>The Readline extension module can be used with irb. Use of Readline is default if it&#39;s installed.</p>

<h3 id="label-Command+line+options">Command line options</h3>

<pre class="code ruby"><code class="ruby">Usage:  irb.rb [options] [programfile] [arguments]
  -f                Suppress read of ~/.irbrc
  -m                Bc mode (load mathn, fraction or matrix are available)
  -d                Set $DEBUG to true (same as `ruby -d&#39;)
  -r load-module    Same as `ruby -r&#39;
  -I path           Specify $LOAD_PATH directory
  -U                Same as `ruby -U`
  -E enc            Same as `ruby -E`
  -w                Same as `ruby -w`
  -W[level=2]       Same as `ruby -W`
  --inspect         Use `inspect&#39; for output (default except for bc mode)
  --noinspect       Don&#39;t use inspect for output
  --readline        Use Readline extension module
  --noreadline      Don&#39;t use Readline extension module
  --prompt prompt-mode
  --prompt-mode prompt-mode
                    Switch prompt mode. Pre-defined prompt modes are
                    `default&#39;, `simple&#39;, `xmp&#39; and `inf-ruby&#39;
  --inf-ruby-mode   Use prompt appropriate for inf-ruby-mode on emacs.
                    Suppresses --readline.
  --simple-prompt   Simple prompt mode
  --noprompt        No prompt mode
  --tracer          Display trace for each execution of commands.
  --back-trace-limit n
                    Display backtrace top n and tail n. The default
                    value is 16.
  --irb_debug n     Set internal debug level to n (not for popular use)
  -v, --version     Print the version of irb</code></pre>

<h3 id="label-Configuration">Configuration</h3>

<p><code>IRB</code> reads from <code>~/.irbrc</code> when it&#39;s invoked.</p>

<p>If <code>~/.irbrc</code> doesn&#39;t exist, <a href="#irb-class_method" title="IRB.irb (method)">.irb</a> will try to read in the following order:</p>
<ul><li>
<p><code>.irbrc</code></p>
</li><li>
<p><code>irb.rc</code></p>
</li><li>
<p><code>_irbrc</code></p>
</li><li>
<p><code>$irbrc</code></p>
</li></ul>

<p>The following are alternatives to the command line options. To use them type as follows in an <a href="#irb-class_method" title="IRB.irb (method)">.irb</a> session:</p>

<pre class="code ruby"><code class="ruby">IRB.conf[:IRB_NAME]=&quot;irb&quot;
IRB.conf[:MATH_MODE]=false
IRB.conf[:INSPECT_MODE]=nil
IRB.conf[:IRB_RC] = nil
IRB.conf[:BACK_TRACE_LIMIT]=16
IRB.conf[:USE_LOADER] = false
IRB.conf[:USE_READLINE] = nil
IRB.conf[:USE_TRACER] = false
IRB.conf[:IGNORE_SIGINT] = true
IRB.conf[:IGNORE_EOF] = false
IRB.conf[:PROMPT_MODE] = :DEFAULT
IRB.conf[:PROMPT] = {...}
IRB.conf[:DEBUG_LEVEL]=0</code></pre>

<h4 id="label-Auto+indentation">Auto indentation</h4>

<p>To enable auto-indent mode in irb, add the following to your <code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span>] <span class='op'>=</span> <span class='kw'>true</span></code></pre>

<h4 id="label-Autocompletion">Autocompletion</h4>

<p>To enable autocompletion for irb, add the following to your <code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>irb/completion</span><span class='tstring_end'>&#39;</span></span></code></pre>

<h4 id="label-History">History</h4>

<p>By default, irb disables history and will not store any commands you used.</p>

<p>If you want to enable history, add the following to your <code>.irbrc</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>SAVE_HISTORY</span>] <span class='op'>=</span> <span class='int'>1000</span></code></pre>

<p>This will now store the last 1000 commands in <code>~/.irb_history</code>.</p>

<p>See <a href="IRB/Context.html#save_history=-instance_method" title="IRB::Context#save_history= (method)">Context#save_history=</a> for more information.</p>

<h3 id="label-Customizing+the+IRB+Prompt">Customizing the IRB Prompt</h3>

<p>In order to customize the prompt, you can change the following Hash:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>]</code></pre>

<p>This example can be used in your <code>.irbrc</code></p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>][<span class='symbeg'>:</span><span class='const'>MY_PROMPT</span>] <span class='op'>=</span> { <span class='comment'># name of prompt mode
</span>  <span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span>           <span class='comment'># enables auto-indent mode
</span>  <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>		<span class='comment'># simple prompt
</span>  <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>		<span class='comment'># prompt for continuated strings
</span>  <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>		<span class='comment'># prompt for continuated statement
</span>  <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    ==&gt;%s\n</span><span class='tstring_end'>&quot;</span></span>	<span class='comment'># format to return value
</span>}

<span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>MY_PROMPT</span></code></pre>

<p>Or, invoke irb with the above prompt mode by:</p>

<pre class="code ruby"><code class="ruby">irb --prompt my-prompt</code></pre>

<p>Constants <code>PROMPT_I</code>, <code>PROMPT_S</code> and <code>PROMPT_C</code> specify the format. In the prompt specification, some special strings are available:</p>

<pre class="code ruby"><code class="ruby">%N    # command name which is running
%m    # to_s of main object (self)
%M    # inspect of main object (self)
%l    # type of string(&quot;, &#39;, /, ]), `]&#39; is inner %w[...]
%NNi  # indent level. NN is digits and means as same as printf(&quot;%NNd&quot;).
      # It can be omitted
%NNn  # line number.
%%    # %</code></pre>

<p>For instance, the default prompt mode is defined as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>][<span class='symbeg'>:</span><span class='const'>DEFAULT</span>] <span class='op'>=</span> {
  <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># used to printf
</span>}</code></pre>

<p>irb comes with a number of available modes:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># :NULL:
</span><span class='comment'>#   :PROMPT_I:
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'># :DEFAULT:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_S: ! &#39;%N(%m):%03n:%i%l &#39;
</span><span class='comment'>#   :PROMPT_C: ! &#39;%N(%m):%03n:%i* &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     =&gt; %s
</span><span class='comment'># :CLASSIC:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_S: ! &#39;%N(%m):%03n:%i%l &#39;
</span><span class='comment'>#   :PROMPT_C: ! &#39;%N(%m):%03n:%i* &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'># :SIMPLE:
</span><span class='comment'>#   :PROMPT_I: ! &#39;&gt;&gt; &#39;
</span><span class='comment'>#   :PROMPT_N: ! &#39;&gt;&gt; &#39;
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C: ! &#39;?&gt; &#39;
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     =&gt; %s
</span><span class='comment'># :INF_RUBY:
</span><span class='comment'>#   :PROMPT_I: ! &#39;%N(%m):%03n:%i&gt; &#39;
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |
</span><span class='comment'>#     %s
</span><span class='comment'>#   :AUTO_INDENT: true
</span><span class='comment'># :XMP:
</span><span class='comment'>#   :PROMPT_I:
</span><span class='comment'>#   :PROMPT_N:
</span><span class='comment'>#   :PROMPT_S:
</span><span class='comment'>#   :PROMPT_C:
</span><span class='comment'>#   :RETURN: |2
</span><span class='comment'>#         ==&gt;%s</span></code></pre>

<h3 id="label-Restrictions">Restrictions</h3>

<p>Because irb evaluates input immediately after it is syntactically complete, the results may be slightly different than directly using Ruby.</p>

<h3 id="label-IRB+Sessions">IRB Sessions</h3>

<p><code>IRB</code> has a special feature, that allows you to manage many sessions at once.</p>

<p>You can create new sessions with <code>Irb.irb</code>, and get a list of current sessions with the <code>jobs</code> command in the prompt.</p>

<h4 id="label-Commands">Commands</h4>

<p><a href="IRB/JobManager.html" title="IRB::JobManager (class)">JobManager</a> provides commands to handle the current sessions:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_jobs'>jobs</span>    <span class='comment'># List of current sessions
</span><span class='id identifier rubyid_fg'>fg</span>      <span class='comment'># Switches to the session of the given number
</span><span class='id identifier rubyid_kill'>kill</span>    <span class='comment'># Kills the session with the given number</span></code></pre>

<p>The <code>exit</code> command, or <a href="#irb_exit-class_method" title="IRB.irb_exit (method)">.irb_exit</a>, will quit the current session and call any exit hooks with <a href="#irb_at_exit-class_method" title="IRB.irb_at_exit (method)">.irb_at_exit</a>.</p>

<p>A few commands for loading files within the session are also available:</p>
<dl class="rdoc-list note-list"><dt><code>source</code>
<dd>
<p>Loads a given file in the current session and displays the source lines, see IrbLoader#source_file</p>
</dd><dt><code>irb_load</code>
<dd>
<p>Loads the given file similarly to Kernel#load, see IrbLoader#irb_load</p>
</dd><dt><code>irb_require</code>
<dd>
<p>Loads the given file similarly to Kernel#require</p>
</dd></dl>

<h4 id="label-Configuration">Configuration</h4>

<p>The command line options, or <a href="#conf-class_method" title="IRB.conf (method)">.conf</a>, specify the default behavior of <code>Irb.irb</code>.</p>

<p>On the other hand, each conf in IRB@Command+line+options is used to individually configure <a href="#irb-class_method" title="IRB.irb (method)">.irb</a>.</p>

<p>If a proc is set for <code>IRB.conf[:IRB_RC]</code>, its will be invoked after execution of that proc with the context of the current session as its argument. Each session can be configured using this mechanism.</p>

<h4 id="label-Session+variables">Session variables</h4>

<p>There are a few variables in every <a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a> session that can come in handy:</p>
<dl class="rdoc-list note-list"><dt><code>_</code>
<dd>
<p>The value command executed, as a local variable</p>
</dd><dt><code>__</code>
<dd>
<p>The history of evaluated commands</p>
</dd><dt><code>__[line_no]</code>
<dd>
<p>Returns the evaluation value at the given line number, <code>line_no</code>. If <code>line_no</code> is a negative, the return value <code>line_no</code> many lines before the most recent return value.</p>
</dd></dl>

<h4 id="label-Example+using+IRB+Sessions">Example using IRB Sessions</h4>

<pre class="code ruby"><code class="ruby"># invoke a new session
irb(main):001:0&gt; irb
# list open sessions
irb.1(main):001:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : stop)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : running)

# change the active session
irb.1(main):002:0&gt; fg 0
# define class Foo in top-level session
irb(main):002:0&gt; class Foo;end
# invoke a new session with the context of Foo
irb(main):003:0&gt; irb Foo
# define Foo#foo
irb.2(Foo):001:0&gt; def foo
irb.2(Foo):002:1&gt;   print 1
irb.2(Foo):003:1&gt; end

# change the active session
irb.2(Foo):004:0&gt; fg 0
# list open sessions
irb(main):004:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : running)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : stop)
  #2-&gt;irb#2 on Foo (#&lt;Thread:0x4011d54c&gt; : stop)
# check if Foo#foo is available
irb(main):005:0&gt; Foo.instance_methods #=&gt; [:foo, ...]

# change the active sesssion
irb(main):006:0&gt; fg 2
# define Foo#bar in the context of Foo
irb.2(Foo):005:0&gt; def bar
irb.2(Foo):006:1&gt;  print &quot;bar&quot;
irb.2(Foo):007:1&gt; end
irb.2(Foo):010:0&gt;  Foo.instance_methods #=&gt; [:bar, :foo, ...]

# change the active session
irb.2(Foo):011:0&gt; fg 0
irb(main):007:0&gt; f = Foo.new  #=&gt; #&lt;Foo:0x4010af3c&gt;
# invoke a new session with the context of f (instance of Foo)
irb(main):008:0&gt; irb f
# list open sessions
irb.3(&lt;Foo:0x4010af3c&gt;):001:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : stop)
  #1-&gt;irb#1 on main (#&lt;Thread:0x40125d64&gt; : stop)
  #2-&gt;irb#2 on Foo (#&lt;Thread:0x4011d54c&gt; : stop)
  #3-&gt;irb#3 on #&lt;Foo:0x4010af3c&gt; (#&lt;Thread:0x4010a1e0&gt; : running)
# evaluate f.foo
irb.3(&lt;Foo:0x4010af3c&gt;):002:0&gt; foo #=&gt; 1 =&gt; nil
# evaluate f.bar
irb.3(&lt;Foo:0x4010af3c&gt;):003:0&gt; bar #=&gt; bar =&gt; nil
# kill jobs 1, 2, and 3
irb.3(&lt;Foo:0x4010af3c&gt;):004:0&gt; kill 1, 2, 3
# list open sessions, should only include main session
irb(main):009:0&gt; jobs
  #0-&gt;irb on main (#&lt;Thread:0x400fb7e4&gt; : running)
# quit irb
irb(main):010:0&gt; exit</code></pre>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#conf-class_method" title=".conf (class method)">.<strong>conf</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Displays current configuration.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#CurrentContext-class_method" title=".CurrentContext (class method)"><strong>CurrentContext</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The current <a href="IRB/Context.html" title="IRB::Context (class)">Context</a> of the session, see <a href="#conf-class_method" title="IRB.conf (method)">.conf</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_caller-class_method" title=".delete_caller (class method)">.<strong>delete_caller</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#initialize_tracer-class_method" title=".initialize_tracer (class method)">.<strong>initialize_tracer</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>initialize tracing function.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-class_method" title=".inspect (class method)">.<strong>inspect</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#irb-class_method" title=".irb (class method)">.<strong>irb</strong>(file = nil, *main)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>IRB</code> session, see <a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">Irb.new</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#irb_abort-class_method" title=".irb_abort (class method)">.<strong>irb_abort</strong>(irb, exception = Abort)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Aborts then interrupts irb.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#irb_at_exit-class_method" title=".irb_at_exit (class method)">.<strong>irb_at_exit</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls each event hook of <code>IRB.conf[:AT_EXIT]</code> when the current session quits.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#irb_exit-class_method" title=".irb_exit (class method)">.<strong>irb_exit</strong>(irb, ret)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Quits irb.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#JobManager-class_method" title=".JobManager (class method)"><strong>JobManager</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The current <a href="IRB/JobManager.html" title="IRB::JobManager (class)">JobManager</a> in the session.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#print_usage-class_method" title=".print_usage (class method)">.<strong>print_usage</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Outputs the irb help message, see IRB@Command+line+options.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start-class_method" title=".start (class method)">.<strong>start</strong>(ap_path = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes IRB and creates a new <code>Irb.irb</code> object at the <code>TOPLEVEL_BINDING</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#version-class_method" title=".version (class method)">.<strong>version</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the current version of <code>IRB</code>, including release version and last updated date.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="conf-class_method">
  <h3 class='signature  first'>
    .<strong>conf</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Displays current configuration.</p>

<p>Modifying the configuration is achieved by sending a message to <code>conf</code>.</p>

<p>See IRB@Configuration for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb.rb#L350-L352'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='350' data-end='352'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 350</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'>conf</span>
  <span class='ivar'>@CONF</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="CurrentContext-class_method">
  <h3 class='signature '>
    <strong>CurrentContext</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current <a href="IRB/Context.html" title="IRB::Context (class)">::IRB::Context</a> of the session, see <a href="#conf-class_method" title="IRB.conf (method)">.conf</a></p>

<pre class="code ruby"><code class="ruby">irb
irb(main):001:0&gt; IRB.CurrentContext.irb_name = &quot;foo&quot;
foo(main):002:0&gt; IRB.conf[:MAIN_CONTEXT].irb_name #=&gt; &quot;foo&quot;</code></pre>

<p>See additional method definition at file lib/irb.rb line 369.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/multi-irb.rb#L182-L184'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='182' data-end='184'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 182</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='const'>CurrentContext</span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MAIN_CONTEXT</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_caller-class_method">
  <h3 class='signature '>
    .<strong>delete_caller</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/workspace.rb#L112-L113'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='112' data-end='113'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/workspace.rb', line 112</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_delete_caller'>delete_caller</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="initialize_tracer-class_method">
  <h3 class='signature '>
    .<strong>initialize_tracer</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>initialize tracing function</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/tracer.rb#L17-L24'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='17' data-end='24'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/tracer.rb', line 17</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_initialize_tracer'>initialize_tracer</span>
  <span class='const'>Tracer</span>.<span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'>Tracer</span>.<span class='id identifier rubyid_add_filter'>add_filter</span> {
    <span class='op'>|</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_binding'>binding</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_rests'>rests</span><span class='op'>|</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span>.<span class='id identifier rubyid_quote'>quote</span>(<span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_LIB_PATH</span>])<span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_file'>file</span> <span class='kw'>and</span>
      <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_file'>file</span>) <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb.rb</span><span class='tstring_end'>&quot;</span></span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-class_method">
  <h3 class='signature '>
    .<strong>inspect</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb.rb#L686-L706'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='686' data-end='706'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 686</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='ivar'>@CONF</span>.<span class='id identifier rubyid_inspect'>inspect</span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_version'><a href="#version-class_method" title="IRB.version (method)">version</a></span> <span class='kw'>unless</span> <span class='kw'>self</span>[<span class='symbeg'>:</span><span class='const'>VERSION</span>]

  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> []
  <span class='kw'>for</span> <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>in</span> <span class='id identifier rubyid_sort'>sort</span>{<span class='op'>|</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='id identifier rubyid_a2'>a2</span><span class='op'>|</span> <span class='id identifier rubyid_a1'>a1</span>[<span class='int'>0</span>].<span class='id identifier rubyid_id2name'>id2name</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a2'>a2</span>[<span class='int'>0</span>].<span class='id identifier rubyid_id2name'>id2name</span>}
    <span class='kw'>case</span> <span class='id identifier rubyid_k'>k</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='const'>MAIN_CONTEXT</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid___TMP__EHV__'>__TMP__EHV__</span>
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]=...myself...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='const'>PROMPT</span>
      <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_collect'>collect</span>{
        <span class='op'>|</span><span class='id identifier rubyid_kk'>kk</span><span class='comma'>,</span> <span class='id identifier rubyid_vv'>vv</span><span class='op'>|</span>
        <span class='id identifier rubyid_ss'>ss</span> <span class='op'>=</span> <span class='id identifier rubyid_vv'>vv</span>.<span class='id identifier rubyid_collect'>collect</span>{<span class='op'>|</span><span class='id identifier rubyid_kkk'>kkk</span><span class='comma'>,</span> <span class='id identifier rubyid_vvv'>vvv</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_kkk'>kkk</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_vvv'>vvv</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
        <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:%s=&gt;{%s}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_kk'>kk</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_ss'>ss</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>))
      }
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]={%s}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>))
    <span class='kw'>else</span>
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]=%s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_inspect'>inspect</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb-class_method">
  <h3 class='signature '>
    .<strong>irb</strong>(file = nil, *main)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>IRB</code> session, see <a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">Irb.new</a>.</p>

<p>The optional <code>file</code> argument is given to <a href="IRB/Context.html#new-class_method" title="IRB::Context.new (method)">Context.new</a>, along with the workspace created with the remaining arguments, see <a href="IRB/WorkSpace.html#new-class_method" title="IRB::WorkSpace.new (method)">WorkSpace.new</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/multi-irb.rb#L190-L232'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='190' data-end='232'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 190</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_main'>main</span>)
  <span class='id identifier rubyid_workspace'>workspace</span> <span class='op'>=</span> <span class='const'><a href="IRB/WorkSpace.html" title="IRB::WorkSpace (class)">WorkSpace</a></span>.<span class='id identifier rubyid_new'><a href="IRB/WorkSpace.html#new-class_method" title="IRB::WorkSpace.new (method)">new</a></span>(<span class='op'>*</span><span class='id identifier rubyid_main'>main</span>)
  <span class='id identifier rubyid_parent_thread'>parent_thread</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="IRB.start (method)">start</a></span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_irb'>irb</span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>(<span class='id identifier rubyid_workspace'>workspace</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span>)
    <span class='kw'>rescue</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Subirb can&#39;t start with context(self): </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_workspace'>workspace</span>.<span class='id identifier rubyid_main'>main</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-class_method" title="IRB.inspect (method)">inspect</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>return to main irb\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_pass'>pass</span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_main'>main</span>.<span class='id identifier rubyid_wakeup'>wakeup</span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_exit'>exit</span>
    <span class='kw'>end</span>
    <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>].<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_irb'>irb</span>.<span class='id identifier rubyid_context'>context</span>) <span class='kw'>if</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>]
    <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='id identifier rubyid_irb'>irb</span>)
    <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='id identifier rubyid_irb'>irb</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_system_exit'>system_exit</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_catch'>catch</span>(<span class='symbeg'>:</span><span class='const'>IRB_EXIT</span>) <span class='kw'>do</span>
        <span class='id identifier rubyid_irb'>irb</span>.<span class='id identifier rubyid_eval_input'>eval_input</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>SystemExit</span>
      <span class='id identifier rubyid_system_exit'>system_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_raise'>raise</span>
      <span class='comment'>#fail
</span>    <span class='kw'>ensure</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_system_exit'>system_exit</span>
        <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_irb'>irb</span>)
        <span class='kw'>if</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>==</span> <span class='id identifier rubyid_irb'>irb</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_parent_thread'>parent_thread</span>.<span class='id identifier rubyid_alive?'>alive?</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='id identifier rubyid_parent_thread'>parent_thread</span>)
            <span class='id identifier rubyid_parent_thread'>parent_thread</span>.<span class='id identifier rubyid_run'>run</span>
          <span class='kw'>else</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_main_irb'>main_irb</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_main_thread'>main_thread</span>.<span class='id identifier rubyid_run'>run</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_stop'>stop</span>
  <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb_abort-class_method">
  <h3 class='signature '>
    .<strong>irb_abort</strong>(irb, exception = Abort)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Aborts then interrupts irb.</p>

<p>Will raise an <a href="IRB/Abort.html" title="IRB::Abort (class)">::IRB::Abort</a> exception, or the given <code>exception</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb.rb#L401-L407'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='401' data-end='407'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 401</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb_abort'>irb_abort</span>(<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span><span class='comma'>,</span> <span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='const'><a href="IRB/Abort.html" title="IRB::Abort (class)">Abort</a></span>)
  <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='const'>Thread</span>
    <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>.<span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_thread'>thread</span>.<span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abort then interrupt!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abort then interrupt!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb_at_exit-class_method">
  <h3 class='signature '>
    .<strong>irb_at_exit</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls each event hook of <code>IRB.conf[:AT_EXIT]</code> when the current session quits.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb.rb#L389-L391'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='389' data-end='391'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 389</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb_at_exit'>irb_at_exit</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AT_EXIT</span>].<span class='id identifier rubyid_each'>each</span>{<span class='op'>|</span><span class='id identifier rubyid_hook'>hook</span><span class='op'>|</span> <span class='id identifier rubyid_hook'>hook</span>.<span class='id identifier rubyid_call'>call</span>}
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb_exit-class_method">
  <h3 class='signature '>
    .<strong>irb_exit</strong>(irb, ret)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quits irb</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb.rb#L394-L396'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='394' data-end='396'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 394</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb_exit'>irb_exit</span>(<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span><span class='comma'>,</span> <span class='id identifier rubyid_ret'>ret</span>)
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbeg'>:</span><span class='const'>IRB_EXIT</span><span class='comma'>,</span> <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="JobManager-class_method">
  <h3 class='signature '>
    <strong>JobManager</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current <a href="IRB/JobManager.html" title="IRB::JobManager (class)">::IRB::JobManager</a> in the session</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/ext/multi-irb.rb#L177-L179'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='177' data-end='179'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 177</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='const'>JobManager</span>
  <span class='ivar'>@JobManager</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="print_usage-class_method">
  <h3 class='signature '>
    .<strong>print_usage</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Outputs the irb help message, see IRB@Command+line+options.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb/help.rb#L17-L35'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='17' data-end='35'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/help.rb', line 17</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_print_usage'>print_usage</span>
  <span class='id identifier rubyid_lc'>lc</span> <span class='op'>=</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>]
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_find'>find</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/help-message</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'>IRB</span><span class='op'>::</span><span class='const'>MagicFile</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_path'>path</span>){<span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_each_line'>each_line</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l'>l</span>
        <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_l'>l</span> <span class='kw'>unless</span> <span class='id identifier rubyid_space_line'>space_line</span>
        <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>false</span>

      <span class='id identifier rubyid_l'>l</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>#.*$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l'>l</span>
      <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_l'>l</span>
    <span class='kw'>end</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start-class_method">
  <h3 class='signature '>
    .<strong>start</strong>(ap_path = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initializes IRB and creates a new <code>Irb.irb</code> object at the <code>TOPLEVEL_BINDING</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb.rb#L374-L386'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='374' data-end='386'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 374</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_ap_path'>ap_path</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='const'>STDOUT</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='gvar'>$0</span> <span class='op'>=</span> <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_ap_path'>ap_path</span>

  <span class='const'>IRB</span>.<span class='id identifier rubyid_setup'><a href="#setup-class_method" title="IRB.setup (method)">setup</a></span>(<span class='id identifier rubyid_ap_path'>ap_path</span>)

  <span class='kw'>if</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>]
    <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>])
  <span class='kw'>else</span>
    <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>.<span class='id identifier rubyid_run'>run</span>(<span class='ivar'>@CONF</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="version-class_method">
  <h3 class='signature '>
    .<strong>version</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the current version of <code>IRB</code>, including release version and last updated date.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/irb.rb#L356-L362'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='356' data-end='362'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 356</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_version'>version</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>VERSION</span>] <span class='kw'>then</span> <span class='kw'>return</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>end</span>

  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/version</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_rv'>rv</span> <span class='op'>=</span> <span class='ivar'>@RELEASE_VERSION</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.0</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>VERSION</span>] <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb %s(%s)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rv'>rv</span><span class='comma'>,</span> <span class='ivar'>@LAST_UPDATE_DATE</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>