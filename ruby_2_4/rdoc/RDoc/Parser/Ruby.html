<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::Parser::Ruby &mdash; rdoc  Ruby-2.4.10 p364</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RDoc::Parser::Ruby",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a href='../../../../index.html'>Home</a> &raquo; 
      <a href='../../../index.html'>Ruby-2.4.10</a> &raquo; 
      <a href='../../index.html'>rdoc</a> &raquo; 
      <a href='../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
        <a href="../Parser.html" title="RDoc::Parser (class)">Parser</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Ruby&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: RDoc::Parser::Ruby</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="RubyTools.html" title="RDoc::Parser::RubyTools (module)">RubyTools</a>,
          <a href="../TokenStream.html" title="RDoc::TokenStream (module)">::RDoc::TokenStream</a>,
          <a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Parser.html" title="RDoc::Parser (class)">RDoc::Parser</a></span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'><a href="../Parser.html" title="RDoc::Parser (class)">RDoc::Parser</a></li>
          <li class='next'>RDoc::Parser::Ruby</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L142'>lib/rdoc/parser/ruby.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts code elements from a source file returning a <a href="../TopLevel.html" title="RDoc::TopLevel (class)">::RDoc::TopLevel</a> object containing the constituent file elements.</p>

<p>This file is based on rtags</p>

<p>RubyParser understands how to document:</p>
<ul><li>
<p>classes</p>
</li><li>
<p>modules</p>
</li><li>
<p>methods</p>
</li><li>
<p>constants</p>
</li><li>
<p>aliases</p>
</li><li>
<p>private, public, protected</p>
</li><li>
<p>private_class_function, public_class_function</p>
</li><li>
<p>module_function</p>
</li><li>
<p>attr, attr_reader, attr_writer, attr_accessor</p>
</li><li>
<p>extra accessors given on the command line</p>
</li><li>
<p>metaprogrammed methods</p>
</li><li>
<p>require</p>
</li><li>
<p>include</p>
</li></ul>

<h3 id="label-Method+Arguments">Method Arguments</h3>

<p>The parser extracts the arguments from the method definition.  You can override this with a custom argument definition using the :call-seq: directive:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>##
</span><span class='comment'># This method can be called with a range or an offset and length
</span><span class='comment'>#
</span><span class='comment'># :call-seq:
</span><span class='comment'>#   my_method(Range)
</span><span class='comment'>#   my_method(offset, length)
</span>
<span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>)
<span class='kw'>end</span></code></pre>

<p>The parser extracts <code>yield</code> expressions from method bodies to gather the yielded argument names.  If your method manually calls a block instead of yielding or you want to override the discovered argument names use the :yields: directive:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>##
</span><span class='comment'># My method is awesome
</span>
<span class='kw'>def</span> <span class='id identifier rubyid_my_method'>my_method</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>) <span class='comment'># :yields: happy, times
</span>  <span class='id identifier rubyid_block'>block</span>.<span class='id identifier rubyid_call'>call</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>
<span class='kw'>end</span></code></pre>

<h3 id="label-Metaprogrammed+Methods">Metaprogrammed Methods</h3>

<p>To pick up a metaprogrammed method, the parser looks for a comment starting with &#39;##&#39; before an identifier:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>##
</span><span class='comment'># This is a meta-programmed method!
</span>
<span class='id identifier rubyid_add_my_method'>add_my_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_meta_method'>meta_method</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_arg1'>arg1</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_arg2'>arg2</span></code></pre>

<p>The parser looks at the token after the identifier to determine the name, in this example, <code>:meta_method</code>.  If a name cannot be found, a warning is printed and &#39;unknown is used.</p>

<p>You can force the name of a method using the :method: directive:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>##
</span><span class='comment'># :method: some_method!</span></code></pre>

<p>By default, meta-methods are instance methods.  To indicate that a method is a singleton method instead use the :singleton-method: directive:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>##
</span><span class='comment'># :singleton-method:</span></code></pre>

<p>You can also use the :singleton-method: directive with a name:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>##
</span><span class='comment'># :singleton-method: some_method!</span></code></pre>

<p>You can define arguments for metaprogrammed methods via either the :call-seq:, :arg: or :args: directives.</p>

<p>Additionally you can mark a method as an attribute by using :attr:, :attr_reader:, :attr_writer: or :attr_accessor:.  Just like for :method:, the name is optional.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>##
</span><span class='comment'># :attr_reader: my_attr_name</span></code></pre>

<h3 id="label-Hidden+methods+and+attributes">Hidden methods and attributes</h3>

<p>You can provide documentation for methods that don&#39;t appear using the :method:, :singleton-method: and :attr: directives:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>##
</span><span class='comment'># :attr_writer: ghost_writer
</span><span class='comment'># There is an attribute here, but you can&#39;t see it!
</span>
<span class='comment'>##
</span><span class='comment'># :method: ghost_method
</span><span class='comment'># There is a method here, but you can&#39;t see it!
</span>
<span class='comment'>##
</span><span class='comment'># this is a comment for a regular method
</span>
<span class='kw'>def</span> <span class='id identifier rubyid_regular_method'>regular_method</span>() <span class='kw'>end</span></code></pre>

<p>Note that by default, the :method: directive will be ignored if there is a standard rdocable item following it.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='NORMAL-constant' class='summary_signature'>NORMAL =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="../NormalClass.html" title="RDoc::NormalClass (class)">::RDoc::NormalClass</a> type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L153-L153'># File 'lib/rdoc/parser/ruby.rb', line 153</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='SINGLE-constant' class='summary_signature'>SINGLE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p><a href="../SingleClass.html" title="RDoc::SingleClass (class)">::RDoc::SingleClass</a> type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L158-L158'># File 'lib/rdoc/parser/ruby.rb', line 158</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser.html#parsers-class_method" title="RDoc::Parser.parsers (method)">.parsers</a></td>
      <td><div class='inline'><p>An Array of arrays that maps file extension (or name) regular expressions to parser classes that will parse matching filenames.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(top_level, file_name, content, options, stats)  &#x21d2; Ruby </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>Ruby</code> parser.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#alias_extension-class_method" title="RDoc::Parser.alias_extension (method)">.alias_extension</a></td>
      <td><div class='inline'><p><a href="../Alias.html" title="RDoc::Alias (class)">::RDoc::Alias</a> an extension to another extension.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#binary%3F-class_method" title="RDoc::Parser.binary? (method)">.binary?</a></td>
      <td><div class='inline'><p>Determines if the file is a “binary” file which basically means it has content that an <a href="../RDoc.html" title="RDoc::RDoc (class)">::RDoc::RDoc</a> parser shouldn&#39;t try to consume.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#can_parse-class_method" title="RDoc::Parser.can_parse (method)">.can_parse</a></td>
      <td><div class='inline'><p>Return a parser that can handle a particular extension.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#can_parse_by_name-class_method" title="RDoc::Parser.can_parse_by_name (method)">.can_parse_by_name</a></td>
      <td><div class='inline'><p>Returns a parser that can handle the extension for <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#check_modeline-class_method" title="RDoc::Parser.check_modeline (method)">.check_modeline</a></td>
      <td><div class='inline'><p>Returns the file type from the modeline in <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#for-class_method" title="RDoc::Parser.for (method)">.for</a></td>
      <td><div class='inline'><p>Finds and instantiates the correct parser for the given <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a> and <code>content</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#new-class_method" title="RDoc::Parser.new (method)">.new</a></td>
      <td><div class='inline'><p>Creates a new <a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a> storing <code>top_level</code>, <a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a>, <code>content</code>, <code>options</code> and <code>stats</code> in instance variables.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#parse_files_matching-class_method" title="RDoc::Parser.parse_files_matching (method)">.parse_files_matching</a></td>
      <td><div class='inline'><p>Record which file types this parser can understand.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#process_directive-class_method" title="RDoc::Parser.process_directive (method)">.process_directive</a></td>
      <td><div class='inline'><p>Processes common directives for CodeObjects for the <a href="C.html" title="RDoc::Parser::C (class)">C</a> and <code>Ruby</code> parsers.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#remove_modeline-class_method" title="RDoc::Parser.remove_modeline (method)">.remove_modeline</a></td>
      <td><div class='inline'><p>Removes an emacs-style modeline from the first line of the document.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#use_markup-class_method" title="RDoc::Parser.use_markup (method)">.use_markup</a></td>
      <td><div class='inline'><p>If there is a <code>markup: parser_name</code> comment at the front of the file, use it to determine the parser.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Parser.html#zip%3F-class_method" title="RDoc::Parser.zip? (method)">.zip?</a></td>
      <td><div class='inline'><p>Checks if <code>file</code> is a zip file in disguise.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Parser.html" title="RDoc::Parser (class)">::RDoc::Parser</a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">#file_name</a></td>
      <td><div class='inline'><p>The name of the file being parsed.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#collect_first_comment-instance_method" title="#collect_first_comment (instance method)">#<strong>collect_first_comment</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Look for the first comment in a file that isn&#39;t a shebang line.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#error-instance_method" title="#error (instance method)">#<strong>error</strong>(msg)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Aborts with <code>msg</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_bool-instance_method" title="#get_bool (instance method)">#<strong>get_bool</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Looks for a true or false token.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_class_or_module-instance_method" title="#get_class_or_module (instance method)">#<strong>get_class_or_module</strong>(container, ignore_constants = false)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><dl class="rdoc-list note-list"><dt>Look for the name of a class of module (optionally with a leading 
<dd><dl class="rdoc-list note-list"><dt>or with 
<dd><p>separated named) and return the ultimate name, the associated container, and the given name (with the ::).</p></dd></dl></dd></dl></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_class_specification-instance_method" title="#get_class_specification (instance method)">#<strong>get_class_specification</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Return a superclass, which can be either a constant of an expression.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_constant-instance_method" title="#get_constant (instance method)">#<strong>get_constant</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse a constant, which might be qualified by one or more class or module names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_constant_with_optional_parens-instance_method" title="#get_constant_with_optional_parens (instance method)">#<strong>get_constant_with_optional_parens</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Get a constant that may be surrounded by parens.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_symbol_or_name-instance_method" title="#get_symbol_or_name (instance method)">#<strong>get_symbol_or_name</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts a name or symbol from the token stream.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#look_for_directives_in-instance_method" title="#look_for_directives_in (instance method)">#<strong>look_for_directives_in</strong>(context, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Look for directives in a normal comment block:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#make_message-instance_method" title="#make_message (instance method)">#<strong>make_message</strong>(message)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Adds useful info about the parser to <code>message</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new_comment-instance_method" title="#new_comment (instance method)">#<strong>new_comment</strong>(comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a comment with the correct format.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_alias-instance_method" title="#parse_alias (instance method)">#<strong>parse_alias</strong>(context, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses an <code>alias</code> in <code>context</code> with <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_attr-instance_method" title="#parse_attr (instance method)">#<strong>parse_attr</strong>(context, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> for the name following <code>tk</code>, setting the comment to <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_attr_accessor-instance_method" title="#parse_attr_accessor (instance method)">#<strong>parse_attr_accessor</strong>(context, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> for each attribute listed after <code>tk</code>, setting the comment for each to <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_call_parameters-instance_method" title="#parse_call_parameters (instance method)">#<strong>parse_call_parameters</strong>(tk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts call parameters from the token stream.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_class-instance_method" title="#parse_class (instance method)">#<strong>parse_class</strong>(container, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a class in <code>context</code> with <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_comment-instance_method" title="#parse_comment (instance method)">#<strong>parse_comment</strong>(container, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Generates an <code>RDoc::Method</code> or <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> from <code>comment</code> by looking for :method: or :attr: directives in <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_comment_tomdoc-instance_method" title="#parse_comment_tomdoc (instance method)">#<strong>parse_comment_tomdoc</strong>(container, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates an <code>RDoc::Method</code> on <code>container</code> from <code>comment</code> if there is a Signature section in the comment.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_constant-instance_method" title="#parse_constant (instance method)">#<strong>parse_constant</strong>(container, tk, comment, ignore_constants = false)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a constant in <code>context</code> with <code>comment</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_meta_attr-instance_method" title="#parse_meta_attr (instance method)">#<strong>parse_meta_attr</strong>(context, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a meta-programmed attribute and creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_meta_method-instance_method" title="#parse_meta_method (instance method)">#<strong>parse_meta_method</strong>(container, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a meta-programmed method.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method-instance_method" title="#parse_method (instance method)">#<strong>parse_method</strong>(container, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a normal method defined by <code>def</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method_dummy-instance_method" title="#parse_method_dummy (instance method)">#<strong>parse_method_dummy</strong>(container)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a method that needs to be ignored.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method_or_yield_parameters-instance_method" title="#parse_method_or_yield_parameters (instance method)">#<strong>parse_method_or_yield_parameters</strong>(method = nil, modifiers = RDoc::METHOD_MODIFIERS)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts <code>yield</code> parameters from <code>method</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method_parameters-instance_method" title="#parse_method_parameters (instance method)">#<strong>parse_method_parameters</strong>(method)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Capture the method&#39;s parameters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_method_params_and_body-instance_method" title="#parse_method_params_and_body (instance method)">#<strong>parse_method_params_and_body</strong>(container, single, meth, added_container)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses the parameters and body of <code>meth</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_module-instance_method" title="#parse_module (instance method)">#<strong>parse_module</strong>(container, single, tk, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses an <a href="../NormalModule.html" title="RDoc::NormalModule (class)">::RDoc::NormalModule</a> in <code>container</code> with <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_require-instance_method" title="#parse_require (instance method)">#<strong>parse_require</strong>(context, comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses an <a href="../Require.html" title="RDoc::Require (class)">::RDoc::Require</a> in <code>context</code> containing <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_rescue-instance_method" title="#parse_rescue (instance method)">#<strong>parse_rescue</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses a rescue.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_statements-instance_method" title="#parse_statements (instance method)">#<strong>parse_statements</strong>(container, single = NORMAL, current_method = nil, comment = new_comment(&#39;&#39;))  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The core of the <code>Ruby</code> parser.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_symbol_arg-instance_method" title="#parse_symbol_arg (instance method)">#<strong>parse_symbol_arg</strong>(no = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parse up to <code>no</code> symbol arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_symbol_in_arg-instance_method" title="#parse_symbol_in_arg (instance method)">#<strong>parse_symbol_in_arg</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns symbol text from the next token.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_top_level_statements-instance_method" title="#parse_top_level_statements (instance method)">#<strong>parse_top_level_statements</strong>(container)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses statements in the top-level <code>container</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_visibility-instance_method" title="#parse_visibility (instance method)">#<strong>parse_visibility</strong>(container, single, tk)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Determines the visibility in <code>container</code> from <code>tk</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#parse_yield-instance_method" title="#parse_yield (instance method)">#<strong>parse_yield</strong>(context, single, tk, method)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Determines the block parameter for <code>context</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#read_directive-instance_method" title="#read_directive (instance method)">#<strong>read_directive</strong>(allowed)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Directives are modifier comments that can appear after class, module, or method names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#read_documentation_modifiers-instance_method" title="#read_documentation_modifiers (instance method)">#<strong>read_documentation_modifiers</strong>(context, allowed)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Handles directives following the definition for <code>context</code> (any <a href="../CodeObject.html" title="RDoc::CodeObject (class)">::RDoc::CodeObject</a>) if the directives are <code>allowed</code> at this point.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#remove_private_comments-instance_method" title="#remove_private_comments (instance method)">#<strong>remove_private_comments</strong>(comment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes private comments from <code>comment</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Scans this <code>Ruby</code> file for <code>Ruby</code> constructs.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_for_variable-instance_method" title="#skip_for_variable (instance method)">#<strong>skip_for_variable</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>skip the var [in] part of a &#39;for&#39; statement.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_method-instance_method" title="#skip_method (instance method)">#<strong>skip_method</strong>(container)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Skips the next method in <code>container</code></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_optional_do_after_expression-instance_method" title="#skip_optional_do_after_expression (instance method)">#<strong>skip_optional_do_after_expression</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>while, until, and for have an optional do.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#skip_tkspace_comment-instance_method" title="#skip_tkspace_comment (instance method)">#<strong>skip_tkspace_comment</strong>(skip_nl = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Skip spaces until a comment is found.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#warn-instance_method" title="#warn (instance method)">#<strong>warn</strong>(message)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Prints <code>message</code> to <tt>$stderr</tt> unless we&#39;re being quiet.</p></div>
    </div>
  </li>
</ul>

<h3 class='inherited'><a href="RubyTools.html" title="RDoc::Parser::RubyTools (module)">RubyTools</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#add_token_listener-instance_method" title="RDoc::Parser::RubyTools#add_token_listener (method)">#add_token_listener</a></td>
      <td><div class='inline'><p>Adds a token listener <code>obj</code>, but you should probably use token_listener.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#get_tk-instance_method" title="RDoc::Parser::RubyTools#get_tk (method)">#get_tk</a></td>
      <td><div class='inline'><p>Fetches the next token from the scanner.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#get_tk_until-instance_method" title="RDoc::Parser::RubyTools#get_tk_until (method)">#get_tk_until</a></td>
      <td><div class='inline'><p>Reads and returns all tokens up to one of <code>tokens</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#get_tkread-instance_method" title="RDoc::Parser::RubyTools#get_tkread (method)">#get_tkread</a></td>
      <td><div class='inline'><p>Retrieves a String representation of the read tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#peek_read-instance_method" title="RDoc::Parser::RubyTools#peek_read (method)">#peek_read</a></td>
      <td><div class='inline'><p>Peek equivalent for get_tkread.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#peek_tk-instance_method" title="RDoc::Parser::RubyTools#peek_tk (method)">#peek_tk</a></td>
      <td><div class='inline'><p>Peek at the next token, but don&#39;t remove it from the stream.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#remove_token_listener-instance_method" title="RDoc::Parser::RubyTools#remove_token_listener (method)">#remove_token_listener</a></td>
      <td><div class='inline'><p>Removes the token listener <code>obj</code></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#reset-instance_method" title="RDoc::Parser::RubyTools#reset (method)">#reset</a></td>
      <td><div class='inline'><p>Resets the tools.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#skip_tkspace-instance_method" title="RDoc::Parser::RubyTools#skip_tkspace (method)">#skip_tkspace</a></td>
      <td><div class='inline'><p>Skips whitespace tokens including newlines if <code>skip_nl</code> is true.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#token_listener-instance_method" title="RDoc::Parser::RubyTools#token_listener (method)">#token_listener</a></td>
      <td><div class='inline'><p>Has <code>obj</code> listen to tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="RubyTools.html#unget_tk-instance_method" title="RDoc::Parser::RubyTools#unget_tk (method)">#unget_tk</a></td>
      <td><div class='inline'><p>Returns <code>tk</code> to the scanner.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../TokenStream.html" title="RDoc::TokenStream (module)">::RDoc::TokenStream</a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#add_token-instance_method" title="RDoc::TokenStream#add_token (method)">#add_token</a></td>
      <td><div class='inline'><p><a href="../Alias.html" title="RDoc::Alias (class)">::RDoc::Alias</a> for <a href="../TokenStream.html#add_tokens-instance_method" title="RDoc::TokenStream#add_tokens (method)">TokenStream#add_tokens</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#add_tokens-instance_method" title="RDoc::TokenStream#add_tokens (method)">#add_tokens</a></td>
      <td><div class='inline'><p>Adds <code>tokens</code> to the collected tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#collect_tokens-instance_method" title="RDoc::TokenStream#collect_tokens (method)">#collect_tokens</a></td>
      <td><div class='inline'><p>Starts collecting tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#pop_token-instance_method" title="RDoc::TokenStream#pop_token (method)">#pop_token</a></td>
      <td><div class='inline'><p>Remove the last token from the collected tokens.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#start_collecting_tokens-instance_method" title="RDoc::TokenStream#start_collecting_tokens (method)">#start_collecting_tokens</a></td>
      <td><div class='inline'><p><a href="../Alias.html" title="RDoc::Alias (class)">::RDoc::Alias</a> for <a href="../TokenStream.html#collect_tokens-instance_method" title="RDoc::TokenStream#collect_tokens (method)">TokenStream#collect_tokens</a>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#token_stream-instance_method" title="RDoc::TokenStream#token_stream (method)">#token_stream</a></td>
      <td><div class='inline'><p>Current token stream.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../TokenStream.html#tokens_to_s-instance_method" title="RDoc::TokenStream#tokens_to_s (method)">#tokens_to_s</a></td>
      <td><div class='inline'><p>Returns a string representation of the token stream.</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(top_level, file_name, content, options, stats)  &#x21d2; <code>Ruby</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>Ruby</code> parser.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L163-L176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='163' data-end='176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 163</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_top_level'>top_level</span><span class='comma'>,</span> <span class='id identifier rubyid_file_name'><a href="../Parser.html#file_name-instance_method" title="RDoc::Parser#file_name (method)">file_name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_stats'>stats</span>)
  <span class='kw'>super</span>

  <span class='ivar'>@size</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@token_listeners</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@scanner</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../RubyLex.html" title="RDoc::RubyLex (class)">RubyLex</a></span>.<span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_content'>content</span><span class='comma'>,</span> <span class='ivar'>@options</span>
  <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_exception_on_syntax_error'>exception_on_syntax_error</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@prev_seek</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@markup</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_markup'>markup</span>
  <span class='ivar'>@track_visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_nodoc'>nodoc</span> <span class='op'>!=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_visibility'>visibility</span>
  <span class='ivar'>@encoding</span> <span class='op'>=</span> <span class='ivar'>@options</span>.<span class='id identifier rubyid_encoding'>encoding</span>

  <span class='id identifier rubyid_reset'>reset</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="collect_first_comment-instance_method">
  <h3 class='signature  first'>
    #<strong>collect_first_comment</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Look for the first comment in a file that isn&#39;t a shebang line.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L224-L259'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='224' data-end='259'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 224</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_collect_first_comment'>collect_first_comment</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span> <span class='ivar'>@encoding</span> <span class='kw'>if</span> <span class='ivar'>@encoding</span>
  <span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_first_comment_tk_class'>first_comment_tk_class</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>while</span> <span class='const'>TkCOMMENT</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_first_line'>first_line</span> <span class='kw'>and</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#!</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
      <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_first_line'>first_line</span> <span class='kw'>and</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A#\s*-\*-</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
      <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='kw'>else</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_first_comment_tk_class'>first_comment_tk_class</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_first_comment_tk_class'>first_comment_tk_class</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span>
      <span class='id identifier rubyid_first_comment_tk_class'>first_comment_tk_class</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_class'>class</span>

      <span class='id identifier rubyid_first_line'>first_line</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_comment'>comment</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

      <span class='kw'>if</span> <span class='const'>TkNL</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
        <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='id identifier rubyid_new_comment'><a href="#new_comment-instance_method" title="RDoc::Parser::Ruby#new_comment (method)">new_comment</a></span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="error-instance_method">
  <h3 class='signature '>
    #<strong>error</strong>(msg)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Aborts with <code>msg</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L299-L303'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='299' data-end='303'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 299</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_error'>error</span>(<span class='id identifier rubyid_msg'>msg</span>)
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='id identifier rubyid_make_message'><a href="#make_message-instance_method" title="RDoc::Parser::Ruby#make_message (method)">make_message</a></span> <span class='id identifier rubyid_msg'>msg</span>

  <span class='id identifier rubyid_abort'>abort</span> <span class='id identifier rubyid_msg'>msg</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_bool-instance_method">
  <h3 class='signature '>
    #<strong>get_bool</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Looks for a true or false token.  Returns false if TkFALSE or TkNIL are found.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L309-L321'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='309' data-end='321'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 309</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_bool'>get_bool</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>when</span> <span class='const'>TkTRUE</span>
    <span class='kw'>true</span>
  <span class='kw'>when</span> <span class='const'>TkFALSE</span><span class='comma'>,</span> <span class='const'>TkNIL</span>
    <span class='kw'>false</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_class_or_module-instance_method">
  <h3 class='signature '>
    #<strong>get_class_or_module</strong>(container, ignore_constants = false)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    <dl class="rdoc-list note-list"><dt>Look for the name of a class of module (optionally with a leading 
<dd>
<p>or</p>
</dd><dt>with 
<dd>
<p>separated named) and return the ultimate name, the associated</p>
</dd></dl>

<p>container, and the given name (with the ::).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L328-L368'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='328' data-end='368'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 328</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_class_or_module'>get_class_or_module</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_constants'>ignore_constants</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='id identifier rubyid_name_t'>name_t</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># class ::A -&gt; A is in the top level
</span>  <span class='kw'>case</span> <span class='id identifier rubyid_name_t'>name_t</span>
  <span class='kw'>when</span> <span class='const'>TkCOLON2</span><span class='comma'>,</span> <span class='const'>TkCOLON3</span> <span class='kw'>then</span> <span class='comment'># bug
</span>    <span class='id identifier rubyid_name_t'>name_t</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='ivar'>@top_level</span>
    <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_name'>name</span>

  <span class='kw'>while</span> <span class='const'>TkCOLON2</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_prev_container'>prev_container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_find_module_named'>find_module_named</span> <span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_container'>container</span> <span class='op'>||=</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_ignore_constants'>ignore_constants</span> <span class='kw'>then</span>
        <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Context.html" title="RDoc::Context (class)">Context</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_prev_container'>prev_container</span>.<span class='id identifier rubyid_add_module'>add_module</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_name'>name</span>
        <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_ignore'>ignore</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prev_container'>prev_container</span>.<span class='id identifier rubyid_document_children'>document_children</span>
        <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_to_classes_or_modules'>add_to_classes_or_modules</span> <span class='id identifier rubyid_c'>c</span>
        <span class='id identifier rubyid_c'>c</span>
      <span class='kw'>end</span>

    <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_container'>container</span>

    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_name_t'>name_t</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_name'>name</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='kw'>return</span> [<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='id identifier rubyid_given_name'>given_name</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_class_specification-instance_method">
  <h3 class='signature '>
    #<strong>get_class_specification</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Return a superclass, which can be either a constant of an expression</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L373-L395'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='373' data-end='395'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 373</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_class_specification'>get_class_specification</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
  <span class='kw'>when</span> <span class='const'>TkSELF</span> <span class='kw'>then</span> <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>self</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>when</span> <span class='const'>TkGVAR</span> <span class='kw'>then</span> <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_get_constant'><a href="#get_constant-instance_method" title="RDoc::Parser::Ruby#get_constant (method)">get_constant</a></span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_get_tkread'>get_tkread</span> <span class='comment'># empty out read buffer
</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>when</span> <span class='const'>TkNL</span><span class='comma'>,</span> <span class='const'>TkCOMMENT</span><span class='comma'>,</span> <span class='const'>TkSEMICOLON</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>+=</span> <span class='id identifier rubyid_parse_call_parameters'><a href="#parse_call_parameters-instance_method" title="RDoc::Parser::Ruby#parse_call_parameters (method)">parse_call_parameters</a></span>(<span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_constant-instance_method">
  <h3 class='signature '>
    #<strong>get_constant</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse a constant, which might be qualified by one or more class or module names</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L401-L413'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='401' data-end='413'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 401</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_constant'>get_constant</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>while</span> <span class='const'>TkCOLON2</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>or</span> <span class='const'>TkCOLON3</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>or</span> <span class='const'>TkCONSTANT</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_res'>res</span> <span class='op'>+=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_constant_with_optional_parens-instance_method">
  <h3 class='signature '>
    #<strong>get_constant_with_optional_parens</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Get a constant that may be surrounded by parens</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L418-L438'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='418' data-end='438'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 418</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_constant_with_optional_parens'>get_constant_with_optional_parens</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='kw'>while</span> <span class='const'>TkLPAREN</span> <span class='op'>===</span> (<span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>) <span class='kw'>or</span> <span class='const'>TkfLPAREN</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
    <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_constant'><a href="#get_constant-instance_method" title="RDoc::Parser::Ruby#get_constant (method)">get_constant</a></span>

  <span class='kw'>while</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='const'>TkRPAREN</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_symbol_or_name-instance_method">
  <h3 class='signature '>
    #<strong>get_symbol_or_name</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts a name or symbol from the token stream.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L505-L527'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='505' data-end='527'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 505</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_symbol_or_name'>get_symbol_or_name</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>when</span> <span class='const'><a href="../RubyToken/TkSYMBOL.html" title="RDoc::RubyToken::TkSYMBOL (class)">TkSYMBOL</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^:</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)

    <span class='kw'>if</span> <span class='const'>TkASSIGN</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_get_tk'>get_tk</span>
      <span class='id identifier rubyid_text'>text</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_text'>text</span>
  <span class='kw'>when</span> <span class='const'><a href="../RubyToken/TkId.html" title="RDoc::RubyToken::TkId (class)">TkId</a></span><span class='comma'>,</span> <span class='const'><a href="../RubyToken/TkOp.html" title="RDoc::RubyToken::TkOp (class)">TkOp</a></span> <span class='kw'>then</span>
    <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_name'>name</span>
  <span class='kw'>when</span> <span class='const'>TkAMPER</span><span class='comma'>,</span>
       <span class='const'>TkDSTRING</span><span class='comma'>,</span>
       <span class='const'>TkSTAR</span><span class='comma'>,</span>
       <span class='const'>TkSTRING</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name or symbol expected (got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk'>tk</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="look_for_directives_in-instance_method">
  <h3 class='signature '>
    #<strong>look_for_directives_in</strong>(context, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Look for directives in a normal comment block:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># :stopdoc:
</span><span class='comment'># Don&#39;t display comment from this point forward</span></code></pre>

<p>This routine modifies its <code>comment</code> parameter.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L551-L565'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='551' data-end='565'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 551</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_look_for_directives_in'>look_for_directives_in</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='ivar'>@preprocess</span>.<span class='id identifier rubyid_handle'>handle</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_directive'>directive</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>singleton-method</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_accessor</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='kw'>false</span> <span class='comment'># handled elsewhere
</span>    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>section</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span>
      <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_set_current_section'>set_current_section</span> <span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_remove_private_comments'><a href="#remove_private_comments-instance_method" title="RDoc::Parser::Ruby#remove_private_comments (method)">remove_private_comments</a></span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="make_message-instance_method">
  <h3 class='signature '>
    #<strong>make_message</strong>(message)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Adds useful info about the parser to <code>message</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L570-L576'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='570' data-end='576'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 570</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_make_message'>make_message</span> <span class='id identifier rubyid_message'>message</span>
  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@scanner</span>.<span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@scanner</span>.<span class='id identifier rubyid_char_no'>char_no</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@scanner</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new_comment-instance_method">
  <h3 class='signature '>
    #<strong>new_comment</strong>(comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a comment with the correct format</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L581-L585'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='581' data-end='585'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 581</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new_comment'>new_comment</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Comment.html" title="RDoc::Comment (class)">Comment</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@top_level</span>
  <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='ivar'>@markup</span>
  <span class='id identifier rubyid_c'>c</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_alias-instance_method">
  <h3 class='signature '>
    #<strong>parse_alias</strong>(context, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses an <code>alias</code> in <code>context</code> with <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L653-L691'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='653' data-end='691'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 653</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_alias'>parse_alias</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>

  <span class='kw'>if</span> <span class='const'>TkLPAREN</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new_name'>new_name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_symbol_or_name'><a href="#get_symbol_or_name-instance_method" title="RDoc::Parser::Ruby#get_symbol_or_name (method)">get_symbol_or_name</a></span>

  <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_lex_state'>lex_state</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'><a href="../RubyToken.html#EXPR_FNAME-constant" title="RDoc::RubyToken::EXPR_FNAME (constant)">EXPR_FNAME</a></span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='kw'>if</span> <span class='const'>TkCOMMA</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
  <span class='kw'>end</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_old_name'>old_name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_symbol_or_name'><a href="#get_symbol_or_name-instance_method" title="RDoc::Parser::Ruby#get_symbol_or_name (method)">get_symbol_or_name</a></span>
  <span class='kw'>rescue</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Error.html" title="RDoc::Error (class)">Error</a></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_al'>al</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Alias.html" title="RDoc::Alias (class)">Alias</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>(<span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_old_name'>old_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span>
                       <span class='id identifier rubyid_single'>single</span> <span class='op'>==</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span>)
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_al'>al</span>
  <span class='id identifier rubyid_al'>al</span>.<span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
  <span class='id identifier rubyid_al'>al</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_al'>al</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#ATTR_MODIFIERS-constant" title="RDoc::ATTR_MODIFIERS (constant)">ATTR_MODIFIERS</a></span>
  <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_add_alias'>add_alias</span> <span class='id identifier rubyid_al'>al</span>
  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_alias'>add_alias</span> <span class='id identifier rubyid_al'>al</span>

  <span class='id identifier rubyid_al'>al</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_attr-instance_method">
  <h3 class='signature '>
    #<strong>parse_attr</strong>(context, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> for the name following <code>tk</code>, setting the comment to <code>comment</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L591-L616'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='591' data-end='616'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 591</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_attr'>parse_attr</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span> <span class='int'>1</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>]
    <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

    <span class='kw'>if</span> <span class='const'>TkCOMMA</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RW</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_get_bool'><a href="#get_bool-instance_method" title="RDoc::Parser::Ruby#get_bool (method)">get_bool</a></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='id identifier rubyid_att'>att</span>.<span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
    <span class='id identifier rubyid_att'>att</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

    <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_att'>att</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#ATTR_MODIFIERS-constant" title="RDoc::ATTR_MODIFIERS (constant)">ATTR_MODIFIERS</a></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;attr&#39; ignored - looks like a variable</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_attr_accessor-instance_method">
  <h3 class='signature '>
    #<strong>parse_attr_accessor</strong>(context, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> for each attribute listed after <code>tk</code>, setting the comment for each to <code>comment</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L622-L648'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='622' data-end='648'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 622</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_attr_accessor'>parse_attr_accessor</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span>
  <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../CodeObject.html" title="RDoc::CodeObject (class)">CodeObject</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>
  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_tmp'>tmp</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#ATTR_MODIFIERS-constant" title="RDoc::ATTR_MODIFIERS (constant)">ATTR_MODIFIERS</a></span>
  <span class='comment'># TODO In most other places we let the context keep track of document_self
</span>  <span class='comment'># and add found items appropriately but here we do not.  I&#39;m not sure why.
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@track_visibility</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_tmp'>tmp</span>.<span class='id identifier rubyid_document_self'>document_self</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_name'>name</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&quot;</span></span>   <span class='kw'>then</span> <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&quot;</span></span>   <span class='kw'>then</span> <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>W</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>attr_accessor</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RW</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>?</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>for</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>in</span> <span class='id identifier rubyid_args'>args</span>
    <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='id identifier rubyid_att'>att</span>.<span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
    <span class='id identifier rubyid_att'>att</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_call_parameters-instance_method">
  <h3 class='signature '>
    #<strong>parse_call_parameters</strong>(tk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts call parameters from the token stream.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L696-L730'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='696' data-end='730'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 696</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_call_parameters'>parse_call_parameters</span>(<span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
              <span class='kw'>when</span> <span class='const'>TkLPAREN</span><span class='comma'>,</span> <span class='const'>TkfLPAREN</span>
                <span class='const'>TkRPAREN</span>
              <span class='kw'>when</span> <span class='const'>TkRPAREN</span>
                <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
              <span class='kw'>else</span>
                <span class='const'>TkNL</span>
              <span class='kw'>end</span>
  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>when</span> <span class='const'>TkSEMICOLON</span>
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='const'>TkLPAREN</span><span class='comma'>,</span> <span class='const'>TkfLPAREN</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_end_token'>end_token</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>==</span> <span class='const'>TkRPAREN</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_lex_state'>lex_state</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'><a href="../RubyToken.html#EXPR_END-constant" title="RDoc::RubyToken::EXPR_END (constant)">EXPR_END</a></span> <span class='kw'>and</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
      <span class='kw'>else</span>
        <span class='kw'>break</span> <span class='kw'>unless</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_continue'>continue</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='const'>TkCOMMENT</span><span class='comma'>,</span> <span class='const'>TkASSIGN</span><span class='comma'>,</span> <span class='const'><a href="../RubyToken/TkOPASGN.html" title="RDoc::RubyToken::TkOPASGN (class)">TkOPASGN</a></span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>)
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='kw'>nil</span> <span class='kw'>then</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_get_tkread_clean'><a href="#get_tkread_clean-instance_method" title="RDoc::Parser::Ruby#get_tkread_clean (method)">get_tkread_clean</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_class-instance_method">
  <h3 class='signature '>
    #<strong>parse_class</strong>(container, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a class in <code>context</code> with <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L735-L764'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='735' data-end='764'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 735</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_class'>parse_class</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_declaration_context'>declaration_context</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='id identifier rubyid_given_name'>given_name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_or_module'><a href="#get_class_or_module-instance_method" title="RDoc::Parser::Ruby#get_class_or_module (method)">get_class_or_module</a></span> <span class='id identifier rubyid_container'>container</span>

  <span class='id identifier rubyid_cls'>cls</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_name_t'>name_t</span>
    <span class='kw'>when</span> <span class='const'>TkCONSTANT</span>
      <span class='id identifier rubyid_parse_class_regular'><a href="#parse_class_regular-instance_method" title="RDoc::Parser::Ruby#parse_class_regular (method)">parse_class_regular</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_declaration_context'>declaration_context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span>
        <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='id identifier rubyid_given_name'>given_name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>when</span> <span class='const'>TkLSHFT</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_specification'><a href="#get_class_specification-instance_method" title="RDoc::Parser::Ruby#get_class_specification (method)">get_class_specification</a></span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>self</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_name'>name</span>
        <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span>
        <span class='kw'>return</span> <span class='comment'># don&#39;t update offset or line
</span>      <span class='kw'>else</span>
        <span class='id identifier rubyid_parse_class_singleton'><a href="#parse_class_singleton-instance_method" title="RDoc::Parser::Ruby#parse_class_singleton (method)">parse_class_singleton</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected class name or &#39;&lt;&lt;&#39;. Got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>return</span>
    <span class='kw'>end</span>

  <span class='id identifier rubyid_cls'>cls</span>.<span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
  <span class='id identifier rubyid_cls'>cls</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_cls'>cls</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_comment-instance_method">
  <h3 class='signature '>
    #<strong>parse_comment</strong>(container, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Generates an <code>RDoc::Method</code> or <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a> from <code>comment</code> by looking for :method: or :attr: directives in <code>comment</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L950-L974'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='950' data-end='974'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 950</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_comment'>parse_comment</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_parse_comment_tomdoc'><a href="#parse_comment_tomdoc-instance_method" title="RDoc::Parser::Ruby#parse_comment_tomdoc (method)">parse_comment_tomdoc</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>if</span> <span class='ivar'>@markup</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tomdoc</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_column'>column</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_char_no'>char_no</span>
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>

  <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^# +:?)(singleton-)(method:)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1\3</span><span class='tstring_end'>&#39;</span></span>)

  <span class='id identifier rubyid_co'>co</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^# +:?method: *(\S*).*?\n</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_comment_ghost'><a href="#parse_comment_ghost-instance_method" title="RDoc::Parser::Ruby#parse_comment_ghost (method)">parse_comment_ghost</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='id identifier rubyid_column'>column</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'># +:?(attr(_reader|_writer|_accessor)?): *(\S*).*?\n</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_comment_attr'><a href="#parse_comment_attr-instance_method" title="RDoc::Parser::Ruby#parse_comment_attr (method)">parse_comment_attr</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='backref'>$1</span><span class='comma'>,</span> <span class='backref'>$3</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_co'>co</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_co'>co</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_singleton'>singleton</span>
    <span class='id identifier rubyid_co'>co</span>.<span class='id identifier rubyid_offset'>offset</span>    <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
    <span class='id identifier rubyid_co'>co</span>.<span class='id identifier rubyid_line'>line</span>      <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='kw'>end</span>

  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_comment_tomdoc-instance_method">
  <h3 class='signature '>
    #<strong>parse_comment_tomdoc</strong>(container, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates an <code>RDoc::Method</code> on <code>container</code> from <code>comment</code> if there is a Signature section in the comment</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1032-L1063'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1032' data-end='1063'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1032</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_comment_tomdoc'>parse_comment_tomdoc</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_signature'>signature</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../TomDoc.html" title="RDoc::TomDoc (class)">TomDoc</a></span>.<span class='id identifier rubyid_signature'>signature</span>(<span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_signature'>signature</span>.<span class='id identifier rubyid_split'>split</span> <span class='tstring'><span class='regexp_beg'>%r%</span><span class='tstring_content'>[ \(]</span><span class='regexp_end'>%</span></span><span class='comma'>,</span> <span class='int'>2</span>

  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../GhostMethod.html" title="RDoc::GhostMethod (class)">GhostMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_offset'>offset</span>    <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_line'>line</span>      <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='const'>TkSPACE</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>
  <span class='id identifier rubyid_indent'>indent</span>.<span class='id identifier rubyid_set_text'>set_text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_offset'>offset</span>

  <span class='id identifier rubyid_position_comment'>position_comment</span> <span class='op'>=</span> <span class='const'>TkCOMMENT</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='int'>1</span>
  <span class='id identifier rubyid_position_comment'>position_comment</span>.<span class='id identifier rubyid_set_text'>set_text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># File </span><span class='embexpr_beg'>#{</span><span class='ivar'>@top_level</span>.<span class='id identifier rubyid_relative_name'>relative_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> [<span class='id identifier rubyid_position_comment'>position_comment</span><span class='comma'>,</span> <span class='const'><a href="../RubyToken.html#NEWLINE_TOKEN-constant" title="RDoc::RubyToken::NEWLINE_TOKEN (constant)">NEWLINE_TOKEN</a></span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span>]

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_call_seq'>call_seq</span> <span class='op'>=</span> <span class='id identifier rubyid_signature'>signature</span>

  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_constant-instance_method">
  <h3 class='signature '>
    #<strong>parse_constant</strong>(container, tk, comment, ignore_constants = false)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a constant in <code>context</code> with <code>comment</code>.  If <code>ignore_constants</code> is true, no found constants will be added to <a href="../RDoc.html" title="RDoc::RDoc (class)">::RDoc::RDoc</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L847-L896'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='847' data-end='896'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 847</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_constant'>parse_constant</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_constants'>ignore_constants</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\w+$</span><span class='regexp_end'>/</span></span>

  <span class='id identifier rubyid_eq_tk'>eq_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>if</span> <span class='const'>TkCOLON2</span> <span class='op'>===</span> <span class='id identifier rubyid_eq_tk'>eq_tk</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_eq_tk'>eq_tk</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>

    <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_or_module'><a href="#get_class_or_module-instance_method" title="RDoc::Parser::Ruby#get_class_or_module (method)">get_class_or_module</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_constants'>ignore_constants</span>

    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_name'>name</span>

    <span class='id identifier rubyid_eq_tk'>eq_tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='const'>TkASSIGN</span> <span class='op'>===</span> <span class='id identifier rubyid_eq_tk'>eq_tk</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_eq_tk'>eq_tk</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='const'>TkGT</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_eq_tk'>eq_tk</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_con'>con</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Constant.html" title="RDoc::Constant (class)">Constant</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_constant_body'><a href="#parse_constant_body-instance_method" title="RDoc::Parser::Ruby#parse_constant_body (method)">parse_constant_body</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_con'>con</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_body'>body</span>

  <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_replace'>replace</span> <span class='id identifier rubyid_body'>body</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_con'>con</span>
  <span class='id identifier rubyid_con'>con</span>.<span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
  <span class='id identifier rubyid_con'>con</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_con'>con</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CONSTANT_MODIFIERS-constant" title="RDoc::CONSTANT_MODIFIERS (constant)">CONSTANT_MODIFIERS</a></span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_constant'>add_constant</span> <span class='id identifier rubyid_con'>con</span>
  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_constant'>add_constant</span> <span class='id identifier rubyid_con'>con</span>

  <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_meta_attr-instance_method">
  <h3 class='signature '>
    #<strong>parse_meta_attr</strong>(context, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a meta-programmed attribute and creates an <a href="../Attr.html" title="RDoc::Attr (class)">::RDoc::Attr</a>.</p>

<p>To create foo and bar attributes on class <a href="C.html" title="RDoc::Parser::C (class)">C</a> with comment “My attributes”:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'><a href="C.html" title="RDoc::Parser::C (class)">C</a></span>

  <span class='comment'>##
</span>  <span class='comment'># :attr:
</span>  <span class='comment'>#
</span>  <span class='comment'># My attributes
</span>
  <span class='id identifier rubyid_my_attr'>my_attr</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>

<span class='kw'>end</span></code></pre>

<p>To create a foo attribute on class <a href="C.html" title="RDoc::Parser::C (class)">C</a> with comment “My attribute”:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'><a href="C.html" title="RDoc::Parser::C (class)">C</a></span>

  <span class='comment'>##
</span>  <span class='comment'># :attr: foo
</span>  <span class='comment'>#
</span>  <span class='comment'># My attribute
</span>
  <span class='id identifier rubyid_my_attr'>my_attr</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>

<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1152-L1179'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1152' data-end='1179'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1152</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_meta_attr'>parse_meta_attr</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_symbol_arg'><a href="#parse_symbol_arg-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg (method)">parse_symbol_arg</a></span>
  <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># If nodoc is given, don&#39;t document any of them
</span>
  <span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../CodeObject.html" title="RDoc::CodeObject (class)">CodeObject</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>
  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_tmp'>tmp</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#ATTR_MODIFIERS-constant" title="RDoc::ATTR_MODIFIERS (constant)">ATTR_MODIFIERS</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^# +:?(attr(_reader|_writer|_accessor)?): *(\S*).*?\n</span><span class='regexp_end'>/i</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>then</span>
    <span class='id identifier rubyid_rw'>rw</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='backref'>$1</span>
         <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_reader</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>
         <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>attr_writer</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>W</span><span class='tstring_end'>&#39;</span></span>
         <span class='kw'>else</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RW</span><span class='tstring_end'>&#39;</span></span>
         <span class='kw'>end</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='backref'>$3</span> <span class='kw'>unless</span> <span class='backref'>$3</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_attr_name'>attr_name</span><span class='op'>|</span>
      <span class='id identifier rubyid_att'>att</span> <span class='op'>=</span> <span class='id identifier rubyid_create_attr'><a href="#create_attr-instance_method" title="RDoc::Parser::Ruby#create_attr (method)">create_attr</a></span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_attr_name'>attr_name</span><span class='comma'>,</span> <span class='id identifier rubyid_rw'>rw</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_att'>att</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_meta_method-instance_method">
  <h3 class='signature '>
    #<strong>parse_meta_method</strong>(container, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a meta-programmed method</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1184-L1225'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1184' data-end='1225'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1184</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_meta_method'>parse_meta_method</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_column'>column</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_char_no'>char_no</span>
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_add_token'>add_token</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='id identifier rubyid_add_token_listener'>add_token_listener</span> <span class='kw'>self</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^# +:?)(singleton-)(method:)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1\3</span><span class='tstring_end'>&#39;</span></span>)

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_meta_method_name'><a href="#parse_meta_method_name-instance_method" title="RDoc::Parser::Ruby#parse_meta_method_name (method)">parse_meta_method_name</a></span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../MetaMethod.html" title="RDoc::MetaMethod (class)">MetaMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_singleton'>singleton</span>

  <span class='id identifier rubyid_remove_token_listener'>remove_token_listener</span> <span class='kw'>self</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='const'>TkSPACE</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>
  <span class='id identifier rubyid_indent'>indent</span>.<span class='id identifier rubyid_set_text'>set_text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_column'>column</span>

  <span class='id identifier rubyid_position_comment'>position_comment</span> <span class='op'>=</span> <span class='const'>TkCOMMENT</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='int'>1</span>
  <span class='id identifier rubyid_position_comment'>position_comment</span>.<span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># File </span><span class='embexpr_beg'>#{</span><span class='ivar'>@top_level</span>.<span class='id identifier rubyid_relative_name'>relative_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> [<span class='id identifier rubyid_position_comment'>position_comment</span><span class='comma'>,</span> <span class='const'><a href="../RubyToken.html#NEWLINE_TOKEN-constant" title="RDoc::RubyToken::NEWLINE_TOKEN (constant)">NEWLINE_TOKEN</a></span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span>]
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> <span class='ivar'>@token_stream</span>

  <span class='id identifier rubyid_parse_meta_method_params'><a href="#parse_meta_method_params-instance_method" title="RDoc::Parser::Ruby#parse_meta_method_params (method)">parse_meta_method_params</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method-instance_method">
  <h3 class='signature '>
    #<strong>parse_method</strong>(container, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a normal method defined by <code>def</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1289-L1332'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1289' data-end='1332'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1289</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method'>parse_method</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_added_container'>added_container</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_column'>column</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_char_no'>char_no</span>
  <span class='id identifier rubyid_offset'>offset</span>  <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_seek'>seek</span>
  <span class='id identifier rubyid_line_no'>line_no</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_add_token'>add_token</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='id identifier rubyid_token_listener'>token_listener</span> <span class='kw'>self</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_prev_container'>prev_container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_method_name'><a href="#parse_method_name-instance_method" title="RDoc::Parser::Ruby#parse_method_name (method)">parse_method_name</a></span> <span class='id identifier rubyid_container'>container</span>
    <span class='id identifier rubyid_added_container'>added_container</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span> <span class='op'>!=</span> <span class='id identifier rubyid_prev_container'>prev_container</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='id identifier rubyid_get_tkread'>get_tkread</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_single'>single</span> <span class='op'>==</span> <span class='const'><a href="#SINGLE-constant" title="RDoc::Parser::Ruby::SINGLE (constant)">SINGLE</a></span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='id identifier rubyid_singleton'>singleton</span>

  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_line'>line</span>   <span class='op'>=</span> <span class='id identifier rubyid_line_no'>line_no</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_start_collecting_tokens'>start_collecting_tokens</span>
  <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='const'>TkSPACE</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span>
  <span class='id identifier rubyid_indent'>indent</span>.<span class='id identifier rubyid_set_text'>set_text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_column'>column</span>

  <span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> <span class='const'>TkCOMMENT</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='int'>1</span>
  <span class='id identifier rubyid_token'>token</span>.<span class='id identifier rubyid_set_text'>set_text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># File </span><span class='embexpr_beg'>#{</span><span class='ivar'>@top_level</span>.<span class='id identifier rubyid_relative_name'>relative_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> [<span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='const'><a href="../RubyToken.html#NEWLINE_TOKEN-constant" title="RDoc::RubyToken::NEWLINE_TOKEN (constant)">NEWLINE_TOKEN</a></span><span class='comma'>,</span> <span class='id identifier rubyid_indent'>indent</span>]
  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_add_tokens'>add_tokens</span> <span class='ivar'>@token_stream</span>

  <span class='id identifier rubyid_parse_method_params_and_body'><a href="#parse_method_params_and_body-instance_method" title="RDoc::Parser::Ruby#parse_method_params_and_body (method)">parse_method_params_and_body</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_added_container'>added_container</span>

  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_normalize'>normalize</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_extract_call_seq'>extract_call_seq</span> <span class='id identifier rubyid_meth'>meth</span>

  <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_dummy-instance_method">
  <h3 class='signature '>
    #<strong>parse_method_dummy</strong>(container)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a method that needs to be ignored.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1368-L1373'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1368' data-end='1373'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1368</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_dummy'>parse_method_dummy</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_dummy'>dummy</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Context.html" title="RDoc::Context (class)">Context</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>
  <span class='id identifier rubyid_dummy'>dummy</span>.<span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_dummy'>dummy</span>.<span class='id identifier rubyid_store'>store</span>  <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_store'>store</span>
  <span class='id identifier rubyid_skip_method'><a href="#skip_method-instance_method" title="RDoc::Parser::Ruby#skip_method (method)">skip_method</a></span> <span class='id identifier rubyid_dummy'>dummy</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_or_yield_parameters-instance_method">
  <h3 class='signature '>
    #<strong>parse_method_or_yield_parameters</strong>(method = nil, modifiers = RDoc::METHOD_MODIFIERS)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts <code>yield</code> parameters from <code>method</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1478-L1524'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1478' data-end='1524'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1478</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_or_yield_parameters'>parse_method_or_yield_parameters</span>(<span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                                     <span class='id identifier rubyid_modifiers'>modifiers</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#METHOD_MODIFIERS-constant" title="RDoc::METHOD_MODIFIERS (constant)">METHOD_MODIFIERS</a></span>)
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>=</span> <span class='id identifier rubyid_get_end_token'><a href="#get_end_token-instance_method" title="RDoc::Parser::Ruby#get_end_token (method)">get_end_token</a></span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_end_token'>end_token</span>

  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>when</span> <span class='const'>TkSEMICOLON</span> <span class='kw'>then</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='const'>TkLBRACE</span><span class='comma'>,</span> <span class='const'>TkfLBRACE</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='const'>TkRBRACE</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
        <span class='comment'># we might have a.each { |i| yield i }
</span>        <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>) <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;</span> <span class='int'>0</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='const'>TkLPAREN</span><span class='comma'>,</span> <span class='const'>TkfLPAREN</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_end_token'>end_token</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>==</span> <span class='const'>TkRPAREN</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
      <span class='kw'>else</span>
        <span class='kw'>break</span> <span class='kw'>unless</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_continue'>continue</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='const'>TkRPAREN</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_method'>method</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='const'>TkCOMMENT</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
      <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_modifiers'>modifiers</span>
      <span class='ivar'>@read</span>.<span class='id identifier rubyid_pop'>pop</span>
    <span class='kw'>when</span> <span class='const'>TkCOMMENT</span> <span class='kw'>then</span>
      <span class='ivar'>@read</span>.<span class='id identifier rubyid_pop'>pop</span>
    <span class='kw'>when</span> <span class='kw'>nil</span> <span class='kw'>then</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_get_tkread_clean'><a href="#get_tkread_clean-instance_method" title="RDoc::Parser::Ruby#get_tkread_clean (method)">get_tkread_clean</a></span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_parameters-instance_method">
  <h3 class='signature '>
    #<strong>parse_method_parameters</strong>(method)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Capture the method&#39;s parameters. Along the way, look for a comment containing:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># yields: ....</span></code></pre>

<p>and add this as the block_params for the method</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1534-L1544'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1534' data-end='1544'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1534</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_parameters'>parse_method_parameters</span> <span class='id identifier rubyid_method'>method</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_method_or_yield_parameters'><a href="#parse_method_or_yield_parameters-instance_method" title="RDoc::Parser::Ruby#parse_method_or_yield_parameters (method)">parse_method_or_yield_parameters</a></span> <span class='id identifier rubyid_method'>method</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_res'>res</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_res'>res</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\(</span><span class='regexp_end'>/</span></span>
  <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span> <span class='kw'>unless</span> <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_params'>params</span>

  <span class='kw'>return</span> <span class='kw'>if</span>  <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#METHOD_MODIFIERS-constant" title="RDoc::METHOD_MODIFIERS (constant)">METHOD_MODIFIERS</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_method_params_and_body-instance_method">
  <h3 class='signature '>
    #<strong>parse_method_params_and_body</strong>(container, single, meth, added_container)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses the parameters and body of <code>meth</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1337-L1363'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1337' data-end='1363'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1337</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_method_params_and_body'>parse_method_params_and_body</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='comma'>,</span> <span class='id identifier rubyid_added_container'>added_container</span>
  <span class='id identifier rubyid_token_listener'>token_listener</span> <span class='id identifier rubyid_meth'>meth</span> <span class='kw'>do</span>
    <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_continue'>continue</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_parse_method_parameters'><a href="#parse_method_parameters-instance_method" title="RDoc::Parser::Ruby#parse_method_parameters (method)">parse_method_parameters</a></span> <span class='id identifier rubyid_meth'>meth</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_document_self'>document_self</span> <span class='kw'>or</span> <span class='kw'>not</span> <span class='ivar'>@track_visibility</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_method'>add_method</span> <span class='id identifier rubyid_meth'>meth</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_added_container'>added_container</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_self'>document_self</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='comment'># Having now read the method parameters and documentation modifiers, we
</span>    <span class='comment'># now know whether we have to rename #initialize to ::new
</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>initialize</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_dont_rename_initialize'>dont_rename_initialize</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_visibility'>visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_protected'>protected</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_meth'>meth</span>.<span class='id identifier rubyid_visibility'>visibility</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_public'>public</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_module-instance_method">
  <h3 class='signature '>
    #<strong>parse_module</strong>(container, single, tk, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses an <a href="../NormalModule.html" title="RDoc::NormalModule (class)">::RDoc::NormalModule</a> in <code>container</code> with <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1549-L1563'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1549' data-end='1563'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1549</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_module'>parse_module</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_name_t'>name_t</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_get_class_or_module'><a href="#get_class_or_module-instance_method" title="RDoc::Parser::Ruby#get_class_or_module (method)">get_class_or_module</a></span> <span class='id identifier rubyid_container'>container</span>

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_t'>name_t</span>.<span class='id identifier rubyid_name'>name</span>

  <span class='id identifier rubyid_mod'>mod</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_add_module'>add_module</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../NormalModule.html" title="RDoc::NormalModule (class)">NormalModule</a></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_ignore'>ignore</span> <span class='kw'>unless</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_children'>document_children</span>
  <span class='id identifier rubyid_record_location'><a href="#record_location-instance_method" title="RDoc::Parser::Ruby#record_location (method)">record_location</a></span> <span class='id identifier rubyid_mod'>mod</span>

  <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_mod'>mod</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CLASS_MODIFIERS-constant" title="RDoc::CLASS_MODIFIERS (constant)">CLASS_MODIFIERS</a></span>
  <span class='id identifier rubyid_mod'>mod</span>.<span class='id identifier rubyid_add_comment'>add_comment</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='ivar'>@top_level</span>
  <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_mod'>mod</span>

  <span class='ivar'>@stats</span>.<span class='id identifier rubyid_add_module'>add_module</span> <span class='id identifier rubyid_mod'>mod</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_require-instance_method">
  <h3 class='signature '>
    #<strong>parse_require</strong>(context, comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses an <a href="../Require.html" title="RDoc::Require (class)">::RDoc::Require</a> in <code>context</code> containing <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1568-L1584'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1568' data-end='1584'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1568</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_require'>parse_require</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

  <span class='kw'>if</span> <span class='const'>TkLPAREN</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span> <span class='kw'>if</span> <span class='const'>TkSTRING</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>then</span>
    <span class='ivar'>@top_level</span>.<span class='id identifier rubyid_add_require'>add_require</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Require.html" title="RDoc::Require (class)">Require</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span>(<span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_rescue-instance_method">
  <h3 class='signature '>
    #<strong>parse_rescue</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses a rescue</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1589-L1604'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1589' data-end='1604'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1589</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_rescue'>parse_rescue</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>when</span> <span class='const'>TkNL</span><span class='comma'>,</span> <span class='const'>TkSEMICOLON</span> <span class='kw'>then</span>
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='const'>TkCOMMA</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

      <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>if</span> <span class='const'>TkNL</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_statements-instance_method">
  <h3 class='signature '>
    #<strong>parse_statements</strong>(container, single = NORMAL, current_method = nil, comment = new_comment(&#39;&#39;))  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The core of the <code>Ruby</code> parser.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1609-L1764'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1609' data-end='1764'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1609</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_statements'>parse_statements</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span> <span class='op'>=</span> <span class='const'><a href="#NORMAL-constant" title="RDoc::Parser::Ruby::NORMAL (constant)">NORMAL</a></span><span class='comma'>,</span> <span class='id identifier rubyid_current_method'>current_method</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                     <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_new_comment'><a href="#new_comment-instance_method" title="RDoc::Parser::Ruby#new_comment (method)">new_comment</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>))
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Comment.html" title="RDoc::Comment (class)">Comment</a></span> <span class='op'>===</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span> <span class='ivar'>@encoding</span> <span class='kw'>if</span> <span class='ivar'>@encoding</span>

  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_save_visibility'>save_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_visibility'>visibility</span>

  <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='kw'>true</span>

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_try_parse_comment'>try_parse_comment</span> <span class='op'>=</span> <span class='kw'>false</span>

    <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='const'>TkCOMMENT</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>when</span> <span class='const'>TkNL</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span>
      <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

      <span class='kw'>if</span> <span class='const'>TkCOMMENT</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>then</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='kw'>then</span>
          <span class='comment'># Look for RDoc in a comment about to be thrown away
</span>          <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_comment'><a href="#parse_comment-instance_method" title="RDoc::Parser::Ruby#parse_comment (method)">parse_comment</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>unless</span>
            <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span>

          <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
          <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span> <span class='ivar'>@encoding</span> <span class='kw'>if</span> <span class='ivar'>@encoding</span>
        <span class='kw'>end</span>

        <span class='kw'>while</span> <span class='const'>TkCOMMENT</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_comment'>comment</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

          <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>

          <span class='kw'>if</span> <span class='const'>TkNL</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span> <span class='kw'>then</span>
            <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span> <span class='comment'># leading spaces
</span>            <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_new_comment'><a href="#new_comment-instance_method" title="RDoc::Parser::Ruby#new_comment (method)">new_comment</a></span> <span class='id identifier rubyid_comment'>comment</span>

        <span class='kw'>unless</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
          <span class='id identifier rubyid_look_for_directives_in'><a href="#look_for_directives_in-instance_method" title="RDoc::Parser::Ruby#look_for_directives_in (method)">look_for_directives_in</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

          <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_done_documenting'>done_documenting</span> <span class='kw'>then</span>
            <span class='id identifier rubyid_throw'>throw</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eof'>eof</span> <span class='kw'>if</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../TopLevel.html" title="RDoc::TopLevel (class)">TopLevel</a></span> <span class='op'>===</span> <span class='id identifier rubyid_container'>container</span>
            <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_ongoing_visibility'>ongoing_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_save_visibility'>save_visibility</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_tk'>tk</span>
      <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='kw'>true</span>

    <span class='kw'>when</span> <span class='const'>TkCLASS</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_class'><a href="#parse_class-instance_method" title="RDoc::Parser::Ruby#parse_class (method)">parse_class</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

    <span class='kw'>when</span> <span class='const'>TkMODULE</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_module'><a href="#parse_module-instance_method" title="RDoc::Parser::Ruby#parse_module (method)">parse_module</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

    <span class='kw'>when</span> <span class='const'>TkDEF</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_method'><a href="#parse_method-instance_method" title="RDoc::Parser::Ruby#parse_method (method)">parse_method</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

    <span class='kw'>when</span> <span class='const'>TkCONSTANT</span> <span class='kw'>then</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_parse_constant'><a href="#parse_constant-instance_method" title="RDoc::Parser::Ruby#parse_constant (method)">parse_constant</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_current_method'>current_method</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_try_parse_comment'>try_parse_comment</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>

    <span class='kw'>when</span> <span class='const'>TkALIAS</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_alias'><a href="#parse_alias-instance_method" title="RDoc::Parser::Ruby#parse_alias (method)">parse_alias</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>unless</span> <span class='id identifier rubyid_current_method'>current_method</span>

    <span class='kw'>when</span> <span class='const'>TkYIELD</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_current_method'>current_method</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Warning: yield outside of method</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_self'>document_self</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_parse_yield'><a href="#parse_yield-instance_method" title="RDoc::Parser::Ruby#parse_yield (method)">parse_yield</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_current_method'>current_method</span>
      <span class='kw'>end</span>

    <span class='comment'># Until and While can have a &#39;do&#39;, which shouldn&#39;t increase the nesting.
</span>    <span class='comment'># We can&#39;t solve the general case, but we can handle most occurrences by
</span>    <span class='comment'># ignoring a do at the end of a line.
</span>
    <span class='kw'>when</span> <span class='const'>TkUNTIL</span><span class='comma'>,</span> <span class='const'>TkWHILE</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='id identifier rubyid_skip_optional_do_after_expression'><a href="#skip_optional_do_after_expression-instance_method" title="RDoc::Parser::Ruby#skip_optional_do_after_expression (method)">skip_optional_do_after_expression</a></span>

    <span class='comment'># &#39;for&#39; is trickier
</span>    <span class='kw'>when</span> <span class='const'>TkFOR</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='id identifier rubyid_skip_for_variable'><a href="#skip_for_variable-instance_method" title="RDoc::Parser::Ruby#skip_for_variable (method)">skip_for_variable</a></span>
      <span class='id identifier rubyid_skip_optional_do_after_expression'><a href="#skip_optional_do_after_expression-instance_method" title="RDoc::Parser::Ruby#skip_optional_do_after_expression (method)">skip_optional_do_after_expression</a></span>

    <span class='kw'>when</span> <span class='const'>TkCASE</span><span class='comma'>,</span> <span class='const'>TkDO</span><span class='comma'>,</span> <span class='const'>TkIF</span><span class='comma'>,</span> <span class='const'>TkUNLESS</span><span class='comma'>,</span> <span class='const'>TkBEGIN</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>

    <span class='kw'>when</span> <span class='const'>TkSUPER</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_current_method'>current_method</span>.<span class='id identifier rubyid_calls_super'>calls_super</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_current_method'>current_method</span>

    <span class='kw'>when</span> <span class='const'>TkRESCUE</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_parse_rescue'><a href="#parse_rescue-instance_method" title="RDoc::Parser::Ruby#parse_rescue (method)">parse_rescue</a></span>

    <span class='kw'>when</span> <span class='const'>TkIDENTIFIER</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='id identifier rubyid_current_method'>current_method</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_identifier'><a href="#parse_identifier-instance_method" title="RDoc::Parser::Ruby#parse_identifier (method)">parse_identifier</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>end</span>

      <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_name'>name</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>require</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_require'><a href="#parse_require-instance_method" title="RDoc::Parser::Ruby#parse_require (method)">parse_require</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>include</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_extend_or_include'><a href="#parse_extend_or_include-instance_method" title="RDoc::Parser::Ruby#parse_extend_or_include (method)">parse_extend_or_include</a></span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Include.html" title="RDoc::Include (class)">Include</a></span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extend</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span>
        <span class='id identifier rubyid_parse_extend_or_include'><a href="#parse_extend_or_include-instance_method" title="RDoc::Parser::Ruby#parse_extend_or_include (method)">parse_extend_or_include</a></span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../Extend.html" title="RDoc::Extend (class)">Extend</a></span><span class='comma'>,</span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>end</span>

    <span class='kw'>when</span> <span class='const'>TkEND</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>0</span> <span class='kw'>then</span>
        <span class='id identifier rubyid_read_documentation_modifiers'><a href="#read_documentation_modifiers-instance_method" title="RDoc::Parser::Ruby#read_documentation_modifiers (method)">read_documentation_modifiers</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../../RDoc.html#CLASS_MODIFIERS-constant" title="RDoc::CLASS_MODIFIERS (constant)">CLASS_MODIFIERS</a></span>
        <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_ongoing_visibility'>ongoing_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_save_visibility'>save_visibility</span>

        <span class='id identifier rubyid_parse_comment'><a href="#parse_comment-instance_method" title="RDoc::Parser::Ruby#parse_comment (method)">parse_comment</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>unless</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span>

        <span class='kw'>return</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_try_parse_comment'>try_parse_comment</span> <span class='op'>=</span> <span class='id identifier rubyid_nest'>nest</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_try_parse_comment'>try_parse_comment</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_non_comment_seen'>non_comment_seen</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_comment'><a href="#parse_comment-instance_method" title="RDoc::Parser::Ruby#parse_comment (method)">parse_comment</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>unless</span>
        <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span>

      <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_keep_comment'>keep_comment</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_new_comment'><a href="#new_comment-instance_method" title="RDoc::Parser::Ruby#new_comment (method)">new_comment</a></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_force_encoding'>force_encoding</span> <span class='ivar'>@encoding</span> <span class='kw'>if</span> <span class='ivar'>@encoding</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_consume_trailing_spaces'><a href="#consume_trailing_spaces-instance_method" title="RDoc::Parser::Ruby#consume_trailing_spaces (method)">consume_trailing_spaces</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_symbol_arg-instance_method">
  <h3 class='signature '>
    #<strong>parse_symbol_arg</strong>(no = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parse up to <code>no</code> symbol arguments</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1769-L1778'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1769' data-end='1778'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1769</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_symbol_arg'>parse_symbol_arg</span>(<span class='id identifier rubyid_no'>no</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span>

  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>when</span> <span class='const'>TkLPAREN</span>
    <span class='id identifier rubyid_parse_symbol_arg_paren'><a href="#parse_symbol_arg_paren-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg_paren (method)">parse_symbol_arg_paren</a></span> <span class='id identifier rubyid_no'>no</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_parse_symbol_arg_space'><a href="#parse_symbol_arg_space-instance_method" title="RDoc::Parser::Ruby#parse_symbol_arg_space (method)">parse_symbol_arg_space</a></span> <span class='id identifier rubyid_no'>no</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_symbol_in_arg-instance_method">
  <h3 class='signature '>
    #<strong>parse_symbol_in_arg</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns symbol text from the next token</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1843-L1855'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1843' data-end='1855'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1843</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_symbol_in_arg'>parse_symbol_in_arg</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>when</span> <span class='const'><a href="../RubyToken/TkSYMBOL.html" title="RDoc::RubyToken::TkSYMBOL (class)">TkSYMBOL</a></span>
    <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span>.<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^:</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>)
  <span class='kw'>when</span> <span class='const'>TkSTRING</span>
    <span class='id identifier rubyid_eval'>eval</span> <span class='ivar'>@read</span>[<span class='op'>-</span><span class='int'>1</span>]
  <span class='kw'>when</span> <span class='const'>TkDSTRING</span><span class='comma'>,</span> <span class='const'>TkIDENTIFIER</span> <span class='kw'>then</span>
    <span class='kw'>nil</span> <span class='comment'># ignore
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_warn'><a href="#warn-instance_method" title="RDoc::Parser::Ruby#warn (method)">warn</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected symbol or string, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='gvar'>$DEBUG_RDOC</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_top_level_statements-instance_method">
  <h3 class='signature '>
    #<strong>parse_top_level_statements</strong>(container)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses statements in the top-level <code>container</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1860-L1873'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1860' data-end='1873'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1860</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_top_level_statements'>parse_top_level_statements</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_collect_first_comment'><a href="#collect_first_comment-instance_method" title="RDoc::Parser::Ruby#collect_first_comment (method)">collect_first_comment</a></span>

  <span class='id identifier rubyid_look_for_directives_in'><a href="#look_for_directives_in-instance_method" title="RDoc::Parser::Ruby#look_for_directives_in (method)">look_for_directives_in</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>

  <span class='id identifier rubyid_throw'>throw</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eof'>eof</span> <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_done_documenting'>done_documenting</span>

  <span class='ivar'>@markup</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_format'>format</span>

  <span class='comment'># HACK move if to RDoc::Context#comment=
</span>  <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span> <span class='kw'>if</span> <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_document_self'>document_self</span> <span class='kw'>unless</span> <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='const'><a href="#NORMAL-constant" title="RDoc::Parser::Ruby::NORMAL (constant)">NORMAL</a></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_visibility-instance_method">
  <h3 class='signature '>
    #<strong>parse_visibility</strong>(container, single, tk)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determines the visibility in <code>container</code> from <code>tk</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1878-L1894'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1878' data-end='1894'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1878</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_visibility'>parse_visibility</span>(<span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span>)
  <span class='id identifier rubyid_vis_type'>vis_type</span><span class='comma'>,</span> <span class='id identifier rubyid_vis'>vis</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span> <span class='op'>=</span> <span class='id identifier rubyid_get_visibility_information'><a href="#get_visibility_information-instance_method" title="RDoc::Parser::Ruby#get_visibility_information (method)">get_visibility_information</a></span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span>

  <span class='id identifier rubyid_skip_tkspace_comment'><a href="#skip_tkspace_comment-instance_method" title="RDoc::Parser::Ruby#skip_tkspace_comment (method)">skip_tkspace_comment</a></span> <span class='kw'>false</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
    <span class='comment'># Ryan Davis suggested the extension to ignore modifiers, because he
</span>    <span class='comment'># often writes
</span>    <span class='comment'>#
</span>    <span class='comment'>#   protected unless $TESTING
</span>    <span class='comment'>#
</span>  <span class='kw'>when</span> <span class='const'>TkNL</span><span class='comma'>,</span> <span class='const'>TkUNLESS_MOD</span><span class='comma'>,</span> <span class='const'>TkIF_MOD</span><span class='comma'>,</span> <span class='const'>TkSEMICOLON</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_container'>container</span>.<span class='id identifier rubyid_ongoing_visibility'>ongoing_visibility</span> <span class='op'>=</span> <span class='id identifier rubyid_vis'>vis</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_update_visibility'><a href="#update_visibility-instance_method" title="RDoc::Parser::Ruby#update_visibility (method)">update_visibility</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_vis_type'>vis_type</span><span class='comma'>,</span> <span class='id identifier rubyid_vis'>vis</span><span class='comma'>,</span> <span class='id identifier rubyid_singleton'>singleton</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_yield-instance_method">
  <h3 class='signature '>
    #<strong>parse_yield</strong>(context, single, tk, method)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Determines the block parameter for <code>context</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1899-L1905'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1899' data-end='1905'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1899</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_yield'>parse_yield</span>(<span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_single'>single</span><span class='comma'>,</span> <span class='id identifier rubyid_tk'>tk</span><span class='comma'>,</span> <span class='id identifier rubyid_method'>method</span>)
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span>

  <span class='id identifier rubyid_get_tkread'>get_tkread</span>
  <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_continue'>continue</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_method'>method</span>.<span class='id identifier rubyid_block_params'>block_params</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_method_or_yield_parameters'><a href="#parse_method_or_yield_parameters-instance_method" title="RDoc::Parser::Ruby#parse_method_or_yield_parameters (method)">parse_method_or_yield_parameters</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_directive-instance_method">
  <h3 class='signature '>
    #<strong>read_directive</strong>(allowed)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Directives are modifier comments that can appear after class, module, or method names. For example:</p>

<pre class="code ruby"><code class="ruby">def fred # :yields: a, b</code></pre>

<p>or:</p>

<pre class="code ruby"><code class="ruby">class MyClass # :nodoc:</code></pre>

<p>We return the directive name and any parameters as a two element array if the name is in <code>allowed</code>.  A directive can be found anywhere up to the end of the current line.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1921-L1946'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1921' data-end='1946'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1921</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_directive'>read_directive</span> <span class='id identifier rubyid_allowed'>allowed</span>
  <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>=</span> []

  <span class='kw'>while</span> <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_tokens'>tokens</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_tk'>tk</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>when</span> <span class='const'>TkNL</span><span class='comma'>,</span> <span class='const'>TkDEF</span> <span class='kw'>then</span>
      <span class='kw'>return</span>
    <span class='kw'>when</span> <span class='const'>TkCOMMENT</span> <span class='kw'>then</span>
      <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tk'>tk</span>.<span class='id identifier rubyid_text'>text</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s*:?([\w-]+):\s*(.*)</span><span class='regexp_end'>/</span></span>

      <span class='id identifier rubyid_directive'>directive</span> <span class='op'>=</span> <span class='backref'>$1</span>.<span class='id identifier rubyid_downcase'>downcase</span>

      <span class='kw'>return</span> [<span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='backref'>$2</span>] <span class='kw'>if</span> <span class='id identifier rubyid_allowed'>allowed</span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_directive'>directive</span>

      <span class='kw'>return</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='const'>TkCOMMENT</span> <span class='op'>===</span> <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_first'>first</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_tokens'>tokens</span>.<span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_token'>token</span><span class='op'>|</span>
      <span class='id identifier rubyid_unget_tk'>unget_tk</span> <span class='id identifier rubyid_token'>token</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_documentation_modifiers-instance_method">
  <h3 class='signature '>
    #<strong>read_documentation_modifiers</strong>(context, allowed)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Handles directives following the definition for <code>context</code> (any <a href="../CodeObject.html" title="RDoc::CodeObject (class)">::RDoc::CodeObject</a>) if the directives are <code>allowed</code> at this point.</p>

<p>See also <a href="../Markup/PreProcess.html#handle_directive-instance_method" title="RDoc::Markup::PreProcess#handle_directive (method)">Markup::PreProcess#handle_directive</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1954-L1966'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1954' data-end='1966'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1954</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_documentation_modifiers'>read_documentation_modifiers</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_allowed'>allowed</span>
  <span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_directive'><a href="#read_directive-instance_method" title="RDoc::Parser::Ruby#read_directive (method)">read_directive</a></span> <span class='id identifier rubyid_allowed'>allowed</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_directive'>directive</span>

  <span class='ivar'>@preprocess</span>.<span class='id identifier rubyid_handle_directive'>handle_directive</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_directive'>directive</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='id identifier rubyid_param'>param</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>notnew</span><span class='words_sep'> </span><span class='tstring_content'>not_new</span><span class='words_sep'> </span><span class='tstring_content'>not-new</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_dir'>dir</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_dont_rename_initialize'>dont_rename_initialize</span> <span class='op'>=</span> <span class='kw'>true</span>

      <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="remove_private_comments-instance_method">
  <h3 class='signature '>
    #<strong>remove_private_comments</strong>(comment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes private comments from <code>comment</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1986-L1988'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1986' data-end='1988'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1986</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_private_comments'>remove_private_comments</span> <span class='id identifier rubyid_comment'>comment</span>
  <span class='id identifier rubyid_comment'>comment</span>.<span class='id identifier rubyid_remove_private'>remove_private</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan-instance_method">
  <h3 class='signature '>
    #<strong>scan</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Scans this <code>Ruby</code> file for <code>Ruby</code> constructs</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L1993-L2031'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1993' data-end='2031'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 1993</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scan'>scan</span>
  <span class='id identifier rubyid_reset'>reset</span>

  <span class='id identifier rubyid_catch'>catch</span> <span class='symbeg'>:</span><span class='id identifier rubyid_eof'>eof</span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_parse_top_level_statements'><a href="#parse_top_level_statements-instance_method" title="RDoc::Parser::Ruby#parse_top_level_statements (method)">parse_top_level_statements</a></span> <span class='ivar'>@top_level</span>

    <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_bytes'>bytes</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

      <span class='int'>20</span>.<span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_ungetc'>ungetc</span> <span class='kw'>end</span>
      <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='int'>0</span>
      <span class='int'>60</span>.<span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span>
        <span class='id identifier rubyid_byte'>byte</span> <span class='op'>=</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_getc'>getc</span>
        <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_byte'>byte</span>
        <span class='id identifier rubyid_bytes'>bytes</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_byte'>byte</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_count'>count</span> <span class='op'>-=</span> <span class='int'>20</span>
      <span class='id identifier rubyid_count'>count</span>.<span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_ungetc'>ungetc</span> <span class='kw'>end</span>

      <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;-EOF</span>
<span class='tstring_content'>
</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> failure around line </span><span class='embexpr_beg'>#{</span><span class='ivar'>@scanner</span>.<span class='id identifier rubyid_line_no'>line_no</span><span class='embexpr_end'>}</span><span class='tstring_content'> of
</span><span class='embexpr_beg'>#{</span><span class='ivar'>@file_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>

</span><span class='heredoc_end'>      EOF
</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_bytes'>bytes</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>then</span>
        <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span>
        <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_bytes'>bytes</span>.<span class='id identifier rubyid_inspect'>inspect</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@top_level</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_for_variable-instance_method">
  <h3 class='signature '>
    #<strong>skip_for_variable</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>skip the var [in] part of a &#39;for&#39; statement</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L2078-L2084'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2078' data-end='2084'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2078</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_for_variable'>skip_for_variable</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_unget_tk'>unget_tk</span>(<span class='id identifier rubyid_tk'>tk</span>) <span class='kw'>unless</span> <span class='const'>TkIN</span> <span class='op'>===</span> <span class='id identifier rubyid_tk'>tk</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_method-instance_method">
  <h3 class='signature '>
    #<strong>skip_method</strong>(container)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Skips the next method in <code>container</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L2089-L2093'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2089' data-end='2093'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2089</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_method'>skip_method</span> <span class='id identifier rubyid_container'>container</span>
  <span class='id identifier rubyid_meth'>meth</span> <span class='op'>=</span> <span class='const'><a href="../RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="../AnyMethod.html" title="RDoc::AnyMethod (class)">AnyMethod</a></span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="RDoc::Parser::Ruby.new (method)">new</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>anon</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_parse_method_parameters'><a href="#parse_method_parameters-instance_method" title="RDoc::Parser::Ruby#parse_method_parameters (method)">parse_method_parameters</a></span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='id identifier rubyid_parse_statements'><a href="#parse_statements-instance_method" title="RDoc::Parser::Ruby#parse_statements (method)">parse_statements</a></span> <span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_optional_do_after_expression-instance_method">
  <h3 class='signature '>
    #<strong>skip_optional_do_after_expression</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>while, until, and for have an optional do</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L2036-L2073'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2036' data-end='2073'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2036</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_optional_do_after_expression'>skip_optional_do_after_expression</span>
  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>=</span> <span class='id identifier rubyid_get_end_token'><a href="#get_end_token-instance_method" title="RDoc::Parser::Ruby#get_end_token (method)">get_end_token</a></span> <span class='id identifier rubyid_tk'>tk</span>

  <span class='id identifier rubyid_b_nest'>b_nest</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_nest'>nest</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_continue'>continue</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_tk'>tk</span>
    <span class='kw'>when</span> <span class='const'>TkSEMICOLON</span> <span class='kw'>then</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_b_nest'>b_nest</span>.<span class='id identifier rubyid_zero?'>zero?</span>
    <span class='kw'>when</span> <span class='const'>TkLPAREN</span><span class='comma'>,</span> <span class='const'>TkfLPAREN</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_nest'>nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='const'>TkBEGIN</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_b_nest'>b_nest</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='const'>TkEND</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_b_nest'>b_nest</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>when</span> <span class='const'>TkDO</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_nest'>nest</span>.<span class='id identifier rubyid_zero?'>zero?</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_end_token'>end_token</span> <span class='kw'>then</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_end_token'>end_token</span> <span class='op'>==</span> <span class='const'>TkRPAREN</span>
        <span class='id identifier rubyid_nest'>nest</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_lex_state'>lex_state</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='const'><a href="../RubyToken.html#EXPR_END-constant" title="RDoc::RubyToken::EXPR_END (constant)">EXPR_END</a></span> <span class='kw'>and</span> <span class='id identifier rubyid_nest'>nest</span>.<span class='id identifier rubyid_zero?'>zero?</span>
      <span class='kw'>else</span>
        <span class='kw'>break</span> <span class='kw'>unless</span> <span class='ivar'>@scanner</span>.<span class='id identifier rubyid_continue'>continue</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='kw'>nil</span> <span class='kw'>then</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tk'>tk</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_get_tk'>get_tk</span> <span class='kw'>if</span> <span class='const'>TkDO</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="skip_tkspace_comment-instance_method">
  <h3 class='signature '>
    #<strong>skip_tkspace_comment</strong>(skip_nl = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Skip spaces until a comment is found</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L2098-L2104'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2098' data-end='2104'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2098</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_skip_tkspace_comment'>skip_tkspace_comment</span>(<span class='id identifier rubyid_skip_nl'>skip_nl</span> <span class='op'>=</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_skip_tkspace'>skip_tkspace</span> <span class='id identifier rubyid_skip_nl'>skip_nl</span>
    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'>TkCOMMENT</span> <span class='op'>===</span> <span class='id identifier rubyid_peek_tk'>peek_tk</span>
    <span class='id identifier rubyid_get_tk'>get_tk</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="warn-instance_method">
  <h3 class='signature '>
    #<strong>warn</strong>(message)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Prints <code>message</code> to <tt>$stderr</tt> unless we&#39;re being quiet</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v2_4_10/lib/rdoc/parser/ruby.rb#L2154-L2156'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='2154' data-end='2156'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/parser/ruby.rb', line 2154</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_warn'>warn</span> <span class='id identifier rubyid_message'>message</span>
  <span class='ivar'>@options</span>.<span class='id identifier rubyid_warn'>warn</span> <span class='id identifier rubyid_make_message'><a href="#make_message-instance_method" title="RDoc::Parser::Ruby#make_message (method)">make_message</a></span> <span class='id identifier rubyid_message'>message</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>