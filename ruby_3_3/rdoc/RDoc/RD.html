<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: RDoc::RD &mdash; rdoc  Ruby-3.3.1 p55</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "RDoc::RD",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-3.3.1</a> &raquo; 
      <a href='../'>rdoc</a> &raquo; 
      <a href='../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../RDoc.html" title="RDoc (module)">RDoc</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>RD&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: RDoc::RD</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="RD/BlockParser.html" title="RDoc::RD::BlockParser (class)"><code>BlockParser</code></a>,
        <a href="RD/Inline.html" title="RDoc::RD::Inline (class)"><code>Inline</code></a>,
        <a href="RD/InlineParser.html" title="RDoc::RD::InlineParser (class)"><code>InlineParser</code></a>      </div>
    </td></tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rdoc/rd.rb#L72'>lib/rdoc/rd.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rdoc/rd/block_parser.rb#L658'>lib/rdoc/rd/block_parser.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rdoc/rd/inline_parser.rb#L660'>lib/rdoc/rd/inline_parser.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>RD</code> implements the <code>RD</code> format from the rdtool gem.</p>

<p>To choose <code>RD</code> as your only default format see RDoc::Options@Saved+Options for instructions on setting up a <code>.doc_options</code> file to store your project default.</p>

<h3 id="label-LICENSE">LICENSE</h3>

<p>The grammar that produces <a href="RD/BlockParser.html" title="RDoc::RD::BlockParser (class)"><code>BlockParser</code></a> and <a href="RD/InlineParser.html" title="RDoc::RD::InlineParser (class)"><code>InlineParser</code></a> is included in <a href="RDoc.html" title="RDoc::RDoc (class)"><code>RDoc</code></a> under the Ruby License.</p>

<p>You can find the original source for rdtool at <a href="https://github.com/uwabami/rdtool">github.com/uwabami/rdtool</a>/</p>

<p>You can use, re-distribute or change these files under Ruby’s License or GPL.</p>
<ol><li>
<p>You may make and give away verbatim copies of the source form of the software without restriction, provided that you duplicate all of the original copyright notices and associated disclaimers.</p>
</li><li>
<p>You may modify your copy of the software in any way, provided that you do at least ONE of the following:</p>
<ol style="list-style-type: lower-alpha"><li>
<p>place your modifications in the Public Domain or otherwise make them Freely Available, such as by posting said modifications to Usenet or an equivalent medium, or by allowing the author to include your modifications in the software.</p>
</li><li>
<p>use the modified software only within your corporation or organization.</p>
</li><li>
<p>give non-standard binaries non-standard names, with instructions on where to get the original software distribution.</p>
</li><li>
<p>make other distribution arrangements with the author.</p>
</li></ol>
</li><li>
<p>You may distribute the software in object code or binary form, provided that you do at least ONE of the following:</p>
<ol style="list-style-type: lower-alpha"><li>
<p>distribute the binaries and library files of the software, together with instructions (in the manual page or equivalent) on where to get the original distribution.</p>
</li><li>
<p>accompany the distribution with the machine-readable source of the software.</p>
</li><li>
<p>give non-standard binaries non-standard names, with instructions on where to get the original software distribution.</p>
</li><li>
<p>make other distribution arrangements with the author.</p>
</li></ol>
</li><li>
<p>You may modify and include the part of the software into any other software (possibly commercial).  But some files in the distribution are not written by the author, so that they are not under these terms.</p>

<p>For the list of those files and their copying conditions, see the file LEGAL.</p>
</li><li>
<p>The scripts and library files supplied as input to or produced as output from the software do not automatically fall under the copyright of the software, but belong to whomever generated them, and may be sold commercially, and may be aggregated with this software.</p>
</li><li>
<p>THIS SOFTWARE IS PROVIDED “AS IS” AND WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.</p>
</li></ol>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#parse-class_method" title=".parse (class method)">.<strong>parse</strong>(rd)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Parses <code>rd</code> source and returns an <a href="Markup/Document.html" title="RDoc::Markup::Document (class)"><code>Markup::Document</code></a>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="parse-class_method">
  <h3 class='signature  first'>
    .<strong>parse</strong>(rd)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Parses <code>rd</code> source and returns an <a href="Markup/Document.html" title="RDoc::Markup::Document (class)"><code>Markup::Document</code></a>.  If the <code>=begin</code> or <code>=end</code> lines are missing they will be added.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rdoc/rd.rb#L78-L93'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='78' data-end='93'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rdoc/rd.rb', line 78</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_rd'>rd</span>
  <span class='id identifier rubyid_rd'>rd</span> <span class='op'>=</span> <span class='id identifier rubyid_rd'>rd</span>.<span class='id identifier rubyid_lines'>lines</span>.<span class='id identifier rubyid_to_a'>to_a</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_rd'>rd</span>.<span class='id identifier rubyid_find'>find</span> { <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\S</span><span class='regexp_end'>/</span></span> <span class='op'>===</span> <span class='id identifier rubyid_i'>i</span> } <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_rd'>rd</span>.<span class='id identifier rubyid_find'>find</span>{<span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^=begin\b</span><span class='regexp_end'>/</span></span> <span class='op'>===</span> <span class='id identifier rubyid_i'>i</span> } <span class='kw'>then</span>
    <span class='id identifier rubyid_rd'>rd</span>.<span class='id identifier rubyid_unshift'>unshift</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=begin\n</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_push'>push</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=end\n</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_parser'>parser</span> <span class='op'>=</span> <span class='const'><a href="RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'>RD</span><span class='op'>::</span><span class='const'><a href="RD/BlockParser.html" title="RDoc::RD::BlockParser (class)">BlockParser</a></span>.<span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_document'>document</span> <span class='op'>=</span> <span class='id identifier rubyid_parser'>parser</span>.<span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_rd'>rd</span>

  <span class='comment'># isn&#39;t this always true?
</span>  <span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_shift'>shift</span> <span class='kw'>if</span> <span class='const'><a href="RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="Markup.html" title="RDoc::Markup (class)">Markup</a></span><span class='op'>::</span><span class='const'>BlankLine</span> <span class='op'>===</span> <span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_pop'>pop</span>   <span class='kw'>if</span> <span class='const'><a href="RDoc.html" title="RDoc::RDoc (class)">RDoc</a></span><span class='op'>::</span><span class='const'><a href="Markup.html" title="RDoc::Markup (class)">Markup</a></span><span class='op'>::</span><span class='const'>BlankLine</span> <span class='op'>===</span> <span class='id identifier rubyid_document'>document</span>.<span class='id identifier rubyid_parts'>parts</span>.<span class='id identifier rubyid_last'>last</span>

  <span class='id identifier rubyid_document'>document</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>