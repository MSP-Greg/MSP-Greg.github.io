<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: IRB &mdash; irb  Ruby-3.3.9 p170</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "IRB",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.3.9</a> &raquo; 
      <a href='.'>irb</a> &raquo; 
      <a href='_index.html#alpha_I'>Index (I)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>IRB&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: IRB</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="IRB/Color.html" title="IRB::Color (module)"><code>Color</code></a>,
        <a href="IRB/Command.html" title="IRB::Command (module)"><code>Command</code></a>,
        <a href="IRB/Debug.html" title="IRB::Debug (module)"><code>Debug</code></a>,
        <a href="IRB/ExtendCommandBundle.html" title="IRB::ExtendCommandBundle (module)"><code>ExtendCommandBundle</code></a>,
        <a href="IRB/HelperMethod.html" title="IRB::HelperMethod (module)"><code>HelperMethod</code></a>,
        <a href="IRB/HelpersContainer.html" title="IRB::HelpersContainer (module)"><code>HelpersContainer</code></a>,
        <a class='nodoc' href="IRB/HistorySavingAbility.html" title="IRB::HistorySavingAbility (module)"><code>HistorySavingAbility</code></a>,
        <a href="IRB/InputCompletor.html" title="IRB::InputCompletor (module)"><code>InputCompletor</code></a>,
        <a href="IRB/IrbLoader.html" title="IRB::IrbLoader (module)"><code>IrbLoader</code></a>,
        <a href="IRB/NestingParser.html" title="IRB::NestingParser (module)"><code>NestingParser</code></a>,
        <a href="IRB/Notifier.html" title="IRB::Notifier (module)"><code>Notifier</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a class='nodoc' href="IRB/BaseCompletor.html" title="IRB::BaseCompletor (class)"><code>BaseCompletor</code></a>,
        <a href="IRB/CallTracer.html" title="IRB::CallTracer (class)"><code>CallTracer</code></a>,
        <a href="IRB/Canvas.html" title="IRB::Canvas (class)"><code>Canvas</code></a>,
        <a href="IRB/ColorPrinter.html" title="IRB::ColorPrinter (class)"><code>ColorPrinter</code></a>,
        <a href="IRB/Context.html" title="IRB::Context (class)"><code>Context</code></a>,
        <a href="IRB/EvalHistory.html" title="IRB::EvalHistory (class)"><code>EvalHistory</code></a>,
        <a href="IRB/FileInputMethod.html" title="IRB::FileInputMethod (class)"><code>FileInputMethod</code></a>,
        <a href="IRB/Frame.html" title="IRB::Frame (class)"><code>Frame</code></a>,
        <a href="IRB/InputMethod.html" title="IRB::InputMethod (class)"><code>InputMethod</code></a>,
        <a href="IRB/Inspector.html" title="IRB::Inspector (class)"><code>Inspector</code></a>,
        <a href="IRB/Irb.html" title="IRB::Irb (class)"><code>Irb</code></a>,
        <a class='nodoc' href="IRB/JobManager.html" title="IRB::JobManager (class)"><code>JobManager</code></a>,
        <a class='nodoc' href="IRB/Locale.html" title="IRB::Locale (class)"><code>Locale</code></a>,
        <a href="IRB/OutputMethod.html" title="IRB::OutputMethod (class)"><code>OutputMethod</code></a>,
        <a href="IRB/Pager.html" title="IRB::Pager (class)"><code>Pager</code></a>,
        <a href="IRB/ReadlineInputMethod.html" title="IRB::ReadlineInputMethod (class)"><code>ReadlineInputMethod</code></a>,
        <a class='nodoc' href="IRB/RegexpCompletor.html" title="IRB::RegexpCompletor (class)"><code>RegexpCompletor</code></a>,
        <a href="IRB/ReidlineInputMethod.html" title="IRB::ReidlineInputMethod (class)"><code>ReidlineInputMethod</code></a>,
        <a href="IRB/RelineInputMethod.html" title="IRB::RelineInputMethod (class)"><code>RelineInputMethod</code></a>,
        <a class='nodoc' href="IRB/RubyLex.html" title="IRB::RubyLex (class)"><code>RubyLex</code></a>,
        <a href="IRB/RubyModel.html" title="IRB::RubyModel (class)"><code>RubyModel</code></a>,
        <a href="IRB/SourceFinder.html" title="IRB::SourceFinder (class)"><code>SourceFinder</code></a>,
        <a href="IRB/Statement.html" title="IRB::Statement (class)"><code>Statement</code></a>,
        <a href="IRB/StdioInputMethod.html" title="IRB::StdioInputMethod (class)"><code>StdioInputMethod</code></a>,
        <a href="IRB/StdioOutputMethod.html" title="IRB::StdioOutputMethod (class)"><code>StdioOutputMethod</code></a>,
        <a class='nodoc' href="IRB/TypeCompletor.html" title="IRB::TypeCompletor (class)"><code>TypeCompletor</code></a>,
        <a href="IRB/Vec.html" title="IRB::Vec (class)"><code>Vec</code></a>,
        <a href="IRB/WorkSpace.html" title="IRB::WorkSpace (class)"><code>WorkSpace</code></a>      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="IRB/Abort.html" title="IRB::Abort (class)"><code>Abort</code></a>,
        <a class='nodoc' href="IRB/CantChangeBinding.html" title="IRB::CantChangeBinding (class)"><code>CantChangeBinding</code></a>,
        <a class='nodoc' href="IRB/CantReturnToNormalMode.html" title="IRB::CantReturnToNormalMode (class)"><code>CantReturnToNormalMode</code></a>,
        <a class='nodoc' href="IRB/IllegalParameter.html" title="IRB::IllegalParameter (class)"><code>IllegalParameter</code></a>,
        <a class='nodoc' href="IRB/IrbAlreadyDead.html" title="IRB::IrbAlreadyDead (class)"><code>IrbAlreadyDead</code></a>,
        <a class='nodoc' href="IRB/IrbSwitchedToCurrentThread.html" title="IRB::IrbSwitchedToCurrentThread (class)"><code>IrbSwitchedToCurrentThread</code></a>,
        <a href="IRB/LoadAbort.html" title="IRB::LoadAbort (class)"><code>LoadAbort</code></a>,
        <a class='nodoc' href="IRB/NoSuchJob.html" title="IRB::NoSuchJob (class)"><code>NoSuchJob</code></a>,
        <a class='nodoc' href="IRB/UndefinedPromptMode.html" title="IRB::UndefinedPromptMode (class)"><code>UndefinedPromptMode</code></a>,
        <a class='nodoc' href="IRB/UnrecognizedSwitch.html" title="IRB::UnrecognizedSwitch (class)"><code>UnrecognizedSwitch</code></a>      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb.rb#L878'>lib/irb.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/color.rb#L6'>lib/irb/color.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/color_printer.rb#L5'>lib/irb/color_printer.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command.rb#L9'>lib/irb/command.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/completion.rb#L10'>lib/irb/completion.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/context.rb#L12'>lib/irb/context.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/debug.rb#L3'>lib/irb/debug.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/default_commands.rb#L32'>lib/irb/default_commands.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/easter-egg.rb#L3'>lib/irb/easter-egg.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/frame.rb#L7'>lib/irb/frame.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/help.rb#L7'>lib/irb/help.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/helper_method.rb#L3'>lib/irb/helper_method.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/history.rb#L3'>lib/irb/history.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L7'>lib/irb/init.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/input-method.rb#L12'>lib/irb/input-method.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/inspector.rb#L7'>lib/irb/inspector.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/locale.rb#L7'>lib/irb/locale.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/nesting_parser.rb#L2'>lib/irb/nesting_parser.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/notifier.rb#L9'>lib/irb/notifier.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/output-method.rb#L7'>lib/irb/output-method.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/pager.rb#L3'>lib/irb/pager.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ruby-lex.rb#L11'>lib/irb/ruby-lex.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/source_finder.rb#L5'>lib/irb/source_finder.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/statement.rb#L3'>lib/irb/statement.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/version.rb#L7'>lib/irb/version.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/workspace.rb#L12'>lib/irb/workspace.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/backtrace.rb#L5'>lib/irb/command/backtrace.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/base.rb#L7'>lib/irb/command/base.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/break.rb#L5'>lib/irb/command/break.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/catch.rb#L5'>lib/irb/command/catch.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/chws.rb#L8'>lib/irb/command/chws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/context.rb#L3'>lib/irb/command/context.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/continue.rb#L5'>lib/irb/command/continue.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/debug.rb#L3'>lib/irb/command/debug.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/delete.rb#L5'>lib/irb/command/delete.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/disable_irb.rb#L3'>lib/irb/command/disable_irb.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/edit.rb#L6'>lib/irb/command/edit.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/exit.rb#L3'>lib/irb/command/exit.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/finish.rb#L5'>lib/irb/command/finish.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/force_exit.rb#L3'>lib/irb/command/force_exit.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/help.rb#L3'>lib/irb/command/help.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/history.rb#L7'>lib/irb/command/history.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/info.rb#L5'>lib/irb/command/info.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/internal_helpers.rb#L3'>lib/irb/command/internal_helpers.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/irb_info.rb#L3'>lib/irb/command/irb_info.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/load.rb#L8'>lib/irb/command/load.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/ls.rb#L9'>lib/irb/command/ls.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/measure.rb#L1'>lib/irb/command/measure.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/next.rb#L5'>lib/irb/command/next.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/pushws.rb#L9'>lib/irb/command/pushws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/show_doc.rb#L3'>lib/irb/command/show_doc.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/show_source.rb#L7'>lib/irb/command/show_source.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/step.rb#L5'>lib/irb/command/step.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/subirb.rb#L7'>lib/irb/command/subirb.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/command/whereami.rb#L3'>lib/irb/command/whereami.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/debug/ui.rb#L4'>lib/irb/debug/ui.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/change-ws.rb#L7'>lib/irb/ext/change-ws.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/eval_history.rb#L7'>lib/irb/ext/eval_history.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/loader.rb#L7'>lib/irb/ext/loader.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/multi-irb.rb#L7'>lib/irb/ext/multi-irb.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/tracer.rb#L15'>lib/irb/ext/tracer.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/use-loader.rb#L15'>lib/irb/ext/use-loader.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/workspaces.rb#L7'>lib/irb/ext/workspaces.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/helper_method/base.rb#L3'>lib/irb/helper_method/base.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/helper_method/conf.rb#L1'>lib/irb/helper_method/conf.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/lc/error.rb#L7'>lib/irb/lc/error.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/lc/ja/error.rb#L7'>lib/irb/lc/ja/error.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Module IRB (“Interactive Ruby”) provides a shell-like interface that supports user interaction with the Ruby interpreter.</p>

<p>It operates as a *read-eval-print loop* (<a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop" target="_parent" title="REPL">REPL</a>) that:</p>
<ul><li>
<p>***Reads*** each character as you type. You can modify the <code>IRB</code> context to change the way input works. See [Input](IRB@Input).</p>
</li><li>
<p>***Evaluates*** the code each time it has read a syntactically complete passage.</p>
</li><li>
<p>***Prints*** after evaluating. You can modify the <code>IRB</code> context to change the way output works. See [Output](IRB@Output).</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$ </span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='const'>File</span>.<span class='id identifier rubyid_basename'>basename</span>(<span class='const'>Dir</span>.<span class='id identifier rubyid_pwd'>pwd</span>)
<span class='comment'>#=&gt; &quot;irb&quot;
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>&gt;</span> <span class='const'>Dir</span>.<span class='id identifier rubyid_entries'>entries</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_size'>size</span>
<span class='comment'>#=&gt; 25
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>003</span><span class='op'>*</span> <span class='const'>Dir</span>.<span class='id identifier rubyid_entries'>entries</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>004</span><span class='op'>*</span>   <span class='id identifier rubyid_entry'>entry</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>005</span><span class='op'>&gt;</span> <span class='kw'>end</span>
<span class='comment'>#=&gt; [&quot;README.md&quot;, &quot;Rakefile&quot;]</span></code></pre>

<p>The typed input may also include [IRB-specific commands](IRB@IRB-Specific+Commands).</p>

<p>As seen above, you can start <code>IRB</code> by using the shell command <a href="#irb-class_method" title="IRB.irb (method)">.irb</a>.</p>

<p>You can stop an <code>IRB</code> session by typing command <code>exit</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>006</span><span class='op'>&gt;</span> <span class='id identifier rubyid_exit'>exit</span>
<span class='gvar'>$</span></code></pre>

<p>At that point, <code>IRB</code> calls any hooks found in array <code>:AT_EXIT</code>, then exits.</p>

<h3 id="label-Startup">Startup</h3>

<p>At startup, <code>IRB</code>:</p>
<ol><li>
<p>Interprets (as Ruby code) the content of the [configuration file](IRB@Configuration+File) (if given).</p>
</li><li>
<p>Constructs the initial session context from [hash IRB.conf](IRB@Hash+IRB.conf) and from default values; the hash content may have been affected by [command-line options](IB@Command-Line+Options), and by direct assignments in the configuration file.</p>
</li><li>
<p>Assigns the context to variable <a href="#conf-class_method" title="IRB.conf (method)">.conf</a>.</p>
</li><li>
<p>Assigns command-line arguments to variable <code>ARGV</code>.</p>
</li><li>
<p>Prints the [prompt](IRB@Prompt+and+Return+Formats).</p>
</li><li>
<p>Puts the content of the [initialization script](IRB@Initialization+Script) onto the IRB shell, just as if it were user-typed commands.</p>
</li></ol>

<h4 id="label-The+Command+Line">The Command Line</h4>

<p>On the command line, all options precede all arguments; the first item that is not recognized as an option is treated as an argument, as are all items that follow.</p>

<h5 id="label-Command-Line+Options">Command-Line Options</h5>

<p>Many command-line options affect entries in hash <a href="#conf-class_method" title="IRB.conf (method)">.conf</a>, which in turn affect the initial configuration of the <code>IRB</code> session.</p>

<p>Details of the options are described in the relevant subsections below.</p>

<p>A cursory list of the <code>IRB</code> command-line options may be seen in the [help message](<a href="https://raw.githubusercontent.com/ruby/irb/master/lib/irb/lc/help-message">raw.githubusercontent.com/ruby/irb/master/lib/irb/lc/help-message</a>), which is also displayed if you use command-line option <code>–help</code>.</p>

<p>If you are interested in a specific option, consult the <a href="doc/irb/indexes.md@Index+of+Command-Line+Options.html" title="index">index</a>.</p>

<h5 id="label-Command-Line+Arguments">Command-Line Arguments</h5>

<p>Command-line arguments are passed to <code>IRB</code> in array <code>ARGV</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$ </span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_noscript'>noscript</span> <span class='const'>Foo</span> <span class='const'>Bar</span> <span class='const'>Baz</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='const'>ARGV</span>
<span class='comment'>#=&gt; [&quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;]
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>&gt;</span> <span class='id identifier rubyid_exit'>exit</span>
<span class='gvar'>$</span></code></pre>

<p>Command-line option <code>–</code> causes everything that follows to be treated as arguments, even those that look like options:</p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$ </span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_noscript'>noscript</span> <span class='op'>-</span><span class='op'>-</span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_noscript'>noscript</span> <span class='op'>-</span><span class='op'>-</span> <span class='const'>Foo</span> <span class='const'>Bar</span> <span class='const'>Baz</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='const'>ARGV</span>
<span class='comment'>#=&gt; [&quot;--noscript&quot;, &quot;--&quot;, &quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;]
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>&gt;</span> <span class='id identifier rubyid_exit'>exit</span>
<span class='gvar'>$</span></code></pre>

<h4 id="label-Configuration+File">Configuration File</h4>

<p>You can initialize <code>IRB</code> via a *configuration file*.</p>

<p>If command-line option <code>-f</code> is given, no configuration file is looked for.</p>

<p>Otherwise, <code>IRB</code> reads and interprets a configuration file if one is available.</p>

<p>The configuration file can contain any Ruby code, and can usefully include user code that:</p>
<ul><li>
<p>Can then be debugged in <code>IRB</code>.</p>
</li><li>
<p>Configures IRB itself.</p>
</li><li>
<p>Requires or loads files.</p>
</li></ul>

<p>The path to the configuration file is the first found among:</p>
<ul><li>
<p>The value of variable <code>$IRBRC</code>, if defined.</p>
</li><li>
<p>The value of variable <code>$XDG_CONFIG_HOME/irb/irbrc</code>, if defined.</p>
</li><li>
<p>File <code>$HOME/.irbrc</code>, if it exists.</p>
</li><li>
<p>File <code>$HOME/.config/irb/irbrc</code>, if it exists.</p>
</li><li>
<p>File <code>.irbrc</code> in the current directory, if it exists.</p>
</li><li>
<p>File <code>irb.rc</code> in the current directory, if it exists.</p>
</li><li>
<p>File <code>_irbrc</code> in the current directory, if it exists.</p>
</li><li>
<p>File <code>$irbrc</code> in the current directory, if it exists.</p>
</li></ul>

<p>If the search fails, there is no configuration file.</p>

<p>If the search succeeds, the configuration file is read as Ruby code, and so can contain any Ruby programming you like.</p>

<p>Method <code>conf.rc?</code> returns <code>true</code> if a configuration file was read, <code>false</code> otherwise. Hash entry <code>:RC</code> also contains that value.</p>

<h4 id="label-Hash+-7BIRB.conf-7D">Hash <a href="#conf-class_method" title="IRB.conf (method)">.conf</a></h4>

<p>The initial entries in hash <a href="#conf-class_method" title="IRB.conf (method)">.conf</a> are determined by:</p>
<ul><li>
<p>Default values.</p>
</li><li>
<p>Command-line options, which may override defaults.</p>
</li><li>
<p>Direct assignments in the configuration file.</p>
</li></ul>

<p>You can see the hash by typing <a href="#conf-class_method" title="IRB.conf (method)">.conf</a>.</p>

<p>Details of the entries’ meanings are described in the relevant subsections below.</p>

<p>If you are interested in a specific entry, consult the <a href="doc/irb/indexes.md@Index+of+IRB.conf+Entries.html" title="index">index</a>.</p>

<h4 id="label-Notes+on+Initialization+Precedence">Notes on Initialization Precedence</h4>
<ul><li>
<p>Any conflict between an entry in hash <a href="#conf-class_method" title="IRB.conf (method)">.conf</a> and a command-line option is resolved in favor of the hash entry.</p>
</li><li>
<p>Hash <a href="#conf-class_method" title="IRB.conf (method)">.conf</a> affects the context only once, when the configuration file is interpreted; any subsequent changes to it do not affect the context and are therefore essentially meaningless.</p>
</li></ul>

<h4 id="label-Initialization+Script">Initialization Script</h4>

<p>By default, the first command-line argument (after any options) is the path to a Ruby initialization script.</p>

<p><code>IRB</code> reads the initialization script and puts its content onto the <code>IRB</code> shell, just as if it were user-typed commands.</p>

<p>Command-line option <code>–noscript</code> causes the first command-line argument to be treated as an ordinary argument (instead of an initialization script); <code>–script</code> is the default.</p>

<h3 id="label-Input">Input</h3>

<p>This section describes the features that allow you to change the way <code>IRB</code> input works; see also [Input and Output](IRB@Input+and+Output).</p>

<h4 id="label-Input+Command+History">Input Command History</h4>

<p>By default, <code>IRB</code> stores a history of up to 1000 input commands in a file named <code>.irb_history</code>. The history file will be in the same directory as the [configuration file](IRB@Configuration+File) if one is found, or in <code>~/</code> otherwise.</p>

<p>A new <code>IRB</code> session creates the history file if it does not exist, and appends to the file if it does exist.</p>

<p>You can change the filepath by adding to your configuration file: <code>IRB.conf[:HISTORY_FILE] = <strong>filepath</code></strong>, where <strong>filepath</strong> is a string filepath.</p>

<p>During the session, method <code>conf.history_file</code> returns the filepath, and method <code>conf.history_file = <strong>new_filepath</code></strong> copies the history to the file at <strong>new_filepath</strong>, which becomes the history file for the session.</p>

<p>You can change the number of commands saved by adding to your configuration file: <code>IRB.conf[:SAVE_HISTORY] = <strong>n</code></strong>, wheHISTORY_FILEre <strong>n</strong> is one of:</p>
<ul><li>
<p>Positive integer: the number of commands to be saved,</p>
</li><li>
<p>Zero: all commands are to be saved.</p>
</li><li>
<p><code>nil</code>: no commands are to be saved,.</p>
</li></ul>

<p>During the session, you can use methods <code>conf.save_history</code> or <code>conf.save_history=</code> to retrieve or change the count.</p>

<h4 id="label-Command+Aliases">Command Aliases</h4>

<p>By default, <code>IRB</code> defines several command aliases:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_command_aliases'>command_aliases</span>
<span class='comment'>#=&gt; {:&quot;$&quot;=&gt;:show_source, :&quot;@&quot;=&gt;:whereami}</span></code></pre>

<p>You can change the initial aliases in the configuration file with:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>COMMAND_ALIASES</span>] <span class='op'>=</span> {<span class='label'>foo:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_show_source'>show_source</span><span class='comma'>,</span> <span class='label'>bar:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_whereami'>whereami</span>}</code></pre>

<p>You can replace the current aliases at any time with configuration method ‘conf.command_aliases=`; Because <code>conf.command_aliases</code> is a hash, you can modify it.</p>

<h4 id="label-End-of-File">End-of-File</h4>

<p>By default, <code>:IGNORE_EOF</code> is <code>false</code>, which means that typing the end-of-file character <code>Ctrl-D</code> causes the session to exit.</p>

<p>You can reverse that behavior by adding <code>IRB.conf[:IGNORE_EOF] = true</code> to the configuration file.</p>

<p>During the session, method <code>conf.ignore_eof?</code> returns the setting, and method <code>conf.ignore_eof = <strong>boolean</code></strong> sets it.</p>

<h4 id="label-SIGINT">SIGINT</h4>

<p>By default, <code>:IGNORE_SIGINT</code> is <code>true</code>, which means that typing the interrupt character <code>Ctrl-C</code> causes the session to exit.</p>

<p>You can reverse that behavior by adding <code>IRB.conf[:IGNORE_SIGING] = false</code> to the configuration file.</p>

<p>During the session, method <code>conf.ignore_siging?</code> returns the setting, and method <code>conf.ignore_sigint = <strong>boolean</code></strong> sets it.</p>

<h4 id="label-Automatic+Completion">Automatic Completion</h4>

<p>By default, <code>IRB</code> enables [automatic completion](<a href="https://en.wikipedia.org/wiki/Autocomplete#In_command-line_interpr">en.wikipedia.org/wiki/Autocomplete#In_command-line_interpr</a> eters):</p>

<p>You can disable it by either of these:</p>
<ul><li>
<p>Adding <code>IRB.conf[:USE_AUTOCOMPLETE] = false</code> to the configuration file.</p>
</li><li>
<p>Giving command-line option <code>–noautocomplete</code> (‘–autocomplete` is the default).</p>
</li></ul>

<p>Method <code>conf.use_autocomplete?</code> returns <code>true</code> if automatic completion is enabled, <code>false</code> otherwise.</p>

<p>The setting may not be changed during the session.</p>

<h4 id="label-Automatic+Indentation">Automatic Indentation</h4>

<p>By default, <code>IRB</code> automatically indents lines of code to show structure (e.g., it indent the contents of a block).</p>

<p>The current setting is returned by the configuration method <code>conf.auto_indent_mode</code>.</p>

<p>The default initial setting is <code>true</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_auto_indent_mode'>auto_indent_mode</span>
<span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>*</span> <span class='const'>Dir</span>.<span class='id identifier rubyid_entries'>entries</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>003</span><span class='op'>*</span>   <span class='id identifier rubyid_entry'>entry</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>004</span><span class='op'>&gt;</span> <span class='kw'>end</span>
<span class='comment'>#=&gt; [&quot;README.md&quot;, &quot;Rakefile&quot;]</span></code></pre>

<p>You can change the initial setting in the configuration file with:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span>] <span class='op'>=</span> <span class='kw'>false</span></code></pre>

<p>Note that the <strong>current</strong> setting *may not* be changed in the <code>IRB</code> session.</p>

<h4 id="label-Input+Method">Input Method</h4>

<p>The IRB input method determines how command input is to be read; by default, the input method for a session is <a href="IRB/RelineInputMethod.html" title="IRB::RelineInputMethod (class)"><code>RelineInputMethod</code></a>. Unless the value of the TERM environment variable is ‘dumb’, in which case the most simplistic input method is used.</p>

<p>You can set the input method by:</p>
<ul><li>
<p>Adding to the configuration file:</p>
<ul><li>
<p>‘<a href=":USE_SINGLELINE">IRB.conf</a> = true` or `<a href=":USE_MULTILINE">IRB.conf</a>= false` sets the input method to IRB::ReadlineInputMethod.</p>
</li><li>
<p>‘<a href=":USE_SINGLELINE">IRB.conf</a> = false` or `<a href=":USE_MULTILINE">IRB.conf</a> = true` sets the input method to IRB::RelineInputMethod.</p>
</li></ul>
</li><li>
<p>Giving command-line options:</p>
<ul><li>
<p><code>–singleline</code> or <code>–nomultiline</code> sets the input method to IRB::ReadlineInputMethod.</p>
</li><li>
<p><code>–nosingleline</code> or <code>–multiline</code> sets the input method to IRB::RelineInputMethod.</p>
</li><li>
<p><code>–nosingleline</code> together with <code>–nomultiline</code> sets the input to IRB::StdioInputMethod.</p>
</li></ul>
</li></ul>

<p>Method <code>conf.use_multiline?</code> and its synonym <code>conf.use_reline</code> return:</p>
<ul><li>
<p><code>true</code> if option <code>–multiline</code> was given.</p>
</li><li>
<p><code>false</code> if option <code>–nomultiline</code> was given.</p>
</li><li>
<p><code>nil</code> if neither was given.</p>
</li></ul>

<p>Method <code>conf.use_singleline?</code> and its synonym <code>conf.use_readline</code> return:</p>
<ul><li>
<p><code>true</code> if option <code>–singleline</code> was given.</p>
</li><li>
<p><code>false</code> if option <code>–nosingleline</code> was given.</p>
</li><li>
<p><code>nil</code> if neither was given.</p>
</li></ul>

<h3 id="label-Output">Output</h3>

<p>This section describes the features that allow you to change the way <code>IRB</code> output works; see also [Input and Output](IRB@Input+and+Output).</p>

<h4 id="label-Return-Value+Printing+-28Echoing-29">Return-Value Printing (Echoing)</h4>

<p>By default, <code>IRB</code> prints (echoes) the values returned by all input commands.</p>

<p>You can change the initial behavior and suppress all echoing by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:ECHO] = false</code>. (The default value for this entry is <code>nil</code>, which means the same as <code>true</code>.)</p>
</li><li>
<p>Giving command-line option <code>–noecho</code>. (The default is <code>–echo</code>.)</p>
</li></ul>

<p>During the session, you can change the current setting with configuration method <code>conf.echo=</code> (set to <code>true</code> or <code>false</code>).</p>

<p>As stated above, by default <code>IRB</code> prints the values returned by all input commands; but <code>IRB</code> offers special treatment for values returned by assignment statements, which may be:</p>
<ul><li>
<p>Printed with truncation (to fit on a single line of output), which is the default; an ellipsis (‘…` is suffixed, to indicate the truncation):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abc</span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='int'>100</span></code></pre>
</li></ul>

<p>&gt; “abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc…</p>
<ul><li>
<p>Printed in full (regardless of the length).</p>
</li><li>
<p>Suppressed (not printed at all)</p>
</li></ul>

<p>You can change the initial behavior by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:ECHO_ON_ASSIGNMENT] = false</code>. (The default value for this entry is <code>niL</code>, which means the same as <code>:truncate</code>.)</p>
</li><li>
<p>Giving command-line option <code>–noecho-on-assignment</code> or <code>–echo-on-assignment</code>. (The default is <code>–truncate-echo-on-assignment</code>.)</p>
</li></ul>

<p>During the session, you can change the current setting with configuration method <code>conf.echo_on_assignment=</code> (set to <code>true</code>, <code>false</code>, or <code>:truncate</code>).</p>

<p>By default, <code>IRB</code> formats returned values by calling method <a href="#inspect-class_method" title="IRB.inspect (method)">.inspect</a>.</p>

<p>You can change the initial behavior by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:INSPECT_MODE] = false</code>. (The default value for this entry is <code>true</code>.)</p>
</li><li>
<p>Giving command-line option <code>–noinspect</code>. (The default is <code>–inspect</code>.)</p>
</li></ul>

<p>During the session, you can change the setting using method <code>conf.inspect_mode=</code>.</p>

<h4 id="label-Multiline+Output">Multiline Output</h4>

<p>By default, <code>IRB</code> prefixes a newline to a multiline response.</p>

<p>You can change the initial default value by adding to the configuration file:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>NEWLINE_BEFORE_MULTILINE_OUTPUT</span>] <span class='op'>=</span> <span class='kw'>false</span></code></pre>

<p>During a session, you can retrieve or set the value using methods <code>conf.newline_before_multiline_output?</code> and <code>conf.newline_before_multiline_output=</code>.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_inspect_mode'>inspect_mode</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\nbar</span><span class='tstring_end'>&quot;</span></span>
<span class='op'>=&gt;</span>
<span class='id identifier rubyid_foo'>foo</span>
<span class='id identifier rubyid_bar'>bar</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>003</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_newline_before_multiline_output'>newline_before_multiline_output</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>004</span><span class='op'>&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo\nbar</span><span class='tstring_end'>&quot;</span></span>
<span class='comment'>#=&gt; foo
</span><span class='id identifier rubyid_bar'>bar</span></code></pre>

<h4 id="label-Evaluation+History">Evaluation History</h4>

<p>By default, <code>IRB</code> saves no history of evaluations (returned values), and the related methods <code>conf.eval_history</code>, <code>_</code>, and <code>__</code> are undefined.</p>

<p>You can turn on that history, and set the maximum number of evaluations to be stored:</p>
<ul><li>
<p>In the configuration file: add <code>IRB.conf[:EVAL_HISTORY] = <strong>n</code></strong>. (Examples below assume that we’ve added ‘<a href=":EVAL_HISTORY">IRB.conf</a> = 5`.)</p>
</li><li>
<p>In the session (at any time): <code>conf.eval_history = <strong>n</code></strong>.</p>
</li></ul>

<p>If <code>n</code> is zero, all evaluation history is stored.</p>

<p>Doing either of the above:</p>
<ul><li>
<p>Sets the maximum size of the evaluation history; defines method <code>conf.eval_history</code>, which returns the maximum size <code>n</code> of the evaluation history:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_eval_history'>eval_history</span> <span class='op'>=</span> <span class='int'>5</span>
<span class='comment'>#=&gt; 5
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_eval_history'>eval_history</span>
<span class='comment'>#=&gt; 5</span></code></pre>
</li><li>
<p>Defines variable <code>_</code>, which contains the most recent evaluation, or <code>nil</code> if none; same as method <code>conf.last_value</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>003</span><span class='op'>&gt;</span> <span class='id identifier rubyid__'>_</span>
<span class='comment'>#=&gt; 5
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>004</span><span class='op'>&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>
<span class='comment'>#=&gt; :foo
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>005</span><span class='op'>&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
<span class='comment'>#=&gt; :bar
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>006</span><span class='op'>&gt;</span> <span class='id identifier rubyid__'>_</span>
<span class='comment'>#=&gt; :bar
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>007</span><span class='op'>&gt;</span> <span class='id identifier rubyid__'>_</span>
<span class='comment'>#=&gt; :bar</span></code></pre>
</li><li>
<p>Defines variable <code>__</code>:</p>
<ul><li>
<p><code>__</code> unadorned: contains all evaluation history:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>008</span><span class='op'>&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>
<span class='comment'>#=&gt; :foo
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>009</span><span class='op'>&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bar'>bar</span>
<span class='comment'>#=&gt; :bar
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>010</span><span class='op'>&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='comment'>#=&gt; :baz
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>011</span><span class='op'>&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bat'>bat</span>
<span class='comment'>#=&gt; :bat
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>012</span><span class='op'>&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_bam'>bam</span>
<span class='comment'>#=&gt; :bam
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>013</span><span class='op'>&gt;</span> <span class='id identifier rubyid___'>__</span>
<span class='op'>=&gt;</span>
<span class='int'>9</span> <span class='op'>:</span><span class='id identifier rubyid_bar'>bar</span>
<span class='int'>10</span> <span class='op'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='int'>11</span> <span class='op'>:</span><span class='id identifier rubyid_bat'>bat</span>
<span class='int'>12</span> <span class='op'>:</span><span class='id identifier rubyid_bam'>bam</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>014</span><span class='op'>&gt;</span> <span class='id identifier rubyid___'>__</span>
<span class='op'>=&gt;</span>
<span class='int'>10</span> <span class='op'>:</span><span class='id identifier rubyid_baz'>baz</span>
<span class='int'>11</span> <span class='op'>:</span><span class='id identifier rubyid_bat'>bat</span>
<span class='int'>12</span> <span class='op'>:</span><span class='id identifier rubyid_bam'>bam</span>
<span class='int'>13</span> <span class='op'>...</span><span class='kw'>self</span><span class='op'>-</span><span class='id identifier rubyid_history'>history</span><span class='op'>...</span></code></pre>

<p>Note that when the evaluation is multiline, it is displayed differently.</p>
</li><li>
<p>‘__[`<strong>m</strong><code>]</code>:</p>
<ul><li>
<p>Positive <strong>m</strong>:  contains the evaluation for the given line number, or <code>nil</code> if that line number is not in the evaluation history:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>015</span><span class='op'>&gt;</span> <span class='id identifier rubyid___'>__</span>[<span class='int'>12</span>]
<span class='comment'>#=&gt; :bam
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>016</span><span class='op'>&gt;</span> <span class='id identifier rubyid___'>__</span>[<span class='int'>1</span>]
<span class='comment'>#=&gt; nil</span></code></pre>
</li><li>
<p>Negative <strong>m</strong>: contains the ‘mth`-from-end evaluation, or <code>nil</code> if that evaluation is not in the evaluation history:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>017</span><span class='op'>&gt;</span> <span class='id identifier rubyid___'>__</span>[<span class='op'>-</span><span class='int'>3</span>]
<span class='comment'>#=&gt; :bam
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>018</span><span class='op'>&gt;</span> <span class='id identifier rubyid___'>__</span>[<span class='op'>-</span><span class='int'>13</span>]
<span class='comment'>#=&gt; nil</span></code></pre>
</li><li>
<p>Zero <strong>m</strong>: contains <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>019</span><span class='op'>&gt;</span> <span class='id identifier rubyid___'>__</span>[<span class='int'>0</span>]
<span class='comment'>#=&gt; nil</span></code></pre>
</li></ul>
</li></ul>
</li></ul>

<h4 id="label-Prompt+and+Return+Formats">Prompt and Return Formats</h4>

<p>By default, <code>IRB</code> uses the prompt and return value formats defined in its <code>:DEFAULT</code> prompt mode.</p>

<h5 id="label-The+Default+Prompt+and+Return+Format">The Default Prompt and Return Format</h5>

<p>The default prompt and return values look like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>&gt;</span> <span class='int'>2</span> <span class='op'>+</span> <span class='int'>2</span>
<span class='comment'>#=&gt; 4</span></code></pre>

<p>The prompt includes:</p>
<ul><li>
<p>The name of the running program (<a href="#irb-class_method" title="IRB.irb (method)">.irb</a>); see [IRB Name](IRB@IRB+Name).</p>
</li><li>
<p>The name of the current session (<code>main</code>); See [IRB Sessions](IRB@IRB+Sessions).</p>
</li><li>
<p>A 3-digit line number (1-based).</p>
</li></ul>

<p>The default prompt actually defines three formats:</p>
<ul><li>
<p>One for most situations (as above):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>003</span><span class='op'>&gt;</span> <span class='const'>Dir</span>
<span class='comment'>#=&gt; Dir</span></code></pre>
</li><li>
<p>One for when the typed command is a statement continuation (adds trailing asterisk):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>004</span><span class='op'>*</span> <span class='const'>Dir</span>.</code></pre>
</li><li>
<p>One for when the typed command is a string continuation (adds trailing single-quote):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>005</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> Dir.entries(</span><span class='tstring_end'>&#39;</span></span>.</code></pre>
</li></ul>

<p>You can see the prompt change as you type the characters in the following:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>*</span> <span class='const'>Dir</span>.<span class='id identifier rubyid_entries'>entries</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_entry'>entry</span><span class='op'>|</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>*</span>   <span class='id identifier rubyid_entry'>entry</span>.<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>003</span><span class='op'>&gt;</span> <span class='kw'>end</span>
<span class='comment'>#=&gt; [&quot;README.md&quot;, &quot;Rakefile&quot;]</span></code></pre>

<h5 id="label-Pre-Defined+Prompts">Pre-Defined Prompts</h5>

<p><code>IRB</code> has several pre-defined prompts, stored in hash <code>:PROMPT</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>].<span class='id identifier rubyid_keys'>keys</span>
<span class='comment'>#=&gt; [:NULL, :DEFAULT, :CLASSIC, :SIMPLE, :INF_RUBY, :XMP]</span></code></pre>

<p>To see the full data for these, type <code>:PROMPT</code>.</p>

<p>Most of these prompt definitions include specifiers that represent values like the <code>IRB</code> name, session name, and line number; see [Prompt Specifiers](IRB@Prompt+Specifiers).</p>

<p>You can change the initial prompt and return format by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:PROMPT] = <strong>mode</code></strong> where <strong>mode</strong> is the symbol name of a prompt mode.</p>
</li><li>
<p>Giving a command-line option:</p>
<ul><li>
<p>‘–prompt <strong>mode</strong>`: sets the prompt mode to <strong>mode</strong>. where <strong>mode</strong> is the symbol name of a prompt mode.</p>
</li><li>
<p><code>–simple-prompt</code> or <code>–sample-book-mode</code>: sets the prompt mode to <code>:SIMPLE</code>.</p>
</li><li>
<p><code>–inf-ruby-mode</code>: sets the prompt mode to <code>:INF_RUBY</code> and suppresses both <code>–multiline</code> and <code>–singleline</code>.</p>
</li><li>
<p><code>–noprompt</code>: suppresses prompting; does not affect echoing.</p>
</li></ul>
</li></ul>

<p>You can retrieve or set the current prompt mode with methods</p>

<p><code>conf.prompt_mode</code> and <code>conf.prompt_mode=</code>.</p>

<p>If you’re interested in prompts and return formats other than the defaults, you might experiment by trying some of the others.</p>

<h5 id="label-Custom+Prompts">Custom Prompts</h5>

<p>You can also define custom prompts and return formats, which may be done either in an <code>IRB</code> session or in the configuration file.</p>

<p>A prompt in <code>IRB</code> actually defines three prompts, as seen above. For simple custom data, we’ll make all three the same:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>*</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>][<span class='symbeg'>:</span><span class='const'>MY_PROMPT</span>] <span class='op'>=</span> {
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>*</span>   <span class='const'>PROMPT_I</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>: </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>003</span><span class='op'>*</span>   <span class='const'>PROMPT_C</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>: </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>004</span><span class='op'>*</span>   <span class='const'>PROMPT_S</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>: </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>005</span><span class='op'>*</span>   <span class='const'>RETURN</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=&gt; </span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>006</span><span class='op'>&gt;</span> }
<span class='comment'>#=&gt; {:PROMPT_I=&gt;&quot;: &quot;, :PROMPT_C=&gt;&quot;: &quot;, :PROMPT_S=&gt;&quot;: &quot;, :RETURN=&gt;&quot;=&gt; &quot;}</span></code></pre>

<p>If you define the custom prompt in the configuration file, you can also make it the current prompt by adding:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>MY_PROMPT</span></code></pre>

<p>Regardless of where it’s defined, you can make it the current prompt in a session:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_prompt_mode'>prompt_mode</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>MY_PROMPT</span></code></pre>

<p>You can view or modify the current prompt data with various configuration methods:</p>
<ul><li>
<p><code>conf.prompt_mode</code>, <code>conf.prompt_mode=</code>.</p>
</li><li>
<p><code>conf.prompt_c</code>, <code>conf.c=</code>.</p>
</li><li>
<p><code>conf.prompt_i</code>, <code>conf.i=</code>.</p>
</li><li>
<p><code>conf.prompt_s</code>, <code>conf.s=</code>.</p>
</li><li>
<p><code>conf.return_format</code>, <code>return_format=</code>.</p>
</li></ul>

<h5 id="label-Prompt+Specifiers">Prompt Specifiers</h5>

<p>A prompt’s definition can include specifiers for which certain values are substituted:</p>
<ul><li>
<p><code>%N</code>: the name of the running program.</p>
</li><li>
<p><code>%m</code>: the value of <code>self.to_s</code>.</p>
</li><li>
<p><code>%M</code>: the value of <code>self.inspect</code>.</p>
</li><li>
<p><code>%l</code>: an indication of the type of string; one of <code>“</code>, <code>‘</code>, <code>/</code>, <code>]</code>.</p>
</li><li>
<p><code>%NNi</code>: Indentation level. NN is a 2-digit number that specifies the number</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_of'>of</span> <span class='id identifier rubyid_digits'>digits</span> <span class='id identifier rubyid_of'>of</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_indentation'>indentation</span> <span class='id identifier rubyid_level'>level</span> (<span class='int'>03</span> <span class='id identifier rubyid_will'>will</span> <span class='id identifier rubyid_result'>result</span> <span class='kw'>in</span> <span class='int'>001</span>).</code></pre>
</li><li>
<p><code>%NNn</code>: Line number. NN is a 2-digit number that specifies the number</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_of'>of</span> <span class='id identifier rubyid_digits'>digits</span> <span class='id identifier rubyid_of'>of</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_line'>line</span> <span class='id identifier rubyid_number'>number</span> (<span class='int'>03</span> <span class='id identifier rubyid_will'>will</span> <span class='id identifier rubyid_result'>result</span> <span class='kw'>in</span> <span class='int'>001</span>).</code></pre>
</li><li>
<p><code>%%</code>: Literal <code>%</code>.</p>
</li></ul>

<h4 id="label-Verbosity">Verbosity</h4>

<p>By default, <code>IRB</code> verbosity is disabled, which means that output is smaller rather than larger.</p>

<p>You can enable verbosity by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:VERBOSE] = true</code> (the default is <code>nil</code>).</p>
</li><li>
<p>Giving command-line options <code>–verbose</code> (the default is <code>–noverbose</code>).</p>
</li></ul>

<p>During a session, you can retrieve or set verbosity with methods <code>conf.verbose</code> and <code>conf.verbose=</code>.</p>

<h4 id="label-Help">Help</h4>

<p>Command-line option <code>–version</code> causes <code>IRB</code> to print its help text and exit.</p>

<h4 id="label-Version">Version</h4>

<p>Command-line option <code>–version</code> causes <code>IRB</code> to print its version text and exit.</p>

<h3 id="label-Input+and+Output">Input and Output</h3>

<h4 id="label-Color+Highlighting">Color Highlighting</h4>

<p>By default, <code>IRB</code> color highlighting is enabled, and is used for both:</p>
<ul><li>
<p>Input: As you type, <code>IRB</code> reads the typed characters and highlights elements that it recognizes; it also highlights errors such as mismatched parentheses.</p>
</li><li>
<p>Output: <code>IRB</code> highlights syntactical elements.</p>
</li></ul>

<p>You can disable color highlighting by:</p>
<ul><li>
<p>Adding to the configuration file: <code>IRB.conf[:USE_COLORIZE] = false</code> (the default value is <code>true</code>).</p>
</li><li>
<p>Giving command-line option <code>–nocolorize</code></p>
</li></ul>

<h3 id="label-Debugging">Debugging</h3>

<p>Command-line option <code>-d</code> sets variables <code>$VERBOSE</code> and <code>$DEBUG</code> to <code>true</code>; these have no effect on <code>IRB</code> output.</p>

<h4 id="label-Warnings">Warnings</h4>

<p>Command-line option <code>-w</code> suppresses warnings.</p>

<p>Command-line option <code>-W[<strong>level</strong>]</code> sets warning level;</p>
<ul><li>
<p>0=silence</p>
</li><li>
<p>1=medium</p>
</li><li>
<p>2=verbose</p>
</li></ul>

<h3 id="label-Other+Features">Other Features</h3>

<h4 id="label-Load+Modules">Load Modules</h4>

<p>You can specify the names of modules that are to be required at startup.</p>

<p>Array <code>conf.load_modules</code> determines the modules (if any) that are to be required during session startup. The array is used only during session startup, so the initial value is the only one that counts.</p>

<p>The default initial value is <code>[]</code> (load no modules):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_load_modules'><a href="#load_modules-class_method" title="IRB.load_modules (method)">load_modules</a></span>
<span class='comment'>#=&gt; []</span></code></pre>

<p>You can set the default initial value via:</p>
<ul><li>
<p>Command-line option <code>-r</code></p>

<pre class="code ruby"><code class="ruby"> <span class='gvar'>$ </span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>-</span><span class='id identifier rubyid_r'>r</span> <span class='id identifier rubyid_csv'>csv</span> <span class='op'>-</span><span class='id identifier rubyid_r'>r</span> <span class='id identifier rubyid_json'>json</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_load_modules'><a href="#load_modules-class_method" title="IRB.load_modules (method)">load_modules</a></span>
<span class='comment'>#=&gt; [&quot;csv&quot;, &quot;json&quot;]</span></code></pre>
</li><li>
<p>Hash entry ‘<a href=":LOAD_MODULES">IRB.conf</a> = <strong>array</strong>`:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>LOAD_MODULES</span>] <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>csv,</span><span class='words_sep'> </span><span class='tstring_content'>json</span><span class='tstring_end'>]</span></span></code></pre>
</li></ul>

<p>Note that the configuration file entry overrides the command-line options.</p>

<h4 id="label-RI+Documentation+Directories">RI Documentation Directories</h4>

<p>You can specify the paths to RI documentation directories that are to be loaded (in addition to the default directories) at startup; see details about RI by typing <code>ri --help</code>.</p>

<p>Array <code>conf.extra_doc_dirs</code> determines the directories (if any) that are to be loaded during session startup. The array is used only during session startup, so the initial value is the only one that counts.</p>

<p>The default initial value is <code>[]</code> (load no extra documentation):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_extra_doc_dirs'>extra_doc_dirs</span>
<span class='comment'>#=&gt; []</span></code></pre>

<p>You can set the default initial value via:</p>
<ul><li>
<p>Command-line option <code>–extra_doc_dir</code></p>

<pre class="code ruby"><code class="ruby"><span class='gvar'>$ </span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_extra'>extra</span><span class='op'>-</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>-</span><span class='id identifier rubyid_dir'>dir</span> <span class='id identifier rubyid_your_doc_dir'>your_doc_dir</span> <span class='op'>-</span><span class='op'>-</span><span class='id identifier rubyid_extra'>extra</span><span class='op'>-</span><span class='id identifier rubyid_doc'>doc</span><span class='op'>-</span><span class='id identifier rubyid_dir'>dir</span> <span class='id identifier rubyid_my_doc_dir'>my_doc_dir</span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_extra_doc_dirs'>extra_doc_dirs</span>
<span class='comment'>#=&gt; [&quot;your_doc_dir&quot;, &quot;my_doc_dir&quot;]</span></code></pre>
</li><li>
<p>Hash entry ‘<a href=":EXTRA_DOC_DIRS">IRB.conf</a> = <strong>array</strong>`:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>EXTRA_DOC_DIRS</span>] <span class='op'>=</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>your_doc_dir</span><span class='words_sep'> </span><span class='tstring_content'>my_doc_dir</span><span class='tstring_end'>]</span></span></code></pre>
</li></ul>

<p>Note that the configuration file entry overrides the command-line options.</p>

<h4 id="label-IRB+Name">IRB Name</h4>

<p>You can specify a name for <code>IRB</code>.</p>

<p>The default initial value is <code>‘irb’</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_irb_name'>irb_name</span>
<span class='comment'>#=&gt; &quot;irb&quot;</span></code></pre>

<p>You can set the default initial value via hash entry ‘<a href=":IRB_NAME">IRB.conf</a> = <strong>string</strong>`:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>IRB_NAME</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span></code></pre>

<h4 id="label-Application+Name">Application Name</h4>

<p>You can specify an application name for the <code>IRB</code> session.</p>

<p>The default initial value is <code>‘irb’</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>&gt;</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_ap_name'>ap_name</span>
<span class='comment'>#=&gt; &quot;irb&quot;</span></code></pre>

<p>You can set the default initial value via hash entry ‘<a href=":AP_NAME">IRB.conf</a> = <strong>string</strong>`:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>AP_NAME</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my_ap_name</span><span class='tstring_end'>&#39;</span></span></code></pre>

<h4 id="label-Configuration+Monitor">Configuration Monitor</h4>

<p>You can monitor changes to the configuration by assigning a proc to <code>:IRB_RC</code> in the configuration file:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>] <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> {<span class='op'>|</span><span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>.<span class='id identifier rubyid_class'>class</span> }</code></pre>

<p>Each time the configuration is changed, that proc is called with argument <a href="#conf-class_method" title="IRB.conf (method)">.conf</a>:</p>

<h4 id="label-Encodings">Encodings</h4>

<p>Command-line option <code>-E <strong>ex</strong>[:<strong>in</strong>]</code> sets initial external (ex) and internal (in) encodings.</p>

<p>Command-line option <code>-U</code> sets both to UTF-8.</p>

<h4 id="label-Commands">Commands</h4>

<p>Please use the <code>help</code> command to see the list of available commands.</p>

<h4 id="label-IRB+Sessions">IRB Sessions</h4>

<p><code>IRB</code> has a special feature, that allows you to manage many sessions at once.</p>

<p>You can create new sessions with <code>Irb.irb</code>, and get a list of current sessions with the <code>jobs</code> command in the prompt.</p>

<h5 id="label-Configuration">Configuration</h5>

<p>The command line options, or <a href="#conf-class_method" title="IRB.conf (method)">.conf</a>, specify the default behavior of <code>Irb.irb</code>.</p>

<p>On the other hand, each conf in IRB@Command-Line+Options is used to individually configure <a href="#irb-class_method" title="IRB.irb (method)">.irb</a>.</p>

<p>If a proc is set for <code>:IRB_RC</code>, its will be invoked after execution of that proc with the context of the current session as its argument. Each session can be configured using this mechanism.</p>

<h5 id="label-Session+variables">Session variables</h5>

<p>There are a few variables in every <a href="IRB/Irb.html" title="IRB::Irb (class)"><code>Irb</code></a> session that can come in handy:</p>

<p><code>_</code> :   The value command executed, as a local variable <code>__</code> :   The history of evaluated commands. Available only if</p>

<pre class="code ruby"><code class="ruby">{<span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>EVAL_HISTORY</span>]} <span class='id identifier rubyid_is'>is</span> <span class='kw'>not</span> {<span class='kw'>nil</span>} (<span class='id identifier rubyid_which'>which</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_default'>default</span>). <span class='const'>See</span> <span class='id identifier rubyid_also'>also</span>
<span class='const'>IRB</span><span class='op'>::</span><span class='const'><a href="IRB/Context.html" title="IRB::Context (class)">Context</a></span><span class='comment'>#eval_history= and IRB::History.</span></code></pre>

<p><code>line_no</code> :   Returns the evaluation value at the given line number, <code>line_no</code>. If</p>

<pre class="code ruby"><code class="ruby">{<span class='id identifier rubyid_line_no'>line_no</span>} <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_a'>a</span> <span class='id identifier rubyid_negative'>negative</span><span class='comma'>,</span> <span class='id identifier rubyid_the'>the</span> <span class='kw'>return</span> <span class='id identifier rubyid_value'>value</span> {<span class='id identifier rubyid_line_no'>line_no</span>} <span class='id identifier rubyid_many'>many</span> <span class='id identifier rubyid_lines'>lines</span> <span class='id identifier rubyid_before'>before</span> <span class='id identifier rubyid_the'>the</span>
<span class='id identifier rubyid_most'>most</span> <span class='id identifier rubyid_recent'>recent</span> <span class='kw'>return</span> <span class='id identifier rubyid_value'>value</span>.</code></pre>

<h3 id="label-Restrictions">Restrictions</h3>

<p>Ruby code typed into <code>IRB</code> behaves the same as Ruby code in a file, except that:</p>
<ul><li>
<p>Because IRB evaluates input immediately after it is syntactically complete, some results may be slightly different.</p>
</li><li>
<p>Forking may not be well behaved.</p>
</li></ul>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='ExtendCommand-constant' class='summary_signature'>ExtendCommand =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/default_commands.rb#L240-L240'># File 'lib/irb/default_commands.rb', line 240</a>    <pre class='code ruby'><span class='const'><a href="IRB/Command.html" title="IRB::Command (module)">Command</a></span></pre>
  </li>
  <li>
    <span id='IRBRC_EXT-constant' class='summary_signature nodoc'>IRBRC_EXT =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L406-L406'># File 'lib/irb/init.rb', line 406</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rc</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
  <li>
    <span id='TOPLEVEL_BINDING-constant' class='summary_signature'>TOPLEVEL_BINDING =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/workspace.rb#L11-L11'># File 'lib/irb/workspace.rb', line 11</a>    <pre class='code ruby'><span class='id identifier rubyid_binding'>binding</span></pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature nodoc'>VERSION =</span>
    <span class='nodoc note title'>Internal use only</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/version.rb#L8-L8'># File 'lib/irb/version.rb', line 8</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.13.1</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#initialized%3F-class_method" title=".initialized? (class method)">.<strong>initialized?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#easter_egg-class_method" title=".easter_egg (class method)">.<strong>easter_egg</strong>(type = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#easter_egg_logo-class_method" title=".easter_egg_logo (class method)">.<strong>easter_egg_logo</strong>(type)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start-class_method" title=".start (class method)">.<strong>start</strong>(ap_path = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Initializes IRB and creates a new <code>Irb.irb</code> object at the <a href="#TOPLEVEL_BINDING-constant" title="IRB::TOPLEVEL_BINDING (constant)">TOPLEVEL_BINDING</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#conf-class_method" title=".conf (class method)">.<strong>conf</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Displays current configuration.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#CurrentContext-class_method" title=".CurrentContext (class method)"><strong>CurrentContext</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>The current <a href="IRB/Context.html" title="IRB::Context (class)"><code>Context</code></a> of the session, see <a href="#conf-class_method" title="IRB.conf (method)">.conf</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#init_config-class_method" title=".init_config (class method)">.<strong>init_config</strong>(ap_path)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#init_error-class_method" title=".init_error (class method)">.<strong>init_error</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#inspect-class_method" title=".inspect (class method)">.<strong>inspect</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#Inspector-class_method" title=".Inspector (class method)"><strong>Inspector</strong>(inspect, init = nil)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Convenience method to create a new <a href="IRB/Inspector.html" title="IRB::Inspector (class)"><code>Inspector</code></a>, using the given <a href="#inspect-class_method" title="IRB.inspect (method)">.inspect</a> proc, and optional <code>init</code> proc and passes them to <a href="IRB/Inspector.html#new-class_method" title="IRB::Inspector.new (method)">Inspector.new</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#irb-class_method" title=".irb (class method)">.<strong>irb</strong>(file = nil, *main)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>IRB</code> session, see <a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">Irb.new</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#irb_abort-class_method" title=".irb_abort (class method)">.<strong>irb_abort</strong>(irb, exception = Abort)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Aborts then interrupts irb.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#irb_exit-class_method" title=".irb_exit (class method)">.<strong>irb_exit</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Quits irb.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#irbrc_files-class_method" title=".irbrc_files (class method)">.<strong>irbrc_files</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#JobManager-class_method" title=".JobManager (class method)"><strong>JobManager</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>The current <a href="IRB/JobManager.html" title="IRB::JobManager (class)"><code>JobManager</code></a> in the session.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#load_modules-class_method" title=".load_modules (class method)">.<strong>load_modules</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>loading modules.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#parse_opts-class_method" title=".parse_opts (class method)">.<strong>parse_opts</strong>(argv: ::ARGV)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>option analyzing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#print_usage-class_method" title=".print_usage (class method)">.<strong>print_usage</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Outputs the irb help message, see IRB@Command-Line+Options.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#rc_file-class_method" title=".rc_file (class method)">.<strong>rc_file</strong>(ext)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#run_config-class_method" title=".run_config (class method)">.<strong>run_config</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Run the config file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#set_measure_callback-class_method" title=".set_measure_callback (class method)">.<strong>set_measure_callback</strong>(type = nil, arg = nil, &amp;block)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#setup-class_method" title=".setup (class method)">.<strong>setup</strong>(ap_path, argv: ::ARGV)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>initialize config.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#unset_measure_callback-class_method" title=".unset_measure_callback (class method)">.<strong>unset_measure_callback</strong>(type = nil)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#version-class_method" title=".version (class method)">.<strong>version</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the current version of <code>IRB</code>, including release version and last updated date.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#generate_current_dir_irbrc_files-class_method" title=".generate_current_dir_irbrc_files (class method)">.<strong>generate_current_dir_irbrc_files</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>possible irbrc files in current directory.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#prepare_irbrc_name_generators-class_method" title=".prepare_irbrc_name_generators (class method)">.<strong>prepare_irbrc_name_generators</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#rc_file_generators-class_method" title=".rc_file_generators (class method)">.<strong>rc_file_generators</strong>  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>enumerate possible rc-file base name generators.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#set_encoding-class_method" title=".set_encoding (class method)">.<strong>set_encoding</strong>(extern, intern = nil, override: true)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->
<h2 class='y_details'>Class Attribute Details</h2>
<section class='method_details first' id="initialized?-class_method">
  <h3 class='signature ro  nodoc first'>
    .<strong>initialized?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L45-L47'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='45' data-end='47'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 45</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_initialized?'>initialized?</span>
  <span class='op'>!</span><span class='op'>!</span><span class='ivar'>@INITIALIZED</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="conf-class_method">
  <h3 class='signature nodoc first'>
    .<strong>conf</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Displays current configuration.</p>

<p>Modifying the configuration is achieved by sending a message to <code>conf</code>.</p>

<p>See IRB@Configuration for more information.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L15-L17'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='15' data-end='17'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 15</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'>conf</span>
  <span class='ivar'>@CONF</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="CurrentContext-class_method">
  <h3 class='signature nodoc'>
    <strong>CurrentContext</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current <a href="IRB/Context.html" title="IRB::Context (class)"><code>::IRB::Context</code></a> of the session, see <a href="#conf-class_method" title="IRB.conf (method)">.conf</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>:</span><span class='int'>0</span><span class='op'>&gt;</span> <span class='const'>IRB</span>.<span class='const'>CurrentContext</span>.<span class='id identifier rubyid_irb_name'>irb_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_foo'>foo</span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>002</span><span class='op'>:</span><span class='int'>0</span><span class='op'>&gt;</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MAIN_CONTEXT</span>].<span class='id identifier rubyid_irb_name'>irb_name</span> <span class='comment'>#=&gt; &quot;foo&quot;</span></code></pre>

<p>See additional method definition at file lib/irb.rb line 888.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/multi-irb.rb#L174-L176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='174' data-end='176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 174</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='const'>CurrentContext</span> <span class='comment'># :nodoc:
</span>  <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MAIN_CONTEXT</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="easter_egg-class_method">
  <h3 class='signature '>
    .<strong>easter_egg</strong>(type = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/easter-egg.rb#L109-L144'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='109' data-end='144'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/easter-egg.rb', line 109</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_easter_egg'>easter_egg</span>(<span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_type'>type</span> <span class='op'>||=</span> [<span class='symbeg'>:</span><span class='id identifier rubyid_logo'>logo</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_dancing'>dancing</span>].<span class='id identifier rubyid_sample'>sample</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_logo'>logo</span>
    <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rdoc</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>RI</span><span class='op'>::</span><span class='const'>Driver</span>.<span class='id identifier rubyid_new'>new</span>.<span class='id identifier rubyid_page'>page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
      <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_easter_egg_logo'><a href="#easter_egg_logo-class_method" title="IRB.easter_egg_logo (method)">easter_egg_logo</a></span>(<span class='symbeg'>:</span><span class='id identifier rubyid_large'>large</span>)
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_dancing'>dancing</span>
    <span class='const'>STDOUT</span>.<span class='id identifier rubyid_cooked'>cooked</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_interrupted'>interrupted</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_prev_trap'>prev_trap</span> <span class='op'>=</span> <span class='id identifier rubyid_trap'>trap</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SIGINT</span><span class='tstring_end'>&quot;</span></span>) { <span class='id identifier rubyid_interrupted'>interrupted</span> <span class='op'>=</span> <span class='kw'>true</span> }
      <span class='id identifier rubyid_canvas'>canvas</span> <span class='op'>=</span> <span class='const'><a href="IRB/Canvas.html" title="IRB::Canvas (class)">Canvas</a></span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'>Reline</span>.<span class='id identifier rubyid_get_screen_size'>get_screen_size</span>)
      <span class='const'>Reline</span><span class='op'>::</span><span class='const'>IOGate</span>.<span class='id identifier rubyid_set_winch_handler'>set_winch_handler</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_canvas'>canvas</span> <span class='op'>=</span> <span class='const'><a href="IRB/Canvas.html" title="IRB::Canvas (class)">Canvas</a></span>.<span class='id identifier rubyid_new'>new</span>(<span class='const'>Reline</span>.<span class='id identifier rubyid_get_screen_size'>get_screen_size</span>)
      <span class='kw'>end</span>
      <span class='id identifier rubyid_ruby_model'>ruby_model</span> <span class='op'>=</span> <span class='const'><a href="IRB/RubyModel.html" title="IRB::RubyModel (class)">RubyModel</a></span>.<span class='id identifier rubyid_new'>new</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[?1049h</span><span class='tstring_end'>&quot;</span></span>
      <span class='int'>0</span>.<span class='id identifier rubyid_step'>step</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='comment'># TODO (0..).each needs Ruby 2.6 or later
</span>        <span class='id identifier rubyid_buff'>buff</span> <span class='op'>=</span> <span class='id identifier rubyid_canvas'>canvas</span>.<span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_ruby_model'>ruby_model</span>.<span class='id identifier rubyid_render_frame'>render_frame</span>(<span class='id identifier rubyid_i'>i</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_p1'>p1</span><span class='comma'>,</span> <span class='id identifier rubyid_p2'>p2</span><span class='op'>|</span>
            <span class='id identifier rubyid_canvas'>canvas</span>.<span class='id identifier rubyid_line'>line</span>(<span class='id identifier rubyid_p1'>p1</span><span class='comma'>,</span> <span class='id identifier rubyid_p2'>p2</span>)
          <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_buff'>buff</span>[<span class='int'>0</span><span class='comma'>,</span> <span class='int'>20</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[0mPress Ctrl+C to stop\e[31m\e[1m</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[H</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_buff'>buff</span>
        <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.05</span>
        <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_interrupted'>interrupted</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\e[0m\e[?1049l</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_trap'>trap</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SIGINT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_prev_trap'>prev_trap</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="easter_egg_logo-class_method">
  <h3 class='signature '>
    .<strong>easter_egg_logo</strong>(type)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/easter-egg.rb#L101-L107'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='101' data-end='107'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/easter-egg.rb', line 101</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_private'>private</span> <span class='kw'>def</span> <span class='id identifier rubyid_easter_egg_logo'>easter_egg_logo</span>(<span class='id identifier rubyid_type'>type</span>)
  <span class='ivar'>@easter_egg_logos</span> <span class='op'>||=</span> <span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid___dir__'>__dir__</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ruby_logo.aa</span><span class='tstring_end'>&#39;</span></span>)<span class='comma'>,</span> <span class='label'>encoding:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UTF-8:UTF-8</span><span class='tstring_end'>&#39;</span></span>)
    .<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>TYPE: ([A-Z]+)\n</span><span class='regexp_end'>/</span></span>)[<span class='int'>1</span><span class='op'>..</span>]
    .<span class='id identifier rubyid_each_slice'>each_slice</span>(<span class='int'>2</span>)
    .<span class='id identifier rubyid_to_h'>to_h</span>
  <span class='ivar'>@easter_egg_logos</span>[<span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_upcase'>upcase</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="generate_current_dir_irbrc_files-class_method">
  <h3 class='signature priv  nodoc'>
    .<strong>generate_current_dir_irbrc_files</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>possible irbrc files in current directory</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L482-L485'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='482' data-end='485'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 482</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_current_dir_irbrc_files'>generate_current_dir_irbrc_files</span>
  <span class='id identifier rubyid_current_dir'>current_dir</span> <span class='op'>=</span> <span class='const'>Dir</span>.<span class='id identifier rubyid_pwd'>pwd</span>
  <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>.irbrc</span><span class='words_sep'> </span><span class='tstring_content'>irbrc</span><span class='words_sep'> </span><span class='tstring_content'>_irbrc</span><span class='words_sep'> </span><span class='tstring_content'>$irbrc</span><span class='tstring_end'>]</span></span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_dir'>current_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_file'>file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="init_config-class_method">
  <h3 class='signature nodoc'>
    .<strong>init_config</strong>(ap_path)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L64-L196'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='64' data-end='196'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 64</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_init_config'>init_config</span>(<span class='id identifier rubyid_ap_path'>ap_path</span>)
  <span class='comment'># default configurations
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_ap_path'>ap_path</span> <span class='kw'>and</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AP_NAME</span>]
    <span class='id identifier rubyid_ap_path'>ap_path</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='kw'>__FILE__</span>))<span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb.rb</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'><a href="#VERSION-constant" title="IRB::VERSION (constant)">VERSION</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_version'><a href="#version-class_method" title="IRB.version (method)">version</a></span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AP_NAME</span>] <span class='op'>=</span> <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span>)

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_NAME</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_LIB_PATH</span>] <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_dirname'>dirname</span>(<span class='kw'>__FILE__</span>)

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LOAD_MODULES</span>] <span class='op'>=</span> []
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>] <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_SINGLELINE</span>] <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='const'><a href="IRB/ReadlineInputMethod.html" title="IRB::ReadlineInputMethod (class)">ReadlineInputMethod</a></span>)
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_COLORIZE</span>] <span class='op'>=</span> (<span class='id identifier rubyid_nc'>nc</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NO_COLOR</span><span class='tstring_end'>&#39;</span></span>]).<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_nc'>nc</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_AUTOCOMPLETE</span>] <span class='op'>=</span> <span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>IRB_USE_AUTOCOMPLETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>false</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>COMPLETOR</span>] <span class='op'>=</span> <span class='const'>ENV</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>IRB_COMPLETOR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>regexp</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_to_sym'>to_sym</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>INSPECT_MODE</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_TRACER</span>] <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_LOADER</span>] <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IGNORE_SIGINT</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IGNORE_EOF</span>] <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_PAGER</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>EXTRA_DOC_DIRS</span>] <span class='op'>=</span> []
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO</span>] <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>VERBOSE</span>] <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>EVAL_HISTORY</span>] <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SAVE_HISTORY</span>] <span class='op'>=</span> <span class='int'>1000</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>BACK_TRACE_LIMIT</span>] <span class='op'>=</span> <span class='int'>16</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>] <span class='op'>=</span> {
    <span class='symbeg'>:</span><span class='const'>NULL</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'>DEFAULT</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; %s\n</span><span class='tstring_end'>&quot;</span></span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'>CLASSIC</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i%l </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n:%i* </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'>SIMPLE</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%l&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=&gt; %s\n</span><span class='tstring_end'>&quot;</span></span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'>INF_RUBY</span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%N(%m):%03n&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
    }<span class='comma'>,</span>
    <span class='symbeg'>:</span><span class='const'><a href="XMP.html" title="XMP (class)">XMP</a></span> <span class='op'>=&gt;</span> {
      <span class='symbeg'>:</span><span class='const'>PROMPT_I</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_S</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>PROMPT_C</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
      <span class='symbeg'>:</span><span class='const'>RETURN</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    ==&gt;%s\n</span><span class='tstring_end'>&quot;</span></span>
    }
  }

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> (<span class='const'>STDIN</span>.<span class='id identifier rubyid_tty?'>tty?</span> <span class='op'>?</span> <span class='symbeg'>:</span><span class='const'>DEFAULT</span> <span class='op'>:</span> <span class='symbeg'>:</span><span class='const'>NULL</span>)
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AUTO_INDENT</span>] <span class='op'>=</span> <span class='kw'>true</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>CONTEXT_MODE</span>] <span class='op'>=</span> <span class='int'>4</span> <span class='comment'># use a copy of TOPLEVEL_BINDING
</span>  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SINGLE_IRB</span>] <span class='op'>=</span> <span class='kw'>false</span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>MEASURE</span>] <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>MEASURE_PROC</span>] <span class='op'>=</span> {}
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>MEASURE_PROC</span>][<span class='symbeg'>:</span><span class='const'>TIME</span>] <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> { <span class='op'>|</span><span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_code'>code</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
    <span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='const'>Time</span>.<span class='id identifier rubyid_now'>now</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>.()
    <span class='id identifier rubyid_now'>now</span> <span class='op'>=</span> <span class='const'>Time</span>.<span class='id identifier rubyid_now'>now</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>processing time: %fs</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> (<span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_time'>time</span>) <span class='kw'>if</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE</span>]
    <span class='id identifier rubyid_result'>result</span>
  }
  <span class='comment'># arg can be either a symbol for the mode (:cpu, :wall, ..) or a hash for
</span>  <span class='comment'># a more complete configuration.
</span>  <span class='comment'># See https://github.com/tmm1/stackprof#all-options.
</span>  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>MEASURE_PROC</span>][<span class='symbeg'>:</span><span class='const'>STACKPROF</span>] <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> { <span class='op'>|</span><span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='id identifier rubyid_code'>code</span><span class='comma'>,</span> <span class='id identifier rubyid_line_no'>line_no</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_block'>block</span>.() <span class='kw'>unless</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE</span>]
    <span class='id identifier rubyid_success'>success</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stackprof</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_success'>success</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>rescue</span> <span class='const'>LoadError</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Please run &quot;gem install stackprof&quot; before measuring by StackProf.</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_success'>success</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> { <span class='label'>mode:</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>||</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cpu'>cpu</span> } <span class='kw'>unless</span> <span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Hash</span>)
      <span class='id identifier rubyid_stackprof_result'>stackprof_result</span> <span class='op'>=</span> <span class='const'>StackProf</span>.<span class='id identifier rubyid_run'>run</span>(<span class='op'>**</span><span class='id identifier rubyid_arg'>arg</span>) <span class='kw'>do</span>
        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>.()
      <span class='kw'>end</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_stackprof_result'>stackprof_result</span>
      <span class='kw'>when</span> <span class='const'>File</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>StackProf report saved to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stackprof_result'>stackprof_result</span>.<span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>when</span> <span class='const'>Hash</span>
        <span class='const'>StackProf</span><span class='op'>::</span><span class='const'>Report</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_stackprof_result'>stackprof_result</span>).<span class='id identifier rubyid_print_text'>print_text</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stackprof ran with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-class_method" title="IRB.inspect (method)">inspect</a></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_block'>block</span>.()
    <span class='kw'>end</span>
  }
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>MEASURE_CALLBACKS</span>] <span class='op'>=</span> []

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>] <span class='op'>=</span> <span class='const'><a href="IRB/Locale.html" title="IRB::Locale (class)">Locale</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Locale.html#new-class_method" title="IRB::Locale.new (method)">new</a></span>

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>AT_EXIT</span>] <span class='op'>=</span> []

  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>COMMAND_ALIASES</span>] <span class='op'>=</span> {
    <span class='comment'># Symbol aliases
</span>    <span class='symbeg'>:&#39;</span><span class='tstring_content'>$</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_show_source'>show_source</span><span class='comma'>,</span>
    <span class='symbeg'>:&#39;</span><span class='tstring_content'>@</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='symbeg'>:</span><span class='id identifier rubyid_whereami'>whereami</span><span class='comma'>,</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="init_error-class_method">
  <h3 class='signature nodoc'>
    .<strong>init_error</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L245-L247'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='245' data-end='247'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 245</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_init_error'>init_error</span>
  <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>].<span class='id identifier rubyid_load'>load</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/error.rb</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-class_method">
  <h3 class='signature nodoc'>
    .<strong>inspect</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L19-L37'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='19' data-end='37'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 19</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='ivar'>@CONF</span>.<span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> []
  <span class='kw'>for</span> <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>in</span> <span class='id identifier rubyid_sort'>sort</span>{<span class='op'>|</span><span class='id identifier rubyid_a1'>a1</span><span class='comma'>,</span> <span class='id identifier rubyid_a2'>a2</span><span class='op'>|</span> <span class='id identifier rubyid_a1'>a1</span>[<span class='int'>0</span>].<span class='id identifier rubyid_id2name'>id2name</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a2'>a2</span>[<span class='int'>0</span>].<span class='id identifier rubyid_id2name'>id2name</span>}
    <span class='kw'>case</span> <span class='id identifier rubyid_k'>k</span>
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='const'>MAIN_CONTEXT</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid___TMP__EHV__'>__TMP__EHV__</span>
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]=...myself...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span>)
    <span class='kw'>when</span> <span class='symbeg'>:</span><span class='const'>PROMPT</span>
      <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_collect'>collect</span>{
        <span class='op'>|</span><span class='id identifier rubyid_kk'>kk</span><span class='comma'>,</span> <span class='id identifier rubyid_vv'>vv</span><span class='op'>|</span>
        <span class='id identifier rubyid_ss'>ss</span> <span class='op'>=</span> <span class='id identifier rubyid_vv'>vv</span>.<span class='id identifier rubyid_collect'>collect</span>{<span class='op'>|</span><span class='id identifier rubyid_kkk'>kkk</span><span class='comma'>,</span> <span class='id identifier rubyid_vvv'>vvv</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_kkk'>kkk</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_vvv'>vvv</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
        <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:%s=&gt;{%s}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_kk'>kk</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_ss'>ss</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>))
      }
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]={%s}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>))
    <span class='kw'>else</span>
      <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CONF[:%s]=%s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span>.<span class='id identifier rubyid_id2name'>id2name</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>.<span class='id identifier rubyid_inspect'>inspect</span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="Inspector-class_method">
  <h3 class='signature nodoc'>
    <strong>Inspector</strong>(inspect, init = nil)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Convenience method to create a new <a href="IRB/Inspector.html" title="IRB::Inspector (class)"><code>::IRB::Inspector</code></a>, using the given <a href="#inspect-class_method" title="IRB.inspect (method)">.inspect</a> proc, and optional <code>init</code> proc and passes them to <a href="IRB/Inspector.html#new-class_method" title="IRB::Inspector.new (method)">Inspector.new</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>:</span><span class='int'>0</span><span class='op'>&gt;</span> <span class='id identifier rubyid_ins'>ins</span> <span class='op'>=</span> <span class='const'>IRB</span><span class='op'>::</span><span class='const'><a href="IRB/Inspector.html" title="IRB::Inspector (class)">Inspector</a></span>(<span class='id identifier rubyid_proc'>proc</span>{ <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>omg! </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> })
<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>:</span><span class='int'>0</span><span class='op'>&gt;</span> <span class='const'>IRB</span>.<span class='const'><a href="#CurrentContext-class_method" title="IRB.CurrentContext (method)">CurrentContext</a></span>.<span class='id identifier rubyid_inspect_mode'>inspect_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_ins'>ins</span> <span class='comment'># =&gt; omg! #&lt;IRB::Inspector:0x007f46f7ba7d28&gt;
</span><span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>(<span class='id identifier rubyid_main'>main</span>)<span class='op'>:</span><span class='int'>001</span><span class='op'>:</span><span class='int'>0</span><span class='op'>&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>what?</span><span class='tstring_end'>&quot;</span></span> <span class='comment'>#=&gt; omg! what?</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/inspector.rb#L17-L19'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='17' data-end='19'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/inspector.rb', line 17</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span><span class='op'>::</span><span class='const'><a href="IRB/Inspector.html" title="IRB::Inspector (class)">Inspector</a></span>(<span class='id identifier rubyid_inspect'><a href="#inspect-class_method" title="IRB.inspect (method)">inspect</a></span><span class='comma'>,</span> <span class='id identifier rubyid_init'>init</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='const'><a href="IRB/Inspector.html" title="IRB::Inspector (class)">Inspector</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Inspector.html#new-class_method" title="IRB::Inspector.new (method)">new</a></span>(<span class='id identifier rubyid_inspect'><a href="#inspect-class_method" title="IRB.inspect (method)">inspect</a></span><span class='comma'>,</span> <span class='id identifier rubyid_init'>init</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb-class_method">
  <h3 class='signature nodoc'>
    .<strong>irb</strong>(file = nil, *main)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>IRB</code> session, see <a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">Irb.new</a>.</p>

<p>The optional <code>file</code> argument is given to <a href="IRB/Context.html#new-class_method" title="IRB::Context.new (method)">Context.new</a>, along with the workspace created with the remaining arguments, see <a href="IRB/WorkSpace.html#new-class_method" title="IRB::WorkSpace.new (method)">WorkSpace.new</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/multi-irb.rb#L182-L224'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='182' data-end='224'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 182</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_main'>main</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_workspace'>workspace</span> <span class='op'>=</span> <span class='const'><a href="IRB/WorkSpace.html" title="IRB::WorkSpace (class)">WorkSpace</a></span>.<span class='id identifier rubyid_new'><a href="IRB/WorkSpace.html#new-class_method" title="IRB::WorkSpace.new (method)">new</a></span>(<span class='op'>*</span><span class='id identifier rubyid_main'>main</span>)
  <span class='id identifier rubyid_parent_thread'>parent_thread</span> <span class='op'>=</span> <span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="IRB.start (method)">start</a></span> <span class='kw'>do</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_irb'>irb</span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>(<span class='id identifier rubyid_workspace'>workspace</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span>)
    <span class='kw'>rescue</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Subirb can&#39;t start with context(self): </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_workspace'>workspace</span>.<span class='id identifier rubyid_main'>main</span>.<span class='id identifier rubyid_inspect'><a href="#inspect-class_method" title="IRB.inspect (method)">inspect</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>return to main irb\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_pass'>pass</span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_main'>main</span>.<span class='id identifier rubyid_wakeup'>wakeup</span>
      <span class='const'>Thread</span>.<span class='id identifier rubyid_exit'>exit</span>
    <span class='kw'>end</span>
    <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>].<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_irb'>irb</span>.<span class='id identifier rubyid_context'>context</span>) <span class='kw'>if</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>IRB_RC</span>]
    <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_insert'>insert</span>(<span class='id identifier rubyid_irb'>irb</span>)
    <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='id identifier rubyid_irb'>irb</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_system_exit'>system_exit</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_catch'>catch</span>(<span class='symbeg'>:</span><span class='const'>IRB_EXIT</span>) <span class='kw'>do</span>
        <span class='id identifier rubyid_irb'>irb</span>.<span class='id identifier rubyid_eval_input'>eval_input</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>SystemExit</span>
      <span class='id identifier rubyid_system_exit'>system_exit</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_raise'>raise</span>
      <span class='comment'>#fail
</span>    <span class='kw'>ensure</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_system_exit'>system_exit</span>
        <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_irb'>irb</span>)
        <span class='kw'>if</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>==</span> <span class='id identifier rubyid_irb'>irb</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_parent_thread'>parent_thread</span>.<span class='id identifier rubyid_alive?'>alive?</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='id identifier rubyid_parent_thread'>parent_thread</span>)
            <span class='id identifier rubyid_parent_thread'>parent_thread</span>.<span class='id identifier rubyid_run'>run</span>
          <span class='kw'>else</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_main_irb'>main_irb</span>
            <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_main_thread'>main_thread</span>.<span class='id identifier rubyid_run'>run</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='const'>Thread</span>.<span class='id identifier rubyid_stop'>stop</span>
  <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_current_job'>current_job</span> <span class='op'>=</span> <span class='ivar'>@JobManager</span>.<span class='id identifier rubyid_irb'>irb</span>(<span class='const'>Thread</span>.<span class='id identifier rubyid_current'>current</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb_abort-class_method">
  <h3 class='signature nodoc'>
    .<strong>irb_abort</strong>(irb, exception = Abort)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Aborts then interrupts irb.</p>

<p>Will raise an <a href="IRB/Abort.html" title="IRB::Abort (class)"><code>::IRB::Abort</code></a> exception, or the given <code>exception</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb.rb#L915-L917'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='915' data-end='917'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 915</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb_abort'>irb_abort</span>(<span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span><span class='comma'>,</span> <span class='id identifier rubyid_exception'>exception</span> <span class='op'>=</span> <span class='const'><a href="IRB/Abort.html" title="IRB::Abort (class)">Abort</a></span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>.<span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_thread'>thread</span>.<span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>abort then interrupt!</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irb_exit-class_method">
  <h3 class='signature nodoc'>
    .<strong>irb_exit</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Quits irb</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb.rb#L908-L910'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='908' data-end='910'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 908</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irb_exit'>irb_exit</span>(<span class='op'>*</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_throw'>throw</span> <span class='symbeg'>:</span><span class='const'>IRB_EXIT</span><span class='comma'>,</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="irbrc_files-class_method">
  <h3 class='signature nodoc'>
    .<strong>irbrc_files</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L425-L428'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='425' data-end='428'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 425</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_irbrc_files'>irbrc_files</span>
  <span class='id identifier rubyid_prepare_irbrc_name_generators'><a href="#prepare_irbrc_name_generators-class_method" title="IRB.prepare_irbrc_name_generators (method)">prepare_irbrc_name_generators</a></span>
  <span class='ivar'>@irbrc_files</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="JobManager-class_method">
  <h3 class='signature nodoc'>
    <strong>JobManager</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current <a href="IRB/JobManager.html" title="IRB::JobManager (class)"><code>::IRB::JobManager</code></a> in the session</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/ext/multi-irb.rb#L169-L171'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='169' data-end='171'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/ext/multi-irb.rb', line 169</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='const'>JobManager</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@JobManager</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load_modules-class_method">
  <h3 class='signature nodoc'>
    .<strong>load_modules</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>loading modules</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L431-L439'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='431' data-end='439'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 431</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_load_modules'>load_modules</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_m'>m</span> <span class='kw'>in</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LOAD_MODULES</span>]
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_require'>require</span> <span class='id identifier rubyid_m'>m</span>
    <span class='kw'>rescue</span> <span class='const'>LoadError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_err'>err</span>
      <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_err'>err</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_err'>err</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>uplevel:</span> <span class='int'>0</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="parse_opts-class_method">
  <h3 class='signature nodoc'>
    .<strong>parse_opts</strong>(argv: ::ARGV)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>option analyzing</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L250-L393'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='250' data-end='393'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 250</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_parse_opts'>parse_opts</span>(<span class='label'>argv:</span> <span class='op'>::</span><span class='const'>ARGV</span>)
  <span class='id identifier rubyid_load_path'>load_path</span> <span class='op'>=</span> []
  <span class='kw'>while</span> <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-f</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-d</span><span class='tstring_end'>&quot;</span></span>
      <span class='gvar'>$DEBUG</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-w</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_deprecated'>deprecated</span>] <span class='op'>=</span> <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-W(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_opt'>opt</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
        <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
        <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>else</span>
        <span class='const'>Warning</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_deprecated'>deprecated</span>] <span class='op'>=</span> <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-r(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LOAD_MODULES</span>].<span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_opt'>opt</span> <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-I(.+)?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_load_path'>load_path</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_split'>split</span>(<span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span>)) <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-U</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_set_encoding'><a href="#set_encoding-class_method" title="IRB.set_encoding (method)">set_encoding</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-E(.+)?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--encoding(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_set_encoding'><a href="#set_encoding-class_method" title="IRB.set_encoding (method)">set_encoding</a></span>(<span class='op'>*</span><span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_split'>split</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span>))
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inspect</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_first'>first</span>
        <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>INSPECT_MODE</span>] <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='kw'>else</span>
        <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>INSPECT_MODE</span>] <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noinspect</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>INSPECT_MODE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-pager</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_PAGER</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--singleline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--readline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--legacy</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_SINGLELINE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--nosingleline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noreadline</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_SINGLELINE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--multiline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--reidline</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--reidline</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_warn'>warn</span> <span class='heredoc_beg'>&lt;&lt;~MSG</span>.<span class='id identifier rubyid_strip'>strip</span>
<span class='ignored_sp'>          </span><span class='tstring_content'>--reidline is deprecated, please use --multiline instead.
</span><span class='heredoc_end'>        MSG
</span>      <span class='kw'>end</span>

      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_MULTILINE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--nomultiline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noreidline</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_opt'>opt</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noreidline</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_warn'>warn</span> <span class='heredoc_beg'>&lt;&lt;~MSG</span>.<span class='id identifier rubyid_strip'>strip</span>
<span class='ignored_sp'>          </span><span class='tstring_content'>--noreidline is deprecated, please use --nomultiline instead.
</span><span class='heredoc_end'>        MSG
</span>      <span class='kw'>end</span>

      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_MULTILINE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--extra-doc-dir(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>EXTRA_DOC_DIRS</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--echo</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noecho</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--echo-on-assignment</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noecho-on-assignment</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--truncate-echo-on-assignment</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>ECHO_ON_ASSIGNMENT</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_truncate'>truncate</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>VERBOSE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noverbose</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>VERBOSE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--colorize</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_COLORIZE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--nocolorize</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_COLORIZE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--autocomplete</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_AUTOCOMPLETE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noautocomplete</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_AUTOCOMPLETE</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--regexp-completor</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>COMPLETOR</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_regexp'>regexp</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--type-completor</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>COMPLETOR</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_type'>type</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--prompt-mode(?:=(.+))?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--prompt(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_prompt_mode'>prompt_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>.<span class='id identifier rubyid_upcase'>upcase</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_intern'>intern</span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='id identifier rubyid_prompt_mode'>prompt_mode</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noprompt</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>NULL</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--script</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_noscript'>noscript</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--noscript</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_noscript'>noscript</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inf-ruby-mode</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>INF_RUBY</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--sample-book-mode</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--simple-prompt</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='const'>SIMPLE</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tracer</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>USE_TRACER</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--back-trace-limit(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>BACK_TRACE_LIMIT</span>] <span class='op'>=</span> (<span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>).<span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--context-mode(?:=(.+))?</span><span class='regexp_end'>/</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>CONTEXT_MODE</span>] <span class='op'>=</span> (<span class='backref'>$1</span> <span class='op'>||</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>).<span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--single-irb</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SINGLE_IRB</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-v</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_print'>print</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_version'><a href="#version-class_method" title="IRB.version (method)">version</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_require_relative'>require_relative</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>help</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>IRB</span>.<span class='id identifier rubyid_print_usage'><a href="#print_usage-class_method" title="IRB.print_usage (method)">print_usage</a></span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='int'>0</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_noscript'>noscript</span> <span class='op'>&amp;&amp;</span> (<span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_shift'>shift</span>)
        <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>] <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
        <span class='gvar'>$0</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
      <span class='kw'>end</span>
      <span class='kw'>break</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^-.</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_fail'>fail</span> <span class='const'><a href="IRB/UnrecognizedSwitch.html" title="IRB::UnrecognizedSwitch (class)">UnrecognizedSwitch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opt'>opt</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_noscript'>noscript</span>
        <span class='id identifier rubyid_argv'>argv</span>.<span class='id identifier rubyid_unshift'>unshift</span>(<span class='id identifier rubyid_opt'>opt</span>)
      <span class='kw'>else</span>
        <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>] <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
        <span class='gvar'>$0</span> <span class='op'>=</span> <span class='id identifier rubyid_opt'>opt</span>
      <span class='kw'>end</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_load_path'>load_path</span>.<span class='id identifier rubyid_collect!'>collect!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\.\/</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>?</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>:</span> <span class='const'>File</span>.<span class='id identifier rubyid_expand_path'>expand_path</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='kw'>end</span>
  <span class='gvar'>$LOAD_PATH</span>.<span class='id identifier rubyid_unshift'>unshift</span>(<span class='op'>*</span><span class='id identifier rubyid_load_path'>load_path</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prepare_irbrc_name_generators-class_method">
  <h3 class='signature priv  nodoc'>
    .<strong>prepare_irbrc_name_generators</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L444-L460'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='444' data-end='460'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 444</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prepare_irbrc_name_generators'>prepare_irbrc_name_generators</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@existing_rc_name_generators</span>

  <span class='ivar'>@existing_rc_name_generators</span> <span class='op'>=</span> []
  <span class='ivar'>@irbrc_files</span> <span class='op'>=</span> []
  <span class='id identifier rubyid_rc_file_generators'><a href="#rc_file_generators-class_method" title="IRB.rc_file_generators (method)">rc_file_generators</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rcgen'>rcgen</span><span class='op'>|</span>
    <span class='id identifier rubyid_irbrc'>irbrc</span> <span class='op'>=</span> <span class='id identifier rubyid_rcgen'>rcgen</span>.<span class='id identifier rubyid_call'>call</span>(<span class='const'><a href="#IRBRC_EXT-constant" title="IRB::IRBRC_EXT (constant)">IRBRC_EXT</a></span>)
    <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_irbrc'>irbrc</span>)
      <span class='ivar'>@irbrc_files</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_irbrc'>irbrc</span>
      <span class='ivar'>@existing_rc_name_generators</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_rcgen'>rcgen</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_generate_current_dir_irbrc_files'><a href="#generate_current_dir_irbrc_files-class_method" title="IRB.generate_current_dir_irbrc_files (method)">generate_current_dir_irbrc_files</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_irbrc'>irbrc</span><span class='op'>|</span>
    <span class='ivar'>@irbrc_files</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_irbrc'>irbrc</span> <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_exist?'>exist?</span>(<span class='id identifier rubyid_irbrc'>irbrc</span>)
  <span class='kw'>end</span>
  <span class='ivar'>@irbrc_files</span>.<span class='id identifier rubyid_uniq!'>uniq!</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="print_usage-class_method">
  <h3 class='signature nodoc'>
    .<strong>print_usage</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Outputs the irb help message, see IRB@Command-Line+Options.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/help.rb#L9-L27'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='9' data-end='27'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/help.rb', line 9</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_print_usage'>print_usage</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_lc'>lc</span> <span class='op'>=</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>]
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_find'>find</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb/help-message</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_path'>path</span>){<span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_each_line'>each_line</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l'>l</span>
        <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_l'>l</span> <span class='kw'>unless</span> <span class='id identifier rubyid_space_line'>space_line</span>
        <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_space_line'>space_line</span> <span class='op'>=</span> <span class='kw'>false</span>

      <span class='id identifier rubyid_l'>l</span>.<span class='id identifier rubyid_sub!'>sub!</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>#.*$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_l'>l</span>
      <span class='id identifier rubyid_lc'>lc</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_l'>l</span>
    <span class='kw'>end</span>
  }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rc_file-class_method">
  <h3 class='signature nodoc'>
    .<strong>rc_file</strong>(ext)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L408-L423'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='408' data-end='423'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 408</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_rc_file'>rc_file</span>(<span class='id identifier rubyid_ext'>ext</span>)
  <span class='id identifier rubyid_prepare_irbrc_name_generators'><a href="#prepare_irbrc_name_generators-class_method" title="IRB.prepare_irbrc_name_generators (method)">prepare_irbrc_name_generators</a></span>

  <span class='comment'># When irbrc exist in default location
</span>  <span class='kw'>if</span> (<span class='id identifier rubyid_rcgen'>rcgen</span> <span class='op'>=</span> <span class='ivar'>@existing_rc_name_generators</span>.<span class='id identifier rubyid_first'>first</span>)
    <span class='kw'>return</span> <span class='id identifier rubyid_rcgen'>rcgen</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_ext'>ext</span>)
  <span class='kw'>end</span>

  <span class='comment'># When irbrc does not exist in default location
</span>  <span class='id identifier rubyid_rc_file_generators'><a href="#rc_file_generators-class_method" title="IRB.rc_file_generators (method)">rc_file_generators</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rcgen'>rcgen</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_rcgen'>rcgen</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_ext'>ext</span>)
  <span class='kw'>end</span>

  <span class='comment'># When HOME and XDG_CONFIG_HOME are not available
</span>  <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rc_file_generators-class_method">
  <h3 class='signature priv  nodoc'>
    .<strong>rc_file_generators</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>enumerate possible rc-file base name generators</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L463-L479'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='463' data-end='479'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 463</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rc_file_generators'>rc_file_generators</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_irbrc'>irbrc</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>IRBRC</span><span class='tstring_end'>&quot;</span></span>]
    <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_rc'>rc</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rc</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_irbrc'>irbrc</span> <span class='op'>:</span> <span class='id identifier rubyid_irbrc'>irbrc</span><span class='op'>+</span><span class='id identifier rubyid_rc'>rc</span>}
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_xdg_config_home'>xdg_config_home</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>XDG_CONFIG_HOME</span><span class='tstring_end'>&quot;</span></span>]
    <span class='id identifier rubyid_irb_home'>irb_home</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_xdg_config_home'>xdg_config_home</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>if</span> <span class='const'>File</span>.<span class='id identifier rubyid_directory?'>directory?</span>(<span class='id identifier rubyid_irb_home'>irb_home</span>)
      <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_irb_home'>irb_home</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_home'>home</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&quot;</span></span>]
    <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_home'>home</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/.irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
    <span class='kw'>if</span> <span class='id identifier rubyid_xdg_config_home'>xdg_config_home</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_xdg_config_home'>xdg_config_home</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_proc'>proc</span>{<span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span> <span class='id identifier rubyid_home'>home</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/.config/irb/irb</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>}
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="run_config-class_method">
  <h3 class='signature nodoc'>
    .<strong>run_config</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Run the config file</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L396-L404'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='396' data-end='404'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 396</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_run_config'>run_config</span>
  <span class='kw'>if</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>RC</span>]
    <span class='id identifier rubyid_irbrc_files'><a href="#irbrc_files-class_method" title="IRB.irbrc_files (method)">irbrc_files</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rc'>rc</span><span class='op'>|</span>
      <span class='id identifier rubyid_load'>load</span> <span class='id identifier rubyid_rc'>rc</span>
    <span class='kw'>rescue</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='const'>ScriptError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error loading RC file &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span>.<span class='id identifier rubyid_full_message'>full_message</span>(<span class='label'>highlight:</span> <span class='kw'>false</span>)<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_encoding-class_method">
  <h3 class='signature priv  nodoc'>
    .<strong>set_encoding</strong>(extern, intern = nil, override: true)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L487-L501'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='487' data-end='501'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 487</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_encoding'>set_encoding</span>(<span class='id identifier rubyid_extern'>extern</span><span class='comma'>,</span> <span class='id identifier rubyid_intern'>intern</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>override:</span> <span class='kw'>true</span>)
  <span class='id identifier rubyid_verbose'>verbose</span><span class='comma'>,</span> <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='gvar'>$VERBOSE</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='const'>Encoding</span>.<span class='id identifier rubyid_default_external'>default_external</span> <span class='op'>=</span> <span class='id identifier rubyid_extern'>extern</span> <span class='kw'>unless</span> <span class='id identifier rubyid_extern'>extern</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_extern'>extern</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='const'>Encoding</span>.<span class='id identifier rubyid_default_internal'>default_internal</span> <span class='op'>=</span> <span class='id identifier rubyid_intern'>intern</span> <span class='kw'>unless</span> <span class='id identifier rubyid_intern'>intern</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_intern'>intern</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  [<span class='gvar'>$stdin</span><span class='comma'>,</span> <span class='gvar'>$stdout</span><span class='comma'>,</span> <span class='gvar'>$stderr</span>].<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
    <span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_set_encoding'>set_encoding</span>(<span class='id identifier rubyid_extern'>extern</span><span class='comma'>,</span> <span class='id identifier rubyid_intern'>intern</span>)
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_override'>override</span>
    <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>].<span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span>(<span class='symbeg'>:</span><span class='ivar'>@override_encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_extern'>extern</span>)
  <span class='kw'>else</span>
    <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>LC_MESSAGES</span>].<span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span>(<span class='symbeg'>:</span><span class='ivar'>@encoding</span><span class='comma'>,</span> <span class='id identifier rubyid_extern'>extern</span>)
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='gvar'>$VERBOSE</span> <span class='op'>=</span> <span class='id identifier rubyid_verbose'>verbose</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_measure_callback-class_method">
  <h3 class='signature nodoc'>
    .<strong>set_measure_callback</strong>(type = nil, arg = nil, &amp;block)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L198-L233'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='198' data-end='233'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 198</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_set_measure_callback'>set_measure_callback</span>(<span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_added'>added</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span>
    <span class='id identifier rubyid_type_sym'>type_sym</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_upcase'>upcase</span>.<span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='kw'>if</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_PROC</span>][<span class='id identifier rubyid_type_sym'>type_sym</span>]
      <span class='id identifier rubyid_added'>added</span> <span class='op'>=</span> [<span class='id identifier rubyid_type_sym'>type_sym</span><span class='comma'>,</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_PROC</span>][<span class='id identifier rubyid_type_sym'>type_sym</span>]<span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span>]
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_PROC</span>][<span class='symbeg'>:</span><span class='const'>CUSTOM</span>]
    <span class='id identifier rubyid_added'>added</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='const'>CUSTOM</span><span class='comma'>,</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_PROC</span>][<span class='symbeg'>:</span><span class='const'>CUSTOM</span>]<span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span>]
  <span class='kw'>elsif</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_added'>added</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='const'>BLOCK</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span>]
    <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_CALLBACKS</span>].<span class='id identifier rubyid_find'>find</span>{ <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='id identifier rubyid_added'>added</span>[<span class='int'>0</span>] <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_m'>m</span>[<span class='int'>2</span>] <span class='op'>==</span> <span class='id identifier rubyid_added'>added</span>[<span class='int'>2</span>] }
    <span class='kw'>if</span> <span class='id identifier rubyid_found'>found</span>
      <span class='id identifier rubyid_found'>found</span>[<span class='int'>1</span>] <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_added'>added</span>
    <span class='kw'>else</span>
      <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_CALLBACKS</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_added'>added</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_added'>added</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_added'>added</span> <span class='op'>=</span> [<span class='symbeg'>:</span><span class='const'>TIME</span><span class='comma'>,</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_PROC</span>][<span class='symbeg'>:</span><span class='const'>TIME</span>]<span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span>]
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_added'>added</span>
    <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE</span>] <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_CALLBACKS</span>].<span class='id identifier rubyid_find'>find</span>{ <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='id identifier rubyid_m'>m</span>[<span class='int'>0</span>] <span class='op'>==</span> <span class='id identifier rubyid_added'>added</span>[<span class='int'>0</span>] <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_m'>m</span>[<span class='int'>2</span>] <span class='op'>==</span> <span class='id identifier rubyid_added'>added</span>[<span class='int'>2</span>] }
    <span class='kw'>if</span> <span class='id identifier rubyid_found'>found</span>
      <span class='comment'># already added
</span>      <span class='kw'>nil</span>
    <span class='kw'>else</span>
      <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_CALLBACKS</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_added'>added</span> <span class='kw'>if</span> <span class='id identifier rubyid_added'>added</span>
      <span class='id identifier rubyid_added'>added</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="setup-class_method">
  <h3 class='signature nodoc'>
    .<strong>setup</strong>(ap_path, argv: ::ARGV)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>initialize config</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L50-L61'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='50' data-end='61'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 50</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_setup'>setup</span>(<span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='label'>argv:</span> <span class='op'>::</span><span class='const'>ARGV</span>)
  <span class='const'>IRB</span>.<span class='id identifier rubyid_init_config'><a href="#init_config-class_method" title="IRB.init_config (method)">init_config</a></span>(<span class='id identifier rubyid_ap_path'>ap_path</span>)
  <span class='const'>IRB</span>.<span class='id identifier rubyid_init_error'><a href="#init_error-class_method" title="IRB.init_error (method)">init_error</a></span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_parse_opts'><a href="#parse_opts-class_method" title="IRB.parse_opts (method)">parse_opts</a></span>(<span class='label'>argv:</span> <span class='id identifier rubyid_argv'>argv</span>)
  <span class='const'>IRB</span>.<span class='id identifier rubyid_run_config'><a href="#run_config-class_method" title="IRB.run_config (method)">run_config</a></span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_load_modules'><a href="#load_modules-class_method" title="IRB.load_modules (method)">load_modules</a></span>

  <span class='kw'>unless</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT</span>][<span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>]]
    <span class='id identifier rubyid_fail'>fail</span> <span class='const'><a href="IRB/UndefinedPromptMode.html" title="IRB::UndefinedPromptMode (class)">UndefinedPromptMode</a></span><span class='comma'>,</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>PROMPT_MODE</span>]
  <span class='kw'>end</span>
  <span class='ivar'>@INITIALIZED</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start-class_method">
  <h3 class='signature '>
    .<strong>start</strong>(ap_path = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Initializes IRB and creates a new <code>Irb.irb</code> object at the <a href="#TOPLEVEL_BINDING-constant" title="IRB::TOPLEVEL_BINDING (constant)">TOPLEVEL_BINDING</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb.rb#L893-L905'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='893' data-end='905'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb.rb', line 893</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_ap_path'>ap_path</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='const'>STDOUT</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='gvar'>$0</span> <span class='op'>=</span> <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span>(<span class='id identifier rubyid_ap_path'>ap_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_ap_path'>ap_path</span>

  <span class='const'>IRB</span>.<span class='id identifier rubyid_setup'><a href="#setup-class_method" title="IRB.setup (method)">setup</a></span>(<span class='id identifier rubyid_ap_path'>ap_path</span>)

  <span class='kw'>if</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>]
    <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>(<span class='kw'>nil</span><span class='comma'>,</span> <span class='ivar'>@CONF</span>[<span class='symbeg'>:</span><span class='const'>SCRIPT</span>])
  <span class='kw'>else</span>
    <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span> <span class='op'>=</span> <span class='const'><a href="IRB/Irb.html" title="IRB::Irb (class)">Irb</a></span>.<span class='id identifier rubyid_new'><a href="IRB/Irb.html#new-class_method" title="IRB::Irb.new (method)">new</a></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_irb'><a href="#irb-class_method" title="IRB.irb (method)">irb</a></span>.<span class='id identifier rubyid_run'>run</span>(<span class='ivar'>@CONF</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="unset_measure_callback-class_method">
  <h3 class='signature nodoc'>
    .<strong>unset_measure_callback</strong>(type = nil)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L235-L243'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='235' data-end='243'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 235</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_unset_measure_callback'>unset_measure_callback</span>(<span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_CALLBACKS</span>].<span class='id identifier rubyid_clear'>clear</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_type_sym'>type_sym</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_upcase'>upcase</span>.<span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_CALLBACKS</span>].<span class='id identifier rubyid_reject!'>reject!</span>{ <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='comma'>,</span> <span class='op'>|</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='id identifier rubyid_type_sym'>type_sym</span> }
  <span class='kw'>end</span>
  <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE</span>] <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_conf'><a href="#conf-class_method" title="IRB.conf (method)">conf</a></span>[<span class='symbeg'>:</span><span class='const'>MEASURE_CALLBACKS</span>].<span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="version-class_method">
  <h3 class='signature nodoc'>
    .<strong>version</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the current version of <code>IRB</code>, including release version and last updated date.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/irb/init.rb#L41-L43'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='41' data-end='43'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/irb/init.rb', line 41</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>IRB</span>.<span class='id identifier rubyid_version'>version</span>
  <span class='id identifier rubyid_format'>format</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb %s (%s)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@RELEASE_VERSION</span><span class='comma'>,</span> <span class='ivar'>@LAST_UPDATE_DATE</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>