<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: FileUtils &mdash; rake  Ruby-3.3.0 pp0</title>

<link rel='stylesheet'  type='text/css' href='../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "FileUtils",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../.'>Ruby-3.3.0</a> &raquo; 
      <a href='.'>rake</a> &raquo; 
      <a href='_index.html#alpha_F'>Index (F)</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>FileUtils&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: FileUtils</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Extended In:</div>
      <div class='box_11'>
        <a href="Rake.html" title="Rake (module)"><code>::Rake</code></a>,
          <a href="Rake/Cleaner.html" title="Rake::Cleaner (module)"><code>::Rake::Cleaner</code></a>,
          <a href="self.html" title="self (class)"><code>::self</code></a>
      </div>
    </td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="Rake/DSL.html" title="Rake::DSL (module)"><code>::Rake::DSL</code></a>,
          <a href="Rake/FileUtilsExt.html" title="Rake::FileUtilsExt (module)"><code>::Rake::FileUtilsExt</code></a>,
          <a href="Rake/MakefileLoader.html" title="Rake::MakefileLoader (class)"><code>::Rake::MakefileLoader</code></a>,
          <a href="Rake/PackageTask.html" title="Rake::PackageTask (class)"><code>::Rake::PackageTask</code></a>,
          <a href="Rake/TaskLib.html" title="Rake::TaskLib (class)"><code>::Rake::TaskLib</code></a>,
          <a href="Rake/TestTask.html" title="Rake::TestTask (class)"><code>::Rake::TestTask</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L8'>lib/rake/file_utils.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='LN_SUPPORTED-constant' class='summary_signature'>LN_SUPPORTED =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L106-L106'># File 'lib/rake/file_utils.rb', line 106</a>    <pre class='code ruby'>[<span class='kw'>true</span>]</pre>
  </li>
  <li>
    <span id='RUBY-constant' class='summary_signature'>RUBY =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Path to the currently running Ruby program</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L10-L13'># File 'lib/rake/file_utils.rb', line 10</a>    <pre class='code ruby'><span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RUBY</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>||</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(
<span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bindir</span><span class='tstring_end'>&quot;</span></span>]<span class='comma'>,</span>
<span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby_install_name</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>+</span> <span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EXEEXT</span><span class='tstring_end'>&quot;</span></span>]).
<span class='id identifier rubyid_sub'>sub</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.*\s.*</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;\&amp;&quot;</span><span class='tstring_end'>&#39;</span></span>)</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#ruby-instance_method" title="#ruby (instance method)">#<strong>ruby</strong>(*args, **options, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Run a Ruby interpreter with the given arguments.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#safe_ln-instance_method" title="#safe_ln (instance method)">#<strong>safe_ln</strong>(*args, **options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Attempt to do a normal file link, but fall back to a copy if the link fails.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sh-instance_method" title="#sh (instance method)">#<strong>sh</strong>(*cmd, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Run the system command <code>cmd</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#split_all-instance_method" title="#split_all (instance method)">#<strong>split_all</strong>(path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Split a file path into individual directory names.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#create_shell_runner-instance_method" title="#create_shell_runner (instance method)">#<strong>create_shell_runner</strong>(cmd)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#set_verbose_option-instance_method" title="#set_verbose_option (instance method)">#<strong>set_verbose_option</strong>(options)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature priv nodoc'>
      <a href="#sh_show_command-instance_method" title="#sh_show_command (instance method)">#<strong>sh_show_command</strong>(cmd)  </a>
    </span>
    <span class='note title private'>private</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="create_shell_runner-instance_method">
  <h3 class='signature priv  nodoc first'>
    #<strong>create_shell_runner</strong>(cmd)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L61-L68'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='61' data-end='68'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rake/file_utils.rb', line 61</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create_shell_runner'>create_shell_runner</span>(<span class='id identifier rubyid_cmd'>cmd</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_show_command'>show_command</span> <span class='op'>=</span> <span class='id identifier rubyid_sh_show_command'><a href="#sh_show_command-instance_method" title="FileUtils#sh_show_command (method)">sh_show_command</a></span> <span class='id identifier rubyid_cmd'>cmd</span>
  <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ok'>ok</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span><span class='op'>|</span>
    <span class='id identifier rubyid_ok'>ok</span> <span class='kw'>or</span>
      <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Command failed with status (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_status'>status</span>.<span class='id identifier rubyid_exitstatus'>exitstatus</span><span class='embexpr_end'>}</span><span class='tstring_content'>): </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_show_command'>show_command</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ruby-instance_method">
  <h3 class='signature '>
    #<strong>ruby</strong>(*args, **options, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Run a Ruby interpreter with the given arguments.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ruby'>ruby</span> <span class='tstring'><span class='tstring_beg'>%{</span><span class='tstring_content'>-pe &#39;$_.upcase!&#39; &lt;README</span><span class='tstring_end'>}</span></span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L98-L104'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='98' data-end='104'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rake/file_utils.rb', line 98</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ruby'>ruby</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_sh'><a href="#sh-instance_method" title="FileUtils#sh (method)">sh</a></span>(<span class='const'><a href="#RUBY-constant" title="FileUtils::RUBY (constant)">RUBY</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_sh'><a href="#sh-instance_method" title="FileUtils#sh (method)">sh</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><a href="#RUBY-constant" title="FileUtils::RUBY (constant)">RUBY</a></span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="safe_ln-instance_method">
  <h3 class='signature '>
    #<strong>safe_ln</strong>(*args, **options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Attempt to do a normal file link, but fall back to a copy if the link fails.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L110-L119'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='110' data-end='119'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rake/file_utils.rb', line 110</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_safe_ln'>safe_ln</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='kw'>if</span> <span class='const'><a href="#LN_SUPPORTED-constant" title="FileUtils::LN_SUPPORTED (constant)">LN_SUPPORTED</a></span>[<span class='int'>0</span>]
    <span class='kw'>begin</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='id identifier rubyid_ln'>ln</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>) <span class='op'>:</span> <span class='id identifier rubyid_ln'>ln</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
    <span class='kw'>rescue</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='const'>NotImplementedError</span>
      <span class='const'><a href="#LN_SUPPORTED-constant" title="FileUtils::LN_SUPPORTED (constant)">LN_SUPPORTED</a></span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='id identifier rubyid_cp'>cp</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span>) <span class='op'>:</span> <span class='id identifier rubyid_cp'>cp</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_verbose_option-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>set_verbose_option</strong>(options)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L84-L90'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='84' data-end='90'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rake/file_utils.rb', line 84</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_verbose_option'>set_verbose_option</span>(<span class='id identifier rubyid_options'>options</span>) <span class='comment'># :nodoc:
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_key?'>key?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span>] <span class='op'>=</span>
      (<span class='const'><a href="Rake.html" title="Rake (module)">Rake</a></span><span class='op'>::</span><span class='const'><a href="Rake/FileUtilsExt.html" title="Rake::FileUtilsExt (module)">FileUtilsExt</a></span>.<span class='id identifier rubyid_verbose_flag'><a href="Rake/FileUtilsExt.html#verbose_flag-class_method" title="Rake::FileUtilsExt.verbose_flag (method)">verbose_flag</a></span> <span class='op'>==</span> <span class='const'><a href="Rake.html" title="Rake (module)">Rake</a></span><span class='op'>::</span><span class='const'><a href="Rake/FileUtilsExt.html" title="Rake::FileUtilsExt (module)">FileUtilsExt</a></span><span class='op'>::</span><span class='const'><a href="Rake/FileUtilsExt.html#DEFAULT-constant" title="Rake::FileUtilsExt::DEFAULT (constant)">DEFAULT</a></span>) <span class='op'>||</span>
      <span class='const'><a href="Rake.html" title="Rake (module)">Rake</a></span><span class='op'>::</span><span class='const'><a href="Rake/FileUtilsExt.html" title="Rake::FileUtilsExt (module)">FileUtilsExt</a></span>.<span class='id identifier rubyid_verbose_flag'><a href="Rake/FileUtilsExt.html#verbose_flag-class_method" title="Rake::FileUtilsExt.verbose_flag (method)">verbose_flag</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sh-instance_method">
  <h3 class='signature '>
    #<strong>sh</strong>(*cmd, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Run the system command <code>cmd</code>.  If multiple arguments are given the command is run directly (without the shell, same semantics as <code>Kernel.exec</code> and <code>Kernel.system</code>).</p>

<p>It is recommended you use the multiple argument form over interpolating user input for both usability and security reasons.  With the multiple argument form you can easily process files with spaces or other shell reserved characters in them.  With the multiple argument form your rake tasks are not vulnerable to users providing an argument like <code>; rm # -rf /</code>.</p>

<p>If a block is given, upon command completion the block is called with an OK flag (true on a zero exit status) and a <code>Process::Status</code> object. Without a block a RuntimeError is raised when the command exits non-zero.</p>

<p>Examples:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sh'>sh</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ls -ltr</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_sh'>sh</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ls</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>file with spaces</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># check exit status after command runs
</span><span class='id identifier rubyid_sh'>sh</span> <span class='tstring'><span class='tstring_beg'>%{</span><span class='tstring_content'>grep pattern file</span><span class='tstring_end'>}</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ok'>ok</span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_ok'>ok</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pattern not found (status = </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_exitstatus'>exitstatus</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L43-L59'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='43' data-end='59'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rake/file_utils.rb', line 43</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sh'>sh</span>(<span class='op'>*</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> (<span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_last'>last</span>) <span class='op'>?</span> <span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_pop'>pop</span> <span class='op'>:</span> {}
  <span class='id identifier rubyid_shell_runner'>shell_runner</span> <span class='op'>=</span> <span class='id identifier rubyid_block_given?'>block_given?</span> <span class='op'>?</span> <span class='id identifier rubyid_block'>block</span> <span class='op'>:</span> <span class='id identifier rubyid_create_shell_runner'><a href="#create_shell_runner-instance_method" title="FileUtils#create_shell_runner (method)">create_shell_runner</a></span>(<span class='id identifier rubyid_cmd'>cmd</span>)

  <span class='id identifier rubyid_set_verbose_option'><a href="#set_verbose_option-instance_method" title="FileUtils#set_verbose_option (method)">set_verbose_option</a></span>(<span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_delete'>delete</span> <span class='symbeg'>:</span><span class='id identifier rubyid_verbose'>verbose</span>
  <span class='id identifier rubyid_noop'>noop</span>    <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_noop'>noop</span>) <span class='op'>||</span> <span class='const'><a href="Rake.html" title="Rake (module)">Rake</a></span><span class='op'>::</span><span class='const'><a href="Rake/FileUtilsExt.html" title="Rake::FileUtilsExt (module)">FileUtilsExt</a></span>.<span class='id identifier rubyid_nowrite_flag'><a href="Rake/FileUtilsExt.html#nowrite_flag-class_method" title="Rake::FileUtilsExt.nowrite_flag (method)">nowrite_flag</a></span>

  <span class='const'><a href="Rake.html" title="Rake (module)">Rake</a></span>.<span class='id identifier rubyid_rake_output_message'><a href="Rake/FileUtilsExt.html#rake_output_message-instance_method" title="Rake::FileUtilsExt#rake_output_message (method)">rake_output_message</a></span> <span class='id identifier rubyid_sh_show_command'><a href="#sh_show_command-instance_method" title="FileUtils#sh_show_command (method)">sh_show_command</a></span> <span class='id identifier rubyid_cmd'>cmd</span> <span class='kw'>if</span> <span class='id identifier rubyid_verbose'>verbose</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_noop'>noop</span>
    <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> (<span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_last'>last</span>) <span class='op'>?</span> <span class='id identifier rubyid_system'>system</span>(<span class='op'>*</span><span class='id identifier rubyid_cmd'>cmd</span>) <span class='op'>:</span> <span class='id identifier rubyid_system'>system</span>(<span class='op'>*</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>)
    <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='gvar'>$?</span>
    <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='const'><a href="Rake.html" title="Rake (module)">Rake</a></span><span class='op'>::</span><span class='const'><a href="Rake/PseudoStatus.html" title="Rake::PseudoStatus (class)">PseudoStatus</a></span>.<span class='id identifier rubyid_new'><a href="Rake/PseudoStatus.html#new-class_method" title="Rake::PseudoStatus.new (method)">new</a></span>(<span class='int'>1</span>) <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_status'>status</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_shell_runner'>shell_runner</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sh_show_command-instance_method">
  <h3 class='signature priv  nodoc'>
    #<strong>sh_show_command</strong>(cmd)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L71-L81'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='71' data-end='81'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rake/file_utils.rb', line 71</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sh_show_command'>sh_show_command</span>(<span class='id identifier rubyid_cmd'>cmd</span>) <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_dup'>dup</span>

  <span class='kw'>if</span> <span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_env'>env</span> <span class='op'>=</span> <span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_env'>env</span> <span class='op'>=</span> <span class='id identifier rubyid_env'>env</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> }.<span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_cmd'>cmd</span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='id identifier rubyid_env'>env</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="split_all-instance_method">
  <h3 class='signature '>
    #<strong>split_all</strong>(path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Split a file path into individual directory names.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_split_all'>split_all</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a/b/c</span><span class='tstring_end'>&quot;</span></span>) <span class='op'>=&gt;</span>  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c</span><span class='tstring_end'>&#39;</span></span>]</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/rake/blob/v13.1.0/lib/rake/file_utils.rb#L126-L131'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='126' data-end='131'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rake/file_utils.rb', line 126</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_split_all'>split_all</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='id identifier rubyid_head'>head</span><span class='comma'>,</span> <span class='id identifier rubyid_tail'>tail</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_split'>split</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='kw'>return</span> [<span class='id identifier rubyid_tail'>tail</span>] <span class='kw'>if</span> <span class='id identifier rubyid_head'>head</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_tail'>tail</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>return</span> [<span class='id identifier rubyid_head'>head</span><span class='comma'>,</span> <span class='id identifier rubyid_tail'>tail</span>] <span class='kw'>if</span> <span class='id identifier rubyid_head'>head</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>return</span> <span class='id identifier rubyid_split_all'>split_all</span>(<span class='id identifier rubyid_head'>head</span>) <span class='op'>+</span> [<span class='id identifier rubyid_tail'>tail</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>