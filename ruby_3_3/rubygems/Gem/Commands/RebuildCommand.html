<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Gem::Commands::RebuildCommand &mdash; rubygems  Ruby-3.3.1 p55</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Gem::Commands::RebuildCommand",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-3.3.1</a> &raquo; 
      <a href='../../'>rubygems</a> &raquo; 
      <a href='../../_index.html#alpha_R'>Index (R)</a> &raquo; 
        <a href="../../Gem.html" title="Gem (module)">Gem</a> &raquo; 
        <a href="../Commands.html" title="Gem::Commands (module)">Commands</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>RebuildCommand&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Gem::Commands::RebuildCommand</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          <a href="../Command.html" title="Gem::Command (class)"><code>::Gem::Command</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="../GemspecHelpers.html" title="Gem::GemspecHelpers (module)"><code>::Gem::GemspecHelpers</code></a>,
          <a href="../Command.html" title="Gem::Command (class)"><code>::Gem::Command</code></a>,
          <a href="../UserInteraction.html" title="Gem::UserInteraction (module)"><code>::Gem::UserInteraction</code></a>,
          <a href="../DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)"><code>::Gem::DefaultUserInteraction</code></a>,
          <a href="../Text.html" title="Gem::Text (module)"><code>::Gem::Text</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Command.html" title="Gem::Command (class)">Gem::Command</a></span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'><a href="../Command.html" title="Gem::Command (class)">Gem::Command</a></li>
          <li class='next'>Gem::Commands::RebuildCommand</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L10'>lib/rubygems/commands/rebuild_command.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DATE_FORMAT-constant' class='summary_signature'>DATE_FORMAT =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L13-L13'># File 'lib/rubygems/commands/rebuild_command.rb', line 13</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d %H:%M:%S.%N Z</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
  <h3 class='inherited'><a href="../Command.html" title="Gem::Command (class)"><code>::Gem::Command</code></a> - Inherited</h3>
  <p  class='inherited'>
    <a class='nodoc' href="../Command.html#HELP-constant" title="Gem::Command::HELP (constant)">HELP</a>
  </p>
</div>

<h2 class='h2_sum' id='class_Attribute_summary'>Class Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Command.html" title="Gem::Command (class)"><code>::Gem::Command</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Command.html#build_args-class_method" title="Gem::Command.build_args (method)">.build_args</a></td>
      <td><div class='inline'><p>Arguments used when building gems.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m rw' href="../Command.html#build_args=-class_method" title="Gem::Command.build_args= (method)">.build_args=</a>,
        <a class='i_m rw' href="../Command.html#extra_args-class_method" title="Gem::Command.extra_args (method)">.extra_args</a>,
        <a class='i_m rw' href="../Command.html#extra_args=-class_method" title="Gem::Command.extra_args= (method)">.extra_args=</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_attribute_summary -->

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>  &#x21d2; RebuildCommand </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>

<h3 class='inherited'><a href="../Command.html" title="Gem::Command (class)"><code>::Gem::Command</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Command.html#add_common_option-class_method" title="Gem::Command.add_common_option (method)">.add_common_option</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#add_specific_extra_args-class_method" title="Gem::Command.add_specific_extra_args (method)">.add_specific_extra_args</a></td>
      <td><div class='inline'><p>Add a list of extra arguments for the given command.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Command.html#common_options-class_method" title="Gem::Command.common_options (method)">.common_options</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#new-class_method" title="Gem::Command.new (method)">.new</a></td>
      <td><div class='inline'><p>Initializes a generic gem command named <code>command</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#specific_extra_args-class_method" title="Gem::Command.specific_extra_args (method)">.specific_extra_args</a></td>
      <td><div class='inline'><p>Return an array of extra arguments for the command.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#specific_extra_args_hash-class_method" title="Gem::Command.specific_extra_args_hash (method)">.specific_extra_args_hash</a></td>
      <td><div class='inline'><p>Accessor for the specific extra args hash (self initializing).</p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_Attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>

<h3 class='inherited'><a href="../Command.html" title="Gem::Command (class)"><code>::Gem::Command</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Command.html#command-instance_method" title="Gem::Command#command (method)">#command</a></td>
      <td><div class='inline'><p>The name of the command.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Command.html#defaults-instance_method" title="Gem::Command#defaults (method)">#defaults</a></td>
      <td><div class='inline'><p>The default options for the command.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ro' href="../Command.html#deprecated%3F-instance_method" title="Gem::Command#deprecated? (method)">#deprecated?</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ro' href="../Command.html#options-instance_method" title="Gem::Command#options (method)">#options</a></td>
      <td><div class='inline'><p>The options for the command.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Command.html#program_name-instance_method" title="Gem::Command#program_name (method)">#program_name</a></td>
      <td><div class='inline'><p>The name of the command for command-line invocation.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../Command.html#summary-instance_method" title="Gem::Command#summary (method)">#summary</a></td>
      <td><div class='inline'><p>A short description of the command.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)"><code>::Gem::DefaultUserInteraction</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../DefaultUserInteraction.html#ui-instance_method" title="Gem::DefaultUserInteraction#ui (method)">#ui</a></td>
      <td><div class='inline'><p>See <a href="../DefaultUserInteraction.html#ui-class_method" title="Gem::DefaultUserInteraction.ui (method)">DefaultUserInteraction.ui</a></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m rw' href="../DefaultUserInteraction.html#ui=-instance_method" title="Gem::DefaultUserInteraction#ui= (method)">#ui=</a></td>
      <td><div class='inline'><p>See <a href="../DefaultUserInteraction.html#ui=-class_method" title="Gem::DefaultUserInteraction.ui= (method)">DefaultUserInteraction.ui=</a></p></div></td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#execute-instance_method" title="#execute (instance method)">#<strong>execute</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#build_gem-instance_method" title="#build_gem (instance method)">#<strong>build_gem</strong>(gem_name, source_date_epoch, output_file)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#build_package-instance_method" title="#build_package (instance method)">#<strong>build_package</strong>(gemspec, source_date_epoch, output_file)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compare-instance_method" title="#compare (instance method)">#<strong>compare</strong>(source_date_epoch, old_file, new_file)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#download_gem-instance_method" title="#download_gem (instance method)">#<strong>download_gem</strong>(gem_name, gem_version, old_file)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#error_message-instance_method" title="#error_message (instance method)">#<strong>error_message</strong>(gem_name)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#get_gem_name_and_version-instance_method" title="#get_gem_name_and_version (instance method)">#<strong>get_gem_name_and_version</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#get_timestamp-instance_method" title="#get_timestamp (instance method)">#<strong>get_timestamp</strong>(file)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#prep_dirs-instance_method" title="#prep_dirs (instance method)">#<strong>prep_dirs</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#rubygems_version-instance_method" title="#rubygems_version (instance method)">#<strong>rubygems_version</strong>(gem_file)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#sha256-instance_method" title="#sha256 (instance method)">#<strong>sha256</strong>(file)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#with_source_date_epoch-instance_method" title="#with_source_date_epoch (instance method)">#<strong>with_source_date_epoch</strong>(source_date_epoch)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#arguments-instance_method" title="#arguments (instance method)">#<strong>arguments</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#description-instance_method" title="#description (instance method)">#<strong>description</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#usage-instance_method" title="#usage (instance method)">#<strong>usage</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>

<h3 class='inherited'><a href="../GemspecHelpers.html" title="Gem::GemspecHelpers (module)"><code>::Gem::GemspecHelpers</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../GemspecHelpers.html#find_gemspec-instance_method" title="Gem::GemspecHelpers#find_gemspec (method)">#find_gemspec</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Command.html" title="Gem::Command (class)"><code>::Gem::Command</code></a> - Inherited</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#add_extra_args-instance_method" title="Gem::Command#add_extra_args (method)">#add_extra_args</a></td>
      <td><div class='inline'><p>Adds extra args from ~/.gemrc.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#add_option-instance_method" title="Gem::Command#add_option (method)">#add_option</a></td>
      <td><div class='inline'><p>Add a command-line option and handler to the command.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#arguments-instance_method" title="Gem::Command#arguments (method)">#arguments</a></td>
      <td><div class='inline'><p>Override to provide details of the arguments a command takes.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#begins%3F-instance_method" title="Gem::Command#begins? (method)">#begins?</a></td>
      <td><div class='inline'><p>True if <code>long</code> begins with the characters from <code>short</code>.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Command.html#check_deprecated_options-instance_method" title="Gem::Command#check_deprecated_options (method)">#check_deprecated_options</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#defaults_str-instance_method" title="Gem::Command#defaults_str (method)">#defaults_str</a></td>
      <td><div class='inline'><p>Override to display the default values of the command options.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#deprecate_option-instance_method" title="Gem::Command#deprecate_option (method)">#deprecate_option</a></td>
      <td><div class='inline'><p>Mark a command-line option as deprecated, and optionally specify a deprecation horizon.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#description-instance_method" title="Gem::Command#description (method)">#description</a></td>
      <td><div class='inline'><p>Override to display a longer description of what this command does.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#execute-instance_method" title="Gem::Command#execute (method)">#execute</a></td>
      <td><div class='inline'><p>Override to provide command handling.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#get_all_gem_names-instance_method" title="Gem::Command#get_all_gem_names (method)">#get_all_gem_names</a></td>
      <td><div class='inline'><p>Get all gem names from the command line.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#get_all_gem_names_and_versions-instance_method" title="Gem::Command#get_all_gem_names_and_versions (method)">#get_all_gem_names_and_versions</a></td>
      <td><div class='inline'><p>Get all [gem, version] from the command line.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#get_one_gem_name-instance_method" title="Gem::Command#get_one_gem_name (method)">#get_one_gem_name</a></td>
      <td><div class='inline'><p>Get a single gem name from the command line.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#get_one_optional_argument-instance_method" title="Gem::Command#get_one_optional_argument (method)">#get_one_optional_argument</a></td>
      <td><div class='inline'><p>Get a single optional argument from the command line.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#handle_options-instance_method" title="Gem::Command#handle_options (method)">#handle_options</a></td>
      <td><div class='inline'><p>Handle the given list of arguments by parsing them and recording the results.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#handles%3F-instance_method" title="Gem::Command#handles? (method)">#handles?</a></td>
      <td><div class='inline'><p>True if the command handles the given argument list.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#invoke-instance_method" title="Gem::Command#invoke (method)">#invoke</a></td>
      <td><div class='inline'><p>Invoke the command with the given list of arguments.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#invoke_with_build_args-instance_method" title="Gem::Command#invoke_with_build_args (method)">#invoke_with_build_args</a></td>
      <td><div class='inline'><p>Invoke the command with the given list of normal arguments and additional build arguments.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#merge_options-instance_method" title="Gem::Command#merge_options (method)">#merge_options</a></td>
      <td><div class='inline'><p>Merge a set of command options with the set of default options (without modifying the default option hash).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#remove_option-instance_method" title="Gem::Command#remove_option (method)">#remove_option</a></td>
      <td><div class='inline'><p>Remove previously defined command-line argument <code>name</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#show_help-instance_method" title="Gem::Command#show_help (method)">#show_help</a></td>
      <td><div class='inline'><p>Display the help message for the command.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#show_lookup_failure-instance_method" title="Gem::Command#show_lookup_failure (method)">#show_lookup_failure</a></td>
      <td><div class='inline'><p>Display to the user that a gem couldn’t be found and reasons why –.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#usage-instance_method" title="Gem::Command#usage (method)">#usage</a></td>
      <td><div class='inline'><p>Override to display the usage for an individual gem command.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Command.html#when_invoked-instance_method" title="Gem::Command#when_invoked (method)">#when_invoked</a></td>
      <td><div class='inline'><p>Call the given block when invoked.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Command.html#add_parser_run_info-instance_method" title="Gem::Command#add_parser_run_info (method)">#add_parser_run_info</a></td>
      <td><div class='inline'><p>Adds a section with <code>title</code> and <code>content</code> to the parser help view.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Command.html#configure_options-instance_method" title="Gem::Command#configure_options (method)">#configure_options</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Command.html#create_option_parser-instance_method" title="Gem::Command#create_option_parser (method)">#create_option_parser</a></td>
      <td><div class='inline'><p>Creates an option parser and fills it in with the help info for the command.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m priv' href="../Command.html#option_is_deprecated%3F-instance_method" title="Gem::Command#option_is_deprecated? (method)">#option_is_deprecated?</a>,
      </td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Command.html#parser-instance_method" title="Gem::Command#parser (method)">#parser</a></td>
      <td><div class='inline'><p>Create on demand parser.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m priv' href="../Command.html#wrap-instance_method" title="Gem::Command#wrap (method)">#wrap</a></td>
      <td><div class='inline'><p>Wraps <code>text</code> to <code>width</code></p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m nodoc' href="../Command.html#extract_gem_name_and_version-instance_method" title="Gem::Command#extract_gem_name_and_version (method)">#extract_gem_name_and_version</a>,
        <a class='i_m priv nodoc' href="../Command.html#add_parser_description-instance_method" title="Gem::Command#add_parser_description (method)">#add_parser_description</a>,
        <a class='i_m priv nodoc' href="../Command.html#add_parser_options-instance_method" title="Gem::Command#add_parser_options (method)">#add_parser_options</a>,
        <a class='i_m priv nodoc' href="../Command.html#add_parser_summary-instance_method" title="Gem::Command#add_parser_summary (method)">#add_parser_summary</a>
      </td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../UserInteraction.html" title="Gem::UserInteraction (module)"><code>::Gem::UserInteraction</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#alert-instance_method" title="Gem::UserInteraction#alert (method)">#alert</a></td>
      <td><div class='inline'><p>Displays an alert <code>statement</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#alert_error-instance_method" title="Gem::UserInteraction#alert_error (method)">#alert_error</a></td>
      <td><div class='inline'><p>Displays an error <code>statement</code> to the error output location.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#alert_warning-instance_method" title="Gem::UserInteraction#alert_warning (method)">#alert_warning</a></td>
      <td><div class='inline'><p>Displays a warning <code>statement</code> to the warning output location.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#ask-instance_method" title="Gem::UserInteraction#ask (method)">#ask</a></td>
      <td><div class='inline'><p>Asks a <code>question</code> and returns the answer.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#ask_for_password-instance_method" title="Gem::UserInteraction#ask_for_password (method)">#ask_for_password</a></td>
      <td><div class='inline'><p>Asks for a password with a <code>prompt</code></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#ask_yes_no-instance_method" title="Gem::UserInteraction#ask_yes_no (method)">#ask_yes_no</a></td>
      <td><div class='inline'><p>Asks a yes or no <code>question</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#choose_from_list-instance_method" title="Gem::UserInteraction#choose_from_list (method)">#choose_from_list</a></td>
      <td><div class='inline'><p>Asks the user to answer <code>question</code> with an answer from the given <code>list</code>.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#say-instance_method" title="Gem::UserInteraction#say (method)">#say</a></td>
      <td><div class='inline'><p>Displays the given <code>statement</code> on the standard output (or equivalent).</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#terminate_interaction-instance_method" title="Gem::UserInteraction#terminate_interaction (method)">#terminate_interaction</a></td>
      <td><div class='inline'><p>Terminates the RubyGems process with the given <code>exit_code</code></p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../UserInteraction.html#verbose-instance_method" title="Gem::UserInteraction#verbose (method)">#verbose</a></td>
      <td><div class='inline'><p>Calls <code>say</code> with <code>msg</code> or the results of the block if really_verbose is true.</p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../DefaultUserInteraction.html" title="Gem::DefaultUserInteraction (module)"><code>::Gem::DefaultUserInteraction</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../DefaultUserInteraction.html#use_ui-instance_method" title="Gem::DefaultUserInteraction#use_ui (method)">#use_ui</a></td>
      <td><div class='inline'><p>See <a href="../DefaultUserInteraction.html#use_ui-class_method" title="Gem::DefaultUserInteraction.use_ui (method)">DefaultUserInteraction.use_ui</a></p></div></td>
    </tr>
  </tbody>
</table></div>

<h3 class='inherited'><a href="../Text.html" title="Gem::Text (module)"><code>::Gem::Text</code></a> - Included</h3>
<div class='inherited'><table class='inherited'>
  <tbody>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Text.html#clean_text-instance_method" title="Gem::Text#clean_text (method)">#clean_text</a></td>
      <td><div class='inline'><p>Remove any non-printable characters and make the text suitable for printing.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Text.html#format_text-instance_method" title="Gem::Text#format_text (method)">#format_text</a></td>
      <td><div class='inline'><p>Wraps <code>text</code> to <code>wrap</code> characters and optionally indents by <code>indent</code> characters.</p></div></td>
    </tr>
    <tr class='i_ds'>
      <td><a class='i_m ' href="../Text.html#levenshtein_distance-instance_method" title="Gem::Text#levenshtein_distance (method)">#levenshtein_distance</a></td>
      <td><div class='inline'><p>Returns a value representing the “cost” of transforming str1 into str2 Vendored version of <code>DidYouMean::Levenshtein.distance</code> from the ruby/did_you_mean gem @ 1.4.0 <a href="https://github.com/ruby/did_you_mean/blob/2ddf39b874808685965dbc47d344cf6c7651807c/lib/did_you_mean/levenshtein.rb#L7-L37">github.com/ruby/did_you_mean/blob/2ddf39b874808685965dbc47d344cf6c7651807c/lib/did_you_mean/levenshtein.rb#L7-L37</a>.</p></div></td>
    </tr>
    <tr>
      <td colspan='2'>
        <a class='i_m ' href="../Text.html#truncate_text-instance_method" title="Gem::Text#truncate_text (method)">#truncate_text</a>,
        <a class='i_m nodoc' href="../Text.html#min3-instance_method" title="Gem::Text#min3 (method)">#min3</a>
      </td>
    </tr>
  </tbody>
</table></div>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>  &#x21d2; <code>RebuildCommand</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L15-L45'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='15' data-end='45'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 15</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='kw'>super</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rebuild</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Attempt to reproduce a build of a gem.</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_add_option'>add_option</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--diff</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If the files don&#39;t match, compare them using diffoscope.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__value'>_value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_diff'>diff</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_add_option'>add_option</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skip validation of the spec.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__value'>_value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_force'>force</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_add_option'>add_option</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--strict</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Consider warnings as errors when validating the spec.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__value'>_value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_strict'>strict</span>] <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_add_option'>add_option</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--source GEM_SOURCE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify the source to download the gem from.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_source'>source</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_add_option'>add_option</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--original GEM_FILE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify a local file to compare against (instead of downloading it).</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_original_gem_file'>original_gem_file</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_add_option'>add_option</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--gemspec GEMSPEC_FILE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify the name of the gemspec file.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_gemspec_file'>gemspec_file</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_add_option'>add_option</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-C PATH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run as if gem build was started in &lt;PATH&gt; instead of the current working directory.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>|</span>
    <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_build_path'>build_path</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="arguments-instance_method">
  <h3 class='signature nodoc first'>
    #<strong>arguments</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L47-L50'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='47' data-end='50'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 47</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_arguments'>arguments</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_NAME      gem name on gem server\n</span><span class='tstring_end'>&quot;</span></span> \
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_VERSION   gem version you are attempting to rebuild</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build_gem-instance_method">
  <h3 class='signature priv'>
    #<strong>build_gem</strong>(gem_name, source_date_epoch, output_file)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L192-L201'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='192' data-end='201'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 192</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_gem'>build_gem</span>(<span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_output_file'>output_file</span>)
  <span class='id identifier rubyid_gemspec'>gemspec</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_gemspec_file'>gemspec_file</span>] <span class='op'>||</span> <span class='id identifier rubyid_find_gemspec'>find_gemspec</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.gemspec</span><span class='tstring_end'>&quot;</span></span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_gemspec'>gemspec</span>
    <span class='id identifier rubyid_build_package'><a href="#build_package-instance_method" title="Gem::Commands::RebuildCommand#build_package (method)">build_package</a></span>(<span class='id identifier rubyid_gemspec'>gemspec</span><span class='comma'>,</span> <span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_output_file'>output_file</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_alert_error'>alert_error</span> <span class='id identifier rubyid_error_message'><a href="#error_message-instance_method" title="Gem::Commands::RebuildCommand#error_message (method)">error_message</a></span>(<span class='id identifier rubyid_gem_name'>gem_name</span>)
    <span class='id identifier rubyid_terminate_interaction'>terminate_interaction</span>(<span class='int'>1</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="build_package-instance_method">
  <h3 class='signature priv'>
    #<strong>build_package</strong>(gemspec, source_date_epoch, output_file)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L203-L218'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='203' data-end='218'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 203</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_build_package'>build_package</span>(<span class='id identifier rubyid_gemspec'>gemspec</span><span class='comma'>,</span> <span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_output_file'>output_file</span>)
  <span class='id identifier rubyid_with_source_date_epoch'><a href="#with_source_date_epoch-instance_method" title="Gem::Commands::RebuildCommand#with_source_date_epoch (method)">with_source_date_epoch</a></span>(<span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_spec'>spec</span> <span class='op'>=</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Specification.html" title="Gem::Specification (class)">Specification</a></span>.<span class='id identifier rubyid_load'><a href="../Specification.html#load-class_method" title="Gem::Specification.load (method)">load</a></span>(<span class='id identifier rubyid_gemspec'>gemspec</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span>
      <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Package.html" title="Gem::Package (class)">Package</a></span>.<span class='id identifier rubyid_build'><a href="../Package.html#build-class_method" title="Gem::Package.build (method)">build</a></span>(
        <span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span>
        <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_force'>force</span>]<span class='comma'>,</span>
        <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_strict'>strict</span>]<span class='comma'>,</span>
        <span class='id identifier rubyid_output_file'>output_file</span>
      )
    <span class='kw'>else</span>
      <span class='id identifier rubyid_alert_error'>alert_error</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error loading gemspec. Aborting.</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_terminate_interaction'>terminate_interaction</span> <span class='int'>1</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compare-instance_method">
  <h3 class='signature priv'>
    #<strong>compare</strong>(source_date_epoch, old_file, new_file)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L133-L166'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='133' data-end='166'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 133</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compare'>compare</span>(<span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_old_file'>old_file</span><span class='comma'>,</span> <span class='id identifier rubyid_new_file'>new_file</span>)
  <span class='id identifier rubyid_date'>date</span> <span class='op'>=</span> <span class='const'>Time</span>.<span class='id identifier rubyid_at'>at</span>(<span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span>.<span class='id identifier rubyid_to_i'>to_i</span>).<span class='id identifier rubyid_strftime'>strftime</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%F %T %Z</span><span class='tstring_end'>&quot;</span></span>)

  <span class='id identifier rubyid_old_hash'>old_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_sha256'><a href="#sha256-instance_method" title="Gem::Commands::RebuildCommand#sha256 (method)">sha256</a></span>(<span class='id identifier rubyid_old_file'>old_file</span>)
  <span class='id identifier rubyid_new_hash'>new_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_sha256'><a href="#sha256-instance_method" title="Gem::Commands::RebuildCommand#sha256 (method)">sha256</a></span>(<span class='id identifier rubyid_new_file'>new_file</span>)

  <span class='id identifier rubyid_say'>say</span>
  <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Built at: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Original build saved to:   </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_file'>old_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reproduced build saved to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_file'>new_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Working directory: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_build_path'>build_path</span>] <span class='op'>||</span> <span class='const'>Dir</span>.<span class='id identifier rubyid_pwd'>pwd</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_say'>say</span>
  <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hash comparison:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_hash'>old_hash</span><span class='embexpr_end'>}</span><span class='tstring_content'>\t</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_file'>old_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_hash'>new_hash</span><span class='embexpr_end'>}</span><span class='tstring_content'>\t</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_file'>new_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_say'>say</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_old_hash'>old_hash</span> <span class='op'>==</span> <span class='id identifier rubyid_new_hash'>new_hash</span>
    <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SUCCESS - original and rebuild hashes matched</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FAILURE - original and rebuild hashes did not match</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_say'>say</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_diff'>diff</span>]
      <span class='kw'>if</span> <span class='id identifier rubyid_system'>system</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>diffoscope</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_old_file'>old_file</span><span class='comma'>,</span> <span class='id identifier rubyid_new_file'>new_file</span>).<span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_alert_error'>alert_error</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error: could not find `diffoscope` executable</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pass --diff for more details (requires diffoscope to be installed).</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_terminate_interaction'>terminate_interaction</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="description-instance_method">
  <h3 class='signature nodoc'>
    #<strong>description</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L52-L68'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='52' data-end='68'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 52</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_description'>description</span> <span class='comment'># :nodoc:
</span>  <span class='heredoc_beg'>&lt;&lt;-EOF</span>
<span class='tstring_content'>The rebuild command allows you to (attempt to) reproduce a build of a gem
from a ruby gemspec.

This command assumes the gemspec can be built with the `gem build` command.
If you use any of `gem build`, `rake build`, or`rake release` in the
build/release process for a gem, it is a potential candidate.

You will need to match the RubyGems version used, since this is included in
the Gem metadata.

If the gem includes lockfiles (e.g. Gemfile.lock) and similar, it will
require more effort to reproduce a build. For example, it might require
more precisely matched versions of Ruby and/or Bundler to be used.
</span><span class='heredoc_end'>  EOF
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="download_gem-instance_method">
  <h3 class='signature priv'>
    #<strong>download_gem</strong>(gem_name, gem_version, old_file)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L237-L259'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='237' data-end='259'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 237</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_download_gem'>download_gem</span>(<span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_version'>gem_version</span><span class='comma'>,</span> <span class='id identifier rubyid_old_file'>old_file</span>)
  <span class='comment'># This code was based loosely off the `gem fetch` command.
</span>  <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>= </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_version'>gem_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_dep'>dep</span> <span class='op'>=</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Dependency.html" title="Gem::Dependency (class)">Dependency</a></span>.<span class='id identifier rubyid_new'><a href="../Dependency.html#new-class_method" title="Gem::Dependency.new (method)">new</a></span> <span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span>

  <span class='id identifier rubyid_specs_and_sources'>specs_and_sources</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span> <span class='op'>=</span>
    <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../SpecFetcher.html" title="Gem::SpecFetcher (class)">SpecFetcher</a></span>.<span class='id identifier rubyid_fetcher'><a href="../SpecFetcher.html#fetcher-class_method" title="Gem::SpecFetcher.fetcher (method)">fetcher</a></span>.<span class='id identifier rubyid_spec_for_dependency'>spec_for_dependency</span> <span class='id identifier rubyid_dep'>dep</span>

  <span class='comment'># There should never be more than one item in specs_and_sources,
</span>  <span class='comment'># since we search for an exact version.
</span>  <span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_specs_and_sources'>specs_and_sources</span>[<span class='int'>0</span>]

  <span class='kw'>if</span> <span class='id identifier rubyid_spec'>spec</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_show_lookup_failure'>show_lookup_failure</span> <span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_errors'>errors</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_domain'>domain</span>]
    <span class='id identifier rubyid_terminate_interaction'>terminate_interaction</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_download_path'>download_path</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span>.<span class='id identifier rubyid_download'>download</span> <span class='id identifier rubyid_spec'>spec</span>

  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_move'>move</span>(<span class='id identifier rubyid_download_path'>download_path</span><span class='comma'>,</span> <span class='id identifier rubyid_old_file'>old_file</span>)

  <span class='id identifier rubyid_say'>say</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Downloaded </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_version'>gem_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> as </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_file'>old_file</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="error_message-instance_method">
  <h3 class='signature priv'>
    #<strong>error_message</strong>(gem_name)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L229-L235'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='229' data-end='235'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 229</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_error_message'>error_message</span>(<span class='id identifier rubyid_gem_name'>gem_name</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_gem_name'>gem_name</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Couldn&#39;t find a gemspec file matching &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; in </span><span class='embexpr_beg'>#{</span><span class='const'>Dir</span>.<span class='id identifier rubyid_pwd'>pwd</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Couldn&#39;t find a gemspec file in </span><span class='embexpr_beg'>#{</span><span class='const'>Dir</span>.<span class='id identifier rubyid_pwd'>pwd</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="execute-instance_method">
  <h3 class='signature '>
    #<strong>execute</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L74-L114'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='74' data-end='114'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 74</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_execute'>execute</span>
  <span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_version'>gem_version</span> <span class='op'>=</span> <span class='id identifier rubyid_get_gem_name_and_version'><a href="#get_gem_name_and_version-instance_method" title="Gem::Commands::RebuildCommand#get_gem_name_and_version (method)">get_gem_name_and_version</a></span>

  <span class='id identifier rubyid_old_dir'>old_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_new_dir'>new_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_prep_dirs'><a href="#prep_dirs-instance_method" title="Gem::Commands::RebuildCommand#prep_dirs (method)">prep_dirs</a></span>

  <span class='id identifier rubyid_gem_filename'>gem_filename</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_version'>gem_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>.gem</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_old_file'>old_file</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_old_dir'>old_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_filename'>gem_filename</span>)
  <span class='id identifier rubyid_new_file'>new_file</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_new_dir'>new_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_filename'>gem_filename</span>)

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_original_gem_file'>original_gem_file</span>]
    <span class='const'>FileUtils</span>.<span class='id identifier rubyid_copy_file'>copy_file</span>(<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_original_gem_file'>original_gem_file</span>]<span class='comma'>,</span> <span class='id identifier rubyid_old_file'>old_file</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_download_gem'><a href="#download_gem-instance_method" title="Gem::Commands::RebuildCommand#download_gem (method)">download_gem</a></span>(<span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_version'>gem_version</span><span class='comma'>,</span> <span class='id identifier rubyid_old_file'>old_file</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_rg_version'>rg_version</span> <span class='op'>=</span> <span class='id identifier rubyid_rubygems_version'><a href="#rubygems_version-instance_method" title="Gem::Commands::RebuildCommand#rubygems_version (method)">rubygems_version</a></span>(<span class='id identifier rubyid_old_file'>old_file</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_rg_version'>rg_version</span> <span class='op'>==</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../../Gem.html#VERSION-constant" title="Gem::VERSION (constant)">VERSION</a></span>
    <span class='id identifier rubyid_alert_error'>alert_error</span> <span class='heredoc_beg'>&lt;&lt;-EOF</span>
<span class='tstring_content'>You need to use the same RubyGems version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> v</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_version'>gem_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> was built with.

</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_name'>gem_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> v</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_version'>gem_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> was built using RubyGems v</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rg_version'>rg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>.
Gem files include the version of RubyGems used to build them.
This means in order to reproduce </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_filename'>gem_filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>, you must also use RubyGems v</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rg_version'>rg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>.

You&#39;re using RubyGems v</span><span class='embexpr_beg'>#{</span><span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../../Gem.html#VERSION-constant" title="Gem::VERSION (constant)">VERSION</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>.

Please install RubyGems v</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rg_version'>rg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> and try again.
</span><span class='heredoc_end'>    EOF
</span>    <span class='id identifier rubyid_terminate_interaction'>terminate_interaction</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span> <span class='op'>=</span> <span class='id identifier rubyid_get_timestamp'><a href="#get_timestamp-instance_method" title="Gem::Commands::RebuildCommand#get_timestamp (method)">get_timestamp</a></span>(<span class='id identifier rubyid_old_file'>old_file</span>).<span class='id identifier rubyid_to_s'>to_s</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_build_path'>build_path</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_build_path'>build_path</span>]
    <span class='const'>Dir</span>.<span class='id identifier rubyid_chdir'>chdir</span>(<span class='id identifier rubyid_build_path'>build_path</span>) { <span class='id identifier rubyid_build_gem'><a href="#build_gem-instance_method" title="Gem::Commands::RebuildCommand#build_gem (method)">build_gem</a></span>(<span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_new_file'>new_file</span>) }
  <span class='kw'>else</span>
    <span class='id identifier rubyid_build_gem'><a href="#build_gem-instance_method" title="Gem::Commands::RebuildCommand#build_gem (method)">build_gem</a></span>(<span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_new_file'>new_file</span>)
  <span class='kw'>end</span>

  <span class='id identifier rubyid_compare'><a href="#compare-instance_method" title="Gem::Commands::RebuildCommand#compare (method)">compare</a></span>(<span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span><span class='comma'>,</span> <span class='id identifier rubyid_old_file'>old_file</span><span class='comma'>,</span> <span class='id identifier rubyid_new_file'>new_file</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_gem_name_and_version-instance_method">
  <h3 class='signature priv'>
    #<strong>get_gem_name_and_version</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L179-L190'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='179' data-end='190'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 179</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_gem_name_and_version'>get_gem_name_and_version</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_args'>args</span>] <span class='op'>||</span> []
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>2</span>
    <span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_version'>gem_version</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>2</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../CommandLineError.html" title="Gem::CommandLineError (class)">CommandLineError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Too many arguments</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../CommandLineError.html" title="Gem::CommandLineError (class)">CommandLineError</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected GEM_NAME and GEM_VERSION arguments (gem rebuild GEM_NAME GEM_VERSION)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  [<span class='id identifier rubyid_gem_name'>gem_name</span><span class='comma'>,</span> <span class='id identifier rubyid_gem_version'>gem_version</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_timestamp-instance_method">
  <h3 class='signature priv'>
    #<strong>get_timestamp</strong>(file)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L122-L131'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='122' data-end='131'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 122</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_timestamp'>get_timestamp</span>(<span class='id identifier rubyid_file'>file</span>)
  <span class='id identifier rubyid_mtime'>mtime</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='const'>File</span>.<span class='id identifier rubyid_open'>open</span>(<span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_binary_mode'><a href="../../Gem.html#binary_mode-class_method" title="Gem.binary_mode (method)">binary_mode</a></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Package.html" title="Gem::Package (class)">Package</a></span><span class='op'>::</span><span class='const'><a href="../Package/TarReader.html" title="Gem::Package::TarReader (class)">TarReader</a></span>.<span class='id identifier rubyid_new'><a href="../Package/TarReader.html#new-class_method" title="Gem::Package::TarReader.new (method)">new</a></span>(<span class='id identifier rubyid_f'>f</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tar'>tar</span><span class='op'>|</span>
      <span class='id identifier rubyid_mtime'>mtime</span> <span class='op'>=</span> <span class='id identifier rubyid_tar'>tar</span>.<span class='id identifier rubyid_seek'>seek</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>metadata.gz</span><span class='tstring_end'>&quot;</span></span>) {<span class='op'>|</span><span class='id identifier rubyid_tf'>tf</span><span class='op'>|</span> <span class='id identifier rubyid_tf'>tf</span>.<span class='id identifier rubyid_header'>header</span>.<span class='id identifier rubyid_mtime'>mtime</span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_mtime'>mtime</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prep_dirs-instance_method">
  <h3 class='signature priv'>
    #<strong>prep_dirs</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L168-L177'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='168' data-end='177'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 168</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prep_dirs'>prep_dirs</span>
  <span class='id identifier rubyid_rebuild_dir'>rebuild_dir</span> <span class='op'>=</span> <span class='const'>Dir</span>.<span class='id identifier rubyid_mktmpdir'>mktmpdir</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gem_rebuild</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_old_dir'>old_dir</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_rebuild_dir'>rebuild_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>old</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_new_dir'>new_dir</span> <span class='op'>=</span> <span class='const'>File</span>.<span class='id identifier rubyid_join'>join</span>(<span class='id identifier rubyid_rebuild_dir'>rebuild_dir</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new</span><span class='tstring_end'>&quot;</span></span>)

  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span>(<span class='id identifier rubyid_old_dir'>old_dir</span>)
  <span class='const'>FileUtils</span>.<span class='id identifier rubyid_mkdir_p'>mkdir_p</span>(<span class='id identifier rubyid_new_dir'>new_dir</span>)

  [<span class='id identifier rubyid_old_dir'>old_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_new_dir'>new_dir</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rubygems_version-instance_method">
  <h3 class='signature priv'>
    #<strong>rubygems_version</strong>(gem_file)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L261-L263'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='261' data-end='263'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 261</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rubygems_version'>rubygems_version</span>(<span class='id identifier rubyid_gem_file'>gem_file</span>)
  <span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span><span class='op'>::</span><span class='const'><a href="../Package.html" title="Gem::Package (class)">Package</a></span>.<span class='id identifier rubyid_new'><a href="../Package.html#new-class_method" title="Gem::Package.new (method)">new</a></span>(<span class='id identifier rubyid_gem_file'>gem_file</span>).<span class='id identifier rubyid_spec'><a href="../Package.html#spec-instance_method" title="Gem::Package#spec (method)">spec</a></span>.<span class='id identifier rubyid_rubygems_version'>rubygems_version</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sha256-instance_method">
  <h3 class='signature priv'>
    #<strong>sha256</strong>(file)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L118-L120'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='118' data-end='120'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 118</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_sha256'>sha256</span>(<span class='id identifier rubyid_file'>file</span>)
  <span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA256</span>.<span class='id identifier rubyid_hexdigest'>hexdigest</span>(<span class='const'><a href="../../Gem.html" title="Gem (module)">Gem</a></span>.<span class='id identifier rubyid_read_binary'><a href="../../Gem.html#read_binary-class_method" title="Gem.read_binary (method)">read_binary</a></span>(<span class='id identifier rubyid_file'>file</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="usage-instance_method">
  <h3 class='signature nodoc'>
    #<strong>usage</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L70-L72'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='70' data-end='72'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 70</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_usage'>usage</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_program_name'>program_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> GEM_NAME GEM_VERSION</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="with_source_date_epoch-instance_method">
  <h3 class='signature priv'>
    #<strong>with_source_date_epoch</strong>(source_date_epoch)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_1/lib/rubygems/commands/rebuild_command.rb#L220-L227'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='220' data-end='227'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/rubygems/commands/rebuild_command.rb', line 220</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_with_source_date_epoch'>with_source_date_epoch</span>(<span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span>)
  <span class='id identifier rubyid_old_sde'>old_sde</span> <span class='op'>=</span> <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SOURCE_DATE_EPOCH</span><span class='tstring_end'>&quot;</span></span>]
  <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SOURCE_DATE_EPOCH</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_source_date_epoch'><a href="../../Gem.html#source_date_epoch-class_method" title="Gem.source_date_epoch (method)">source_date_epoch</a></span>.<span class='id identifier rubyid_to_s'>to_s</span>

  <span class='kw'>yield</span>
<span class='kw'>ensure</span>
  <span class='const'>ENV</span>[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SOURCE_DATE_EPOCH</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_old_sde'>old_sde</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>