<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: CSV::Table &mdash; csv  Ruby-3.3.0 pp0</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "CSV::Table",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-3.3.0</a> &raquo; 
      <a href='../'>csv</a> &raquo; 
      <a href='../_index.html#alpha_T'>Index (T)</a> &raquo; 
        <a href="../CSV.html" title="CSV (class)">CSV</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Table&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: CSV::Table</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Forwardable
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Enumerable
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L144'>lib/csv/table.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A CSV::Table instance represents CSV data. (see <code>class CSV</code>).</p>

<p>The instance may have:</p>
<ul><li>
<p>Rows: each is a <code>Table::Row</code> object.</p>
</li><li>
<p>Headers: names for the columns.</p>
</li></ul>

<h4 id="label-Instance+Methods">Instance Methods</h4>

<p>CSV::Table has three groups of instance methods:</p>
<ul><li>
<p>Its own internally defined instance methods.</p>
</li><li>
<p>Methods included by module Enumerable.</p>
</li><li>
<p>Methods delegated to class <a href="../Array.html" title="Array (class)"><code>::Array</code></a>.:</p>
<ul><li>
<p>Array#empty?</p>
</li><li>
<p>Array#length</p>
</li><li>
<p>Array#size</p>
</li></ul>
</li></ul>

<h3 id="label-Creating+a+CSV-3A-3ATable+Instance">Creating a CSV::Table Instance</h3>

<p>Commonly, a new CSV::Table instance is created by parsing CSV source using headers:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; CSV::Table</span></code></pre>

<p>You can also create an instance directly. See <a href="#new-class_method" title="CSV::Table.new (method)">.new</a>.</p>

<h3 id="label-Headers">Headers</h3>

<p>If a table has headers, the headers serve as labels for the columns of data. Each header serves as the label for its column.</p>

<p>The headers for a CSV::Table object are stored as an Array of Strings.</p>

<p>Commonly, headers are defined in the first row of CSV source:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span> <span class='comment'># =&gt; [&quot;Name&quot;, &quot;Value&quot;]</span></code></pre>

<p>If no headers are defined, the Array is empty:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="CSV::Table.new (method)">new</a></span>([])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span> <span class='comment'># =&gt; []</span></code></pre>

<h3 id="label-Access+Modes">Access Modes</h3>

<p>CSV::Table provides three modes for accessing table data:</p>
<ul><li>
<p>Row mode.</p>
</li><li>
<p>Column mode.</p>
</li><li>
<p>Mixed mode (the default for a new table).</p>
</li></ul>

<p>The access mode for aCSV::Table instance affects the behavior of some of its instance methods:</p>
<ul><li>
<p><a href="#[]-instance_method" title="CSV::Table#[] (method)">#[]</a></p>
</li><li>
<p><a href="#[]=-instance_method" title="CSV::Table#[]= (method)">#[]=</a></p>
</li><li>
<p><a href="#delete-instance_method" title="CSV::Table#delete (method)">#delete</a></p>
</li><li>
<p><a href="#delete_if-instance_method" title="CSV::Table#delete_if (method)">#delete_if</a></p>
</li><li>
<p><a href="#each-instance_method" title="CSV::Table#each (method)">#each</a></p>
</li><li>
<p><a href="#values_at-instance_method" title="CSV::Table#values_at (method)">#values_at</a></p>
</li></ul>

<h4 id="label-Row+Mode">Row Mode</h4>

<p>Set a table to row mode with method <a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">#by_row!</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;</span></code></pre>

<p>Specify a single row by an Integer index:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get a row.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='comment'># Set a row, then get it.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:3&gt;</span></code></pre>

<p>Specify a sequence of rows by a Range:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get rows.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:3&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]
</span><span class='comment'># Set rows, then get them.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='op'>=</span> [
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span>])<span class='comma'>,</span>
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bad</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>5</span>])<span class='comma'>,</span>
]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; [[&quot;Name&quot;, #&lt;CSV::Row &quot;Name&quot;:&quot;bat&quot; &quot;Value&quot;:4&gt;], [&quot;Value&quot;, #&lt;CSV::Row &quot;Name&quot;:&quot;bad&quot; &quot;Value&quot;:5&gt;]]</span></code></pre>

<h4 id="label-Column+Mode">Column Mode</h4>

<p>Set a table to column mode with method <a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">#by_col!</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;</span></code></pre>

<p>Specify a column by an Integer index:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get a column.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>]
<span class='comment'># Set a column, then get it.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>] <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BAR</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BAZ</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>] <span class='comment'># =&gt; [&quot;FOO&quot;, &quot;BAR&quot;, &quot;BAZ&quot;]</span></code></pre>

<p>Specify a column by its String header:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get a column.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;FOO&quot;, &quot;BAR&quot;, &quot;BAZ&quot;]
</span><span class='comment'># Set a column, then get it.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Baz</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;]</span></code></pre>

<h4 id="label-Mixed+Mode">Mixed Mode</h4>

<p>In mixed mode, you can refer to either rows or columns:</p>
<ul><li>
<p>An Integer index refers to a row.</p>
</li><li>
<p>A Range index refers to multiple rows.</p>
</li><li>
<p>A String index refers to a column.</p>
</li></ul>

<p>Set a table to mixed mode with method <a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">#by_col_or_row!</a>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;</span></code></pre>

<p>Specify a single row by an Integer index:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get a row.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='comment'># Set a row, then get it.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:3&gt;</span></code></pre>

<p>Specify a sequence of rows by a Range:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get rows.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:3&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]
</span><span class='comment'># Set rows, then get them.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>2</span>] <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bad</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>5</span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; [[&quot;Name&quot;, #&lt;CSV::Row &quot;Name&quot;:&quot;bat&quot; &quot;Value&quot;:4&gt;], [&quot;Value&quot;, #&lt;CSV::Row &quot;Name&quot;:&quot;bad&quot; &quot;Value&quot;:5&gt;]]</span></code></pre>

<p>Specify a column by its String header:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Get a column.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bat&quot;, &quot;bad&quot;]
</span><span class='comment'># Set a column, then get it.
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Baz</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;]</span></code></pre>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(array_of_rows, headers = nil)  &#x21d2; Table </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new CSV::Table object.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#mode-instance_method" title="#mode (instance method)">#<strong>mode</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The current access mode for indexing and iteration.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro prot'>
      <a href="#table-instance_method" title="#table (instance method)">#<strong>table</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='note title protected'>protected</span>
    <div class='summary_desc'>
      <div class='inline'><p>Internal data format used to compare equality.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(row_or_array)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If <code>row_or_array</code> is a CSV::Row object, it is appended to the table:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other_table)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns <code>true</code> if all each row of <code>self</code> <code>==</code> the corresponding row of <code>other_table</code>, otherwise, <code>false</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(n)  &#x21d2; row, column_data </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns data from the table;  does not modify the table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(n, row)  &#x21d2; row </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Puts data onto the table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_col-instance_method" title="#by_col (instance method)">#<strong>by_col</strong>  &#x21d2; Table </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a duplicate of <code>self</code>, in column mode (see <a href='#class-CSV::Table-label-Column+Mode'>Column Mode</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_col!-instance_method" title="#by_col! (instance method)">#<strong>by_col!</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the mode for <code>self</code> to column mode (see <a href='#class-CSV::Table-label-Column+Mode'>Column Mode</a>); returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_col_or_row-instance_method" title="#by_col_or_row (instance method)">#<strong>by_col_or_row</strong>  &#x21d2; Table </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a duplicate of <code>self</code>, in mixed mode (see <a href='#class-CSV::Table-label-Mixed+Mode'>Mixed Mode</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_col_or_row!-instance_method" title="#by_col_or_row! (instance method)">#<strong>by_col_or_row!</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the mode for <code>self</code> to mixed mode (see <a href='#class-CSV::Table-label-Mixed+Mode'>Mixed Mode</a>); returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_row-instance_method" title="#by_row (instance method)">#<strong>by_row</strong>  &#x21d2; Table </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a duplicate of <code>self</code>, in row mode (see <a href='#class-CSV::Table-label-Row+Mode'>Row Mode</a>):</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#by_row!-instance_method" title="#by_row! (instance method)">#<strong>by_row!</strong>  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sets the mode for <code>self</code> to row mode (see <a href='#class-CSV::Table-label-Row+Mode'>Row Mode</a>); returns <code>self</code>:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(*indexes)  &#x21d2; deleted_values </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns deleted rows.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#delete_if-instance_method" title="#delete_if (instance method)">#<strong>delete_if</strong> {|row_or_column| ... } &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Removes rows or columns for which the block returns a truthy value; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#dig-instance_method" title="#dig (instance method)">#<strong>dig</strong>(index_or_header, *index_or_headers)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Extracts the nested value specified by the sequence of <code>index</code> or <code>header</code> objects by calling dig at each step, returning nil if any intermediate step is nil.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>({|row_or_column| ... )  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Calls the block with each row or column; returns <code>self</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#headers-instance_method" title="#headers (instance method)">#<strong>headers</strong>  &#x21d2; array_of_headers </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a new Array containing the String headers for the table.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns a <code>US-ASCII</code>-encoded String showing table: - Class: <code>Table</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>(*rows_or_arrays)  &#x21d2; self </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>A shortcut for appending multiple rows.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  &#x21d2; array_of_arrays </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the table as an Array of Arrays; the headers are in the first row:</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_csv-instance_method" title="#to_csv (instance method)">#<strong>to_csv</strong>(**options)  &#x21d2; csv_string </a>
      (also: #to_s)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns the table as CSV string.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>(write_headers: true, limit: nil, **options)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#to_csv-instance_method" title="CSV::Table#to_csv (method)">#to_csv</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#values_at-instance_method" title="#values_at (instance method)">#<strong>values_at</strong>(*indexes)  &#x21d2; array_of_rows </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns rows.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(array_of_rows, headers = nil)  &#x21d2; <code>Table</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new CSV::Table object.</p>
<ul><li>
<p>Argument <code>array_of_rows</code> must be an Array of <a href="Row.html" title="CSV::Row (class)"><code>Row</code></a> objects.</p>
</li><li>
<p>Argument <a href="#headers-instance_method" title="CSV::Table#headers (method)">#headers</a>, if given, may be an Array of Strings.</p>
</li></ul>
<hr>

<p>Create an empty CSV::Table object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'>new</span>([])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:1&gt;</span></code></pre>

<p>Create a non-empty CSV::Table object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> [
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([]<span class='comma'>,</span> [])<span class='comma'>,</span>
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([]<span class='comma'>,</span> [])<span class='comma'>,</span>
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([]<span class='comma'>,</span> [])<span class='comma'>,</span>
]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>  <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_rows'>rows</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;</span></code></pre>
<hr>

<p>If argument <a href="#headers-instance_method" title="CSV::Table#headers (method)">#headers</a> is an Array of Strings, those Strings become the tableâ€™s headers:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'>new</span>([]<span class='comma'>,</span> <span class='label'>headers:</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Age</span><span class='tstring_end'>&#39;</span></span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span> <span class='comment'># =&gt; [&quot;Name&quot;, &quot;Age&quot;]</span></code></pre>

<p>If argument <a href="#headers-instance_method" title="CSV::Table#headers (method)">#headers</a> is not given and the table has rows, the headers are taken from the first row:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> [
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bar</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [])<span class='comma'>,</span>
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [])<span class='comma'>,</span>
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BAR</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [])<span class='comma'>,</span>
]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>  <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'>new</span>(<span class='id identifier rubyid_rows'>rows</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span> <span class='comment'># =&gt; [&quot;Foo&quot;, &quot;Bar&quot;]</span></code></pre>

<p>If argument <a href="#headers-instance_method" title="CSV::Table#headers (method)">#headers</a> is not given and the table is empty (has no rows), the headers are also empty:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>  <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'>new</span>([])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span> <span class='comment'># =&gt; []</span></code></pre>
<hr>

<p>Raises an exception if argument <code>array_of_rows</code> is not an Array object:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Raises NoMethodError (undefined method `first&#39; for :foo:Symbol):
</span><span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'>new</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>)</code></pre>

<p>Raises an exception if an element of <code>array_of_rows</code> is not a CSV::Table object:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Raises NoMethodError (undefined method `headers&#39; for :foo:Symbol):
</span><span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'>new</span>([<span class='symbeg'>:</span><span class='id identifier rubyid_foo'>foo</span>])</code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L199-L211'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='199' data-end='211'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 199</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_array_of_rows'>array_of_rows</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>nil</span>)
  <span class='ivar'>@table</span> <span class='op'>=</span> <span class='id identifier rubyid_array_of_rows'>array_of_rows</span>
  <span class='ivar'>@headers</span> <span class='op'>=</span> <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>
  <span class='kw'>unless</span> <span class='ivar'>@headers</span>
    <span class='kw'>if</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_empty?'>empty?</span>
      <span class='ivar'>@headers</span> <span class='op'>=</span> []
    <span class='kw'>else</span>
      <span class='ivar'>@headers</span> <span class='op'>=</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@mode</span>  <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="mode-instance_method">
  <h3 class='signature ro first'>
    #<strong>mode</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The current access mode for indexing and iteration.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L214-L214'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='214' data-end='214'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 214</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="table-instance_method">
  <h3 class='signature ro prot'>
    #<strong>table</strong>   <span class="extras">(<span class='readonly'>readonly</span>, <span class='prot'>protected</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Internal data format used to compare equality.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L217-L217'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='217' data-end='217'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 217</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_table'>table</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="<<-instance_method">
  <h3 class='signature  first'>
    #<strong>&lt;&lt;</strong>(row_or_array)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <code>row_or_array</code> is a CSV::Row object, it is appended to the table:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>3</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bat&quot; &quot;Value&quot;:3&gt;</span></code></pre>

<p>If <code>row_or_array</code> is an Array, it is used to create a new CSV::Row object which is then appended to the table:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>&lt;&lt;</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:4&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L762-L770'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='762' data-end='770'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 762</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>&lt;&lt;</span>(<span class='id identifier rubyid_row_or_array'>row_or_array</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_row_or_array'>row_or_array</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><a href="../Array.html" title="Array (class)">Array</a></span>  <span class='comment'># append Array
</span>    <span class='ivar'>@table</span> <span class='op'>&lt;&lt;</span> <span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>(<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span><span class='comma'>,</span> <span class='id identifier rubyid_row_or_array'>row_or_array</span>)
  <span class='kw'>else</span>                         <span class='comment'># append Row
</span>    <span class='ivar'>@table</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_row_or_array'>row_or_array</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span> <span class='comment'># for chaining
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="==-instance_method">
  <h3 class='signature '>
    #<strong>==</strong>(other_table)  &#x21d2; <code>Boolean</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns <code>true</code> if all each row of <code>self</code> <code>==</code> the corresponding row of <code>other_table</code>, otherwise, <code>false</code>.</p>

<p>The access mode does no affect the result.</p>

<p>Equal tables:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_other_table'>other_table</span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other_table'>other_table</span> <span class='comment'># =&gt; true</span></code></pre>

<p>Different row count:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_other_table'>other_table</span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="CSV::Table#delete (method)">delete</a></span>(<span class='int'>2</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other_table'>other_table</span> <span class='comment'># =&gt; false</span></code></pre>

<p>Different last row:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_other_table'>other_table</span> <span class='op'>&lt;&lt;</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>==</span> <span class='id identifier rubyid_other_table'>other_table</span> <span class='comment'># =&gt; false</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L965-L968'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='965' data-end='968'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 965</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>==</span>(<span class='id identifier rubyid_other'>other</span>)
  <span class='kw'>return</span> <span class='ivar'>@table</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>
  <span class='ivar'>@table</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]</strong>(n)  &#x21d2; <code>row</code>, <code>column_data</code> </span>
      <span class='overload'>#<strong>[]</strong>(range)  &#x21d2; <code>array_of_rows</code>, <code>array_of_column_data</code> </span>
      <span class='overload'>#<strong>[]</strong>(header)  &#x21d2; <code>array_of_column_data</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns data from the table;  does not modify the table.</p>
<hr>
<dl class="rdoc-list note-list"><dt>Fetch a Row by Its Integer Index
<dd></dd></dl>
<ul><li>
<p>Form: <code>table[n]</code>, <code>n</code> an integer.</p>
</li><li>
<p>Access mode: <code>:row</code> or <code>:col_or_row</code>.</p>
</li><li>
<p>Return value: <em>nth</em> row of the table, if that row exists; otherwise <code>nil</code>.</p>
</li></ul>

<p>Returns the <em>nth</em> row of the table if that row exists:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;</span></code></pre>

<p>Counts backward from the last row if <code>n</code> is negative:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>1</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;</span></code></pre>

<p>Returns <code>nil</code> if <code>n</code> is too large or too small:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span>] <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>4</span>] <span class='comment'># =&gt; nil</span></code></pre>

<p>Raises an exception if the access mode is <code>:row</code> and <code>n</code> is not an Integer:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='comment'># Raises TypeError (no implicit conversion of String into Integer):
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>]</code></pre>
<hr>
<dl class="rdoc-list note-list"><dt>Fetch a Column by Its Integer Index
<dd></dd></dl>
<ul><li>
<p>Form: <code>table[n]</code>, <code>n</code> an Integer.</p>
</li><li>
<p>Access mode: <code>:col</code>.</p>
</li><li>
<p>Return value: <em>nth</em> column of the table, if that column exists; otherwise an Array of <code>nil</code> fields of length <code>self.size</code>.</p>
</li></ul>

<p>Returns the <em>nth</em> column of the table if that column exists:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;]</span></code></pre>

<p>Counts backward from the last column if <code>n</code> is negative:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>2</span>] <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span></code></pre>

<p>Returns an Array of <code>nil</code> fields if <code>n</code> is too large or too small:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span>] <span class='comment'># =&gt; [nil, nil, nil]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>4</span>] <span class='comment'># =&gt; [nil, nil, nil]</span></code></pre>
<hr>
<dl class="rdoc-list note-list"><dt>Fetch Rows by Range
<dd></dd></dl>
<ul><li>
<p>Form: <code>table[range]</code>, <code>range</code> a Range object.</p>
</li><li>
<p>Access mode: <code>:row</code> or <code>:col_or_row</code>.</p>
</li><li>
<p>Return value: rows from the table, beginning at row <code>range.start</code>, if those rows exists.</p>
</li></ul>

<p>Returns rows from the table, beginning at row <code>range.first</code>, if those rows exist:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>If there are too few rows, returns all from <code>range.start</code> to the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span><span class='op'>..</span><span class='int'>50</span>] <span class='comment'># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>Special case: if <code>range.start == table.size</code>, returns an empty Array:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_size'>size</span><span class='op'>..</span><span class='int'>50</span>] <span class='comment'># =&gt; []</span></code></pre>

<p>If <code>range.end</code> is negative, calculates the ending index from the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>]
<span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>If <code>range.start</code> is negative, calculates the starting index from the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>]
<span class='id identifier rubyid_rows'>rows</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>If <code>range.start</code> is larger than <code>table.size</code>, returns <code>nil</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span><span class='op'>..</span><span class='int'>4</span>] <span class='comment'># =&gt; nil</span></code></pre>
<hr>
<dl class="rdoc-list note-list"><dt>Fetch Columns by Range
<dd></dd></dl>
<ul><li>
<p>Form: <code>table[range]</code>, <code>range</code> a Range object.</p>
</li><li>
<p>Access mode: <code>:col</code>.</p>
</li><li>
<p>Return value: column data from the table, beginning at column <code>range.start</code>, if those columns exist.</p>
</li></ul>

<p>Returns column values from the table, if the column exists; the values are arranged by row:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span><span class='op'>..</span><span class='int'>1</span>] <span class='comment'># =&gt; [[&quot;foo&quot;, &quot;0&quot;], [&quot;bar&quot;, &quot;1&quot;], [&quot;baz&quot;, &quot;2&quot;]]</span></code></pre>

<p>Special case: if <code>range.start == headers.size</code>, returns an Array (size: <code>table.size</code>) of empty Arrays:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span><span class='op'>..</span><span class='int'>50</span>] <span class='comment'># =&gt; [[], [], []]</span></code></pre>

<p>If <code>range.end</code> is negative, calculates the ending index from the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span>] <span class='comment'># =&gt; [[&quot;foo&quot;, &quot;0&quot;], [&quot;bar&quot;, &quot;1&quot;], [&quot;baz&quot;, &quot;2&quot;]]</span></code></pre>

<p>If <code>range.start</code> is negative, calculates the starting index from the end:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='op'>-</span><span class='int'>2</span><span class='op'>..</span><span class='int'>2</span>] <span class='comment'># =&gt; [[&quot;foo&quot;, &quot;0&quot;], [&quot;bar&quot;, &quot;1&quot;], [&quot;baz&quot;, &quot;2&quot;]]</span></code></pre>

<p>If <code>range.start</code> is larger than <code>table.size</code>, returns an Array of <code>nil</code> values:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span><span class='op'>..</span><span class='int'>4</span>] <span class='comment'># =&gt; [nil, nil, nil]</span></code></pre>
<hr>
<dl class="rdoc-list note-list"><dt>Fetch a Column by Its String Header
<dd></dd></dl>
<ul><li>
<p>Form: <code>table[header]</code>, <code>header</code> a String header.</p>
</li><li>
<p>Access mode: <code>:col</code> or <code>:col_or_row</code></p>
</li><li>
<p>Return value: column data from the table, if that <code>header</code> exists.</p>
</li></ul>

<p>Returns column values from the table, if the column exists:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;
</span><span class='id identifier rubyid_col'>col</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_col'>col</span> <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span></code></pre>

<p>Modifying the returned column values does not modify the table:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_col'>col</span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_col'>col</span> <span class='comment'># =&gt; [&quot;bat&quot;, &quot;bar&quot;, &quot;baz&quot;]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span></code></pre>

<p>Returns an Array of <code>nil</code> values if there is no such column:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Nosuch</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [nil, nil, nil]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L514-L521'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='514' data-end='521'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 514</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>)
  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span>  <span class='comment'># by index
</span>     (<span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='kw'>and</span> (<span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>) <span class='kw'>or</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Range</span>)))
    <span class='ivar'>@table</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>]
  <span class='kw'>else</span>                 <span class='comment'># by header
</span>    <span class='ivar'>@table</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="[]=-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>[]=</strong>(n, row)  &#x21d2; <code>row</code> </span>
      <span class='overload'>#<strong>[]=</strong>(n, field_or_array_of_fields)  &#x21d2; <code>field_or_array_of_fields</code> </span>
      <span class='overload'>#<strong>[]=</strong>(header, field_or_array_of_fields)  &#x21d2; <code>field_or_array_of_fields</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Puts data onto the table.</p>
<hr>
<dl class="rdoc-list note-list"><dt>Set a Row by Its Integer Index
<dd></dd></dl>
<ul><li>
<p>Form: <code>table[n] = row</code>, <code>n</code> an Integer, <code>row</code> a CSV::Row instance or an Array of fields.</p>
</li><li>
<p>Access mode: <code>:row</code> or <code>:col_or_row</code>.</p>
</li><li>
<p>Return value: <code>row</code>.</p>
</li></ul>

<p>If the row exists, it is replaced:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_new_row'>new_row</span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_return_value'>return_value</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='id identifier rubyid_new_row'>new_row</span>
<span class='id identifier rubyid_return_value'>return_value</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_new_row'>new_row</span>) <span class='comment'># =&gt; true # Returned the row
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;bat&quot;, &quot;Value&quot;=&gt;3}</span></code></pre>

<p>With access mode <code>:col_or_row</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span>])
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;bam&quot;, &quot;Value&quot;=&gt;4}</span></code></pre>

<p>With an Array instead of a CSV::Row, inherits headers from the table:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bad</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>5</span>]
<span class='id identifier rubyid_return_value'>return_value</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>] <span class='op'>=</span> <span class='id identifier rubyid_array'>array</span>
<span class='id identifier rubyid_return_value'>return_value</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_array'>array</span>) <span class='comment'># =&gt; true # Returned the array
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;bad&quot;, &quot;Value&quot;=&gt;5}</span></code></pre>

<p>If the row does not exist, extends the table by adding rows: assigns rows with <code>nil</code> as needed:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>5</span>] <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bag</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>6</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 6
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>3</span>] <span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>4</span>]<span class='comment'># =&gt; nil
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>5</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;bag&quot;, &quot;Value&quot;=&gt;6}</span></code></pre>

<p>Note that the <code>nil</code> rows are actually <code>nil</code>, not a row of <code>nil</code> fields.</p>
<hr>
<dl class="rdoc-list note-list"><dt>Set a Column by Its Integer Index
<dd></dd></dl>
<ul><li>
<p>Form: <code>table[n] = array_of_fields</code>, <code>n</code> an Integer, <code>array_of_fields</code> an Array of String fields.</p>
</li><li>
<p>Access mode: <code>:col</code>.</p>
</li><li>
<p>Return value: <code>array_of_fields</code>.</p>
</li></ul>

<p>If the column exists, it is replaced:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_new_col'>new_col</span> <span class='op'>=</span> [<span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_return_value'>return_value</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='op'>=</span> <span class='id identifier rubyid_new_col'>new_col</span>
<span class='id identifier rubyid_return_value'>return_value</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_new_col'>new_col</span>) <span class='comment'># =&gt; true # Returned the column
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; [3, 4, 5]
</span><span class='comment'># The rows, as revised:
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;foo&quot;, &quot;Value&quot;=&gt;3}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;bar&quot;, &quot;Value&quot;=&gt;4}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>2</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;baz&quot;, &quot;Value&quot;=&gt;5}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;</span></code></pre>

<p>If there are too few values, fills with <code>nil</code> values:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='op'>=</span> [<span class='int'>0</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; [0, nil, nil]</span></code></pre>

<p>If there are too many values, ignores the extra values:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; [0, 1, 2]</span></code></pre>

<p>If a single value is given, replaces all fields in the column with that value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>] <span class='comment'># =&gt; [&quot;bat&quot;, &quot;bat&quot;, &quot;bat&quot;]</span></code></pre>
<hr>
<dl class="rdoc-list note-list"><dt>Set a Column by Its String Header
<dd></dd></dl>
<ul><li>
<p>Form: <code>table[header] = field_or_array_of_fields</code>, <code>header</code> a String header, <code>field_or_array_of_fields</code> a field value or an Array of String fields.</p>
</li><li>
<p>Access mode: <code>:col</code> or <code>:col_or_row</code>.</p>
</li><li>
<p>Return value: <code>field_or_array_of_fields</code>.</p>
</li></ul>

<p>If the column exists, it is replaced:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_new_col'>new_col</span> <span class='op'>=</span> [<span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_return_value'>return_value</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='id identifier rubyid_new_col'>new_col</span>
<span class='id identifier rubyid_return_value'>return_value</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_new_col'>new_col</span>) <span class='comment'># =&gt; true # Returned the column
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [3, 4, 5]
</span><span class='comment'># The rows, as revised:
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;foo&quot;, &quot;Value&quot;=&gt;3}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;bar&quot;, &quot;Value&quot;=&gt;4}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>2</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;baz&quot;, &quot;Value&quot;=&gt;5}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;</span></code></pre>

<p>If there are too few values, fills with <code>nil</code> values:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> [<span class='int'>0</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [0, nil, nil]</span></code></pre>

<p>If there are too many values, ignores the extra values:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> [<span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>4</span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [0, 1, 2]</span></code></pre>

<p>If the column does not exist, extends the table by adding columns:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Note</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>z</span><span class='tstring_end'>&#39;</span></span>]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Note</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]
</span><span class='comment'># The rows, as revised:
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>0</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;foo&quot;, &quot;Value&quot;=&gt;0, &quot;Note&quot;=&gt;&quot;x&quot;}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>1</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;bar&quot;, &quot;Value&quot;=&gt;1, &quot;Note&quot;=&gt;&quot;y&quot;}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>2</span>].<span class='id identifier rubyid_to_h'>to_h</span> <span class='comment'># =&gt; {&quot;Name&quot;=&gt;&quot;baz&quot;, &quot;Value&quot;=&gt;2, &quot;Note&quot;=&gt;&quot;z&quot;}
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span></code></pre>

<p>If a single value is given, replaces all fields in the column with that value:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span>] <span class='comment'># =&gt; [&quot;bat&quot;, &quot;bat&quot;, &quot;bat&quot;]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L649-L680'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='649' data-end='680'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 649</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='op'>[]=</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span>  <span class='comment'># by index
</span>     (<span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='kw'>and</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>)
    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><a href="../Array.html" title="Array (class)">Array</a></span>
      <span class='ivar'>@table</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>(<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)
    <span class='kw'>else</span>
      <span class='ivar'>@table</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>                 <span class='comment'># set column
</span>    <span class='kw'>unless</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='ivar'>@headers</span>.<span class='id identifier rubyid_index'>index</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>) <span class='op'>||</span> <span class='ivar'>@headers</span>.<span class='id identifier rubyid_size'>size</span>
      <span class='ivar'>@headers</span>[<span class='id identifier rubyid_index'>index</span>] <span class='op'>=</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><a href="../Array.html" title="Array (class)">Array</a></span>  <span class='comment'># multiple values
</span>      <span class='ivar'>@table</span>.<span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_header_row?'><a href="../CSV.html#header_row%3F-instance_method" title="CSV#header_row? (method)">header_row?</a></span>
          <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>[<span class='id identifier rubyid_i'>i</span>]
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>                  <span class='comment'># repeated value
</span>      <span class='ivar'>@table</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_header_row?'><a href="../CSV.html#header_row%3F-instance_method" title="CSV#header_row? (method)">header_row?</a></span>
          <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>] <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_col-instance_method">
  <h3 class='signature '>
    #<strong>by_col</strong>  &#x21d2; <code>Table</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a duplicate of <code>self</code>, in column mode (see <a href='#label-Column+Mode'>Column Mode</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col_or_row
</span><span class='id identifier rubyid_dup_table'>dup_table</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col'>by_col</span>
<span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col
</span><span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>) <span class='comment'># =&gt; false # It&#39;s a dup</span></code></pre>

<p>This may be used to chain method calls without changing the mode (but also will affect performance and memory usage):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_by_col'>by_col</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>]</code></pre>

<p>Also note that changes to the duplicate table will not affect the original.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L242-L244'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='242' data-end='244'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 242</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_col'>by_col</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="CSV::Table.new (method)">new</a></span>(<span class='ivar'>@table</span>.<span class='id identifier rubyid_dup'>dup</span>).<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_col!-instance_method">
  <h3 class='signature '>
    #<strong>by_col!</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the mode for <code>self</code> to column mode (see <a href='#label-Column+Mode'>Column Mode</a>); returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col_or_row
</span><span class='id identifier rubyid_table1'>table1</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'>by_col!</span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col
</span><span class='id identifier rubyid_table1'>table1</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>) <span class='comment'># =&gt; true # Returned self</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L257-L261'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='257' data-end='261'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 257</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_col!'>by_col!</span>
  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col'>col</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_col_or_row-instance_method">
  <h3 class='signature '>
    #<strong>by_col_or_row</strong>  &#x21d2; <code>Table</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a duplicate of <code>self</code>, in mixed mode (see <a href='#label-Mixed+Mode'>Mixed Mode</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>).<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col
</span><span class='id identifier rubyid_dup_table'>dup_table</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row'>by_col_or_row</span>
<span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col_or_row
</span><span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>) <span class='comment'># =&gt; false # It&#39;s a dup</span></code></pre>

<p>This may be used to chain method calls without changing the mode (but also will affect performance and memory usage):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_by_col_or_row'>by_col_or_row</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>]</code></pre>

<p>Also note that changes to the duplicate table will not affect the original.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L280-L282'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='280' data-end='282'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 280</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_col_or_row'>by_col_or_row</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="CSV::Table.new (method)">new</a></span>(<span class='ivar'>@table</span>.<span class='id identifier rubyid_dup'>dup</span>).<span class='id identifier rubyid_by_col_or_row!'><a href="#by_col_or_row!-instance_method" title="CSV::Table#by_col_or_row! (method)">by_col_or_row!</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_col_or_row!-instance_method">
  <h3 class='signature '>
    #<strong>by_col_or_row!</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the mode for <code>self</code> to mixed mode (see <a href='#label-Mixed+Mode'>Mixed Mode</a>); returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>).<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col
</span><span class='id identifier rubyid_table1'>table1</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col_or_row!'>by_col_or_row!</span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col_or_row
</span><span class='id identifier rubyid_table1'>table1</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>) <span class='comment'># =&gt; true # Returned self</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L295-L299'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='295' data-end='299'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 295</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_col_or_row!'>by_col_or_row!</span>
  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_row-instance_method">
  <h3 class='signature '>
    #<strong>by_row</strong>  &#x21d2; <code>Table</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a duplicate of <code>self</code>, in row mode (see <a href='#label-Row+Mode'>Row Mode</a>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col_or_row
</span><span class='id identifier rubyid_dup_table'>dup_table</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row'>by_row</span>
<span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :row
</span><span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>) <span class='comment'># =&gt; false # It&#39;s a dup</span></code></pre>

<p>This may be used to chain method calls without changing the mode (but also will affect performance and memory usage):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dup_table'>dup_table</span>.<span class='id identifier rubyid_by_row'>by_row</span>[<span class='int'>1</span>]</code></pre>

<p>Also note that changes to the duplicate table will not affect the original.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L318-L320'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='318' data-end='320'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 318</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_row'>by_row</span>
  <span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="CSV::Table.new (method)">new</a></span>(<span class='ivar'>@table</span>.<span class='id identifier rubyid_dup'>dup</span>).<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="by_row!-instance_method">
  <h3 class='signature '>
    #<strong>by_row!</strong>  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sets the mode for <code>self</code> to row mode (see <a href='#label-Row+Mode'>Row Mode</a>); returns <code>self</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :col_or_row
</span><span class='id identifier rubyid_table1'>table1</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'>by_row!</span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_mode'><a href="#mode-instance_method" title="CSV::Table#mode (method)">mode</a></span> <span class='comment'># =&gt; :row
</span><span class='id identifier rubyid_table1'>table1</span>.<span class='id identifier rubyid_equal?'>equal?</span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>) <span class='comment'># =&gt; true # Returned self</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L333-L337'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='333' data-end='337'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 333</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_by_row!'>by_row!</span>
  <span class='ivar'>@mode</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span>

  <span class='kw'>self</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>delete</strong>(*indexes)  &#x21d2; <code>deleted_values</code> </span>
      <span class='overload'>#<strong>delete</strong>(*headers)  &#x21d2; <code>deleted_values</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns deleted rows. Otherwise, returns deleted columns data.</p>

<p>In either case, the returned values are in the order specified by the arguments.  Arguments may be repeated.</p>
<hr>

<p>Returns rows as an Array of CSV::Row objects.</p>

<p>One index:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='int'>0</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span></code></pre>

<p>Two indexes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span></code></pre>
<hr>

<p>Returns columns data as column Arrays.</p>

<p>One header:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span></code></pre>

<p>Two headers:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='comment'># =&gt; [[&quot;0&quot;, &quot;1&quot;, &quot;2&quot;], [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L834-L856'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='834' data-end='856'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 834</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span>(<span class='op'>*</span><span class='id identifier rubyid_indexes_or_headers'>indexes_or_headers</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_indexes_or_headers'>indexes_or_headers</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrong number of arguments (given 0, expected 1+)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_deleted_values'>deleted_values</span> <span class='op'>=</span> <span class='id identifier rubyid_indexes_or_headers'>indexes_or_headers</span>.<span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index_or_header'>index_or_header</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span>  <span class='comment'># by index
</span>        (<span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='kw'>and</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>)
      <span class='ivar'>@table</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>)
    <span class='kw'>else</span>                 <span class='comment'># by header
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_index_or_header'>index_or_header</span>.<span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Integer</span>
        <span class='ivar'>@headers</span>.<span class='id identifier rubyid_delete_at'>delete_at</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>)
      <span class='kw'>else</span>
        <span class='ivar'>@headers</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>)
      <span class='kw'>end</span>
      <span class='ivar'>@table</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_delete'>delete</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span>).<span class='id identifier rubyid_last'>last</span> }
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_indexes_or_headers'>indexes_or_headers</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='id identifier rubyid_deleted_values'>deleted_values</span>[<span class='int'>0</span>]
  <span class='kw'>else</span>
    <span class='id identifier rubyid_deleted_values'>deleted_values</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="delete_if-instance_method">
  <h3 class='signature '>
    #<strong>delete_if</strong> {|row_or_column| ... } &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Removes rows or columns for which the block returns a truthy value; returns <code>self</code>.</p>

<p>Removes rows when the access mode is <code>:row</code> or <code>:col_or_row</code>; calls the block with each CSV::Row object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete_if'>delete_if</span> {<span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_start_with?'>start_with?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span>) }
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 1</span></code></pre>

<p>Removes columns when the access mode is <code>:col</code>; calls the block with each column as a 2-element array containing the header and an Array of column fields:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete_if'>delete_if</span> {<span class='op'>|</span><span class='id identifier rubyid_column_data'>column_data</span><span class='op'>|</span> <span class='id identifier rubyid_column_data'>column_data</span>[<span class='int'>1</span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>2</span><span class='tstring_end'>&#39;</span></span>) }
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='comment'># =&gt; 1</span></code></pre>

<p>Returns a new Enumerator if no block is given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete_if'>delete_if</span> <span class='comment'># =&gt; #&lt;Enumerator: #&lt;CSV::Table mode:col_or_row row_count:4&gt;:delete_if&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L887-L899'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='887' data-end='899'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 887</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_if'>delete_if</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span>(<span class='id identifier rubyid___method__'>__method__</span>) { <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='op'>?</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>:</span> <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span> } <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span>  <span class='comment'># by index
</span>    <span class='ivar'>@table</span>.<span class='id identifier rubyid_delete_if'>delete_if</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>else</span>                                      <span class='comment'># by header
</span>    <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_header'>header</span><span class='op'>|</span>
      <span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="CSV::Table#delete (method)">delete</a></span>(<span class='id identifier rubyid_header'>header</span>) <span class='kw'>if</span> <span class='kw'>yield</span>([<span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='kw'>self</span>[<span class='id identifier rubyid_header'>header</span>]])
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span> <span class='comment'># for chaining
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="dig-instance_method">
  <h3 class='signature '>
    #<strong>dig</strong>(index_or_header, *index_or_headers)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Extracts the nested value specified by the sequence of <code>index</code> or <code>header</code> objects by calling dig at each step, returning nil if any intermediate step is nil.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L1021-L1033'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1021' data-end='1033'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 1021</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_dig'>dig</span>(<span class='id identifier rubyid_index_or_header'>index_or_header</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_index_or_headers'>index_or_headers</span>)
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>self</span>[<span class='id identifier rubyid_index_or_header'>index_or_header</span>]
  <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>nil</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_index_or_headers'>index_or_headers</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>else</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_dig'>dig</span>)
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have \#dig method</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_dig'>dig</span>(<span class='op'>*</span><span class='id identifier rubyid_index_or_headers'>index_or_headers</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="each-instance_method">
  <h3 class='signature '>
    #<strong>each</strong>({|row_or_column| ... )  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Calls the block with each row or column; returns <code>self</code>.</p>

<p>When the access mode is <code>:row</code> or <code>:col_or_row</code>, calls the block with each CSV::Row object:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_row!'><a href="#by_row!-instance_method" title="CSV::Table#by_row! (method)">by_row!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_row'>row</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;
</span><span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;
</span><span class='comment'>#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;</span></code></pre>

<p>When the access mode is <code>:col</code>, calls the block with each column as a 2-element array containing the header and an Array of column fields:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_by_col!'><a href="#by_col!-instance_method" title="CSV::Table#by_col! (method)">by_col!</a></span> <span class='comment'># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_each'>each</span> {<span class='op'>|</span><span class='id identifier rubyid_column_data'>column_data</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_column_data'>column_data</span> }</code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baz</span><span class='tstring_end'>&quot;</span></span>]]
[<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2</span><span class='tstring_end'>&quot;</span></span>]]</code></pre>

<p>Returns a new Enumerator if no block is given:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_each'>each</span> <span class='comment'># =&gt; #&lt;Enumerator: #&lt;CSV::Table mode:col row_count:4&gt;:each&gt;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L930-L942'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='930' data-end='942'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 930</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_enum_for'>enum_for</span>(<span class='id identifier rubyid___method__'>__method__</span>) { <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col'>col</span> <span class='op'>?</span> <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>:</span> <span class='id identifier rubyid_size'>size</span> } <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col'>col</span>
    <span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_each'>each</span>.<span class='id identifier rubyid_with_index'>with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='kw'>yield</span>([<span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_map'>map</span> {<span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>[<span class='id identifier rubyid_header'>header</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span>]}])
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@table</span>.<span class='id identifier rubyid_each'>each</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>

  <span class='kw'>self</span> <span class='comment'># for chaining
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="headers-instance_method">
  <h3 class='signature '>
    #<strong>headers</strong>  &#x21d2; <code>array_of_headers</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a new Array containing the String headers for the table.</p>

<p>If the table is not empty, returns the headers from the first row:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> [
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bar</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [])<span class='comma'>,</span>
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BAR</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [])<span class='comma'>,</span>
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>([<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span>]<span class='comma'>,</span> [])<span class='comma'>,</span>
]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>  <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'>Table</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="CSV::Table.new (method)">new</a></span>(<span class='id identifier rubyid_rows'>rows</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'>headers</span> <span class='comment'># =&gt; [&quot;Foo&quot;, &quot;Bar&quot;]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="CSV::Table#delete (method)">delete</a></span>(<span class='int'>0</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'>headers</span> <span class='comment'># =&gt; [&quot;FOO&quot;, &quot;BAR&quot;]
</span><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="CSV::Table#delete (method)">delete</a></span>(<span class='int'>0</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'>headers</span> <span class='comment'># =&gt; [&quot;foo&quot;, &quot;bar&quot;]</span></code></pre>

<p>If the table is empty, returns a copy of the headers in the table itself:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_delete'><a href="#delete-instance_method" title="CSV::Table#delete (method)">delete</a></span>(<span class='int'>0</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'>headers</span> <span class='comment'># =&gt; [&quot;Foo&quot;, &quot;Bar&quot;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L360-L366'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='360' data-end='366'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 360</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_headers'>headers</span>
  <span class='kw'>if</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_empty?'>empty?</span>
    <span class='ivar'>@headers</span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>else</span>
    <span class='ivar'>@table</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_headers'>headers</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  &#x21d2; <a href="../String.html" title="String (class)">String</a>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns a <code>US-ASCII</code>-encoded String showing table:</p>
<ul><li>
<p>Class: <code>Table</code>.</p>
</li><li>
<p>Access mode: <code>:row</code>, <code>:col</code>, or <code>:col_or_row</code>.</p>
</li><li>
<p>Size:  <a href="Row.html" title="CSV::Row (class)"><code>Row</code></a> count, including the header row.</p>
</li></ul>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_inspect'>inspect</span> <span class='comment'># =&gt; &quot;#&lt;CSV::Table mode:col_or_row row_count:4&gt;\nName,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L1048-L1053'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1048' data-end='1053'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 1048</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_inspected'>inspected</span> <span class='op'>=</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> mode:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@mode</span><span class='embexpr_end'>}</span><span class='tstring_content'> row_count:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to_a'><a href="#to_a-instance_method" title="CSV::Table#to_a (method)">to_a</a></span>.<span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_summary'>summary</span> <span class='op'>=</span> <span class='id identifier rubyid_to_csv'><a href="#to_csv-instance_method" title="CSV::Table#to_csv (method)">to_csv</a></span>(<span class='label'>limit:</span> <span class='int'>5</span>)
  <span class='id identifier rubyid_inspected'>inspected</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_summary'>summary</span> <span class='kw'>if</span> <span class='id identifier rubyid_summary'>summary</span>.<span class='id identifier rubyid_encoding'><a href="../CSV.html#encoding-instance_method" title="CSV#encoding (method)">encoding</a></span>.<span class='id identifier rubyid_ascii_compatible?'>ascii_compatible?</span>
  <span class='id identifier rubyid_inspected'>inspected</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="push-instance_method">
  <h3 class='signature '>
    #<strong>push</strong>(*rows_or_arrays)  &#x21d2; <code>self</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>A shortcut for appending multiple rows. Equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rows'>rows</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> {<span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='kw'>self</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_row'>row</span> }</code></pre>

<p>Each argument may be either a CSV::Row object or an Array:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> [
  <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span><span class='op'>::</span><span class='const'><a href="Row.html" title="CSV::Row (class)">Row</a></span>.<span class='id identifier rubyid_new'><a href="Row.html#new-class_method" title="CSV::Row.new (method)">new</a></span>(<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bat</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>3</span>])<span class='comma'>,</span>
  [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bam</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>4</span>]
]
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_push'>push</span>(<span class='op'>*</span><span class='id identifier rubyid_rows'>rows</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>[<span class='int'>3</span><span class='op'>..</span><span class='int'>4</span>] <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bat&quot; &quot;Value&quot;:3&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:4&gt;]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L788-L792'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='788' data-end='792'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 788</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_push'>push</span>(<span class='op'>*</span><span class='id identifier rubyid_rows'>rows</span>)
  <span class='id identifier rubyid_rows'>rows</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> { <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='kw'>self</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_row'>row</span> }

  <span class='kw'>self</span> <span class='comment'># for chaining
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_a-instance_method">
  <h3 class='signature '>
    #<strong>to_a</strong>  &#x21d2; <code>array_of_arrays</code>   </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the table as an Array of Arrays; the headers are in the first row:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'># =&gt; [[&quot;Name&quot;, &quot;Value&quot;], [&quot;foo&quot;, &quot;0&quot;], [&quot;bar&quot;, &quot;1&quot;], [&quot;baz&quot;, &quot;2&quot;]]</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L978-L985'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='978' data-end='985'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 978</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_a'>to_a</span>
  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> [<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>]
  <span class='ivar'>@table</span>.<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
    <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="CSV::Table#push (method)">push</a></span>(<span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_fields'>fields</span>) <span class='kw'>unless</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_header_row?'><a href="../CSV.html#header_row%3F-instance_method" title="CSV#header_row? (method)">header_row?</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_array'>array</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_csv-instance_method">
  <h3 class='signature '>
    #<strong>to_csv</strong>(**options)  &#x21d2; <code>csv_string</code>     <span class='aliases'>Also known as: <span class='names'>#to_s</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns the table as CSV string. See [Options for Generating](../CSV.html#class-CSV-label-Options+for+Generating).</p>

<p>Defaults option <code>write_headers</code> to <code>true</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_to_csv'>to_csv</span> <span class='comment'># =&gt; &quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span></code></pre>

<p>Omits the headers if option <code>write_headers</code> is given as <code>false</code> (see [Option <code>write_headers</code>](../CSV.html#class-CSV-label-Option+write_headers)):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_to_csv'>to_csv</span>(<span class='label'>write_headers:</span> <span class='kw'>false</span>) <span class='comment'># =&gt; &quot;foo,0\nbar,1\nbaz,2\n&quot;</span></code></pre>

<p>Limit rows if option <code>limit</code> is given like <code>2</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_to_csv'>to_csv</span>(<span class='label'>limit:</span> <span class='int'>2</span>) <span class='comment'># =&gt; &quot;Name,Value\nfoo,0\nbar,1\n&quot;</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L1004-L1014'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1004' data-end='1014'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 1004</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_csv'>to_csv</span>(<span class='label'>write_headers:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>limit:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)
  <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> <span class='id identifier rubyid_write_headers'>write_headers</span> <span class='op'>?</span> [<span class='id identifier rubyid_headers'><a href="#headers-instance_method" title="CSV::Table#headers (method)">headers</a></span>.<span class='id identifier rubyid_to_csv'>to_csv</span>(<span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)] <span class='op'>:</span> []
  <span class='id identifier rubyid_limit'>limit</span> <span class='op'>||=</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_size'>size</span>
  <span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='ivar'>@table</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='int'>1</span> <span class='op'>+</span> <span class='id identifier rubyid_limit'>limit</span> <span class='kw'>if</span> <span class='id identifier rubyid_limit'>limit</span> <span class='op'>&lt;</span> <span class='int'>0</span>
  <span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='id identifier rubyid_limit'>limit</span> <span class='op'>&lt;</span> <span class='int'>0</span>
  <span class='ivar'>@table</span>.<span class='id identifier rubyid_first'>first</span>(<span class='id identifier rubyid_limit'>limit</span>).<span class='id identifier rubyid_each'><a href="#each-instance_method" title="CSV::Table#each (method)">each</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
    <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_push'><a href="#push-instance_method" title="CSV::Table#push (method)">push</a></span>(<span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_fields'>fields</span>.<span class='id identifier rubyid_to_csv'>to_csv</span>(<span class='op'>**</span><span class='id identifier rubyid_options'>options</span>)) <span class='kw'>unless</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_header_row?'><a href="../CSV.html#header_row%3F-instance_method" title="CSV#header_row? (method)">header_row?</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_array'>array</span>.<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature '>
    #<strong>to_s</strong>(write_headers: true, limit: nil, **options)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#to_csv-instance_method" title="CSV::Table#to_csv (method)">#to_csv</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L1015-L1015'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1015' data-end='1015'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 1015</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_to_csv'><a href="#to_csv-instance_method" title="CSV::Table#to_csv (method)">to_csv</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="values_at-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>values_at</strong>(*indexes)  &#x21d2; <code>array_of_rows</code> </span>
      <span class='overload'>#<strong>values_at</strong>(*headers)  &#x21d2; <code>array_of_columns_data</code> </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns rows. Otherwise, returns columns data.</p>

<p>In either case, the returned values are in the order specified by the arguments.  Arguments may be repeated.</p>
<hr>

<p>Returns rows as an Array of CSV::Row objects.</p>

<p>No argument:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name,Value\nfoo,0\nbar,1\nbaz,2\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span> <span class='op'>=</span> <span class='const'><a href="../CSV.html" title="CSV (class)">CSV</a></span>.<span class='id identifier rubyid_parse'><a href="../CSV.html#parse-class_method" title="CSV.parse (method)">parse</a></span>(<span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='kw'>true</span>)
<span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span> <span class='comment'># =&gt; []</span></code></pre>

<p>One index:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>0</span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span></code></pre>

<p>Two indexes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span></code></pre>

<p>One Range:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>1</span><span class='op'>..</span><span class='int'>2</span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span></code></pre>

<p>Ranges and indexes:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='op'>..</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span>)
<span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_values'>values</span></code></pre>

<p>Output:</p>

<pre class="code ruby"><code class="ruby">[#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</code></pre>
<hr>

<p>Returns columns data as row Arrays, each consisting of the specified columns data for that row:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [[&quot;foo&quot;], [&quot;bar&quot;], [&quot;baz&quot;]]
</span><span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_table'><a href="#table-instance_method" title="CSV::Table#table (method)">table</a></span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>)
<span class='id identifier rubyid_values'>values</span> <span class='comment'># =&gt; [[&quot;0&quot;, &quot;foo&quot;], [&quot;1&quot;, &quot;bar&quot;], [&quot;2&quot;, &quot;baz&quot;]]</span></code></pre>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_0/lib/csv/table.rb#L734-L746'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='734' data-end='746'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/csv/table.rb', line 734</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_values_at'>values_at</span>(<span class='op'>*</span><span class='id identifier rubyid_indices_or_headers'>indices_or_headers</span>)
  <span class='kw'>if</span> <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_row'>row</span> <span class='kw'>or</span>  <span class='comment'># by indices
</span>     ( <span class='ivar'>@mode</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_col_or_row'>col_or_row</span> <span class='kw'>and</span> <span class='id identifier rubyid_indices_or_headers'>indices_or_headers</span>.<span class='id identifier rubyid_all?'>all?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
                                  <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>)         <span class='kw'>or</span>
                                  ( <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Range</span>)         <span class='kw'>and</span>
                                    <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_first'>first</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>) <span class='kw'>and</span>
                                    <span class='id identifier rubyid_index'>index</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'>Integer</span>) )
                                <span class='kw'>end</span> )
    <span class='ivar'>@table</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='op'>*</span><span class='id identifier rubyid_indices_or_headers'>indices_or_headers</span>)
  <span class='kw'>else</span>                 <span class='comment'># by headers
</span>    <span class='ivar'>@table</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span> <span class='id identifier rubyid_row'>row</span>.<span class='id identifier rubyid_values_at'>values_at</span>(<span class='op'>*</span><span class='id identifier rubyid_indices_or_headers'>indices_or_headers</span>) }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>