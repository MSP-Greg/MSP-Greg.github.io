<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Minitest::Spec::DSL &mdash; minitest  Ruby-3.3.9 p170</title>

<link rel='stylesheet'  type='text/css' href='../../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Minitest::Spec::DSL",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../../'>Ruby-3.3.9</a> &raquo; 
      <a href='../../'>minitest</a> &raquo; 
      <a href='../../_index.html#alpha_D'>Index (D)</a> &raquo; 
        <a href="../../Minitest.html" title="Minitest (module)">Minitest</a> &raquo; 
        <a href="../Spec.html" title="Minitest::Spec (class)">Spec</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>DSL&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Minitest::Spec::DSL</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Modules:</div>
      <div class='box_11'>
          <a href="DSL/InstanceMethods.html" title="Minitest::Spec::DSL::InstanceMethods (module)"><code>InstanceMethods</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Extended In:</div>
      <div class='box_11'>
        <a href="../BenchSpec.html" title="Minitest::BenchSpec (class)"><code>::Minitest::BenchSpec</code></a>,
          <a href="../Spec.html" title="Minitest::Spec (class)"><code>::Minitest::Spec</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L120'>lib/minitest/spec.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>Oh look! A <code>DSL</code> module! Eat your heart out DHH.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='TYPES-constant' class='summary_signature'>TYPES =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Contains pairs of matchers and <a href="../Spec.html" title="Minitest::Spec (class)"><code>::Minitest::Spec</code></a> classes to be used to calculate the superclass of a top-level describe. This allows for automatically customizable spec types.</p>

<p>See: register_spec_type and spec_type</p>

  </div>
</div>
    <a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L128-L128'># File 'lib/minitest/spec.rb', line 128</a>    <pre class='code ruby'>[[<span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'><a href="../../Minitest.html" title="Minitest (module)">Minitest</a></span><span class='op'>::</span><span class='const'><a href="../Spec.html" title="Minitest::Spec (class)">Spec</a></span>]]</pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#extended-class_method" title=".extended (class method)">.<strong>extended</strong>(obj)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro nodoc'>
      <a href="#desc-instance_method" title="#desc (instance method)">#<strong>desc</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#after-instance_method" title="#after (instance method)">#<strong>after</strong>(_type = nil, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Define an ‘after’ action.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before-instance_method" title="#before (instance method)">#<strong>before</strong>(_type = nil, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Define a ‘before’ action.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#it-instance_method" title="#it (instance method)">#<strong>it</strong>(desc = &quot;anonymous&quot;, &amp;block)  </a>
      (also: #specify)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Define an expectation with name <a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">#desc</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#let-instance_method" title="#let (instance method)">#<strong>let</strong>(name, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Essentially, define an accessor for <a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">#name</a> with <code>block</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#register_spec_type-instance_method" title="#register_spec_type (instance method)">#<strong>register_spec_type</strong>(*args, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Register a new type of spec that matches the spec’s description.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#spec_type-instance_method" title="#spec_type (instance method)">#<strong>spec_type</strong>(desc, *additional)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Figure out the spec class to use based on a spec’s description.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#specify-instance_method" title="#specify (instance method)">#<strong>specify</strong>(desc = &quot;anonymous&quot;, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#it-instance_method" title="Minitest::Spec::DSL#it (method)">#it</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#subject-instance_method" title="#subject (instance method)">#<strong>subject</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Another lazy man’s accessor generator.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#children-instance_method" title="#children (instance method)">#<strong>children</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>(name, desc)  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#describe_stack-instance_method" title="#describe_stack (instance method)">#<strong>describe_stack</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#nuke_test_methods!-instance_method" title="#nuke_test_methods! (instance method)">#<strong>nuke_test_methods!</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
  <li>
    <span class='summary_signature nodoc'>
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="extended-class_method">
  <h3 class='signature nodoc first'>
    .<strong>extended</strong>(obj)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L335-L337'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='335' data-end='337'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 335</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='kw'>self</span>.<span class='id identifier rubyid_extended'>extended</span> <span class='id identifier rubyid_obj'>obj</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_obj'>obj</span>.<span class='id identifier rubyid_send'>send</span> <span class='symbeg'>:</span><span class='id identifier rubyid_include'>include</span><span class='comma'>,</span> <span class='const'><a href="DSL/InstanceMethods.html" title="Minitest::Spec::DSL::InstanceMethods (module)">InstanceMethods</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="desc-instance_method">
  <h3 class='signature ro  nodoc first'>
    #<strong>desc</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L291-L291'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='291' data-end='291'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 291</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_desc'>desc</span> <span class='comment'># :nodoc:</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="after-instance_method">
  <h3 class='signature  first'>
    #<strong>after</strong>(_type = nil, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Define an ‘after’ action. Inherits the way normal methods should.</p>

<p>NOTE: <code>type</code> is ignored and is only there to make porting easier.</p>

<p>Equivalent to <code>Minitest::Test#teardown</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L205-L210'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='205' data-end='210'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 205</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_after'>after</span> <span class='id identifier rubyid__type'>_type</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_define_method'>define_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_teardown'>teardown</span> <span class='kw'>do</span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_instance_eval'>instance_eval</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
    <span class='kw'>super</span>()
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before-instance_method">
  <h3 class='signature '>
    #<strong>before</strong>(_type = nil, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Define a ‘before’ action. Inherits the way normal methods should.</p>

<p>NOTE: <code>type</code> is ignored and is only there to make porting easier.</p>

<p>Equivalent to <code>Minitest::Test#setup</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L191-L196'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='191' data-end='196'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_before'>before</span> <span class='id identifier rubyid__type'>_type</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_define_method'>define_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_setup'>setup</span> <span class='kw'>do</span>
    <span class='kw'>super</span>()
    <span class='kw'>self</span>.<span class='id identifier rubyid_instance_eval'>instance_eval</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="children-instance_method">
  <h3 class='signature nodoc'>
    #<strong>children</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L174-L176'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='174' data-end='176'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 174</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_children'>children</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@children</span> <span class='op'>||=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="create-instance_method">
  <h3 class='signature nodoc'>
    #<strong>create</strong>(name, desc)  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L270-L281'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='270' data-end='281'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 270</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span><span class='comma'>,</span> <span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_cls'>cls</span> <span class='op'>=</span> <span class='const'>Class</span>.<span class='id identifier rubyid_new'><a href="../Spec.html#new-class_method" title="Minitest::Spec.new (method)">new</a></span>(<span class='kw'>self</span>) <span class='kw'>do</span>
    <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span>
    <span class='ivar'>@desc</span> <span class='op'>=</span> <span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span>

    <span class='id identifier rubyid_nuke_test_methods!'><a href="#nuke_test_methods!-instance_method" title="Minitest::Spec::DSL#nuke_test_methods! (method)">nuke_test_methods!</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_children'><a href="#children-instance_method" title="Minitest::Spec::DSL#children (method)">children</a></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_cls'>cls</span>

  <span class='id identifier rubyid_cls'>cls</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="describe_stack-instance_method">
  <h3 class='signature nodoc'>
    #<strong>describe_stack</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L170-L172'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='170' data-end='172'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 170</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_describe_stack'>describe_stack</span> <span class='comment'># :nodoc:
</span>  <span class='const'>Thread</span>.<span class='id identifier rubyid_current'><a href="../Spec.html#current-class_method" title="Minitest::Spec.current (method)">current</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_describe_stack'>describe_stack</span>] <span class='op'>||=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="it-instance_method">
  <h3 class='signature '>
    #<strong>it</strong>(desc = &quot;anonymous&quot;, &amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#specify</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Define an expectation with name <a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">#desc</a>. Name gets morphed to a proper test method name. For some freakish reason, people who write specs don’t like class inheritance, so this goes way out of its way to make sure that expectations aren’t inherited.</p>

<p>This is also aliased to <a href="#specify-instance_method" title="Minitest::Spec::DSL#specify (method)">#specify</a> and doesn’t require a <a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">#desc</a> arg.</p>

<p>Hint: If you <em>do</em> want inheritance, use minitest/test. You can mix and match between assertions and expectations as much as you want.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L223-L240'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='223' data-end='240'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 223</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_it'>it</span> <span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>anonymous</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_block'>block</span> <span class='op'>||=</span> <span class='id identifier rubyid_proc'>proc</span> { <span class='id identifier rubyid_skip'>skip</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(no tests defined)</span><span class='tstring_end'>&quot;</span></span> }

  <span class='ivar'>@specs</span> <span class='op'>||=</span> <span class='int'>0</span>
  <span class='ivar'>@specs</span> <span class='op'>+=</span> <span class='int'>1</span>

  <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test_%04d_%s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> [ <span class='ivar'>@specs</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span> ]

  <span class='id identifier rubyid_undef_klasses'>undef_klasses</span> <span class='op'>=</span> <span class='kw'>self</span>.<span class='id identifier rubyid_children'><a href="#children-instance_method" title="Minitest::Spec::DSL#children (method)">children</a></span>.<span class='id identifier rubyid_reject'>reject</span> { <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span>.<span class='id identifier rubyid_public_method_defined?'>public_method_defined?</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span> }

  <span class='id identifier rubyid_define_method'>define_method</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>

  <span class='id identifier rubyid_undef_klasses'>undef_klasses</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_undef_klass'>undef_klass</span><span class='op'>|</span>
    <span class='id identifier rubyid_undef_klass'>undef_klass</span>.<span class='id identifier rubyid_send'>send</span> <span class='symbeg'>:</span><span class='id identifier rubyid_undef_method'>undef_method</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="let-instance_method">
  <h3 class='signature '>
    #<strong>let</strong>(name, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Essentially, define an accessor for <a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">#name</a> with <code>block</code>.</p>

<p>Why use let instead of def? I honestly don’t know.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L247-L260'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='247' data-end='260'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 247</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_let'>let</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span> <span class='op'>=</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Minitest::Spec::DSL#to_s (method)">to_s</a></span>
  <span class='id identifier rubyid_pre'>pre</span><span class='comma'>,</span> <span class='id identifier rubyid_post'>post</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>let &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; cannot </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>. Please use another name.</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_methods'>methods</span> <span class='op'>=</span> <span class='const'><a href="../../Minitest.html" title="Minitest (module)">Minitest</a></span><span class='op'>::</span><span class='const'><a href="../Spec.html" title="Minitest::Spec (class)">Spec</a></span>.<span class='id identifier rubyid_instance_methods'>instance_methods</span>.<span class='id identifier rubyid_map'>map</span>(<span class='op'>&amp;</span><span class='symbeg'>:</span><span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Minitest::Spec::DSL#to_s (method)">to_s</a></span>) <span class='op'>-</span> <span class='qwords'><span class='qwords_beg'>%w[</span><span class='tstring_content'>subject</span><span class='tstring_end'>]</span></span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pre'>pre</span><span class='embexpr_end'>}</span><span class='tstring_content'>begin with &#39;test&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_post'>post</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span>
    <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Atest</span><span class='regexp_end'>/</span></span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pre'>pre</span><span class='embexpr_end'>}</span><span class='tstring_content'>override a method in Minitest::Spec</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_post'>post</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span>
    <span class='id identifier rubyid_methods'>methods</span>.<span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span>

  <span class='id identifier rubyid_define_method'>define_method</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span> <span class='kw'>do</span>
    <span class='ivar'>@_memoized</span> <span class='op'>||=</span> {}
    <span class='ivar'>@_memoized</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span>) { <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='ivar'>@_memoized</span>[<span class='id identifier rubyid_k'>k</span>] <span class='op'>=</span> <span class='id identifier rubyid_instance_eval'>instance_eval</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>) }
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="name-instance_method">
  <h3 class='signature nodoc'>
    #<strong>name</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L283-L285'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='283' data-end='285'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 283</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>defined?</span>(<span class='ivar'>@name</span>) <span class='op'>?</span> <span class='ivar'>@name</span> <span class='op'>:</span> <span class='kw'>super</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="nuke_test_methods!-instance_method">
  <h3 class='signature nodoc'>
    #<strong>nuke_test_methods!</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L178-L182'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='178' data-end='182'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 178</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_nuke_test_methods!'>nuke_test_methods!</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>self</span>.<span class='id identifier rubyid_public_instance_methods'>public_instance_methods</span>.<span class='id identifier rubyid_grep'>grep</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^test_</span><span class='regexp_end'>/</span></span>).<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span><span class='op'>|</span>
    <span class='kw'>self</span>.<span class='id identifier rubyid_send'>send</span> <span class='symbeg'>:</span><span class='id identifier rubyid_undef_method'>undef_method</span><span class='comma'>,</span> <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="register_spec_type-instance_method">
  <h3 class='signature '>
    #<strong>register_spec_type</strong>(*args, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Register a new type of spec that matches the spec’s description. This method can take either a Regexp and a spec class or a spec class and a block that takes the description and returns true if it matches.</p>

<p>Eg:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_register_spec_type'>register_spec_type</span>(<span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Controller$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'><a href="../../Minitest.html" title="Minitest (module)">Minitest</a></span><span class='op'>::</span><span class='const'><a href="../Spec.html" title="Minitest::Spec (class)">Spec</a></span><span class='op'>::</span><span class='const'>Rails</span>)</code></pre>

<p>or:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_register_spec_type'>register_spec_type</span>(<span class='const'><a href="../../Minitest.html" title="Minitest (module)">Minitest</a></span><span class='op'>::</span><span class='const'><a href="../Spec.html" title="Minitest::Spec (class)">Spec</a></span><span class='op'>::</span><span class='const'>RailsModel</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span><span class='op'>|</span>
  <span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span>.<span class='id identifier rubyid_superclass'>superclass</span> <span class='op'>==</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
<span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L146-L153'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='146' data-end='153'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 146</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_register_spec_type'>register_spec_type</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span> <span class='kw'>then</span>
    <span class='id identifier rubyid_matcher'>matcher</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_first'>first</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_matcher'>matcher</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
  <span class='kw'>end</span>
  <span class='const'><a href="#TYPES-constant" title="Minitest::Spec::DSL::TYPES (constant)">TYPES</a></span>.<span class='id identifier rubyid_unshift'>unshift</span> [<span class='id identifier rubyid_matcher'>matcher</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="spec_type-instance_method">
  <h3 class='signature '>
    #<strong>spec_type</strong>(desc, *additional)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Figure out the spec class to use based on a spec’s description. Eg:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_spec_type'>spec_type</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BlahController</span><span class='tstring_end'>&quot;</span></span>) <span class='comment'># =&gt; Minitest::Spec::Rails</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L160-L168'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='160' data-end='168'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 160</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_spec_type'>spec_type</span> <span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_additional'>additional</span>
  <span class='const'><a href="#TYPES-constant" title="Minitest::Spec::DSL::TYPES (constant)">TYPES</a></span>.<span class='id identifier rubyid_find'>find</span> { <span class='op'>|</span><span class='id identifier rubyid_matcher'>matcher</span><span class='comma'>,</span> <span class='id identifier rubyid__klass'>_klass</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_matcher'>matcher</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_call'>call</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_matcher'>matcher</span>.<span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_additional'>additional</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_matcher'>matcher</span> <span class='op'>===</span> <span class='id identifier rubyid_desc'><a href="#desc-instance_method" title="Minitest::Spec::DSL#desc (method)">desc</a></span>.<span class='id identifier rubyid_to_s'><a href="#to_s-instance_method" title="Minitest::Spec::DSL#to_s (method)">to_s</a></span>
    <span class='kw'>end</span>
  }.<span class='id identifier rubyid_last'>last</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="specify-instance_method">
  <h3 class='signature '>
    #<strong>specify</strong>(desc = &quot;anonymous&quot;, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#it-instance_method" title="Minitest::Spec::DSL#it (method)">#it</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L292-L292'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='292' data-end='292'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 292</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='symbeg'>:</span><span class='id identifier rubyid_specify'>specify</span> <span class='symbeg'>:</span><span class='id identifier rubyid_it'><a href="#it-instance_method" title="Minitest::Spec::DSL#it (method)">it</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="subject-instance_method">
  <h3 class='signature '>
    #<strong>subject</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Another lazy man’s accessor generator. Made even more lazy by setting the name for you to <code>subject</code>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L266-L268'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='266' data-end='268'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 266</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_subject'>subject</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_let'><a href="#let-instance_method" title="Minitest::Spec::DSL#let (method)">let</a></span> <span class='symbeg'>:</span><span class='id identifier rubyid_subject'>subject</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="to_s-instance_method">
  <h3 class='signature nodoc'>
    #<strong>to_s</strong>  
  </h3>
  <div class='note nodoc inline-block'>
    <strong>This method is for internal use only.</strong>
  </div><div></div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/seattlerb/minitest/blob/v5.20.0/lib/minitest/spec.rb#L287-L289'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='287' data-end='289'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/minitest/spec.rb', line 287</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span> <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_name'><a href="#name-instance_method" title="Minitest::Spec::DSL#name (method)">name</a></span> <span class='comment'># Can&#39;t alias due to 1.8.7, not sure why
</span><span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>