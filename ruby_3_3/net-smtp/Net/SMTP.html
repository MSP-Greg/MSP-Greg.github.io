<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Net::SMTP &mdash; net-smtp  Ruby-3.3.1 p55</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Net::SMTP",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-3.3.1</a> &raquo; 
      <a href='../'>net-smtp</a> &raquo; 
      <a href='../_index.html#alpha_S'>Index (S)</a> &raquo; 
        <a href="../Net.html" title="Net (module)">Net</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>SMTP&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Net::SMTP</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Classes:</div>
      <div class='box_11'>
          <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>Address</code></a>,
        <a href="SMTP/AuthCramMD5.html" title="Net::SMTP::AuthCramMD5 (class)"><code>AuthCramMD5</code></a>,
        <a href="SMTP/AuthLogin.html" title="Net::SMTP::AuthLogin (class)"><code>AuthLogin</code></a>,
        <a href="SMTP/AuthPlain.html" title="Net::SMTP::AuthPlain (class)"><code>AuthPlain</code></a>,
        <a href="SMTP/Authenticator.html" title="Net::SMTP::Authenticator (class)"><code>Authenticator</code></a>,
        <a href="SMTP/Response.html" title="Net::SMTP::Response (class)"><code>Response</code></a>      </div>
    </td></tr>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Class Chain:</div>
        <div class='box_22'>
          self,
          Protocol
        </div>
      </td>
    </tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          Protocol
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2 o'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Protocol</span>
        <ul class='fullTree'>
          <li>Object</li>
          <li class='next'>Protocol</li>
          <li class='next'>Net::SMTP</li>
        </ul>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2 o'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L189'>lib/net/smtp.rb</a><span class='defines'>,<br /><a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp/auth_cram_md5.rb#L8'>lib/net/smtp/auth_cram_md5.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp/auth_login.rb#L1'>lib/net/smtp/auth_login.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp/auth_plain.rb#L1'>lib/net/smtp/auth_plain.rb</a>,<br/> <a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp/authenticator.rb#L2'>lib/net/smtp/authenticator.rb</a></span>
      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<h3 id="label-What+is+This+Library-3F">What is This Library?</h3>

<p>This library provides functionality to send internet mail via <code>SMTP</code>, the Simple Mail Transfer Protocol. For details of <code>SMTP</code> itself, see [RFC5321] (<a href="http://www.ietf.org/rfc/rfc5321.txt">www.ietf.org/rfc/rfc5321.txt</a>). This library also implements <code>SMTP</code> authentication, which is often necessary for message composers to submit messages to their outgoing <code>SMTP</code> server, see <a href="http://www.ietf.org/rfc/rfc6503.txt" target="_parent" title="RFC6409">RFC6409</a>, and <a href="http://www.ietf.org/rfc/rfc6531.txt" target="_parent" title="SMTPUTF8">SMTPUTF8</a>, which is necessary to send messages to/from addresses containing characters outside the ASCII range.</p>

<h3 id="label-What+is+This+Library+NOT-3F">What is This Library NOT?</h3>

<p>This library does NOT provide functions to compose internet mails. You must create them by yourself. If you want better mail support, try RubyMail or TMail or search for alternatives in <a href="https://rubygems.org" target="_parent" title="/ {RubyGems.org">/ {RubyGems.org</a>} or <a href="https://www.ruby-toolbox.com/">The Ruby Toolbox</a>.</p>

<p>FYI: the official specification on internet mail is: [RFC5322] (<a href="http://www.ietf.org/rfc/rfc5322.txt">www.ietf.org/rfc/rfc5322.txt</a>).</p>

<h3 id="label-Examples">Examples</h3>

<h4 id="label-Sending+Messages">Sending Messages</h4>

<p>You must open a connection to an <code>SMTP</code> server before sending messages. The first argument is the address of your <code>SMTP</code> server, and the second argument is the port number. Using <a href="#start-class_method" title="Net::SMTP.start (method)">.start</a> with a block is the simplest way to do this. This way, the <code>SMTP</code> connection is closed automatically after the block is executed.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/smtp</span><span class='tstring_end'>&#39;</span></span>
<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='comment'># Use the SMTP object smtp only in this block.
</span><span class='kw'>end</span></code></pre>

<p>Replace ‘your.smtp.server’ with your <code>SMTP</code> server. Normally your system manager or internet provider supplies a server for you.</p>

<p>Then you can send messages.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_msgstr'>msgstr</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;END_OF_MESSAGE</span>
<span class='tstring_content'>From: Your Name &lt;your@mail.address&gt;
To: Destination Address &lt;someone@example.com&gt;
Subject: test message
Date: Sat, 23 Jun 2001 16:26:43 +0900
Message-Id: &lt;unique.message.id.string@example.com&gt;

This is a test message.
</span><span class='heredoc_end'>END_OF_MESSAGE
</span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/smtp</span><span class='tstring_end'>&#39;</span></span>
<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_send_message'><a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">send_message</a></span> <span class='id identifier rubyid_msgstr'>msgstr</span><span class='comma'>,</span>
                    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your@mail.address</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>his_address@example.com</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>

<h4 id="label-Closing+the+Session">Closing the Session</h4>

<p>You MUST close the <code>SMTP</code> session after sending messages, by calling the <a href="#finish-instance_method" title="Net::SMTP#finish (method)">#finish</a> method:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># using SMTP#finish
</span><span class='id identifier rubyid_smtp'>smtp</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>)
<span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_send_message'><a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">send_message</a></span> <span class='id identifier rubyid_msgstr'>msgstr</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>from@address</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>to@address</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_finish'><a href="#finish-instance_method" title="Net::SMTP#finish (method)">finish</a></span></code></pre>

<p>You can also use the block form of <code>SMTP</code>.start/SMTP#start.  This closes the <code>SMTP</code> session automatically:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># using block form of SMTP.start
</span><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_send_message'><a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">send_message</a></span> <span class='id identifier rubyid_msgstr'>msgstr</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>from@address</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>to@address</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>

<p>I strongly recommend this scheme.  This form is simpler and more robust.</p>

<h4 id="label-HELO+domain">HELO domain</h4>

<p>In almost all situations, you must provide a third argument to <code>SMTP</code>.start/SMTP#start. This is the domain name which you are on (the host to send mail from). It is called the “HELO domain”. The SMTP server will judge whether it should send or reject the <code>SMTP</code> session by inspecting the HELO domain.</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>
                <span class='id identifier rubyid_helo'><a href="#helo-instance_method" title="Net::SMTP#helo (method)">helo</a></span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>mail.from.domain</span><span class='tstring_end'>&#39;</span></span>) { <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span> <span class='op'>...</span> }</code></pre>

<h4 id="label-SMTP+Authentication">SMTP Authentication</h4>

<p>The <code>SMTP</code> class supports three authentication schemes; PLAIN, LOGIN and CRAM MD5.  (SMTP Authentication: [RFC2554]) To use <code>SMTP</code> authentication, pass extra arguments to <code>SMTP</code>.start/SMTP#start.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># PLAIN
</span><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>
                <span class='id identifier rubyid_user'>user</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your Account</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your Password</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_authtype'>authtype</span><span class='op'>:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_plain'>plain</span>)
<span class='comment'># LOGIN
</span><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>
                <span class='id identifier rubyid_user'>user</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your Account</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your Password</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_authtype'>authtype</span><span class='op'>:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_login'>login</span>)

<span class='comment'># CRAM MD5
</span><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>
                <span class='id identifier rubyid_user'>user</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your Account</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Your Password</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_authtype'>authtype</span><span class='op'>:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cram_md5'>cram_md5</span>)</code></pre>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
<ul class='constants summary full'>
  <li>
    <span id='DEFAULT_AUTH_TYPE-constant' class='summary_signature'>DEFAULT_AUTH_TYPE =</span>
    <div class='docstring'>
  <div class='discussion'>
    
<p>Authentication</p>

  </div>
</div>
    <a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L832-L832'># File 'lib/net/smtp.rb', line 832</a>    <pre class='code ruby'><span class='symbeg'>:</span><span class='id identifier rubyid_plain'>plain</span></pre>
  </li>
  <li>
    <span id='VERSION-constant' class='summary_signature'>VERSION =</span>
    <br/>
    <a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L190-L190'># File 'lib/net/smtp.rb', line 190</a>    <pre class='code ruby'><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.4.0.1</span><span class='tstring_end'>&quot;</span></span></pre>
  </li>
</ul>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#default_port-class_method" title=".default_port (class method)">.<strong>default_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The default <code>SMTP</code> port number, 25.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_ssl_context-class_method" title=".default_ssl_context (class method)">.<strong>default_ssl_context</strong>(ssl_context_params = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_ssl_port-class_method" title=".default_ssl_port (class method)">.<strong>default_ssl_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#default_tls_port-class_method" title="Net::SMTP.default_tls_port (method)">.default_tls_port</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_submission_port-class_method" title=".default_submission_port (class method)">.<strong>default_submission_port</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The default mail submission port number, 587.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_tls_port-class_method" title=".default_tls_port (class method)">.<strong>default_tls_port</strong>  </a>
      (also: .default_ssl_port)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The default SMTPS port number, 465.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(address, port = nil, tls: false, starttls: :auto, tls_verify: true, tls_hostname: nil, ssl_context_params: nil)  &#x21d2; SMTP </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>SMTP</code> object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start-class_method" title="start (class method)">.<strong>start</strong>(address, port = nil, helo: &#39;localhost&#39;, user: nil, secret: nil, authtype: nil, tls: false, starttls: :auto, tls_verify: true, tls_hostname: nil, ssl_context_params: nil) {|smtp| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Creates a new <code>SMTP</code> object and connects to the server.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#address-instance_method" title="#address (instance method)">#<strong>address</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The address of the <code>SMTP</code> server to connect to.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#capabilities-instance_method" title="#capabilities (instance method)">#<strong>capabilities</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The server capabilities by EHLO response.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#capable_cram_md5_auth%3F-instance_method" title="#capable_cram_md5_auth? (instance method)">#<strong>capable_cram_md5_auth?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>true if server advertises AUTH CRAM-MD5.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#capable_login_auth%3F-instance_method" title="#capable_login_auth? (instance method)">#<strong>capable_login_auth?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>true if server advertises AUTH LOGIN.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#capable_plain_auth%3F-instance_method" title="#capable_plain_auth? (instance method)">#<strong>capable_plain_auth?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>true if server advertises AUTH PLAIN.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#capable_starttls%3F-instance_method" title="#capable_starttls? (instance method)">#<strong>capable_starttls?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>true if server advertises STARTTLS.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature wo'>
      <a href="#debug_output=-instance_method" title="#debug_output= (instance method)">#<strong>debug_output=</strong>(arg)  </a>
      (also: #set_debug_output)
    </span>
    <span class='note title writeonly'>writeonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>WARNING: This method causes serious security holes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#esmtp%3F-instance_method" title="#esmtp? (instance method)">#<strong>esmtp?</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#esmtp-instance_method" title="Net::SMTP#esmtp (method)">#esmtp</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#open_timeout-instance_method" title="#open_timeout (instance method)">#<strong>open_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Seconds to wait while attempting to open a connection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The port number of the <code>SMTP</code> server to connect to.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#read_timeout-instance_method" title="#read_timeout (instance method)">#<strong>read_timeout</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Seconds to wait while reading one block (by one read(2) call).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#read_timeout=-instance_method" title="#read_timeout= (instance method)">#<strong>read_timeout=</strong>(sec)  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the number of seconds to wait until timing-out a read(2) call.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#ssl%3F-instance_method" title="#ssl? (instance method)">#<strong>ssl?</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#tls%3F-instance_method" title="Net::SMTP#tls? (method)">#tls?</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#ssl_context_params-instance_method" title="#ssl_context_params (instance method)">#<strong>ssl_context_params</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Hash for additional SSLContext parameters.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#started%3F-instance_method" title="#started? (instance method)">#<strong>started?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p><code>true</code> if the <code>SMTP</code> session has been started.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#starttls%3F-instance_method" title="#starttls? (instance method)">#<strong>starttls?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns truth value if this object uses STARTTLS.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#starttls_always%3F-instance_method" title="#starttls_always? (instance method)">#<strong>starttls_always?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>true if this object uses STARTTLS.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#starttls_auto%3F-instance_method" title="#starttls_auto? (instance method)">#<strong>starttls_auto?</strong>  &#x21d2; Boolean </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>true if this object uses STARTTLS when server advertises STARTTLS.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#tls%3F-instance_method" title="#tls? (instance method)">#<strong>tls?</strong>  &#x21d2; Boolean </a>
      (also: #ssl?)
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>true if this object uses SMTP/TLS (SMTPS).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#tls_hostname-instance_method" title="#tls_hostname (instance method)">#<strong>tls_hostname</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>The hostname for verifying hostname in the server certificatate.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#tls_verify-instance_method" title="#tls_verify (instance method)">#<strong>tls_verify</strong>  </a>
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>If <code>true</code>, verify th server’s certificate.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#authenticate-instance_method" title="#authenticate (instance method)">#<strong>authenticate</strong>(user, secret, authtype = DEFAULT_AUTH_TYPE)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capable%3F-instance_method" title="#capable? (instance method)">#<strong>capable?</strong>(key)  &#x21d2; Boolean </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>true if the EHLO response contains <code>key</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#capable_auth_types-instance_method" title="#capable_auth_types (instance method)">#<strong>capable_auth_types</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Returns supported authentication methods on this server.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#data-instance_method" title="#data (instance method)">#<strong>data</strong>(msgstr = nil, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This method sends a message.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#disable_ssl-instance_method" title="#disable_ssl (instance method)">#<strong>disable_ssl</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#disable_tls-instance_method" title="Net::SMTP#disable_tls (method)">#disable_tls</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#disable_starttls-instance_method" title="#disable_starttls (instance method)">#<strong>disable_starttls</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Disables SMTP/TLS (STARTTLS) for this object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#disable_tls-instance_method" title="#disable_tls (instance method)">#<strong>disable_tls</strong>  </a>
      (also: #disable_ssl)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Disables SMTP/TLS for this object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ehlo-instance_method" title="#ehlo (instance method)">#<strong>ehlo</strong>(domain)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#enable_ssl-instance_method" title="#enable_ssl (instance method)">#<strong>enable_ssl</strong>(context = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#enable_tls-instance_method" title="Net::SMTP#enable_tls (method)">#enable_tls</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#enable_starttls-instance_method" title="#enable_starttls (instance method)">#<strong>enable_starttls</strong>(context = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Enables SMTP/TLS (STARTTLS) for this object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#enable_starttls_auto-instance_method" title="#enable_starttls_auto (instance method)">#<strong>enable_starttls_auto</strong>(context = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Enables SMTP/TLS (STARTTLS) for this object if server accepts.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#enable_tls-instance_method" title="#enable_tls (instance method)">#<strong>enable_tls</strong>(context = nil)  </a>
      (also: #enable_ssl)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Enables SMTP/TLS (SMTPS: <code>SMTP</code> over direct TLS connection) for this object.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature rw'>
      <a href="#esmtp-instance_method" title="#esmtp (instance method)">#<strong>esmtp</strong>  </a>
      (also: #esmtp?)
    </span>
    <span class='note title rw'>rw</span>
    <div class='summary_desc'>
      <div class='inline'><p>Set whether to use ESMTP or not.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#finish-instance_method" title="#finish (instance method)">#<strong>finish</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Finishes the <code>SMTP</code> session and closes TCP connection.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get_response-instance_method" title="#get_response (instance method)">#<strong>get_response</strong>(reqline)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#helo-instance_method" title="#helo (instance method)">#<strong>helo</strong>(domain)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Provide human-readable stringification of class state.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#logging-instance_method" title="#logging (instance method)">#<strong>logging</strong>(msg)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#mailfrom-instance_method" title="#mailfrom (instance method)">#<strong>mailfrom</strong>(from_addr)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>from_addr</code> is <code>String</code> or <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>Address</code></a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#open_message_stream-instance_method" title="#open_message_stream (instance method)">#<strong>open_message_stream</strong>(from_addr, *to_addrs, &amp;block)  </a>
      (also: #ready)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Opens a message writer stream and gives it to the block.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quit-instance_method" title="#quit (instance method)">#<strong>quit</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rcptto-instance_method" title="#rcptto (instance method)">#<strong>rcptto</strong>(to_addr)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p><code>to_addr</code> is <code>String</code> or <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>Address</code></a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rcptto_list-instance_method" title="#rcptto_list (instance method)">#<strong>rcptto_list</strong>(to_addrs)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ready-instance_method" title="#ready (instance method)">#<strong>ready</strong>(from_addr, *to_addrs, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#open_message_stream-instance_method" title="Net::SMTP#open_message_stream (method)">#open_message_stream</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rset-instance_method" title="#rset (instance method)">#<strong>rset</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Aborts the current mail transaction.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#send_mail-instance_method" title="#send_mail (instance method)">#<strong>send_mail</strong>(msgstr, from_addr, *to_addrs)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">#send_message</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#send_message-instance_method" title="#send_message (instance method)">#<strong>send_message</strong>(msgstr, from_addr, *to_addrs)  </a>
      (also: #send_mail, #sendmail)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Sends <code>msgstr</code> as a message.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#sendmail-instance_method" title="#sendmail (instance method)">#<strong>sendmail</strong>(msgstr, from_addr, *to_addrs)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">#send_message</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#start-instance_method" title="#start (instance method)">#<strong>start</strong>(helo: &#39;localhost&#39;, user: nil, secret: nil, authtype: nil) {|smtp| ... } </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Opens a TCP connection and starts the <code>SMTP</code> session.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature ro'>
      <a href="#starttls-instance_method" title="#starttls (instance method)">#<strong>starttls</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#any_require_smtputf8-instance_method" title="#any_require_smtputf8 (instance method)">#<strong>any_require_smtputf8</strong>(addresses)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#auth_capable%3F-instance_method" title="#auth_capable? (instance method)">#<strong>auth_capable?</strong>(type)  &#x21d2; Boolean </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#auth_method-instance_method" title="#auth_method (instance method)">#<strong>auth_method</strong>(type)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#check_auth_args-instance_method" title="#check_auth_args (instance method)">#<strong>check_auth_args</strong>(user, secret, authtype = DEFAULT_AUTH_TYPE)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#check_auth_method-instance_method" title="#check_auth_method (instance method)">#<strong>check_auth_method</strong>(type)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#check_continue-instance_method" title="#check_continue (instance method)">#<strong>check_continue</strong>(res)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#check_response-instance_method" title="#check_response (instance method)">#<strong>check_response</strong>(res)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#critical-instance_method" title="#critical (instance method)">#<strong>critical</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#do_finish-instance_method" title="#do_finish (instance method)">#<strong>do_finish</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#do_helo-instance_method" title="#do_helo (instance method)">#<strong>do_helo</strong>(helo_domain)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#do_start-instance_method" title="#do_start (instance method)">#<strong>do_start</strong>(helo_domain, user, secret, authtype)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#getok-instance_method" title="#getok (instance method)">#<strong>getok</strong>(reqline)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#new_internet_message_io-instance_method" title="#new_internet_message_io (instance method)">#<strong>new_internet_message_io</strong>(s)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#recv_response-instance_method" title="#recv_response (instance method)">#<strong>recv_response</strong>  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#requires_smtputf8-instance_method" title="#requires_smtputf8 (instance method)">#<strong>requires_smtputf8</strong>(address)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#ssl_socket-instance_method" title="#ssl_socket (instance method)">#<strong>ssl_socket</strong>(socket, context)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#tcp_socket-instance_method" title="#tcp_socket (instance method)">#<strong>tcp_socket</strong>(address, port)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#tlsconnect-instance_method" title="#tlsconnect (instance method)">#<strong>tlsconnect</strong>(s, context)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#validate_line-instance_method" title="#validate_line (instance method)">#<strong>validate_line</strong>(line)  </a>
    </span>
    <span class='note title private'>private</span>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(address, port = nil, tls: false, starttls: :auto, tls_verify: true, tls_hostname: nil, ssl_context_params: nil)  &#x21d2; <code>SMTP</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>SMTP</code> object.</p>

<p><a href="#address-instance_method" title="Net::SMTP#address (method)">#address</a> is the hostname or ip address of your <code>SMTP</code> server.  <a href="#port-instance_method" title="Net::SMTP#port (method)">#port</a> is the port to connect to; it defaults to port 25.</p>

<p>If <code>tls</code> is true, enable TLS. The default is false. If <a href="#starttls-instance_method" title="Net::SMTP#starttls (method)">#starttls</a> is <code>:always</code>, enable STARTTLS, if <code>:auto</code>, use STARTTLS when the server supports it, if false, disable STARTTLS.</p>

<p>If <a href="#tls_verify-instance_method" title="Net::SMTP#tls_verify (method)">#tls_verify</a> is true, verify the server’s certificate. The default is true. If the hostname in the server certificate is different from <a href="#address-instance_method" title="Net::SMTP#address (method)">#address</a>, it can be specified with <a href="#tls_hostname-instance_method" title="Net::SMTP#tls_hostname (method)">#tls_hostname</a>.</p>

<p>Additional SSLContext params can be added to <a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">#ssl_context_params</a> hash argument and are passed to <code>OpenSSL::SSL::SSLContext#set_params</code></p>

<p><tt>tls_verify: true</tt> is equivalent to <tt>ssl_context_params: { verify_mode: {OpenSSL::SSL::VERIFY_PEER} }</tt>. This method does not open the TCP connection.  You can use <a href="#start-class_method" title="Net::SMTP.start (method)">.start</a> instead of <code>.new</code> if you want to do everything at once.  Otherwise, follow <code>.new</code> with <a href="#start-instance_method" title="Net::SMTP#start (method)">#start</a>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L240-L258'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='240' data-end='258'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 240</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::SMTP#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>tls:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>starttls:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_auto'>auto</span><span class='comma'>,</span> <span class='label'>tls_verify:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>tls_hostname:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>ssl_context_params:</span> <span class='kw'>nil</span>)
  <span class='ivar'>@address</span> <span class='op'>=</span> <span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span>
  <span class='ivar'>@port</span> <span class='op'>=</span> (<span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::SMTP#port (method)">port</a></span> <span class='op'>||</span> <span class='const'>SMTP</span>.<span class='id identifier rubyid_default_port'><a href="#default_port-class_method" title="Net::SMTP.default_port (method)">default_port</a></span>)
  <span class='ivar'>@esmtp</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@capabilities</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@started</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@open_timeout</span> <span class='op'>=</span> <span class='int'>30</span>
  <span class='ivar'>@read_timeout</span> <span class='op'>=</span> <span class='int'>60</span>
  <span class='ivar'>@error_occurred</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@debug_output</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@tls</span> <span class='op'>=</span> <span class='id identifier rubyid_tls'>tls</span>
  <span class='ivar'>@starttls</span> <span class='op'>=</span> <span class='id identifier rubyid_starttls'><a href="#starttls-instance_method" title="Net::SMTP#starttls (method)">starttls</a></span>
  <span class='ivar'>@ssl_context_tls</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@ssl_context_starttls</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@tls_verify</span> <span class='op'>=</span> <span class='id identifier rubyid_tls_verify'><a href="#tls_verify-instance_method" title="Net::SMTP#tls_verify (method)">tls_verify</a></span>
  <span class='ivar'>@tls_hostname</span> <span class='op'>=</span> <span class='id identifier rubyid_tls_hostname'><a href="#tls_hostname-instance_method" title="Net::SMTP#tls_hostname (method)">tls_hostname</a></span>
  <span class='ivar'>@ssl_context_params</span> <span class='op'>=</span> <span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Class Method Details</h2>
<section class='method_details first' id="default_port-class_method">
  <h3 class='signature  first'>
    .<strong>default_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The default <code>SMTP</code> port number, 25.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L193-L195'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='193' data-end='195'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 193</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>SMTP</span>.<span class='id identifier rubyid_default_port'>default_port</span>
  <span class='int'>25</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_ssl_context-class_method">
  <h3 class='signature '>
    .<strong>default_ssl_context</strong>(ssl_context_params = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L211-L215'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='211' data-end='215'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 211</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>SMTP</span>.<span class='id identifier rubyid_default_ssl_context'>default_ssl_context</span>(<span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>SSLContext</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span>
  <span class='id identifier rubyid_context'>context</span>.<span class='id identifier rubyid_set_params'>set_params</span>(<span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span> <span class='op'>||</span> {})
  <span class='id identifier rubyid_context'>context</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_ssl_port-class_method">
  <h3 class='signature '>
    .<strong>default_ssl_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#default_tls_port-class_method" title="Net::SMTP.default_tls_port (method)">.default_tls_port</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L208-L208'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='208' data-end='208'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 208</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_default_ssl_port'>default_ssl_port</span> <span class='id identifier rubyid_default_tls_port'><a href="#default_tls_port-class_method" title="Net::SMTP.default_tls_port (method)">default_tls_port</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_submission_port-class_method">
  <h3 class='signature '>
    .<strong>default_submission_port</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The default mail submission port number, 587.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L198-L200'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='198' data-end='200'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 198</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>SMTP</span>.<span class='id identifier rubyid_default_submission_port'>default_submission_port</span>
  <span class='int'>587</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_tls_port-class_method">
  <h3 class='signature '>
    .<strong>default_tls_port</strong>  
    <span class='aliases'>Also known as: <span class='names'>.default_ssl_port</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The default SMTPS port number, 465.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L203-L205'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='203' data-end='205'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 203</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>SMTP</span>.<span class='id identifier rubyid_default_tls_port'>default_tls_port</span>
  <span class='int'>465</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start-class_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>.<strong>start</strong>(address, port = nil, helo: &#39;localhost&#39;, user: nil, secret: nil, authtype: nil, tls: false, starttls: :auto, tls_verify: true, tls_hostname: nil, ssl_context_params: nil) {|smtp| ... } </span>
      <span class='overload'>.<strong>start</strong>(address, port = nil, helo = &#39;localhost&#39;, user = nil, secret = nil, authtype = nil) {|smtp| ... } </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Creates a new <code>SMTP</code> object and connects to the server.</p>

<p>This method is equivalent to:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::SMTP#port (method)">port</a></span>).<span class='id identifier rubyid_start'>start</span>(<span class='label'>helo:</span> <span class='id identifier rubyid_helo_domain'>helo_domain</span><span class='comma'>,</span> <span class='label'>user:</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='label'>secret:</span> <span class='id identifier rubyid_password'>password</span><span class='comma'>,</span> <span class='label'>authtype:</span> <span class='id identifier rubyid_authtype'>authtype</span><span class='comma'>,</span> <span class='label'>tls_verify:</span> <span class='id identifier rubyid_flag'>flag</span><span class='comma'>,</span> <span class='label'>tls_hostname:</span> <span class='id identifier rubyid_hostname'>hostname</span><span class='comma'>,</span> <span class='label'>ssl_context_params:</span> <span class='kw'>nil</span>)</code></pre>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'>start</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>your.smtp.server</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_send_message'><a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">send_message</a></span> <span class='id identifier rubyid_msgstr'>msgstr</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>from@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dest@example.com</span><span class='tstring_end'>&#39;</span></span>]
<span class='kw'>end</span></code></pre>

<h4 id="label-Block+Usage">Block Usage</h4>

<p>If called with a block, the newly-opened <code>SMTP</code> object is yielded to the block, and automatically closed when the block finishes.  If called without a block, the newly-opened <code>SMTP</code> object is returned to the caller, and it is the caller’s responsibility to close it when finished.</p>

<h4 id="label-Parameters">Parameters</h4>

<p><a href="#address-instance_method" title="Net::SMTP#address (method)">#address</a> is the hostname or ip address of your smtp server.</p>

<p><a href="#port-instance_method" title="Net::SMTP#port (method)">#port</a> is the port to connect to; it defaults to port 25.</p>

<p><a href="#helo-instance_method" title="Net::SMTP#helo (method)">#helo</a> is the <em>HELO</em> <em>domain</em> provided by the client to the server (see overview comments); it defaults to ‘localhost’.</p>

<p>The remaining arguments are used for <code>SMTP</code> authentication, if required or desired.  <code>user</code> is the account name; <code>secret</code> is your password or other authentication token; and <code>authtype</code> is the authentication type, one of <code>:plain</code>, <code>:login</code>, or <code>:cram_md5</code>.  See the discussion of <code>SMTP</code> Authentication in the overview notes.</p>

<p>If <code>tls</code> is true, enable TLS. The default is false. If <a href="#starttls-instance_method" title="Net::SMTP#starttls (method)">#starttls</a> is <code>:always</code>, enable STARTTLS, if <code>:auto</code>, use STARTTLS when the server supports it, if false, disable STARTTLS.</p>

<p>If <a href="#tls_verify-instance_method" title="Net::SMTP#tls_verify (method)">#tls_verify</a> is true, verify the server’s certificate. The default is true. If the hostname in the server certificate is different from <a href="#address-instance_method" title="Net::SMTP#address (method)">#address</a>, it can be specified with <a href="#tls_hostname-instance_method" title="Net::SMTP#tls_hostname (method)">#tls_hostname</a>.</p>

<p>Additional SSLContext params can be added to <a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">#ssl_context_params</a> hash argument and are passed to <code>OpenSSL::SSL::SSLContext#set_params</code></p>

<p><tt>tls_verify: true</tt> is equivalent to <tt>ssl_context_params: { verify_mode: {OpenSSL::SSL::VERIFY_PEER} }</tt>.</p>

<h4 id="label-Errors">Errors</h4>

<p>This method may raise:</p>
<ul><li>
<p><a href="SMTPAuthenticationError.html" title="Net::SMTPAuthenticationError (class)"><code>SMTPAuthenticationError</code></a></p>
</li><li>
<p><a href="SMTPServerBusy.html" title="Net::SMTPServerBusy (class)"><code>SMTPServerBusy</code></a></p>
</li><li>
<p><a href="SMTPSyntaxError.html" title="Net::SMTPSyntaxError (class)"><code>SMTPSyntaxError</code></a></p>
</li><li>
<p><a href="SMTPFatalError.html" title="Net::SMTPFatalError (class)"><code>SMTPFatalError</code></a></p>
</li><li>
<p><a href="SMTPUnknownError.html" title="Net::SMTPUnknownError (class)"><code>SMTPUnknownError</code></a></p>
</li><li>
<p><code>Net::OpenTimeout</code></p>
</li><li>
<p><code>Net::ReadTimeout</code></p>
</li><li>
<p>IOError</p>
</li></ul>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L517-L528'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='517' data-end='528'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 517</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='const'>SMTP</span>.<span class='id identifier rubyid_start'>start</span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::SMTP#port (method)">port</a></span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='label'>helo:</span> <span class='kw'>nil</span><span class='comma'>,</span>
               <span class='label'>user:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>secret:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>authtype:</span> <span class='kw'>nil</span><span class='comma'>,</span>
               <span class='label'>tls:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>starttls:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_auto'>auto</span><span class='comma'>,</span>
               <span class='label'>tls_verify:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>tls_hostname:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>ssl_context_params:</span> <span class='kw'>nil</span><span class='comma'>,</span>
               <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrong number of arguments (given </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='int'>2</span><span class='embexpr_end'>}</span><span class='tstring_content'>, expected 1..6)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>4</span>
  <span class='id identifier rubyid_helo'><a href="#helo-instance_method" title="Net::SMTP#helo (method)">helo</a></span> <span class='op'>||=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_user'>user</span> <span class='op'>||=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span>]
  <span class='id identifier rubyid_secret'>secret</span> <span class='op'>||=</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>2</span>]
  <span class='id identifier rubyid_authtype'>authtype</span> <span class='op'>||=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>3</span>]
  <span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::SMTP#port (method)">port</a></span><span class='comma'>,</span> <span class='label'>tls:</span> <span class='id identifier rubyid_tls'>tls</span><span class='comma'>,</span> <span class='label'>starttls:</span> <span class='id identifier rubyid_starttls'><a href="#starttls-instance_method" title="Net::SMTP#starttls (method)">starttls</a></span><span class='comma'>,</span> <span class='label'>tls_verify:</span> <span class='id identifier rubyid_tls_verify'><a href="#tls_verify-instance_method" title="Net::SMTP#tls_verify (method)">tls_verify</a></span><span class='comma'>,</span> <span class='label'>tls_hostname:</span> <span class='id identifier rubyid_tls_hostname'><a href="#tls_hostname-instance_method" title="Net::SMTP#tls_hostname (method)">tls_hostname</a></span><span class='comma'>,</span> <span class='label'>ssl_context_params:</span> <span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span>).<span class='id identifier rubyid_start'>start</span>(<span class='label'>helo:</span> <span class='id identifier rubyid_helo'><a href="#helo-instance_method" title="Net::SMTP#helo (method)">helo</a></span><span class='comma'>,</span> <span class='label'>user:</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='label'>secret:</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='label'>authtype:</span> <span class='id identifier rubyid_authtype'>authtype</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="address-instance_method">
  <h3 class='signature ro first'>
    #<strong>address</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The address of the <code>SMTP</code> server to connect to.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L405-L405'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='405' data-end='405'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 405</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_address'>address</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capabilities-instance_method">
  <h3 class='signature ro'>
    #<strong>capabilities</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The server capabilities by EHLO response</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L299-L299'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='299' data-end='299'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 299</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_capabilities'>capabilities</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capable_cram_md5_auth?-instance_method">
  <h3 class='signature ro'>
    #<strong>capable_cram_md5_auth?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>true if server advertises AUTH CRAM-MD5. You cannot get valid value before opening <code>SMTP</code> session.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L315-L317'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='315' data-end='317'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 315</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_capable_cram_md5_auth?'>capable_cram_md5_auth?</span>
  <span class='id identifier rubyid_auth_capable?'><a href="#auth_capable%3F-instance_method" title="Net::SMTP#auth_capable? (method)">auth_capable?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CRAM-MD5</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capable_login_auth?-instance_method">
  <h3 class='signature ro'>
    #<strong>capable_login_auth?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>true if server advertises AUTH LOGIN. You cannot get valid value before opening <code>SMTP</code> session.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L309-L311'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='309' data-end='311'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 309</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_capable_login_auth?'>capable_login_auth?</span>
  <span class='id identifier rubyid_auth_capable?'><a href="#auth_capable%3F-instance_method" title="Net::SMTP#auth_capable? (method)">auth_capable?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LOGIN</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capable_plain_auth?-instance_method">
  <h3 class='signature ro'>
    #<strong>capable_plain_auth?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>true if server advertises AUTH PLAIN. You cannot get valid value before opening <code>SMTP</code> session.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L303-L305'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='303' data-end='305'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 303</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_capable_plain_auth?'>capable_plain_auth?</span>
  <span class='id identifier rubyid_auth_capable?'><a href="#auth_capable%3F-instance_method" title="Net::SMTP#auth_capable? (method)">auth_capable?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PLAIN</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capable_starttls?-instance_method">
  <h3 class='signature ro'>
    #<strong>capable_starttls?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>true if server advertises STARTTLS. You cannot get valid value before opening <code>SMTP</code> session.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L288-L290'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='288' data-end='290'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 288</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_capable_starttls?'>capable_starttls?</span>
  <span class='id identifier rubyid_capable?'><a href="#capable%3F-instance_method" title="Net::SMTP#capable? (method)">capable?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>STARTTLS</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug_output=-instance_method">
  <h3 class='signature wo'>
    #<strong>debug_output=</strong>(arg)   <span class="extras">(<span class='writeonly'>writeonly</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#set_debug_output</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>WARNING: This method causes serious security holes. Use this method for only debugging.</p>

<p>Set an output stream for debug logging. You must call this before <a href="#start-instance_method" title="Net::SMTP#start (method)">#start</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># example
</span><span class='id identifier rubyid_smtp'>smtp</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span>(<span class='id identifier rubyid_addr'>addr</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::SMTP#port (method)">port</a></span>)
<span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_set_debug_output'><a href="#set_debug_output-instance_method" title="Net::SMTP#set_debug_output (method)">set_debug_output</a></span> <span class='gvar'>$stderr</span>
<span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='comment'>#....
</span><span class='kw'>end</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L441-L443'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='441' data-end='443'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 441</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug_output='>debug_output=</span>(<span class='id identifier rubyid_arg'>arg</span>)
  <span class='ivar'>@debug_output</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="esmtp?-instance_method">
  <h3 class='signature rw'>
    #<strong>esmtp?</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#esmtp-instance_method" title="Net::SMTP#esmtp (method)">#esmtp</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L284-L284'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='284' data-end='284'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 284</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_esmtp?'>esmtp?</span> <span class='id identifier rubyid_esmtp'><a href="#esmtp-instance_method" title="Net::SMTP#esmtp (method)">esmtp</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="open_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>open_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Seconds to wait while attempting to open a connection. If the connection cannot be opened within this time, a <code>Net::OpenTimeout</code> is raised. The default value is 30 seconds.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L413-L413'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='413' data-end='413'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 413</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_open_timeout'>open_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="port-instance_method">
  <h3 class='signature ro'>
    #<strong>port</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The port number of the <code>SMTP</code> server to connect to.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L408-L408'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='408' data-end='408'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 408</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_port'>port</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_timeout-instance_method">
  <h3 class='signature rw'>
    #<strong>read_timeout</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Seconds to wait while reading one block (by one read(2) call). If the read(2) call does not complete within this time, a <code>Net::ReadTimeout</code> is raised. The default value is 60 seconds.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L418-L418'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='418' data-end='418'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 418</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_read_timeout'>read_timeout</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="read_timeout=-instance_method">
  <h3 class='signature rw'>
    #<strong>read_timeout=</strong>(sec)   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the number of seconds to wait until timing-out a read(2) call.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L422-L425'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='422' data-end='425'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 422</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_read_timeout='>read_timeout=</span>(<span class='id identifier rubyid_sec'>sec</span>)
  <span class='ivar'>@socket</span>.<span class='id identifier rubyid_read_timeout'><a href="#read_timeout-instance_method" title="Net::SMTP#read_timeout (method)">read_timeout</a></span> <span class='op'>=</span> <span class='id identifier rubyid_sec'>sec</span> <span class='kw'>if</span> <span class='ivar'>@socket</span>
  <span class='ivar'>@read_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_sec'>sec</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl?-instance_method">
  <h3 class='signature ro'>
    #<strong>ssl?</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#tls%3F-instance_method" title="Net::SMTP#tls? (method)">#tls?</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L339-L339'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='339' data-end='339'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 339</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_ssl?'>ssl?</span> <span class='id identifier rubyid_tls?'><a href="#tls%3F-instance_method" title="Net::SMTP#tls? (method)">tls?</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_context_params-instance_method">
  <h3 class='signature rw'>
    #<strong>ssl_context_params</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Hash for additional SSLContext parameters.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L267-L267'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='267' data-end='267'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 267</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_ssl_context_params'>ssl_context_params</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="started?-instance_method">
  <h3 class='signature ro'>
    #<strong>started?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>true</code> if the <code>SMTP</code> session has been started.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L531-L533'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='531' data-end='533'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 531</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_started?'>started?</span>
  <span class='ivar'>@started</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="starttls?-instance_method">
  <h3 class='signature ro'>
    #<strong>starttls?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns truth value if this object uses STARTTLS. If this object always uses STARTTLS, returns <code>:always</code>. If this object uses STARTTLS when the server support TLS, returns <code>:auto</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L365-L367'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='365' data-end='367'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 365</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_starttls?'>starttls?</span>
  <span class='ivar'>@starttls</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="starttls_always?-instance_method">
  <h3 class='signature ro'>
    #<strong>starttls_always?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>true if this object uses STARTTLS.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L370-L372'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='370' data-end='372'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 370</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_starttls_always?'>starttls_always?</span>
  <span class='ivar'>@starttls</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_always'>always</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="starttls_auto?-instance_method">
  <h3 class='signature ro'>
    #<strong>starttls_auto?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>true if this object uses STARTTLS when server advertises STARTTLS.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L375-L377'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='375' data-end='377'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 375</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_starttls_auto?'>starttls_auto?</span>
  <span class='ivar'>@starttls</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_auto'>auto</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tls?-instance_method">
  <h3 class='signature ro'>
    #<strong>tls?</strong>  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#ssl?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>true if this object uses SMTP/TLS (SMTPS).</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L335-L337'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='335' data-end='337'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 335</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tls?'>tls?</span>
  <span class='ivar'>@tls</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tls_hostname-instance_method">
  <h3 class='signature rw'>
    #<strong>tls_hostname</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The hostname for verifying hostname in the server certificatate.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L264-L264'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='264' data-end='264'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 264</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tls_hostname'>tls_hostname</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tls_verify-instance_method">
  <h3 class='signature rw'>
    #<strong>tls_verify</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>If <code>true</code>, verify th server’s certificate.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L261-L261'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='261' data-end='261'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 261</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tls_verify'>tls_verify</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="any_require_smtputf8-instance_method">
  <h3 class='signature priv first'>
    #<strong>any_require_smtputf8</strong>(addresses)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L717-L719'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='717' data-end='719'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 717</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_any_require_smtputf8'>any_require_smtputf8</span>(<span class='id identifier rubyid_addresses'>addresses</span>)
  <span class='id identifier rubyid_addresses'>addresses</span>.<span class='id identifier rubyid_any?'>any?</span>{ <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_requires_smtputf8'><a href="#requires_smtputf8-instance_method" title="Net::SMTP#requires_smtputf8 (method)">requires_smtputf8</a></span>(<span class='id identifier rubyid_a'>a</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="auth_capable?-instance_method">
  <h3 class='signature priv'>
    #<strong>auth_capable?</strong>(type)  &#x21d2; <code>Boolean</code>  <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L319-L323'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='319' data-end='323'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 319</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_auth_capable?'>auth_capable?</span>(<span class='id identifier rubyid_type'>type</span>)
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='ivar'>@capabilities</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@capabilities</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AUTH</span><span class='tstring_end'>&#39;</span></span>]
  <span class='ivar'>@capabilities</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AUTH</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_type'>type</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="auth_method-instance_method">
  <h3 class='signature priv'>
    #<strong>auth_method</strong>(type)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L849-L851'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='849' data-end='851'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 849</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_auth_method'>auth_method</span>(<span class='id identifier rubyid_type'>type</span>)
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>auth_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span>.<span class='id identifier rubyid_to_s'>to_s</span>.<span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_intern'>intern</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="authenticate-instance_method">
  <h3 class='signature '>
    #<strong>authenticate</strong>(user, secret, authtype = DEFAULT_AUTH_TYPE)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L834-L839'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='834' data-end='839'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 834</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_authenticate'>authenticate</span>(<span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_authtype'>authtype</span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_AUTH_TYPE-constant" title="Net::SMTP::DEFAULT_AUTH_TYPE (constant)">DEFAULT_AUTH_TYPE</a></span>)
  <span class='id identifier rubyid_check_auth_method'><a href="#check_auth_method-instance_method" title="Net::SMTP#check_auth_method (method)">check_auth_method</a></span> <span class='id identifier rubyid_authtype'>authtype</span>
  <span class='id identifier rubyid_check_auth_args'><a href="#check_auth_args-instance_method" title="Net::SMTP#check_auth_args (method)">check_auth_args</a></span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span>
  <span class='id identifier rubyid_authenticator'>authenticator</span> <span class='op'>=</span> <span class='const'><a href="SMTP/Authenticator.html" title="Net::SMTP::Authenticator (class)">Authenticator</a></span>.<span class='id identifier rubyid_auth_class'><a href="SMTP/Authenticator.html#auth_class-class_method" title="Net::SMTP::Authenticator.auth_class (method)">auth_class</a></span>(<span class='id identifier rubyid_authtype'>authtype</span>).<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span>(<span class='kw'>self</span>)
  <span class='id identifier rubyid_authenticator'>authenticator</span>.<span class='id identifier rubyid_auth'>auth</span>(<span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capable?-instance_method">
  <h3 class='signature '>
    #<strong>capable?</strong>(key)  &#x21d2; <code>Boolean</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>true if the EHLO response contains <code>key</code>.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L293-L296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='293' data-end='296'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 293</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_capable?'>capable?</span>(<span class='id identifier rubyid_key'>key</span>)
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='ivar'>@capabilities</span>
  <span class='ivar'>@capabilities</span>[<span class='id identifier rubyid_key'>key</span>] <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="capable_auth_types-instance_method">
  <h3 class='signature '>
    #<strong>capable_auth_types</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Returns supported authentication methods on this server. You cannot get valid value before opening <code>SMTP</code> session.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L328-L332'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='328' data-end='332'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 328</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_capable_auth_types'>capable_auth_types</span>
  <span class='kw'>return</span> [] <span class='kw'>unless</span> <span class='ivar'>@capabilities</span>
  <span class='kw'>return</span> [] <span class='kw'>unless</span> <span class='ivar'>@capabilities</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AUTH</span><span class='tstring_end'>&#39;</span></span>]
  <span class='ivar'>@capabilities</span>[<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AUTH</span><span class='tstring_end'>&#39;</span></span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_auth_args-instance_method">
  <h3 class='signature priv'>
    #<strong>check_auth_args</strong>(user, secret, authtype = DEFAULT_AUTH_TYPE)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L853-L860'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='853' data-end='860'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 853</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_auth_args'>check_auth_args</span>(<span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_authtype'>authtype</span> <span class='op'>=</span> <span class='const'><a href="#DEFAULT_AUTH_TYPE-constant" title="Net::SMTP::DEFAULT_AUTH_TYPE (constant)">DEFAULT_AUTH_TYPE</a></span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_user'>user</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SMTP-AUTH requested but missing user name</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_secret'>secret</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SMTP-AUTH requested but missing secret phrase</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_auth_method-instance_method">
  <h3 class='signature priv'>
    #<strong>check_auth_method</strong>(type)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L843-L847'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='843' data-end='847'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 843</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_auth_method'>check_auth_method</span>(<span class='id identifier rubyid_type'>type</span>)
  <span class='kw'>unless</span> <span class='const'><a href="SMTP/Authenticator.html" title="Net::SMTP::Authenticator (class)">Authenticator</a></span>.<span class='id identifier rubyid_auth_class'><a href="SMTP/Authenticator.html#auth_class-class_method" title="Net::SMTP::Authenticator.auth_class (method)">auth_class</a></span>(<span class='id identifier rubyid_type'>type</span>)
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrong authentication type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_continue-instance_method">
  <h3 class='signature priv'>
    #<strong>check_continue</strong>(res)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L1015-L1019'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1015' data-end='1019'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 1015</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_continue'>check_continue</span>(<span class='id identifier rubyid_res'>res</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_continue?'>continue?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="SMTPUnknownError.html" title="Net::SMTPUnknownError (class)">SMTPUnknownError</a></span>.<span class='id identifier rubyid_new'><a href="SMTPError.html#initialize-instance_method" title="Net::SMTPError#initialize (method)">new</a></span>(<span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='label'>message:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>could not get 3xx (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_status'>status</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_string'>string</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="check_response-instance_method">
  <h3 class='signature priv'>
    #<strong>check_response</strong>(res)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L1009-L1013'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1009' data-end='1013'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 1009</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_check_response'>check_response</span>(<span class='id identifier rubyid_res'>res</span>)
  <span class='kw'>unless</span> <span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_success?'>success?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_exception_class'>exception_class</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span>(<span class='id identifier rubyid_res'>res</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="critical-instance_method">
  <h3 class='signature priv'>
    #<strong>critical</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L999-L1007'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='999' data-end='1007'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 999</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_critical'>critical</span>
  <span class='kw'>return</span> <span class='const'><a href="SMTP/Response.html" title="Net::SMTP::Response (class)">Response</a></span>.<span class='id identifier rubyid_parse'><a href="SMTP/Response.html#parse-class_method" title="Net::SMTP::Response.parse (method)">parse</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>200 dummy reply code</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>if</span> <span class='ivar'>@error_occurred</span>
  <span class='kw'>begin</span>
    <span class='kw'>return</span> <span class='kw'>yield</span>()
  <span class='kw'>rescue</span> <span class='const'>Exception</span>
    <span class='ivar'>@error_occurred</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="data-instance_method">
  <h3 class='signature '>
    #<strong>data</strong>(msgstr = nil, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>This method sends a message. If <code>msgstr</code> is given, sends it as a message. If block is given, yield a message writer stream. You must write message before the block is closed.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Example 1 (by string)
</span><span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_data'>data</span>(<span class='heredoc_beg'>&lt;&lt;EndMessage</span>)
<span class='tstring_content'>From: john@example.com
To: betty@example.com
Subject: I found a bug

Check vm.c:58879.
</span><span class='heredoc_end'>EndMessage
</span>
<span class='comment'># Example 2 (by block)
</span><span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_data'>data</span> {<span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>From: john@example.com</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>To: betty@example.com</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Subject: I found a bug</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Check vm.c:58879.</span><span class='tstring_end'>&quot;</span></span>
}</code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L933-L958'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='933' data-end='958'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 933</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_data'>data</span>(<span class='id identifier rubyid_msgstr'>msgstr</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)   <span class='comment'>#:yield: stream
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_msgstr'>msgstr</span> <span class='kw'>and</span> <span class='id identifier rubyid_block'>block</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>message and block are exclusive</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_msgstr'>msgstr</span> <span class='kw'>or</span> <span class='id identifier rubyid_block'>block</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>message or block is required</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_critical'><a href="#critical-instance_method" title="Net::SMTP#critical (method)">critical</a></span> {
    <span class='id identifier rubyid_check_continue'><a href="#check_continue-instance_method" title="Net::SMTP#check_continue (method)">check_continue</a></span> <span class='id identifier rubyid_get_response'><a href="#get_response-instance_method" title="Net::SMTP#get_response (method)">get_response</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DATA</span><span class='tstring_end'>&#39;</span></span>)
    <span class='id identifier rubyid_socket_sync_bak'>socket_sync_bak</span> <span class='op'>=</span> <span class='ivar'>@socket</span>.<span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_sync'>sync</span>
    <span class='kw'>begin</span>
      <span class='ivar'>@socket</span>.<span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_msgstr'>msgstr</span>
        <span class='ivar'>@socket</span>.<span class='id identifier rubyid_write_message'>write_message</span> <span class='id identifier rubyid_msgstr'>msgstr</span>
      <span class='kw'>else</span>
        <span class='ivar'>@socket</span>.<span class='id identifier rubyid_write_message_by_block'>write_message_by_block</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
      <span class='kw'>end</span>
    <span class='kw'>ensure</span>
      <span class='ivar'>@socket</span>.<span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_flush'>flush</span>
      <span class='ivar'>@socket</span>.<span class='id identifier rubyid_io'>io</span>.<span class='id identifier rubyid_sync'>sync</span> <span class='op'>=</span> <span class='id identifier rubyid_socket_sync_bak'>socket_sync_bak</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_recv_response'><a href="#recv_response-instance_method" title="Net::SMTP#recv_response (method)">recv_response</a></span>()
  }
  <span class='id identifier rubyid_check_response'><a href="#check_response-instance_method" title="Net::SMTP#check_response (method)">check_response</a></span> <span class='id identifier rubyid_res'>res</span>
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="disable_ssl-instance_method">
  <h3 class='signature '>
    #<strong>disable_ssl</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#disable_tls-instance_method" title="Net::SMTP#disable_tls (method)">#disable_tls</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L360-L360'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='360' data-end='360'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 360</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_disable_ssl'>disable_ssl</span> <span class='id identifier rubyid_disable_tls'><a href="#disable_tls-instance_method" title="Net::SMTP#disable_tls (method)">disable_tls</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="disable_starttls-instance_method">
  <h3 class='signature '>
    #<strong>disable_starttls</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Disables SMTP/TLS (STARTTLS) for this object.  Must be called before the connection is established to have any effect.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L399-L402'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='399' data-end='402'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 399</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_disable_starttls'>disable_starttls</span>
  <span class='ivar'>@starttls</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@ssl_context_starttls</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="disable_tls-instance_method">
  <h3 class='signature '>
    #<strong>disable_tls</strong>  
    <span class='aliases'>Also known as: <span class='names'>#disable_ssl</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Disables SMTP/TLS for this object.  Must be called before the connection is established to have any effect.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L355-L358'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='355' data-end='358'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 355</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_disable_tls'>disable_tls</span>
  <span class='ivar'>@tls</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@ssl_context_tls</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="do_finish-instance_method">
  <h3 class='signature priv'>
    #<strong>do_finish</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L700-L707'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='700' data-end='707'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 700</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_do_finish'>do_finish</span>
  <span class='id identifier rubyid_quit'><a href="#quit-instance_method" title="Net::SMTP#quit (method)">quit</a></span> <span class='kw'>if</span> <span class='ivar'>@socket</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='ivar'>@socket</span>.<span class='id identifier rubyid_closed?'>closed?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='ivar'>@error_occurred</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@started</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@error_occurred</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@socket</span>.<span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='ivar'>@socket</span>
  <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="do_helo-instance_method">
  <h3 class='signature priv'>
    #<strong>do_helo</strong>(helo_domain)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L688-L698'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='688' data-end='698'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 688</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_do_helo'>do_helo</span>(<span class='id identifier rubyid_helo_domain'>helo_domain</span>)
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='ivar'>@esmtp</span> <span class='op'>?</span> <span class='id identifier rubyid_ehlo'><a href="#ehlo-instance_method" title="Net::SMTP#ehlo (method)">ehlo</a></span>(<span class='id identifier rubyid_helo_domain'>helo_domain</span>) <span class='op'>:</span> <span class='id identifier rubyid_helo'><a href="#helo-instance_method" title="Net::SMTP#helo (method)">helo</a></span>(<span class='id identifier rubyid_helo_domain'>helo_domain</span>)
  <span class='ivar'>@capabilities</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span>.<span class='id identifier rubyid_capabilities'><a href="#capabilities-instance_method" title="Net::SMTP#capabilities (method)">capabilities</a></span>
<span class='kw'>rescue</span> <span class='const'><a href="SMTPError.html" title="Net::SMTPError (module)">SMTPError</a></span>
  <span class='kw'>if</span> <span class='ivar'>@esmtp</span>
    <span class='ivar'>@esmtp</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='ivar'>@error_occurred</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>retry</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="do_start-instance_method">
  <h3 class='signature priv'>
    #<strong>do_start</strong>(helo_domain, user, secret, authtype)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L634-L664'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='634' data-end='664'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 634</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_do_start'>do_start</span>(<span class='id identifier rubyid_helo_domain'>helo_domain</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_authtype'>authtype</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SMTP session already started</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='ivar'>@started</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span> <span class='kw'>or</span> <span class='id identifier rubyid_secret'>secret</span>
    <span class='id identifier rubyid_check_auth_method'><a href="#check_auth_method-instance_method" title="Net::SMTP#check_auth_method (method)">check_auth_method</a></span>(<span class='id identifier rubyid_authtype'>authtype</span> <span class='op'>||</span> <span class='const'><a href="#DEFAULT_AUTH_TYPE-constant" title="Net::SMTP::DEFAULT_AUTH_TYPE (constant)">DEFAULT_AUTH_TYPE</a></span>)
    <span class='id identifier rubyid_check_auth_args'><a href="#check_auth_args-instance_method" title="Net::SMTP#check_auth_args (method)">check_auth_args</a></span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>Timeout</span>.<span class='id identifier rubyid_timeout'>timeout</span>(<span class='ivar'>@open_timeout</span><span class='comma'>,</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>OpenTimeout</span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_tcp_socket'><a href="#tcp_socket-instance_method" title="Net::SMTP#tcp_socket (method)">tcp_socket</a></span>(<span class='ivar'>@address</span><span class='comma'>,</span> <span class='ivar'>@port</span>)
  <span class='kw'>end</span>
  <span class='id identifier rubyid_logging'><a href="#logging-instance_method" title="Net::SMTP#logging (method)">logging</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Connection opened: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='id identifier rubyid_new_internet_message_io'><a href="#new_internet_message_io-instance_method" title="Net::SMTP#new_internet_message_io (method)">new_internet_message_io</a></span>(<span class='id identifier rubyid_tls?'><a href="#tls%3F-instance_method" title="Net::SMTP#tls? (method)">tls?</a></span> <span class='op'>?</span> <span class='id identifier rubyid_tlsconnect'><a href="#tlsconnect-instance_method" title="Net::SMTP#tlsconnect (method)">tlsconnect</a></span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='ivar'>@ssl_context_tls</span>) <span class='op'>:</span> <span class='id identifier rubyid_s'>s</span>)
  <span class='id identifier rubyid_check_response'><a href="#check_response-instance_method" title="Net::SMTP#check_response (method)">check_response</a></span> <span class='id identifier rubyid_critical'><a href="#critical-instance_method" title="Net::SMTP#critical (method)">critical</a></span> { <span class='id identifier rubyid_recv_response'><a href="#recv_response-instance_method" title="Net::SMTP#recv_response (method)">recv_response</a></span>() }
  <span class='id identifier rubyid_do_helo'><a href="#do_helo-instance_method" title="Net::SMTP#do_helo (method)">do_helo</a></span> <span class='id identifier rubyid_helo_domain'>helo_domain</span>
  <span class='kw'>if</span> <span class='op'>!</span> <span class='id identifier rubyid_tls?'><a href="#tls%3F-instance_method" title="Net::SMTP#tls? (method)">tls?</a></span> <span class='kw'>and</span> (<span class='id identifier rubyid_starttls_always?'><a href="#starttls_always%3F-instance_method" title="Net::SMTP#starttls_always? (method)">starttls_always?</a></span> <span class='kw'>or</span> (<span class='id identifier rubyid_capable_starttls?'><a href="#capable_starttls%3F-instance_method" title="Net::SMTP#capable_starttls? (method)">capable_starttls?</a></span> <span class='kw'>and</span> <span class='id identifier rubyid_starttls_auto?'><a href="#starttls_auto%3F-instance_method" title="Net::SMTP#starttls_auto? (method)">starttls_auto?</a></span>))
    <span class='kw'>unless</span> <span class='id identifier rubyid_capable_starttls?'><a href="#capable_starttls%3F-instance_method" title="Net::SMTP#capable_starttls? (method)">capable_starttls?</a></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="SMTPUnsupportedCommand.html" title="Net::SMTPUnsupportedCommand (class)">SMTPUnsupportedCommand</a></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STARTTLS is not supported on this server</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_starttls'><a href="#starttls-instance_method" title="Net::SMTP#starttls (method)">starttls</a></span>
    <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='id identifier rubyid_new_internet_message_io'><a href="#new_internet_message_io-instance_method" title="Net::SMTP#new_internet_message_io (method)">new_internet_message_io</a></span>(<span class='id identifier rubyid_tlsconnect'><a href="#tlsconnect-instance_method" title="Net::SMTP#tlsconnect (method)">tlsconnect</a></span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='ivar'>@ssl_context_starttls</span>))
    <span class='comment'># helo response may be different after STARTTLS
</span>    <span class='id identifier rubyid_do_helo'><a href="#do_helo-instance_method" title="Net::SMTP#do_helo (method)">do_helo</a></span> <span class='id identifier rubyid_helo_domain'>helo_domain</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_authenticate'><a href="#authenticate-instance_method" title="Net::SMTP#authenticate (method)">authenticate</a></span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> (<span class='id identifier rubyid_authtype'>authtype</span> <span class='op'>||</span> <span class='const'><a href="#DEFAULT_AUTH_TYPE-constant" title="Net::SMTP::DEFAULT_AUTH_TYPE (constant)">DEFAULT_AUTH_TYPE</a></span>) <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span>
  <span class='ivar'>@started</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>ensure</span>
  <span class='kw'>unless</span> <span class='ivar'>@started</span>
    <span class='comment'># authentication failed, cancel connection.
</span>    <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span>
    <span class='ivar'>@socket</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ehlo-instance_method">
  <h3 class='signature '>
    #<strong>ehlo</strong>(domain)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L882-L884'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='882' data-end='884'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 882</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ehlo'>ehlo</span>(<span class='id identifier rubyid_domain'>domain</span>)
  <span class='id identifier rubyid_getok'><a href="#getok-instance_method" title="Net::SMTP#getok (method)">getok</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EHLO </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain'>domain</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="enable_ssl-instance_method">
  <h3 class='signature '>
    #<strong>enable_ssl</strong>(context = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#enable_tls-instance_method" title="Net::SMTP#enable_tls (method)">#enable_tls</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L351-L351'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='351' data-end='351'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 351</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_enable_ssl'>enable_ssl</span> <span class='id identifier rubyid_enable_tls'><a href="#enable_tls-instance_method" title="Net::SMTP#enable_tls (method)">enable_tls</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="enable_starttls-instance_method">
  <h3 class='signature '>
    #<strong>enable_starttls</strong>(context = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Enables SMTP/TLS (STARTTLS) for this object. <code>context</code> is a <code>OpenSSL::SSL::SSLContext</code> object.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L381-L386'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='381' data-end='386'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 381</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_enable_starttls'>enable_starttls</span>(<span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>openssl library not installed</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'><a href="#VERSION-constant" title="Net::SMTP::VERSION (constant)">VERSION</a></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SMTPS and STARTTLS is exclusive</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@tls</span>
  <span class='ivar'>@starttls</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_always'>always</span>
  <span class='ivar'>@ssl_context_starttls</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="enable_starttls_auto-instance_method">
  <h3 class='signature '>
    #<strong>enable_starttls_auto</strong>(context = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Enables SMTP/TLS (STARTTLS) for this object if server accepts. <code>context</code> is a <code>OpenSSL::SSL::SSLContext</code> object.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L390-L395'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='390' data-end='395'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 390</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_enable_starttls_auto'>enable_starttls_auto</span>(<span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>openssl library not installed</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'><a href="#VERSION-constant" title="Net::SMTP::VERSION (constant)">VERSION</a></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SMTPS and STARTTLS is exclusive</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@tls</span>
  <span class='ivar'>@starttls</span> <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_auto'>auto</span>
  <span class='ivar'>@ssl_context_starttls</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="enable_tls-instance_method">
  <h3 class='signature '>
    #<strong>enable_tls</strong>(context = nil)  
    <span class='aliases'>Also known as: <span class='names'>#enable_ssl</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Enables SMTP/TLS (SMTPS: <code>SMTP</code> over direct TLS connection) for this object.  Must be called before the connection is established to have any effect.  <code>context</code> is a <code>OpenSSL::SSL::SSLContext</code> object.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L344-L349'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='344' data-end='349'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 344</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_enable_tls'>enable_tls</span>(<span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>openssl library not installed</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span>(<span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'><a href="#VERSION-constant" title="Net::SMTP::VERSION (constant)">VERSION</a></span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SMTPS and STARTTLS is exclusive</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@starttls</span> <span class='op'>==</span> <span class='symbeg'>:</span><span class='id identifier rubyid_always'>always</span>
  <span class='ivar'>@tls</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@ssl_context_tls</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="esmtp-instance_method">
  <h3 class='signature rw'>
    #<strong>esmtp</strong>   <span class="extras">(<span class='rw'>rw</span>)</span>
    <span class='aliases'>Also known as: <span class='names'>#esmtp?</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set whether to use ESMTP or not.  This should be done before calling <a href="#start-instance_method" title="Net::SMTP#start (method)">#start</a>.  Note that if <a href="#start-instance_method" title="Net::SMTP#start (method)">#start</a> is called in ESMTP mode, and the connection fails due to a ProtocolError, the <code>SMTP</code> object will automatically switch to plain <code>SMTP</code> mode and retry (but not vice versa).</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L281-L281'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='281' data-end='281'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 281</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbeg'>:</span><span class='id identifier rubyid_esmtp'>esmtp</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="finish-instance_method">
  <h3 class='signature '>
    #<strong>finish</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Finishes the <code>SMTP</code> session and closes TCP connection. Raises IOError if not started.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>IOError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L623-L626'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='623' data-end='626'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 623</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_finish'>finish</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>not yet started</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_started?'><a href="#started%3F-instance_method" title="Net::SMTP#started? (method)">started?</a></span>
  <span class='id identifier rubyid_do_finish'><a href="#do_finish-instance_method" title="Net::SMTP#do_finish (method)">do_finish</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get_response-instance_method">
  <h3 class='signature '>
    #<strong>get_response</strong>(reqline)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L964-L968'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='964' data-end='968'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 964</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get_response'>get_response</span>(<span class='id identifier rubyid_reqline'>reqline</span>)
  <span class='id identifier rubyid_validate_line'><a href="#validate_line-instance_method" title="Net::SMTP#validate_line (method)">validate_line</a></span> <span class='id identifier rubyid_reqline'>reqline</span>
  <span class='ivar'>@socket</span>.<span class='id identifier rubyid_writeline'>writeline</span> <span class='id identifier rubyid_reqline'>reqline</span>
  <span class='id identifier rubyid_recv_response'><a href="#recv_response-instance_method" title="Net::SMTP#recv_response (method)">recv_response</a></span>()
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="getok-instance_method">
  <h3 class='signature priv'>
    #<strong>getok</strong>(reqline)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L979-L987'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='979' data-end='987'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 979</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_getok'>getok</span>(<span class='id identifier rubyid_reqline'>reqline</span>)
  <span class='id identifier rubyid_validate_line'><a href="#validate_line-instance_method" title="Net::SMTP#validate_line (method)">validate_line</a></span> <span class='id identifier rubyid_reqline'>reqline</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_critical'><a href="#critical-instance_method" title="Net::SMTP#critical (method)">critical</a></span> {
    <span class='ivar'>@socket</span>.<span class='id identifier rubyid_writeline'>writeline</span> <span class='id identifier rubyid_reqline'>reqline</span>
    <span class='id identifier rubyid_recv_response'><a href="#recv_response-instance_method" title="Net::SMTP#recv_response (method)">recv_response</a></span>()
  }
  <span class='id identifier rubyid_check_response'><a href="#check_response-instance_method" title="Net::SMTP#check_response (method)">check_response</a></span> <span class='id identifier rubyid_res'>res</span>
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="helo-instance_method">
  <h3 class='signature '>
    #<strong>helo</strong>(domain)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L878-L880'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='878' data-end='880'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 878</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_helo'>helo</span>(<span class='id identifier rubyid_domain'>domain</span>)
  <span class='id identifier rubyid_getok'><a href="#getok-instance_method" title="Net::SMTP#getok (method)">getok</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HELO </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain'>domain</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inspect-instance_method">
  <h3 class='signature '>
    #<strong>inspect</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Provide human-readable stringification of class state.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L270-L272'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='270' data-end='272'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 270</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span>.<span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@address</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@port</span><span class='embexpr_end'>}</span><span class='tstring_content'> started=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@started</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="logging-instance_method">
  <h3 class='signature '>
    #<strong>logging</strong>(msg)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L1100-L1102'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='1100' data-end='1102'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 1100</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_logging'>logging</span>(<span class='id identifier rubyid_msg'>msg</span>)
  <span class='ivar'>@debug_output</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_msg'>msg</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@debug_output</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="mailfrom-instance_method">
  <h3 class='signature '>
    #<strong>mailfrom</strong>(from_addr)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>from_addr</code> is <code>String</code> or <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>SMTP::Address</code></a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L887-L894'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='887' data-end='894'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 887</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_mailfrom'>mailfrom</span>(<span class='id identifier rubyid_from_addr'>from_addr</span>)
  <span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_requires_smtputf8'><a href="#requires_smtputf8-instance_method" title="Net::SMTP#requires_smtputf8 (method)">requires_smtputf8</a></span>(<span class='id identifier rubyid_from_addr'>from_addr</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_capable?'><a href="#capable%3F-instance_method" title="Net::SMTP#capable? (method)">capable?</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SMTPUTF8</span><span class='tstring_end'>&quot;</span></span>)
           <span class='const'><a href="SMTP/Address.html" title="Net::SMTP::Address (class)">Address</a></span>.<span class='id identifier rubyid_new'><a href="SMTP/Address.html#new-class_method" title="Net::SMTP::Address.new (method)">new</a></span>(<span class='id identifier rubyid_from_addr'>from_addr</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SMTPUTF8</span><span class='tstring_end'>&quot;</span></span>)
         <span class='kw'>else</span>
           <span class='const'><a href="SMTP/Address.html" title="Net::SMTP::Address (class)">Address</a></span>.<span class='id identifier rubyid_new'><a href="SMTP/Address.html#new-class_method" title="Net::SMTP::Address.new (method)">new</a></span>(<span class='id identifier rubyid_from_addr'>from_addr</span>)
         <span class='kw'>end</span>
  <span class='id identifier rubyid_getok'><a href="#getok-instance_method" title="Net::SMTP#getok (method)">getok</a></span>(([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>MAIL FROM:&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_addr'>addr</span>.<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>+</span> <span class='id identifier rubyid_addr'>addr</span>.<span class='id identifier rubyid_parameters'>parameters</span>).<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="new_internet_message_io-instance_method">
  <h3 class='signature priv'>
    #<strong>new_internet_message_io</strong>(s)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L683-L686'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='683' data-end='686'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 683</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_new_internet_message_io'>new_internet_message_io</span>(<span class='id identifier rubyid_s'>s</span>)
  <span class='const'>InternetMessageIO</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='label'>read_timeout:</span> <span class='ivar'>@read_timeout</span><span class='comma'>,</span>
                        <span class='label'>debug_output:</span> <span class='ivar'>@debug_output</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="open_message_stream-instance_method">
  <h3 class='signature '>
    #<strong>open_message_stream</strong>(from_addr, *to_addrs, &amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#ready</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Opens a message writer stream and gives it to the block. The stream is valid only in the block, and has these methods:</p>
<dl class="rdoc-list note-list"><dt>puts(str = ”)
<dd>
<p>outputs STR and CR LF.</p>
</dd><dt>print(str)
<dd>
<p>outputs STR.</p>
</dd><dt>printf(fmt, *args)
<dd>
<p>outputs sprintf(fmt,*args).</p>
</dd><dt>write(str)
<dd>
<p>outputs STR and returns the length of written bytes.</p>
</dd><dt>&lt;&lt;(str)
<dd>
<p>outputs STR and returns self.</p>
</dd></dl>

<p>If a single CR (“r”) or LF (“n”) is found in the message, it is converted to the CR LF pair.  You cannot send a binary message with this method.</p>

<h4 id="label-Parameters">Parameters</h4>

<p><code>from_addr</code> is a String or <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>SMTP::Address</code></a> representing the source mail address.</p>

<p><code>to_addr</code> is a String or <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>SMTP::Address</code></a> or Array of them, representing the destination mail address or addresses.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>smtp.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_open_message_stream'>open_message_stream</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>from@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dest@example.com</span><span class='tstring_end'>&#39;</span></span>]) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>From: from@example.com</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>To: dest@example.com</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Subject: test message</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span>
    <span class='id identifier rubyid_f'>f</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>This is a test message.</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>

<h4 id="label-Errors">Errors</h4>

<p>This method may raise:</p>
<ul><li>
<p><a href="SMTPServerBusy.html" title="Net::SMTPServerBusy (class)"><code>SMTPServerBusy</code></a></p>
</li><li>
<p><a href="SMTPSyntaxError.html" title="Net::SMTPSyntaxError (class)"><code>SMTPSyntaxError</code></a></p>
</li><li>
<p><a href="SMTPFatalError.html" title="Net::SMTPFatalError (class)"><code>SMTPFatalError</code></a></p>
</li><li>
<p><a href="SMTPUnknownError.html" title="Net::SMTPUnknownError (class)"><code>SMTPUnknownError</code></a></p>
</li><li>
<p><code>Net::ReadTimeout</code></p>
</li><li>
<p>IOError</p>
</li></ul>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>IOError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L818-L824'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='818' data-end='824'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 818</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_open_message_stream'>open_message_stream</span>(<span class='id identifier rubyid_from_addr'>from_addr</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_to_addrs'>to_addrs</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)   <span class='comment'># :yield: stream
</span>  <span class='id identifier rubyid_to_addrs'>to_addrs</span>.<span class='id identifier rubyid_flatten!'>flatten!</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>closed session</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='ivar'>@socket</span>
  <span class='id identifier rubyid_from_addr'>from_addr</span> <span class='op'>=</span> <span class='const'><a href="SMTP/Address.html" title="Net::SMTP::Address (class)">Address</a></span>.<span class='id identifier rubyid_new'><a href="SMTP/Address.html#new-class_method" title="Net::SMTP::Address.new (method)">new</a></span>(<span class='id identifier rubyid_from_addr'>from_addr</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SMTPUTF8</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_any_require_smtputf8'><a href="#any_require_smtputf8-instance_method" title="Net::SMTP#any_require_smtputf8 (method)">any_require_smtputf8</a></span>(<span class='id identifier rubyid_to_addrs'>to_addrs</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_capable?'><a href="#capable%3F-instance_method" title="Net::SMTP#capable? (method)">capable?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SMTPUTF8</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_mailfrom'><a href="#mailfrom-instance_method" title="Net::SMTP#mailfrom (method)">mailfrom</a></span> <span class='id identifier rubyid_from_addr'>from_addr</span>
  <span class='id identifier rubyid_rcptto_list'><a href="#rcptto_list-instance_method" title="Net::SMTP#rcptto_list (method)">rcptto_list</a></span>(<span class='id identifier rubyid_to_addrs'>to_addrs</span>) {<span class='id identifier rubyid_data'><a href="#data-instance_method" title="Net::SMTP#data (method)">data</a></span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)}
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quit-instance_method">
  <h3 class='signature '>
    #<strong>quit</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L960-L962'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='960' data-end='962'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 960</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quit'>quit</span>
  <span class='id identifier rubyid_getok'><a href="#getok-instance_method" title="Net::SMTP#getok (method)">getok</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QUIT</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rcptto-instance_method">
  <h3 class='signature '>
    #<strong>rcptto</strong>(to_addr)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p><code>to_addr</code> is <code>String</code> or <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>SMTP::Address</code></a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L905-L908'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='905' data-end='908'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 905</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rcptto'>rcptto</span>(<span class='id identifier rubyid_to_addr'>to_addr</span>)
  <span class='id identifier rubyid_addr'>addr</span> <span class='op'>=</span> <span class='const'><a href="SMTP/Address.html" title="Net::SMTP::Address (class)">Address</a></span>.<span class='id identifier rubyid_new'><a href="SMTP/Address.html#new-class_method" title="Net::SMTP::Address.new (method)">new</a></span>(<span class='id identifier rubyid_to_addr'>to_addr</span>)
  <span class='id identifier rubyid_getok'><a href="#getok-instance_method" title="Net::SMTP#getok (method)">getok</a></span>(([<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RCPT TO:&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_addr'>addr</span>.<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>] <span class='op'>+</span> <span class='id identifier rubyid_addr'>addr</span>.<span class='id identifier rubyid_parameters'>parameters</span>).<span class='id identifier rubyid_join'>join</span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> </span><span class='tstring_end'>&#39;</span></span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rcptto_list-instance_method">
  <h3 class='signature '>
    #<strong>rcptto_list</strong>(to_addrs)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L896-L902'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='896' data-end='902'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 896</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rcptto_list'>rcptto_list</span>(<span class='id identifier rubyid_to_addrs'>to_addrs</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>mail destination not given</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_to_addrs'>to_addrs</span>.<span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_to_addrs'>to_addrs</span>.<span class='id identifier rubyid_flatten'>flatten</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_addr'>addr</span><span class='op'>|</span>
    <span class='id identifier rubyid_rcptto'><a href="#rcptto-instance_method" title="Net::SMTP#rcptto (method)">rcptto</a></span> <span class='id identifier rubyid_addr'>addr</span>
  <span class='kw'>end</span>
  <span class='kw'>yield</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ready-instance_method">
  <h3 class='signature '>
    #<strong>ready</strong>(from_addr, *to_addrs, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#open_message_stream-instance_method" title="Net::SMTP#open_message_stream (method)">#open_message_stream</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L826-L826'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='826' data-end='826'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 826</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_ready'>ready</span> <span class='id identifier rubyid_open_message_stream'><a href="#open_message_stream-instance_method" title="Net::SMTP#open_message_stream (method)">open_message_stream</a></span>   <span class='comment'># obsolete</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="recv_response-instance_method">
  <h3 class='signature priv'>
    #<strong>recv_response</strong>   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L989-L997'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='989' data-end='997'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 989</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_recv_response'>recv_response</span>
  <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>.<span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>while</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='ivar'>@socket</span>.<span class='id identifier rubyid_readline'>readline</span>
    <span class='id identifier rubyid_buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_line'>line</span>[<span class='int'>3</span><span class='comma'>,</span><span class='int'>1</span>] <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># &quot;210-PIPELINING&quot;
</span>  <span class='kw'>end</span>
  <span class='const'><a href="SMTP/Response.html" title="Net::SMTP::Response (class)">Response</a></span>.<span class='id identifier rubyid_parse'><a href="SMTP/Response.html#parse-class_method" title="Net::SMTP::Response.parse (method)">parse</a></span>(<span class='id identifier rubyid_buf'>buf</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="requires_smtputf8-instance_method">
  <h3 class='signature priv'>
    #<strong>requires_smtputf8</strong>(address)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L709-L715'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='709' data-end='715'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 709</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_requires_smtputf8'>requires_smtputf8</span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span>.<span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'><a href="SMTP/Address.html" title="Net::SMTP::Address (class)">Address</a></span>
    <span class='op'>!</span><span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span>.<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span>.<span class='id identifier rubyid_ascii_only?'>ascii_only?</span>
  <span class='kw'>else</span>
    <span class='op'>!</span><span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span>.<span class='id identifier rubyid_ascii_only?'>ascii_only?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rset-instance_method">
  <h3 class='signature '>
    #<strong>rset</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Aborts the current mail transaction</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L870-L872'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='870' data-end='872'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 870</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rset'>rset</span>
  <span class='id identifier rubyid_getok'><a href="#getok-instance_method" title="Net::SMTP#getok (method)">getok</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RSET</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_mail-instance_method">
  <h3 class='signature '>
    #<strong>send_mail</strong>(msgstr, from_addr, *to_addrs)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">#send_message</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L771-L771'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='771' data-end='771'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 771</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_send_mail'>send_mail</span> <span class='id identifier rubyid_send_message'><a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">send_message</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="send_message-instance_method">
  <h3 class='signature '>
    #<strong>send_message</strong>(msgstr, from_addr, *to_addrs)  
    <span class='aliases'>Also known as: <span class='names'>#send_mail, #sendmail</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Sends <code>msgstr</code> as a message.  Single CR (“r”) and LF (“n”) found in the <code>msgstr</code>, are converted into the CR LF pair.  You cannot send a binary message with this method. <code>msgstr</code> should include both the message headers and body.</p>

<p><code>from_addr</code> is a String or <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>SMTP::Address</code></a> representing the source mail address.</p>

<p><code>to_addr</code> is a String or <a href="SMTP/Address.html" title="Net::SMTP::Address (class)"><code>SMTP::Address</code></a> or Array of them, representing the destination mail address or addresses.</p>

<h4 id="label-Example">Example</h4>

<pre class="code ruby"><code class="ruby"><span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>smtp.example.com</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_send_message'>send_message</span> <span class='id identifier rubyid_msgstr'>msgstr</span><span class='comma'>,</span>
                    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>from@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                    [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dest@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dest2@example.com</span><span class='tstring_end'>&#39;</span></span>]
<span class='kw'>end</span>

<span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_start'><a href="#start-class_method" title="Net::SMTP.start (method)">start</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>smtp.example.com</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_send_message'>send_message</span> <span class='id identifier rubyid_msgstr'>msgstr</span><span class='comma'>,</span>
                    <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span><span class='op'>::</span><span class='const'><a href="SMTP/Address.html" title="Net::SMTP::Address (class)">Address</a></span>.<span class='id identifier rubyid_new'><a href="SMTP/Address.html#new-class_method" title="Net::SMTP::Address.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>from@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>size:</span> <span class='int'>12345</span>)<span class='comma'>,</span>
                    <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span><span class='op'>::</span><span class='const'><a href="SMTP/Address.html" title="Net::SMTP::Address (class)">Address</a></span>.<span class='id identifier rubyid_new'><a href="SMTP/Address.html#new-class_method" title="Net::SMTP::Address.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dest@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>notify:</span> <span class='symbeg'>:</span><span class='id identifier rubyid_success'>success</span>)
<span class='kw'>end</span></code></pre>

<h4 id="label-Errors">Errors</h4>

<p>This method may raise:</p>
<ul><li>
<p><a href="SMTPServerBusy.html" title="Net::SMTPServerBusy (class)"><code>SMTPServerBusy</code></a></p>
</li><li>
<p><a href="SMTPSyntaxError.html" title="Net::SMTPSyntaxError (class)"><code>SMTPSyntaxError</code></a></p>
</li><li>
<p><a href="SMTPFatalError.html" title="Net::SMTPFatalError (class)"><code>SMTPFatalError</code></a></p>
</li><li>
<p><a href="SMTPUnknownError.html" title="Net::SMTPUnknownError (class)"><code>SMTPUnknownError</code></a></p>
</li><li>
<p><code>Net::ReadTimeout</code></p>
</li><li>
<p>IOError</p>
</li></ul>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>IOError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L763-L769'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='763' data-end='769'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 763</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_send_message'>send_message</span>(<span class='id identifier rubyid_msgstr'>msgstr</span><span class='comma'>,</span> <span class='id identifier rubyid_from_addr'>from_addr</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_to_addrs'>to_addrs</span>)
  <span class='id identifier rubyid_to_addrs'>to_addrs</span>.<span class='id identifier rubyid_flatten!'>flatten!</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>closed session</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='ivar'>@socket</span>
  <span class='id identifier rubyid_from_addr'>from_addr</span> <span class='op'>=</span> <span class='const'><a href="SMTP/Address.html" title="Net::SMTP::Address (class)">Address</a></span>.<span class='id identifier rubyid_new'><a href="SMTP/Address.html#new-class_method" title="Net::SMTP::Address.new (method)">new</a></span>(<span class='id identifier rubyid_from_addr'>from_addr</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SMTPUTF8</span><span class='tstring_end'>&#39;</span></span>) <span class='kw'>if</span> <span class='id identifier rubyid_any_require_smtputf8'><a href="#any_require_smtputf8-instance_method" title="Net::SMTP#any_require_smtputf8 (method)">any_require_smtputf8</a></span>(<span class='id identifier rubyid_to_addrs'>to_addrs</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_capable?'><a href="#capable%3F-instance_method" title="Net::SMTP#capable? (method)">capable?</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SMTPUTF8</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_mailfrom'><a href="#mailfrom-instance_method" title="Net::SMTP#mailfrom (method)">mailfrom</a></span> <span class='id identifier rubyid_from_addr'>from_addr</span>
  <span class='id identifier rubyid_rcptto_list'><a href="#rcptto_list-instance_method" title="Net::SMTP#rcptto_list (method)">rcptto_list</a></span>(<span class='id identifier rubyid_to_addrs'>to_addrs</span>) {<span class='id identifier rubyid_data'><a href="#data-instance_method" title="Net::SMTP#data (method)">data</a></span> <span class='id identifier rubyid_msgstr'>msgstr</span>}
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="sendmail-instance_method">
  <h3 class='signature '>
    #<strong>sendmail</strong>(msgstr, from_addr, *to_addrs)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">#send_message</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L772-L772'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='772' data-end='772'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 772</span></pre>
<pre class='code ruby'>

<span class='kw'>alias</span> <span class='id identifier rubyid_sendmail'>sendmail</span> <span class='id identifier rubyid_send_message'><a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">send_message</a></span>   <span class='comment'># obsolete</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_socket-instance_method">
  <h3 class='signature priv'>
    #<strong>ssl_socket</strong>(socket, context)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L666-L668'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='666' data-end='668'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 666</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ssl_socket'>ssl_socket</span>(<span class='id identifier rubyid_socket'>socket</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span>)
  <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>SSLSocket</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span> <span class='id identifier rubyid_socket'>socket</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="start-instance_method">
  <h3 class='signature '>
    <div class='inline-block'>
      <span class='overload'>#<strong>start</strong>(helo: &#39;localhost&#39;, user: nil, secret: nil, authtype: nil) {|smtp| ... } </span>
      <span class='overload'>#<strong>start</strong>(helo = &#39;localhost&#39;, user = nil, secret = nil, authtype = nil) {|smtp| ... } </span>
    </div>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Opens a TCP connection and starts the <code>SMTP</code> session.</p>

<h4 id="label-Parameters">Parameters</h4>

<p><a href="#helo-instance_method" title="Net::SMTP#helo (method)">#helo</a> is the <em>HELO</em> <em>domain</em> that you’ll dispatch mails from; see the discussion in the overview notes.</p>

<p>If both of <code>user</code> and <code>secret</code> are given, <code>SMTP</code> authentication will be attempted using the AUTH command.  <code>authtype</code> specifies the type of authentication to attempt; it must be one of <code>:login</code>, <code>:plain</code>, and <code>:cram_md5</code>.  See the notes on <code>SMTP</code> Authentication in the overview.</p>

<h4 id="label-Block+Usage">Block Usage</h4>

<p>When this methods is called with a block, the newly-started <code>SMTP</code> object is yielded to the block, and automatically closed after the block call finishes.  Otherwise, it is the caller’s responsibility to close the session when finished.</p>

<h4 id="label-Example">Example</h4>

<p>This is very similar to the class method <a href="#start-class_method" title="Net::SMTP.start (method)">.start</a>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>net/smtp</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_smtp'>smtp</span> <span class='op'>=</span> <span class='const'><a href="../Net.html" title="Net (module)">Net</a></span><span class='op'>::</span><span class='const'>SMTP</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Net::SMTP.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>smtp.mail.server</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>25</span>)
<span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_start'>start</span>(<span class='label'>helo:</span> <span class='id identifier rubyid_helo_domain'>helo_domain</span><span class='comma'>,</span> <span class='label'>user:</span> <span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='label'>secret:</span> <span class='id identifier rubyid_password'>password</span><span class='comma'>,</span> <span class='label'>authtype:</span> <span class='id identifier rubyid_authtype'>authtype</span>) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='id identifier rubyid_smtp'>smtp</span>.<span class='id identifier rubyid_send_message'><a href="#send_message-instance_method" title="Net::SMTP#send_message (method)">send_message</a></span> <span class='id identifier rubyid_msgstr'>msgstr</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>from@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dest@example.com</span><span class='tstring_end'>&#39;</span></span>]
<span class='kw'>end</span></code></pre>

<p>The primary use of this method (as opposed to <a href="#start-class_method" title="Net::SMTP.start (method)">.start</a>) is probably to set debugging (#set_debug_output) or ESMTP (#esmtp=), which must be done before the session is started.</p>

<h4 id="label-Errors">Errors</h4>

<p>If session has already been started, an IOError will be raised.</p>

<p>This method may raise:</p>
<ul><li>
<p><a href="SMTPAuthenticationError.html" title="Net::SMTPAuthenticationError (class)"><code>SMTPAuthenticationError</code></a></p>
</li><li>
<p><a href="SMTPServerBusy.html" title="Net::SMTPServerBusy (class)"><code>SMTPServerBusy</code></a></p>
</li><li>
<p><a href="SMTPSyntaxError.html" title="Net::SMTPSyntaxError (class)"><code>SMTPSyntaxError</code></a></p>
</li><li>
<p><a href="SMTPFatalError.html" title="Net::SMTPFatalError (class)"><code>SMTPFatalError</code></a></p>
</li><li>
<p><a href="SMTPUnknownError.html" title="Net::SMTPUnknownError (class)"><code>SMTPUnknownError</code></a></p>
</li><li>
<p><code>Net::OpenTimeout</code></p>
</li><li>
<p><code>Net::ReadTimeout</code></p>
</li><li>
<p>IOError</p>
</li></ul>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<code>ArgumentError</code>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L590-L619'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='590' data-end='619'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 590</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_start'>start</span>(<span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='label'>helo:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>user:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>secret:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>authtype:</span> <span class='kw'>nil</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrong number of arguments (given </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>, expected 0..4)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span>.<span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>4</span>
  <span class='id identifier rubyid_helo'><a href="#helo-instance_method" title="Net::SMTP#helo (method)">helo</a></span> <span class='op'>||=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>0</span>] <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_user'>user</span> <span class='op'>||=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>1</span>]
  <span class='id identifier rubyid_secret'>secret</span> <span class='op'>||=</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>2</span>]
  <span class='id identifier rubyid_authtype'>authtype</span> <span class='op'>||=</span> <span class='id identifier rubyid_args'>args</span>[<span class='int'>3</span>]
  <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'><a href="#VERSION-constant" title="Net::SMTP::VERSION (constant)">VERSION</a></span>)
    <span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span> <span class='op'>=</span> <span class='ivar'>@ssl_context_params</span> <span class='op'>||</span> {}
    <span class='kw'>unless</span> <span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span>.<span class='id identifier rubyid_has_key?'>has_key?</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'>verify_mode</span>)
      <span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span>[<span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'>verify_mode</span>] <span class='op'>=</span> <span class='ivar'>@tls_verify</span> <span class='op'>?</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>VERIFY_PEER</span> <span class='op'>:</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>SSL</span><span class='op'>::</span><span class='const'>VERIFY_NONE</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='ivar'>@tls</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@ssl_context_tls</span>.<span class='id identifier rubyid_nil?'>nil?</span>
      <span class='ivar'>@ssl_context_tls</span> <span class='op'>=</span> <span class='const'>SMTP</span>.<span class='id identifier rubyid_default_ssl_context'><a href="#default_ssl_context-class_method" title="Net::SMTP.default_ssl_context (method)">default_ssl_context</a></span>(<span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span>)
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='ivar'>@starttls</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@ssl_context_starttls</span>.<span class='id identifier rubyid_nil?'>nil?</span>
      <span class='ivar'>@ssl_context_starttls</span> <span class='op'>=</span> <span class='const'>SMTP</span>.<span class='id identifier rubyid_default_ssl_context'><a href="#default_ssl_context-class_method" title="Net::SMTP.default_ssl_context (method)">default_ssl_context</a></span>(<span class='id identifier rubyid_ssl_context_params'><a href="#ssl_context_params-instance_method" title="Net::SMTP#ssl_context_params (method)">ssl_context_params</a></span>)
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_do_start'><a href="#do_start-instance_method" title="Net::SMTP#do_start (method)">do_start</a></span> <span class='id identifier rubyid_helo'><a href="#helo-instance_method" title="Net::SMTP#helo (method)">helo</a></span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_authtype'>authtype</span>
      <span class='kw'>return</span> <span class='kw'>yield</span>(<span class='kw'>self</span>)
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_do_finish'><a href="#do_finish-instance_method" title="Net::SMTP#do_finish (method)">do_finish</a></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_do_start'><a href="#do_start-instance_method" title="Net::SMTP#do_start (method)">do_start</a></span> <span class='id identifier rubyid_helo'><a href="#helo-instance_method" title="Net::SMTP#helo (method)">helo</a></span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_authtype'>authtype</span>
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="starttls-instance_method">
  <h3 class='signature ro'>
    #<strong>starttls</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L874-L876'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='874' data-end='876'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 874</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_starttls'>starttls</span>
  <span class='id identifier rubyid_getok'><a href="#getok-instance_method" title="Net::SMTP#getok (method)">getok</a></span>(<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>STARTTLS</span><span class='tstring_end'>&#39;</span></span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tcp_socket-instance_method">
  <h3 class='signature priv'>
    #<strong>tcp_socket</strong>(address, port)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L630-L632'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='630' data-end='632'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 630</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tcp_socket'>tcp_socket</span>(<span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::SMTP#port (method)">port</a></span>)
  <span class='const'>TCPSocket</span>.<span class='id identifier rubyid_open'>open</span> <span class='id identifier rubyid_address'><a href="#address-instance_method" title="Net::SMTP#address (method)">address</a></span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Net::SMTP#port (method)">port</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tlsconnect-instance_method">
  <h3 class='signature priv'>
    #<strong>tlsconnect</strong>(s, context)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L670-L681'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='670' data-end='681'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 670</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tlsconnect'>tlsconnect</span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span>)
  <span class='id identifier rubyid_verified'>verified</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_ssl_socket'><a href="#ssl_socket-instance_method" title="Net::SMTP#ssl_socket (method)">ssl_socket</a></span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span>)
  <span class='id identifier rubyid_logging'><a href="#logging-instance_method" title="Net::SMTP#logging (method)">logging</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TLS connection started</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_sync_close'>sync_close</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_hostname'>hostname</span> <span class='op'>=</span> <span class='ivar'>@tls_hostname</span> <span class='op'>||</span> <span class='ivar'>@address</span>
  <span class='id identifier rubyid_ssl_socket_connect'>ssl_socket_connect</span>(<span class='id identifier rubyid_s'>s</span><span class='comma'>,</span> <span class='ivar'>@open_timeout</span>)
  <span class='id identifier rubyid_verified'>verified</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_s'>s</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_s'>s</span>.<span class='id identifier rubyid_close'>close</span> <span class='kw'>unless</span> <span class='id identifier rubyid_verified'>verified</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="validate_line-instance_method">
  <h3 class='signature priv'>
    #<strong>validate_line</strong>(line)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/net-smtp/blob/v0.4.0.1/lib/net/smtp.rb#L972-L977'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='972' data-end='977'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/net/smtp.rb', line 972</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_line'>validate_line</span>(<span class='id identifier rubyid_line'>line</span>)
  <span class='comment'># A bare CR or LF is not allowed in RFC5321.
</span>  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\r\n]</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_line'>line</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A line must not contain CR or LF</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>