<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Prism::Pattern &mdash; prism  Ruby-3.3.9 p170</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Prism::Pattern",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Ruby-3.3.9</a> &raquo; 
      <a href='../'>prism</a> &raquo; 
      <a href='../_index.html#alpha_P'>Index (P)</a> &raquo; 
        <a href="../Prism.html" title="Prism (module)">Prism</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Pattern&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Prism::Pattern</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Namespace Children</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Exceptions:</div>
      <div class='box_11'>
          <a href="Pattern/CompilationError.html" title="Prism::Pattern::CompilationError (class)"><code>CompilationError</code></a>      </div>
    </td></tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'>Object</span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L37'>lib/prism/pattern.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>A pattern is an object that wraps a Ruby pattern matching expression. The expression would normally be passed to an <code>in</code> clause within a <code>case</code> expression or a rightward assignment expression. For example, in the following snippet:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>case</span> <span class='id identifier rubyid_node'>node</span>
<span class='kw'>in</span> <span class='const'><a href="ConstantPathNode.html" title="Prism::ConstantPathNode (class)">ConstantPathNode</a></span>[<span class='const'><a href="ConstantReadNode.html" title="Prism::ConstantReadNode (class)">ConstantReadNode</a></span>[<span class='label'>name:</span> <span class='symbeg'>:</span><span class='const'><a href="../Prism.html" title="Prism (module)">Prism</a></span>]<span class='comma'>,</span> <span class='const'><a href="ConstantReadNode.html" title="Prism::ConstantReadNode (class)">ConstantReadNode</a></span>[<span class='label'>name:</span> <span class='symbeg'>:</span><span class='const'>Pattern</span>]]
<span class='kw'>end</span></code></pre>

<p>the pattern is the <code>ConstantPathNode[...]</code> expression.</p>

<p>The pattern gets compiled into an object that responds to <code>#call</code> by running the <a href="#compile-instance_method" title="Prism::Pattern#compile (method)">#compile</a> method. This method itself will run back through <a href="../Prism.html" title="Prism (module)"><code>::Prism</code></a> to parse the expression into a tree, then walk the tree to generate the necessary callable objects. For example, if you wanted to compile the expression above into a callable, you would:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_callable'>callable</span> <span class='op'>=</span> <span class='const'><a href="../Prism.html" title="Prism (module)">Prism</a></span><span class='op'>::</span><span class='const'>Pattern</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Pattern.new (method)">new</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ConstantPathNode[ConstantReadNode[name: :Prism], ConstantReadNode[name: :Pattern]]</span><span class='tstring_end'>&quot;</span></span>).<span class='id identifier rubyid_compile'><a href="#compile-instance_method" title="Prism::Pattern#compile (method)">compile</a></span>
<span class='id identifier rubyid_callable'>callable</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_node'>node</span>)</code></pre>

<p>The callable object returned by <a href="#compile-instance_method" title="Prism::Pattern#compile (method)">#compile</a> is guaranteed to respond to <code>#call</code> with a single argument, which is the node to match against. It also is guaranteed to respond to <code>#===</code>, which means it itself can be used in a <code>case</code> expression, as in:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>case</span> <span class='id identifier rubyid_node'>node</span>
<span class='kw'>when</span> <span class='id identifier rubyid_callable'>callable</span>
<span class='kw'>end</span></code></pre>

<p>If the query given to the initializer cannot be compiled into a valid matcher (either because of a syntax error or because it is using syntax we do not yet support) then a <a href="Pattern/CompilationError.html" title="Prism::Pattern::CompilationError (class)"><code>CompilationError</code></a> will be raised.</p>

  </div>
</div>
</div>
<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(query)  &#x21d2; Pattern </a>
    </span>
    <span class='note title constructor'>constructor</span>
    <div class='summary_desc'>
      <div class='inline'><p>Create a new pattern with the given query.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#query-instance_method" title="#query (instance method)">#<strong>query</strong>  </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <div class='summary_desc'>
      <div class='inline'><p>The query that this pattern was initialized with.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#compile-instance_method" title="#compile (instance method)">#<strong>compile</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Compile the query into a callable object that can be used to match against nodes.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#scan-instance_method" title="#scan (instance method)">#<strong>scan</strong>(root)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Scan the given node and all of its children for nodes that match the pattern.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#combine_and-instance_method" title="#combine_and (instance method)">#<strong>combine_and</strong>(left, right)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Shortcut for combining two procs into one that returns true if both return true.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#combine_or-instance_method" title="#combine_or (instance method)">#<strong>combine_or</strong>(left, right)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Shortcut for combining two procs into one that returns true if either returns true.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_alternation_pattern_node-instance_method" title="#compile_alternation_pattern_node (instance method)">#<strong>compile_alternation_pattern_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in foo | bar.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_array_pattern_node-instance_method" title="#compile_array_pattern_node (instance method)">#<strong>compile_array_pattern_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in [foo, bar, baz].</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_constant_path_node-instance_method" title="#compile_constant_path_node (instance method)">#<strong>compile_constant_path_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in <a href="ConstantReadNode.html" title="Prism::ConstantReadNode (class)"><code>ConstantReadNode</code></a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_constant_read_node-instance_method" title="#compile_constant_read_node (instance method)">#<strong>compile_constant_read_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in <a href="ConstantReadNode.html" title="Prism::ConstantReadNode (class)"><code>ConstantReadNode</code></a> in String.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_error-instance_method" title="#compile_error (instance method)">#<strong>compile_error</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Raise an error because the given node is not supported.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_hash_pattern_node-instance_method" title="#compile_hash_pattern_node (instance method)">#<strong>compile_hash_pattern_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in InstanceVariableReadNode[name: Symbol] in { name: Symbol }</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_nil_node-instance_method" title="#compile_nil_node (instance method)">#<strong>compile_nil_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in nil.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_node-instance_method" title="#compile_node (instance method)">#<strong>compile_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>Compile any kind of node.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_regular_expression_node-instance_method" title="#compile_regular_expression_node (instance method)">#<strong>compile_regular_expression_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in /foo/.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_string_node-instance_method" title="#compile_string_node (instance method)">#<strong>compile_string_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in “” in “foo”.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature priv'>
      <a href="#compile_symbol_node-instance_method" title="#compile_symbol_node (instance method)">#<strong>compile_symbol_node</strong>(node)  </a>
    </span>
    <span class='note title private'>private</span>
    <div class='summary_desc'>
      <div class='inline'><p>in :+ in <code>:foo</code>.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(query)  &#x21d2; <code>Pattern</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Create a new pattern with the given query. The query should be a string containing a Ruby pattern matching expression.</p>

  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L63-L66'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='63' data-end='66'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 63</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_query'><a href="#query-instance_method" title="Prism::Pattern#query (method)">query</a></span>)
  <span class='ivar'>@query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'><a href="#query-instance_method" title="Prism::Pattern#query (method)">query</a></span>
  <span class='ivar'>@compiled</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="query-instance_method">
  <h3 class='signature ro first'>
    #<strong>query</strong>   <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The query that this pattern was initialized with.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L59-L59'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='59' data-end='59'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 59</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_query'>query</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="combine_and-instance_method">
  <h3 class='signature priv first'>
    #<strong>combine_and</strong>(left, right)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shortcut for combining two procs into one that returns true if both return true.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L95-L97'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='95' data-end='97'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 95</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_combine_and'>combine_and</span>(<span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='id identifier rubyid_right'>right</span>)
  <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_other'>other</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_left'>left</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_other'>other</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_right'>right</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_other'>other</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="combine_or-instance_method">
  <h3 class='signature priv'>
    #<strong>combine_or</strong>(left, right)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Shortcut for combining two procs into one that returns true if either returns true.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L101-L103'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='101' data-end='103'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 101</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_combine_or'>combine_or</span>(<span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='id identifier rubyid_right'>right</span>)
  <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_other'>other</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_left'>left</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_other'>other</span>) <span class='op'>||</span> <span class='id identifier rubyid_right'>right</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_other'>other</span>) }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile-instance_method">
  <h3 class='signature '>
    #<strong>compile</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compile the query into a callable object that can be used to match against nodes.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L70-L73'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='70' data-end='73'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 70</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile'>compile</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><a href="../Prism.html" title="Prism (module)">Prism</a></span>.<span class='id identifier rubyid_parse'><a href="../Prism.html#parse-class_method" title="Prism.parse (method)">parse</a></span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>case nil\nin </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'><a href="#query-instance_method" title="Prism::Pattern#query (method)">query</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>\nend</span><span class='tstring_end'>&quot;</span></span>)
  <span class='id identifier rubyid_compile_node'><a href="#compile_node-instance_method" title="Prism::Pattern#compile_node (method)">compile_node</a></span>(<span class='id identifier rubyid_result'>result</span>.<span class='id identifier rubyid_value'>value</span>.<span class='id identifier rubyid_statements'>statements</span>.<span class='id identifier rubyid_body'>body</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_conditions'>conditions</span>.<span class='id identifier rubyid_last'>last</span>.<span class='id identifier rubyid_pattern'>pattern</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_alternation_pattern_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_alternation_pattern_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in foo | bar</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L136-L138'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='136' data-end='138'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 136</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_alternation_pattern_node'>compile_alternation_pattern_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_combine_or'><a href="#combine_or-instance_method" title="Prism::Pattern#combine_or (method)">combine_or</a></span>(<span class='id identifier rubyid_compile_node'><a href="#compile_node-instance_method" title="Prism::Pattern#compile_node (method)">compile_node</a></span>(<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_left'>left</span>)<span class='comma'>,</span> <span class='id identifier rubyid_compile_node'><a href="#compile_node-instance_method" title="Prism::Pattern#compile_node (method)">compile_node</a></span>(<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_right'>right</span>))
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_array_pattern_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_array_pattern_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in [foo, bar, baz]</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L111-L133'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='111' data-end='133'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 111</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_array_pattern_node'>compile_array_pattern_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_compile_error'><a href="#compile_error-instance_method" title="Prism::Pattern#compile_error (method)">compile_error</a></span>(<span class='id identifier rubyid_node'>node</span>) <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_rest'>rest</span>.<span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_posts'>posts</span>.<span class='id identifier rubyid_any?'>any?</span>

  <span class='id identifier rubyid_constant'>constant</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_constant'>constant</span>
  <span class='id identifier rubyid_compiled_constant'>compiled_constant</span> <span class='op'>=</span> <span class='id identifier rubyid_compile_node'><a href="#compile_node-instance_method" title="Prism::Pattern#compile_node (method)">compile_node</a></span>(<span class='id identifier rubyid_constant'>constant</span>) <span class='kw'>if</span> <span class='id identifier rubyid_constant'>constant</span>

  <span class='id identifier rubyid_preprocessed'>preprocessed</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_requireds'>requireds</span>.<span class='id identifier rubyid_map'>map</span> { <span class='op'>|</span><span class='id identifier rubyid_required'>required</span><span class='op'>|</span> <span class='id identifier rubyid_compile_node'><a href="#compile_node-instance_method" title="Prism::Pattern#compile_node (method)">compile_node</a></span>(<span class='id identifier rubyid_required'>required</span>) }

  <span class='id identifier rubyid_compiled_requireds'>compiled_requireds</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_other'>other</span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_deconstructed'>deconstructed</span> <span class='op'>=</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_deconstruct'>deconstruct</span>

    <span class='id identifier rubyid_deconstructed'>deconstructed</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='id identifier rubyid_preprocessed'>preprocessed</span>.<span class='id identifier rubyid_length'>length</span> <span class='op'>&amp;&amp;</span>
      <span class='id identifier rubyid_preprocessed'>preprocessed</span>
        .<span class='id identifier rubyid_zip'>zip</span>(<span class='id identifier rubyid_deconstructed'>deconstructed</span>)
        .<span class='id identifier rubyid_all?'>all?</span> { <span class='op'>|</span>(<span class='id identifier rubyid_matcher'>matcher</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>)<span class='op'>|</span> <span class='id identifier rubyid_matcher'>matcher</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_value'>value</span>) }
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_compiled_constant'>compiled_constant</span>
    <span class='id identifier rubyid_combine_and'><a href="#combine_and-instance_method" title="Prism::Pattern#combine_and (method)">combine_and</a></span>(<span class='id identifier rubyid_compiled_constant'>compiled_constant</span><span class='comma'>,</span> <span class='id identifier rubyid_compiled_requireds'>compiled_requireds</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_compiled_requireds'>compiled_requireds</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_constant_path_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_constant_path_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in <a href="ConstantReadNode.html" title="Prism::ConstantReadNode (class)"><code>ConstantReadNode</code></a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L141-L149'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='141' data-end='149'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 141</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_constant_path_node'>compile_constant_path_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_parent'>parent</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_parent'>parent</span>.<span class='id identifier rubyid_is_a?'>is_a?</span>(<span class='const'><a href="ConstantReadNode.html" title="Prism::ConstantReadNode (class)">ConstantReadNode</a></span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_parent'>parent</span>.<span class='id identifier rubyid_slice'>slice</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prism</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_compile_node'><a href="#compile_node-instance_method" title="Prism::Pattern#compile_node (method)">compile_node</a></span>(<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_child'>child</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_compile_error'><a href="#compile_error-instance_method" title="Prism::Pattern#compile_error (method)">compile_error</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_constant_read_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_constant_read_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in <a href="ConstantReadNode.html" title="Prism::ConstantReadNode (class)"><code>ConstantReadNode</code></a> in String</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L153-L167'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='153' data-end='167'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 153</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_constant_read_node'>compile_constant_read_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_slice'>slice</span>

  <span class='kw'>if</span> <span class='const'><a href="../Prism.html" title="Prism (module)">Prism</a></span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='kw'>false</span>)
    <span class='id identifier rubyid_clazz'>clazz</span> <span class='op'>=</span> <span class='const'><a href="../Prism.html" title="Prism (module)">Prism</a></span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_value'>value</span>)

    <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_other'>other</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_clazz'>clazz</span> <span class='op'>===</span> <span class='id identifier rubyid_other'>other</span> }
  <span class='kw'>elsif</span> <span class='const'>Object</span>.<span class='id identifier rubyid_const_defined?'>const_defined?</span>(<span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='kw'>false</span>)
    <span class='id identifier rubyid_clazz'>clazz</span> <span class='op'>=</span> <span class='const'>Object</span>.<span class='id identifier rubyid_const_get'>const_get</span>(<span class='id identifier rubyid_value'>value</span>)

    <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_other'>other</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_clazz'>clazz</span> <span class='op'>===</span> <span class='id identifier rubyid_other'>other</span> }
  <span class='kw'>else</span>
    <span class='id identifier rubyid_compile_error'><a href="#compile_error-instance_method" title="Prism::Pattern#compile_error (method)">compile_error</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_error-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_error</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Raise an error because the given node is not supported.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Raises:</p>
<ul class='raise'>
  <li>
    <span class='type'>(<a href="Pattern/CompilationError.html" title="Prism::Pattern::CompilationError (class)">CompilationError</a>)</span>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L106-L108'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='106' data-end='108'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 106</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_error'>compile_error</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><a href="Pattern/CompilationError.html" title="Prism::Pattern::CompilationError (class)">CompilationError</a></span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_inspect'>inspect</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_hash_pattern_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_hash_pattern_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in InstanceVariableReadNode[name: Symbol] in { name: Symbol }</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L171-L193'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='171' data-end='193'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 171</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_hash_pattern_node'>compile_hash_pattern_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_compile_error'><a href="#compile_error-instance_method" title="Prism::Pattern#compile_error (method)">compile_error</a></span>(<span class='id identifier rubyid_node'>node</span>) <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_rest'>rest</span>
  <span class='id identifier rubyid_compiled_constant'>compiled_constant</span> <span class='op'>=</span> <span class='id identifier rubyid_compile_node'><a href="#compile_node-instance_method" title="Prism::Pattern#compile_node (method)">compile_node</a></span>(<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_constant'>constant</span>) <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_constant'>constant</span>

  <span class='id identifier rubyid_preprocessed'>preprocessed</span> <span class='op'>=</span>
    <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_elements'>elements</span>.<span class='id identifier rubyid_to_h'>to_h</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
      [<span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_unescaped'>unescaped</span>.<span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='id identifier rubyid_compile_node'><a href="#compile_node-instance_method" title="Prism::Pattern#compile_node (method)">compile_node</a></span>(<span class='id identifier rubyid_element'>element</span>.<span class='id identifier rubyid_value'>value</span>)]
    <span class='kw'>end</span>

  <span class='id identifier rubyid_compiled_keywords'>compiled_keywords</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_other'>other</span>) <span class='kw'>do</span>
    <span class='id identifier rubyid_deconstructed'>deconstructed</span> <span class='op'>=</span> <span class='id identifier rubyid_other'>other</span>.<span class='id identifier rubyid_deconstruct_keys'>deconstruct_keys</span>(<span class='id identifier rubyid_preprocessed'>preprocessed</span>.<span class='id identifier rubyid_keys'>keys</span>)

    <span class='id identifier rubyid_preprocessed'>preprocessed</span>.<span class='id identifier rubyid_all?'>all?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keyword'>keyword</span><span class='comma'>,</span> <span class='id identifier rubyid_matcher'>matcher</span><span class='op'>|</span>
      <span class='id identifier rubyid_deconstructed'>deconstructed</span>.<span class='id identifier rubyid_key?'>key?</span>(<span class='id identifier rubyid_keyword'>keyword</span>) <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_matcher'>matcher</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_deconstructed'>deconstructed</span>[<span class='id identifier rubyid_keyword'>keyword</span>])
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_compiled_constant'>compiled_constant</span>
    <span class='id identifier rubyid_combine_and'><a href="#combine_and-instance_method" title="Prism::Pattern#combine_and (method)">combine_and</a></span>(<span class='id identifier rubyid_compiled_constant'>compiled_constant</span><span class='comma'>,</span> <span class='id identifier rubyid_compiled_keywords'>compiled_keywords</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_compiled_keywords'>compiled_keywords</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_nil_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_nil_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in nil</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L196-L198'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='196' data-end='198'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 196</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_nil_node'>compile_nil_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_attribute'>attribute</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_attribute'>attribute</span>.<span class='id identifier rubyid_nil?'>nil?</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Compile any kind of node. Dispatch out to the individual compilation methods based on the type of node.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L225-L248'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='225' data-end='248'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 225</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_node'>compile_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_node'>node</span>
  <span class='kw'>when</span> <span class='const'>AlternationPatternNode</span>
    <span class='id identifier rubyid_compile_alternation_pattern_node'><a href="#compile_alternation_pattern_node-instance_method" title="Prism::Pattern#compile_alternation_pattern_node (method)">compile_alternation_pattern_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>when</span> <span class='const'>ArrayPatternNode</span>
    <span class='id identifier rubyid_compile_array_pattern_node'><a href="#compile_array_pattern_node-instance_method" title="Prism::Pattern#compile_array_pattern_node (method)">compile_array_pattern_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>when</span> <span class='const'><a href="ConstantPathNode.html" title="Prism::ConstantPathNode (class)">ConstantPathNode</a></span>
    <span class='id identifier rubyid_compile_constant_path_node'><a href="#compile_constant_path_node-instance_method" title="Prism::Pattern#compile_constant_path_node (method)">compile_constant_path_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>when</span> <span class='const'><a href="ConstantReadNode.html" title="Prism::ConstantReadNode (class)">ConstantReadNode</a></span>
    <span class='id identifier rubyid_compile_constant_read_node'><a href="#compile_constant_read_node-instance_method" title="Prism::Pattern#compile_constant_read_node (method)">compile_constant_read_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>when</span> <span class='const'>HashPatternNode</span>
    <span class='id identifier rubyid_compile_hash_pattern_node'><a href="#compile_hash_pattern_node-instance_method" title="Prism::Pattern#compile_hash_pattern_node (method)">compile_hash_pattern_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>when</span> <span class='const'>NilNode</span>
    <span class='id identifier rubyid_compile_nil_node'><a href="#compile_nil_node-instance_method" title="Prism::Pattern#compile_nil_node (method)">compile_nil_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>when</span> <span class='const'><a href="RegularExpressionNode.html" title="Prism::RegularExpressionNode (class)">RegularExpressionNode</a></span>
    <span class='id identifier rubyid_compile_regular_expression_node'><a href="#compile_regular_expression_node-instance_method" title="Prism::Pattern#compile_regular_expression_node (method)">compile_regular_expression_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>when</span> <span class='const'><a href="StringNode.html" title="Prism::StringNode (class)">StringNode</a></span>
    <span class='id identifier rubyid_compile_string_node'><a href="#compile_string_node-instance_method" title="Prism::Pattern#compile_string_node (method)">compile_string_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>when</span> <span class='const'>SymbolNode</span>
    <span class='id identifier rubyid_compile_symbol_node'><a href="#compile_symbol_node-instance_method" title="Prism::Pattern#compile_symbol_node (method)">compile_symbol_node</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>else</span>
    <span class='id identifier rubyid_compile_error'><a href="#compile_error-instance_method" title="Prism::Pattern#compile_error (method)">compile_error</a></span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_regular_expression_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_regular_expression_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in /foo/</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L201-L205'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='201' data-end='205'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 201</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_regular_expression_node'>compile_regular_expression_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>=</span> <span class='const'>Regexp</span>.<span class='id identifier rubyid_new'><a href="#new-class_method" title="Prism::Pattern.new (method)">new</a></span>(<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_unescaped'>unescaped</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_closing'>closing</span>[<span class='int'>1</span><span class='op'>..</span>])

  <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_attribute'>attribute</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>===</span> <span class='id identifier rubyid_attribute'>attribute</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_string_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_string_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in “” in “foo”</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L209-L213'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='209' data-end='213'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 209</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_string_node'>compile_string_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_unescaped'>unescaped</span>

  <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_attribute'>attribute</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>===</span> <span class='id identifier rubyid_attribute'>attribute</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="compile_symbol_node-instance_method">
  <h3 class='signature priv'>
    #<strong>compile_symbol_node</strong>(node)   <span class="extras">(<span class='priv'>private</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>in :+ in <code>:foo</code></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L217-L221'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='217' data-end='221'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 217</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_compile_symbol_node'>compile_symbol_node</span>(<span class='id identifier rubyid_node'>node</span>)
  <span class='id identifier rubyid_symbol'>symbol</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_unescaped'>unescaped</span>.<span class='id identifier rubyid_to_sym'>to_sym</span>

  <span class='tlambda'>-&gt;</span>(<span class='id identifier rubyid_attribute'>attribute</span>) <span class='tlambeg'>{</span> <span class='id identifier rubyid_symbol'>symbol</span> <span class='op'>===</span> <span class='id identifier rubyid_attribute'>attribute</span> }
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="scan-instance_method">
  <h3 class='signature '>
    #<strong>scan</strong>(root)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Scan the given node and all of its children for nodes that match the pattern. If a block is given, it will be called with each node that matches the pattern. If no block is given, an enumerator will be returned that will yield each node that matches the pattern.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/ruby/ruby/blob/v3_3_9/lib/prism/pattern.rb#L79-L89'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='79' data-end='89'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/prism/pattern.rb', line 79</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_scan'>scan</span>(<span class='id identifier rubyid_root'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>)
  <span class='kw'>return</span> <span class='id identifier rubyid_to_enum'>to_enum</span>(<span class='id identifier rubyid___method__'>__method__</span><span class='comma'>,</span> <span class='id identifier rubyid_root'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>) <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='ivar'>@compiled</span> <span class='op'>||=</span> <span class='id identifier rubyid_compile'><a href="#compile-instance_method" title="Prism::Pattern#compile (method)">compile</a></span>
  <span class='id identifier rubyid_queue'>queue</span> <span class='op'>=</span> [<span class='id identifier rubyid_root'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span>]

  <span class='kw'>while</span> (<span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='id identifier rubyid_queue'>queue</span>.<span class='id identifier rubyid_shift'>shift</span>)
    <span class='kw'>yield</span> <span class='id identifier rubyid_node'>node</span> <span class='kw'>if</span> <span class='ivar'>@compiled</span>.<span class='id identifier rubyid_call'>call</span>(<span class='id identifier rubyid_node'>node</span>)
    <span class='id identifier rubyid_queue'>queue</span>.<span class='id identifier rubyid_concat'>concat</span>(<span class='id identifier rubyid_node'>node</span>.<span class='id identifier rubyid_compact_child_nodes'>compact_child_nodes</span>)
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>